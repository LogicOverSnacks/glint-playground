"use strict";var vI=Object.defineProperty,wI=(Be,Me,m)=>Me in Be?vI(Be,Me,{enumerable:!0,configurable:!0,writable:!0,value:m}):Be[Me]=m,Uo=(Be,Me,m)=>(wI(Be,"symbol"!=typeof Me?Me+"":Me,m),m);(self.webpackChunkgit_glint=self.webpackChunkgit_glint||[]).push([[5909],{47306:(Be,Me,m)=>{m.r(Me),m.d(Me,{PixelRatio:()=>O,getZoomFactor:()=>F,isFirefox:()=>S,isWebKit:()=>C,isChrome:()=>b,isSafari:()=>L,isWebkitWebView:()=>f,isElectron:()=>N,isAndroid:()=>z,isStandalone:()=>D});var M=m(71040),g=m(40189);class Y{constructor(){this._zoomFactor=1}getZoomFactor(){return this._zoomFactor}}Y.INSTANCE=new Y;class B extends g.JT{constructor(){super(),this._onDidChange=this._register(new M.Q5),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(!0),this._mediaQueryList=null,this._handleChange(!1)}_handleChange(Z){this._mediaQueryList&&this._mediaQueryList.removeEventListener("change",this._listener),this._mediaQueryList=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),Z&&this._onDidChange.fire()}}class E extends g.JT{constructor(){super(),this._onDidChange=this._register(new M.Q5),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio();const Z=this._register(new B);this._register(Z.onDidChange(()=>{this._value=this._getPixelRatio(),this._onDidChange.fire(this._value)}))}get value(){return this._value}_getPixelRatio(){const Z=document.createElement("canvas").getContext("2d");return(window.devicePixelRatio||1)/(Z.webkitBackingStorePixelRatio||Z.mozBackingStorePixelRatio||Z.msBackingStorePixelRatio||Z.oBackingStorePixelRatio||Z.backingStorePixelRatio||1)}}const O=new class{constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=new E),this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}};function F(){return Y.INSTANCE.getZoomFactor()}const T=navigator.userAgent,S=T.indexOf("Firefox")>=0,C=T.indexOf("AppleWebKit")>=0,b=T.indexOf("Chrome")>=0,L=!b&&T.indexOf("Safari")>=0,f=!b&&!L&&C,N=T.indexOf("Electron/")>=0,z=T.indexOf("Android")>=0,D=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches},96721:(Be,Me,m)=>{m.d(Me,{D:()=>Y});var M=m(47306),g=m(70700);const Y={clipboard:{writeText:g.tY||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:g.tY||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:g.tY||M.isStandalone?0:navigator.keyboard||M.isSafari?1:2,touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}},34122:(Be,Me,m)=>{m.d(Me,{go:()=>g,TN:()=>Y,P$:()=>B});const g={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:m(48343).v.text,TERMINALS:"Terminals"};class Y{constructor(i){this.data=i}update(){}getData(){return this.data}}const B={CurrentDragAndDropData:void 0}},86678:(Be,Me,m)=>{m.d(Me,{PO:()=>C,Uw:()=>b,nm:()=>f,mu:()=>D,GQ:()=>I,u0:()=>P,q6:()=>k,j_:()=>$,RE:()=>j,IC:()=>G,lI:()=>fe,jL:()=>pe,Y_:()=>le,Dx:()=>ee,D6:()=>X,Ro:()=>ce,xQ:()=>ve,dp:()=>ke,i:()=>Ve,DI:()=>Ue,w:()=>ue,FK:()=>_e,If:()=>Re,wn:()=>et,jg:()=>Ze,Fx:()=>Pe,uU:()=>rt,OO:()=>nt,Ay:()=>Se,vY:()=>Ne,dS:()=>at,fk:()=>mt,uN:()=>Rt,Re:()=>Bt,tw:()=>Wt,zB:()=>fn,vL:()=>Ye,_0:()=>Dt,go:()=>un,R3:()=>Ln,Ce:()=>sn,mc:()=>hn,$:()=>Ei,$Z:()=>Yt,Cp:()=>He,H$:()=>$e,Uh:()=>qt,V3:()=>mn,jt:()=>ni,wY:()=>fi,_h:()=>wi,_q:()=>Bi,uB:()=>yi});var M=m(47306),g=m(96721),Y=m(714),B=m(2886),E=m(89983),i=m(13226),O=m(71040),F=m(40189),T=m(98318),S=m(70700);function C(yt){for(;yt.firstChild;)yt.firstChild.remove()}function b(yt){var Lt;return null!==(Lt=null==yt?void 0:yt.isConnected)&&void 0!==Lt&&Lt}class L{constructor(Lt,en,Vn,Ht){this._node=Lt,this._type=en,this._handler=Vn,this._options=Ht||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){!this._handler||(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function f(yt,Lt,en,Vn){return new L(yt,Lt,en,Vn)}function N(yt){return function(Lt){return yt(new B.n(Lt))}}let D=function(Lt,en,Vn,Ht){let Ae=Vn;return"click"===en||"mousedown"===en?Ae=N(Vn):("keydown"===en||"keypress"===en||"keyup"===en)&&(yt=Vn,Ae=function(Lt){return yt(new Y.y(Lt))}),f(Lt,en,Ae,Ht);var yt},I=function(Lt,en,Vn){return P(Lt,N(en),Vn)};function P(yt,Lt,en){return f(yt,S.gn&&g.D.pointerEvents?Wt.POINTER_DOWN:Wt.MOUSE_DOWN,Lt,en)}function k(yt,Lt,en){return f(yt,S.gn&&g.D.pointerEvents?Wt.POINTER_UP:Wt.MOUSE_UP,Lt,en)}function $(yt,Lt){return f(yt,"mouseout",en=>{let Vn=en.relatedTarget;for(;Vn&&Vn!==yt;)Vn=Vn.parentNode;Vn!==yt&&Lt(en)})}function j(yt,Lt){return f(yt,"pointerout",en=>{let Vn=en.relatedTarget;for(;Vn&&Vn!==yt;)Vn=Vn.parentNode;Vn!==yt&&Lt(en)})}function G(yt,Lt,en){let Vn=null;const Ht=Mt=>dt.fire(Mt),dt=new O.Q5({onFirstListenerAdd:()=>{Vn||(Vn=new L(yt,Lt,Ht,en))},onLastListenerRemove:()=>{Vn&&(Vn.dispose(),Vn=null)}});return dt}let fe,pe,oe=null;class we{constructor(Lt,en=0){this._runner=Lt,this.priority=en,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(Lt){(0,i.dL)(Lt)}}static sort(Lt,en){return en.priority-Lt.priority}}!function(){let yt=[],Lt=null,en=!1,Vn=!1,Ht=()=>{for(en=!1,Lt=yt,yt=[],Vn=!0;Lt.length>0;)Lt.sort(we.sort),Lt.shift().execute();Vn=!1};pe=(Ae,Xe=0)=>{let dt=new we(Ae,Xe);return yt.push(dt),en||(en=!0,function(yt){if(!oe){const Lt=en=>setTimeout(()=>en((new Date).getTime()),0);oe=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||Lt}oe.call(self,yt)}(Ht)),dt},fe=(Ae,Xe)=>{if(Vn){let dt=new we(Ae,Xe);return Lt.push(dt),dt}return pe(Ae,Xe)}}();const Q=function(yt,Lt){return Lt};class q extends F.JT{constructor(Lt,en,Vn,Ht=Q,Ae=8){super();let Xe=null,dt=0,Mt=this._register(new E._F),Vt=()=>{dt=(new Date).getTime(),Vn(Xe),Xe=null};this._register(f(Lt,en,jt=>{Xe=Ht(Xe,jt);let rn=(new Date).getTime()-dt;rn>=Ae?(Mt.cancel(),Vt()):Mt.setIfNotSet(Vt,Ae-rn)}))}}function le(yt,Lt,en,Vn,Ht){return new q(yt,Lt,en,Vn,Ht)}function ee(yt){return document.defaultView.getComputedStyle(yt,null)}function X(yt){if(yt!==document.body)return new ce(yt.clientWidth,yt.clientHeight);if(S.gn&&window.visualViewport)return new ce(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new ce(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new ce(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new ce(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}class re{static convertToPixels(Lt,en){return parseFloat(en)||0}static getDimension(Lt,en,Vn){let Ht=ee(Lt),Ae="0";return Ht&&(Ae=Ht.getPropertyValue?Ht.getPropertyValue(en):Ht.getAttribute(Vn)),re.convertToPixels(Lt,Ae)}static getBorderLeftWidth(Lt){return re.getDimension(Lt,"border-left-width","borderLeftWidth")}static getBorderRightWidth(Lt){return re.getDimension(Lt,"border-right-width","borderRightWidth")}static getBorderTopWidth(Lt){return re.getDimension(Lt,"border-top-width","borderTopWidth")}static getBorderBottomWidth(Lt){return re.getDimension(Lt,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(Lt){return re.getDimension(Lt,"padding-left","paddingLeft")}static getPaddingRight(Lt){return re.getDimension(Lt,"padding-right","paddingRight")}static getPaddingTop(Lt){return re.getDimension(Lt,"padding-top","paddingTop")}static getPaddingBottom(Lt){return re.getDimension(Lt,"padding-bottom","paddingBottom")}static getMarginLeft(Lt){return re.getDimension(Lt,"margin-left","marginLeft")}static getMarginTop(Lt){return re.getDimension(Lt,"margin-top","marginTop")}static getMarginRight(Lt){return re.getDimension(Lt,"margin-right","marginRight")}static getMarginBottom(Lt){return re.getDimension(Lt,"margin-bottom","marginBottom")}}class ce{constructor(Lt,en){this.width=Lt,this.height=en}with(Lt=this.width,en=this.height){return Lt!==this.width||en!==this.height?new ce(Lt,en):this}static is(Lt){return"object"==typeof Lt&&"number"==typeof Lt.height&&"number"==typeof Lt.width}static lift(Lt){return Lt instanceof ce?Lt:new ce(Lt.width,Lt.height)}static equals(Lt,en){return Lt===en||!(!Lt||!en)&&Lt.width===en.width&&Lt.height===en.height}}function ve(yt){let Lt=yt.offsetParent,en=yt.offsetTop,Vn=yt.offsetLeft;for(;null!==(yt=yt.parentNode)&&yt!==document.body&&yt!==document.documentElement;){en-=yt.scrollTop;const Ht=ut(yt)?null:ee(yt);Ht&&(Vn-="rtl"!==Ht.direction?yt.scrollLeft:-yt.scrollLeft),yt===Lt&&(Vn+=re.getBorderLeftWidth(yt),en+=re.getBorderTopWidth(yt),en+=yt.offsetTop,Vn+=yt.offsetLeft,Lt=yt.offsetParent)}return{left:Vn,top:en}}function ke(yt,Lt,en){"number"==typeof Lt&&(yt.style.width=`${Lt}px`),"number"==typeof en&&(yt.style.height=`${en}px`)}function Ve(yt){let Lt=yt.getBoundingClientRect();return{left:Lt.left+Ue.scrollX,top:Lt.top+Ue.scrollY,width:Lt.width,height:Lt.height}}ce.None=new ce(0,0);const Ue=new class{get scrollX(){return"number"==typeof window.scrollX?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return"number"==typeof window.scrollY?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function ue(yt){let Lt=re.getMarginLeft(yt)+re.getMarginRight(yt);return yt.offsetWidth+Lt}function _e(yt){let Lt=re.getBorderLeftWidth(yt)+re.getBorderRightWidth(yt),en=re.getPaddingLeft(yt)+re.getPaddingRight(yt);return yt.offsetWidth-Lt-en}function Re(yt){let Lt=re.getBorderTopWidth(yt)+re.getBorderBottomWidth(yt),en=re.getPaddingTop(yt)+re.getPaddingBottom(yt);return yt.offsetHeight-Lt-en}function et(yt){let Lt=re.getMarginTop(yt)+re.getMarginBottom(yt);return yt.offsetHeight+Lt}function Ze(yt,Lt){for(;yt;){if(yt===Lt)return!0;yt=yt.parentNode}return!1}function Pe(yt,Lt,en){for(;yt&&yt.nodeType===yt.ELEMENT_NODE;){if(yt.classList.contains(Lt))return yt;if(en)if("string"==typeof en){if(yt.classList.contains(en))return null}else if(yt===en)return null;yt=yt.parentNode}return null}function rt(yt,Lt,en){return!!Pe(yt,Lt,en)}function ut(yt){return yt&&!!yt.host&&!!yt.mode}function nt(yt){return!!Se(yt)}function Se(yt){for(;yt.parentNode;){if(yt===document.body)return null;yt=yt.parentNode}return ut(yt)?yt:null}function Ne(){let yt=document.activeElement;for(;null==yt?void 0:yt.shadowRoot;)yt=yt.shadowRoot.activeElement;return yt}function at(yt=document.getElementsByTagName("head")[0]){let Lt=document.createElement("style");return Lt.type="text/css",Lt.media="screen",yt.appendChild(Lt),Lt}let _t=null;function zt(){return _t||(_t=at()),_t}function mt(yt,Lt,en=zt()){!en||!Lt||en.sheet.insertRule(yt+"{"+Lt+"}",0)}function Rt(yt,Lt=zt()){if(!Lt)return;let en=function(yt){var Lt,en;return(null===(Lt=null==yt?void 0:yt.sheet)||void 0===Lt?void 0:Lt.rules)?yt.sheet.rules:(null===(en=null==yt?void 0:yt.sheet)||void 0===en?void 0:en.cssRules)?yt.sheet.cssRules:[]}(Lt),Vn=[];for(let Ht=0;Ht<en.length;Ht++)-1!==en[Ht].selectorText.indexOf(yt)&&Vn.push(Ht);for(let Ht=Vn.length-1;Ht>=0;Ht--)Lt.sheet.deleteRule(Vn[Ht])}function Bt(yt){return"object"==typeof HTMLElement?yt instanceof HTMLElement:yt&&"object"==typeof yt&&1===yt.nodeType&&"string"==typeof yt.nodeName}const Wt={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:M.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:M.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:M.isWebKit?"webkitAnimationIteration":"animationiteration"},fn={stop:function(yt,Lt){yt.preventDefault?yt.preventDefault():yt.returnValue=!1,Lt&&(yt.stopPropagation?yt.stopPropagation():yt.cancelBubble=!0)}};function Ye(yt){let Lt=[];for(let en=0;yt&&yt.nodeType===yt.ELEMENT_NODE;en++)Lt[en]=yt.scrollTop,yt=yt.parentNode;return Lt}function Dt(yt,Lt){for(let en=0;yt&&yt.nodeType===yt.ELEMENT_NODE;en++)yt.scrollTop!==Lt[en]&&(yt.scrollTop=Lt[en]),yt=yt.parentNode}class St extends F.JT{constructor(Lt){super(),this._onDidFocus=this._register(new O.Q5),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new O.Q5),this.onDidBlur=this._onDidBlur.event;let en=St.hasFocusWithin(Lt),Vn=!1;const Ht=()=>{Vn=!1,en||(en=!0,this._onDidFocus.fire())},Ae=()=>{en&&(Vn=!0,window.setTimeout(()=>{Vn&&(Vn=!1,en=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{St.hasFocusWithin(Lt)!==en&&(en?Ae():Ht())},this._register(f(Lt,Wt.FOCUS,Ht,!0)),this._register(f(Lt,Wt.BLUR,Ae,!0)),this._register(f(Lt,Wt.FOCUS_IN,()=>this._refreshStateHandler())),this._register(f(Lt,Wt.FOCUS_OUT,()=>this._refreshStateHandler()))}static hasFocusWithin(Lt){const en=Se(Lt);return Ze(en?en.activeElement:document.activeElement,Lt)}}function un(yt){return new St(yt)}function Ln(yt,...Lt){if(yt.append(...Lt),1===Lt.length&&"string"!=typeof Lt[0])return Lt[0]}function sn(yt,Lt){return yt.insertBefore(Lt,yt.firstChild),Lt}function hn(yt,...Lt){yt.innerText="",Ln(yt,...Lt)}const _n=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var cn=(()=>{return(yt=cn||(cn={})).HTML="http://www.w3.org/1999/xhtml",yt.SVG="http://www.w3.org/2000/svg",cn;var yt})();function At(yt,Lt,en,...Vn){let Ht=_n.exec(Lt);if(!Ht)throw new Error("Bad use of emmet");en=Object.assign({},en||{});let Xe,Ae=Ht[1]||"div";return Xe=yt!==cn.HTML?document.createElementNS(yt,Ae):document.createElement(Ae),Ht[3]&&(Xe.id=Ht[3]),Ht[4]&&(Xe.className=Ht[4].replace(/\./g," ").trim()),Object.keys(en).forEach(dt=>{const Mt=en[dt];void 0!==Mt&&(/^on\w+$/.test(dt)?Xe[dt]=Mt:"selected"===dt?Mt&&Xe.setAttribute(dt,"true"):Xe.setAttribute(dt,Mt))}),Xe.append(...Vn),Xe}function Ei(yt,Lt,...en){return At(cn.HTML,yt,Lt,...en)}function Yt(...yt){for(let Lt of yt)Lt.style.display="",Lt.removeAttribute("aria-hidden")}function He(...yt){for(let Lt of yt)Lt.style.display="none",Lt.setAttribute("aria-hidden","true")}function $e(yt){return Array.prototype.slice.call(document.getElementsByTagName(yt),0)}function qt(yt){const Lt=window.devicePixelRatio*yt;return Math.max(1,Math.floor(Lt))/window.devicePixelRatio}function mn(yt){window.open(yt,"_blank","noopener")}function ni(yt){const Lt=()=>{yt(),en=pe(Lt)};let en=pe(Lt);return(0,F.OF)(()=>en.dispose())}function fi(yt){return yt?`url('${T.Gi.asBrowserUri(yt).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function wi(yt){return`'${yt.replace(/'/g,"%27")}'`}Ei.SVG=function(yt,Lt,...en){return At(cn.SVG,yt,Lt,...en)},T.WX.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");class Bi extends O.Q5{constructor(){super(),this._subscriptions=new F.SL,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(f(window,"keydown",Lt=>{if(Lt.defaultPrevented)return;const en=new Y.y(Lt);if(6!==en.keyCode||!Lt.repeat){if(Lt.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(Lt.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(Lt.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(Lt.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else{if(6===en.keyCode)return;this._keyStatus.lastKeyPressed=void 0}this._keyStatus.altKey=Lt.altKey,this._keyStatus.ctrlKey=Lt.ctrlKey,this._keyStatus.metaKey=Lt.metaKey,this._keyStatus.shiftKey=Lt.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=Lt,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(f(window,"keyup",Lt=>{Lt.defaultPrevented||(this._keyStatus.lastKeyReleased=!Lt.altKey&&this._keyStatus.altKey?"alt":!Lt.ctrlKey&&this._keyStatus.ctrlKey?"ctrl":!Lt.metaKey&&this._keyStatus.metaKey?"meta":!Lt.shiftKey&&this._keyStatus.shiftKey?"shift":void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=Lt.altKey,this._keyStatus.ctrlKey=Lt.ctrlKey,this._keyStatus.metaKey=Lt.metaKey,this._keyStatus.shiftKey=Lt.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=Lt,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(f(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(f(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(f(document.body,"mousemove",Lt=>{Lt.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(f(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return Bi.instance||(Bi.instance=new Bi),Bi.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}function yi(yt,Lt){window.matchMedia(yt).addEventListener("change",Lt)}},71172:(Be,Me,m)=>{m.d(Me,{Y:()=>g,p:()=>Y});var M=m(71040);class g{constructor(E,i,O){const F=T=>this.emitter.fire(T);this.emitter=new M.Q5({onFirstListenerAdd:()=>E.addEventListener(i,F,O),onLastListenerRemove:()=>E.removeEventListener(i,F,O)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}}function Y(B){return B.preventDefault(),B.stopPropagation(),B}},81718:(Be,Me,m)=>{m.d(Me,{Z:()=>M,X:()=>g});class M{constructor(B){this.domNode=B,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._fontStyle="",this._fontFeatureSettings="",this._textDecoration="",this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(B){this._maxWidth!==B&&(this._maxWidth=B,this.domNode.style.maxWidth=this._maxWidth+"px")}setWidth(B){this._width!==B&&(this._width=B,this.domNode.style.width=this._width+"px")}setHeight(B){this._height!==B&&(this._height=B,this.domNode.style.height=this._height+"px")}setTop(B){this._top!==B&&(this._top=B,this.domNode.style.top=this._top+"px")}unsetTop(){-1!==this._top&&(this._top=-1,this.domNode.style.top="")}setLeft(B){this._left!==B&&(this._left=B,this.domNode.style.left=this._left+"px")}setBottom(B){this._bottom!==B&&(this._bottom=B,this.domNode.style.bottom=this._bottom+"px")}setRight(B){this._right!==B&&(this._right=B,this.domNode.style.right=this._right+"px")}setFontFamily(B){this._fontFamily!==B&&(this._fontFamily=B,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(B){this._fontWeight!==B&&(this._fontWeight=B,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(B){this._fontSize!==B&&(this._fontSize=B,this.domNode.style.fontSize=this._fontSize+"px")}setFontStyle(B){this._fontStyle!==B&&(this._fontStyle=B,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(B){this._fontFeatureSettings!==B&&(this._fontFeatureSettings=B,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setTextDecoration(B){this._textDecoration!==B&&(this._textDecoration=B,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(B){this._lineHeight!==B&&(this._lineHeight=B,this.domNode.style.lineHeight=this._lineHeight+"px")}setLetterSpacing(B){this._letterSpacing!==B&&(this._letterSpacing=B,this.domNode.style.letterSpacing=this._letterSpacing+"px")}setClassName(B){this._className!==B&&(this._className=B,this.domNode.className=this._className)}toggleClassName(B,E){this.domNode.classList.toggle(B,E),this._className=this.domNode.className}setDisplay(B){this._display!==B&&(this._display=B,this.domNode.style.display=this._display)}setPosition(B){this._position!==B&&(this._position=B,this.domNode.style.position=this._position)}setVisibility(B){this._visibility!==B&&(this._visibility=B,this.domNode.style.visibility=this._visibility)}setColor(B){this._color!==B&&(this._color=B,this.domNode.style.color=this._color)}setBackgroundColor(B){this._backgroundColor!==B&&(this._backgroundColor=B,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(B){this._layerHint!==B&&(this._layerHint=B,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(B){this._boxShadow!==B&&(this._boxShadow=B,this.domNode.style.boxShadow=B)}setContain(B){this._contain!==B&&(this._contain=B,this.domNode.style.contain=this._contain)}setAttribute(B,E){this.domNode.setAttribute(B,E)}removeAttribute(B){this.domNode.removeAttribute(B)}appendChild(B){this.domNode.appendChild(B.domNode)}removeChild(B){this.domNode.removeChild(B.domNode)}}function g(Y){return new M(Y)}},25662:(Be,Me,m)=>{m.d(Me,{IY:()=>g,BO:()=>Y,az:()=>B});var M=m(86678);function g(S,C={}){const b=B(C);return b.textContent=S,b}function Y(S,C={}){const b=B(C);return i(b,function(S,C){const b={type:1,children:[]};let L=0,f=b;const N=[],z=new E(S);for(;!z.eos();){let D=z.next();const I="\\"===D&&0!==T(z.peek(),C);if(I&&(D=z.next()),!I&&F(D,C)&&D===z.peek()){z.advance(),2===f.type&&(f=N.pop());const Z=T(D,C);if(f.type===Z||5===f.type&&6===Z)f=N.pop();else{const P={type:Z,children:[]};5===Z&&(P.index=L,L++),f.children.push(P),N.push(f),f=P}}else if("\n"===D)2===f.type&&(f=N.pop()),f.children.push({type:8});else if(2!==f.type){const Z={type:2,content:D};f.children.push(Z),N.push(f),f=Z}else f.content+=D}return 2===f.type&&(f=N.pop()),b}(S,!!C.renderCodeSegments),C.actionHandler,C.renderCodeSegments),b}function B(S){const b=document.createElement(S.inline?"span":"div");return S.className&&(b.className=S.className),b}class E{constructor(C){this.source=C,this.index=0}eos(){return this.index>=this.source.length}next(){const C=this.peek();return this.advance(),C}peek(){return this.source[this.index]}advance(){this.index++}}function i(S,C,b,L){let f;if(2===C.type)f=document.createTextNode(C.content||"");else if(3===C.type)f=document.createElement("b");else if(4===C.type)f=document.createElement("i");else if(7===C.type&&L)f=document.createElement("code");else if(5===C.type&&b){const N=document.createElement("a");b.disposables.add(M.mu(N,"click",z=>{b.callback(String(C.index),z)})),f=N}else 8===C.type?f=document.createElement("br"):1===C.type&&(f=S);f&&S!==f&&S.appendChild(f),f&&Array.isArray(C.children)&&C.children.forEach(N=>{i(f,N,b,L)})}function F(S,C){return 0!==T(S,C)}function T(S,C){switch(S){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return C?7:0;default:return 0}}},8535:(Be,Me,m)=>{m.d(Me,{e:()=>i,Z:()=>O});var M=m(86678),g=m(20403),Y=m(2886),B=m(40189),E=m(70700);function i(F,T){let S=new Y.n(T);return S.preventDefault(),{leftButton:S.leftButton,buttons:S.buttons,posx:S.posx,posy:S.posy}}class O{constructor(){this._hooks=new B.SL,this._mouseMoveEventMerger=null,this._mouseMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(T,S){if(!this.isMonitoring())return;this._hooks.clear(),this._mouseMoveEventMerger=null,this._mouseMoveCallback=null;const C=this._onStopCallback;this._onStopCallback=null,T&&C&&C(S)}isMonitoring(){return!!this._mouseMoveEventMerger}startMonitoring(T,S,C,b,L){if(this.isMonitoring())return;this._mouseMoveEventMerger=C,this._mouseMoveCallback=b,this._onStopCallback=L;const f=g.E.getSameOriginWindowChain(),N=E.gn?"pointermove":"mousemove",D=f.map(Z=>Z.window.document),I=M.Ay(T);I&&D.unshift(I);for(const Z of D)this._hooks.add(M.Y_(Z,N,P=>{P.buttons===S?this._mouseMoveCallback(P):this.stopMonitoring(!0)},(P,k)=>this._mouseMoveEventMerger(P,k))),this._hooks.add(M.nm(Z,"mouseup",P=>this.stopMonitoring(!0)));if(g.E.hasDifferentOriginAncestor()){let Z=f[f.length-1];this._hooks.add(M.nm(Z.window.document,"mouseout",P=>{"html"===new Y.n(P).target.tagName.toLowerCase()&&this.stopMonitoring(!0)})),this._hooks.add(M.nm(Z.window.document,"mouseover",P=>{"html"===new Y.n(P).target.tagName.toLowerCase()&&this.stopMonitoring(!0)})),this._hooks.add(M.nm(Z.window.document.body,"mouseleave",P=>{this.stopMonitoring(!0)}))}}}},20403:(Be,Me,m)=>{m.d(Me,{E:()=>B});let M=!1,g=null;function Y(E){if(!E.parent||E.parent===E)return null;try{let i=E.location,O=E.parent.location;if("null"!==i.origin&&"null"!==O.origin&&i.origin!==O.origin)return M=!0,null}catch{return M=!0,null}return E.parent}class B{static getSameOriginWindowChain(){if(!g){g=[];let O,i=window;do{O=Y(i),g.push(O?{window:i,iframeElement:i.frameElement||null}:{window:i,iframeElement:null}),i=O}while(i)}return g.slice(0)}static hasDifferentOriginAncestor(){return g||this.getSameOriginWindowChain(),M}static getPositionOfChildWindowRelativeToAncestorWindow(i,O){if(!O||i===O)return{top:0,left:0};let F=0,T=0,S=this.getSameOriginWindowChain();for(const C of S){if(F+=C.window.scrollY,T+=C.window.scrollX,C.window===O||!C.iframeElement)break;let b=C.iframeElement.getBoundingClientRect();F+=b.top,T+=b.left}return{top:F,left:T}}}},714:(Be,Me,m)=>{m.d(Me,{y:()=>S});var M=m(47306),g=m(64073),Y=m(99315),B=m(70700);const i=B.dz?256:2048,T=B.dz?2048:256;class S{constructor(b){this._standardKeyboardEventBrand=!0;let L=b;this.browserEvent=L,this.target=L.target,this.ctrlKey=L.ctrlKey,this.shiftKey=L.shiftKey,this.altKey=L.altKey,this.metaKey=L.metaKey,this.keyCode=function(C){if(C.charCode){let L=String.fromCharCode(C.charCode).toUpperCase();return g.kL.fromString(L)}const b=C.keyCode;if(3===b)return 7;if(M.isFirefox){if(59===b)return 80;if(107===b)return 81;if(109===b)return 83;if(B.dz&&224===b)return 57}else if(M.isWebKit){if(91===b)return 57;if(B.dz&&93===b)return 57;if(!B.dz&&92===b)return 57}return g.H_[b]||0}(L),this.code=L.code,this.ctrlKey=this.ctrlKey||5===this.keyCode,this.altKey=this.altKey||6===this.keyCode,this.shiftKey=this.shiftKey||4===this.keyCode,this.metaKey=this.metaKey||57===this.keyCode,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(b){return this._asKeybinding===b}_computeKeybinding(){let b=0;5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(b=this.keyCode);let L=0;return this.ctrlKey&&(L|=i),this.altKey&&(L|=512),this.shiftKey&&(L|=1024),this.metaKey&&(L|=T),L|=b,L}_computeRuntimeKeybinding(){let b=0;return 5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(b=this.keyCode),new Y.QC(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,b)}}},2886:(Be,Me,m)=>{m.d(Me,{n:()=>B,q:()=>E});var M=m(47306),g=m(20403),Y=m(70700);class B{constructor(O){this.timestamp=Date.now(),this.browserEvent=O,this.leftButton=0===O.button,this.middleButton=1===O.button,this.rightButton=2===O.button,this.buttons=O.buttons,this.target=O.target,this.detail=O.detail||1,"dblclick"===O.type&&(this.detail=2),this.ctrlKey=O.ctrlKey,this.shiftKey=O.shiftKey,this.altKey=O.altKey,this.metaKey=O.metaKey,"number"==typeof O.pageX?(this.posx=O.pageX,this.posy=O.pageY):(this.posx=O.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=O.clientY+document.body.scrollTop+document.documentElement.scrollTop);let F=g.E.getPositionOfChildWindowRelativeToAncestorWindow(self,O.view);this.posx-=F.left,this.posy-=F.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class E{constructor(O,F=0,T=0){if(this.browserEvent=O||null,this.target=O?O.target||O.targetNode||O.srcElement:null,this.deltaY=T,this.deltaX=F,O){let S=O,C=O;void 0!==S.wheelDeltaY?this.deltaY=S.wheelDeltaY/120:void 0!==C.VERTICAL_AXIS&&C.axis===C.VERTICAL_AXIS?this.deltaY=-C.detail/3:"wheel"===O.type&&(this.deltaY=O.deltaMode===O.DOM_DELTA_LINE?M.isFirefox&&!Y.dz?-O.deltaY/3:-O.deltaY:-O.deltaY/40),void 0!==S.wheelDeltaX?this.deltaX=M.isSafari&&Y.ED?-S.wheelDeltaX/120:S.wheelDeltaX/120:void 0!==C.HORIZONTAL_AXIS&&C.axis===C.HORIZONTAL_AXIS?this.deltaX=-O.detail/3:"wheel"===O.type&&(this.deltaX=O.deltaMode===O.DOM_DELTA_LINE?M.isFirefox&&!Y.dz?-O.deltaX/3:-O.deltaX:-O.deltaX/40),0===this.deltaY&&0===this.deltaX&&O.wheelDelta&&(this.deltaY=O.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}},23945:(Be,Me,m)=>{m.d(Me,{t:()=>i,o:()=>O});var M=m(86678),g=m(89822),Y=m(94456),B=m(40189),i=(()=>{return(F=i||(i={})).Tap="-monaco-gesturetap",F.Change="-monaco-gesturechange",F.Start="-monaco-gesturestart",F.End="-monaco-gesturesend",F.Contextmenu="-monaco-gesturecontextmenu",i;var F})();class O extends B.JT{constructor(){super(),this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(M.nm(document,"touchstart",T=>this.onTouchStart(T),{passive:!1})),this._register(M.nm(document,"touchend",T=>this.onTouchEnd(T))),this._register(M.nm(document,"touchmove",T=>this.onTouchMove(T),{passive:!1}))}static addTarget(T){return O.isTouchDevice()?(O.INSTANCE||(O.INSTANCE=new O),O.INSTANCE.targets.push(T),{dispose:()=>{O.INSTANCE.targets=O.INSTANCE.targets.filter(S=>S!==T)}}):B.JT.None}static ignoreTarget(T){return O.isTouchDevice()?(O.INSTANCE||(O.INSTANCE=new O),O.INSTANCE.ignoreTargets.push(T),{dispose:()=>{O.INSTANCE.ignoreTargets=O.INSTANCE.ignoreTargets.filter(S=>S!==T)}}):B.JT.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(T){let S=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let C=0,b=T.targetTouches.length;C<b;C++){let L=T.targetTouches.item(C);this.activeTouches[L.identifier]={id:L.identifier,initialTarget:L.target,initialTimeStamp:S,initialPageX:L.pageX,initialPageY:L.pageY,rollingTimestamps:[S],rollingPageX:[L.pageX],rollingPageY:[L.pageY]};let f=this.newGestureEvent(i.Start,L.target);f.pageX=L.pageX,f.pageY=L.pageY,this.dispatchEvent(f)}this.dispatched&&(T.preventDefault(),T.stopPropagation(),this.dispatched=!1)}onTouchEnd(T){let S=Date.now(),C=Object.keys(this.activeTouches).length;for(let b=0,L=T.changedTouches.length;b<L;b++){let f=T.changedTouches.item(b);if(!this.activeTouches.hasOwnProperty(String(f.identifier))){console.warn("move of an UNKNOWN touch",f);continue}let N=this.activeTouches[f.identifier],z=Date.now()-N.initialTimeStamp;if(z<O.HOLD_DELAY&&Math.abs(N.initialPageX-g.Gb(N.rollingPageX))<30&&Math.abs(N.initialPageY-g.Gb(N.rollingPageY))<30){let D=this.newGestureEvent(i.Tap,N.initialTarget);D.pageX=g.Gb(N.rollingPageX),D.pageY=g.Gb(N.rollingPageY),this.dispatchEvent(D)}else if(z>=O.HOLD_DELAY&&Math.abs(N.initialPageX-g.Gb(N.rollingPageX))<30&&Math.abs(N.initialPageY-g.Gb(N.rollingPageY))<30){let D=this.newGestureEvent(i.Contextmenu,N.initialTarget);D.pageX=g.Gb(N.rollingPageX),D.pageY=g.Gb(N.rollingPageY),this.dispatchEvent(D)}else if(1===C){let D=g.Gb(N.rollingPageX),I=g.Gb(N.rollingPageY),Z=g.Gb(N.rollingTimestamps)-N.rollingTimestamps[0],P=D-N.rollingPageX[0],k=I-N.rollingPageY[0];const $=this.targets.filter(j=>N.initialTarget instanceof Node&&j.contains(N.initialTarget));this.inertia($,S,Math.abs(P)/Z,P>0?1:-1,D,Math.abs(k)/Z,k>0?1:-1,I)}this.dispatchEvent(this.newGestureEvent(i.End,N.initialTarget)),delete this.activeTouches[f.identifier]}this.dispatched&&(T.preventDefault(),T.stopPropagation(),this.dispatched=!1)}newGestureEvent(T,S){let C=document.createEvent("CustomEvent");return C.initEvent(T,!1,!0),C.initialTarget=S,C.tapCount=0,C}dispatchEvent(T){if(T.type===i.Tap){const S=(new Date).getTime();let C=0;C=S-this._lastSetTapCountTime>O.CLEAR_TAP_COUNT_TIME?1:2,this._lastSetTapCountTime=S,T.tapCount=C}else(T.type===i.Change||T.type===i.Contextmenu)&&(this._lastSetTapCountTime=0);for(let S=0;S<this.ignoreTargets.length;S++)if(T.initialTarget instanceof Node&&this.ignoreTargets[S].contains(T.initialTarget))return;this.targets.forEach(S=>{T.initialTarget instanceof Node&&S.contains(T.initialTarget)&&(S.dispatchEvent(T),this.dispatched=!0)})}inertia(T,S,C,b,L,f,N,z){this.handle=M.jL(()=>{let D=Date.now(),I=D-S,Z=0,P=0,k=!0;(C+=O.SCROLL_FRICTION*I)>0&&(k=!1,Z=b*C*I),(f+=O.SCROLL_FRICTION*I)>0&&(k=!1,P=N*f*I);let $=this.newGestureEvent(i.Change);$.translationX=Z,$.translationY=P,T.forEach(j=>j.dispatchEvent($)),k||this.inertia(T,D,C,b,L+Z,f,N,z+P)})}onTouchMove(T){let S=Date.now();for(let C=0,b=T.changedTouches.length;C<b;C++){let L=T.changedTouches.item(C);if(!this.activeTouches.hasOwnProperty(String(L.identifier))){console.warn("end of an UNKNOWN touch",L);continue}let f=this.activeTouches[L.identifier],N=this.newGestureEvent(i.Change,f.initialTarget);N.translationX=L.pageX-g.Gb(f.rollingPageX),N.translationY=L.pageY-g.Gb(f.rollingPageY),N.pageX=L.pageX,N.pageY=L.pageY,this.dispatchEvent(N),f.rollingPageX.length>3&&(f.rollingPageX.shift(),f.rollingPageY.shift(),f.rollingTimestamps.shift()),f.rollingPageX.push(L.pageX),f.rollingPageY.push(L.pageY),f.rollingTimestamps.push(S)}this.dispatched&&(T.preventDefault(),T.stopPropagation(),this.dispatched=!1)}}O.SCROLL_FRICTION=-.005,O.HOLD_DELAY=700,O.CLEAR_TAP_COUNT_TIME=400,function(F,T,S,C){var f,b=arguments.length,L=b<3?T:null===C?C=Object.getOwnPropertyDescriptor(T,S):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)L=Reflect.decorate(F,T,S,C);else for(var N=F.length-1;N>=0;N--)(f=F[N])&&(L=(b<3?f(L):b>3?f(T,S,L):f(T,S))||L);b>3&&L&&Object.defineProperty(T,S,L)}([Y.H],O,"isTouchDevice",null)},48727:(Be,Me,m)=>{m.d(Me,{Y:()=>C,g:()=>b});var M=m(47306),g=m(34122),Y=m(86678),B=m(23945),E=m(50955),i=m(40189),O=m(70700),F=m(99770),S=(m(22250),m(12918));class C extends i.JT{constructor(f,N,z={}){super(),this.options=z,this._context=f||this,this._action=N,N instanceof E.aU&&this._register(N.onDidChange(D=>{!this.element||this.handleActionChangeEvent(D)}))}handleActionChangeEvent(f){void 0!==f.enabled&&this.updateEnabled(),void 0!==f.checked&&this.updateChecked(),void 0!==f.class&&this.updateClass(),void 0!==f.label&&(this.updateLabel(),this.updateTooltip()),void 0!==f.tooltip&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new E.Wi)),this._actionRunner}set actionRunner(f){this._actionRunner=f}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(f){this._context=f}render(f){const N=this.element=f;this._register(B.o.addTarget(f));const z=this.options&&this.options.draggable;z&&(f.draggable=!0,M.isFirefox&&this._register((0,Y.nm)(f,Y.tw.DRAG_START,D=>{var I;return null===(I=D.dataTransfer)||void 0===I?void 0:I.setData(g.go.TEXT,this._action.label)}))),this._register((0,Y.nm)(N,B.t.Tap,D=>this.onClick(D,!0))),this._register((0,Y.nm)(N,Y.tw.MOUSE_DOWN,D=>{z||Y.zB.stop(D,!0),this._action.enabled&&0===D.button&&N.classList.add("active")})),O.dz&&this._register((0,Y.nm)(N,Y.tw.CONTEXT_MENU,D=>{0===D.button&&!0===D.ctrlKey&&this.onClick(D)})),this._register((0,Y.nm)(N,Y.tw.CLICK,D=>{Y.zB.stop(D,!0),this.options&&this.options.isMenu||this.onClick(D)})),this._register((0,Y.nm)(N,Y.tw.DBLCLICK,D=>{Y.zB.stop(D,!0)})),[Y.tw.MOUSE_UP,Y.tw.MOUSE_OUT].forEach(D=>{this._register((0,Y.nm)(N,D,I=>{Y.zB.stop(I),N.classList.remove("active")}))})}onClick(f,N=!1){var z;Y.zB.stop(f,!0);const D=F.Jp(this._context)?(null===(z=this.options)||void 0===z?void 0:z.useEventAsContext)?f:{preserveFocus:N}:this._context;this.actionRunner.run(this._action,D)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(f){this.element&&(this.element.tabIndex=f?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}updateTooltip(){}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}class b extends C{constructor(f,N,z={}){super(f,N,z),this.options=z,this.options.icon=void 0!==z.icon&&z.icon,this.options.label=void 0===z.label||z.label,this.cssClass=""}render(f){super.render(f),this.element&&(this.label=(0,Y.R3)(this.element,(0,Y.$)("a.action-label"))),this.label&&this.label.setAttribute("role",this._action.id===E.Z0.ID?"presentation":this.options.isMenu?"menuitem":"button"),this.options.label&&this.options.keybinding&&this.element&&((0,Y.R3)(this.element,(0,Y.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(f){this.label&&(this.label.tabIndex=f?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}updateTooltip(){let f=null;this.getAction().tooltip?f=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(f=this.getAction().label,this.options.keybinding&&(f=S.N({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",f,this.options.keybinding))),f&&this.label&&(this.label.title=f)}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label&&this.label.classList.remove("codicon")}updateEnabled(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),this.element&&this.element.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),this.element&&this.element.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}},60291:(Be,Me,m)=>{m.d(Me,{o:()=>S});var M=m(86678),g=m(714),Y=m(48727),B=m(50955),E=m(71040),i=m(40189),O=m(99770),T=(m(22250),function(C,b,L,f){return new(L||(L=Promise))(function(z,D){function I(k){try{P(f.next(k))}catch($){D($)}}function Z(k){try{P(f.throw(k))}catch($){D($)}}function P(k){k.done?z(k.value):function(z){return z instanceof L?z:new L(function(D){D(z)})}(k.value).then(I,Z)}P((f=f.apply(C,b||[])).next())})});class S extends i.JT{constructor(b,L={}){var f,N,z,D,I,Z;let P,k;switch(super(),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new E.Q5),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new E.Q5({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new E.Q5),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new E.Q5),this.onBeforeRun=this._onBeforeRun.event,this.options=L,this._context=null!==(f=L.context)&&void 0!==f?f:null,this._orientation=null!==(N=this.options.orientation)&&void 0!==N?N:0,this._triggerKeys={keyDown:null!==(D=null===(z=this.options.triggerKeys)||void 0===z?void 0:z.keyDown)&&void 0!==D&&D,keys:null!==(Z=null===(I=this.options.triggerKeys)||void 0===I?void 0:I.keys)&&void 0!==Z?Z:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new B.Wi,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun($=>this._onDidRun.fire($))),this._register(this._actionRunner.onBeforeRun($=>this._onBeforeRun.fire($))),this._actionIds=[],this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",!1!==L.animated&&this.domNode.classList.add("animated"),this._orientation){case 0:P=[15],k=[17];break;case 1:P=[16],k=[18],this.domNode.className+=" vertical"}this._register(M.nm(this.domNode,M.tw.KEY_DOWN,$=>{const j=new g.y($);let G=!0;const oe="number"==typeof this.focusedItem?this.viewItems[this.focusedItem]:void 0;P&&(j.equals(P[0])||j.equals(P[1]))?G=this.focusPrevious():k&&(j.equals(k[0])||j.equals(k[1]))?G=this.focusNext():j.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():j.equals(14)?G=this.focusFirst():j.equals(13)?G=this.focusLast():j.equals(2)&&oe instanceof Y.Y&&oe.trapsArrowNavigation?G=this.focusNext():this.isTriggerKeyEvent(j)?this._triggerKeys.keyDown?this.doTrigger(j):this.triggerKeyDown=!0:G=!1,G&&(j.preventDefault(),j.stopPropagation())})),this._register(M.nm(this.domNode,M.tw.KEY_UP,$=>{const j=new g.y($);this.isTriggerKeyEvent(j)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(j)),j.preventDefault(),j.stopPropagation()):(j.equals(2)||j.equals(1026))&&this.updateFocusedItem()})),this.focusTracker=this._register(M.go(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(M.vY()===this.domNode||!M.jg(M.vY(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.previouslyFocusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),b.appendChild(this.domNode)}refreshRole(){this.length()>=2?this.actionsList.setAttribute("role","toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(b){if(this.focusable=b,this.focusable){const L=this.viewItems.find(f=>f instanceof Y.Y&&f.isEnabled());L instanceof Y.Y&&L.setFocusable(!0)}else this.viewItems.forEach(L=>{L instanceof Y.Y&&L.setFocusable(!1)})}isTriggerKeyEvent(b){let L=!1;return this._triggerKeys.keys.forEach(f=>{L=L||b.equals(f)}),L}updateFocusedItem(){for(let b=0;b<this.actionsList.children.length;b++){const L=this.actionsList.children[b];if(M.jg(M.vY(),L)){this.focusedItem=b;break}}}get context(){return this._context}set context(b){this._context=b,this.viewItems.forEach(L=>L.setActionContext(b))}get actionRunner(){return this._actionRunner}set actionRunner(b){b&&(this._actionRunner=b,this.viewItems.forEach(L=>L.actionRunner=b))}getContainer(){return this.domNode}push(b,L={}){const f=Array.isArray(b)?b:[b];let N=O.hj(L.index)?L.index:null;f.forEach(z=>{const D=document.createElement("li");let I;D.className="action-item",D.setAttribute("role","presentation"),this.options.allowContextMenu||this._register(M.nm(D,M.tw.CONTEXT_MENU,Z=>{M.zB.stop(Z,!0)})),this.options.actionViewItemProvider&&(I=this.options.actionViewItemProvider(z)),I||(I=new Y.g(this.context,z,L)),I.actionRunner=this._actionRunner,I.setActionContext(this.context),I.render(D),this.focusable&&I instanceof Y.Y&&0===this.viewItems.length&&I.setFocusable(!0),null===N||N<0||N>=this.actionsList.children.length?(this.actionsList.appendChild(D),this.viewItems.push(I),this._actionIds.push(z.id)):(this.actionsList.insertBefore(D,this.actionsList.children[N]),this.viewItems.splice(N,0,I),this._actionIds.splice(N,0,z.id),N++)}),"number"==typeof this.focusedItem&&this.focus(this.focusedItem),this.refreshRole()}clear(){(0,i.B9)(this.viewItems),this.viewItems=[],this._actionIds=[],M.PO(this.actionsList),this.refreshRole()}length(){return this.viewItems.length}focus(b){let f,L=!1;if(void 0===b?L=!0:"number"==typeof b?f=b:"boolean"==typeof b&&(L=b),L&&void 0===this.focusedItem){const N=this.viewItems.findIndex(z=>z.isEnabled());this.focusedItem=-1===N?void 0:N,this.updateFocus(void 0,void 0,!0)}else void 0!==f&&(this.focusedItem=f),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(b){if(void 0===this.focusedItem)this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const L=this.focusedItem;let f;do{if(!b&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=L,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,f=this.viewItems[this.focusedItem]}while(this.focusedItem!==L&&this.options.focusOnlyEnabledItems&&!f.isEnabled());return this.updateFocus(),!0}focusPrevious(b){if(void 0===this.focusedItem)this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const L=this.focusedItem;let f;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!b&&this.options.preventLoopNavigation)return this.focusedItem=L,!1;this.focusedItem=this.viewItems.length-1}f=this.viewItems[this.focusedItem]}while(this.focusedItem!==L&&this.options.focusOnlyEnabledItems&&!f.isEnabled());return this.updateFocus(!0),!0}updateFocus(b,L,f=!1){var N;void 0===this.focusedItem&&this.actionsList.focus({preventScroll:L}),void 0!==this.previouslyFocusedItem&&this.previouslyFocusedItem!==this.focusedItem&&(null===(N=this.viewItems[this.previouslyFocusedItem])||void 0===N||N.blur());const z=void 0!==this.focusedItem&&this.viewItems[this.focusedItem];if(z){let D=!0;O.mf(z.focus)||(D=!1),this.options.focusOnlyEnabledItems&&O.mf(z.isEnabled)&&!z.isEnabled()&&(D=!1),D?(f||this.previouslyFocusedItem!==this.focusedItem)&&(z.focus(b),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:L}),this.previouslyFocusedItem=void 0)}}doTrigger(b){if(void 0===this.focusedItem)return;const L=this.viewItems[this.focusedItem];L instanceof Y.Y&&this.run(L._action,L._context??b)}run(b,L){return T(this,void 0,void 0,function*(){yield this._actionRunner.run(b,L)})}dispose(){(0,i.B9)(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}},99034:(Be,Me,m)=>{m.d(Me,{wW:()=>S,Z9:()=>C,i7:()=>b});var M=m(86678),g=m(70700);let E,i,O,F,T;function S(f){E=document.createElement("div"),E.className="monaco-aria-container";const N=()=>{const D=document.createElement("div");return D.className="monaco-alert",D.setAttribute("role","alert"),D.setAttribute("aria-atomic","true"),E.appendChild(D),D};i=N(),O=N();const z=()=>{const D=document.createElement("div");return D.className="monaco-status",D.setAttribute("role","complementary"),D.setAttribute("aria-live","polite"),D.setAttribute("aria-atomic","true"),E.appendChild(D),D};F=z(),T=z(),f.appendChild(E)}function C(f){!E||(i.textContent!==f?(M.PO(O),L(i,f)):(M.PO(i),L(O,f)))}function b(f){!E||(g.dz?C(f):F.textContent!==f?(M.PO(T),L(F,f)):(M.PO(F),L(T,f)))}function L(f,N){M.PO(f),N.length>2e4&&(N=N.substr(0,2e4)),f.textContent=N,f.style.visibility="hidden",f.style.visibility="visible"}m(3336)},19226:(Be,Me,m)=>{m.d(Me,{a:()=>B});var M=m(78968);function B(E){let i=E.definition;for(;i instanceof M.lA;)i=i.definition;return`.codicon-${E.id}:before { content: '${i.fontCharacter}'; }`}m(93791),m(85719)},24061:(Be,Me,m)=>{m.d(Me,{Z:()=>O});var M=m(86678),g=m(81897),Y=m(60842),B=m(74243);m(92051);const i={badgeBackground:g.Il.fromHex("#4D4D4D"),badgeForeground:g.Il.fromHex("#FFFFFF")};class O{constructor(T,S){this.count=0,this.options=S||Object.create(null),(0,Y.jB)(this.options,i,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=(0,M.R3)(T,(0,M.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(T){this.count=T,this.render()}setTitleFormat(T){this.titleFormat=T,this.render()}render(){this.element.textContent=(0,B.WU)(this.countFormat,this.count),this.element.title=(0,B.WU)(this.titleFormat,this.count),this.applyStyles()}style(T){this.badgeBackground=T.badgeBackground,this.badgeForeground=T.badgeForeground,this.badgeBorder=T.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const T=this.badgeBackground?this.badgeBackground.toString():"",S=this.badgeForeground?this.badgeForeground.toString():"",C=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=T,this.element.style.color=S,this.element.style.borderWidth=C?"1px":"",this.element.style.borderStyle=C?"solid":"",this.element.style.borderColor=C}}}},54708:(Be,Me,m)=>{m.d(Me,{q:()=>B});var M=m(86678),g=m(44339),Y=m(60842);class B{constructor(i,O){var F;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=null!==(F=null==O?void 0:O.supportIcons)&&void 0!==F&&F,this.domNode=M.R3(i,M.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set(i,O=[],F="",T){i||(i=""),T&&(i=B.escapeNewLines(i,O)),(!this.didEverRender||this.text!==i||this.title!==F||!Y.fS(this.highlights,O))&&(this.text=i,this.title=F,this.highlights=O,this.render())}render(){const i=[];let O=0;for(const F of this.highlights){if(F.end===F.start)continue;if(O<F.start){const C=this.text.substring(O,F.start);i.push(M.$("span",void 0,...this.supportIcons?(0,g.T)(C):[C])),O=F.end}const T=this.text.substring(F.start,F.end),S=M.$("span.highlight",void 0,...this.supportIcons?(0,g.T)(T):[T]);F.extraClasses&&S.classList.add(...F.extraClasses),i.push(S),O=F.end}if(O<this.text.length){const F=this.text.substring(O);i.push(M.$("span",void 0,...this.supportIcons?(0,g.T)(F):[F]))}M.mc(this.domNode,...i),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(i,O){let F=0,T=0;return i.replace(/\r\n|\r|\n/g,(S,C)=>{T="\r\n"===S?-1:0,C+=F;for(const b of O)b.end<=C||(b.start>=C&&(b.start+=T),b.end>=C&&(b.end+=T));return F+=T,"\u23ce"})}}},25601:(Be,Me,m)=>{m.d(Me,{g:()=>I});var M=m(86678),g=m(54708),Y=m(89983),B=m(66607),E=m(3102),i=m(42623),O=m(40189),F=m(99770),T=m(12918),S=function($,j,G,oe){return new(G||(G=Promise))(function(fe,pe){function we(q){try{Q(oe.next(q))}catch(le){pe(le)}}function ge(q){try{Q(oe.throw(q))}catch(le){pe(le)}}function Q(q){q.done?fe(q.value):function(fe){return fe instanceof G?fe:new G(function(pe){pe(fe)})}(q.value).then(we,ge)}Q((oe=oe.apply($,j||[])).next())})};class b{constructor(j,G,oe){this.hoverDelegate=j,this.target=G,this.fadeInAnimation=oe}update(j,G){var oe;return S(this,void 0,void 0,function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let de;if(void 0===j||(0,F.HD)(j)||j instanceof HTMLElement)de=j;else if((0,F.mf)(j.markdown)){this._hoverWidget||this.show((0,T.N)("iconLabel.loading","Loading..."),G),this._cancellationTokenSource=new B.A;const fe=this._cancellationTokenSource.token;if(de=yield j.markdown(fe),void 0===de&&(de=j.markdownNotSupportedFallback),this.isDisposed||fe.isCancellationRequested)return}else de=null!==(oe=j.markdown)&&void 0!==oe?oe:j.markdownNotSupportedFallback;this.show(de,G)})}show(j,G){const oe=this._hoverWidget;this.hasContent(j)&&(this._hoverWidget=this.hoverDelegate.showHover({content:j,target:this.target,showPointer:"element"===this.hoverDelegate.placement,hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!oe},G)),null==oe||oe.dispose()}hasContent(j){return!(!j||(0,E.Fr)(j)&&!j.value)}get isDisposed(){var j;return null===(j=this._hoverWidget)||void 0===j?void 0:j.isDisposed}dispose(){var j,G;null===(j=this._hoverWidget)||void 0===j||j.dispose(),null===(G=this._cancellationTokenSource)||void 0===G||G.dispose(!0),this._cancellationTokenSource=void 0}}var f=m(60842),N=m(32975);m(10402);class D{constructor(j){this._element=j}get element(){return this._element}set textContent(j){this.disposed||j===this._textContent||(this._textContent=j,this._element.textContent=j)}set className(j){this.disposed||j===this._className||(this._className=j,this._element.className=j)}set empty(j){this.disposed||j===this._empty||(this._empty=j,this._element.style.marginLeft=j?"0":"")}dispose(){this.disposed=!0}}class I extends O.JT{constructor(j,G){super(),this.customHovers=new Map,this.domNode=this._register(new D(M.R3(j,M.$(".monaco-icon-label")))),this.labelContainer=M.R3(this.domNode.element,M.$(".monaco-icon-label-container"));const oe=M.R3(this.labelContainer,M.$("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new D(M.R3(this.labelContainer,M.$("span.monaco-icon-description-container")))),this.nameNode=(null==G?void 0:G.supportHighlights)||(null==G?void 0:G.supportIcons)?new k(oe,!!G.supportIcons):new Z(oe),this.descriptionNodeFactory=(null==G?void 0:G.supportDescriptionHighlights)?()=>new g.q(M.R3(this.descriptionContainer.element,M.$("span.label-description")),{supportIcons:!!G.supportIcons}):()=>this._register(new D(M.R3(this.descriptionContainer.element,M.$("span.label-description")))),this.hoverDelegate=null==G?void 0:G.hoverDelegate}get element(){return this.domNode.element}setLabel(j,G,oe){const de=["monaco-icon-label"];oe&&(oe.extraClasses&&de.push(...oe.extraClasses),oe.italic&&de.push("italic"),oe.strikethrough&&de.push("strikethrough")),this.domNode.className=de.join(" "),this.setupHover((null==oe?void 0:oe.descriptionTitle)?this.labelContainer:this.element,null==oe?void 0:oe.title),this.nameNode.setLabel(j,oe),(G||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof g.q?(this.descriptionNode.set(G||"",oe?oe.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,null==oe?void 0:oe.descriptionTitle)):(this.descriptionNode.textContent=G||"",this.setupHover(this.descriptionNode.element,(null==oe?void 0:oe.descriptionTitle)||""),this.descriptionNode.empty=!G))}setupHover(j,G){const oe=this.customHovers.get(j);if(oe&&(oe.dispose(),this.customHovers.delete(j)),G)if(this.hoverDelegate){const de=function($,j,G){let oe,de;const fe=(q,le)=>{var ee;q&&(null==de||de.dispose(),de=void 0),le&&(null==oe||oe.dispose(),oe=void 0),null===(ee=$.onDidHideHover)||void 0===ee||ee.call($)},pe=(q,le,ee)=>new Y._F(()=>S(this,void 0,void 0,function*(){(!de||de.isDisposed)&&(de=new b($,ee||j,q>0),yield de.update(G,le))}),q),ge=M.nm(j,M.tw.MOUSE_OVER,()=>{if(oe)return;const q=new O.SL;q.add(M.nm(j,M.tw.MOUSE_LEAVE,re=>fe(!1,re.fromElement===j),!0)),q.add(M.nm(j,M.tw.MOUSE_DOWN,()=>fe(!0,!0),!0));const X={targetElements:[j],dispose:()=>{}};void 0!==$.placement&&"mouse"!==$.placement||q.add(M.nm(j,M.tw.MOUSE_MOVE,ce=>X.x=ce.x+10,!0)),q.add(pe($.delay,!1,X)),oe=q},!0);return{show:q=>{fe(!1,!0),pe(0,q)},hide:()=>{fe(!0,!0)},update:q=>S(this,void 0,void 0,function*(){G=q,yield null==de?void 0:de.update(G)}),dispose:()=>{ge.dispose(),fe(!0,!0)}}}(this.hoverDelegate,j,G);de&&this.customHovers.set(j,de)}else!function($,j){(0,F.HD)(j)?$.title=(0,i.x$)(j):(null==j?void 0:j.markdownNotSupportedFallback)?$.title=j.markdownNotSupportedFallback:$.removeAttribute("title")}(j,G);else j.removeAttribute("title")}dispose(){super.dispose();for(const j of this.customHovers.values())j.dispose();this.customHovers.clear()}}class Z{constructor(j){this.container=j,this.label=void 0,this.singleLabel=void 0}setLabel(j,G){if(this.label!==j||!(0,f.fS)(this.options,G))if(this.label=j,this.options=G,"string"==typeof j)this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=M.R3(this.container,M.$("a.label-name",{id:null==G?void 0:G.domId}))),this.singleLabel.textContent=j;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let oe=0;oe<j.length;oe++)M.R3(this.container,M.$("a.label-name",{id:(null==G?void 0:G.domId)&&`${null==G?void 0:G.domId}_${oe}`,"data-icon-label-count":j.length,"data-icon-label-index":oe,role:"treeitem"},j[oe])),oe<j.length-1&&M.R3(this.container,M.$("span.label-separator",void 0,(null==G?void 0:G.separator)||"/"))}}}class k{constructor(j,G){this.container=j,this.supportIcons=G,this.label=void 0,this.singleLabel=void 0}setLabel(j,G){if(this.label!==j||!(0,f.fS)(this.options,G))if(this.label=j,this.options=G,"string"==typeof j)this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new g.q(M.R3(this.container,M.$("a.label-name",{id:null==G?void 0:G.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(j,null==G?void 0:G.matches,void 0,null==G?void 0:G.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const oe=(null==G?void 0:G.separator)||"/",de=function($,j,G){if(!G)return;let oe=0;return $.map(de=>{const fe={start:oe,end:oe+de.length},pe=G.map(we=>N.e.intersect(fe,we)).filter(we=>!N.e.isEmpty(we)).map(({start:we,end:ge})=>({start:we-oe,end:ge-oe}));return oe=fe.end+j.length,pe})}(j,oe,null==G?void 0:G.matches);for(let fe=0;fe<j.length;fe++){const pe=j[fe],we=de?de[fe]:void 0,Q=M.$("a.label-name",{id:(null==G?void 0:G.domId)&&`${null==G?void 0:G.domId}_${fe}`,"data-icon-label-count":j.length,"data-icon-label-index":fe,role:"treeitem"});new g.q(M.R3(this.container,Q),{supportIcons:this.supportIcons}).set(pe,we,void 0,null==G?void 0:G.labelEscapeNewLines),fe<j.length-1&&M.R3(Q,M.$("span.label-separator",void 0,oe))}}}}},44339:(Be,Me,m)=>{m.d(Me,{T:()=>B});var M=m(86678),g=m(78968);const Y=new RegExp(`(\\\\)?\\$\\((${g.dT.iconNameExpression}(?:${g.dT.iconModifierExpression})?)\\)`,"g");function B(i){const O=new Array;let F,T=0,S=0;for(;null!==(F=Y.exec(i));){S=F.index||0,O.push(i.substring(T,S)),T=(F.index||0)+F[0].length;const[,C,b]=F;O.push(C?`$(${b})`:E({id:b}))}return T<i.length&&O.push(i.substring(T)),O}function E(i){const O=M.$("span");return O.classList.add(...g.dT.asClassNameArray(i)),O}},39402:(Be,Me,m)=>{m.d(Me,{p:()=>I,W:()=>D});var M=m(86678),g=m(71172),Y=m(25662),B=m(60291),E=m(99034),i=m(6491),O=m(37450),F=m(81897),T=m(71040);class S{constructor(P,k=0,$=P.length,j=k-1){this.items=P,this.start=k,this.end=$,this.index=j}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class C{constructor(P=[],k=10){this._initialize(P),this._limit=k,this._onChange()}getHistory(){return this._elements}add(P){this._history.delete(P),this._history.add(P),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return 0!==this._currentPosition()?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(P){return this._history.has(P)}_onChange(){this._reduceToLimit();const P=this._elements;this._navigator=new S(P,0,P.length,P.length)}_reduceToLimit(){const P=this._elements;P.length>this._limit&&this._initialize(P.slice(P.length-this._limit))}_currentPosition(){const P=this._navigator.current();return P?this._elements.indexOf(P):-1}_initialize(P){this._history=new Set;for(const k of P)this._history.add(k)}get _elements(){const P=[];return this._history.forEach(k=>P.push(k)),P}}var b=m(60842),f=(m(5767),m(12918));const N=M.$,z={inputBackground:F.Il.fromHex("#3C3C3C"),inputForeground:F.Il.fromHex("#CCCCCC"),inputValidationInfoBorder:F.Il.fromHex("#55AAFF"),inputValidationInfoBackground:F.Il.fromHex("#063B49"),inputValidationWarningBorder:F.Il.fromHex("#B89500"),inputValidationWarningBackground:F.Il.fromHex("#352A05"),inputValidationErrorBorder:F.Il.fromHex("#BE1100"),inputValidationErrorBackground:F.Il.fromHex("#5A1D1D")};class D extends O.${constructor(P,k,$){var j;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new T.Q5),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new T.Q5),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=k,this.options=$||Object.create(null),(0,b.jB)(this.options,z,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=null!==(j=this.options.tooltip)&&void 0!==j?j:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=M.R3(P,N(".monaco-inputbox.idle"));let G=this.options.flexibleHeight?"textarea":"input",oe=M.R3(this.element,N(".ibwrapper"));if(this.input=M.R3(oe,N(G+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight="number"==typeof this.options.flexibleMaxHeight?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=M.R3(oe,N("div.mirror")),this.mirror.innerText="\xa0",this.scrollableElement=new i.NB(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),M.R3(P,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(pe=>this.input.scrollTop=pe.scrollTop));const de=this._register(new g.Y(document,"selectionchange")),fe=T.ju.filter(de.event,()=>{const pe=document.getSelection();return(null==pe?void 0:pe.anchorNode)===oe});this._register(fe(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new B.o(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(P){this.placeholder=P,this.input.setAttribute("placeholder",P)}setTooltip(P){this.tooltip=P,this.input.title=P}setAriaLabel(P){this.ariaLabel=P,P?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(P){this.input.value!==P&&(this.input.value=P,this.onValueChange())}get height(){return"number"==typeof this.cachedHeight?this.cachedHeight:M.wn(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(P=null){this.input.select(),P&&(this.input.setSelectionRange(P.start,P.end),P.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return M.w(this.input)}set width(P){if(this.options.flexibleHeight&&this.options.flexibleWidth){let k=0;this.mirror&&(k=(parseFloat(this.mirror.style.paddingLeft||"")||0)+(parseFloat(this.mirror.style.paddingRight||"")||0)),this.input.style.width=P-k+"px"}else this.input.style.width=P+"px";this.mirror&&(this.mirror.style.width=P+"px")}set paddingRight(P){this.input.style.width=`calc(100% - ${P}px)`,this.mirror&&(this.mirror.style.paddingRight=P+"px")}updateScrollDimensions(){if("number"!=typeof this.cachedContentHeight||"number"!=typeof this.cachedHeight||!this.scrollableElement)return;const $=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:this.cachedContentHeight,height:this.cachedHeight}),this.scrollableElement.setScrollPosition({scrollTop:$})}showMessage(P,k){this.message=P,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(P.type));const $=this.stylesForType(this.message.type);this.element.style.border=$.border?`1px solid ${$.border}`:"",(this.hasFocus()||k)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let P=null;return this.validation&&(P=this.validation(this.value),P?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(P)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),null==P?void 0:P.type}stylesForType(P){switch(P){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(P){switch(P){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let P,$,k=()=>P.style.width=M.w(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:j=>{if(!this.message)return null;P=M.R3(j,N(".monaco-inputbox-container")),k();const G={inline:!0,className:"monaco-inputbox-message"},oe=this.message.formatContent?(0,Y.BO)(this.message.content,G):(0,Y.IY)(this.message.content,G);oe.classList.add(this.classForType(this.message.type));const de=this.stylesForType(this.message.type);return oe.style.backgroundColor=de.background?de.background.toString():"",oe.style.color=de.foreground?de.foreground.toString():"",oe.style.border=de.border?`1px solid ${de.border}`:"",M.R3(P,oe),null},onHide:()=>{this.state="closed"},layout:k}),$=3===this.message.type?f.N("alertErrorMessage","Error: {0}",this.message.content):2===this.message.type?f.N("alertWarningMessage","Warning: {0}",this.message.content):f.N("alertInfoMessage","Info: {0}",this.message.content),E.Z9($),this.state="open"}_hideMessage(){!this.contextViewProvider||("open"===this.state&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),"open"===this.state&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const P=this.value,$=10===P.charCodeAt(P.length-1)?" ":"";(P+$).replace(/\u000c/g,"")?this.mirror.textContent=P+$:this.mirror.innerText="\xa0",this.layout()}style(P){this.inputBackground=P.inputBackground,this.inputForeground=P.inputForeground,this.inputBorder=P.inputBorder,this.inputValidationInfoBackground=P.inputValidationInfoBackground,this.inputValidationInfoForeground=P.inputValidationInfoForeground,this.inputValidationInfoBorder=P.inputValidationInfoBorder,this.inputValidationWarningBackground=P.inputValidationWarningBackground,this.inputValidationWarningForeground=P.inputValidationWarningForeground,this.inputValidationWarningBorder=P.inputValidationWarningBorder,this.inputValidationErrorBackground=P.inputValidationErrorBackground,this.inputValidationErrorForeground=P.inputValidationErrorForeground,this.inputValidationErrorBorder=P.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const P=this.inputBackground?this.inputBackground.toString():"",k=this.inputForeground?this.inputForeground.toString():"",$=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=P,this.element.style.color=k,this.input.style.backgroundColor="inherit",this.input.style.color=k,this.element.style.borderWidth=$?"1px":"",this.element.style.borderStyle=$?"solid":"",this.element.style.borderColor=$}layout(){if(!this.mirror)return;const P=this.cachedContentHeight;this.cachedContentHeight=M.wn(this.mirror),P!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(P){const k=this.inputElement,$=k.selectionStart,j=k.selectionEnd,G=k.value;null!==$&&null!==j&&(this.value=G.substr(0,$)+P+G.substr(j),k.setSelectionRange($+1,$+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}class I extends D{constructor(P,k,$){const j=f.N({key:"history.inputbox.hint",comment:["Text will be prefixed with \u21c5 plus a single space, then used as a hint where input field keeps history"]},"for history"),G=` or \u21c5 ${j}`,oe=` (\u21c5 ${j})`;super(P,k,$),this.history=new C($.history,100);const de=()=>{if($.showHistoryHint&&$.showHistoryHint()&&!this.placeholder.endsWith(G)&&!this.placeholder.endsWith(oe)&&this.history.getHistory().length){const fe=this.placeholder.endsWith(")")?G:oe,pe=this.placeholder+fe;$.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=pe:this.setPlaceHolder(pe)}};this.observer=new MutationObserver((fe,pe)=>{fe.forEach(we=>{we.target.textContent||de()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>de()),this.onblur(this.input,()=>{const fe=pe=>{if(this.placeholder.endsWith(pe)){const we=this.placeholder.slice(0,this.placeholder.length-pe.length);return $.showPlaceholderOnFocus?this.placeholder=we:this.setPlaceHolder(we),!0}return!1};fe(oe)||fe(G)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let P=this.getNextValue();P&&(P=P===this.value?this.getNextValue():P),P&&(this.value=P,E.i7(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let P=this.getPreviousValue();P&&(P=P===this.value?this.getPreviousValue():P),P&&(this.value=P,E.i7(this.value))}getCurrentValue(){let P=this.history.current();return P||(P=this.history.last(),this.history.next()),P}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}},87136:(Be,Me,m)=>{m.d(Me,{kX:()=>G,Bv:()=>we});var M=m(47306),g=m(34122),Y=m(86678),B=m(71172),E=m(23945),i=m(6491),O=m(89822),F=m(89983),T=m(94456),S=m(71040),C=m(40189),b=m(60842),L=m(32975),f=m(90443);function N(ge,Q){const q=[];for(let le of Q){if(ge.start>=le.range.end)continue;if(ge.end<le.range.start)break;const ee=L.e.intersect(ge,le.range);L.e.isEmpty(ee)||q.push({range:ee,size:le.size})}return q}function z({start:ge,end:Q},q){return{start:ge+q,end:Q+q}}class Z{constructor(){this.groups=[],this._size=0}splice(Q,q,le=[]){const ee=le.length-q,X=N({start:0,end:Q},this.groups),re=N({start:Q+q,end:Number.POSITIVE_INFINITY},this.groups).map(ve=>({range:z(ve.range,ee),size:ve.size})),ce=le.map((ve,ke)=>({range:{start:Q+ke,end:Q+ke+1},size:ve.size}));this.groups=function(...ge){return function(ge){const Q=[];let q=null;for(let le of ge){const ee=le.range.start,X=le.range.end,re=le.size;q&&re===q.size?q.range.end=X:(q={range:{start:ee,end:X},size:re},Q.push(q))}return Q}(ge.reduce((Q,q)=>Q.concat(q),[]))}(X,ce,re),this._size=this.groups.reduce((ve,ke)=>ve+ke.size*(ke.range.end-ke.range.start),0)}get count(){const Q=this.groups.length;return Q?this.groups[Q-1].range.end:0}get size(){return this._size}indexAt(Q){if(Q<0)return-1;let q=0,le=0;for(let ee of this.groups){const X=ee.range.end-ee.range.start,re=le+X*ee.size;if(Q<re)return q+Math.floor((Q-le)/ee.size);q+=X,le=re}return q}indexAfter(Q){return Math.min(this.indexAt(Q)+1,this.count)}positionAt(Q){if(Q<0)return-1;let q=0,le=0;for(let ee of this.groups){const X=ee.range.end-ee.range.start,re=le+X;if(Q<re)return q+(Q-le)*ee.size;q+=X*ee.size,le=re}return-1}}class k{constructor(Q){this.renderers=Q,this.cache=new Map}alloc(Q){let q=this.getTemplateCache(Q).pop();if(!q){const le=(0,Y.$)(".monaco-list-row");q={domNode:le,templateId:Q,templateData:this.getRenderer(Q).renderTemplate(le)}}return q}release(Q){!Q||this.releaseRow(Q)}releaseRow(Q){const{domNode:q,templateId:le}=Q;q&&(q.classList.remove("scrolling"),function(ge){try{ge.parentElement&&ge.parentElement.removeChild(ge)}catch{}}(q)),this.getTemplateCache(le).push(Q)}getTemplateCache(Q){let q=this.cache.get(Q);return q||(q=[],this.cache.set(Q,q)),q}dispose(){this.cache.forEach((Q,q)=>{for(const le of Q)this.getRenderer(q).disposeTemplate(le.templateData),le.templateData=null}),this.cache.clear()}getRenderer(Q){const q=this.renderers.get(Q);if(!q)throw new Error(`No renderer found for ${Q}`);return q}}var $=function(ge,Q,q,le){var re,ee=arguments.length,X=ee<3?Q:null===le?le=Object.getOwnPropertyDescriptor(Q,q):le;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(ge,Q,q,le);else for(var ce=ge.length-1;ce>=0;ce--)(re=ge[ce])&&(X=(ee<3?re(X):ee>3?re(Q,q,X):re(Q,q))||X);return ee>3&&X&&Object.defineProperty(Q,q,X),X};const j={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements:ge=>[ge],getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class G{constructor(Q){this.elements=Q}update(){}getData(){return this.elements}}class oe{constructor(Q){this.elements=Q}update(){}getData(){return this.elements}}class de{constructor(){this.types=[],this.files=[]}update(Q){if(Q.types&&this.types.splice(0,this.types.length,...Q.types),Q.files){this.files.splice(0,this.files.length);for(let q=0;q<Q.files.length;q++){const le=Q.files.item(q);le&&(le.size||le.type)&&this.files.push(le)}}}getData(){return{types:this.types,files:this.files}}}class pe{constructor(Q){this.getSetSize=(null==Q?void 0:Q.getSetSize)?Q.getSetSize.bind(Q):(q,le,ee)=>ee,this.getPosInSet=(null==Q?void 0:Q.getPosInSet)?Q.getPosInSet.bind(Q):(q,le)=>le+1,this.getRole=(null==Q?void 0:Q.getRole)?Q.getRole.bind(Q):q=>"listitem",this.isChecked=(null==Q?void 0:Q.isChecked)?Q.isChecked.bind(Q):q=>{}}}class we{constructor(Q,q,le,ee=j){if(this.virtualDelegate=q,this.domId="list_id_"+ ++we.InstanceCount,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new F.vp(50),this.splicing=!1,this.dragOverAnimationStopDisposable=C.JT.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=C.JT.None,this.onDragLeaveTimeout=C.JT.None,this.disposables=new C.SL,this._onDidChangeContentHeight=new S.Q5,this._horizontalScrolling=!1,ee.horizontalScrolling&&ee.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new Z;for(const re of le)this.renderers.set(re.templateId,re);this.cache=this.disposables.add(new k(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support","boolean"!=typeof ee.mouseSupport||ee.mouseSupport),this._horizontalScrolling=(0,b.CJ)(ee,re=>re.horizontalScrolling,j.horizontalScrolling),this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=void 0===ee.additionalScrollHeight?0:ee.additionalScrollHeight,this.accessibilityProvider=new pe(ee.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(0,b.CJ)(ee,re=>re.transformOptimization,j.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(E.o.addTarget(this.rowsContainer)),this.scrollable=new f.Rm({forceIntegerValues:!0,smoothScrollDuration:(0,b.CJ)(ee,re=>re.smoothScrolling,!1)?125:0,scheduleAtNextAnimationFrame:re=>(0,Y.jL)(re)}),this.scrollableElement=this.disposables.add(new i.$Z(this.rowsContainer,{alwaysConsumeMouseWheel:(0,b.CJ)(ee,re=>re.alwaysConsumeMouseWheel,j.alwaysConsumeMouseWheel),horizontal:1,vertical:(0,b.CJ)(ee,re=>re.verticalScrollMode,j.verticalScrollMode),useShadows:(0,b.CJ)(ee,re=>re.useShadows,j.useShadows),mouseWheelScrollSensitivity:ee.mouseWheelScrollSensitivity,fastScrollSensitivity:ee.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),Q.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,Y.nm)(this.rowsContainer,E.t.Change,re=>this.onTouchChange(re))),this.disposables.add((0,Y.nm)(this.scrollableElement.getDomNode(),"scroll",re=>re.target.scrollTop=0)),this.disposables.add((0,Y.nm)(this.domNode,"dragover",re=>this.onDragOver(this.toDragEvent(re)))),this.disposables.add((0,Y.nm)(this.domNode,"drop",re=>this.onDrop(this.toDragEvent(re)))),this.disposables.add((0,Y.nm)(this.domNode,"dragleave",re=>this.onDragLeave(this.toDragEvent(re)))),this.disposables.add((0,Y.nm)(this.domNode,"dragend",re=>this.onDragEnd(re))),this.setRowLineHeight=(0,b.CJ)(ee,re=>re.setRowLineHeight,j.setRowLineHeight),this.setRowHeight=(0,b.CJ)(ee,re=>re.setRowHeight,j.setRowHeight),this.supportDynamicHeights=(0,b.CJ)(ee,re=>re.supportDynamicHeights,j.supportDynamicHeights),this.dnd=(0,b.CJ)(ee,re=>re.dnd,j.dnd),this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(Q){if(Q!==this._horizontalScrolling){if(Q&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=Q,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const q of this.items)this.measureItemWidth(q);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,Y.FK)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(Q){void 0!==Q.additionalScrollHeight&&(this.additionalScrollHeight=Q.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),void 0!==Q.smoothScrolling&&this.scrollable.setSmoothScrollDuration(Q.smoothScrolling?125:0),void 0!==Q.horizontalScrolling&&(this.horizontalScrolling=Q.horizontalScrolling),void 0!==Q.mouseWheelScrollSensitivity&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:Q.mouseWheelScrollSensitivity}),void 0!==Q.fastScrollSensitivity&&this.scrollableElement.updateOptions({fastScrollSensitivity:Q.fastScrollSensitivity})}splice(Q,q,le=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(Q,q,le)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(Q,q,le=[]){const ee=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),re=L.e.intersect(ee,{start:Q,end:Q+q}),ce=new Map;for(let Ne=re.end-1;Ne>=re.start;Ne--){const at=this.items[Ne];if(at.dragStartDisposable.dispose(),at.row){let _t=ce.get(at.templateId);_t||(_t=[],ce.set(at.templateId,_t));const zt=this.renderers.get(at.templateId);zt&&zt.disposeElement&&zt.disposeElement(at.element,Ne,at.row.templateData,at.size),_t.push(at.row)}at.row=null}const ve={start:Q+q,end:this.items.length},ke=L.e.intersect(ve,ee),Ve=L.e.relativeComplement(ve,ee),Ue=le.map(Ne=>({id:String(this.itemId++),element:Ne,templateId:this.virtualDelegate.getTemplateId(Ne),size:this.virtualDelegate.getHeight(Ne),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(Ne),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:C.JT.None,checkedDisposable:C.JT.None}));let ue;0===Q&&q>=this.items.length?(this.rangeMap=new Z,this.rangeMap.splice(0,0,Ue),ue=this.items,this.items=Ue):(this.rangeMap.splice(Q,q,Ue),ue=this.items.splice(Q,q,...Ue));const _e=le.length-q,Re=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),et=z(ke,_e),Ze=L.e.intersect(Re,et);for(let Ne=Ze.start;Ne<Ze.end;Ne++)this.updateItemInDOM(this.items[Ne],Ne);const Pe=L.e.relativeComplement(et,Re);for(const Ne of Pe)for(let at=Ne.start;at<Ne.end;at++)this.removeItemFromDOM(at);const rt=Ve.map(Ne=>z(Ne,_e)),nt=[{start:Q,end:Q+le.length},...rt].map(Ne=>L.e.intersect(Re,Ne)),Se=this.getNextToLastElement(nt);for(const Ne of nt)for(let at=Ne.start;at<Ne.end;at++){const zt=ce.get(this.items[at].templateId),pn=null==zt?void 0:zt.pop();this.insertItemInDOM(at,Se,pn)}for(const Ne of ce.values())for(const at of Ne)this.cache.release(at);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),ue.map(Ne=>Ne.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,Y.jL)(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){this.horizontalScrolling?this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth()):this.scrollableElementWidthDelayer.cancel()}updateScrollWidth(){if(!this.horizontalScrolling)return;let Q=0;for(const q of this.items)void 0!==q.width&&(Q=Math.max(Q,q.width));this.scrollWidth=Q,this.scrollableElement.setScrollDimensions({scrollWidth:0===Q?0:Q+10})}rerender(){if(this.supportDynamicHeights){for(const Q of this.items)Q.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(Q){return this.items[Q].element}domElement(Q){const q=this.items[Q].row;return q&&q.domNode}elementHeight(Q){return this.items[Q].size}elementTop(Q){return this.rangeMap.positionAt(Q)}indexAt(Q){return this.rangeMap.indexAt(Q)}indexAfter(Q){return this.rangeMap.indexAfter(Q)}layout(Q,q){let le={height:"number"==typeof Q?Q:(0,Y.If)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,le.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(le),void 0!==q&&(this.renderWidth=q,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:"number"==typeof q?q:(0,Y.FK)(this.domNode)})}render(Q,q,le,ee,X,re=!1){const ce=this.getRenderRange(q,le),ve=L.e.relativeComplement(ce,Q),ke=L.e.relativeComplement(Q,ce),Ve=this.getNextToLastElement(ve);if(re){const Ue=L.e.intersect(Q,ce);for(let ue=Ue.start;ue<Ue.end;ue++)this.updateItemInDOM(this.items[ue],ue)}for(const Ue of ve)for(let ue=Ue.start;ue<Ue.end;ue++)this.insertItemInDOM(ue,Ve);for(const Ue of ke)for(let ue=Ue.start;ue<Ue.end;ue++)this.removeItemFromDOM(ue);void 0!==ee&&(this.rowsContainer.style.left=`-${ee}px`),this.rowsContainer.style.top=`-${q}px`,this.horizontalScrolling&&void 0!==X&&(this.rowsContainer.style.width=`${Math.max(X,this.renderWidth)}px`),this.lastRenderTop=q,this.lastRenderHeight=le}insertItemInDOM(Q,q,le){const ee=this.items[Q];ee.row||(ee.row=le??this.cache.alloc(ee.templateId));const X=this.accessibilityProvider.getRole(ee.element)||"listitem";ee.row.domNode.setAttribute("role",X);const re=this.accessibilityProvider.isChecked(ee.element);if("boolean"==typeof re)ee.row.domNode.setAttribute("aria-checked",String(!!re));else if(re){const ke=Ve=>ee.row.domNode.setAttribute("aria-checked",String(!!Ve));ke(re.value),ee.checkedDisposable=re.onDidChange(ke)}ee.row.domNode.parentElement||(q?this.rowsContainer.insertBefore(ee.row.domNode,q):this.rowsContainer.appendChild(ee.row.domNode)),this.updateItemInDOM(ee,Q);const ce=this.renderers.get(ee.templateId);if(!ce)throw new Error(`No renderer found for template id ${ee.templateId}`);ce&&ce.renderElement(ee.element,Q,ee.row.templateData,ee.size);const ve=this.dnd.getDragURI(ee.element);ee.dragStartDisposable.dispose(),ee.row.domNode.draggable=!!ve,ve&&(ee.dragStartDisposable=(0,Y.nm)(ee.row.domNode,"dragstart",ke=>this.onDragStart(ee.element,ve,ke))),this.horizontalScrolling&&(this.measureItemWidth(ee),this.eventuallyUpdateScrollWidth())}measureItemWidth(Q){if(!Q.row||!Q.row.domNode)return;Q.row.domNode.style.width=M.isFirefox?"-moz-fit-content":"fit-content",Q.width=(0,Y.FK)(Q.row.domNode);const q=window.getComputedStyle(Q.row.domNode);q.paddingLeft&&(Q.width+=parseFloat(q.paddingLeft)),q.paddingRight&&(Q.width+=parseFloat(q.paddingRight)),Q.row.domNode.style.width=""}updateItemInDOM(Q,q){Q.row.domNode.style.top=`${this.elementTop(q)}px`,this.setRowHeight&&(Q.row.domNode.style.height=`${Q.size}px`),this.setRowLineHeight&&(Q.row.domNode.style.lineHeight=`${Q.size}px`),Q.row.domNode.setAttribute("data-index",`${q}`),Q.row.domNode.setAttribute("data-last-element",q===this.length-1?"true":"false"),Q.row.domNode.setAttribute("data-parity",q%2==0?"even":"odd"),Q.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(Q.element,q,this.length))),Q.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(Q.element,q))),Q.row.domNode.setAttribute("id",this.getElementDomId(q)),Q.row.domNode.classList.toggle("drop-target",Q.dropTarget)}removeItemFromDOM(Q){const q=this.items[Q];if(q.dragStartDisposable.dispose(),q.checkedDisposable.dispose(),q.row){const le=this.renderers.get(q.templateId);le&&le.disposeElement&&le.disposeElement(q.element,Q,q.row.templateData,q.size),this.cache.release(q.row),q.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(Q,q){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:Q,reuseAnimation:q})}get scrollTop(){return this.getScrollTop()}set scrollTop(Q){this.setScrollTop(Q)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return S.ju.map(this.disposables.add(new B.Y(this.domNode,"click")).event,Q=>this.toMouseEvent(Q))}get onMouseDblClick(){return S.ju.map(this.disposables.add(new B.Y(this.domNode,"dblclick")).event,Q=>this.toMouseEvent(Q))}get onMouseMiddleClick(){return S.ju.filter(S.ju.map(this.disposables.add(new B.Y(this.domNode,"auxclick")).event,Q=>this.toMouseEvent(Q)),Q=>1===Q.browserEvent.button)}get onMouseDown(){return S.ju.map(this.disposables.add(new B.Y(this.domNode,"mousedown")).event,Q=>this.toMouseEvent(Q))}get onContextMenu(){return S.ju.any(S.ju.map(this.disposables.add(new B.Y(this.domNode,"contextmenu")).event,Q=>this.toMouseEvent(Q)),S.ju.map(this.disposables.add(new B.Y(this.domNode,E.t.Contextmenu)).event,Q=>this.toGestureEvent(Q)))}get onTouchStart(){return S.ju.map(this.disposables.add(new B.Y(this.domNode,"touchstart")).event,Q=>this.toTouchEvent(Q))}get onTap(){return S.ju.map(this.disposables.add(new B.Y(this.rowsContainer,E.t.Tap)).event,Q=>this.toGestureEvent(Q))}toMouseEvent(Q){const q=this.getItemIndexFromEventTarget(Q.target||null),le=void 0===q?void 0:this.items[q];return{browserEvent:Q,index:q,element:le&&le.element}}toTouchEvent(Q){const q=this.getItemIndexFromEventTarget(Q.target||null),le=void 0===q?void 0:this.items[q];return{browserEvent:Q,index:q,element:le&&le.element}}toGestureEvent(Q){const q=this.getItemIndexFromEventTarget(Q.initialTarget||null),le=void 0===q?void 0:this.items[q];return{browserEvent:Q,index:q,element:le&&le.element}}toDragEvent(Q){const q=this.getItemIndexFromEventTarget(Q.target||null),le=void 0===q?void 0:this.items[q];return{browserEvent:Q,index:q,element:le&&le.element}}onScroll(Q){try{const q=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(q,Q.scrollTop,Q.height,Q.scrollLeft,Q.scrollWidth),this.supportDynamicHeights&&this._rerender(Q.scrollTop,Q.height,Q.inSmoothScrolling)}catch(q){throw console.error("Got bad scroll event:",Q),q}}onTouchChange(Q){Q.preventDefault(),Q.stopPropagation(),this.scrollTop-=Q.translationY}onDragStart(Q,q,le){if(!le.dataTransfer)return;const ee=this.dnd.getDragElements(Q);if(le.dataTransfer.effectAllowed="copyMove",le.dataTransfer.setData(g.go.TEXT,q),le.dataTransfer.setDragImage){let X;this.dnd.getDragLabel&&(X=this.dnd.getDragLabel(ee,le)),void 0===X&&(X=String(ee.length));const re=(0,Y.$)(".monaco-drag-image");re.textContent=X,document.body.appendChild(re),le.dataTransfer.setDragImage(re,-10,-10),setTimeout(()=>document.body.removeChild(re),0)}this.currentDragData=new G(ee),g.P$.CurrentDragAndDropData=new oe(ee),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,le)}onDragOver(Q){if(Q.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),g.P$.CurrentDragAndDropData&&"vscode-ui"===g.P$.CurrentDragAndDropData.getData()||(this.setupDragAndDropScrollTopAnimation(Q.browserEvent),!Q.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(g.P$.CurrentDragAndDropData)this.currentDragData=g.P$.CurrentDragAndDropData;else{if(!Q.browserEvent.dataTransfer.types)return!1;this.currentDragData=new de}const q=this.dnd.onDragOver(this.currentDragData,Q.element,Q.index,Q.browserEvent);if(this.canDrop="boolean"==typeof q?q:q.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;let le;if(Q.browserEvent.dataTransfer.dropEffect="boolean"!=typeof q&&0===q.effect?"copy":"move",le="boolean"!=typeof q&&q.feedback?q.feedback:void 0===Q.index?[-1]:[Q.index],le=(0,O.EB)(le).filter(ee=>ee>=-1&&ee<this.length).sort((ee,X)=>ee-X),le=-1===le[0]?[-1]:le,function(ge,Q){return Array.isArray(ge)&&Array.isArray(Q)?(0,O.fS)(ge,Q):ge===Q}(this.currentDragFeedback,le))return!0;if(this.currentDragFeedback=le,this.currentDragFeedbackDisposable.dispose(),-1===le[0])this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,C.OF)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const ee of le){const X=this.items[ee];X.dropTarget=!0,X.row&&X.row.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,C.OF)(()=>{for(const ee of le){const X=this.items[ee];X.dropTarget=!1,X.row&&X.row.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(Q){var q,le;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,F.Vg)(()=>this.clearDragOverFeedback(),100),this.currentDragData&&(null===(le=(q=this.dnd).onDragLeave)||void 0===le||le.call(q,this.currentDragData,Q.element,Q.index,Q.browserEvent))}onDrop(Q){if(!this.canDrop)return;const q=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,g.P$.CurrentDragAndDropData=void 0,q&&Q.browserEvent.dataTransfer&&(Q.browserEvent.preventDefault(),q.update(Q.browserEvent.dataTransfer),this.dnd.drop(q,Q.element,Q.index,Q.browserEvent))}onDragEnd(Q){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,g.P$.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd(Q)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=C.JT.None}setupDragAndDropScrollTopAnimation(Q){if(!this.dragOverAnimationDisposable){const q=(0,Y.xQ)(this.domNode).top;this.dragOverAnimationDisposable=(0,Y.jt)(this.animateDragAndDropScrollTop.bind(this,q))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,F.Vg)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=Q.pageY}animateDragAndDropScrollTop(Q){if(void 0===this.dragOverMouseY)return;const q=this.dragOverMouseY-Q,le=this.renderHeight-35;q<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(q-35))):q>le&&(this.scrollTop+=Math.min(14,Math.floor(.3*(q-le))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(Q){const q=this.scrollableElement.getDomNode();let le=Q;for(;le instanceof HTMLElement&&le!==this.rowsContainer&&q.contains(le);){const ee=le.getAttribute("data-index");if(ee){const X=Number(ee);if(!isNaN(X))return X}le=le.parentElement}}getRenderRange(Q,q){return{start:this.rangeMap.indexAt(Q),end:this.rangeMap.indexAfter(Q+q-1)}}_rerender(Q,q,le){const ee=this.getRenderRange(Q,q);let X,re;Q===this.elementTop(ee.start)?(X=ee.start,re=0):ee.end-ee.start>1&&(X=ee.start+1,re=this.elementTop(X)-Q);let ce=0;for(;;){const ve=this.getRenderRange(Q,q);let ke=!1;for(let Ve=ve.start;Ve<ve.end;Ve++){const Ue=this.probeDynamicHeight(Ve);0!==Ue&&this.rangeMap.splice(Ve,1,[this.items[Ve]]),ce+=Ue,ke=ke||0!==Ue}if(!ke){0!==ce&&this.eventuallyUpdateScrollDimensions();const Ve=L.e.relativeComplement(ee,ve);for(const ue of Ve)for(let _e=ue.start;_e<ue.end;_e++)this.items[_e].row&&this.removeItemFromDOM(_e);const Ue=L.e.relativeComplement(ve,ee);for(const ue of Ue)for(let _e=ue.start;_e<ue.end;_e++){const Re=_e+1,et=Re<this.items.length?this.items[Re].row:null;this.insertItemInDOM(_e,et?et.domNode:null)}for(let ue=ve.start;ue<ve.end;ue++)this.items[ue].row&&this.updateItemInDOM(this.items[ue],ue);if("number"==typeof X){const ue=this.scrollable.getFutureScrollPosition().scrollTop-Q,_e=this.elementTop(X)-re+ue;this.setScrollTop(_e,le)}return void this._onDidChangeContentHeight.fire(this.contentHeight)}}}probeDynamicHeight(Q){const q=this.items[Q];if(this.virtualDelegate.getDynamicHeight){const re=this.virtualDelegate.getDynamicHeight(q.element);if(null!==re){const ce=q.size;return q.size=re,q.lastDynamicHeightWidth=this.renderWidth,re-ce}}if(!q.hasDynamicHeight||q.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(q.element))return 0;const le=q.size;if(!this.setRowHeight&&q.row){let re=q.row.domNode.offsetHeight;return q.size=re,q.lastDynamicHeightWidth=this.renderWidth,re-le}const ee=this.cache.alloc(q.templateId);ee.domNode.style.height="",this.rowsContainer.appendChild(ee.domNode);const X=this.renderers.get(q.templateId);return X&&(X.renderElement(q.element,Q,ee.templateData,void 0),X.disposeElement&&X.disposeElement(q.element,Q,ee.templateData,void 0)),q.size=ee.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(q.element,q.size),q.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(ee.domNode),this.cache.release(ee),q.size-le}getNextToLastElement(Q){const q=Q[Q.length-1];if(!q)return null;const le=this.items[q.end];return le&&le.row?le.row.domNode:null}getElementDomId(Q){return`${this.domId}_${Q}`}dispose(){if(this.items){for(const Q of this.items)if(Q.row){const q=this.renderers.get(Q.row.templateId);q&&(q.disposeElement&&q.disposeElement(Q.element,-1,Q.row.templateData,void 0),q.disposeTemplate(Q.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,C.B9)(this.disposables)}}we.InstanceCount=0,$([T.H],we.prototype,"onMouseClick",null),$([T.H],we.prototype,"onMouseDblClick",null),$([T.H],we.prototype,"onMouseMiddleClick",null),$([T.H],we.prototype,"onMouseDown",null),$([T.H],we.prototype,"onContextMenu",null),$([T.H],we.prototype,"onTouchStart",null),$([T.H],we.prototype,"onTap",null)},2393:(Be,Me,m)=>{m.d(Me,{WK:()=>Q,wD:()=>ke,aV:()=>ut,sx:()=>ve,cK:()=>fe,hD:()=>pe,wn:()=>X,Zo:()=>ee});var M=m(86678),g=m(71172),Y=m(714),B=m(23945),E=m(99034);class i{constructor(Se){this.spliceables=Se}splice(Se,Ne,at){this.spliceables.forEach(_t=>_t.splice(Se,Ne,at))}}var O=m(89822),F=m(89983),T=m(81897),S=m(94456),C=m(71040),b=m(56260),L=m(40189),f=m(31096),N=m(60842),z=m(70700),D=m(99770);m(72010);class Z extends Error{constructor(Se,Ne){super(`ListError [${Se}] ${Ne}`)}}var P=m(87136),k=function(nt,Se,Ne,at){var pn,_t=arguments.length,zt=_t<3?Se:null===at?at=Object.getOwnPropertyDescriptor(Se,Ne):at;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)zt=Reflect.decorate(nt,Se,Ne,at);else for(var mt=nt.length-1;mt>=0;mt--)(pn=nt[mt])&&(zt=(_t<3?pn(zt):_t>3?pn(Se,Ne,zt):pn(Se,Ne))||zt);return _t>3&&zt&&Object.defineProperty(Se,Ne,zt),zt},$=function(nt,Se,Ne,at){return new(Ne||(Ne=Promise))(function(zt,pn){function mt(Wt){try{Bt(at.next(Wt))}catch(fn){pn(fn)}}function Rt(Wt){try{Bt(at.throw(Wt))}catch(fn){pn(fn)}}function Bt(Wt){Wt.done?zt(Wt.value):function(zt){return zt instanceof Ne?zt:new Ne(function(pn){pn(zt)})}(Wt.value).then(mt,Rt)}Bt((at=at.apply(nt,Se||[])).next())})};class j{constructor(Se){this.trait=Se,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(Se){return Se}renderElement(Se,Ne,at){const _t=this.renderedElements.findIndex(zt=>zt.templateData===at);if(_t>=0){const zt=this.renderedElements[_t];this.trait.unrender(at),zt.index=Ne}else this.renderedElements.push({index:Ne,templateData:at});this.trait.renderIndex(Ne,at)}splice(Se,Ne,at){const _t=[];for(const zt of this.renderedElements)zt.index<Se?_t.push(zt):zt.index>=Se+Ne&&_t.push({index:zt.index+at-Ne,templateData:zt.templateData});this.renderedElements=_t}renderIndexes(Se){for(const{index:Ne,templateData:at}of this.renderedElements)Se.indexOf(Ne)>-1&&this.trait.renderIndex(Ne,at)}disposeTemplate(Se){const Ne=this.renderedElements.findIndex(at=>at.templateData===Se);Ne<0||this.renderedElements.splice(Ne,1)}}class G{constructor(Se){this._trait=Se,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new C.Q5,this.onChange=this._onChange.event}get name(){return this._trait}get renderer(){return new j(this)}splice(Se,Ne,at){var _t;Ne=Math.max(0,Math.min(Ne,this.length-Se));const zt=at.length-Ne,pn=Se+Ne,mt=[...this.sortedIndexes.filter(Bt=>Bt<Se),...at.map((Bt,Wt)=>Bt?Wt+Se:-1).filter(Bt=>-1!==Bt),...this.sortedIndexes.filter(Bt=>Bt>=pn).map(Bt=>Bt+zt)],Rt=this.length+zt;if(this.sortedIndexes.length>0&&0===mt.length&&Rt>0){const Bt=null!==(_t=this.sortedIndexes.find(Wt=>Wt>=Se))&&void 0!==_t?_t:Rt-1;mt.push(Math.min(Bt,Rt-1))}this.renderer.splice(Se,Ne,at.length),this._set(mt,mt),this.length=Rt}renderIndex(Se,Ne){Ne.classList.toggle(this._trait,this.contains(Se))}unrender(Se){Se.classList.remove(this._trait)}set(Se,Ne){return this._set(Se,[...Se].sort(et),Ne)}_set(Se,Ne,at){const _t=this.indexes,zt=this.sortedIndexes;this.indexes=Se,this.sortedIndexes=Ne;const pn=_e(zt,Se);return this.renderer.renderIndexes(pn),this._onChange.fire({indexes:Se,browserEvent:at}),_t}get(){return this.indexes}contains(Se){return(0,O.ry)(this.sortedIndexes,Se,et)>=0}dispose(){(0,L.B9)(this._onChange)}}k([S.H],G.prototype,"renderer",null);class oe extends G{constructor(Se){super("selected"),this.setAriaSelected=Se}renderIndex(Se,Ne){super.renderIndex(Se,Ne),this.setAriaSelected&&(this.contains(Se)?Ne.setAttribute("aria-selected","true"):Ne.setAttribute("aria-selected","false"))}}class de{constructor(Se,Ne,at){this.trait=Se,this.view=Ne,this.identityProvider=at}splice(Se,Ne,at){if(!this.identityProvider)return this.trait.splice(Se,Ne,at.map(()=>!1));const _t=this.trait.get().map(pn=>this.identityProvider.getId(this.view.element(pn)).toString()),zt=at.map(pn=>_t.indexOf(this.identityProvider.getId(pn).toString())>-1);this.trait.splice(Se,Ne,zt)}}function fe(nt){return"INPUT"===nt.tagName||"TEXTAREA"===nt.tagName}function pe(nt){return!!nt.classList.contains("monaco-editor")||!(nt.classList.contains("monaco-list")||!nt.parentElement)&&pe(nt.parentElement)}class we{constructor(Se,Ne,at){this.list=Se,this.view=Ne,this.disposables=new L.SL,this.multipleSelectionDisposables=new L.SL,this.onKeyDown.filter(_t=>3===_t.keyCode).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(_t=>16===_t.keyCode).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(_t=>18===_t.keyCode).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(_t=>11===_t.keyCode).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(_t=>12===_t.keyCode).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(_t=>9===_t.keyCode).on(this.onEscape,this,this.disposables),!1!==at.multipleSelectionSupport&&this.onKeyDown.filter(_t=>(z.dz?_t.metaKey:_t.ctrlKey)&&31===_t.keyCode).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return C.ju.chain(this.disposables.add(new g.Y(this.view.domNode,"keydown")).event).filter(Se=>!fe(Se.target)).map(Se=>new Y.y(Se))}updateOptions(Se){void 0!==Se.multipleSelectionSupport&&(this.multipleSelectionDisposables.clear(),Se.multipleSelectionSupport&&this.onKeyDown.filter(Ne=>(z.dz?Ne.metaKey:Ne.ctrlKey)&&31===Ne.keyCode).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(Se){Se.preventDefault(),Se.stopPropagation(),this.list.setSelection(this.list.getFocus(),Se.browserEvent)}onUpArrow(Se){Se.preventDefault(),Se.stopPropagation(),this.list.focusPrevious(1,!1,Se.browserEvent);const Ne=this.list.getFocus()[0];this.list.setAnchor(Ne),this.list.reveal(Ne),this.view.domNode.focus()}onDownArrow(Se){Se.preventDefault(),Se.stopPropagation(),this.list.focusNext(1,!1,Se.browserEvent);const Ne=this.list.getFocus()[0];this.list.setAnchor(Ne),this.list.reveal(Ne),this.view.domNode.focus()}onPageUpArrow(Se){Se.preventDefault(),Se.stopPropagation(),this.list.focusPreviousPage(Se.browserEvent);const Ne=this.list.getFocus()[0];this.list.setAnchor(Ne),this.list.reveal(Ne),this.view.domNode.focus()}onPageDownArrow(Se){Se.preventDefault(),Se.stopPropagation(),this.list.focusNextPage(Se.browserEvent);const Ne=this.list.getFocus()[0];this.list.setAnchor(Ne),this.list.reveal(Ne),this.view.domNode.focus()}onCtrlA(Se){Se.preventDefault(),Se.stopPropagation(),this.list.setSelection((0,O.w6)(this.list.length),Se.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(Se){this.list.getSelection().length&&(Se.preventDefault(),Se.stopPropagation(),this.list.setSelection([],Se.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}k([S.H],we.prototype,"onKeyDown",null);var ge=(()=>{return(nt=ge||(ge={}))[nt.Idle=0]="Idle",nt[nt.Typing=1]="Typing",ge;var nt})();const Q=new class{mightProducePrintableCharacter(nt){return!(nt.ctrlKey||nt.metaKey||nt.altKey)&&(nt.keyCode>=31&&nt.keyCode<=56||nt.keyCode>=21&&nt.keyCode<=30||nt.keyCode>=93&&nt.keyCode<=102||nt.keyCode>=80&&nt.keyCode<=90)}};class q{constructor(Se,Ne,at,_t){this.list=Se,this.view=Ne,this.keyboardNavigationLabelProvider=at,this.delegate=_t,this.enabled=!1,this.state=ge.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new L.SL,this.disposables=new L.SL,this.updateOptions(Se.options)}updateOptions(Se){void 0===Se.enableKeyboardNavigation||Se.enableKeyboardNavigation?this.enable():this.disable(),void 0!==Se.automaticKeyboardNavigation&&(this.automaticKeyboardNavigation=Se.automaticKeyboardNavigation)}enable(){if(this.enabled)return;const Se=C.ju.chain(this.enabledDisposables.add(new g.Y(this.view.domNode,"keydown")).event).filter(_t=>!fe(_t.target)).filter(()=>this.automaticKeyboardNavigation||this.triggered).map(_t=>new Y.y(_t)).filter(_t=>this.delegate.mightProducePrintableCharacter(_t)).forEach(_t=>_t.preventDefault()).map(_t=>_t.browserEvent.key).event,Ne=C.ju.debounce(Se,()=>null,800);C.ju.reduce(C.ju.any(Se,Ne),(_t,zt)=>null===zt?null:(_t||"")+zt)(this.onInput,this,this.enabledDisposables),Ne(this.onClear,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){!this.enabled||(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var Se;const Ne=this.list.getFocus();if(Ne.length>0&&Ne[0]===this.previouslyFocused){const at=null===(Se=this.list.options.accessibilityProvider)||void 0===Se?void 0:Se.getAriaLabel(this.list.element(Ne[0]));at&&(0,E.Z9)(at)}this.previouslyFocused=-1}onInput(Se){if(!Se)return this.state=ge.Idle,void(this.triggered=!1);const Ne=this.list.getFocus(),at=Ne.length>0?Ne[0]:0,_t=this.state===ge.Idle?1:0;this.state=ge.Typing;for(let zt=0;zt<this.list.length;zt++){const pn=(at+zt+_t)%this.list.length,mt=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(pn)),Rt=mt&&mt.toString();if(void 0===Rt||(0,b.Ji)(Se,Rt))return this.previouslyFocused=at,this.list.setFocus([pn]),void this.list.reveal(pn)}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class le{constructor(Se,Ne){this.list=Se,this.view=Ne,this.disposables=new L.SL,C.ju.chain(this.disposables.add(new g.Y(Ne.domNode,"keydown")).event).filter(_t=>!fe(_t.target)).map(_t=>new Y.y(_t)).filter(_t=>!(2!==_t.keyCode||_t.ctrlKey||_t.metaKey||_t.shiftKey||_t.altKey)).on(this.onTab,this,this.disposables)}onTab(Se){if(Se.target!==this.view.domNode)return;const Ne=this.list.getFocus();if(0===Ne.length)return;const at=this.view.domElement(Ne[0]);if(!at)return;const _t=at.querySelector("[tabIndex]");if(!(_t&&_t instanceof HTMLElement&&-1!==_t.tabIndex))return;const zt=window.getComputedStyle(_t);"hidden"===zt.visibility||"none"===zt.display||(Se.preventDefault(),Se.stopPropagation(),_t.focus())}dispose(){this.disposables.dispose()}}function ee(nt){return z.dz?nt.browserEvent.metaKey:nt.browserEvent.ctrlKey}function X(nt){return nt.browserEvent.shiftKey}const ce={isSelectionSingleChangeEvent:ee,isSelectionRangeChangeEvent:X};class ve{constructor(Se){this.list=Se,this.disposables=new L.SL,this._onPointer=new C.Q5,this.onPointer=this._onPointer.event,!1!==Se.options.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||ce),this.mouseSupport=void 0===Se.options.mouseSupport||!!Se.options.mouseSupport,this.mouseSupport&&(Se.onMouseDown(this.onMouseDown,this,this.disposables),Se.onContextMenu(this.onContextMenu,this,this.disposables),Se.onMouseDblClick(this.onDoubleClick,this,this.disposables),Se.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(B.o.addTarget(Se.getHTMLElement()))),C.ju.any(Se.onMouseClick,Se.onMouseMiddleClick,Se.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(Se){void 0!==Se.multipleSelectionSupport&&(this.multipleSelectionController=void 0,Se.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||ce))}isSelectionSingleChangeEvent(Se){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionSingleChangeEvent(Se)}isSelectionRangeChangeEvent(Se){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionRangeChangeEvent(Se)}isSelectionChangeEvent(Se){return this.isSelectionSingleChangeEvent(Se)||this.isSelectionRangeChangeEvent(Se)}onMouseDown(Se){pe(Se.browserEvent.target)||document.activeElement!==Se.browserEvent.target&&this.list.domFocus()}onContextMenu(Se){pe(Se.browserEvent.target)||this.list.setFocus(void 0===Se.index?[]:[Se.index],Se.browserEvent)}onViewPointer(Se){if(!this.mouseSupport||fe(Se.browserEvent.target)||pe(Se.browserEvent.target))return;const Ne=Se.index;return void 0===Ne?(this.list.setFocus([],Se.browserEvent),this.list.setSelection([],Se.browserEvent),void this.list.setAnchor(void 0)):this.isSelectionRangeChangeEvent(Se)||this.isSelectionChangeEvent(Se)?this.changeSelection(Se):(this.list.setFocus([Ne],Se.browserEvent),this.list.setAnchor(Ne),(nt=Se.browserEvent)instanceof MouseEvent&&2===nt.button||this.list.setSelection([Ne],Se.browserEvent),void this._onPointer.fire(Se));var nt}onDoubleClick(Se){if(fe(Se.browserEvent.target)||pe(Se.browserEvent.target)||this.isSelectionChangeEvent(Se))return;const Ne=this.list.getFocus();this.list.setSelection(Ne,Se.browserEvent)}changeSelection(Se){const Ne=Se.index;let at=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(Se)){void 0===at&&(at=this.list.getFocus()[0]??Ne,this.list.setAnchor(at));const _t=Math.min(at,Ne),zt=Math.max(at,Ne),pn=(0,O.w6)(_t,zt+1),mt=this.list.getSelection(),Rt=function(nt,Se){const Ne=nt.indexOf(Se);if(-1===Ne)return[];const at=[];let _t=Ne-1;for(;_t>=0&&nt[_t]===Se-(Ne-_t);)at.push(nt[_t--]);for(at.reverse(),_t=Ne;_t<nt.length&&nt[_t]===Se+(_t-Ne);)at.push(nt[_t++]);return at}(_e(mt,[at]),at);if(0===Rt.length)return;const Bt=_e(pn,function(nt,Se){const Ne=[];let at=0,_t=0;for(;at<nt.length||_t<Se.length;)if(at>=nt.length)Ne.push(Se[_t++]);else if(_t>=Se.length)Ne.push(nt[at++]);else{if(nt[at]===Se[_t]){at++,_t++;continue}nt[at]<Se[_t]?Ne.push(nt[at++]):_t++}return Ne}(mt,Rt));this.list.setSelection(Bt,Se.browserEvent),this.list.setFocus([Ne],Se.browserEvent)}else if(this.isSelectionSingleChangeEvent(Se)){const _t=this.list.getSelection(),zt=_t.filter(pn=>pn!==Ne);this.list.setFocus([Ne]),this.list.setAnchor(Ne),this.list.setSelection(_t.length===zt.length?[...zt,Ne]:zt,Se.browserEvent)}}dispose(){this.disposables.dispose()}}class ke{constructor(Se,Ne){this.styleElement=Se,this.selectorSuffix=Ne}style(Se){const Ne=this.selectorSuffix&&`.${this.selectorSuffix}`,at=[];Se.listBackground&&(Se.listBackground.isOpaque()?at.push(`.monaco-list${Ne} .monaco-list-rows { background: ${Se.listBackground}; }`):z.dz||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),Se.listFocusBackground&&(at.push(`.monaco-list${Ne}:focus .monaco-list-row.focused { background-color: ${Se.listFocusBackground}; }`),at.push(`.monaco-list${Ne}:focus .monaco-list-row.focused:hover { background-color: ${Se.listFocusBackground}; }`)),Se.listFocusForeground&&at.push(`.monaco-list${Ne}:focus .monaco-list-row.focused { color: ${Se.listFocusForeground}; }`),Se.listActiveSelectionBackground&&(at.push(`.monaco-list${Ne}:focus .monaco-list-row.selected { background-color: ${Se.listActiveSelectionBackground}; }`),at.push(`.monaco-list${Ne}:focus .monaco-list-row.selected:hover { background-color: ${Se.listActiveSelectionBackground}; }`)),Se.listActiveSelectionForeground&&at.push(`.monaco-list${Ne}:focus .monaco-list-row.selected { color: ${Se.listActiveSelectionForeground}; }`),Se.listActiveSelectionIconForeground&&at.push(`.monaco-list${Ne}:focus .monaco-list-row.selected .codicon { color: ${Se.listActiveSelectionIconForeground}; }`),Se.listFocusAndSelectionBackground&&at.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${Ne}:focus .monaco-list-row.selected.focused { background-color: ${Se.listFocusAndSelectionBackground}; }\n\t\t\t`),Se.listFocusAndSelectionForeground&&at.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${Ne}:focus .monaco-list-row.selected.focused { color: ${Se.listFocusAndSelectionForeground}; }\n\t\t\t`),Se.listInactiveFocusForeground&&(at.push(`.monaco-list${Ne} .monaco-list-row.focused { color:  ${Se.listInactiveFocusForeground}; }`),at.push(`.monaco-list${Ne} .monaco-list-row.focused:hover { color:  ${Se.listInactiveFocusForeground}; }`)),Se.listInactiveSelectionIconForeground&&at.push(`.monaco-list${Ne} .monaco-list-row.focused .codicon { color:  ${Se.listInactiveSelectionIconForeground}; }`),Se.listInactiveFocusBackground&&(at.push(`.monaco-list${Ne} .monaco-list-row.focused { background-color:  ${Se.listInactiveFocusBackground}; }`),at.push(`.monaco-list${Ne} .monaco-list-row.focused:hover { background-color:  ${Se.listInactiveFocusBackground}; }`)),Se.listInactiveSelectionBackground&&(at.push(`.monaco-list${Ne} .monaco-list-row.selected { background-color:  ${Se.listInactiveSelectionBackground}; }`),at.push(`.monaco-list${Ne} .monaco-list-row.selected:hover { background-color:  ${Se.listInactiveSelectionBackground}; }`)),Se.listInactiveSelectionForeground&&at.push(`.monaco-list${Ne} .monaco-list-row.selected { color: ${Se.listInactiveSelectionForeground}; }`),Se.listHoverBackground&&at.push(`.monaco-list${Ne}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${Se.listHoverBackground}; }`),Se.listHoverForeground&&at.push(`.monaco-list${Ne} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${Se.listHoverForeground}; }`),Se.listSelectionOutline&&at.push(`.monaco-list${Ne} .monaco-list-row.selected { outline: 1px dotted ${Se.listSelectionOutline}; outline-offset: -1px; }`),Se.listFocusOutline&&at.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${Ne}:focus .monaco-list-row.focused { outline: 1px solid ${Se.listFocusOutline}; outline-offset: -1px; }\n\t\t\t\t.monaco-workbench.context-menu-visible .monaco-list${Ne}.last-focused .monaco-list-row.focused { outline: 1px solid ${Se.listFocusOutline}; outline-offset: -1px; }\n\t\t\t`),Se.listInactiveFocusOutline&&at.push(`.monaco-list${Ne} .monaco-list-row.focused { outline: 1px dotted ${Se.listInactiveFocusOutline}; outline-offset: -1px; }`),Se.listHoverOutline&&at.push(`.monaco-list${Ne} .monaco-list-row:hover { outline: 1px dashed ${Se.listHoverOutline}; outline-offset: -1px; }`),Se.listDropBackground&&at.push(`\n\t\t\t\t.monaco-list${Ne}.drop-target,\n\t\t\t\t.monaco-list${Ne} .monaco-list-rows.drop-target,\n\t\t\t\t.monaco-list${Ne} .monaco-list-row.drop-target { background-color: ${Se.listDropBackground} !important; color: inherit !important; }\n\t\t\t`),Se.listFilterWidgetBackground&&at.push(`.monaco-list-type-filter { background-color: ${Se.listFilterWidgetBackground} }`),Se.listFilterWidgetOutline&&at.push(`.monaco-list-type-filter { border: 1px solid ${Se.listFilterWidgetOutline}; }`),Se.listFilterWidgetNoMatchesOutline&&at.push(`.monaco-list-type-filter.no-matches { border: 1px solid ${Se.listFilterWidgetNoMatchesOutline}; }`),Se.listMatchesShadow&&at.push(`.monaco-list-type-filter { box-shadow: 1px 1px 1px ${Se.listMatchesShadow}; }`),Se.tableColumnsBorder&&at.push(`\n\t\t\t\t.monaco-table:hover > .monaco-split-view2,\n\t\t\t\t.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\t\t\tborder-color: ${Se.tableColumnsBorder};\n\t\t\t}`),Se.tableOddRowsBackgroundColor&&at.push(`\n\t\t\t\t.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {\n\t\t\t\t\tbackground-color: ${Se.tableOddRowsBackgroundColor};\n\t\t\t\t}\n\t\t\t`),this.styleElement.textContent=at.join("\n")}}const Ve={listFocusBackground:T.Il.fromHex("#7FB0D0"),listActiveSelectionBackground:T.Il.fromHex("#0E639C"),listActiveSelectionForeground:T.Il.fromHex("#FFFFFF"),listActiveSelectionIconForeground:T.Il.fromHex("#FFFFFF"),listFocusAndSelectionBackground:T.Il.fromHex("#094771"),listFocusAndSelectionForeground:T.Il.fromHex("#FFFFFF"),listInactiveSelectionBackground:T.Il.fromHex("#3F3F46"),listInactiveSelectionIconForeground:T.Il.fromHex("#FFFFFF"),listHoverBackground:T.Il.fromHex("#2A2D2E"),listDropBackground:T.Il.fromHex("#383B3D"),treeIndentGuidesStroke:T.Il.fromHex("#a9a9a9"),tableColumnsBorder:T.Il.fromHex("#cccccc").transparent(.2),tableOddRowsBackgroundColor:T.Il.fromHex("#cccccc").transparent(.04)},Ue={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}}};function _e(nt,Se){const Ne=[];let at=0,_t=0;for(;at<nt.length||_t<Se.length;)if(at>=nt.length)Ne.push(Se[_t++]);else if(_t>=Se.length)Ne.push(nt[at++]);else{if(nt[at]===Se[_t]){Ne.push(nt[at]),at++,_t++;continue}Ne.push(nt[at]<Se[_t]?nt[at++]:Se[_t++])}return Ne}const et=(nt,Se)=>nt-Se;class Ze{constructor(Se,Ne){this._templateId=Se,this.renderers=Ne}get templateId(){return this._templateId}renderTemplate(Se){return this.renderers.map(Ne=>Ne.renderTemplate(Se))}renderElement(Se,Ne,at,_t){let zt=0;for(const pn of this.renderers)pn.renderElement(Se,Ne,at[zt++],_t)}disposeElement(Se,Ne,at,_t){let zt=0;for(const pn of this.renderers)pn.disposeElement&&pn.disposeElement(Se,Ne,at[zt],_t),zt+=1}disposeTemplate(Se){let Ne=0;for(const at of this.renderers)at.disposeTemplate(Se[Ne++])}}class Pe{constructor(Se){this.accessibilityProvider=Se,this.templateId="a18n"}renderTemplate(Se){return Se}renderElement(Se,Ne,at){const _t=this.accessibilityProvider.getAriaLabel(Se);_t?at.setAttribute("aria-label",_t):at.removeAttribute("aria-label");const zt=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(Se);"number"==typeof zt?at.setAttribute("aria-level",`${zt}`):at.removeAttribute("aria-level")}disposeTemplate(Se){}}class rt{constructor(Se,Ne){this.list=Se,this.dnd=Ne}getDragElements(Se){const Ne=this.list.getSelectedElements();return Ne.indexOf(Se)>-1?Ne:[Se]}getDragURI(Se){return this.dnd.getDragURI(Se)}getDragLabel(Se,Ne){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(Se,Ne)}onDragStart(Se,Ne){this.dnd.onDragStart&&this.dnd.onDragStart(Se,Ne)}onDragOver(Se,Ne,at,_t){return this.dnd.onDragOver(Se,Ne,at,_t)}onDragLeave(Se,Ne,at,_t){var zt,pn;null===(pn=(zt=this.dnd).onDragLeave)||void 0===pn||pn.call(zt,Se,Ne,at,_t)}onDragEnd(Se){this.dnd.onDragEnd&&this.dnd.onDragEnd(Se)}drop(Se,Ne,at,_t){this.dnd.drop(Se,Ne,at,_t)}}class ut{constructor(Se,Ne,at,_t,zt=Ue){var pn;this.user=Se,this._options=zt,this.focus=new G("focused"),this.anchor=new G("anchor"),this.eventBufferer=new C.E7,this._ariaLabel="",this.disposables=new L.SL,this._onDidDispose=new C.Q5,this.onDidDispose=this._onDidDispose.event;const mt=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?null===(pn=this._options.accessibilityProvider)||void 0===pn?void 0:pn.getWidgetRole():"list";this.selection=new oe("listbox"!==mt),(0,N.jB)(zt,Ve,!1);const Rt=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=zt.accessibilityProvider,this.accessibilityProvider&&(Rt.push(new Pe(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant&&this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant,this,this.disposables)),_t=_t.map(Wt=>new Ze(Wt.templateId,[...Rt,Wt]));const Bt=Object.assign(Object.assign({},zt),{dnd:zt.dnd&&new rt(this,zt.dnd)});if(this.view=new P.Bv(Ne,at,_t,Bt),this.view.domNode.setAttribute("role",mt),zt.styleController)this.styleController=zt.styleController(this.view.domId);else{const Wt=(0,M.dS)(this.view.domNode);this.styleController=new ke(Wt,this.view.domId)}this.spliceable=new i([new de(this.focus,this.view,zt.identityProvider),new de(this.selection,this.view,zt.identityProvider),new de(this.anchor,this.view,zt.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new le(this,this.view)),("boolean"!=typeof zt.keyboardSupport||zt.keyboardSupport)&&(this.keyboardController=new we(this,this.view,zt),this.disposables.add(this.keyboardController)),zt.keyboardNavigationLabelProvider&&(this.typeLabelController=new q(this,this.view,zt.keyboardNavigationLabelProvider,zt.keyboardNavigationDelegate||Q),this.disposables.add(this.typeLabelController)),this.mouseController=this.createMouseController(zt),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),!1!==this._options.multipleSelectionSupport&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return C.ju.map(this.eventBufferer.wrapEvent(this.focus.onChange),Se=>this.toListEvent(Se))}get onDidChangeSelection(){return C.ju.map(this.eventBufferer.wrapEvent(this.selection.onChange),Se=>this.toListEvent(Se))}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let Se=!1;const Ne=C.ju.chain(this.disposables.add(new g.Y(this.view.domNode,"keydown")).event).map(zt=>new Y.y(zt)).filter(zt=>Se=58===zt.keyCode||zt.shiftKey&&68===zt.keyCode).map(g.p).filter(()=>!1).event,at=C.ju.chain(this.disposables.add(new g.Y(this.view.domNode,"keyup")).event).forEach(()=>Se=!1).map(zt=>new Y.y(zt)).filter(zt=>58===zt.keyCode||zt.shiftKey&&68===zt.keyCode).map(g.p).map(({browserEvent:zt})=>{const pn=this.getFocus(),mt=pn.length?pn[0]:void 0;return{index:mt,element:void 0!==mt?this.view.element(mt):void 0,anchor:void 0!==mt?this.view.domElement(mt):this.view.domNode,browserEvent:zt}}).event,_t=C.ju.chain(this.view.onContextMenu).filter(zt=>!Se).map(({element:zt,index:pn,browserEvent:mt})=>({element:zt,index:pn,anchor:{x:mt.pageX+1,y:mt.pageY},browserEvent:mt})).event;return C.ju.any(Ne,at,_t)}get onKeyDown(){return this.disposables.add(new g.Y(this.view.domNode,"keydown")).event}get onDidFocus(){return C.ju.signal(this.disposables.add(new g.Y(this.view.domNode,"focus",!0)).event)}createMouseController(Se){return new ve(this)}updateOptions(Se={}){var Ne;this._options=Object.assign(Object.assign({},this._options),Se),this.typeLabelController&&this.typeLabelController.updateOptions(this._options),void 0!==this._options.multipleSelectionController&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(Se),null===(Ne=this.keyboardController)||void 0===Ne||Ne.updateOptions(Se),this.view.updateOptions(Se)}get options(){return this._options}splice(Se,Ne,at=[]){if(Se<0||Se>this.view.length)throw new Z(this.user,`Invalid start index: ${Se}`);if(Ne<0)throw new Z(this.user,`Invalid delete count: ${Ne}`);0===Ne&&0===at.length||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(Se,Ne,at))}rerender(){this.view.rerender()}element(Se){return this.view.element(Se)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(Se){this.view.setScrollTop(Se)}get ariaLabel(){return this._ariaLabel}set ariaLabel(Se){this._ariaLabel=Se,this.view.domNode.setAttribute("aria-label",Se)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(Se,Ne){this.view.layout(Se,Ne)}setSelection(Se,Ne){for(const at of Se)if(at<0||at>=this.length)throw new Z(this.user,`Invalid index ${at}`);this.selection.set(Se,Ne)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(Se=>this.view.element(Se))}setAnchor(Se){if(void 0!==Se){if(Se<0||Se>=this.length)throw new Z(this.user,`Invalid index ${Se}`);this.anchor.set([Se])}else this.anchor.set([])}getAnchor(){return(0,O.Xh)(this.anchor.get(),void 0)}getAnchorElement(){const Se=this.getAnchor();return void 0===Se?void 0:this.element(Se)}setFocus(Se,Ne){for(const at of Se)if(at<0||at>=this.length)throw new Z(this.user,`Invalid index ${at}`);this.focus.set(Se,Ne)}focusNext(Se=1,Ne=!1,at,_t){if(0===this.length)return;const zt=this.focus.get(),pn=this.findNextIndex(zt.length>0?zt[0]+Se:0,Ne,_t);pn>-1&&this.setFocus([pn],at)}focusPrevious(Se=1,Ne=!1,at,_t){if(0===this.length)return;const zt=this.focus.get(),pn=this.findPreviousIndex(zt.length>0?zt[0]-Se:0,Ne,_t);pn>-1&&this.setFocus([pn],at)}focusNextPage(Se,Ne){return $(this,void 0,void 0,function*(){let at=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);at=0===at?0:at-1;const _t=this.view.element(at),zt=this.getFocusedElements()[0];if(zt!==_t){const pn=this.findPreviousIndex(at,!1,Ne);pn>-1&&zt!==this.view.element(pn)?this.setFocus([pn],Se):this.setFocus([at],Se)}else{const pn=this.view.getScrollTop();this.view.setScrollTop(pn+this.view.renderHeight-this.view.elementHeight(at)),this.view.getScrollTop()!==pn&&(this.setFocus([]),yield(0,F.Vs)(0),yield this.focusNextPage(Se,Ne))}})}focusPreviousPage(Se,Ne){return $(this,void 0,void 0,function*(){let at;const _t=this.view.getScrollTop();at=0===_t?this.view.indexAt(_t):this.view.indexAfter(_t-1);const zt=this.view.element(at),pn=this.getFocusedElements()[0];if(pn!==zt){const mt=this.findNextIndex(at,!1,Ne);mt>-1&&pn!==this.view.element(mt)?this.setFocus([mt],Se):this.setFocus([at],Se)}else{const mt=_t;this.view.setScrollTop(_t-this.view.renderHeight),this.view.getScrollTop()!==mt&&(this.setFocus([]),yield(0,F.Vs)(0),yield this.focusPreviousPage(Se,Ne))}})}focusLast(Se,Ne){if(0===this.length)return;const at=this.findPreviousIndex(this.length-1,!1,Ne);at>-1&&this.setFocus([at],Se)}focusFirst(Se,Ne){this.focusNth(0,Se,Ne)}focusNth(Se,Ne,at){if(0===this.length)return;const _t=this.findNextIndex(Se,!1,at);_t>-1&&this.setFocus([_t],Ne)}findNextIndex(Se,Ne=!1,at){for(let _t=0;_t<this.length;_t++){if(Se>=this.length&&!Ne)return-1;if(Se%=this.length,!at||at(this.element(Se)))return Se;Se++}return-1}findPreviousIndex(Se,Ne=!1,at){for(let _t=0;_t<this.length;_t++){if(Se<0&&!Ne)return-1;if(Se=(this.length+Se%this.length)%this.length,!at||at(this.element(Se)))return Se;Se--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(Se=>this.view.element(Se))}reveal(Se,Ne){if(Se<0||Se>=this.length)throw new Z(this.user,`Invalid index ${Se}`);const at=this.view.getScrollTop(),_t=this.view.elementTop(Se),zt=this.view.elementHeight(Se);if((0,D.hj)(Ne))this.view.setScrollTop((zt-this.view.renderHeight)*(0,f.uZ)(Ne,0,1)+_t);else{const pn=_t+zt,mt=at+this.view.renderHeight;_t<at&&pn>=mt||(_t<at||pn>=mt&&zt>=this.view.renderHeight?this.view.setScrollTop(_t):pn>=mt&&this.view.setScrollTop(pn-this.view.renderHeight))}}getRelativeTop(Se){if(Se<0||Se>=this.length)throw new Z(this.user,`Invalid index ${Se}`);const Ne=this.view.getScrollTop(),at=this.view.elementTop(Se),_t=this.view.elementHeight(Se);return at<Ne||at+_t>Ne+this.view.renderHeight?null:Math.abs((Ne-at)/(_t-this.view.renderHeight))}getHTMLElement(){return this.view.domNode}style(Se){this.styleController.style(Se)}toListEvent({indexes:Se,browserEvent:Ne}){return{indexes:Se,elements:Se.map(at=>this.view.element(at)),browserEvent:Ne}}_onFocusChange(){const Se=this.focus.get();this.view.domNode.classList.toggle("element-focused",Se.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var Se;const Ne=this.focus.get();if(Ne.length>0){let at;(null===(Se=this.accessibilityProvider)||void 0===Se?void 0:Se.getActiveDescendantId)&&(at=this.accessibilityProvider.getActiveDescendantId(this.view.element(Ne[0]))),this.view.domNode.setAttribute("aria-activedescendant",at||this.view.getElementDomId(Ne[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const Se=this.selection.get();this.view.domNode.classList.toggle("selection-none",0===Se.length),this.view.domNode.classList.toggle("selection-single",1===Se.length),this.view.domNode.classList.toggle("selection-multiple",Se.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}k([S.H],ut.prototype,"onDidChangeFocus",null),k([S.H],ut.prototype,"onDidChangeSelection",null),k([S.H],ut.prototype,"onContextMenu",null),k([S.H],ut.prototype,"onKeyDown",null),k([S.H],ut.prototype,"onDidFocus",null)},2450:(Be,Me,m)=>{m.d(Me,{S:()=>g}),m(12239);const g="monaco-mouse-cursor-text"},54789:(Be,Me,m)=>{m.d(Me,{l:()=>b,g:()=>k});var M=m(86678),g=m(71172),Y=m(23945),B=m(89983),E=m(94456),i=m(71040),O=m(40189),F=m(70700),S=(m(10649),function($,j,G,oe){var pe,de=arguments.length,fe=de<3?j:null===oe?oe=Object.getOwnPropertyDescriptor(j,G):oe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)fe=Reflect.decorate($,j,G,oe);else for(var we=$.length-1;we>=0;we--)(pe=$[we])&&(fe=(de<3?pe(fe):de>3?pe(j,G,fe):pe(j,G))||fe);return de>3&&fe&&Object.defineProperty(j,G,fe),fe}),b=(()=>{return($=b||(b={})).North="north",$.South="south",$.East="east",$.West="west",b;var $})();const f=new i.Q5,z=new i.Q5;class D{constructor(){this.disposables=new O.SL}get onPointerMove(){return this.disposables.add(new g.Y(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new g.Y(window,"mouseup")).event}dispose(){this.disposables.dispose()}}S([E.H],D.prototype,"onPointerMove",null),S([E.H],D.prototype,"onPointerUp",null);class I{constructor(j){this.el=j,this.disposables=new O.SL}get onPointerMove(){return this.disposables.add(new g.Y(this.el,Y.t.Change)).event}get onPointerUp(){return this.disposables.add(new g.Y(this.el,Y.t.End)).event}dispose(){this.disposables.dispose()}}S([E.H],I.prototype,"onPointerMove",null),S([E.H],I.prototype,"onPointerUp",null);class Z{constructor(j){this.factory=j}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}S([E.H],Z.prototype,"onPointerMove",null),S([E.H],Z.prototype,"onPointerUp",null);const P="pointer-events-disabled";class k extends O.JT{constructor(j,G,oe){super(),this.hoverDelay=300,this.hoverDelayer=this._register(new B.vp(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new i.Q5),this._onDidStart=this._register(new i.Q5),this._onDidChange=this._register(new i.Q5),this._onDidReset=this._register(new i.Q5),this._onDidEnd=this._register(new i.Q5),this.orthogonalStartSashDisposables=this._register(new O.SL),this.orthogonalStartDragHandleDisposables=this._register(new O.SL),this.orthogonalEndSashDisposables=this._register(new O.SL),this.orthogonalEndDragHandleDisposables=this._register(new O.SL),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,M.R3)(j,(0,M.$)(".monaco-sash")),oe.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${oe.orthogonalEdge}`),F.dz&&this.el.classList.add("mac");const de=this._register(new g.Y(this.el,"mousedown")).event;this._register(de(le=>this.onPointerStart(le,new D),this));const fe=this._register(new g.Y(this.el,"dblclick")).event;this._register(fe(this.onPointerDoublePress,this));const pe=this._register(new g.Y(this.el,"mouseenter")).event;this._register(pe(()=>k.onMouseEnter(this)));const we=this._register(new g.Y(this.el,"mouseleave")).event;this._register(we(()=>k.onMouseLeave(this))),this._register(Y.o.addTarget(this.el));const ge=i.ju.map(this._register(new g.Y(this.el,Y.t.Start)).event,le=>{var ee;return Object.assign(Object.assign({},le),{target:null!==(ee=le.initialTarget)&&void 0!==ee?ee:null})});this._register(ge(le=>this.onPointerStart(le,new I(this.el)),this));const Q=this._register(new g.Y(this.el,Y.t.Tap)).event,q=i.ju.map(i.ju.filter(i.ju.debounce(Q,(le,ee)=>{var X;return{event:ee,count:(null!==(X=null==le?void 0:le.count)&&void 0!==X?X:0)+1}},250),({count:le})=>2===le),({event:le})=>{var ee;return Object.assign(Object.assign({},le),{target:null!==(ee=le.initialTarget)&&void 0!==ee?ee:null})});this._register(q(this.onPointerDoublePress,this)),"number"==typeof oe.size?(this.size=oe.size,0===oe.orientation?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=4,this._register(f.event(le=>{this.size=le,this.layout()}))),this._register(z.event(le=>this.hoverDelay=le)),this.layoutProvider=G,this.orthogonalStartSash=oe.orthogonalStartSash,this.orthogonalEndSash=oe.orthogonalEndSash,this.orientation=oe.orientation||0,1===this.orientation?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",!1),this.layout()}get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(j){this._state!==j&&(this.el.classList.toggle("disabled",0===j),this.el.classList.toggle("minimum",1===j),this.el.classList.toggle("maximum",2===j),this._state=j,this.onDidEnablementChange.fire(j))}set orthogonalStartSash(j){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),j){const G=oe=>{this.orthogonalStartDragHandleDisposables.clear(),0!==oe&&(this._orthogonalStartDragHandle=(0,M.R3)(this.el,(0,M.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,O.OF)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new g.Y(this._orthogonalStartDragHandle,"mouseenter")).event(()=>k.onMouseEnter(j),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new g.Y(this._orthogonalStartDragHandle,"mouseleave")).event(()=>k.onMouseLeave(j),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(j.onDidEnablementChange.event(G,this)),G(j.state)}this._orthogonalStartSash=j}set orthogonalEndSash(j){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),j){const G=oe=>{this.orthogonalEndDragHandleDisposables.clear(),0!==oe&&(this._orthogonalEndDragHandle=(0,M.R3)(this.el,(0,M.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,O.OF)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new g.Y(this._orthogonalEndDragHandle,"mouseenter")).event(()=>k.onMouseEnter(j),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new g.Y(this._orthogonalEndDragHandle,"mouseleave")).event(()=>k.onMouseLeave(j),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(j.onDidEnablementChange.event(G,this)),G(j.state)}this._orthogonalEndSash=j}onPointerStart(j,G){M.zB.stop(j);let oe=!1;if(!j.__orthogonalSashEvent){const re=this.getOrthogonalSash(j);re&&(oe=!0,j.__orthogonalSashEvent=!0,re.onPointerStart(j,new Z(G)))}if(this.linkedSash&&!j.__linkedSashEvent&&(j.__linkedSashEvent=!0,this.linkedSash.onPointerStart(j,new Z(G))),!this.state)return;const de=(0,M.H$)("iframe");for(const re of de)re.classList.add(P);const fe=j.pageX,pe=j.pageY,we=j.altKey,ge={startX:fe,currentX:fe,startY:pe,currentY:pe,altKey:we};this.el.classList.add("active"),this._onDidStart.fire(ge);const Q=(0,M.dS)(this.el),q=()=>{let re="";re=oe?"all-scroll":1===this.orientation?1===this.state?"s-resize":2===this.state?"n-resize":F.dz?"row-resize":"ns-resize":1===this.state?"e-resize":2===this.state?"w-resize":F.dz?"col-resize":"ew-resize",Q.textContent=`* { cursor: ${re} !important; }`},le=new O.SL;q(),oe||this.onDidEnablementChange.event(q,null,le),G.onPointerMove(re=>{M.zB.stop(re,!1),this._onDidChange.fire({startX:fe,currentX:re.pageX,startY:pe,currentY:re.pageY,altKey:we})},null,le),G.onPointerUp(re=>{M.zB.stop(re,!1),this.el.removeChild(Q),this.el.classList.remove("active"),this._onDidEnd.fire(),le.dispose();for(const ce of de)ce.classList.remove(P)},null,le),le.add(G)}onPointerDoublePress(j){const G=this.getOrthogonalSash(j);G&&G._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(j,G=!1){j.el.classList.contains("active")?(j.hoverDelayer.cancel(),j.el.classList.add("hover")):j.hoverDelayer.trigger(()=>j.el.classList.add("hover"),j.hoverDelay).then(void 0,()=>{}),!G&&j.linkedSash&&k.onMouseEnter(j.linkedSash,!0)}static onMouseLeave(j,G=!1){j.hoverDelayer.cancel(),j.el.classList.remove("hover"),!G&&j.linkedSash&&k.onMouseLeave(j.linkedSash,!0)}clearSashHoverState(){k.onMouseLeave(this)}layout(){if(0===this.orientation){const j=this.layoutProvider;this.el.style.left=j.getVerticalSashLeft(this)-this.size/2+"px",j.getVerticalSashTop&&(this.el.style.top=j.getVerticalSashTop(this)+"px"),j.getVerticalSashHeight&&(this.el.style.height=j.getVerticalSashHeight(this)+"px")}else{const j=this.layoutProvider;this.el.style.top=j.getHorizontalSashTop(this)-this.size/2+"px",j.getHorizontalSashLeft&&(this.el.style.left=j.getHorizontalSashLeft(this)+"px"),j.getHorizontalSashWidth&&(this.el.style.width=j.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(j){if(j.target&&j.target instanceof HTMLElement&&j.target.classList.contains("orthogonal-drag-handle"))return j.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}},6491:(Be,Me,m)=>{m.d(Me,{s$:()=>Q,NB:()=>we,$Z:()=>ge});var M=m(47306),g=m(86678),Y=m(81718),B=m(2886),E=m(8535),i=m(37450),O=m(89983);class T extends i.${constructor(ee){super(),this._onActivate=ee.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=ee.bgWidth+"px",this.bgDomNode.style.height=ee.bgHeight+"px",void 0!==ee.top&&(this.bgDomNode.style.top="0px"),void 0!==ee.left&&(this.bgDomNode.style.left="0px"),void 0!==ee.bottom&&(this.bgDomNode.style.bottom="0px"),void 0!==ee.right&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=ee.className,this.domNode.classList.add(...ee.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width="11px",this.domNode.style.height="11px",void 0!==ee.top&&(this.domNode.style.top=ee.top+"px"),void 0!==ee.left&&(this.domNode.style.left=ee.left+"px"),void 0!==ee.bottom&&(this.domNode.style.bottom=ee.bottom+"px"),void 0!==ee.right&&(this.domNode.style.right=ee.right+"px"),this._mouseMoveMonitor=this._register(new E.Z),this.onmousedown(this.bgDomNode,X=>this._arrowMouseDown(X)),this.onmousedown(this.domNode,X=>this._arrowMouseDown(X)),this._mousedownRepeatTimer=this._register(new O.zh),this._mousedownScheduleRepeatTimer=this._register(new O._F)}_arrowMouseDown(ee){this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(()=>{this._mousedownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)},200),this._mouseMoveMonitor.startMonitoring(ee.target,ee.buttons,E.e,re=>{},()=>{this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancel()}),ee.preventDefault()}}var S=m(40189);class C extends S.JT{constructor(ee,X,re){super(),this._visibility=ee,this._visibleClassName=X,this._invisibleClassName=re,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new O._F)}setVisibility(ee){this._visibility!==ee&&(this._visibility=ee,this._updateShouldBeVisible())}setShouldBeVisible(ee){this._rawShouldBeVisible=ee,this._updateShouldBeVisible()}_applyVisibilitySetting(){return 2!==this._visibility&&(3===this._visibility||this._rawShouldBeVisible)}_updateShouldBeVisible(){const ee=this._applyVisibilitySetting();this._shouldBeVisible!==ee&&(this._shouldBeVisible=ee,this.ensureVisibility())}setIsNeeded(ee){this._isNeeded!==ee&&(this._isNeeded=ee,this.ensureVisibility())}setDomNode(ee){this._domNode=ee,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){this._isNeeded?this._shouldBeVisible?this._reveal():this._hide(!0):this._hide(!1)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode&&this._domNode.setClassName(this._visibleClassName)},0))}_hide(ee){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(ee?" fade":"")))}}var b=m(70700);class f extends i.${constructor(ee){super(),this._lazyRender=ee.lazyRender,this._host=ee.host,this._scrollable=ee.scrollable,this._scrollByPage=ee.scrollByPage,this._scrollbarState=ee.scrollbarState,this._visibilityController=this._register(new C(ee.visibility,"visible scrollbar "+ee.extraScrollbarClassName,"invisible scrollbar "+ee.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._mouseMoveMonitor=this._register(new E.Z),this._shouldRender=!0,this.domNode=(0,Y.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this.onmousedown(this.domNode.domNode,X=>this._domNodeMouseDown(X))}_createArrow(ee){const X=this._register(new T(ee));this.domNode.domNode.appendChild(X.bgDomNode),this.domNode.domNode.appendChild(X.domNode)}_createSlider(ee,X,re,ce){this.slider=(0,Y.X)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(ee),this.slider.setLeft(X),"number"==typeof re&&this.slider.setWidth(re),"number"==typeof ce&&this.slider.setHeight(ce),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,ve=>{ve.leftButton&&(ve.preventDefault(),this._sliderMouseDown(ve,()=>{}))}),this.onclick(this.slider.domNode,ve=>{ve.leftButton&&ve.stopPropagation()})}_onElementSize(ee){return this._scrollbarState.setVisibleSize(ee)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(ee){return this._scrollbarState.setScrollSize(ee)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(ee){return this._scrollbarState.setScrollPosition(ee)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){!this._shouldRender||(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodeMouseDown(ee){ee.target===this.domNode.domNode&&this._onMouseDown(ee)}delegateMouseDown(ee){const X=this.domNode.domNode.getClientRects()[0].top,re=X+this._scrollbarState.getSliderPosition(),ce=X+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),ve=this._sliderMousePosition(ee);re<=ve&&ve<=ce?ee.leftButton&&(ee.preventDefault(),this._sliderMouseDown(ee,()=>{})):this._onMouseDown(ee)}_onMouseDown(ee){let X,re;if(ee.target===this.domNode.domNode&&"number"==typeof ee.browserEvent.offsetX&&"number"==typeof ee.browserEvent.offsetY)X=ee.browserEvent.offsetX,re=ee.browserEvent.offsetY;else{const ve=g.i(this.domNode.domNode);X=ee.posx-ve.left,re=ee.posy-ve.top}const ce=this._mouseDownRelativePosition(X,re);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(ce):this._scrollbarState.getDesiredScrollPositionFromOffset(ce)),ee.leftButton&&(ee.preventDefault(),this._sliderMouseDown(ee,()=>{}))}_sliderMouseDown(ee,X){const re=this._sliderMousePosition(ee),ce=this._sliderOrthogonalMousePosition(ee),ve=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(ee.target,ee.buttons,E.e,ke=>{const Ve=this._sliderOrthogonalMousePosition(ke),Ue=Math.abs(Ve-ce);if(b.ED&&Ue>140)return void this._setDesiredScrollPositionNow(ve.getScrollPosition());const _e=this._sliderMousePosition(ke)-re;this._setDesiredScrollPositionNow(ve.getDesiredScrollPositionFromDelta(_e))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd(),X()}),this._host.onDragStart()}_setDesiredScrollPositionNow(ee){const X={};this.writeScrollPosition(X,ee),this._scrollable.setScrollPositionNow(X)}updateScrollbarSize(ee){this._updateScrollbarSize(ee),this._scrollbarState.setScrollbarSize(ee),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}class z{constructor(ee,X,re,ce,ve,ke){this._scrollbarSize=Math.round(X),this._oppositeScrollbarSize=Math.round(re),this._arrowSize=Math.round(ee),this._visibleSize=ce,this._scrollSize=ve,this._scrollPosition=ke,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new z(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(ee){const X=Math.round(ee);return this._visibleSize!==X&&(this._visibleSize=X,this._refreshComputedValues(),!0)}setScrollSize(ee){const X=Math.round(ee);return this._scrollSize!==X&&(this._scrollSize=X,this._refreshComputedValues(),!0)}setScrollPosition(ee){const X=Math.round(ee);return this._scrollPosition!==X&&(this._scrollPosition=X,this._refreshComputedValues(),!0)}setScrollbarSize(ee){this._scrollbarSize=Math.round(ee)}setOppositeScrollbarSize(ee){this._oppositeScrollbarSize=Math.round(ee)}static _computeValues(ee,X,re,ce,ve){const ke=Math.max(0,re-ee),Ve=Math.max(0,ke-2*X),Ue=ce>0&&ce>re;if(!Ue)return{computedAvailableSize:Math.round(ke),computedIsNeeded:Ue,computedSliderSize:Math.round(Ve),computedSliderRatio:0,computedSliderPosition:0};const ue=Math.round(Math.max(20,Math.floor(re*Ve/ce))),_e=(Ve-ue)/(ce-re),Re=ve*_e;return{computedAvailableSize:Math.round(ke),computedIsNeeded:Ue,computedSliderSize:Math.round(ue),computedSliderRatio:_e,computedSliderPosition:Math.round(Re)}}_refreshComputedValues(){const ee=z._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=ee.computedAvailableSize,this._computedIsNeeded=ee.computedIsNeeded,this._computedSliderSize=ee.computedSliderSize,this._computedSliderRatio=ee.computedSliderRatio,this._computedSliderPosition=ee.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(ee){return this._computedIsNeeded?Math.round((ee-this._arrowSize-this._computedSliderSize/2)/this._computedSliderRatio):0}getDesiredScrollPositionFromOffsetPaged(ee){if(!this._computedIsNeeded)return 0;let re=this._scrollPosition;return ee-this._arrowSize<this._computedSliderPosition?re-=this._visibleSize:re+=this._visibleSize,re}getDesiredScrollPositionFromDelta(ee){return this._computedIsNeeded?Math.round((this._computedSliderPosition+ee)/this._computedSliderRatio):0}}var D=m(78968);class I extends f{constructor(ee,X,re){const ce=ee.getScrollDimensions(),ve=ee.getCurrentScrollPosition();if(super({lazyRender:X.lazyRender,host:re,scrollbarState:new z(X.horizontalHasArrows?X.arrowSize:0,2===X.horizontal?0:X.horizontalScrollbarSize,2===X.vertical?0:X.verticalScrollbarSize,ce.width,ce.scrollWidth,ve.scrollLeft),visibility:X.horizontal,extraScrollbarClassName:"horizontal",scrollable:ee,scrollByPage:X.scrollByPage}),X.horizontalHasArrows){const ke=(X.arrowSize-11)/2,Ve=(X.horizontalScrollbarSize-11)/2;this._createArrow({className:"scra",icon:D.lA.scrollbarButtonLeft,top:Ve,left:ke,bottom:void 0,right:void 0,bgWidth:X.arrowSize,bgHeight:X.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new B.q(null,1,0))}),this._createArrow({className:"scra",icon:D.lA.scrollbarButtonRight,top:Ve,left:void 0,bottom:void 0,right:ke,bgWidth:X.arrowSize,bgHeight:X.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new B.q(null,-1,0))})}this._createSlider(Math.floor((X.horizontalScrollbarSize-X.horizontalSliderSize)/2),0,void 0,X.horizontalSliderSize)}_updateSlider(ee,X){this.slider.setWidth(ee),this.slider.setLeft(X)}_renderDomNode(ee,X){this.domNode.setWidth(ee),this.domNode.setHeight(X),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(ee){return this._shouldRender=this._onElementScrollSize(ee.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(ee.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(ee.width)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(ee,X){return ee}_sliderMousePosition(ee){return ee.posx}_sliderOrthogonalMousePosition(ee){return ee.posy}_updateScrollbarSize(ee){this.slider.setHeight(ee)}writeScrollPosition(ee,X){ee.scrollLeft=X}updateOptions(ee){this.updateScrollbarSize(2===ee.horizontal?0:ee.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(2===ee.vertical?0:ee.verticalScrollbarSize),this._visibilityController.setVisibility(ee.horizontal),this._scrollByPage=ee.scrollByPage}}class Z extends f{constructor(ee,X,re){const ce=ee.getScrollDimensions(),ve=ee.getCurrentScrollPosition();if(super({lazyRender:X.lazyRender,host:re,scrollbarState:new z(X.verticalHasArrows?X.arrowSize:0,2===X.vertical?0:X.verticalScrollbarSize,0,ce.height,ce.scrollHeight,ve.scrollTop),visibility:X.vertical,extraScrollbarClassName:"vertical",scrollable:ee,scrollByPage:X.scrollByPage}),X.verticalHasArrows){const ke=(X.arrowSize-11)/2,Ve=(X.verticalScrollbarSize-11)/2;this._createArrow({className:"scra",icon:D.lA.scrollbarButtonUp,top:ke,left:Ve,bottom:void 0,right:void 0,bgWidth:X.verticalScrollbarSize,bgHeight:X.arrowSize,onActivate:()=>this._host.onMouseWheel(new B.q(null,0,1))}),this._createArrow({className:"scra",icon:D.lA.scrollbarButtonDown,top:void 0,left:Ve,bottom:ke,right:void 0,bgWidth:X.verticalScrollbarSize,bgHeight:X.arrowSize,onActivate:()=>this._host.onMouseWheel(new B.q(null,0,-1))})}this._createSlider(0,Math.floor((X.verticalScrollbarSize-X.verticalSliderSize)/2),X.verticalSliderSize,void 0)}_updateSlider(ee,X){this.slider.setHeight(ee),this.slider.setTop(X)}_renderDomNode(ee,X){this.domNode.setWidth(X),this.domNode.setHeight(ee),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(ee){return this._shouldRender=this._onElementScrollSize(ee.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(ee.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(ee.height)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(ee,X){return X}_sliderMousePosition(ee){return ee.posy}_sliderOrthogonalMousePosition(ee){return ee.posx}_updateScrollbarSize(ee){this.slider.setWidth(ee)}writeScrollPosition(ee,X){ee.scrollTop=X}updateOptions(ee){this.updateScrollbarSize(2===ee.vertical?0:ee.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(ee.vertical),this._scrollByPage=ee.scrollByPage}}var P=m(71040),k=m(90443);m(3301);class de{constructor(ee,X,re){this.timestamp=ee,this.deltaX=X,this.deltaY=re,this.score=0}}class fe{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(-1===this._front&&-1===this._rear)return!1;let ee=1,X=0,re=1,ce=this._rear;for(;;){const ve=ce===this._front?ee:Math.pow(2,-re);if(ee-=ve,X+=this._memory[ce].score*ve,ce===this._front)break;ce=(this._capacity+ce-1)%this._capacity,re++}return X<=.5}accept(ee,X,re){const ce=new de(ee,X,re);ce.score=this._computeScore(ce),-1===this._front&&-1===this._rear?(this._memory[0]=ce,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=ce)}_computeScore(ee){if(Math.abs(ee.deltaX)>0&&Math.abs(ee.deltaY)>0)return 1;let X=.5;return(!this._isAlmostInt(ee.deltaX)||!this._isAlmostInt(ee.deltaY))&&(X+=.25),Math.min(Math.max(X,0),1)}_isAlmostInt(ee){return Math.abs(Math.round(ee)-ee)<.01}}fe.INSTANCE=new fe;class pe extends i.${constructor(ee,X,re){super(),this._onScroll=this._register(new P.Q5),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new P.Q5),ee.style.overflow="hidden",this._options=function(le){const ee={lazyRender:void 0!==le.lazyRender&&le.lazyRender,className:void 0!==le.className?le.className:"",useShadows:void 0===le.useShadows||le.useShadows,handleMouseWheel:void 0===le.handleMouseWheel||le.handleMouseWheel,flipAxes:void 0!==le.flipAxes&&le.flipAxes,consumeMouseWheelIfScrollbarIsNeeded:void 0!==le.consumeMouseWheelIfScrollbarIsNeeded&&le.consumeMouseWheelIfScrollbarIsNeeded,alwaysConsumeMouseWheel:void 0!==le.alwaysConsumeMouseWheel&&le.alwaysConsumeMouseWheel,scrollYToX:void 0!==le.scrollYToX&&le.scrollYToX,mouseWheelScrollSensitivity:void 0!==le.mouseWheelScrollSensitivity?le.mouseWheelScrollSensitivity:1,fastScrollSensitivity:void 0!==le.fastScrollSensitivity?le.fastScrollSensitivity:5,scrollPredominantAxis:void 0===le.scrollPredominantAxis||le.scrollPredominantAxis,mouseWheelSmoothScroll:void 0===le.mouseWheelSmoothScroll||le.mouseWheelSmoothScroll,arrowSize:void 0!==le.arrowSize?le.arrowSize:11,listenOnDomNode:void 0!==le.listenOnDomNode?le.listenOnDomNode:null,horizontal:void 0!==le.horizontal?le.horizontal:1,horizontalScrollbarSize:void 0!==le.horizontalScrollbarSize?le.horizontalScrollbarSize:10,horizontalSliderSize:void 0!==le.horizontalSliderSize?le.horizontalSliderSize:0,horizontalHasArrows:void 0!==le.horizontalHasArrows&&le.horizontalHasArrows,vertical:void 0!==le.vertical?le.vertical:1,verticalScrollbarSize:void 0!==le.verticalScrollbarSize?le.verticalScrollbarSize:10,verticalHasArrows:void 0!==le.verticalHasArrows&&le.verticalHasArrows,verticalSliderSize:void 0!==le.verticalSliderSize?le.verticalSliderSize:0,scrollByPage:void 0!==le.scrollByPage&&le.scrollByPage};return ee.horizontalSliderSize=void 0!==le.horizontalSliderSize?le.horizontalSliderSize:ee.horizontalScrollbarSize,ee.verticalSliderSize=void 0!==le.verticalSliderSize?le.verticalSliderSize:ee.verticalScrollbarSize,b.dz&&(ee.className+=" mac"),ee}(X),this._scrollable=re,this._register(this._scrollable.onScroll(ve=>{this._onWillScroll.fire(ve),this._onDidScroll(ve),this._onScroll.fire(ve)}));const ce={onMouseWheel:ve=>this._onMouseWheel(ve),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new Z(this._scrollable,this._options,ce)),this._horizontalScrollbar=this._register(new I(this._scrollable,this._options,ce)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(ee),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,Y.X)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,Y.X)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,Y.X)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,ve=>this._onMouseOver(ve)),this.onnonbubblingmouseout(this._listenOnDomNode,ve=>this._onMouseOut(ve)),this._hideTimeout=this._register(new O._F),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}get options(){return this._options}dispose(){this._mouseWheelToDispose=(0,S.B9)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarMouseDown(ee){this._verticalScrollbar.delegateMouseDown(ee)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(ee){this._scrollable.setScrollDimensions(ee,!1)}updateClassName(ee){this._options.className=ee,b.dz&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(ee){void 0!==ee.handleMouseWheel&&(this._options.handleMouseWheel=ee.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),void 0!==ee.mouseWheelScrollSensitivity&&(this._options.mouseWheelScrollSensitivity=ee.mouseWheelScrollSensitivity),void 0!==ee.fastScrollSensitivity&&(this._options.fastScrollSensitivity=ee.fastScrollSensitivity),void 0!==ee.scrollPredominantAxis&&(this._options.scrollPredominantAxis=ee.scrollPredominantAxis),void 0!==ee.horizontal&&(this._options.horizontal=ee.horizontal),void 0!==ee.vertical&&(this._options.vertical=ee.vertical),void 0!==ee.horizontalScrollbarSize&&(this._options.horizontalScrollbarSize=ee.horizontalScrollbarSize),void 0!==ee.verticalScrollbarSize&&(this._options.verticalScrollbarSize=ee.verticalScrollbarSize),void 0!==ee.scrollByPage&&(this._options.scrollByPage=ee.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(ee){this._mouseWheelToDispose.length>0!==ee&&(this._mouseWheelToDispose=(0,S.B9)(this._mouseWheelToDispose),ee)&&this._mouseWheelToDispose.push(g.nm(this._listenOnDomNode,g.tw.MOUSE_WHEEL,ce=>{this._onMouseWheel(new B.q(ce))},{passive:!1}))}_onMouseWheel(ee){const X=fe.INSTANCE;{const ve=window.devicePixelRatio/(0,M.getZoomFactor)();b.ED||b.IJ?X.accept(Date.now(),ee.deltaX/ve,ee.deltaY/ve):X.accept(Date.now(),ee.deltaX,ee.deltaY)}let re=!1;if(ee.deltaY||ee.deltaX){let ve=ee.deltaY*this._options.mouseWheelScrollSensitivity,ke=ee.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(ve)>=Math.abs(ke)?ke=0:ve=0),this._options.flipAxes&&([ve,ke]=[ke,ve]);const Ve=!b.dz&&ee.browserEvent&&ee.browserEvent.shiftKey;(this._options.scrollYToX||Ve)&&!ke&&(ke=ve,ve=0),ee.browserEvent&&ee.browserEvent.altKey&&(ke*=this._options.fastScrollSensitivity,ve*=this._options.fastScrollSensitivity);const Ue=this._scrollable.getFutureScrollPosition();let ue={};if(ve){const _e=50*ve,Re=Ue.scrollTop-(_e<0?Math.floor(_e):Math.ceil(_e));this._verticalScrollbar.writeScrollPosition(ue,Re)}if(ke){const _e=50*ke,Re=Ue.scrollLeft-(_e<0?Math.floor(_e):Math.ceil(_e));this._horizontalScrollbar.writeScrollPosition(ue,Re)}ue=this._scrollable.validateScrollPosition(ue),(Ue.scrollLeft!==ue.scrollLeft||Ue.scrollTop!==ue.scrollTop)&&(this._options.mouseWheelSmoothScroll&&X.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(ue):this._scrollable.setScrollPositionNow(ue),re=!0)}let ce=re;!ce&&this._options.alwaysConsumeMouseWheel&&(ce=!0),!ce&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(ce=!0),ce&&(ee.preventDefault(),ee.stopPropagation())}_onDidScroll(ee){this._shouldRender=this._horizontalScrollbar.onDidScroll(ee)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(ee)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const ee=this._scrollable.getCurrentScrollPosition(),X=ee.scrollTop>0,re=ee.scrollLeft>0,ce=re?" left":"",ve=X?" top":"",ke=re||X?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${ce}`),this._topShadowDomNode.setClassName(`shadow${ve}`),this._topLeftShadowDomNode.setClassName(`shadow${ke}${ve}${ce}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseOut(ee){this._mouseIsOver=!1,this._hide()}_onMouseOver(ee){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),500)}}class we extends pe{constructor(ee,X){(X=X||{}).mouseWheelSmoothScroll=!1;const re=new k.Rm({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:ce=>g.jL(ce)});super(ee,X,re),this._register(re)}setScrollPosition(ee){this._scrollable.setScrollPositionNow(ee)}}class ge extends pe{constructor(ee,X,re){super(ee,X,re)}setScrollPosition(ee){ee.reuseAnimation?this._scrollable.setScrollPositionSmooth(ee,ee.reuseAnimation):this._scrollable.setScrollPositionNow(ee)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class Q extends pe{constructor(ee,X){(X=X||{}).mouseWheelSmoothScroll=!1;const re=new k.Rm({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:ce=>g.jL(ce)});super(ee,X,re),this._register(re),this._element=ee,this.onScroll(ce=>{ce.scrollTopChanged&&(this._element.scrollTop=ce.scrollTop),ce.scrollLeftChanged&&(this._element.scrollLeft=ce.scrollLeft)}),this.scanDomNode()}setScrollPosition(ee){this._scrollable.setScrollPositionNow(ee)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}},14410:(Be,Me,m)=>{m.d(Me,{M:()=>D,z:()=>I});var M=m(86678),g=m(54789),Y=m(6491),B=m(89822),E=m(81897),i=m(71040),O=m(40189),F=m(31096),T=m(90443),S=m(99770);m(10050);const b={separatorBorder:E.Il.transparent};class L{constructor(P,k,$,j){this.container=P,this.view=k,this.disposable=j,this._cachedVisibleSize=void 0,"number"==typeof $?(this._size=$,this._cachedVisibleSize=void 0,P.classList.add("visible")):(this._size=0,this._cachedVisibleSize=$.cachedVisibleSize)}set size(P){this._size=P}get size(){return this._size}get visible(){return void 0===this._cachedVisibleSize}setVisible(P,k){P!==this.visible&&(P?(this.size=(0,F.uZ)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize="number"==typeof k?k:this.size,this.size=0),this.container.classList.toggle("visible",P),this.view.setVisible&&this.view.setVisible(P))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(P){this.container.style.pointerEvents=P?"":"none"}layout(P,k){this.layoutContainer(P),this.view.layout(this.size,P,k)}dispose(){return this.disposable.dispose(),this.view}}class f extends L{layoutContainer(P){this.container.style.top=`${P}px`,this.container.style.height=`${this.size}px`}}class N extends L{layoutContainer(P){this.container.style.left=`${P}px`,this.container.style.width=`${this.size}px`}}var D,Z,z=(()=>{return(Z=z||(z={}))[Z.Idle=0]="Idle",Z[Z.Busy=1]="Busy",z;var Z})();(Z=D||(D={})).Distribute={type:"distribute"},Z.Split=function($){return{type:"split",index:$}},Z.Invisible=function($){return{type:"invisible",cachedVisibleSize:$}};class I extends O.JT{constructor(P,k={}){var $,j,G,oe,de;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=z.Idle,this._onDidSashChange=this._register(new i.Q5),this._onDidSashReset=this._register(new i.Q5),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=null!==($=k.orientation)&&void 0!==$?$:0,this.inverseAltBehavior=null!==(j=k.inverseAltBehavior)&&void 0!==j&&j,this.proportionalLayout=null===(G=k.proportionalLayout)||void 0===G||G,this.getSashOrthogonalSize=k.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(0===this.orientation?"vertical":"horizontal"),P.appendChild(this.el),this.sashContainer=(0,M.R3)(this.el,(0,M.$)(".sash-container")),this.viewContainer=(0,M.$)(".split-view-container"),this.scrollable=new T.Rm({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:M.jL}),this.scrollableElement=this._register(new Y.$Z(this.viewContainer,{vertical:0===this.orientation?null!==(oe=k.scrollbarVisibility)&&void 0!==oe?oe:1:2,horizontal:1===this.orientation?null!==(de=k.scrollbarVisibility)&&void 0!==de?de:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(fe=>{this.viewContainer.scrollTop=fe.scrollTop,this.viewContainer.scrollLeft=fe.scrollLeft})),(0,M.R3)(this.el,this.scrollableElement.getDomNode()),this.style(k.styles||b),k.descriptor&&(this.size=k.descriptor.size,k.descriptor.views.forEach((fe,pe)=>{const we=S.o8(fe.visible)||fe.visible?fe.size:{type:"invisible",cachedVisibleSize:fe.size};this.doAddView(fe.view,we,pe,!0)}),this.contentSize=this.viewItems.reduce((fe,pe)=>fe+pe.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(P){for(const k of this.sashItems)k.sash.orthogonalStartSash=P;this._orthogonalStartSash=P}set orthogonalEndSash(P){for(const k of this.sashItems)k.sash.orthogonalEndSash=P;this._orthogonalEndSash=P}set startSnappingEnabled(P){this._startSnappingEnabled!==P&&(this._startSnappingEnabled=P,this.updateSashEnablement())}set endSnappingEnabled(P){this._endSnappingEnabled!==P&&(this._endSnappingEnabled=P,this.updateSashEnablement())}style(P){P.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",P.separatorBorder.toString()))}addView(P,k,$=this.viewItems.length,j){this.doAddView(P,k,$,j)}layout(P,k){const $=Math.max(this.size,this.contentSize);if(this.size=P,this.layoutContext=k,this.proportions)for(let j=0;j<this.viewItems.length;j++){const G=this.viewItems[j];G.size=(0,F.uZ)(Math.round(this.proportions[j]*P),G.minimumSize,G.maximumSize)}else{const j=(0,B.w6)(this.viewItems.length),G=j.filter(de=>1===this.viewItems[de].priority),oe=j.filter(de=>2===this.viewItems[de].priority);this.resize(this.viewItems.length-1,P-$,void 0,G,oe)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(P=>P.size/this.contentSize))}onSashStart({sash:P,start:k,alt:$}){for(const de of this.viewItems)de.enabled=!1;const j=this.sashItems.findIndex(de=>de.sash===P),G=(0,O.F8)((0,M.nm)(document.body,"keydown",de=>oe(this.sashDragState.current,de.altKey)),(0,M.nm)(document.body,"keyup",()=>oe(this.sashDragState.current,!1))),oe=(de,fe)=>{const pe=this.viewItems.map(le=>le.size);let Q,q,we=Number.NEGATIVE_INFINITY,ge=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(fe=!fe),fe)if(j===this.sashItems.length-1){const ee=this.viewItems[j];we=(ee.minimumSize-ee.size)/2,ge=(ee.maximumSize-ee.size)/2}else{const ee=this.viewItems[j+1];we=(ee.size-ee.maximumSize)/2,ge=(ee.size-ee.minimumSize)/2}if(!fe){const le=(0,B.w6)(j,-1),ee=(0,B.w6)(j+1,this.viewItems.length),X=le.reduce((_e,Re)=>_e+(this.viewItems[Re].minimumSize-pe[Re]),0),re=le.reduce((_e,Re)=>_e+(this.viewItems[Re].viewMaximumSize-pe[Re]),0),ce=0===ee.length?Number.POSITIVE_INFINITY:ee.reduce((_e,Re)=>_e+(pe[Re]-this.viewItems[Re].minimumSize),0),ve=0===ee.length?Number.NEGATIVE_INFINITY:ee.reduce((_e,Re)=>_e+(pe[Re]-this.viewItems[Re].viewMaximumSize),0),ke=Math.max(X,ve),Ve=Math.min(ce,re),Ue=this.findFirstSnapIndex(le),ue=this.findFirstSnapIndex(ee);if("number"==typeof Ue){const _e=this.viewItems[Ue],Re=Math.floor(_e.viewMinimumSize/2);Q={index:Ue,limitDelta:_e.visible?ke-Re:ke+Re,size:_e.size}}if("number"==typeof ue){const _e=this.viewItems[ue],Re=Math.floor(_e.viewMinimumSize/2);q={index:ue,limitDelta:_e.visible?Ve+Re:Ve-Re,size:_e.size}}}this.sashDragState={start:de,current:de,index:j,sizes:pe,minDelta:we,maxDelta:ge,alt:fe,snapBefore:Q,snapAfter:q,disposable:G}};oe(k,$)}onSashChange({current:P}){const{index:k,start:$,sizes:j,alt:G,minDelta:oe,maxDelta:de,snapBefore:fe,snapAfter:pe}=this.sashDragState;this.sashDragState.current=P;const ge=this.resize(k,P-$,j,void 0,void 0,oe,de,fe,pe);if(G){const Q=k===this.sashItems.length-1,q=this.viewItems.map(ve=>ve.size),ee=this.viewItems[Q?k:k+1];this.resize(Q?k-1:k+1,-ge,q,void 0,void 0,ee.size-ee.maximumSize,ee.size-ee.minimumSize)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(P){this._onDidSashChange.fire(P),this.sashDragState.disposable.dispose(),this.saveProportions();for(const k of this.viewItems)k.enabled=!0}onViewChange(P,k){const $=this.viewItems.indexOf(P);$<0||$>=this.viewItems.length||(k=(0,F.uZ)(k="number"==typeof k?k:P.size,P.minimumSize,P.maximumSize),this.inverseAltBehavior&&$>0?(this.resize($-1,Math.floor((P.size-k)/2)),this.distributeEmptySpace(),this.layoutViews()):(P.size=k,this.relayout([$],void 0)))}resizeView(P,k){if(this.state!==z.Idle)throw new Error("Cant modify splitview");if(this.state=z.Busy,P<0||P>=this.viewItems.length)return;const $=(0,B.w6)(this.viewItems.length).filter(de=>de!==P),j=[...$.filter(de=>1===this.viewItems[de].priority),P],G=$.filter(de=>2===this.viewItems[de].priority),oe=this.viewItems[P];k=Math.round(k),k=(0,F.uZ)(k,oe.minimumSize,Math.min(oe.maximumSize,this.size)),oe.size=k,this.relayout(j,G),this.state=z.Idle}distributeViewSizes(){const P=[];let k=0;for(const de of this.viewItems)de.maximumSize-de.minimumSize>0&&(P.push(de),k+=de.size);const $=Math.floor(k/P.length);for(const de of P)de.size=(0,F.uZ)($,de.minimumSize,de.maximumSize);const j=(0,B.w6)(this.viewItems.length),G=j.filter(de=>1===this.viewItems[de].priority),oe=j.filter(de=>2===this.viewItems[de].priority);this.relayout(G,oe)}getViewSize(P){return P<0||P>=this.viewItems.length?-1:this.viewItems[P].size}doAddView(P,k,$=this.viewItems.length,j){if(this.state!==z.Idle)throw new Error("Cant modify splitview");this.state=z.Busy;const G=(0,M.$)(".split-view-view");$===this.viewItems.length?this.viewContainer.appendChild(G):this.viewContainer.insertBefore(G,this.viewContainer.children.item($));const oe=P.onDidChange(Q=>this.onViewChange(we,Q)),de=(0,O.OF)(()=>this.viewContainer.removeChild(G)),fe=(0,O.F8)(oe,de);let pe;pe="number"==typeof k?k:"split"===k.type?this.getViewSize(k.index)/2:"invisible"===k.type?{cachedVisibleSize:k.cachedVisibleSize}:P.minimumSize;const we=0===this.orientation?new f(G,P,pe,fe):new N(G,P,pe,fe);if(this.viewItems.splice($,0,we),this.viewItems.length>1){let Q={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash};const q=0===this.orientation?new g.g(this.sashContainer,{getHorizontalSashTop:_e=>this.getSashPosition(_e),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},Q),{orientation:1})):new g.g(this.sashContainer,{getVerticalSashLeft:_e=>this.getSashPosition(_e),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},Q),{orientation:0})),le=0===this.orientation?_e=>({sash:q,start:_e.startY,current:_e.currentY,alt:_e.altKey}):_e=>({sash:q,start:_e.startX,current:_e.currentX,alt:_e.altKey}),X=i.ju.map(q.onDidStart,le)(this.onSashStart,this),ce=i.ju.map(q.onDidChange,le)(this.onSashChange,this),ke=i.ju.map(q.onDidEnd,()=>this.sashItems.findIndex(_e=>_e.sash===q))(this.onSashEnd,this),Ve=q.onDidReset(()=>{const _e=this.sashItems.findIndex(rt=>rt.sash===q),Re=(0,B.w6)(_e,-1),et=(0,B.w6)(_e+1,this.viewItems.length),Ze=this.findFirstSnapIndex(Re),Pe=this.findFirstSnapIndex(et);"number"==typeof Ze&&!this.viewItems[Ze].visible||"number"==typeof Pe&&!this.viewItems[Pe].visible||this._onDidSashReset.fire(_e)}),Ue=(0,O.F8)(X,ce,ke,Ve,q);this.sashItems.splice($-1,0,{sash:q,disposable:Ue})}let ge;G.appendChild(P.element),"number"!=typeof k&&"split"===k.type&&(ge=[k.index]),j||this.relayout([$],ge),this.state=z.Idle,!j&&"number"!=typeof k&&"distribute"===k.type&&this.distributeViewSizes()}relayout(P,k){const $=this.viewItems.reduce((j,G)=>j+G.size,0);this.resize(this.viewItems.length-1,this.size-$,void 0,P,k),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(P,k,$=this.viewItems.map(we=>we.size),j,G,oe=Number.NEGATIVE_INFINITY,de=Number.POSITIVE_INFINITY,fe,pe){if(P<0||P>=this.viewItems.length)return 0;const we=(0,B.w6)(P,-1),ge=(0,B.w6)(P+1,this.viewItems.length);if(G)for(const ue of G)(0,B.zI)(we,ue),(0,B.zI)(ge,ue);if(j)for(const ue of j)(0,B.al)(we,ue),(0,B.al)(ge,ue);const Q=we.map(ue=>this.viewItems[ue]),q=we.map(ue=>$[ue]),le=ge.map(ue=>this.viewItems[ue]),ee=ge.map(ue=>$[ue]),X=we.reduce((ue,_e)=>ue+(this.viewItems[_e].minimumSize-$[_e]),0),re=we.reduce((ue,_e)=>ue+(this.viewItems[_e].maximumSize-$[_e]),0),ce=0===ge.length?Number.POSITIVE_INFINITY:ge.reduce((ue,_e)=>ue+($[_e]-this.viewItems[_e].minimumSize),0),ve=0===ge.length?Number.NEGATIVE_INFINITY:ge.reduce((ue,_e)=>ue+($[_e]-this.viewItems[_e].maximumSize),0),ke=Math.max(X,ve,oe),Ve=Math.min(ce,re,de);let Ue=!1;if(fe){const ue=this.viewItems[fe.index],_e=k>=fe.limitDelta;Ue=_e!==ue.visible,ue.setVisible(_e,fe.size)}if(!Ue&&pe){const ue=this.viewItems[pe.index],_e=k<pe.limitDelta;Ue=_e!==ue.visible,ue.setVisible(_e,pe.size)}if(Ue)return this.resize(P,k,$,j,G,oe,de);for(let ue=0,_e=k=(0,F.uZ)(k,ke,Ve);ue<Q.length;ue++){const Re=Q[ue],et=(0,F.uZ)(q[ue]+_e,Re.minimumSize,Re.maximumSize);_e-=et-q[ue],Re.size=et}for(let ue=0,_e=k;ue<le.length;ue++){const Re=le[ue],et=(0,F.uZ)(ee[ue]-_e,Re.minimumSize,Re.maximumSize);_e+=et-ee[ue],Re.size=et}return k}distributeEmptySpace(P){const k=this.viewItems.reduce((de,fe)=>de+fe.size,0);let $=this.size-k;const j=(0,B.w6)(this.viewItems.length-1,-1),G=j.filter(de=>1===this.viewItems[de].priority),oe=j.filter(de=>2===this.viewItems[de].priority);for(const de of oe)(0,B.zI)(j,de);for(const de of G)(0,B.al)(j,de);"number"==typeof P&&(0,B.al)(j,P);for(let de=0;0!==$&&de<j.length;de++){const fe=this.viewItems[j[de]],pe=(0,F.uZ)(fe.size+$,fe.minimumSize,fe.maximumSize);$-=pe-fe.size,fe.size=pe}}layoutViews(){this.contentSize=this.viewItems.reduce((k,$)=>k+$.size,0);let P=0;for(const k of this.viewItems)k.layout(P,this.layoutContext),P+=k.size;this.sashItems.forEach(k=>k.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.scrollableElement.setScrollDimensions(0===this.orientation?{height:this.size,scrollHeight:this.contentSize}:{width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let P=!1;const k=this.viewItems.map(fe=>P=fe.size-fe.minimumSize>0||P);P=!1;const $=this.viewItems.map(fe=>P=fe.maximumSize-fe.size>0||P),j=[...this.viewItems].reverse();P=!1;const G=j.map(fe=>P=fe.size-fe.minimumSize>0||P).reverse();P=!1;const oe=j.map(fe=>P=fe.maximumSize-fe.size>0||P).reverse();let de=0;for(let fe=0;fe<this.sashItems.length;fe++){const{sash:pe}=this.sashItems[fe];de+=this.viewItems[fe].size;const ge=!(k[fe]&&oe[fe+1]),Q=!($[fe]&&G[fe+1]);if(ge&&Q){const q=(0,B.w6)(fe,-1),le=(0,B.w6)(fe+1,this.viewItems.length),ee=this.findFirstSnapIndex(q),X=this.findFirstSnapIndex(le),ce="number"==typeof X&&!this.viewItems[X].visible;pe.state="number"==typeof ee&&!this.viewItems[ee].visible&&G[fe]&&(de>0||this.startSnappingEnabled)?1:ce&&k[fe]&&(de<this.contentSize||this.endSnappingEnabled)?2:0}else pe.state=ge&&!Q?1:!ge&&Q?2:3}}getSashPosition(P){let k=0;for(let $=0;$<this.sashItems.length;$++)if(k+=this.viewItems[$].size,this.sashItems[$].sash===P)return k;return 0}findFirstSnapIndex(P){for(const k of P){const $=this.viewItems[k];if($.visible&&$.snap)return k}for(const k of P){const $=this.viewItems[k];if($.visible&&$.maximumSize-$.minimumSize>0)return;if(!$.visible&&$.snap)return k}}dispose(){super.dispose(),(0,O.B9)(this.viewItems),this.viewItems=[],this.sashItems.forEach(P=>P.disposable.dispose()),this.sashItems=[]}}},37450:(Be,Me,m)=>{m.d(Me,{$:()=>i});var M=m(86678),g=m(714),Y=m(2886),B=m(23945),E=m(40189);class i extends E.JT{onclick(F,T){this._register(M.nm(F,M.tw.CLICK,S=>T(new Y.n(S))))}onmousedown(F,T){this._register(M.nm(F,M.tw.MOUSE_DOWN,S=>T(new Y.n(S))))}onmouseover(F,T){this._register(M.nm(F,M.tw.MOUSE_OVER,S=>T(new Y.n(S))))}onnonbubblingmouseout(F,T){this._register(M.j_(F,S=>T(new Y.n(S))))}onkeydown(F,T){this._register(M.nm(F,M.tw.KEY_DOWN,S=>T(new g.y(S))))}onkeyup(F,T){this._register(M.nm(F,M.tw.KEY_UP,S=>T(new g.y(S))))}oninput(F,T){this._register(M.nm(F,M.tw.INPUT,T))}onblur(F,T){this._register(M.nm(F,M.tw.BLUR,T))}onfocus(F,T){this._register(M.nm(F,M.tw.FOCUS,T))}ignoreGesture(F){B.o.ignoreTarget(F)}}},50955:(Be,Me,m)=>{m.d(Me,{aU:()=>E,Wi:()=>i,Z0:()=>O,wY:()=>F,eZ:()=>T});var M=m(71040),g=m(40189),Y=m(12918),B=function(S,C,b,L){return new(b||(b=Promise))(function(N,z){function D(P){try{Z(L.next(P))}catch(k){z(k)}}function I(P){try{Z(L.throw(P))}catch(k){z(k)}}function Z(P){P.done?N(P.value):function(N){return N instanceof b?N:new b(function(z){z(N)})}(P.value).then(D,I)}Z((L=L.apply(S,C||[])).next())})};class E extends g.JT{constructor(C,b="",L="",f=!0,N){super(),this._onDidChange=this._register(new M.Q5),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=C,this._label=b,this._cssClass=L,this._enabled=f,this._actionCallback=N}get id(){return this._id}get label(){return this._label}set label(C){this._setLabel(C)}_setLabel(C){this._label!==C&&(this._label=C,this._onDidChange.fire({label:C}))}get tooltip(){return this._tooltip||""}set tooltip(C){this._setTooltip(C)}_setTooltip(C){this._tooltip!==C&&(this._tooltip=C,this._onDidChange.fire({tooltip:C}))}get class(){return this._cssClass}set class(C){this._setClass(C)}_setClass(C){this._cssClass!==C&&(this._cssClass=C,this._onDidChange.fire({class:C}))}get enabled(){return this._enabled}set enabled(C){this._setEnabled(C)}_setEnabled(C){this._enabled!==C&&(this._enabled=C,this._onDidChange.fire({enabled:C}))}get checked(){return this._checked}set checked(C){this._setChecked(C)}_setChecked(C){this._checked!==C&&(this._checked=C,this._onDidChange.fire({checked:C}))}run(C,b){return B(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(C))})}}class i extends g.JT{constructor(){super(...arguments),this._onBeforeRun=this._register(new M.Q5),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new M.Q5),this.onDidRun=this._onDidRun.event}run(C,b){return B(this,void 0,void 0,function*(){if(!C.enabled)return;let L;this._onBeforeRun.fire({action:C});try{yield this.runAction(C,b)}catch(f){L=f}this._onDidRun.fire({action:C,error:L})})}runAction(C,b){return B(this,void 0,void 0,function*(){yield C.run(b)})}}let O=(()=>{class S extends E{constructor(b){super(S.ID,b,b?"separator text":"separator"),this.checked=!1,this.enabled=!1}}return S.ID="vs.actions.separator",S})();class F{constructor(C,b,L,f){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=C,this.label=b,this.class=f,this._actions=L}get actions(){return this._actions}dispose(){}run(){return B(this,void 0,void 0,function*(){})}}let T=(()=>{class S extends E{constructor(){super(S.ID,Y.N("submenu.empty","(empty)"),void 0,!1)}}return S.ID="vs.actions.empty",S})()},89822:(Be,Me,m)=>{function M(ge,Q=0){return ge[ge.length-(1+Q)]}function g(ge){if(0===ge.length)throw new Error("Invalid tail call");return[ge.slice(0,ge.length-1),ge[ge.length-1]]}function Y(ge,Q,q=((le,ee)=>le===ee)){if(ge===Q)return!0;if(!ge||!Q||ge.length!==Q.length)return!1;for(let le=0,ee=ge.length;le<ee;le++)if(!q(ge[le],Q[le]))return!1;return!0}function B(ge,Q,q){let le=0,ee=ge.length-1;for(;le<=ee;){const X=(le+ee)/2|0,re=q(ge[X],Q);if(re<0)le=X+1;else{if(!(re>0))return X;ee=X-1}}return-(le+1)}function E(ge,Q){let q=0,le=ge.length;if(0===le)return 0;for(;q<le;){const ee=Math.floor((q+le)/2);Q(ge[ee])?le=ee:q=ee+1}return q}function i(ge,Q,q){if((ge|=0)>=Q.length)throw new TypeError("invalid index");let le=Q[Math.floor(Q.length*Math.random())],ee=[],X=[],re=[];for(let ce of Q){const ve=q(ce,le);ve<0?ee.push(ce):ve>0?X.push(ce):re.push(ce)}return ge<ee.length?i(ge,ee,q):ge<ee.length+re.length?re[0]:i(ge-(ee.length+re.length),X,q)}function O(ge,Q){const q=[];let le;for(const ee of ge.slice(0).sort(Q))le&&0===Q(le[0],ee)?le.push(ee):(le=[ee],q.push(le));return q}function F(ge){return ge.filter(Q=>!!Q)}function T(ge){return!Array.isArray(ge)||0===ge.length}function S(ge){return Array.isArray(ge)&&ge.length>0}function C(ge,Q=(q=>q)){const q=new Set;return ge.filter(le=>{const ee=Q(le);return!q.has(ee)&&(q.add(ee),!0)})}function b(ge,Q){const q=function(ge,Q){for(let q=ge.length-1;q>=0;q--)if(Q(ge[q]))return q;return-1}(ge,Q);if(-1!==q)return ge[q]}function f(ge,Q){return ge.length>0?ge[0]:Q}function N(ge){return[].concat(...ge)}function z(ge,Q){let q="number"==typeof Q?ge:0;"number"==typeof Q?q=ge:(q=0,Q=ge);const le=[];if(q<=Q)for(let ee=q;ee<Q;ee++)le.push(ee);else for(let ee=q;ee>Q;ee--)le.push(ee);return le}function D(ge,Q,q){const le=ge.slice(0,Q),ee=ge.slice(Q);return le.concat(q,ee)}function I(ge,Q){const q=ge.indexOf(Q);q>-1&&(ge.splice(q,1),ge.unshift(Q))}function Z(ge,Q){const q=ge.indexOf(Q);q>-1&&(ge.splice(q,1),ge.push(Q))}function P(ge){return Array.isArray(ge)?ge:[ge]}function $(ge,Q,q,le){const ee=j(ge,Q),X=ge.splice(ee,q);return function(ge,Q,q){const le=j(ge,Q),ee=ge.length,X=q.length;ge.length=ee+X;for(let re=ee-1;re>=le;re--)ge[re+X]=ge[re];for(let re=0;re<X;re++)ge[re+le]=q[re]}(ge,ee,le),X}function j(ge,Q){return Q<0?Math.max(Q+ge.length,0):Math.min(Q,ge.length)}function G(ge,Q){return(q,le)=>Q(ge(q),ge(le))}m.d(Me,{Gb:()=>M,JH:()=>g,fS:()=>Y,ry:()=>B,lG:()=>E,HW:()=>i,vM:()=>O,kX:()=>F,XY:()=>T,Of:()=>S,EB:()=>C,dF:()=>b,Xh:()=>f,xH:()=>N,w6:()=>z,Zv:()=>D,zI:()=>I,al:()=>Z,_2:()=>P,db:()=>$,tT:()=>G,fv:()=>oe,Dc:()=>de,jV:()=>fe,VJ:()=>pe,H9:()=>we});const oe=(ge,Q)=>ge-Q;function de(ge,Q){if(0===ge.length)return;let q=ge[0];for(let le=1;le<ge.length;le++){const ee=ge[le];Q(ee,q)>0&&(q=ee)}return q}function fe(ge,Q){if(0===ge.length)return;let q=ge[0];for(let le=1;le<ge.length;le++){const ee=ge[le];Q(ee,q)>=0&&(q=ee)}return q}function pe(ge,Q){return de(ge,(q,le)=>-Q(q,le))}class we{constructor(Q){this.items=Q,this.firstIdx=0,this.lastIdx=this.items.length-1}takeWhile(Q){let q=this.firstIdx;for(;q<this.items.length&&Q(this.items[q]);)q++;const le=q===this.firstIdx?null:this.items.slice(this.firstIdx,q);return this.firstIdx=q,le}takeFromEndWhile(Q){let q=this.lastIdx;for(;q>=0&&Q(this.items[q]);)q--;const le=q===this.lastIdx?null:this.items.slice(q+1,this.lastIdx+1);return this.lastIdx=q,le}peek(){return this.items[this.firstIdx]}dequeue(){const Q=this.items[this.firstIdx];return this.firstIdx++,Q}takeCount(Q){const q=this.items.slice(this.firstIdx,this.firstIdx+Q);return this.firstIdx+=Q,q}}},59126:(Be,Me,m)=>{function M(g,Y){if(!g)throw new Error(Y?`Assertion failed (${Y})`:"Assertion Failed")}m.d(Me,{ok:()=>M})},89983:(Be,Me,m)=>{m.d(Me,{J8:()=>F,PG:()=>T,eP:()=>S,ne:()=>f,vp:()=>N,rH:()=>z,Vs:()=>D,Vg:()=>I,Ps:()=>Z,_F:()=>P,zh:()=>k,pY:()=>$,To:()=>j,Ue:()=>G,CR:()=>oe,jT:()=>de,Aq:()=>fe,zS:()=>we});var M=m(66607),g=m(13226),Y=m(71040),B=m(40189),E=m(70700),i=function(ge,Q,q,le){return new(q||(q=Promise))(function(X,re){function ce(Ve){try{ke(le.next(Ve))}catch(Ue){re(Ue)}}function ve(Ve){try{ke(le.throw(Ve))}catch(Ue){re(Ue)}}function ke(Ve){Ve.done?X(Ve.value):function(X){return X instanceof q?X:new q(function(re){re(X)})}(Ve.value).then(ce,ve)}ke((le=le.apply(ge,Q||[])).next())})},O=function(ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var q,Q=ge[Symbol.asyncIterator];return Q?Q.call(ge):(ge="function"==typeof __values?__values(ge):ge[Symbol.iterator](),q={},le("next"),le("throw"),le("return"),q[Symbol.asyncIterator]=function(){return this},q);function le(X){q[X]=ge[X]&&function(re){return new Promise(function(ce,ve){!function(X,re,ce,ve){Promise.resolve(ve).then(function(ke){X({value:ke,done:ce})},re)}(ce,ve,(re=ge[X](re)).done,re.value)})}}};function F(ge){return!!ge&&"function"==typeof ge.then}function T(ge){const Q=new M.A,q=ge(Q.token),le=new Promise((ee,X)=>{const re=Q.token.onCancellationRequested(()=>{re.dispose(),Q.dispose(),X(new g.FU)});Promise.resolve(q).then(ce=>{re.dispose(),Q.dispose(),ee(ce)},ce=>{re.dispose(),Q.dispose(),X(ce)})});return new class{cancel(){Q.cancel()}then(ee,X){return le.then(ee,X)}catch(ee){return this.then(void 0,ee)}finally(ee){return le.finally(ee)}}}function S(ge,Q,q){return new Promise((le,ee)=>{const X=Q.onCancellationRequested(()=>{X.dispose(),le(q)});ge.then(le,ee).finally(()=>X.dispose())})}class C{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(Q){if(this.activePromise){if(this.queuedPromiseFactory=Q,!this.queuedPromise){const q=()=>{this.queuedPromise=null;const le=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,le};this.queuedPromise=new Promise(le=>{this.activePromise.then(q,q).then(le)})}return new Promise((q,le)=>{this.queuedPromise.then(q,le)})}return this.activePromise=Q(),new Promise((q,le)=>{this.activePromise.then(ee=>{this.activePromise=null,q(ee)},ee=>{this.activePromise=null,le(ee)})})}}const f=Symbol("MicrotaskDelay");class N{constructor(Q){this.defaultDelay=Q,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(Q,q=this.defaultDelay){this.task=Q,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((ee,X)=>{this.doResolve=ee,this.doReject=X}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const ee=this.task;return this.task=null,ee()}}));const le=()=>{var ee;this.deferred=null,null===(ee=this.doResolve)||void 0===ee||ee.call(this,null)};return this.deferred=q===f?(ge=>{let Q=!0;return queueMicrotask(()=>{Q&&(Q=!1,ge())}),{isTriggered:()=>Q,dispose:()=>{Q=!1}}})(le):((ge,Q)=>{let q=!0;const le=setTimeout(()=>{q=!1,Q()},ge);return{isTriggered:()=>q,dispose:()=>{clearTimeout(le),q=!1}}})(q,le),this.completionPromise}isTriggered(){var Q;return!!(null===(Q=this.deferred)||void 0===Q?void 0:Q.isTriggered())}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject(new g.FU),this.completionPromise=null)}cancelTimeout(){var Q;null===(Q=this.deferred)||void 0===Q||Q.dispose(),this.deferred=null}dispose(){this.cancel()}}class z{constructor(Q){this.delayer=new N(Q),this.throttler=new C}trigger(Q,q){return this.delayer.trigger(()=>this.throttler.queue(Q),q)}dispose(){this.delayer.dispose()}}function D(ge,Q){return Q?new Promise((q,le)=>{const ee=setTimeout(()=>{X.dispose(),q()},ge),X=Q.onCancellationRequested(()=>{clearTimeout(ee),X.dispose(),le(new g.FU)})}):T(q=>D(ge,q))}function I(ge,Q=0){const q=setTimeout(ge,Q);return(0,B.OF)(()=>clearTimeout(q))}function Z(ge,Q=(le=>!!le),q=null){let le=0;const ee=ge.length,X=()=>{if(le>=ee)return Promise.resolve(q);const re=ge[le++];return Promise.resolve(re()).then(ve=>Q(ve)?Promise.resolve(ve):X())};return X()}class P{constructor(Q,q){this._token=-1,"function"==typeof Q&&"number"==typeof q&&this.setIfNotSet(Q,q)}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(Q,q){this.cancel(),this._token=setTimeout(()=>{this._token=-1,Q()},q)}setIfNotSet(Q,q){-1===this._token&&(this._token=setTimeout(()=>{this._token=-1,Q()},q))}}class k{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearInterval(this._token),this._token=-1)}cancelAndSet(Q,q){this.cancel(),this._token=setInterval(()=>{Q()},q)}}class ${constructor(Q,q){this.timeoutToken=-1,this.runner=Q,this.timeout=q,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(Q=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,Q)}get delay(){return this.timeout}set delay(Q){this.timeout=Q}isScheduled(){return-1!==this.timeoutToken}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}let j;j="function"!=typeof requestIdleCallback||"function"!=typeof cancelIdleCallback?ge=>{(0,E.fn)(()=>{if(Q)return;const q=Date.now()+15;ge(Object.freeze({didTimeout:!0,timeRemaining:()=>Math.max(0,q-Date.now())}))});let Q=!1;return{dispose(){Q||(Q=!0)}}}:(ge,Q)=>{const q=requestIdleCallback(ge,"number"==typeof Q?{timeout:Q}:void 0);let le=!1;return{dispose(){le||(le=!0,cancelIdleCallback(q))}}};class G{constructor(Q){this._didRun=!1,this._executor=()=>{try{this._value=Q()}catch(q){this._error=q}finally{this._didRun=!0}},this._handle=j(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}class oe{constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise((Q,q)=>{this.completeCallback=Q,this.errorCallback=q})}get isRejected(){return this.rejected}get isSettled(){return this.rejected||this.resolved}complete(Q){return new Promise(q=>{this.completeCallback(Q),this.resolved=!0,q()})}cancel(){new Promise(Q=>{this.errorCallback(new g.FU),this.rejected=!0,Q()})}}var de,ge;(ge=de||(de={})).settled=function(le){return i(this,void 0,void 0,function*(){let ee;const X=yield Promise.all(le.map(re=>re.then(ce=>ce,ce=>{ee||(ee=ce)})));if(void 0!==ee)throw ee;return X})},ge.withAsyncBody=function(le){return new Promise((ee,X)=>i(this,void 0,void 0,function*(){try{yield le(ee,X)}catch(re){X(re)}}))};class fe{constructor(Q){this._state=0,this._results=[],this._error=null,this._onStateChanged=new Y.Q5,queueMicrotask(()=>i(this,void 0,void 0,function*(){const q={emitOne:le=>this.emitOne(le),emitMany:le=>this.emitMany(le),reject:le=>this.reject(le)};try{yield Promise.resolve(Q(q)),this.resolve()}catch(le){this.reject(le)}finally{q.emitOne=void 0,q.emitMany=void 0,q.reject=void 0}}))}static fromArray(Q){return new fe(q=>{q.emitMany(Q)})}static fromPromise(Q){return new fe(q=>i(this,void 0,void 0,function*(){q.emitMany(yield Q)}))}static fromPromises(Q){return new fe(q=>i(this,void 0,void 0,function*(){yield Promise.all(Q.map(le=>i(this,void 0,void 0,function*(){return q.emitOne(yield le)})))}))}static merge(Q){return new fe(q=>i(this,void 0,void 0,function*(){yield Promise.all(Q.map(le=>{var ee,X;return i(this,void 0,void 0,function*(){var re,ce;try{for(ee=O(le);!(X=yield ee.next()).done;)q.emitOne(X.value)}catch(ve){re={error:ve}}finally{try{X&&!X.done&&(ce=ee.return)&&(yield ce.call(ee))}finally{if(re)throw re.error}}})}))}))}[Symbol.asyncIterator](){let Q=0;return{next:()=>i(this,void 0,void 0,function*(){for(;;){if(2===this._state)throw this._error;if(Q<this._results.length)return{done:!1,value:this._results[Q++]};if(1===this._state)return{done:!0,value:void 0};yield Y.ju.toPromise(this._onStateChanged.event)}})}}static map(Q,q){return new fe(le=>i(this,void 0,void 0,function*(){var ee,X;try{for(var ce,re=O(Q);!(ce=yield re.next()).done;)le.emitOne(q(ce.value))}catch(ve){ee={error:ve}}finally{try{ce&&!ce.done&&(X=re.return)&&(yield X.call(re))}finally{if(ee)throw ee.error}}}))}map(Q){return fe.map(this,Q)}static filter(Q,q){return new fe(le=>i(this,void 0,void 0,function*(){var ee,X;try{for(var ce,re=O(Q);!(ce=yield re.next()).done;){const ve=ce.value;q(ve)&&le.emitOne(ve)}}catch(ve){ee={error:ve}}finally{try{ce&&!ce.done&&(X=re.return)&&(yield X.call(re))}finally{if(ee)throw ee.error}}}))}filter(Q){return fe.filter(this,Q)}static coalesce(Q){return fe.filter(Q,q=>!!q)}coalesce(){return fe.coalesce(this)}static toPromise(Q){var q,le,ee,X;return i(this,void 0,void 0,function*(){const re=[];try{for(q=O(Q);!(le=yield q.next()).done;)re.push(le.value)}catch(ce){ee={error:ce}}finally{try{le&&!le.done&&(X=q.return)&&(yield X.call(q))}finally{if(ee)throw ee.error}}return re})}toPromise(){return fe.toPromise(this)}emitOne(Q){0===this._state&&(this._results.push(Q),this._onStateChanged.fire())}emitMany(Q){0===this._state&&(this._results=this._results.concat(Q),this._onStateChanged.fire())}resolve(){0===this._state&&(this._state=1,this._onStateChanged.fire())}reject(Q){0===this._state&&(this._state=2,this._error=Q,this._onStateChanged.fire())}}fe.EMPTY=fe.fromArray([]);class pe extends fe{constructor(Q,q){super(q),this._source=Q}cancel(){this._source.cancel()}}function we(ge){const Q=new M.A,q=ge(Q.token);return new pe(Q,le=>i(this,void 0,void 0,function*(){var ee,X;const re=Q.token.onCancellationRequested(()=>{re.dispose(),Q.dispose(),le.reject(new g.FU)});try{try{for(var ve,ce=O(q);!(ve=yield ce.next()).done;){if(Q.token.isCancellationRequested)return;le.emitOne(ve.value)}}catch(ke){ee={error:ke}}finally{try{ve&&!ve.done&&(X=ce.return)&&(yield X.call(ce))}finally{if(ee)throw ee.error}}re.dispose(),Q.dispose()}catch(ke){re.dispose(),Q.dispose(),le.reject(ke)}}))}},90386:(Be,Me,m)=>{m.d(Me,{KN:()=>Y,mP:()=>B,oq:()=>E,Ag:()=>i,T4:()=>O,Q$:()=>F,Cg:()=>T});const M="undefined"!=typeof Buffer;let g;class Y{constructor(C){this.buffer=C,this.byteLength=this.buffer.byteLength}static wrap(C){return M&&!Buffer.isBuffer(C)&&(C=Buffer.from(C.buffer,C.byteOffset,C.byteLength)),new Y(C)}toString(){return M?this.buffer.toString():(g||(g=new TextDecoder),g.decode(this.buffer))}}function B(S,C){return S[C+0]<<0>>>0|S[C+1]<<8>>>0}function E(S,C,b){S[b+0]=255&C,S[b+1]=255&(C>>>=8)}function i(S,C){return S[C]*Math.pow(2,24)+S[C+1]*Math.pow(2,16)+S[C+2]*Math.pow(2,8)+S[C+3]}function O(S,C,b){S[b+3]=C,S[b+2]=C>>>=8,S[b+1]=C>>>=8,S[b]=C>>>=8}function F(S,C){return S[C]}function T(S,C,b){S[b]=C}},66607:(Be,Me,m)=>{m.d(Me,{T:()=>Y,A:()=>E});var M=m(71040);const g=Object.freeze(function(i,O){const F=setTimeout(i.bind(O),0);return{dispose(){clearTimeout(F)}}});var Y,i;(i=Y||(Y={})).isCancellationToken=function(F){return F===i.None||F===i.Cancelled||F instanceof B||!(!F||"object"!=typeof F)&&"boolean"==typeof F.isCancellationRequested&&"function"==typeof F.onCancellationRequested},i.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:M.ju.None}),i.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:g});class B{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?g:(this._emitter||(this._emitter=new M.Q5),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class E{constructor(O){this._token=void 0,this._parentListener=void 0,this._parentListener=O&&O.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new B),this._token}cancel(){this._token?this._token instanceof B&&this._token.cancel():this._token=Y.Cancelled}dispose(O=!1){O&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof B&&this._token.dispose():this._token=Y.None}}},78968:(Be,Me,m)=>{function M(B){return B?B.replace(/\$\((.*?)\)/g,(E,i)=>` ${i} `).trim():""}m.d(Me,{JL:()=>M,lA:()=>g,dT:()=>Y});class g{constructor(E,i,O){this.id=E,this.definition=i,this.description=O,g._allCodicons.push(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}static getAll(){return g._allCodicons}}var Y;g._allCodicons=[],g.add=new g("add",{fontCharacter:"\\ea60"}),g.plus=new g("plus",g.add.definition),g.gistNew=new g("gist-new",g.add.definition),g.repoCreate=new g("repo-create",g.add.definition),g.lightbulb=new g("lightbulb",{fontCharacter:"\\ea61"}),g.lightBulb=new g("light-bulb",{fontCharacter:"\\ea61"}),g.repo=new g("repo",{fontCharacter:"\\ea62"}),g.repoDelete=new g("repo-delete",{fontCharacter:"\\ea62"}),g.gistFork=new g("gist-fork",{fontCharacter:"\\ea63"}),g.repoForked=new g("repo-forked",{fontCharacter:"\\ea63"}),g.gitPullRequest=new g("git-pull-request",{fontCharacter:"\\ea64"}),g.gitPullRequestAbandoned=new g("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),g.recordKeys=new g("record-keys",{fontCharacter:"\\ea65"}),g.keyboard=new g("keyboard",{fontCharacter:"\\ea65"}),g.tag=new g("tag",{fontCharacter:"\\ea66"}),g.tagAdd=new g("tag-add",{fontCharacter:"\\ea66"}),g.tagRemove=new g("tag-remove",{fontCharacter:"\\ea66"}),g.person=new g("person",{fontCharacter:"\\ea67"}),g.personFollow=new g("person-follow",{fontCharacter:"\\ea67"}),g.personOutline=new g("person-outline",{fontCharacter:"\\ea67"}),g.personFilled=new g("person-filled",{fontCharacter:"\\ea67"}),g.gitBranch=new g("git-branch",{fontCharacter:"\\ea68"}),g.gitBranchCreate=new g("git-branch-create",{fontCharacter:"\\ea68"}),g.gitBranchDelete=new g("git-branch-delete",{fontCharacter:"\\ea68"}),g.sourceControl=new g("source-control",{fontCharacter:"\\ea68"}),g.mirror=new g("mirror",{fontCharacter:"\\ea69"}),g.mirrorPublic=new g("mirror-public",{fontCharacter:"\\ea69"}),g.star=new g("star",{fontCharacter:"\\ea6a"}),g.starAdd=new g("star-add",{fontCharacter:"\\ea6a"}),g.starDelete=new g("star-delete",{fontCharacter:"\\ea6a"}),g.starEmpty=new g("star-empty",{fontCharacter:"\\ea6a"}),g.comment=new g("comment",{fontCharacter:"\\ea6b"}),g.commentAdd=new g("comment-add",{fontCharacter:"\\ea6b"}),g.alert=new g("alert",{fontCharacter:"\\ea6c"}),g.warning=new g("warning",{fontCharacter:"\\ea6c"}),g.search=new g("search",{fontCharacter:"\\ea6d"}),g.searchSave=new g("search-save",{fontCharacter:"\\ea6d"}),g.logOut=new g("log-out",{fontCharacter:"\\ea6e"}),g.signOut=new g("sign-out",{fontCharacter:"\\ea6e"}),g.logIn=new g("log-in",{fontCharacter:"\\ea6f"}),g.signIn=new g("sign-in",{fontCharacter:"\\ea6f"}),g.eye=new g("eye",{fontCharacter:"\\ea70"}),g.eyeUnwatch=new g("eye-unwatch",{fontCharacter:"\\ea70"}),g.eyeWatch=new g("eye-watch",{fontCharacter:"\\ea70"}),g.circleFilled=new g("circle-filled",{fontCharacter:"\\ea71"}),g.primitiveDot=new g("primitive-dot",{fontCharacter:"\\ea71"}),g.closeDirty=new g("close-dirty",{fontCharacter:"\\ea71"}),g.debugBreakpoint=new g("debug-breakpoint",{fontCharacter:"\\ea71"}),g.debugBreakpointDisabled=new g("debug-breakpoint-disabled",{fontCharacter:"\\ea71"}),g.debugHint=new g("debug-hint",{fontCharacter:"\\ea71"}),g.primitiveSquare=new g("primitive-square",{fontCharacter:"\\ea72"}),g.edit=new g("edit",{fontCharacter:"\\ea73"}),g.pencil=new g("pencil",{fontCharacter:"\\ea73"}),g.info=new g("info",{fontCharacter:"\\ea74"}),g.issueOpened=new g("issue-opened",{fontCharacter:"\\ea74"}),g.gistPrivate=new g("gist-private",{fontCharacter:"\\ea75"}),g.gitForkPrivate=new g("git-fork-private",{fontCharacter:"\\ea75"}),g.lock=new g("lock",{fontCharacter:"\\ea75"}),g.mirrorPrivate=new g("mirror-private",{fontCharacter:"\\ea75"}),g.close=new g("close",{fontCharacter:"\\ea76"}),g.removeClose=new g("remove-close",{fontCharacter:"\\ea76"}),g.x=new g("x",{fontCharacter:"\\ea76"}),g.repoSync=new g("repo-sync",{fontCharacter:"\\ea77"}),g.sync=new g("sync",{fontCharacter:"\\ea77"}),g.clone=new g("clone",{fontCharacter:"\\ea78"}),g.desktopDownload=new g("desktop-download",{fontCharacter:"\\ea78"}),g.beaker=new g("beaker",{fontCharacter:"\\ea79"}),g.microscope=new g("microscope",{fontCharacter:"\\ea79"}),g.vm=new g("vm",{fontCharacter:"\\ea7a"}),g.deviceDesktop=new g("device-desktop",{fontCharacter:"\\ea7a"}),g.file=new g("file",{fontCharacter:"\\ea7b"}),g.fileText=new g("file-text",{fontCharacter:"\\ea7b"}),g.more=new g("more",{fontCharacter:"\\ea7c"}),g.ellipsis=new g("ellipsis",{fontCharacter:"\\ea7c"}),g.kebabHorizontal=new g("kebab-horizontal",{fontCharacter:"\\ea7c"}),g.mailReply=new g("mail-reply",{fontCharacter:"\\ea7d"}),g.reply=new g("reply",{fontCharacter:"\\ea7d"}),g.organization=new g("organization",{fontCharacter:"\\ea7e"}),g.organizationFilled=new g("organization-filled",{fontCharacter:"\\ea7e"}),g.organizationOutline=new g("organization-outline",{fontCharacter:"\\ea7e"}),g.newFile=new g("new-file",{fontCharacter:"\\ea7f"}),g.fileAdd=new g("file-add",{fontCharacter:"\\ea7f"}),g.newFolder=new g("new-folder",{fontCharacter:"\\ea80"}),g.fileDirectoryCreate=new g("file-directory-create",{fontCharacter:"\\ea80"}),g.trash=new g("trash",{fontCharacter:"\\ea81"}),g.trashcan=new g("trashcan",{fontCharacter:"\\ea81"}),g.history=new g("history",{fontCharacter:"\\ea82"}),g.clock=new g("clock",{fontCharacter:"\\ea82"}),g.folder=new g("folder",{fontCharacter:"\\ea83"}),g.fileDirectory=new g("file-directory",{fontCharacter:"\\ea83"}),g.symbolFolder=new g("symbol-folder",{fontCharacter:"\\ea83"}),g.logoGithub=new g("logo-github",{fontCharacter:"\\ea84"}),g.markGithub=new g("mark-github",{fontCharacter:"\\ea84"}),g.github=new g("github",{fontCharacter:"\\ea84"}),g.terminal=new g("terminal",{fontCharacter:"\\ea85"}),g.console=new g("console",{fontCharacter:"\\ea85"}),g.repl=new g("repl",{fontCharacter:"\\ea85"}),g.zap=new g("zap",{fontCharacter:"\\ea86"}),g.symbolEvent=new g("symbol-event",{fontCharacter:"\\ea86"}),g.error=new g("error",{fontCharacter:"\\ea87"}),g.stop=new g("stop",{fontCharacter:"\\ea87"}),g.variable=new g("variable",{fontCharacter:"\\ea88"}),g.symbolVariable=new g("symbol-variable",{fontCharacter:"\\ea88"}),g.array=new g("array",{fontCharacter:"\\ea8a"}),g.symbolArray=new g("symbol-array",{fontCharacter:"\\ea8a"}),g.symbolModule=new g("symbol-module",{fontCharacter:"\\ea8b"}),g.symbolPackage=new g("symbol-package",{fontCharacter:"\\ea8b"}),g.symbolNamespace=new g("symbol-namespace",{fontCharacter:"\\ea8b"}),g.symbolObject=new g("symbol-object",{fontCharacter:"\\ea8b"}),g.symbolMethod=new g("symbol-method",{fontCharacter:"\\ea8c"}),g.symbolFunction=new g("symbol-function",{fontCharacter:"\\ea8c"}),g.symbolConstructor=new g("symbol-constructor",{fontCharacter:"\\ea8c"}),g.symbolBoolean=new g("symbol-boolean",{fontCharacter:"\\ea8f"}),g.symbolNull=new g("symbol-null",{fontCharacter:"\\ea8f"}),g.symbolNumeric=new g("symbol-numeric",{fontCharacter:"\\ea90"}),g.symbolNumber=new g("symbol-number",{fontCharacter:"\\ea90"}),g.symbolStructure=new g("symbol-structure",{fontCharacter:"\\ea91"}),g.symbolStruct=new g("symbol-struct",{fontCharacter:"\\ea91"}),g.symbolParameter=new g("symbol-parameter",{fontCharacter:"\\ea92"}),g.symbolTypeParameter=new g("symbol-type-parameter",{fontCharacter:"\\ea92"}),g.symbolKey=new g("symbol-key",{fontCharacter:"\\ea93"}),g.symbolText=new g("symbol-text",{fontCharacter:"\\ea93"}),g.symbolReference=new g("symbol-reference",{fontCharacter:"\\ea94"}),g.goToFile=new g("go-to-file",{fontCharacter:"\\ea94"}),g.symbolEnum=new g("symbol-enum",{fontCharacter:"\\ea95"}),g.symbolValue=new g("symbol-value",{fontCharacter:"\\ea95"}),g.symbolRuler=new g("symbol-ruler",{fontCharacter:"\\ea96"}),g.symbolUnit=new g("symbol-unit",{fontCharacter:"\\ea96"}),g.activateBreakpoints=new g("activate-breakpoints",{fontCharacter:"\\ea97"}),g.archive=new g("archive",{fontCharacter:"\\ea98"}),g.arrowBoth=new g("arrow-both",{fontCharacter:"\\ea99"}),g.arrowDown=new g("arrow-down",{fontCharacter:"\\ea9a"}),g.arrowLeft=new g("arrow-left",{fontCharacter:"\\ea9b"}),g.arrowRight=new g("arrow-right",{fontCharacter:"\\ea9c"}),g.arrowSmallDown=new g("arrow-small-down",{fontCharacter:"\\ea9d"}),g.arrowSmallLeft=new g("arrow-small-left",{fontCharacter:"\\ea9e"}),g.arrowSmallRight=new g("arrow-small-right",{fontCharacter:"\\ea9f"}),g.arrowSmallUp=new g("arrow-small-up",{fontCharacter:"\\eaa0"}),g.arrowUp=new g("arrow-up",{fontCharacter:"\\eaa1"}),g.bell=new g("bell",{fontCharacter:"\\eaa2"}),g.bold=new g("bold",{fontCharacter:"\\eaa3"}),g.book=new g("book",{fontCharacter:"\\eaa4"}),g.bookmark=new g("bookmark",{fontCharacter:"\\eaa5"}),g.debugBreakpointConditionalUnverified=new g("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),g.debugBreakpointConditional=new g("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),g.debugBreakpointConditionalDisabled=new g("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),g.debugBreakpointDataUnverified=new g("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),g.debugBreakpointData=new g("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),g.debugBreakpointDataDisabled=new g("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),g.debugBreakpointLogUnverified=new g("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),g.debugBreakpointLog=new g("debug-breakpoint-log",{fontCharacter:"\\eaab"}),g.debugBreakpointLogDisabled=new g("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),g.briefcase=new g("briefcase",{fontCharacter:"\\eaac"}),g.broadcast=new g("broadcast",{fontCharacter:"\\eaad"}),g.browser=new g("browser",{fontCharacter:"\\eaae"}),g.bug=new g("bug",{fontCharacter:"\\eaaf"}),g.calendar=new g("calendar",{fontCharacter:"\\eab0"}),g.caseSensitive=new g("case-sensitive",{fontCharacter:"\\eab1"}),g.check=new g("check",{fontCharacter:"\\eab2"}),g.checklist=new g("checklist",{fontCharacter:"\\eab3"}),g.chevronDown=new g("chevron-down",{fontCharacter:"\\eab4"}),g.dropDownButton=new g("drop-down-button",g.chevronDown.definition),g.chevronLeft=new g("chevron-left",{fontCharacter:"\\eab5"}),g.chevronRight=new g("chevron-right",{fontCharacter:"\\eab6"}),g.chevronUp=new g("chevron-up",{fontCharacter:"\\eab7"}),g.chromeClose=new g("chrome-close",{fontCharacter:"\\eab8"}),g.chromeMaximize=new g("chrome-maximize",{fontCharacter:"\\eab9"}),g.chromeMinimize=new g("chrome-minimize",{fontCharacter:"\\eaba"}),g.chromeRestore=new g("chrome-restore",{fontCharacter:"\\eabb"}),g.circleOutline=new g("circle-outline",{fontCharacter:"\\eabc"}),g.debugBreakpointUnverified=new g("debug-breakpoint-unverified",{fontCharacter:"\\eabc"}),g.circleSlash=new g("circle-slash",{fontCharacter:"\\eabd"}),g.circuitBoard=new g("circuit-board",{fontCharacter:"\\eabe"}),g.clearAll=new g("clear-all",{fontCharacter:"\\eabf"}),g.clippy=new g("clippy",{fontCharacter:"\\eac0"}),g.closeAll=new g("close-all",{fontCharacter:"\\eac1"}),g.cloudDownload=new g("cloud-download",{fontCharacter:"\\eac2"}),g.cloudUpload=new g("cloud-upload",{fontCharacter:"\\eac3"}),g.code=new g("code",{fontCharacter:"\\eac4"}),g.collapseAll=new g("collapse-all",{fontCharacter:"\\eac5"}),g.colorMode=new g("color-mode",{fontCharacter:"\\eac6"}),g.commentDiscussion=new g("comment-discussion",{fontCharacter:"\\eac7"}),g.compareChanges=new g("compare-changes",{fontCharacter:"\\eafd"}),g.creditCard=new g("credit-card",{fontCharacter:"\\eac9"}),g.dash=new g("dash",{fontCharacter:"\\eacc"}),g.dashboard=new g("dashboard",{fontCharacter:"\\eacd"}),g.database=new g("database",{fontCharacter:"\\eace"}),g.debugContinue=new g("debug-continue",{fontCharacter:"\\eacf"}),g.debugDisconnect=new g("debug-disconnect",{fontCharacter:"\\ead0"}),g.debugPause=new g("debug-pause",{fontCharacter:"\\ead1"}),g.debugRestart=new g("debug-restart",{fontCharacter:"\\ead2"}),g.debugStart=new g("debug-start",{fontCharacter:"\\ead3"}),g.debugStepInto=new g("debug-step-into",{fontCharacter:"\\ead4"}),g.debugStepOut=new g("debug-step-out",{fontCharacter:"\\ead5"}),g.debugStepOver=new g("debug-step-over",{fontCharacter:"\\ead6"}),g.debugStop=new g("debug-stop",{fontCharacter:"\\ead7"}),g.debug=new g("debug",{fontCharacter:"\\ead8"}),g.deviceCameraVideo=new g("device-camera-video",{fontCharacter:"\\ead9"}),g.deviceCamera=new g("device-camera",{fontCharacter:"\\eada"}),g.deviceMobile=new g("device-mobile",{fontCharacter:"\\eadb"}),g.diffAdded=new g("diff-added",{fontCharacter:"\\eadc"}),g.diffIgnored=new g("diff-ignored",{fontCharacter:"\\eadd"}),g.diffModified=new g("diff-modified",{fontCharacter:"\\eade"}),g.diffRemoved=new g("diff-removed",{fontCharacter:"\\eadf"}),g.diffRenamed=new g("diff-renamed",{fontCharacter:"\\eae0"}),g.diff=new g("diff",{fontCharacter:"\\eae1"}),g.discard=new g("discard",{fontCharacter:"\\eae2"}),g.editorLayout=new g("editor-layout",{fontCharacter:"\\eae3"}),g.emptyWindow=new g("empty-window",{fontCharacter:"\\eae4"}),g.exclude=new g("exclude",{fontCharacter:"\\eae5"}),g.extensions=new g("extensions",{fontCharacter:"\\eae6"}),g.eyeClosed=new g("eye-closed",{fontCharacter:"\\eae7"}),g.fileBinary=new g("file-binary",{fontCharacter:"\\eae8"}),g.fileCode=new g("file-code",{fontCharacter:"\\eae9"}),g.fileMedia=new g("file-media",{fontCharacter:"\\eaea"}),g.filePdf=new g("file-pdf",{fontCharacter:"\\eaeb"}),g.fileSubmodule=new g("file-submodule",{fontCharacter:"\\eaec"}),g.fileSymlinkDirectory=new g("file-symlink-directory",{fontCharacter:"\\eaed"}),g.fileSymlinkFile=new g("file-symlink-file",{fontCharacter:"\\eaee"}),g.fileZip=new g("file-zip",{fontCharacter:"\\eaef"}),g.files=new g("files",{fontCharacter:"\\eaf0"}),g.filter=new g("filter",{fontCharacter:"\\eaf1"}),g.flame=new g("flame",{fontCharacter:"\\eaf2"}),g.foldDown=new g("fold-down",{fontCharacter:"\\eaf3"}),g.foldUp=new g("fold-up",{fontCharacter:"\\eaf4"}),g.fold=new g("fold",{fontCharacter:"\\eaf5"}),g.folderActive=new g("folder-active",{fontCharacter:"\\eaf6"}),g.folderOpened=new g("folder-opened",{fontCharacter:"\\eaf7"}),g.gear=new g("gear",{fontCharacter:"\\eaf8"}),g.gift=new g("gift",{fontCharacter:"\\eaf9"}),g.gistSecret=new g("gist-secret",{fontCharacter:"\\eafa"}),g.gist=new g("gist",{fontCharacter:"\\eafb"}),g.gitCommit=new g("git-commit",{fontCharacter:"\\eafc"}),g.gitCompare=new g("git-compare",{fontCharacter:"\\eafd"}),g.gitMerge=new g("git-merge",{fontCharacter:"\\eafe"}),g.githubAction=new g("github-action",{fontCharacter:"\\eaff"}),g.githubAlt=new g("github-alt",{fontCharacter:"\\eb00"}),g.globe=new g("globe",{fontCharacter:"\\eb01"}),g.grabber=new g("grabber",{fontCharacter:"\\eb02"}),g.graph=new g("graph",{fontCharacter:"\\eb03"}),g.gripper=new g("gripper",{fontCharacter:"\\eb04"}),g.heart=new g("heart",{fontCharacter:"\\eb05"}),g.home=new g("home",{fontCharacter:"\\eb06"}),g.horizontalRule=new g("horizontal-rule",{fontCharacter:"\\eb07"}),g.hubot=new g("hubot",{fontCharacter:"\\eb08"}),g.inbox=new g("inbox",{fontCharacter:"\\eb09"}),g.issueClosed=new g("issue-closed",{fontCharacter:"\\eba4"}),g.issueReopened=new g("issue-reopened",{fontCharacter:"\\eb0b"}),g.issues=new g("issues",{fontCharacter:"\\eb0c"}),g.italic=new g("italic",{fontCharacter:"\\eb0d"}),g.jersey=new g("jersey",{fontCharacter:"\\eb0e"}),g.json=new g("json",{fontCharacter:"\\eb0f"}),g.kebabVertical=new g("kebab-vertical",{fontCharacter:"\\eb10"}),g.key=new g("key",{fontCharacter:"\\eb11"}),g.law=new g("law",{fontCharacter:"\\eb12"}),g.lightbulbAutofix=new g("lightbulb-autofix",{fontCharacter:"\\eb13"}),g.linkExternal=new g("link-external",{fontCharacter:"\\eb14"}),g.link=new g("link",{fontCharacter:"\\eb15"}),g.listOrdered=new g("list-ordered",{fontCharacter:"\\eb16"}),g.listUnordered=new g("list-unordered",{fontCharacter:"\\eb17"}),g.liveShare=new g("live-share",{fontCharacter:"\\eb18"}),g.loading=new g("loading",{fontCharacter:"\\eb19"}),g.location=new g("location",{fontCharacter:"\\eb1a"}),g.mailRead=new g("mail-read",{fontCharacter:"\\eb1b"}),g.mail=new g("mail",{fontCharacter:"\\eb1c"}),g.markdown=new g("markdown",{fontCharacter:"\\eb1d"}),g.megaphone=new g("megaphone",{fontCharacter:"\\eb1e"}),g.mention=new g("mention",{fontCharacter:"\\eb1f"}),g.milestone=new g("milestone",{fontCharacter:"\\eb20"}),g.mortarBoard=new g("mortar-board",{fontCharacter:"\\eb21"}),g.move=new g("move",{fontCharacter:"\\eb22"}),g.multipleWindows=new g("multiple-windows",{fontCharacter:"\\eb23"}),g.mute=new g("mute",{fontCharacter:"\\eb24"}),g.noNewline=new g("no-newline",{fontCharacter:"\\eb25"}),g.note=new g("note",{fontCharacter:"\\eb26"}),g.octoface=new g("octoface",{fontCharacter:"\\eb27"}),g.openPreview=new g("open-preview",{fontCharacter:"\\eb28"}),g.package_=new g("package",{fontCharacter:"\\eb29"}),g.paintcan=new g("paintcan",{fontCharacter:"\\eb2a"}),g.pin=new g("pin",{fontCharacter:"\\eb2b"}),g.play=new g("play",{fontCharacter:"\\eb2c"}),g.run=new g("run",{fontCharacter:"\\eb2c"}),g.plug=new g("plug",{fontCharacter:"\\eb2d"}),g.preserveCase=new g("preserve-case",{fontCharacter:"\\eb2e"}),g.preview=new g("preview",{fontCharacter:"\\eb2f"}),g.project=new g("project",{fontCharacter:"\\eb30"}),g.pulse=new g("pulse",{fontCharacter:"\\eb31"}),g.question=new g("question",{fontCharacter:"\\eb32"}),g.quote=new g("quote",{fontCharacter:"\\eb33"}),g.radioTower=new g("radio-tower",{fontCharacter:"\\eb34"}),g.reactions=new g("reactions",{fontCharacter:"\\eb35"}),g.references=new g("references",{fontCharacter:"\\eb36"}),g.refresh=new g("refresh",{fontCharacter:"\\eb37"}),g.regex=new g("regex",{fontCharacter:"\\eb38"}),g.remoteExplorer=new g("remote-explorer",{fontCharacter:"\\eb39"}),g.remote=new g("remote",{fontCharacter:"\\eb3a"}),g.remove=new g("remove",{fontCharacter:"\\eb3b"}),g.replaceAll=new g("replace-all",{fontCharacter:"\\eb3c"}),g.replace=new g("replace",{fontCharacter:"\\eb3d"}),g.repoClone=new g("repo-clone",{fontCharacter:"\\eb3e"}),g.repoForcePush=new g("repo-force-push",{fontCharacter:"\\eb3f"}),g.repoPull=new g("repo-pull",{fontCharacter:"\\eb40"}),g.repoPush=new g("repo-push",{fontCharacter:"\\eb41"}),g.report=new g("report",{fontCharacter:"\\eb42"}),g.requestChanges=new g("request-changes",{fontCharacter:"\\eb43"}),g.rocket=new g("rocket",{fontCharacter:"\\eb44"}),g.rootFolderOpened=new g("root-folder-opened",{fontCharacter:"\\eb45"}),g.rootFolder=new g("root-folder",{fontCharacter:"\\eb46"}),g.rss=new g("rss",{fontCharacter:"\\eb47"}),g.ruby=new g("ruby",{fontCharacter:"\\eb48"}),g.saveAll=new g("save-all",{fontCharacter:"\\eb49"}),g.saveAs=new g("save-as",{fontCharacter:"\\eb4a"}),g.save=new g("save",{fontCharacter:"\\eb4b"}),g.screenFull=new g("screen-full",{fontCharacter:"\\eb4c"}),g.screenNormal=new g("screen-normal",{fontCharacter:"\\eb4d"}),g.searchStop=new g("search-stop",{fontCharacter:"\\eb4e"}),g.server=new g("server",{fontCharacter:"\\eb50"}),g.settingsGear=new g("settings-gear",{fontCharacter:"\\eb51"}),g.settings=new g("settings",{fontCharacter:"\\eb52"}),g.shield=new g("shield",{fontCharacter:"\\eb53"}),g.smiley=new g("smiley",{fontCharacter:"\\eb54"}),g.sortPrecedence=new g("sort-precedence",{fontCharacter:"\\eb55"}),g.splitHorizontal=new g("split-horizontal",{fontCharacter:"\\eb56"}),g.splitVertical=new g("split-vertical",{fontCharacter:"\\eb57"}),g.squirrel=new g("squirrel",{fontCharacter:"\\eb58"}),g.starFull=new g("star-full",{fontCharacter:"\\eb59"}),g.starHalf=new g("star-half",{fontCharacter:"\\eb5a"}),g.symbolClass=new g("symbol-class",{fontCharacter:"\\eb5b"}),g.symbolColor=new g("symbol-color",{fontCharacter:"\\eb5c"}),g.symbolCustomColor=new g("symbol-customcolor",{fontCharacter:"\\eb5c"}),g.symbolConstant=new g("symbol-constant",{fontCharacter:"\\eb5d"}),g.symbolEnumMember=new g("symbol-enum-member",{fontCharacter:"\\eb5e"}),g.symbolField=new g("symbol-field",{fontCharacter:"\\eb5f"}),g.symbolFile=new g("symbol-file",{fontCharacter:"\\eb60"}),g.symbolInterface=new g("symbol-interface",{fontCharacter:"\\eb61"}),g.symbolKeyword=new g("symbol-keyword",{fontCharacter:"\\eb62"}),g.symbolMisc=new g("symbol-misc",{fontCharacter:"\\eb63"}),g.symbolOperator=new g("symbol-operator",{fontCharacter:"\\eb64"}),g.symbolProperty=new g("symbol-property",{fontCharacter:"\\eb65"}),g.wrench=new g("wrench",{fontCharacter:"\\eb65"}),g.wrenchSubaction=new g("wrench-subaction",{fontCharacter:"\\eb65"}),g.symbolSnippet=new g("symbol-snippet",{fontCharacter:"\\eb66"}),g.tasklist=new g("tasklist",{fontCharacter:"\\eb67"}),g.telescope=new g("telescope",{fontCharacter:"\\eb68"}),g.textSize=new g("text-size",{fontCharacter:"\\eb69"}),g.threeBars=new g("three-bars",{fontCharacter:"\\eb6a"}),g.thumbsdown=new g("thumbsdown",{fontCharacter:"\\eb6b"}),g.thumbsup=new g("thumbsup",{fontCharacter:"\\eb6c"}),g.tools=new g("tools",{fontCharacter:"\\eb6d"}),g.triangleDown=new g("triangle-down",{fontCharacter:"\\eb6e"}),g.triangleLeft=new g("triangle-left",{fontCharacter:"\\eb6f"}),g.triangleRight=new g("triangle-right",{fontCharacter:"\\eb70"}),g.triangleUp=new g("triangle-up",{fontCharacter:"\\eb71"}),g.twitter=new g("twitter",{fontCharacter:"\\eb72"}),g.unfold=new g("unfold",{fontCharacter:"\\eb73"}),g.unlock=new g("unlock",{fontCharacter:"\\eb74"}),g.unmute=new g("unmute",{fontCharacter:"\\eb75"}),g.unverified=new g("unverified",{fontCharacter:"\\eb76"}),g.verified=new g("verified",{fontCharacter:"\\eb77"}),g.versions=new g("versions",{fontCharacter:"\\eb78"}),g.vmActive=new g("vm-active",{fontCharacter:"\\eb79"}),g.vmOutline=new g("vm-outline",{fontCharacter:"\\eb7a"}),g.vmRunning=new g("vm-running",{fontCharacter:"\\eb7b"}),g.watch=new g("watch",{fontCharacter:"\\eb7c"}),g.whitespace=new g("whitespace",{fontCharacter:"\\eb7d"}),g.wholeWord=new g("whole-word",{fontCharacter:"\\eb7e"}),g.window=new g("window",{fontCharacter:"\\eb7f"}),g.wordWrap=new g("word-wrap",{fontCharacter:"\\eb80"}),g.zoomIn=new g("zoom-in",{fontCharacter:"\\eb81"}),g.zoomOut=new g("zoom-out",{fontCharacter:"\\eb82"}),g.listFilter=new g("list-filter",{fontCharacter:"\\eb83"}),g.listFlat=new g("list-flat",{fontCharacter:"\\eb84"}),g.listSelection=new g("list-selection",{fontCharacter:"\\eb85"}),g.selection=new g("selection",{fontCharacter:"\\eb85"}),g.listTree=new g("list-tree",{fontCharacter:"\\eb86"}),g.debugBreakpointFunctionUnverified=new g("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),g.debugBreakpointFunction=new g("debug-breakpoint-function",{fontCharacter:"\\eb88"}),g.debugBreakpointFunctionDisabled=new g("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),g.debugStackframeActive=new g("debug-stackframe-active",{fontCharacter:"\\eb89"}),g.debugStackframeDot=new g("debug-stackframe-dot",{fontCharacter:"\\eb8a"}),g.debugStackframe=new g("debug-stackframe",{fontCharacter:"\\eb8b"}),g.debugStackframeFocused=new g("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),g.debugBreakpointUnsupported=new g("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),g.symbolString=new g("symbol-string",{fontCharacter:"\\eb8d"}),g.debugReverseContinue=new g("debug-reverse-continue",{fontCharacter:"\\eb8e"}),g.debugStepBack=new g("debug-step-back",{fontCharacter:"\\eb8f"}),g.debugRestartFrame=new g("debug-restart-frame",{fontCharacter:"\\eb90"}),g.callIncoming=new g("call-incoming",{fontCharacter:"\\eb92"}),g.callOutgoing=new g("call-outgoing",{fontCharacter:"\\eb93"}),g.menu=new g("menu",{fontCharacter:"\\eb94"}),g.expandAll=new g("expand-all",{fontCharacter:"\\eb95"}),g.feedback=new g("feedback",{fontCharacter:"\\eb96"}),g.groupByRefType=new g("group-by-ref-type",{fontCharacter:"\\eb97"}),g.ungroupByRefType=new g("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),g.account=new g("account",{fontCharacter:"\\eb99"}),g.bellDot=new g("bell-dot",{fontCharacter:"\\eb9a"}),g.debugConsole=new g("debug-console",{fontCharacter:"\\eb9b"}),g.library=new g("library",{fontCharacter:"\\eb9c"}),g.output=new g("output",{fontCharacter:"\\eb9d"}),g.runAll=new g("run-all",{fontCharacter:"\\eb9e"}),g.syncIgnored=new g("sync-ignored",{fontCharacter:"\\eb9f"}),g.pinned=new g("pinned",{fontCharacter:"\\eba0"}),g.githubInverted=new g("github-inverted",{fontCharacter:"\\eba1"}),g.debugAlt=new g("debug-alt",{fontCharacter:"\\eb91"}),g.serverProcess=new g("server-process",{fontCharacter:"\\eba2"}),g.serverEnvironment=new g("server-environment",{fontCharacter:"\\eba3"}),g.pass=new g("pass",{fontCharacter:"\\eba4"}),g.stopCircle=new g("stop-circle",{fontCharacter:"\\eba5"}),g.playCircle=new g("play-circle",{fontCharacter:"\\eba6"}),g.record=new g("record",{fontCharacter:"\\eba7"}),g.debugAltSmall=new g("debug-alt-small",{fontCharacter:"\\eba8"}),g.vmConnect=new g("vm-connect",{fontCharacter:"\\eba9"}),g.cloud=new g("cloud",{fontCharacter:"\\ebaa"}),g.merge=new g("merge",{fontCharacter:"\\ebab"}),g.exportIcon=new g("export",{fontCharacter:"\\ebac"}),g.graphLeft=new g("graph-left",{fontCharacter:"\\ebad"}),g.magnet=new g("magnet",{fontCharacter:"\\ebae"}),g.notebook=new g("notebook",{fontCharacter:"\\ebaf"}),g.redo=new g("redo",{fontCharacter:"\\ebb0"}),g.checkAll=new g("check-all",{fontCharacter:"\\ebb1"}),g.pinnedDirty=new g("pinned-dirty",{fontCharacter:"\\ebb2"}),g.passFilled=new g("pass-filled",{fontCharacter:"\\ebb3"}),g.circleLargeFilled=new g("circle-large-filled",{fontCharacter:"\\ebb4"}),g.circleLargeOutline=new g("circle-large-outline",{fontCharacter:"\\ebb5"}),g.combine=new g("combine",{fontCharacter:"\\ebb6"}),g.gather=new g("gather",{fontCharacter:"\\ebb6"}),g.table=new g("table",{fontCharacter:"\\ebb7"}),g.variableGroup=new g("variable-group",{fontCharacter:"\\ebb8"}),g.typeHierarchy=new g("type-hierarchy",{fontCharacter:"\\ebb9"}),g.typeHierarchySub=new g("type-hierarchy-sub",{fontCharacter:"\\ebba"}),g.typeHierarchySuper=new g("type-hierarchy-super",{fontCharacter:"\\ebbb"}),g.gitPullRequestCreate=new g("git-pull-request-create",{fontCharacter:"\\ebbc"}),g.runAbove=new g("run-above",{fontCharacter:"\\ebbd"}),g.runBelow=new g("run-below",{fontCharacter:"\\ebbe"}),g.notebookTemplate=new g("notebook-template",{fontCharacter:"\\ebbf"}),g.debugRerun=new g("debug-rerun",{fontCharacter:"\\ebc0"}),g.workspaceTrusted=new g("workspace-trusted",{fontCharacter:"\\ebc1"}),g.workspaceUntrusted=new g("workspace-untrusted",{fontCharacter:"\\ebc2"}),g.workspaceUnspecified=new g("workspace-unspecified",{fontCharacter:"\\ebc3"}),g.terminalCmd=new g("terminal-cmd",{fontCharacter:"\\ebc4"}),g.terminalDebian=new g("terminal-debian",{fontCharacter:"\\ebc5"}),g.terminalLinux=new g("terminal-linux",{fontCharacter:"\\ebc6"}),g.terminalPowershell=new g("terminal-powershell",{fontCharacter:"\\ebc7"}),g.terminalTmux=new g("terminal-tmux",{fontCharacter:"\\ebc8"}),g.terminalUbuntu=new g("terminal-ubuntu",{fontCharacter:"\\ebc9"}),g.terminalBash=new g("terminal-bash",{fontCharacter:"\\ebca"}),g.arrowSwap=new g("arrow-swap",{fontCharacter:"\\ebcb"}),g.copy=new g("copy",{fontCharacter:"\\ebcc"}),g.personAdd=new g("person-add",{fontCharacter:"\\ebcd"}),g.filterFilled=new g("filter-filled",{fontCharacter:"\\ebce"}),g.wand=new g("wand",{fontCharacter:"\\ebcf"}),g.debugLineByLine=new g("debug-line-by-line",{fontCharacter:"\\ebd0"}),g.inspect=new g("inspect",{fontCharacter:"\\ebd1"}),g.layers=new g("layers",{fontCharacter:"\\ebd2"}),g.layersDot=new g("layers-dot",{fontCharacter:"\\ebd3"}),g.layersActive=new g("layers-active",{fontCharacter:"\\ebd4"}),g.compass=new g("compass",{fontCharacter:"\\ebd5"}),g.compassDot=new g("compass-dot",{fontCharacter:"\\ebd6"}),g.compassActive=new g("compass-active",{fontCharacter:"\\ebd7"}),g.azure=new g("azure",{fontCharacter:"\\ebd8"}),g.issueDraft=new g("issue-draft",{fontCharacter:"\\ebd9"}),g.gitPullRequestClosed=new g("git-pull-request-closed",{fontCharacter:"\\ebda"}),g.gitPullRequestDraft=new g("git-pull-request-draft",{fontCharacter:"\\ebdb"}),g.debugAll=new g("debug-all",{fontCharacter:"\\ebdc"}),g.debugCoverage=new g("debug-coverage",{fontCharacter:"\\ebdd"}),g.runErrors=new g("run-errors",{fontCharacter:"\\ebde"}),g.folderLibrary=new g("folder-library",{fontCharacter:"\\ebdf"}),g.debugContinueSmall=new g("debug-continue-small",{fontCharacter:"\\ebe0"}),g.beakerStop=new g("beaker-stop",{fontCharacter:"\\ebe1"}),g.graphLine=new g("graph-line",{fontCharacter:"\\ebe2"}),g.graphScatter=new g("graph-scatter",{fontCharacter:"\\ebe3"}),g.pieChart=new g("pie-chart",{fontCharacter:"\\ebe4"}),g.bracket=new g("bracket",g.json.definition),g.bracketDot=new g("bracket-dot",{fontCharacter:"\\ebe5"}),g.bracketError=new g("bracket-error",{fontCharacter:"\\ebe6"}),g.lockSmall=new g("lock-small",{fontCharacter:"\\ebe7"}),g.azureDevops=new g("azure-devops",{fontCharacter:"\\ebe8"}),g.verifiedFilled=new g("verified-filled",{fontCharacter:"\\ebe9"}),g.newLine=new g("newline",{fontCharacter:"\\ebea"}),g.layout=new g("layout",{fontCharacter:"\\ebeb"}),g.layoutActivitybarLeft=new g("layout-activitybar-left",{fontCharacter:"\\ebec"}),g.layoutActivitybarRight=new g("layout-activitybar-right",{fontCharacter:"\\ebed"}),g.layoutPanelLeft=new g("layout-panel-left",{fontCharacter:"\\ebee"}),g.layoutPanelCenter=new g("layout-panel-center",{fontCharacter:"\\ebef"}),g.layoutPanelJustify=new g("layout-panel-justify",{fontCharacter:"\\ebf0"}),g.layoutPanelRight=new g("layout-panel-right",{fontCharacter:"\\ebf1"}),g.layoutPanel=new g("layout-panel",{fontCharacter:"\\ebf2"}),g.layoutSidebarLeft=new g("layout-sidebar-left",{fontCharacter:"\\ebf3"}),g.layoutSidebarRight=new g("layout-sidebar-right",{fontCharacter:"\\ebf4"}),g.layoutStatusbar=new g("layout-statusbar",{fontCharacter:"\\ebf5"}),g.layoutMenubar=new g("layout-menubar",{fontCharacter:"\\ebf6"}),g.layoutCentered=new g("layout-centered",{fontCharacter:"\\ebf7"}),g.target=new g("target",{fontCharacter:"\\ebf8"}),g.indent=new g("indent",{fontCharacter:"\\ebf9"}),g.recordSmall=new g("record-small",{fontCharacter:"\\ebfa"}),g.errorSmall=new g("error-small",{fontCharacter:"\\ebfb"}),g.arrowCircleDown=new g("arrow-circle-down",{fontCharacter:"\\ebfc"}),g.arrowCircleLeft=new g("arrow-circle-left",{fontCharacter:"\\ebfd"}),g.arrowCircleRight=new g("arrow-circle-right",{fontCharacter:"\\ebfe"}),g.arrowCircleUp=new g("arrow-circle-up",{fontCharacter:"\\ebff"}),g.dialogError=new g("dialog-error",g.error.definition),g.dialogWarning=new g("dialog-warning",g.warning.definition),g.dialogInfo=new g("dialog-info",g.info.definition),g.dialogClose=new g("dialog-close",g.close.definition),g.treeItemExpanded=new g("tree-item-expanded",g.chevronDown.definition),g.treeFilterOnTypeOn=new g("tree-filter-on-type-on",g.listFilter.definition),g.treeFilterOnTypeOff=new g("tree-filter-on-type-off",g.listSelection.definition),g.treeFilterClear=new g("tree-filter-clear",g.close.definition),g.treeItemLoading=new g("tree-item-loading",g.loading.definition),g.menuSelection=new g("menu-selection",g.check.definition),g.menuSubmenu=new g("menu-submenu",g.chevronRight.definition),g.menuBarMore=new g("menubar-more",g.more.definition),g.scrollbarButtonLeft=new g("scrollbar-button-left",g.triangleLeft.definition),g.scrollbarButtonRight=new g("scrollbar-button-right",g.triangleRight.definition),g.scrollbarButtonUp=new g("scrollbar-button-up",g.triangleUp.definition),g.scrollbarButtonDown=new g("scrollbar-button-down",g.triangleDown.definition),g.toolBarMore=new g("toolbar-more",g.more.definition),g.quickInputBack=new g("quick-input-back",g.arrowLeft.definition),function(B){B.iconNameSegment="[A-Za-z0-9]+",B.iconNameExpression="[A-Za-z0-9-]+",B.iconModifierExpression="~[A-Za-z]+",B.iconNameCharacter="[A-Za-z0-9~-]";const E=new RegExp(`^(${B.iconNameExpression})(${B.iconModifierExpression})?$`);function i(T){if(T instanceof g)return["codicon","codicon-"+T.id];const S=E.exec(T.id);if(!S)return i(g.error);let[,C,b]=S;const L=["codicon","codicon-"+C];return b&&L.push("codicon-modifier-"+b.substr(1)),L}B.asClassNameArray=i,B.asClassName=function(T){return i(T).join(" ")},B.asCSSSelector=function(T){return"."+i(T).join(".")}}(Y||(Y={}))},81530:(Be,Me,m)=>{m.d(Me,{E:()=>g,r:()=>Y});const M=Object.prototype.hasOwnProperty;function g(B,E){for(let i in B)if(M.call(B,i)&&!1===E({key:i,value:B[i]},function(){delete B[i]}))return}class Y{constructor(){this.map=new Map}add(E,i){let O=this.map.get(E);O||(O=new Set,this.map.set(E,O)),O.add(i)}delete(E,i){const O=this.map.get(E);!O||(O.delete(i),0===O.size&&this.map.delete(E))}forEach(E,i){const O=this.map.get(E);!O||O.forEach(i)}}},81897:(Be,Me,m)=>{function M(i,O){const F=Math.pow(10,O);return Math.round(i*F)/F}m.d(Me,{VS:()=>g,tx:()=>B,Il:()=>E});class g{constructor(O,F,T,S=1){this._rgbaBrand=void 0,this.r=0|Math.min(255,Math.max(0,O)),this.g=0|Math.min(255,Math.max(0,F)),this.b=0|Math.min(255,Math.max(0,T)),this.a=M(Math.max(Math.min(1,S),0),3)}static equals(O,F){return O.r===F.r&&O.g===F.g&&O.b===F.b&&O.a===F.a}}class Y{constructor(O,F,T,S){this._hslaBrand=void 0,this.h=0|Math.max(Math.min(360,O),0),this.s=M(Math.max(Math.min(1,F),0),3),this.l=M(Math.max(Math.min(1,T),0),3),this.a=M(Math.max(Math.min(1,S),0),3)}static equals(O,F){return O.h===F.h&&O.s===F.s&&O.l===F.l&&O.a===F.a}static fromRGBA(O){const F=O.r/255,T=O.g/255,S=O.b/255,C=O.a,b=Math.max(F,T,S),L=Math.min(F,T,S);let f=0,N=0;const z=(L+b)/2,D=b-L;if(D>0){switch(N=Math.min(z<=.5?D/(2*z):D/(2-2*z),1),b){case F:f=(T-S)/D+(T<S?6:0);break;case T:f=(S-F)/D+2;break;case S:f=(F-T)/D+4}f*=60,f=Math.round(f)}return new Y(f,N,z,C)}static _hue2rgb(O,F,T){return T<0&&(T+=1),T>1&&(T-=1),T<1/6?O+6*(F-O)*T:T<.5?F:T<2/3?O+(F-O)*(2/3-T)*6:O}static toRGBA(O){const F=O.h/360,{s:T,l:S,a:C}=O;let b,L,f;if(0===T)b=L=f=S;else{const N=S<.5?S*(1+T):S+T-S*T,z=2*S-N;b=Y._hue2rgb(z,N,F+1/3),L=Y._hue2rgb(z,N,F),f=Y._hue2rgb(z,N,F-1/3)}return new g(Math.round(255*b),Math.round(255*L),Math.round(255*f),C)}}class B{constructor(O,F,T,S){this._hsvaBrand=void 0,this.h=0|Math.max(Math.min(360,O),0),this.s=M(Math.max(Math.min(1,F),0),3),this.v=M(Math.max(Math.min(1,T),0),3),this.a=M(Math.max(Math.min(1,S),0),3)}static equals(O,F){return O.h===F.h&&O.s===F.s&&O.v===F.v&&O.a===F.a}static fromRGBA(O){const F=O.r/255,T=O.g/255,S=O.b/255,C=Math.max(F,T,S),L=C-Math.min(F,T,S),f=0===C?0:L/C;let N;return N=0===L?0:C===F?((T-S)/L%6+6)%6:C===T?(S-F)/L+2:(F-T)/L+4,new B(Math.round(60*N),f,C,O.a)}static toRGBA(O){const{h:F,s:T,v:S,a:C}=O,b=S*T,L=b*(1-Math.abs(F/60%2-1)),f=S-b;let[N,z,D]=[0,0,0];return F<60?(N=b,z=L):F<120?(N=L,z=b):F<180?(z=b,D=L):F<240?(z=L,D=b):F<300?(N=L,D=b):F<=360&&(N=b,D=L),N=Math.round(255*(N+f)),z=Math.round(255*(z+f)),D=Math.round(255*(D+f)),new g(N,z,D,C)}}class E{constructor(O){if(!O)throw new Error("Color needs a value");if(O instanceof g)this.rgba=O;else if(O instanceof Y)this._hsla=O,this.rgba=Y.toRGBA(O);else{if(!(O instanceof B))throw new Error("Invalid color ctor argument");this._hsva=O,this.rgba=B.toRGBA(O)}}static fromHex(O){return E.Format.CSS.parseHex(O)||E.red}get hsla(){return this._hsla?this._hsla:Y.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:B.fromRGBA(this.rgba)}equals(O){return!!O&&g.equals(this.rgba,O.rgba)&&Y.equals(this.hsla,O.hsla)&&B.equals(this.hsva,O.hsva)}getRelativeLuminance(){return M(.2126*E._relativeLuminanceForComponent(this.rgba.r)+.7152*E._relativeLuminanceForComponent(this.rgba.g)+.0722*E._relativeLuminanceForComponent(this.rgba.b),4)}static _relativeLuminanceForComponent(O){const F=O/255;return F<=.03928?F/12.92:Math.pow((F+.055)/1.055,2.4)}isLighter(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3>=128}isLighterThan(O){return this.getRelativeLuminance()>O.getRelativeLuminance()}isDarkerThan(O){return this.getRelativeLuminance()<O.getRelativeLuminance()}lighten(O){return new E(new Y(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*O,this.hsla.a))}darken(O){return new E(new Y(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*O,this.hsla.a))}transparent(O){const{r:F,g:T,b:S,a:C}=this.rgba;return new E(new g(F,T,S,C*O))}isTransparent(){return 0===this.rgba.a}isOpaque(){return 1===this.rgba.a}opposite(){return new E(new g(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return this._toString||(this._toString=E.Format.CSS.format(this)),this._toString}static getLighterColor(O,F,T){if(O.isLighterThan(F))return O;T=T||.5;const S=O.getRelativeLuminance(),C=F.getRelativeLuminance();return O.lighten(T=T*(C-S)/C)}static getDarkerColor(O,F,T){if(O.isDarkerThan(F))return O;T=T||.5;const S=O.getRelativeLuminance(),C=F.getRelativeLuminance();return O.darken(T=T*(S-C)/S)}}E.white=new E(new g(255,255,255,1)),E.black=new E(new g(0,0,0,1)),E.red=new E(new g(255,0,0,1)),E.blue=new E(new g(0,0,255,1)),E.green=new E(new g(0,255,0,1)),E.cyan=new E(new g(0,255,255,1)),E.lightgrey=new E(new g(211,211,211,1)),E.transparent=new E(new g(0,0,0,0)),function(i){let O;!function(F){let T;!function(S){function N(k){const $=k.toString(16);return 2!==$.length?"0"+$:$}function P(k){switch(k){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:case 65:return 10;case 98:case 66:return 11;case 99:case 67:return 12;case 100:case 68:return 13;case 101:case 69:return 14;case 102:case 70:return 15}return 0}S.formatRGB=function(k){return 1===k.rgba.a?`rgb(${k.rgba.r}, ${k.rgba.g}, ${k.rgba.b})`:i.Format.CSS.formatRGBA(k)},S.formatRGBA=function(k){return`rgba(${k.rgba.r}, ${k.rgba.g}, ${k.rgba.b}, ${+k.rgba.a.toFixed(2)})`},S.formatHSL=function(k){return 1===k.hsla.a?`hsl(${k.hsla.h}, ${(100*k.hsla.s).toFixed(2)}%, ${(100*k.hsla.l).toFixed(2)}%)`:i.Format.CSS.formatHSLA(k)},S.formatHSLA=function(k){return`hsla(${k.hsla.h}, ${(100*k.hsla.s).toFixed(2)}%, ${(100*k.hsla.l).toFixed(2)}%, ${k.hsla.a.toFixed(2)})`},S.formatHex=function(k){return`#${N(k.rgba.r)}${N(k.rgba.g)}${N(k.rgba.b)}`},S.formatHexA=function(k,$=!1){return $&&1===k.rgba.a?i.Format.CSS.formatHex(k):`#${N(k.rgba.r)}${N(k.rgba.g)}${N(k.rgba.b)}${N(Math.round(255*k.rgba.a))}`},S.format=function(k){return k.isOpaque()?i.Format.CSS.formatHex(k):i.Format.CSS.formatRGBA(k)},S.parseHex=function(k){const $=k.length;if(0===$||35!==k.charCodeAt(0))return null;if(7===$){const j=16*P(k.charCodeAt(1))+P(k.charCodeAt(2)),G=16*P(k.charCodeAt(3))+P(k.charCodeAt(4)),oe=16*P(k.charCodeAt(5))+P(k.charCodeAt(6));return new i(new g(j,G,oe,1))}if(9===$){const j=16*P(k.charCodeAt(1))+P(k.charCodeAt(2)),G=16*P(k.charCodeAt(3))+P(k.charCodeAt(4)),oe=16*P(k.charCodeAt(5))+P(k.charCodeAt(6)),de=16*P(k.charCodeAt(7))+P(k.charCodeAt(8));return new i(new g(j,G,oe,de/255))}if(4===$){const j=P(k.charCodeAt(1)),G=P(k.charCodeAt(2)),oe=P(k.charCodeAt(3));return new i(new g(16*j+j,16*G+G,16*oe+oe))}if(5===$){const j=P(k.charCodeAt(1)),G=P(k.charCodeAt(2)),oe=P(k.charCodeAt(3)),de=P(k.charCodeAt(4));return new i(new g(16*j+j,16*G+G,16*oe+oe,(16*de+de)/255))}return null}}(T=F.CSS||(F.CSS={}))}(O=i.Format||(i.Format={}))}(E||(E={}))},94456:(Be,Me,m)=>{function M(g,Y,B){let E=null,i=null;if("function"==typeof B.value?(E="value",i=B.value,0!==i.length&&console.warn("Memoize should only be used in functions with zero parameters")):"function"==typeof B.get&&(E="get",i=B.get),!i)throw new Error("not supported");const O=`$memoize$${Y}`;B[E]=function(...F){return this.hasOwnProperty(O)||Object.defineProperty(this,O,{configurable:!1,enumerable:!1,writable:!1,value:i.apply(this,F)}),this[O]}}m.d(Me,{H:()=>M})},87481:(Be,Me,m)=>{m.d(Me,{Hs:()=>F,a$:()=>B});class M{constructor(S,C,b,L){this.originalStart=S,this.originalLength=C,this.modifiedStart=b,this.modifiedLength=L}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}var g=m(11791);class Y{constructor(S){this.source=S}getElements(){const S=this.source,C=new Int32Array(S.length);for(let b=0,L=S.length;b<L;b++)C[b]=S.charCodeAt(b);return C}}function B(T,S,C){return new F(new Y(T),new Y(S)).ComputeDiff(C).changes}class E{static Assert(S,C){if(!S)throw new Error(C)}}class i{static Copy(S,C,b,L,f){for(let N=0;N<f;N++)b[L+N]=S[C+N]}static Copy2(S,C,b,L,f){for(let N=0;N<f;N++)b[L+N]=S[C+N]}}class O{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new M(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(S,C){this.m_originalStart=Math.min(this.m_originalStart,S),this.m_modifiedStart=Math.min(this.m_modifiedStart,C),this.m_originalCount++}AddModifiedElement(S,C){this.m_originalStart=Math.min(this.m_originalStart,S),this.m_modifiedStart=Math.min(this.m_modifiedStart,C),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class F{constructor(S,C,b=null){this.ContinueProcessingPredicate=b,this._originalSequence=S,this._modifiedSequence=C;const[L,f,N]=F._getElements(S),[z,D,I]=F._getElements(C);this._hasStrings=N&&I,this._originalStringElements=L,this._originalElementsOrHash=f,this._modifiedStringElements=z,this._modifiedElementsOrHash=D,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(S){return S.length>0&&"string"==typeof S[0]}static _getElements(S){const C=S.getElements();if(F._isStringArray(C)){const b=new Int32Array(C.length);for(let L=0,f=C.length;L<f;L++)b[L]=(0,g.Cv)(C[L],0);return[C,b,!0]}return C instanceof Int32Array?[[],C,!1]:[[],new Int32Array(C),!1]}ElementsAreEqual(S,C){return this._originalElementsOrHash[S]===this._modifiedElementsOrHash[C]&&(!this._hasStrings||this._originalStringElements[S]===this._modifiedStringElements[C])}ElementsAreStrictEqual(S,C){return!!this.ElementsAreEqual(S,C)&&F._getStrictElement(this._originalSequence,S)===F._getStrictElement(this._modifiedSequence,C)}static _getStrictElement(S,C){return"function"==typeof S.getStrictElement?S.getStrictElement(C):null}OriginalElementsAreEqual(S,C){return this._originalElementsOrHash[S]===this._originalElementsOrHash[C]&&(!this._hasStrings||this._originalStringElements[S]===this._originalStringElements[C])}ModifiedElementsAreEqual(S,C){return this._modifiedElementsOrHash[S]===this._modifiedElementsOrHash[C]&&(!this._hasStrings||this._modifiedStringElements[S]===this._modifiedStringElements[C])}ComputeDiff(S){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,S)}_ComputeDiff(S,C,b,L,f){const N=[!1];let z=this.ComputeDiffRecursive(S,C,b,L,N);return f&&(z=this.PrettifyChanges(z)),{quitEarly:N[0],changes:z}}ComputeDiffRecursive(S,C,b,L,f){for(f[0]=!1;S<=C&&b<=L&&this.ElementsAreEqual(S,b);)S++,b++;for(;C>=S&&L>=b&&this.ElementsAreEqual(C,L);)C--,L--;if(S>C||b>L){let P;return b<=L?(E.Assert(S===C+1,"originalStart should only be one more than originalEnd"),P=[new M(S,0,b,L-b+1)]):S<=C?(E.Assert(b===L+1,"modifiedStart should only be one more than modifiedEnd"),P=[new M(S,C-S+1,b,0)]):(E.Assert(S===C+1,"originalStart should only be one more than originalEnd"),E.Assert(b===L+1,"modifiedStart should only be one more than modifiedEnd"),P=[]),P}const N=[0],z=[0],D=this.ComputeRecursionPoint(S,C,b,L,N,z,f),I=N[0],Z=z[0];if(null!==D)return D;if(!f[0]){const P=this.ComputeDiffRecursive(S,I,b,Z,f);let k=[];return k=f[0]?[new M(I+1,C-(I+1)+1,Z+1,L-(Z+1)+1)]:this.ComputeDiffRecursive(I+1,C,Z+1,L,f),this.ConcatenateChanges(P,k)}return[new M(S,C-S+1,b,L-b+1)]}WALKTRACE(S,C,b,L,f,N,z,D,I,Z,P,k,$,j,G,oe,de,fe){let pe=null,we=null,ge=new O,Q=C,q=b,le=$[0]-oe[0]-L,ee=-1073741824,X=this.m_forwardHistory.length-1;do{const re=le+S;re===Q||re<q&&I[re-1]<I[re+1]?(j=(P=I[re+1])-le-L,P<ee&&ge.MarkNextChange(),ee=P,ge.AddModifiedElement(P+1,j),le=re+1-S):(j=(P=I[re-1]+1)-le-L,P<ee&&ge.MarkNextChange(),ee=P-1,ge.AddOriginalElement(P,j+1),le=re-1-S),X>=0&&(S=(I=this.m_forwardHistory[X])[0],Q=1,q=I.length-1)}while(--X>=-1);if(pe=ge.getReverseChanges(),fe[0]){let re=$[0]+1,ce=oe[0]+1;if(null!==pe&&pe.length>0){const ve=pe[pe.length-1];re=Math.max(re,ve.getOriginalEnd()),ce=Math.max(ce,ve.getModifiedEnd())}we=[new M(re,k-re+1,ce,G-ce+1)]}else{ge=new O,Q=N,q=z,le=$[0]-oe[0]-D,ee=1073741824,X=de?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const re=le+f;re===Q||re<q&&Z[re-1]>=Z[re+1]?(j=(P=Z[re+1]-1)-le-D,P>ee&&ge.MarkNextChange(),ee=P+1,ge.AddOriginalElement(P+1,j+1),le=re+1-f):(j=(P=Z[re-1])-le-D,P>ee&&ge.MarkNextChange(),ee=P,ge.AddModifiedElement(P+1,j+1),le=re-1-f),X>=0&&(f=(Z=this.m_reverseHistory[X])[0],Q=1,q=Z.length-1)}while(--X>=-1);we=ge.getChanges()}return this.ConcatenateChanges(pe,we)}ComputeRecursionPoint(S,C,b,L,f,N,z){let D=0,I=0,Z=0,P=0,k=0,$=0;S--,b--,f[0]=0,N[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const j=C-S+(L-b),G=j+1,oe=new Int32Array(G),de=new Int32Array(G),fe=L-b,pe=C-S,we=S-b,ge=C-L,q=(pe-fe)%2==0;oe[fe]=S,de[pe]=C,z[0]=!1;for(let le=1;le<=j/2+1;le++){let ee=0,X=0;Z=this.ClipDiagonalBound(fe-le,le,fe,G),P=this.ClipDiagonalBound(fe+le,le,fe,G);for(let ce=Z;ce<=P;ce+=2){D=ce===Z||ce<P&&oe[ce-1]<oe[ce+1]?oe[ce+1]:oe[ce-1]+1,I=D-(ce-fe)-we;const ve=D;for(;D<C&&I<L&&this.ElementsAreEqual(D+1,I+1);)D++,I++;if(oe[ce]=D,D+I>ee+X&&(ee=D,X=I),!q&&Math.abs(ce-pe)<=le-1&&D>=de[ce])return f[0]=D,N[0]=I,ve<=de[ce]&&le<=1448?this.WALKTRACE(fe,Z,P,we,pe,k,$,ge,oe,de,D,C,f,I,L,N,q,z):null}const re=(ee-S+(X-b)-le)/2;if(null!==this.ContinueProcessingPredicate&&!this.ContinueProcessingPredicate(ee,re))return z[0]=!0,f[0]=ee,N[0]=X,re>0&&le<=1448?this.WALKTRACE(fe,Z,P,we,pe,k,$,ge,oe,de,D,C,f,I,L,N,q,z):(S++,b++,[new M(S,C-S+1,b,L-b+1)]);k=this.ClipDiagonalBound(pe-le,le,pe,G),$=this.ClipDiagonalBound(pe+le,le,pe,G);for(let ce=k;ce<=$;ce+=2){D=ce===k||ce<$&&de[ce-1]>=de[ce+1]?de[ce+1]-1:de[ce-1],I=D-(ce-pe)-ge;const ve=D;for(;D>S&&I>b&&this.ElementsAreEqual(D,I);)D--,I--;if(de[ce]=D,q&&Math.abs(ce-fe)<=le&&D<=oe[ce])return f[0]=D,N[0]=I,ve>=oe[ce]&&le<=1448?this.WALKTRACE(fe,Z,P,we,pe,k,$,ge,oe,de,D,C,f,I,L,N,q,z):null}if(le<=1447){let ce=new Int32Array(P-Z+2);ce[0]=fe-Z+1,i.Copy2(oe,Z,ce,1,P-Z+1),this.m_forwardHistory.push(ce),ce=new Int32Array($-k+2),ce[0]=pe-k+1,i.Copy2(de,k,ce,1,$-k+1),this.m_reverseHistory.push(ce)}}return this.WALKTRACE(fe,Z,P,we,pe,k,$,ge,oe,de,D,C,f,I,L,N,q,z)}PrettifyChanges(S){for(let C=0;C<S.length;C++){const b=S[C],L=C<S.length-1?S[C+1].originalStart:this._originalElementsOrHash.length,f=C<S.length-1?S[C+1].modifiedStart:this._modifiedElementsOrHash.length,N=b.originalLength>0,z=b.modifiedLength>0;for(;b.originalStart+b.originalLength<L&&b.modifiedStart+b.modifiedLength<f&&(!N||this.OriginalElementsAreEqual(b.originalStart,b.originalStart+b.originalLength))&&(!z||this.ModifiedElementsAreEqual(b.modifiedStart,b.modifiedStart+b.modifiedLength));){const I=this.ElementsAreStrictEqual(b.originalStart,b.modifiedStart);if(this.ElementsAreStrictEqual(b.originalStart+b.originalLength,b.modifiedStart+b.modifiedLength)&&!I)break;b.originalStart++,b.modifiedStart++}let D=[null];C<S.length-1&&this.ChangesOverlap(S[C],S[C+1],D)&&(S[C]=D[0],S.splice(C+1,1),C--)}for(let C=S.length-1;C>=0;C--){const b=S[C];let L=0,f=0;if(C>0){const P=S[C-1];L=P.originalStart+P.originalLength,f=P.modifiedStart+P.modifiedLength}const N=b.originalLength>0,z=b.modifiedLength>0;let D=0,I=this._boundaryScore(b.originalStart,b.originalLength,b.modifiedStart,b.modifiedLength);for(let P=1;;P++){const k=b.originalStart-P,$=b.modifiedStart-P;if(k<L||$<f||N&&!this.OriginalElementsAreEqual(k,k+b.originalLength)||z&&!this.ModifiedElementsAreEqual($,$+b.modifiedLength))break;const G=(k===L&&$===f?5:0)+this._boundaryScore(k,b.originalLength,$,b.modifiedLength);G>I&&(I=G,D=P)}b.originalStart-=D,b.modifiedStart-=D;const Z=[null];C>0&&this.ChangesOverlap(S[C-1],S[C],Z)&&(S[C-1]=Z[0],S.splice(C,1),C++)}if(this._hasStrings)for(let C=1,b=S.length;C<b;C++){const L=S[C-1],f=S[C],N=f.originalStart-L.originalStart-L.originalLength,z=L.originalStart,D=f.originalStart+f.originalLength,I=D-z,Z=L.modifiedStart,P=f.modifiedStart+f.modifiedLength,k=P-Z;if(N<5&&I<20&&k<20){const $=this._findBetterContiguousSequence(z,I,Z,k,N);if($){const[j,G]=$;(j!==L.originalStart+L.originalLength||G!==L.modifiedStart+L.modifiedLength)&&(L.originalLength=j-L.originalStart,L.modifiedLength=G-L.modifiedStart,f.originalStart=j+N,f.modifiedStart=G+N,f.originalLength=D-f.originalStart,f.modifiedLength=P-f.modifiedStart)}}}return S}_findBetterContiguousSequence(S,C,b,L,f){if(C<f||L<f)return null;const N=S+C-f+1,z=b+L-f+1;let D=0,I=0,Z=0;for(let P=S;P<N;P++)for(let k=b;k<z;k++){const $=this._contiguousSequenceScore(P,k,f);$>0&&$>D&&(D=$,I=P,Z=k)}return D>0?[I,Z]:null}_contiguousSequenceScore(S,C,b){let L=0;for(let f=0;f<b;f++){if(!this.ElementsAreEqual(S+f,C+f))return 0;L+=this._originalStringElements[S+f].length}return L}_OriginalIsBoundary(S){return S<=0||S>=this._originalElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._originalStringElements[S])}_OriginalRegionIsBoundary(S,C){if(this._OriginalIsBoundary(S)||this._OriginalIsBoundary(S-1))return!0;if(C>0){const b=S+C;if(this._OriginalIsBoundary(b-1)||this._OriginalIsBoundary(b))return!0}return!1}_ModifiedIsBoundary(S){return S<=0||S>=this._modifiedElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[S])}_ModifiedRegionIsBoundary(S,C){if(this._ModifiedIsBoundary(S)||this._ModifiedIsBoundary(S-1))return!0;if(C>0){const b=S+C;if(this._ModifiedIsBoundary(b-1)||this._ModifiedIsBoundary(b))return!0}return!1}_boundaryScore(S,C,b,L){return(this._OriginalRegionIsBoundary(S,C)?1:0)+(this._ModifiedRegionIsBoundary(b,L)?1:0)}ConcatenateChanges(S,C){let b=[];if(0===S.length||0===C.length)return C.length>0?C:S;if(this.ChangesOverlap(S[S.length-1],C[0],b)){const L=new Array(S.length+C.length-1);return i.Copy(S,0,L,0,S.length-1),L[S.length-1]=b[0],i.Copy(C,1,L,S.length,C.length-1),L}{const L=new Array(S.length+C.length);return i.Copy(S,0,L,0,S.length),i.Copy(C,0,L,S.length,C.length),L}}ChangesOverlap(S,C,b){if(E.Assert(S.originalStart<=C.originalStart,"Left change is not less than or equal to right change"),E.Assert(S.modifiedStart<=C.modifiedStart,"Left change is not less than or equal to right change"),S.originalStart+S.originalLength>=C.originalStart||S.modifiedStart+S.modifiedLength>=C.modifiedStart){let f=S.originalLength,z=S.modifiedLength;return S.originalStart+S.originalLength>=C.originalStart&&(f=C.originalStart+C.originalLength-S.originalStart),S.modifiedStart+S.modifiedLength>=C.modifiedStart&&(z=C.modifiedStart+C.modifiedLength-S.modifiedStart),b[0]=new M(S.originalStart,f,S.modifiedStart,z),!0}return b[0]=null,!1}ClipDiagonalBound(S,C,b,L){if(S>=0&&S<L)return S;const z=C%2==0;return S<0?z===(b%2==0)?0:1:z===((L-b-1)%2==0)?L-1:L-2}}},13226:(Be,Me,m)=>{m.d(Me,{dL:()=>Y,Cp:()=>B,ri:()=>E,n2:()=>O,FU:()=>F,F0:()=>T,b1:()=>S,L6:()=>C,B8:()=>b});const g=new class{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(f){setTimeout(()=>{throw f.stack?new Error(f.message+"\n\n"+f.stack):f},0)}}emit(f){this.listeners.forEach(N=>{N(f)})}onUnexpectedError(f){this.unexpectedErrorHandler(f),this.emit(f)}onUnexpectedExternalError(f){this.unexpectedErrorHandler(f)}};function Y(L){O(L)||g.onUnexpectedError(L)}function B(L){O(L)||g.onUnexpectedExternalError(L)}function E(L){if(L instanceof Error){let{name:f,message:N}=L;return{$isError:!0,name:f,message:N,stack:L.stacktrace||L.stack}}return L}const i="Canceled";function O(L){return L instanceof F||L instanceof Error&&L.name===i&&L.message===i}class F extends Error{constructor(){super(i),this.name=this.message}}function T(){const L=new Error(i);return L.name=L.message,L}function S(L){return L?new Error(`Illegal argument: ${L}`):new Error("Illegal argument")}function C(L){return L?new Error(`Illegal state: ${L}`):new Error("Illegal state")}class b extends Error{constructor(f){super("NotSupported"),f&&(this.message=f)}}},71040:(Be,Me,m)=>{m.d(Me,{ju:()=>O,Q5:()=>L,K3:()=>f,D0:()=>N,E7:()=>z,ZD:()=>D});var O,M=m(13226),g=m(40189),Y=m(62253),B=m(39932);!function(I){function P(ke){return(Ve,Ue=null,ue)=>{let Re,_e=!1;return Re=ke(et=>{if(!_e)return Re?Re.dispose():_e=!0,Ve.call(Ue,et)},null,ue),_e&&Re.dispose(),Re}}function k(ke,Ve,Ue){return fe((ue,_e=null,Re)=>ke(et=>ue.call(_e,Ve(et)),null,Re),Ue)}function $(ke,Ve,Ue){return fe((ue,_e=null,Re)=>ke(et=>{Ve(et),ue.call(_e,et)},null,Re),Ue)}function j(ke,Ve,Ue){return fe((ue,_e=null,Re)=>ke(et=>Ve(et)&&ue.call(_e,et),null,Re),Ue)}function de(ke,Ve,Ue,ue){let _e=Ue;return k(ke,Re=>(_e=Ve(_e,Re),_e),ue)}function fe(ke,Ve){let Ue;const _e=new L({onFirstListenerAdd(){Ue=ke(_e.fire,_e)},onLastListenerRemove(){Ue.dispose()}});return Ve&&Ve.add(_e),_e.event}function pe(ke,Ve,Ue=100,ue=!1,_e,Re){let et,Ze,Pe,rt=0;const nt=new L({leakWarningThreshold:_e,onFirstListenerAdd(){et=ke(Se=>{rt++,Ze=Ve(Ze,Se),ue&&!Pe&&(nt.fire(Ze),Ze=void 0),clearTimeout(Pe),Pe=setTimeout(()=>{const Ne=Ze;Ze=void 0,Pe=void 0,(!ue||rt>1)&&nt.fire(Ne),rt=0},Ue)})},onLastListenerRemove(){et.dispose()}});return Re&&Re.add(nt),nt.event}function we(ke,Ve=((ue,_e)=>ue===_e),Ue){let _e,ue=!0;return j(ke,Re=>{const et=ue||!Ve(Re,_e);return ue=!1,_e=Re,et},Ue)}I.None=()=>g.JT.None,I.once=P,I.map=k,I.forEach=$,I.filter=j,I.signal=function(ke){return ke},I.any=function(...ke){return(Ve,Ue=null,ue)=>(0,g.F8)(...ke.map(_e=>_e(Re=>Ve.call(Ue,Re),null,ue)))},I.reduce=de,I.debounce=pe,I.latch=we,I.split=function(ke,Ve,Ue){return[I.filter(ke,Ve,Ue),I.filter(ke,ue=>!Ve(ue),Ue)]},I.buffer=function(ke,Ve=!1,Ue=[]){let ue=Ue.slice(),_e=ke(Ze=>{ue?ue.push(Ze):et.fire(Ze)});const Re=()=>{ue&&ue.forEach(Ze=>et.fire(Ze)),ue=null},et=new L({onFirstListenerAdd(){_e||(_e=ke(Ze=>et.fire(Ze)))},onFirstListenerDidAdd(){ue&&(Ve?setTimeout(Re):Re())},onLastListenerRemove(){_e&&_e.dispose(),_e=null}});return et.event};class q{constructor(Ve){this.event=Ve}map(Ve){return new q(k(this.event,Ve))}forEach(Ve){return new q($(this.event,Ve))}filter(Ve){return new q(j(this.event,Ve))}reduce(Ve,Ue){return new q(de(this.event,Ve,Ue))}latch(){return new q(we(this.event))}debounce(Ve,Ue=100,ue=!1,_e){return new q(pe(this.event,Ve,Ue,ue,_e))}on(Ve,Ue,ue){return this.event(Ve,Ue,ue)}once(Ve,Ue,ue){return P(this.event)(Ve,Ue,ue)}}I.chain=function(ke){return new q(ke)},I.fromNodeEventEmitter=function(ke,Ve,Ue=(ue=>ue)){const ue=(...Ze)=>et.fire(Ue(...Ze)),et=new L({onFirstListenerAdd:()=>ke.on(Ve,ue),onLastListenerRemove:()=>ke.removeListener(Ve,ue)});return et.event},I.fromDOMEventEmitter=function(ke,Ve,Ue=(ue=>ue)){const ue=(...Ze)=>et.fire(Ue(...Ze)),et=new L({onFirstListenerAdd:()=>ke.addEventListener(Ve,ue),onLastListenerRemove:()=>ke.removeEventListener(Ve,ue)});return et.event},I.toPromise=function(ke){return new Promise(Ve=>P(ke)(Ve))},I.runAndSubscribe=function(ke,Ve){return Ve(void 0),ke(Ue=>Ve(Ue))},I.runAndSubscribeWithStore=function(ke,Ve){let Ue=null;function ue(Re){null==Ue||Ue.dispose(),Ue=new g.SL,Ve(Re,Ue)}ue(void 0);const _e=ke(Re=>ue(Re));return(0,g.OF)(()=>{_e.dispose(),null==Ue||Ue.dispose()})}}(O||(O={}));let F=(()=>{class I{constructor(P){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${P}_${I._idPool++}`}start(P){this._stopWatch=new B.G(!0),this._listenerCount=P}stop(){if(this._stopWatch){const P=this._stopWatch.elapsed();this._elapsedOverall+=P,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${P.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}return I._idPool=0,I})();class C{constructor(Z){this.value=Z}static create(){var Z;return new C(null!==(Z=(new Error).stack)&&void 0!==Z?Z:"")}print(){console.warn(this.value.split("\n").slice(2).join("\n"))}}class b{constructor(Z,P,k){this.callback=Z,this.callbackThis=P,this.stack=k,this.subscription=new g.dt}invoke(Z){this.callback.call(this.callbackThis,Z)}}class L{constructor(Z){var P;this._disposed=!1,this._options=Z,this._leakageMon=void 0,this._perfMon=(null===(P=this._options)||void 0===P?void 0:P._profName)?new F(this._options._profName):void 0}dispose(){var Z,P,k,$;this._disposed||(this._disposed=!0,this._listeners&&this._listeners.clear(),null===(Z=this._deliveryQueue)||void 0===Z||Z.clear(),null===(k=null===(P=this._options)||void 0===P?void 0:P.onLastListenerRemove)||void 0===k||k.call(P),null===($=this._leakageMon)||void 0===$||$.dispose())}get event(){return this._event||(this._event=(Z,P,k)=>{var $,j,G;this._listeners||(this._listeners=new Y.S);const oe=this._listeners.isEmpty();let de,fe;oe&&(null===($=this._options)||void 0===$?void 0:$.onFirstListenerAdd)&&this._options.onFirstListenerAdd(this),this._leakageMon&&this._listeners.size>=30&&(fe=C.create(),de=this._leakageMon.check(fe,this._listeners.size+1));const pe=new b(Z,P,fe),we=this._listeners.push(pe);oe&&(null===(j=this._options)||void 0===j?void 0:j.onFirstListenerDidAdd)&&this._options.onFirstListenerDidAdd(this),(null===(G=this._options)||void 0===G?void 0:G.onListenerDidAdd)&&this._options.onListenerDidAdd(this,Z,P);const ge=pe.subscription.set(()=>{de&&de(),this._disposed||(we(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))});return k instanceof g.SL?k.add(ge):Array.isArray(k)&&k.push(ge),ge}),this._event}fire(Z){var P,k;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new Y.S);for(let $ of this._listeners)this._deliveryQueue.push([$,Z]);for(null===(P=this._perfMon)||void 0===P||P.start(this._deliveryQueue.size);this._deliveryQueue.size>0;){const[$,j]=this._deliveryQueue.shift();try{$.invoke(j)}catch(G){(0,M.dL)(G)}}null===(k=this._perfMon)||void 0===k||k.stop()}}}class f extends L{constructor(Z){super(Z),this._isPaused=0,this._eventQueue=new Y.S,this._mergeFn=null==Z?void 0:Z.merge}pause(){this._isPaused++}resume(){if(0!==this._isPaused&&0==--this._isPaused)if(this._mergeFn){const Z=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(Z))}else for(;!this._isPaused&&0!==this._eventQueue.size;)super.fire(this._eventQueue.shift())}fire(Z){this._listeners&&(0!==this._isPaused?this._eventQueue.push(Z):super.fire(Z))}}class N extends f{constructor(Z){var P;super(Z),this._delay=null!==(P=Z.delay)&&void 0!==P?P:100}fire(Z){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(Z)}}class z{constructor(){this.buffers=[]}wrapEvent(Z){return(P,k,$)=>Z(j=>{const G=this.buffers[this.buffers.length-1];G?G.push(()=>P.call(k,j)):P.call(k,j)},void 0,$)}bufferEvents(Z){const P=[];this.buffers.push(P);const k=Z();return this.buffers.pop(),P.forEach($=>$()),k}}class D{constructor(){this.listening=!1,this.inputEvent=O.None,this.inputEventListener=g.JT.None,this.emitter=new L({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(Z){this.inputEvent=Z,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=Z(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}},46359:(Be,Me,m)=>{m.d(Me,{ej:()=>E,fn:()=>i,yj:()=>O,KM:()=>F,vY:()=>S,oP:()=>C});var M=m(84491),g=m(70700),Y=m(74243);function B(b){return 47===b||92===b}function E(b){return b.replace(/[\\/]/g,M.KR.sep)}function i(b){return-1===b.indexOf("/")&&(b=E(b)),/^[a-zA-Z]:(\/|$)/.test(b)&&(b="/"+b),b}function O(b,L=M.KR.sep){if(!b)return"";const f=b.length,N=b.charCodeAt(0);if(B(N)){if(B(b.charCodeAt(1))&&!B(b.charCodeAt(2))){let D=3;const I=D;for(;D<f&&!B(b.charCodeAt(D));D++);if(I!==D&&!B(b.charCodeAt(D+1)))for(D+=1;D<f;D++)if(B(b.charCodeAt(D)))return b.slice(0,D+1).replace(/[\\/]/g,L)}return L}if(T(N)&&58===b.charCodeAt(1))return B(b.charCodeAt(2))?b.slice(0,2)+L:b.slice(0,2);let z=b.indexOf("://");if(-1!==z)for(z+=3;z<f;z++)if(B(b.charCodeAt(z)))return b.slice(0,z+1);return""}function F(b,L,f,N=M.ir){if(b===L)return!0;if(!b||!L||L.length>b.length)return!1;if(f){if(!(0,Y.ok)(b,L))return!1;if(L.length===b.length)return!0;let D=L.length;return L.charAt(L.length-1)===N&&D--,b.charAt(D)===N}return L.charAt(L.length-1)!==N&&(L+=N),0===b.indexOf(L)}function T(b){return b>=65&&b<=90||b>=97&&b<=122}function S(b){const L=(0,M.Fv)(b);return g.ED?!(b.length>3)&&C(L)&&(2===b.length||92===L.charCodeAt(2)):L===M.KR.sep}function C(b,L){return!!(void 0!==L?L:g.ED)&&T(b.charCodeAt(0))&&58===b.charCodeAt(1)}},56260:(Be,Me,m)=>{m.d(Me,{or:()=>Y,Ji:()=>E,ir:()=>O,KZ:()=>de,Oh:()=>q,jB:()=>le,mB:()=>ee,CL:()=>nt,EW:()=>Se,l7:()=>_t});var M=m(33439),g=m(74243);function Y(...mt){return function(Rt,Bt){for(let Wt=0,fn=mt.length;Wt<fn;Wt++){const Ye=mt[Wt](Rt,Bt);if(Ye)return Ye}return null}}i.bind(void 0,!1);const E=i.bind(void 0,!0);function i(mt,Rt,Bt){if(!Bt||Bt.length<Rt.length)return null;let Wt;return Wt=mt?g.ok(Bt,Rt):0===Bt.indexOf(Rt),Wt?Rt.length>0?[{start:0,end:Rt.length}]:[]:null}function O(mt,Rt){const Bt=Rt.toLowerCase().indexOf(mt.toLowerCase());return-1===Bt?null:[{start:Bt,end:Bt+mt.length}]}function T(mt,Rt,Bt,Wt){if(Bt===mt.length)return[];if(Wt===Rt.length)return null;if(mt[Bt]===Rt[Wt]){let fn=null;return(fn=T(mt,Rt,Bt+1,Wt+1))?I({start:Wt,end:Wt+1},fn):null}return T(mt,Rt,Bt,Wt+1)}function S(mt){return 97<=mt&&mt<=122}function C(mt){return 65<=mt&&mt<=90}function b(mt){return 48<=mt&&mt<=57}function L(mt){return 32===mt||9===mt||10===mt||13===mt}const f=new Set;function N(mt){return L(mt)||f.has(mt)}function D(mt){return S(mt)||C(mt)||b(mt)}function I(mt,Rt){return 0===Rt.length?Rt=[mt]:mt.end===Rt[0].start?Rt[0].start=mt.start:Rt.unshift(mt),Rt}function Z(mt,Rt){for(let Bt=Rt;Bt<mt.length;Bt++){const Wt=mt.charCodeAt(Bt);if(C(Wt)||b(Wt)||Bt>0&&!D(mt.charCodeAt(Bt-1)))return Bt}return mt.length}function P(mt,Rt,Bt,Wt){if(Bt===mt.length)return[];if(Wt===Rt.length)return null;if(mt[Bt]!==Rt[Wt].toLowerCase())return null;{let fn=null,Ye=Wt+1;for(fn=P(mt,Rt,Bt+1,Wt+1);!fn&&(Ye=Z(Rt,Ye))<Rt.length;)fn=P(mt,Rt,Bt+1,Ye),Ye++;return null===fn?null:I({start:Wt,end:Wt+1},fn)}}function oe(mt,Rt){if(!Rt||0===(Rt=Rt.trim()).length||!function(mt){let Rt=0,Bt=0,Wt=0,fn=0;for(let Ye=0;Ye<mt.length;Ye++)Wt=mt.charCodeAt(Ye),C(Wt)&&Rt++,S(Wt)&&Bt++,L(Wt)&&fn++;return 0!==Rt&&0!==Bt||0!==fn?Rt<=5:mt.length<=30}(mt)||Rt.length>60)return null;const Bt=function(mt){let Rt=0,Bt=0,Wt=0,fn=0,Ye=0;for(let sn=0;sn<mt.length;sn++)Ye=mt.charCodeAt(sn),C(Ye)&&Rt++,S(Ye)&&Bt++,D(Ye)&&Wt++,b(Ye)&&fn++;return{upperPercent:Rt/mt.length,lowerPercent:Bt/mt.length,alphaPercent:Wt/mt.length,numericPercent:fn/mt.length}}(Rt);if(!function(mt){const{upperPercent:Rt,lowerPercent:Bt,alphaPercent:Wt,numericPercent:fn}=mt;return Bt>.2&&Rt<.8&&Wt>.6&&fn<.2}(Bt)){if(!function(mt){const{upperPercent:Rt,lowerPercent:Bt}=mt;return 0===Bt&&Rt>.6}(Bt))return null;Rt=Rt.toLowerCase()}let Wt=null,fn=0;for(mt=mt.toLowerCase();fn<Rt.length&&null===(Wt=P(mt,Rt,0,fn));)fn=Z(Rt,fn+1);return Wt}function de(mt,Rt,Bt=!1){if(!Rt||0===Rt.length)return null;let Wt=null,fn=0;for(mt=mt.toLowerCase(),Rt=Rt.toLowerCase();fn<Rt.length&&null===(Wt=fe(mt,Rt,0,fn,Bt));)fn=pe(Rt,fn+1);return Wt}function fe(mt,Rt,Bt,Wt,fn){if(Bt===mt.length)return[];if(Wt===Rt.length)return null;if(function(mt,Rt){return mt===Rt||N(mt)&&N(Rt)}(mt.charCodeAt(Bt),Rt.charCodeAt(Wt))){let Ye=null,Dt=Wt+1;if(Ye=fe(mt,Rt,Bt+1,Wt+1,fn),!fn)for(;!Ye&&(Dt=pe(Rt,Dt))<Rt.length;)Ye=fe(mt,Rt,Bt+1,Dt,fn),Dt++;return null===Ye?null:I({start:Wt,end:Wt+1},Ye)}return null}function pe(mt,Rt){for(let Bt=Rt;Bt<mt.length;Bt++)if(N(mt.charCodeAt(Bt))||Bt>0&&N(mt.charCodeAt(Bt-1)))return Bt;return mt.length}"()[]{}<>`'\"-/;:,.?!".split("").forEach(mt=>f.add(mt.charCodeAt(0)));const we=Y(E,oe,O),ge=Y(E,oe,function(mt,Rt){return T(mt.toLowerCase(),Rt.toLowerCase(),0,0)}),Q=new M.z6(1e4);function q(mt,Rt,Bt=!1){if("string"!=typeof mt||"string"!=typeof Rt)return null;let Wt=Q.get(mt);Wt||(Wt=new RegExp(g.un(mt),"i"),Q.set(mt,Wt));const fn=Wt.exec(Rt);return fn?[{start:fn.index,end:fn.index+fn[0].length}]:Bt?ge(mt,Rt):we(mt,Rt)}function le(mt,Rt,Bt,Wt,fn,Ye){const Dt=Math.min(13,mt.length);for(;Bt<Dt;Bt++){const St=Se(mt,Rt,Bt,Wt,fn,Ye,!1);if(St)return St}return[0,Ye]}function ee(mt){if(void 0===mt)return[];const Rt=[],Bt=mt[1];for(let Wt=mt.length-1;Wt>1;Wt--){const fn=mt[Wt]+Bt,Ye=Rt[Rt.length-1];Ye&&Ye.end===fn?Ye.end=fn+1:Rt.push({start:fn,end:fn+1})}return Rt}const X=128;function re(){const mt=[],Rt=[];for(let Bt=0;Bt<=X;Bt++)Rt[Bt]=0;for(let Bt=0;Bt<=X;Bt++)mt.push(Rt.slice(0));return mt}function ce(mt){const Rt=[];for(let Bt=0;Bt<=mt;Bt++)Rt[Bt]=0;return Rt}const ve=ce(256),ke=ce(256),Ve=re(),Ue=re(),ue=re();function Ze(mt,Rt){if(Rt<0||Rt>=mt.length)return!1;const Bt=mt.codePointAt(Rt);switch(Bt){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 40:case 91:return!0;case void 0:return!1;default:return!!g.C8(Bt)}}function Pe(mt,Rt){if(Rt<0||Rt>=mt.length)return!1;switch(mt.charCodeAt(Rt)){case 32:case 9:return!0;default:return!1}}function rt(mt,Rt,Bt){return Rt[mt]!==Bt[mt]}var nt,mt;function Se(mt,Rt,Bt,Wt,fn,Ye,Dt){const St=mt.length>X?X:mt.length,un=Wt.length>X?X:Wt.length;if(Bt>=St||Ye>=un||St-Bt>un-Ye||!function(mt,Rt,Bt,Wt,fn,Ye,Dt=!1){for(;Rt<Bt&&fn<Ye;)mt[Rt]===Wt[fn]&&(Dt&&(ve[Rt]=fn),Rt+=1),fn+=1;return Rt===Bt}(Rt,Bt,St,fn,Ye,un,!0))return;!function(mt,Rt,Bt,Wt,fn,Ye){let Dt=mt-1,St=Rt-1;for(;Dt>=Bt&&St>=Wt;)fn[Dt]===Ye[St]&&(ke[Dt]=St,Dt--),St--}(St,un,Bt,Ye,Rt,fn);let Ln=1,sn=1,hn=Bt,_n=Ye;const cn=[!1];for(Ln=1,hn=Bt;hn<St;Ln++,hn++){const $e=ve[hn],qt=ke[hn],mn=hn+1<St?ke[hn+1]:un;for(sn=$e-Ye+1,_n=$e;_n<mn;sn++,_n++){let ni=Number.MIN_SAFE_INTEGER,fi=!1;_n<=qt&&(ni=at(mt,Rt,hn,Bt,Wt,fn,_n,un,Ye,0===Ve[Ln-1][sn-1],cn));let wi=0;ni!==Number.MAX_SAFE_INTEGER&&(fi=!0,wi=ni+Ue[Ln-1][sn-1]);const Bi=_n>$e,yi=Bi?Ue[Ln][sn-1]+(Ve[Ln][sn-1]>0?-5:0):0,yt=_n>$e+1&&Ve[Ln][sn-1]>0,Lt=yt?Ue[Ln][sn-2]+(Ve[Ln][sn-2]>0?-5:0):0;if(yt&&(!Bi||Lt>=yi)&&(!fi||Lt>=wi))Ue[Ln][sn]=Lt,ue[Ln][sn]=3,Ve[Ln][sn]=0;else if(Bi&&(!fi||yi>=wi))Ue[Ln][sn]=yi,ue[Ln][sn]=2,Ve[Ln][sn]=0;else{if(!fi)throw new Error("not possible");Ue[Ln][sn]=wi,ue[Ln][sn]=1,Ve[Ln][sn]=Ve[Ln-1][sn-1]+1}}}if(!cn[0]&&!Dt)return;Ln--,sn--;const At=[Ue[Ln][sn],Ye];let Ei=0,Yt=0;for(;Ln>=1;){let $e=sn;do{const qt=ue[Ln][$e];if(3===qt)$e-=2;else{if(2!==qt)break;$e-=1}}while($e>=1);Ei>1&&Rt[Bt+Ln-1]===fn[Ye+sn-1]&&!rt($e+Ye-1,Wt,fn)&&Ei+1>Ve[Ln][$e]&&($e=sn),$e===sn?Ei++:Ei=1,Yt||(Yt=$e),Ln--,sn=$e-1,At.push(sn)}return un===St&&(At[0]+=2),At[0]-=Yt-St,At}function at(mt,Rt,Bt,Wt,fn,Ye,Dt,St,un,Ln,sn){if(Rt[Bt]!==Ye[Dt])return Number.MIN_SAFE_INTEGER;let hn=1,_n=!1;return Dt===Bt-Wt?hn=mt[Bt]===fn[Dt]?7:5:!rt(Dt,fn,Ye)||0!==Dt&&rt(Dt-1,fn,Ye)?!Ze(Ye,Dt)||0!==Dt&&Ze(Ye,Dt-1)?(Ze(Ye,Dt-1)||Pe(Ye,Dt-1))&&(hn=5,_n=!0):hn=5:(hn=mt[Bt]===fn[Dt]?7:5,_n=!0),hn>1&&Bt===Wt&&(sn[0]=!0),_n||(_n=rt(Dt,fn,Ye)||Ze(Ye,Dt-1)||Pe(Ye,Dt-1)),Bt===Wt?Dt>un&&(hn-=_n?3:5):hn+=Ln?_n?2:0:_n?0:1,Dt+1===St&&(hn-=_n?3:5),hn}function _t(mt,Rt,Bt,Wt,fn,Ye,Dt){return function(mt,Rt,Bt,Wt,fn,Ye,Dt,St){let un=Se(mt,Rt,Bt,Wt,fn,Ye,St);if(mt.length>=3){const Ln=Math.min(7,mt.length-1);for(let sn=Bt+1;sn<Ln;sn++){const hn=pn(mt,sn);if(hn){const _n=Se(hn,hn.toLowerCase(),Bt,Wt,fn,Ye,St);_n&&(_n[0]-=3,(!un||_n[0]>un[0])&&(un=_n))}}}return un}(mt,Rt,Bt,Wt,fn,Ye,0,Dt)}function pn(mt,Rt){if(Rt+1>=mt.length)return;const Bt=mt[Rt],Wt=mt[Rt+1];return Bt!==Wt?mt.slice(0,Rt)+Wt+Bt+mt.slice(Rt+2):void 0}(mt=nt||(nt={})).Default=[-100,0],mt.isDefault=function(Bt){return!Bt||2===Bt.length&&-100===Bt[0]&&0===Bt[1]}},16811:(Be,Me,m)=>{function M(g){const Y=this;let E,B=!1;return function(){return B||(B=!0,E=g.apply(Y,arguments)),E}}m.d(Me,{I:()=>M})},11791:(Be,Me,m)=>{m.d(Me,{vp:()=>g,SP:()=>Y,Cv:()=>i,yP:()=>L});var M=m(74243);function g(f){return Y(f,0)}function Y(f,N){switch(typeof f){case"object":return null===f?B(349,N):Array.isArray(f)?function(f,N){return N=B(104579,N),f.reduce((z,D)=>Y(D,z),N)}(f,N):function(f,N){return N=B(181387,N),Object.keys(f).sort().reduce((z,D)=>(z=i(D,z),Y(f[D],z)),N)}(f,N);case"string":return i(f,N);case"boolean":return function(f,N){return B(f?433:863,N)}(f,N);case"number":return B(f,N);case"undefined":return B(937,N);default:return B(617,N)}}function B(f,N){return(N<<5)-N+f|0}function i(f,N){N=B(149417,N);for(let z=0,D=f.length;z<D;z++)N=B(f.charCodeAt(z),N);return N}function T(f,N,z=32){const D=z-N;return(f<<N|(~((1<<D)-1)&f)>>>D)>>>0}function S(f,N=0,z=f.byteLength,D=0){for(let I=0;I<z;I++)f[N+I]=D}function b(f,N=32){return f instanceof ArrayBuffer?Array.from(new Uint8Array(f)).map(z=>z.toString(16).padStart(2,"0")).join(""):function(f,N,z="0"){for(;f.length<N;)f=z+f;return f}((f>>>0).toString(16),N/4)}class L{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(N){const z=N.length;if(0===z)return;const D=this._buff;let P,k,I=this._buffLen,Z=this._leftoverHighSurrogate;for(0!==Z?(P=Z,k=-1,Z=0):(P=N.charCodeAt(0),k=0);;){let $=P;if(M.ZG(P)){if(!(k+1<z)){Z=P;break}{const j=N.charCodeAt(k+1);M.YK(j)?(k++,$=M.rL(P,j)):$=65533}}else M.YK(P)&&($=65533);if(I=this._push(D,I,$),k++,!(k<z))break;P=N.charCodeAt(k)}this._buffLen=I,this._leftoverHighSurrogate=Z}_push(N,z,D){return D<128?N[z++]=D:D<2048?(N[z++]=192|(1984&D)>>>6,N[z++]=128|(63&D)>>>0):D<65536?(N[z++]=224|(61440&D)>>>12,N[z++]=128|(4032&D)>>>6,N[z++]=128|(63&D)>>>0):(N[z++]=240|(1835008&D)>>>18,N[z++]=128|(258048&D)>>>12,N[z++]=128|(4032&D)>>>6,N[z++]=128|(63&D)>>>0),z>=64&&(this._step(),z-=64,this._totalLen+=64,N[0]=N[64],N[1]=N[65],N[2]=N[66]),z}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),b(this._h0)+b(this._h1)+b(this._h2)+b(this._h3)+b(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,S(this._buff,this._buffLen),this._buffLen>56&&(this._step(),S(this._buff));const N=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(N/4294967296),!1),this._buffDV.setUint32(60,N%4294967296,!1),this._step()}_step(){const N=L._bigBlock32,z=this._buffDV;for(let oe=0;oe<64;oe+=4)N.setUint32(oe,z.getUint32(oe,!1),!1);for(let oe=64;oe<320;oe+=4)N.setUint32(oe,T(N.getUint32(oe-12,!1)^N.getUint32(oe-32,!1)^N.getUint32(oe-56,!1)^N.getUint32(oe-64,!1),1),!1);let $,j,G,D=this._h0,I=this._h1,Z=this._h2,P=this._h3,k=this._h4;for(let oe=0;oe<80;oe++)oe<20?($=I&Z|~I&P,j=1518500249):oe<40?($=I^Z^P,j=1859775393):oe<60?($=I&Z|I&P|Z&P,j=2400959708):($=I^Z^P,j=3395469782),G=T(D,5)+$+k+j+N.getUint32(4*oe,!1)&4294967295,k=P,P=Z,Z=T(I,30),I=D,D=G;this._h0=this._h0+D&4294967295,this._h1=this._h1+I&4294967295,this._h2=this._h2+Z&4294967295,this._h3=this._h3+P&4294967295,this._h4=this._h4+k&4294967295}}L._bigBlock32=new DataView(new ArrayBuffer(320))},3102:(Be,Me,m)=>{m.d(Me,{W5:()=>Y,CP:()=>B,Fr:()=>E,oR:()=>O,v1:()=>F});var M=m(13226),g=m(42623);class Y{constructor(S="",C=!1){var b,L,f;if(this.value=S,"string"!=typeof this.value)throw(0,M.b1)("value");"boolean"==typeof C?(this.isTrusted=C,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=null!==(b=C.isTrusted)&&void 0!==b?b:void 0,this.supportThemeIcons=null!==(L=C.supportThemeIcons)&&void 0!==L&&L,this.supportHtml=null!==(f=C.supportHtml)&&void 0!==f&&f)}appendText(S,C=0){return this.value+=(T=this.supportThemeIcons?(0,g.Qo)(S):S,T.replace(/[\\`*_{}[\]()#+\-!]/g,"\\$&")).replace(/([ \t]+)/g,(b,L)=>"&nbsp;".repeat(L.length)).replace(/\>/gm,"\\>").replace(/\n/g,1===C?"\\\n":"\n\n"),this;var T}appendMarkdown(S){return this.value+=S,this}appendCodeblock(S,C){return this.value+="\n```",this.value+=S,this.value+="\n",this.value+=C,this.value+="\n```\n",this}}function B(T){return E(T)?!T.value:!Array.isArray(T)||T.every(B)}function E(T){return T instanceof Y||!(!T||"object"!=typeof T)&&!("string"!=typeof T.value||"boolean"!=typeof T.isTrusted&&void 0!==T.isTrusted||"boolean"!=typeof T.supportThemeIcons&&void 0!==T.supportThemeIcons)}function O(T){return T&&T.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}function F(T){const S=[],C=T.split("|").map(L=>L.trim());T=C[0];const b=C[1];if(b){const L=/height=(\d+)/.exec(b),f=/width=(\d+)/.exec(b),N=L?L[1]:"",z=f?f[1]:"",D=isFinite(parseInt(z)),I=isFinite(parseInt(N));D&&S.push(`width="${z}"`),I&&S.push(`height="${N}"`)}return{href:T,dimensions:S}}},42623:(Be,Me,m)=>{m.d(Me,{Qo:()=>F,f$:()=>S,x$:()=>b,Ho:()=>L,Gt:()=>N});var M=m(78968),g=m(56260),Y=m(74243);const B="$(",E=new RegExp(`\\$\\(${M.dT.iconNameExpression}(?:${M.dT.iconModifierExpression})?\\)`,"g"),i=new RegExp(M.dT.iconNameCharacter),O=new RegExp(`(\\\\)?${E.source}`,"g");function F(z){return z.replace(O,(D,I)=>I?D:`\\${D}`)}const T=new RegExp(`\\\\${E.source}`,"g");function S(z){return z.replace(T,D=>`\\${D}`)}const C=new RegExp(`(\\s)?(\\\\)?${E.source}(\\s)?`,"g");function b(z){return-1===z.indexOf(B)?z:z.replace(C,(D,I,Z,P)=>Z?D:I||P||"")}function L(z){const D=z.indexOf(B);return-1===D?{text:z}:function(z,D){const I=[];let Z="";function P(pe){if(pe){Z+=pe;for(const we of pe)I.push(j)}}let G,oe,k=-1,$="",j=0,de=D;const fe=z.length;for(P(z.substr(0,D));de<fe;)G=z[de],oe=z[de+1],G===B[0]&&oe===B[1]?(k=de,P($),$=B,de++):")"===G&&-1!==k?(j+=de-k+1,k=-1,$=""):-1!==k?i.test(G)?$+=G:(P($),k=-1,$=""):P(G),de++;return P($),{text:Z,iconOffsets:I}}(z,D)}function N(z,D,I=!1){const{text:Z,iconOffsets:P}=D;if(!P||0===P.length)return(0,g.Oh)(z,Z,I);const k=(0,Y.j3)(Z," "),$=Z.length-k.length,j=(0,g.Oh)(z,k,I);if(j)for(const G of j){const oe=P[G.start+$]+$;G.start+=oe,G.end+=oe}return j}},90546:(Be,Me,m)=>{m.d(Me,{R:()=>M,a:()=>g});class M{constructor(B){this._prefix=B,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const g=new M("id#")},58151:(Be,Me,m)=>{var M;m.d(Me,{$:()=>M}),function(g){g.is=function(P){return P&&"object"==typeof P&&"function"==typeof P[Symbol.iterator]};const B=Object.freeze([]);g.empty=function(){return B},g.single=function*(P){yield P},g.from=function(P){return P||B},g.isEmpty=function(P){return!P||!0===P[Symbol.iterator]().next().done},g.first=function(P){return P[Symbol.iterator]().next().value},g.some=function(P,k){for(const $ of P)if(k($))return!0;return!1},g.find=function(P,k){for(const $ of P)if(k($))return $},g.filter=function*(P,k){for(const $ of P)k($)&&(yield $)},g.map=function*(P,k){let $=0;for(const j of P)yield k(j,$++)},g.concat=function*(...P){for(const k of P)for(const $ of k)yield $},g.concatNested=function*(P){for(const k of P)for(const $ of k)yield $},g.reduce=function(P,k,$){let j=$;for(const G of P)j=k(j,G);return j},g.slice=function*(P,k,$=P.length){for(k<0&&(k+=P.length),$<0?$+=P.length:$>P.length&&($=P.length);k<$;k++)yield P[k]},g.consume=function(P,k=Number.POSITIVE_INFINITY){const $=[];if(0===k)return[$,P];const j=P[Symbol.iterator]();for(let G=0;G<k;G++){const oe=j.next();if(oe.done)return[$,g.empty()];$.push(oe.value)}return[$,{[Symbol.iterator]:()=>j}]},g.equals=function(P,k,$=((j,G)=>j===G)){const j=P[Symbol.iterator](),G=k[Symbol.iterator]();for(;;){const oe=j.next(),de=G.next();if(oe.done!==de.done)return!1;if(oe.done)return!0;if(!$(oe.value,de.value))return!1}}}(M||(M={}))},64073:(Be,Me,m)=>{m.d(Me,{H_:()=>E,Vd:()=>S,kL:()=>b,gx:()=>L});class M{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(N,z){this._keyCodeToStr[N]=z,this._strToKeyCode[z.toLowerCase()]=N}keyCodeToStr(N){return this._keyCodeToStr[N]}strToKeyCode(N){return this._strToKeyCode[N.toLowerCase()]||0}}const g=new M,Y=new M,B=new M,E=new Array(230),i={},O=[],F=Object.create(null),T=Object.create(null),S=[],C=[];for(let f=0;f<=193;f++)S[f]=-1;for(let f=0;f<=127;f++)C[f]=-1;var b,f;function L(f,N){return(f|(65535&N)<<16>>>0)>>>0}!function(){const f="",N=[[0,1,0,"None",0,"unknown",0,"VK_UNKNOWN",f,f],[0,1,1,"Hyper",0,f,0,f,f,f],[0,1,2,"Super",0,f,0,f,f,f],[0,1,3,"Fn",0,f,0,f,f,f],[0,1,4,"FnLock",0,f,0,f,f,f],[0,1,5,"Suspend",0,f,0,f,f,f],[0,1,6,"Resume",0,f,0,f,f,f],[0,1,7,"Turbo",0,f,0,f,f,f],[0,1,8,"Sleep",0,f,0,"VK_SLEEP",f,f],[0,1,9,"WakeUp",0,f,0,f,f,f],[31,0,10,"KeyA",31,"A",65,"VK_A",f,f],[32,0,11,"KeyB",32,"B",66,"VK_B",f,f],[33,0,12,"KeyC",33,"C",67,"VK_C",f,f],[34,0,13,"KeyD",34,"D",68,"VK_D",f,f],[35,0,14,"KeyE",35,"E",69,"VK_E",f,f],[36,0,15,"KeyF",36,"F",70,"VK_F",f,f],[37,0,16,"KeyG",37,"G",71,"VK_G",f,f],[38,0,17,"KeyH",38,"H",72,"VK_H",f,f],[39,0,18,"KeyI",39,"I",73,"VK_I",f,f],[40,0,19,"KeyJ",40,"J",74,"VK_J",f,f],[41,0,20,"KeyK",41,"K",75,"VK_K",f,f],[42,0,21,"KeyL",42,"L",76,"VK_L",f,f],[43,0,22,"KeyM",43,"M",77,"VK_M",f,f],[44,0,23,"KeyN",44,"N",78,"VK_N",f,f],[45,0,24,"KeyO",45,"O",79,"VK_O",f,f],[46,0,25,"KeyP",46,"P",80,"VK_P",f,f],[47,0,26,"KeyQ",47,"Q",81,"VK_Q",f,f],[48,0,27,"KeyR",48,"R",82,"VK_R",f,f],[49,0,28,"KeyS",49,"S",83,"VK_S",f,f],[50,0,29,"KeyT",50,"T",84,"VK_T",f,f],[51,0,30,"KeyU",51,"U",85,"VK_U",f,f],[52,0,31,"KeyV",52,"V",86,"VK_V",f,f],[53,0,32,"KeyW",53,"W",87,"VK_W",f,f],[54,0,33,"KeyX",54,"X",88,"VK_X",f,f],[55,0,34,"KeyY",55,"Y",89,"VK_Y",f,f],[56,0,35,"KeyZ",56,"Z",90,"VK_Z",f,f],[22,0,36,"Digit1",22,"1",49,"VK_1",f,f],[23,0,37,"Digit2",23,"2",50,"VK_2",f,f],[24,0,38,"Digit3",24,"3",51,"VK_3",f,f],[25,0,39,"Digit4",25,"4",52,"VK_4",f,f],[26,0,40,"Digit5",26,"5",53,"VK_5",f,f],[27,0,41,"Digit6",27,"6",54,"VK_6",f,f],[28,0,42,"Digit7",28,"7",55,"VK_7",f,f],[29,0,43,"Digit8",29,"8",56,"VK_8",f,f],[30,0,44,"Digit9",30,"9",57,"VK_9",f,f],[21,0,45,"Digit0",21,"0",48,"VK_0",f,f],[3,1,46,"Enter",3,"Enter",13,"VK_RETURN",f,f],[9,1,47,"Escape",9,"Escape",27,"VK_ESCAPE",f,f],[1,1,48,"Backspace",1,"Backspace",8,"VK_BACK",f,f],[2,1,49,"Tab",2,"Tab",9,"VK_TAB",f,f],[10,1,50,"Space",10,"Space",32,"VK_SPACE",f,f],[83,0,51,"Minus",83,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[81,0,52,"Equal",81,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[87,0,53,"BracketLeft",87,"[",219,"VK_OEM_4","[","OEM_4"],[89,0,54,"BracketRight",89,"]",221,"VK_OEM_6","]","OEM_6"],[88,0,55,"Backslash",88,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,0,56,"IntlHash",0,f,0,f,f,f],[80,0,57,"Semicolon",80,";",186,"VK_OEM_1",";","OEM_1"],[90,0,58,"Quote",90,"'",222,"VK_OEM_7","'","OEM_7"],[86,0,59,"Backquote",86,"`",192,"VK_OEM_3","`","OEM_3"],[82,0,60,"Comma",82,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[84,0,61,"Period",84,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[85,0,62,"Slash",85,"/",191,"VK_OEM_2","/","OEM_2"],[8,1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",f,f],[59,1,64,"F1",59,"F1",112,"VK_F1",f,f],[60,1,65,"F2",60,"F2",113,"VK_F2",f,f],[61,1,66,"F3",61,"F3",114,"VK_F3",f,f],[62,1,67,"F4",62,"F4",115,"VK_F4",f,f],[63,1,68,"F5",63,"F5",116,"VK_F5",f,f],[64,1,69,"F6",64,"F6",117,"VK_F6",f,f],[65,1,70,"F7",65,"F7",118,"VK_F7",f,f],[66,1,71,"F8",66,"F8",119,"VK_F8",f,f],[67,1,72,"F9",67,"F9",120,"VK_F9",f,f],[68,1,73,"F10",68,"F10",121,"VK_F10",f,f],[69,1,74,"F11",69,"F11",122,"VK_F11",f,f],[70,1,75,"F12",70,"F12",123,"VK_F12",f,f],[0,1,76,"PrintScreen",0,f,0,f,f,f],[79,1,77,"ScrollLock",79,"ScrollLock",145,"VK_SCROLL",f,f],[7,1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",f,f],[19,1,79,"Insert",19,"Insert",45,"VK_INSERT",f,f],[14,1,80,"Home",14,"Home",36,"VK_HOME",f,f],[11,1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",f,f],[20,1,82,"Delete",20,"Delete",46,"VK_DELETE",f,f],[13,1,83,"End",13,"End",35,"VK_END",f,f],[12,1,84,"PageDown",12,"PageDown",34,"VK_NEXT",f,f],[17,1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",f],[15,1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",f],[18,1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",f],[16,1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",f],[78,1,89,"NumLock",78,"NumLock",144,"VK_NUMLOCK",f,f],[108,1,90,"NumpadDivide",108,"NumPad_Divide",111,"VK_DIVIDE",f,f],[103,1,91,"NumpadMultiply",103,"NumPad_Multiply",106,"VK_MULTIPLY",f,f],[106,1,92,"NumpadSubtract",106,"NumPad_Subtract",109,"VK_SUBTRACT",f,f],[104,1,93,"NumpadAdd",104,"NumPad_Add",107,"VK_ADD",f,f],[3,1,94,"NumpadEnter",3,f,0,f,f,f],[94,1,95,"Numpad1",94,"NumPad1",97,"VK_NUMPAD1",f,f],[95,1,96,"Numpad2",95,"NumPad2",98,"VK_NUMPAD2",f,f],[96,1,97,"Numpad3",96,"NumPad3",99,"VK_NUMPAD3",f,f],[97,1,98,"Numpad4",97,"NumPad4",100,"VK_NUMPAD4",f,f],[98,1,99,"Numpad5",98,"NumPad5",101,"VK_NUMPAD5",f,f],[99,1,100,"Numpad6",99,"NumPad6",102,"VK_NUMPAD6",f,f],[100,1,101,"Numpad7",100,"NumPad7",103,"VK_NUMPAD7",f,f],[101,1,102,"Numpad8",101,"NumPad8",104,"VK_NUMPAD8",f,f],[102,1,103,"Numpad9",102,"NumPad9",105,"VK_NUMPAD9",f,f],[93,1,104,"Numpad0",93,"NumPad0",96,"VK_NUMPAD0",f,f],[107,1,105,"NumpadDecimal",107,"NumPad_Decimal",110,"VK_DECIMAL",f,f],[92,0,106,"IntlBackslash",92,"OEM_102",226,"VK_OEM_102",f,f],[58,1,107,"ContextMenu",58,"ContextMenu",93,f,f,f],[0,1,108,"Power",0,f,0,f,f,f],[0,1,109,"NumpadEqual",0,f,0,f,f,f],[71,1,110,"F13",71,"F13",124,"VK_F13",f,f],[72,1,111,"F14",72,"F14",125,"VK_F14",f,f],[73,1,112,"F15",73,"F15",126,"VK_F15",f,f],[74,1,113,"F16",74,"F16",127,"VK_F16",f,f],[75,1,114,"F17",75,"F17",128,"VK_F17",f,f],[76,1,115,"F18",76,"F18",129,"VK_F18",f,f],[77,1,116,"F19",77,"F19",130,"VK_F19",f,f],[0,1,117,"F20",0,f,0,"VK_F20",f,f],[0,1,118,"F21",0,f,0,"VK_F21",f,f],[0,1,119,"F22",0,f,0,"VK_F22",f,f],[0,1,120,"F23",0,f,0,"VK_F23",f,f],[0,1,121,"F24",0,f,0,"VK_F24",f,f],[0,1,122,"Open",0,f,0,f,f,f],[0,1,123,"Help",0,f,0,f,f,f],[0,1,124,"Select",0,f,0,f,f,f],[0,1,125,"Again",0,f,0,f,f,f],[0,1,126,"Undo",0,f,0,f,f,f],[0,1,127,"Cut",0,f,0,f,f,f],[0,1,128,"Copy",0,f,0,f,f,f],[0,1,129,"Paste",0,f,0,f,f,f],[0,1,130,"Find",0,f,0,f,f,f],[0,1,131,"AudioVolumeMute",112,"AudioVolumeMute",173,"VK_VOLUME_MUTE",f,f],[0,1,132,"AudioVolumeUp",113,"AudioVolumeUp",175,"VK_VOLUME_UP",f,f],[0,1,133,"AudioVolumeDown",114,"AudioVolumeDown",174,"VK_VOLUME_DOWN",f,f],[105,1,134,"NumpadComma",105,"NumPad_Separator",108,"VK_SEPARATOR",f,f],[110,0,135,"IntlRo",110,"ABNT_C1",193,"VK_ABNT_C1",f,f],[0,1,136,"KanaMode",0,f,0,f,f,f],[0,0,137,"IntlYen",0,f,0,f,f,f],[0,1,138,"Convert",0,f,0,f,f,f],[0,1,139,"NonConvert",0,f,0,f,f,f],[0,1,140,"Lang1",0,f,0,f,f,f],[0,1,141,"Lang2",0,f,0,f,f,f],[0,1,142,"Lang3",0,f,0,f,f,f],[0,1,143,"Lang4",0,f,0,f,f,f],[0,1,144,"Lang5",0,f,0,f,f,f],[0,1,145,"Abort",0,f,0,f,f,f],[0,1,146,"Props",0,f,0,f,f,f],[0,1,147,"NumpadParenLeft",0,f,0,f,f,f],[0,1,148,"NumpadParenRight",0,f,0,f,f,f],[0,1,149,"NumpadBackspace",0,f,0,f,f,f],[0,1,150,"NumpadMemoryStore",0,f,0,f,f,f],[0,1,151,"NumpadMemoryRecall",0,f,0,f,f,f],[0,1,152,"NumpadMemoryClear",0,f,0,f,f,f],[0,1,153,"NumpadMemoryAdd",0,f,0,f,f,f],[0,1,154,"NumpadMemorySubtract",0,f,0,f,f,f],[0,1,155,"NumpadClear",126,"Clear",12,"VK_CLEAR",f,f],[0,1,156,"NumpadClearEntry",0,f,0,f,f,f],[5,1,0,f,5,"Ctrl",17,"VK_CONTROL",f,f],[4,1,0,f,4,"Shift",16,"VK_SHIFT",f,f],[6,1,0,f,6,"Alt",18,"VK_MENU",f,f],[57,1,0,f,57,"Meta",0,"VK_COMMAND",f,f],[5,1,157,"ControlLeft",5,f,0,"VK_LCONTROL",f,f],[4,1,158,"ShiftLeft",4,f,0,"VK_LSHIFT",f,f],[6,1,159,"AltLeft",6,f,0,"VK_LMENU",f,f],[57,1,160,"MetaLeft",57,f,0,"VK_LWIN",f,f],[5,1,161,"ControlRight",5,f,0,"VK_RCONTROL",f,f],[4,1,162,"ShiftRight",4,f,0,"VK_RSHIFT",f,f],[6,1,163,"AltRight",6,f,0,"VK_RMENU",f,f],[57,1,164,"MetaRight",57,f,0,"VK_RWIN",f,f],[0,1,165,"BrightnessUp",0,f,0,f,f,f],[0,1,166,"BrightnessDown",0,f,0,f,f,f],[0,1,167,"MediaPlay",0,f,0,f,f,f],[0,1,168,"MediaRecord",0,f,0,f,f,f],[0,1,169,"MediaFastForward",0,f,0,f,f,f],[0,1,170,"MediaRewind",0,f,0,f,f,f],[114,1,171,"MediaTrackNext",119,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",f,f],[115,1,172,"MediaTrackPrevious",120,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",f,f],[116,1,173,"MediaStop",121,"MediaStop",178,"VK_MEDIA_STOP",f,f],[0,1,174,"Eject",0,f,0,f,f,f],[117,1,175,"MediaPlayPause",122,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",f,f],[0,1,176,"MediaSelect",123,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",f,f],[0,1,177,"LaunchMail",124,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",f,f],[0,1,178,"LaunchApp2",125,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",f,f],[0,1,179,"LaunchApp1",0,f,0,"VK_MEDIA_LAUNCH_APP1",f,f],[0,1,180,"SelectTask",0,f,0,f,f,f],[0,1,181,"LaunchScreenSaver",0,f,0,f,f,f],[0,1,182,"BrowserSearch",115,"BrowserSearch",170,"VK_BROWSER_SEARCH",f,f],[0,1,183,"BrowserHome",116,"BrowserHome",172,"VK_BROWSER_HOME",f,f],[112,1,184,"BrowserBack",117,"BrowserBack",166,"VK_BROWSER_BACK",f,f],[113,1,185,"BrowserForward",118,"BrowserForward",167,"VK_BROWSER_FORWARD",f,f],[0,1,186,"BrowserStop",0,f,0,"VK_BROWSER_STOP",f,f],[0,1,187,"BrowserRefresh",0,f,0,"VK_BROWSER_REFRESH",f,f],[0,1,188,"BrowserFavorites",0,f,0,"VK_BROWSER_FAVORITES",f,f],[0,1,189,"ZoomToggle",0,f,0,f,f,f],[0,1,190,"MailReply",0,f,0,f,f,f],[0,1,191,"MailForward",0,f,0,f,f,f],[0,1,192,"MailSend",0,f,0,f,f,f],[109,1,0,f,109,"KeyInComposition",229,f,f,f],[111,1,0,f,111,"ABNT_C2",194,"VK_ABNT_C2",f,f],[91,1,0,f,91,"OEM_8",223,"VK_OEM_8",f,f],[0,1,0,f,0,f,0,"VK_KANA",f,f],[0,1,0,f,0,f,0,"VK_HANGUL",f,f],[0,1,0,f,0,f,0,"VK_JUNJA",f,f],[0,1,0,f,0,f,0,"VK_FINAL",f,f],[0,1,0,f,0,f,0,"VK_HANJA",f,f],[0,1,0,f,0,f,0,"VK_KANJI",f,f],[0,1,0,f,0,f,0,"VK_CONVERT",f,f],[0,1,0,f,0,f,0,"VK_NONCONVERT",f,f],[0,1,0,f,0,f,0,"VK_ACCEPT",f,f],[0,1,0,f,0,f,0,"VK_MODECHANGE",f,f],[0,1,0,f,0,f,0,"VK_SELECT",f,f],[0,1,0,f,0,f,0,"VK_PRINT",f,f],[0,1,0,f,0,f,0,"VK_EXECUTE",f,f],[0,1,0,f,0,f,0,"VK_SNAPSHOT",f,f],[0,1,0,f,0,f,0,"VK_HELP",f,f],[0,1,0,f,0,f,0,"VK_APPS",f,f],[0,1,0,f,0,f,0,"VK_PROCESSKEY",f,f],[0,1,0,f,0,f,0,"VK_PACKET",f,f],[0,1,0,f,0,f,0,"VK_DBE_SBCSCHAR",f,f],[0,1,0,f,0,f,0,"VK_DBE_DBCSCHAR",f,f],[0,1,0,f,0,f,0,"VK_ATTN",f,f],[0,1,0,f,0,f,0,"VK_CRSEL",f,f],[0,1,0,f,0,f,0,"VK_EXSEL",f,f],[0,1,0,f,0,f,0,"VK_EREOF",f,f],[0,1,0,f,0,f,0,"VK_PLAY",f,f],[0,1,0,f,0,f,0,"VK_ZOOM",f,f],[0,1,0,f,0,f,0,"VK_NONAME",f,f],[0,1,0,f,0,f,0,"VK_PA1",f,f],[0,1,0,f,0,f,0,"VK_OEM_CLEAR",f,f]];let z=[],D=[];for(const I of N){const[Z,P,k,$,j,G,oe,de,fe,pe]=I;if(D[k]||(D[k]=!0,O[k]=$,F[$]=k,T[$.toLowerCase()]=k,P&&(S[k]=j,0!==j&&3!==j&&5!==j&&4!==j&&6!==j&&57!==j&&(C[j]=k))),!z[j]){if(z[j]=!0,!G)throw new Error(`String representation missing for key code ${j} around scan code ${$}`);g.define(j,G),Y.define(j,fe||G),B.define(j,pe||fe||G)}oe&&(E[oe]=j),de&&(i[de]=j)}C[3]=46}(),(f=b||(b={})).toString=function(k){return g.keyCodeToStr(k)},f.fromString=function(k){return g.strToKeyCode(k)},f.toUserSettingsUS=function(k){return Y.keyCodeToStr(k)},f.toUserSettingsGeneral=function(k){return B.keyCodeToStr(k)},f.fromUserSettings=function(k){return Y.strToKeyCode(k)||B.strToKeyCode(k)},f.toElectronAccelerator=function(k){if(k>=93&&k<=108)return null;switch(k){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return g.keyCodeToStr(k)}},99802:(Be,Me,m)=>{m.d(Me,{xo:()=>Y,X4:()=>B,jC:()=>E});var M=m(12918);class g{constructor(T,S,C=S){this.modifierLabels=[null],this.modifierLabels[2]=T,this.modifierLabels[1]=S,this.modifierLabels[3]=C}toLabel(T,S,C){if(0===S.length)return null;const b=[];for(let L=0,f=S.length;L<f;L++){const N=S[L],z=C(N);if(null===z)return null;b[L]=O(N,z,this.modifierLabels[T])}return b.join(" ")}}const Y=new g({ctrlKey:"\u2303",shiftKey:"\u21e7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:M.N({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:M.N({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:M.N({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:M.N({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:M.N({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:M.N({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:M.N({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:M.N({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),B=new g({ctrlKey:M.N({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:M.N({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:M.N({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:M.N({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:M.N({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:M.N({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:M.N({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:M.N({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:M.N({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:M.N({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:M.N({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:M.N({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),E=new g({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"});function O(F,T,S){if(null===T)return"";const C=[];return F.ctrlKey&&C.push(S.ctrlKey),F.shiftKey&&C.push(S.shiftKey),F.altKey&&C.push(S.altKey),F.metaKey&&C.push(S.metaKey),""!==T&&C.push(T),C.join(S.separator)}new g({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"})},99315:(Be,Me,m)=>{m.d(Me,{gm:()=>g,QC:()=>B,X_:()=>E,BQ:()=>O,f1:()=>F});var M=m(13226);function g(T,S){if(0===T)return null;const C=(65535&T)>>>0,b=(4294901760&T)>>>16;return new E(0!==b?[Y(C,S),Y(b,S)]:[Y(C,S)])}function Y(T,S){const C=!!(2048&T),b=!!(256&T);return new B(2===S?b:C,!!(1024&T),!!(512&T),2===S?C:b,255&T)}class B{constructor(S,C,b,L,f){this.ctrlKey=S,this.shiftKey=C,this.altKey=b,this.metaKey=L,this.keyCode=f}equals(S){return this.ctrlKey===S.ctrlKey&&this.shiftKey===S.shiftKey&&this.altKey===S.altKey&&this.metaKey===S.metaKey&&this.keyCode===S.keyCode}isModifierKey(){return 0===this.keyCode||5===this.keyCode||57===this.keyCode||6===this.keyCode||4===this.keyCode}toChord(){return new E([this])}isDuplicateModifierCase(){return this.ctrlKey&&5===this.keyCode||this.shiftKey&&4===this.keyCode||this.altKey&&6===this.keyCode||this.metaKey&&57===this.keyCode}}class E{constructor(S){if(0===S.length)throw(0,M.b1)("parts");this.parts=S}}class O{constructor(S,C,b,L,f,N){this.ctrlKey=S,this.shiftKey=C,this.altKey=b,this.metaKey=L,this.keyLabel=f,this.keyAriaLabel=N}}class F{}},90341:(Be,Me,m)=>{m.d(Me,{o:()=>M});class M{constructor(Y){this.executor=Y,this._didRun=!1}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(Y){this._error=Y}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}},40189:(Be,Me,m)=>{m.d(Me,{dk:()=>S,Wf:()=>b,B9:()=>L,F8:()=>f,OF:()=>N,SL:()=>z,JT:()=>D,XK:()=>I,dt:()=>Z,Jz:()=>P});var M=m(16811),g=m(58151);function S(k){return k}class C extends Error{constructor($){super(`Encountered errors while disposing of store. Errors: [${$.join(", ")}]`),this.errors=$}}function b(k){return"function"==typeof k.dispose&&0===k.dispose.length}function L(k){if(g.$.is(k)){let $=[];for(const j of k)if(j)try{j.dispose()}catch(G){$.push(G)}if(1===$.length)throw $[0];if($.length>1)throw new C($);return Array.isArray(k)?[]:k}if(k)return k.dispose(),k}function f(...k){const $=N(()=>L(k));return $}function N(k){const $={dispose:(0,M.I)(()=>{k()})};return $}let z=(()=>{class k{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){try{L(this._toDispose.values())}finally{this._toDispose.clear()}}add(j){if(!j)return j;if(j===this)throw new Error("Cannot register a disposable on itself!");return this._isDisposed?k.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(j),j}}return k.DISABLE_DISPOSED_WARNING=!1,k})();class D{constructor(){this._store=new z}dispose(){this._store.dispose()}_register($){if($===this)throw new Error("Cannot register a disposable on itself!");return this._store.add($)}}D.None=Object.freeze({dispose(){}});class I{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value($){var j;this._isDisposed||$===this._value||(null===(j=this._value)||void 0===j||j.dispose(),this._value=$)}clear(){this.value=void 0}dispose(){var $;this._isDisposed=!0,null===($=this._value)||void 0===$||$.dispose(),this._value=void 0}clearAndLeak(){const $=this._value;return this._value=void 0,$}}class Z{constructor(){this.dispose=()=>{},this.unset=()=>{},this.isset=()=>!1}set($){let j=$;return this.unset=()=>j=void 0,this.isset=()=>void 0!==j,this.dispose=()=>{j&&(j(),j=void 0)},this}}class P{constructor($){this.object=$}dispose(){}}},62253:(Be,Me,m)=>{m.d(Me,{S:()=>g});class M{constructor(B){this.element=B,this.next=M.Undefined,this.prev=M.Undefined}}M.Undefined=new M(void 0);class g{constructor(){this._first=M.Undefined,this._last=M.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===M.Undefined}clear(){let B=this._first;for(;B!==M.Undefined;){const E=B.next;B.prev=M.Undefined,B.next=M.Undefined,B=E}this._first=M.Undefined,this._last=M.Undefined,this._size=0}unshift(B){return this._insert(B,!1)}push(B){return this._insert(B,!0)}_insert(B,E){const i=new M(B);if(this._first===M.Undefined)this._first=i,this._last=i;else if(E){const F=this._last;this._last=i,i.prev=F,F.next=i}else{const F=this._first;this._first=i,i.next=F,F.prev=i}this._size+=1;let O=!1;return()=>{O||(O=!0,this._remove(i))}}shift(){if(this._first!==M.Undefined){const B=this._first.element;return this._remove(this._first),B}}pop(){if(this._last!==M.Undefined){const B=this._last.element;return this._remove(this._last),B}}_remove(B){if(B.prev!==M.Undefined&&B.next!==M.Undefined){const E=B.prev;E.next=B.next,B.next.prev=E}else B.prev===M.Undefined&&B.next===M.Undefined?(this._first=M.Undefined,this._last=M.Undefined):B.next===M.Undefined?(this._last=this._last.prev,this._last.next=M.Undefined):B.prev===M.Undefined&&(this._first=this._first.next,this._first.prev=M.Undefined);this._size-=1}*[Symbol.iterator](){let B=this._first;for(;B!==M.Undefined;)yield B.element,B=B.next}}},33439:(Be,Me,m)=>{m.d(Me,{Id:()=>T,Y9:()=>C,z6:()=>L});var g,Y,M=m(74243);class B{constructor(){this._value="",this._pos=0}reset(N){return this._value=N,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(N){return N.charCodeAt(0)-this._value.charCodeAt(this._pos)}value(){return this._value[this._pos]}}class E{constructor(N=!0){this._caseSensitive=N}reset(N){return this._value=N,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let N=!0;for(;this._to<this._value.length;this._to++)if(46===this._value.charCodeAt(this._to)){if(!N)break;this._from++}else N=!1;return this}cmp(N){return this._caseSensitive?(0,M.TT)(N,this._value,0,N.length,this._from,this._to):(0,M.j_)(N,this._value,0,N.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class i{constructor(N=!0,z=!0){this._splitOnBackslash=N,this._caseSensitive=z}reset(N){this._from=0,this._to=0,this._value=N,this._valueLen=N.length;for(let z=N.length-1;z>=0;z--,this._valueLen--){const D=this._value.charCodeAt(z);if(!(47===D||this._splitOnBackslash&&92===D))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let N=!0;for(;this._to<this._valueLen;this._to++){const z=this._value.charCodeAt(this._to);if(47===z||this._splitOnBackslash&&92===z){if(!N)break;this._from++}else N=!1}return this}cmp(N){return this._caseSensitive?(0,M.TT)(N,this._value,0,N.length,this._from,this._to):(0,M.j_)(N,this._value,0,N.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class O{constructor(N){this._ignorePathCasing=N,this._states=[],this._stateIdx=0}reset(N){return this._value=N,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new i(!1,!this._ignorePathCasing(N)),this._pathIterator.reset(N.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(N){if(1===this._states[this._stateIdx])return(0,M.zY)(N,this._value.scheme);if(2===this._states[this._stateIdx])return(0,M.zY)(N,this._value.authority);if(3===this._states[this._stateIdx])return this._pathIterator.cmp(N);if(4===this._states[this._stateIdx])return(0,M.qu)(N,this._value.query);if(5===this._states[this._stateIdx])return(0,M.qu)(N,this._value.fragment);throw new Error}value(){if(1===this._states[this._stateIdx])return this._value.scheme;if(2===this._states[this._stateIdx])return this._value.authority;if(3===this._states[this._stateIdx])return this._pathIterator.value();if(4===this._states[this._stateIdx])return this._value.query;if(5===this._states[this._stateIdx])return this._value.fragment;throw new Error}}class F{constructor(){this.height=1}rotateLeft(){const N=this.right;return this.right=N.left,N.left=this,this.updateHeight(),N.updateHeight(),N}rotateRight(){const N=this.left;return this.left=N.right,N.right=this,this.updateHeight(),N.updateHeight(),N}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var N,z;return null!==(z=null===(N=this.left)||void 0===N?void 0:N.height)&&void 0!==z?z:0}get heightRight(){var N,z;return null!==(z=null===(N=this.right)||void 0===N?void 0:N.height)&&void 0!==z?z:0}}class T{constructor(N){this._iter=N}static forUris(N=(()=>!1)){return new T(new O(N))}static forStrings(){return new T(new B)}static forConfigKeys(){return new T(new E)}clear(){this._root=void 0}set(N,z){const D=this._iter.reset(N);let I;this._root||(this._root=new F,this._root.segment=D.value());const Z=[];for(I=this._root;;){const k=D.cmp(I.segment);if(k>0)I.left||(I.left=new F,I.left.segment=D.value()),Z.push([-1,I]),I=I.left;else if(k<0)I.right||(I.right=new F,I.right.segment=D.value()),Z.push([1,I]),I=I.right;else{if(!D.hasNext())break;D.next(),I.mid||(I.mid=new F,I.mid.segment=D.value()),Z.push([0,I]),I=I.mid}}const P=I.value;I.value=z,I.key=N;for(let k=Z.length-1;k>=0;k--){const $=Z[k][1];$.updateHeight();const j=$.balanceFactor();if(j<-1||j>1){const G=Z[k][0],oe=Z[k+1][0];if(1===G&&1===oe)Z[k][1]=$.rotateLeft();else if(-1===G&&-1===oe)Z[k][1]=$.rotateRight();else if(1===G&&-1===oe)$.right=Z[k+1][1]=Z[k+1][1].rotateRight(),Z[k][1]=$.rotateLeft();else{if(-1!==G||1!==oe)throw new Error;$.left=Z[k+1][1]=Z[k+1][1].rotateLeft(),Z[k][1]=$.rotateRight()}if(k>0)switch(Z[k-1][0]){case-1:Z[k-1][1].left=Z[k][1];break;case 1:Z[k-1][1].right=Z[k][1];break;case 0:Z[k-1][1].mid=Z[k][1]}else this._root=Z[0][1]}}return P}get(N){var z;return null===(z=this._getNode(N))||void 0===z?void 0:z.value}_getNode(N){const z=this._iter.reset(N);let D=this._root;for(;D;){const I=z.cmp(D.segment);if(I>0)D=D.left;else if(I<0)D=D.right;else{if(!z.hasNext())break;z.next(),D=D.mid}}return D}has(N){const z=this._getNode(N);return!(void 0===(null==z?void 0:z.value)&&void 0===(null==z?void 0:z.mid))}delete(N){return this._delete(N,!1)}deleteSuperstr(N){return this._delete(N,!0)}_delete(N,z){var D;const I=this._iter.reset(N),Z=[];let P=this._root;for(;P;){const k=I.cmp(P.segment);if(k>0)Z.push([-1,P]),P=P.left;else if(k<0)Z.push([1,P]),P=P.right;else{if(!I.hasNext())break;I.next(),Z.push([0,P]),P=P.mid}}if(P){if(z?(P.left=void 0,P.mid=void 0,P.right=void 0,P.height=1):(P.key=void 0,P.value=void 0),!P.mid&&!P.value)if(P.left&&P.right){const k=this._min(P.right),{key:$,value:j,segment:G}=k;this._delete(k.key,!1),P.key=$,P.value=j,P.segment=G}else{const k=null!==(D=P.left)&&void 0!==D?D:P.right;if(Z.length>0){const[$,j]=Z[Z.length-1];switch($){case-1:j.left=k;break;case 0:j.mid=k;break;case 1:j.right=k}}else this._root=k}for(let k=Z.length-1;k>=0;k--){const $=Z[k][1];$.updateHeight();const j=$.balanceFactor();if(j>1?($.right.balanceFactor()>=0||($.right=$.right.rotateRight()),Z[k][1]=$.rotateLeft()):j<-1&&($.left.balanceFactor()<=0||($.left=$.left.rotateLeft()),Z[k][1]=$.rotateRight()),k>0)switch(Z[k-1][0]){case-1:Z[k-1][1].left=Z[k][1];break;case 1:Z[k-1][1].right=Z[k][1];break;case 0:Z[k-1][1].mid=Z[k][1]}else this._root=Z[0][1]}}}_min(N){for(;N.left;)N=N.left;return N}findSubstr(N){const z=this._iter.reset(N);let I,D=this._root;for(;D;){const Z=z.cmp(D.segment);if(Z>0)D=D.left;else if(Z<0)D=D.right;else{if(!z.hasNext())break;z.next(),I=D.value||I,D=D.mid}}return D&&D.value||I}findSuperstr(N){const z=this._iter.reset(N);let D=this._root;for(;D;){const I=z.cmp(D.segment);if(I>0)D=D.left;else if(I<0)D=D.right;else{if(!z.hasNext())return D.mid?this._entries(D.mid):void 0;z.next(),D=D.mid}}}forEach(N){for(const[z,D]of this)N(D,z)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(N){!N||(N.left&&(yield*this._entries(N.left)),N.value&&(yield[N.key,N.value]),N.mid&&(yield*this._entries(N.mid)),N.right&&(yield*this._entries(N.right)))}}class S{constructor(N,z){this.uri=N,this.value=z}}let C=(()=>{class f{constructor(z,D){this[g]="ResourceMap",z instanceof f?(this.map=new Map(z.map),this.toKey=D??f.defaultToKey):(this.map=new Map,this.toKey=z??f.defaultToKey)}set(z,D){return this.map.set(this.toKey(z),new S(z,D)),this}get(z){var D;return null===(D=this.map.get(this.toKey(z)))||void 0===D?void 0:D.value}has(z){return this.map.has(this.toKey(z))}get size(){return this.map.size}clear(){this.map.clear()}delete(z){return this.map.delete(this.toKey(z))}forEach(z,D){void 0!==D&&(z=z.bind(D));for(let[I,Z]of this.map)z(Z.value,Z.uri,this)}*values(){for(let z of this.map.values())yield z.value}*keys(){for(let z of this.map.values())yield z.uri}*entries(){for(let z of this.map.values())yield[z.uri,z.value]}*[(g=Symbol.toStringTag,Symbol.iterator)](){for(let[,z]of this.map)yield[z.uri,z.value]}}return f.defaultToKey=N=>N.toString(),f})();class b{constructor(){this[Y]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var N;return null===(N=this._head)||void 0===N?void 0:N.value}get last(){var N;return null===(N=this._tail)||void 0===N?void 0:N.value}has(N){return this._map.has(N)}get(N,z=0){const D=this._map.get(N);if(D)return 0!==z&&this.touch(D,z),D.value}set(N,z,D=0){let I=this._map.get(N);return I?(I.value=z,0!==D&&this.touch(I,D)):(1===(I={key:N,value:z,next:void 0,previous:void 0},D)?this.addItemFirst(I):this.addItemLast(I),this._map.set(N,I),this._size++),this}delete(N){return!!this.remove(N)}remove(N){const z=this._map.get(N);if(z)return this._map.delete(N),this.removeItem(z),this._size--,z.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const N=this._head;return this._map.delete(N.key),this.removeItem(N),this._size--,N.value}forEach(N,z){const D=this._state;let I=this._head;for(;I;){if(z?N.bind(z)(I.value,I.key,this):N(I.value,I.key,this),this._state!==D)throw new Error("LinkedMap got modified during iteration.");I=I.next}}keys(){const N=this,z=this._state;let D=this._head;const I={[Symbol.iterator]:()=>I,next(){if(N._state!==z)throw new Error("LinkedMap got modified during iteration.");if(D){const Z={value:D.key,done:!1};return D=D.next,Z}return{value:void 0,done:!0}}};return I}values(){const N=this,z=this._state;let D=this._head;const I={[Symbol.iterator]:()=>I,next(){if(N._state!==z)throw new Error("LinkedMap got modified during iteration.");if(D){const Z={value:D.value,done:!1};return D=D.next,Z}return{value:void 0,done:!0}}};return I}entries(){const N=this,z=this._state;let D=this._head;const I={[Symbol.iterator]:()=>I,next(){if(N._state!==z)throw new Error("LinkedMap got modified during iteration.");if(D){const Z={value:[D.key,D.value],done:!1};return D=D.next,Z}return{value:void 0,done:!0}}};return I}[(Y=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(N){if(N>=this.size)return;if(0===N)return void this.clear();let z=this._head,D=this.size;for(;z&&D>N;)this._map.delete(z.key),z=z.next,D--;this._head=z,this._size=D,z&&(z.previous=void 0),this._state++}addItemFirst(N){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");N.next=this._head,this._head.previous=N}else this._tail=N;this._head=N,this._state++}addItemLast(N){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");N.previous=this._tail,this._tail.next=N}else this._head=N;this._tail=N,this._state++}removeItem(N){if(N===this._head&&N===this._tail)this._head=void 0,this._tail=void 0;else if(N===this._head){if(!N.next)throw new Error("Invalid list");N.next.previous=void 0,this._head=N.next}else if(N===this._tail){if(!N.previous)throw new Error("Invalid list");N.previous.next=void 0,this._tail=N.previous}else{const z=N.next,D=N.previous;if(!z||!D)throw new Error("Invalid list");z.previous=D,D.next=z}N.next=void 0,N.previous=void 0,this._state++}touch(N,z){if(!this._head||!this._tail)throw new Error("Invalid list");if(1===z||2===z)if(1===z){if(N===this._head)return;const D=N.next,I=N.previous;N===this._tail?(I.next=void 0,this._tail=I):(D.previous=I,I.next=D),N.previous=void 0,N.next=this._head,this._head.previous=N,this._head=N,this._state++}else if(2===z){if(N===this._tail)return;const D=N.next,I=N.previous;N===this._head?(D.previous=void 0,this._head=D):(D.previous=I,I.next=D),N.next=void 0,N.previous=this._tail,this._tail.next=N,this._tail=N,this._state++}}toJSON(){const N=[];return this.forEach((z,D)=>{N.push([D,z])}),N}fromJSON(N){this.clear();for(const[z,D]of N)this.set(z,D)}}class L extends b{constructor(N,z=1){super(),this._limit=N,this._ratio=Math.min(Math.max(0,z),1)}get limit(){return this._limit}set limit(N){this._limit=N,this.checkTrim()}get(N,z=2){return super.get(N,z)}peek(N){return super.get(N,0)}set(N,z){return super.set(N,z,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},7272:(Be,Me,m)=>{m.d(Me,{Q:()=>Y});var M=m(90386),g=m(85459);function Y(E){let i=JSON.parse(E);return i=B(i),i}function B(E,i=0){if(!E||i>200)return E;if("object"==typeof E){switch(E.$mid){case 1:return g.o.revive(E);case 2:return new RegExp(E.source,E.flags);case 14:return new Date(E.source)}if(E instanceof M.KN||E instanceof Uint8Array)return E;if(Array.isArray(E))for(let O=0;O<E.length;++O)E[O]=B(E[O],i+1);else for(const O in E)Object.hasOwnProperty.call(E,O)&&(E[O]=B(E[O],i+1))}return E}},48343:(Be,Me,m)=>{m.d(Me,{v:()=>M});var M=(()=>{return(g=M||(M={})).text="text/plain",g.binary="application/octet-stream",g.unknown="application/unknown",g.markdown="text/markdown",g.latex="text/latex",g.uriList="text/uri-list",M;var g})()},98318:(Be,Me,m)=>{m.d(Me,{lg:()=>Y,WX:()=>i,Gi:()=>F});var M=m(70700),g=m(85459),Y=(()=>{return(T=Y||(Y={})).inMemory="inmemory",T.vscode="vscode",T.internal="private",T.walkThrough="walkThrough",T.walkThroughSnippet="walkThroughSnippet",T.http="http",T.https="https",T.file="file",T.mailto="mailto",T.untitled="untitled",T.data="data",T.command="command",T.vscodeRemote="vscode-remote",T.vscodeRemoteResource="vscode-remote-resource",T.userData="vscode-userdata",T.vscodeCustomEditor="vscode-custom-editor",T.vscodeNotebook="vscode-notebook",T.vscodeNotebookCell="vscode-notebook-cell",T.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",T.vscodeNotebookCellOutput="vscode-notebook-cell-output",T.vscodeInteractive="vscode-interactive",T.vscodeInteractiveInput="vscode-interactive-input",T.vscodeSettings="vscode-settings",T.vscodeWorkspaceTrust="vscode-workspace-trust",T.vscodeTerminal="vscode-terminal",T.webviewPanel="webview-panel",T.vscodeWebview="vscode-webview",T.extension="extension",T.vscodeFileResource="vscode-file",T.tmp="tmp",T.vsls="vsls",Y;var T})();const i=new class{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(S){this._preferredWebSchema=S}rewrite(S){if(this._delegate)return this._delegate(S);const C=S.authority;let b=this._hosts[C];b&&-1!==b.indexOf(":")&&(b=`[${b}]`);const L=this._ports[C],f=this._connectionTokens[C];let N=`path=${encodeURIComponent(S.path)}`;return"string"==typeof f&&(N+=`&tkn=${encodeURIComponent(f)}`),g.o.from({scheme:M.$L?this._preferredWebSchema:Y.vscodeRemoteResource,authority:`${b}:${L}`,path:"/vscode-remote-resource",query:N})}},F=new((()=>{class T{asBrowserUri(C,b){const L=this.toUri(C,b);return L.scheme===Y.vscodeRemote?i.rewrite(L):L.scheme===Y.file&&(M.tY||M.n2&&M.li.origin===`${Y.vscodeFileResource}://${T.FALLBACK_AUTHORITY}`)?L.with({scheme:Y.vscodeFileResource,authority:L.authority||T.FALLBACK_AUTHORITY,query:null,fragment:null}):L}toUri(C,b){return g.o.isUri(C)?C:g.o.parse(b.toUrl(C))}}return T.FALLBACK_AUTHORITY="vscode-app",T})())},31096:(Be,Me,m)=>{function M(B,E,i){return Math.min(Math.max(B,E),i)}m.d(Me,{uZ:()=>M,nM:()=>g,N:()=>Y});class g{constructor(){this._n=1,this._val=0}update(E){return this._val=this._val+(E-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class Y{constructor(E){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(E),this._values.fill(0,0,E)}update(E){const i=this._values[this._index];return this._values[this._index]=E,this._index=(this._index+1)%this._values.length,this._sum-=i,this._sum+=E,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}},60842:(Be,Me,m)=>{m.d(Me,{I8:()=>g,_A:()=>Y,rs:()=>E,jB:()=>O,fS:()=>F,CJ:()=>T});var M=m(99770);function g(S){if(!S||"object"!=typeof S||S instanceof RegExp)return S;const C=Array.isArray(S)?[]:{};return Object.keys(S).forEach(b=>{C[b]=S[b]&&"object"==typeof S[b]?g(S[b]):S[b]}),C}function Y(S){if(!S||"object"!=typeof S)return S;const C=[S];for(;C.length>0;){const b=C.shift();Object.freeze(b);for(const L in b)if(B.call(b,L)){const f=b[L];"object"==typeof f&&!Object.isFrozen(f)&&C.push(f)}}return S}const B=Object.prototype.hasOwnProperty;function E(S,C){return i(S,C,new Set)}function i(S,C,b){if((0,M.Jp)(S))return S;const L=C(S);if(void 0!==L)return L;if((0,M.kJ)(S)){const f=[];for(const N of S)f.push(i(N,C,b));return f}if((0,M.Kn)(S)){if(b.has(S))throw new Error("Cannot clone recursive data-structure");b.add(S);const f={};for(let N in S)B.call(S,N)&&(f[N]=i(S[N],C,b));return b.delete(S),f}return S}function O(S,C,b=!0){return(0,M.Kn)(S)?((0,M.Kn)(C)&&Object.keys(C).forEach(L=>{L in S?b&&((0,M.Kn)(S[L])&&(0,M.Kn)(C[L])?O(S[L],C[L],b):S[L]=C[L]):S[L]=C[L]}),S):C}function F(S,C){if(S===C)return!0;if(null==S||null==C||typeof S!=typeof C||"object"!=typeof S||Array.isArray(S)!==Array.isArray(C))return!1;let b,L;if(Array.isArray(S)){if(S.length!==C.length)return!1;for(b=0;b<S.length;b++)if(!F(S[b],C[b]))return!1}else{const f=[];for(L in S)f.push(L);f.sort();const N=[];for(L in C)N.push(L);if(N.sort(),!F(f,N))return!1;for(b=0;b<f.length;b++)if(!F(S[f[b]],C[f[b]]))return!1}return!0}function T(S,C,b){const L=C(S);return void 0===L?b:L}},84491:(Be,Me,m)=>{m.d(Me,{EZ:()=>pe,XX:()=>fe,DZ:()=>we,Fv:()=>G,KR:()=>j,Gf:()=>de,DB:()=>oe,ir:()=>ge,Ku:()=>$});var M=m(70700);let g;if(void 0!==M.li.vscode&&void 0!==M.li.vscode.process){const Q=M.li.vscode.process;g={get platform(){return Q.platform},get arch(){return Q.arch},get env(){return Q.env},cwd:()=>Q.cwd()}}else g="undefined"!=typeof process?{get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd:()=>process.env.VSCODE_CWD||process.cwd()}:{get platform(){return M.ED?"win32":M.dz?"darwin":"linux"},get arch(){},get env(){return{}},cwd:()=>"/"};const Y=g.cwd,B=g.env,E=g.platform,S=46,C=47,b=92,L=58;class N extends Error{constructor(q,le,ee){let X;"string"==typeof le&&0===le.indexOf("not ")?(X="must not be",le=le.replace(/^not /,"")):X="must be";const re=-1!==q.indexOf(".")?"property":"argument";let ce=`The "${q}" ${re} ${X} of type ${le}`;ce+=". Received type "+typeof ee,super(ce),this.code="ERR_INVALID_ARG_TYPE"}}function z(Q,q){if("string"!=typeof Q)throw new N(q,"string",Q)}function D(Q){return Q===C||Q===b}function I(Q){return Q===C}function Z(Q){return Q>=65&&Q<=90||Q>=97&&Q<=122}function P(Q,q,le,ee){let X="",re=0,ce=-1,ve=0,ke=0;for(let Ve=0;Ve<=Q.length;++Ve){if(Ve<Q.length)ke=Q.charCodeAt(Ve);else{if(ee(ke))break;ke=C}if(ee(ke)){if(ce!==Ve-1&&1!==ve)if(2===ve){if(X.length<2||2!==re||X.charCodeAt(X.length-1)!==S||X.charCodeAt(X.length-2)!==S){if(X.length>2){const Ue=X.lastIndexOf(le);-1===Ue?(X="",re=0):(X=X.slice(0,Ue),re=X.length-1-X.lastIndexOf(le)),ce=Ve,ve=0;continue}if(0!==X.length){X="",re=0,ce=Ve,ve=0;continue}}q&&(X+=X.length>0?`${le}..`:"..",re=2)}else X.length>0?X+=`${le}${Q.slice(ce+1,Ve)}`:X=Q.slice(ce+1,Ve),re=Ve-ce-1;ce=Ve,ve=0}else ke===S&&-1!==ve?++ve:ve=-1}return X}function k(Q,q){if(null===q||"object"!=typeof q)throw new N("pathObject","Object",q);const le=q.dir||q.root,ee=q.base||`${q.name||""}${q.ext||""}`;return le?le===q.root?`${le}${ee}`:`${le}${Q}${ee}`:ee}const $={resolve(...Q){let q="",le="",ee=!1;for(let X=Q.length-1;X>=-1;X--){let re;if(X>=0){if(re=Q[X],z(re,"path"),0===re.length)continue}else 0===q.length?re=Y():(re=B[`=${q}`]||Y(),(void 0===re||re.slice(0,2).toLowerCase()!==q.toLowerCase()&&re.charCodeAt(2)===b)&&(re=`${q}\\`));const ce=re.length;let ve=0,ke="",Ve=!1;const Ue=re.charCodeAt(0);if(1===ce)D(Ue)&&(ve=1,Ve=!0);else if(D(Ue))if(Ve=!0,D(re.charCodeAt(1))){let ue=2,_e=ue;for(;ue<ce&&!D(re.charCodeAt(ue));)ue++;if(ue<ce&&ue!==_e){const Re=re.slice(_e,ue);for(_e=ue;ue<ce&&D(re.charCodeAt(ue));)ue++;if(ue<ce&&ue!==_e){for(_e=ue;ue<ce&&!D(re.charCodeAt(ue));)ue++;(ue===ce||ue!==_e)&&(ke=`\\\\${Re}\\${re.slice(_e,ue)}`,ve=ue)}}}else ve=1;else Z(Ue)&&re.charCodeAt(1)===L&&(ke=re.slice(0,2),ve=2,ce>2&&D(re.charCodeAt(2))&&(Ve=!0,ve=3));if(ke.length>0)if(q.length>0){if(ke.toLowerCase()!==q.toLowerCase())continue}else q=ke;if(ee){if(q.length>0)break}else if(le=`${re.slice(ve)}\\${le}`,ee=Ve,Ve&&q.length>0)break}return le=P(le,!ee,"\\",D),ee?`${q}\\${le}`:`${q}${le}`||"."},normalize(Q){z(Q,"path");const q=Q.length;if(0===q)return".";let ee,le=0,X=!1;const re=Q.charCodeAt(0);if(1===q)return I(re)?"\\":Q;if(D(re))if(X=!0,D(Q.charCodeAt(1))){let ve=2,ke=ve;for(;ve<q&&!D(Q.charCodeAt(ve));)ve++;if(ve<q&&ve!==ke){const Ve=Q.slice(ke,ve);for(ke=ve;ve<q&&D(Q.charCodeAt(ve));)ve++;if(ve<q&&ve!==ke){for(ke=ve;ve<q&&!D(Q.charCodeAt(ve));)ve++;if(ve===q)return`\\\\${Ve}\\${Q.slice(ke)}\\`;ve!==ke&&(ee=`\\\\${Ve}\\${Q.slice(ke,ve)}`,le=ve)}}}else le=1;else Z(re)&&Q.charCodeAt(1)===L&&(ee=Q.slice(0,2),le=2,q>2&&D(Q.charCodeAt(2))&&(X=!0,le=3));let ce=le<q?P(Q.slice(le),!X,"\\",D):"";return 0===ce.length&&!X&&(ce="."),ce.length>0&&D(Q.charCodeAt(q-1))&&(ce+="\\"),void 0===ee?X?`\\${ce}`:ce:X?`${ee}\\${ce}`:`${ee}${ce}`},isAbsolute(Q){z(Q,"path");const q=Q.length;if(0===q)return!1;const le=Q.charCodeAt(0);return D(le)||q>2&&Z(le)&&Q.charCodeAt(1)===L&&D(Q.charCodeAt(2))},join(...Q){if(0===Q.length)return".";let q,le;for(let re=0;re<Q.length;++re){const ce=Q[re];z(ce,"path"),ce.length>0&&(void 0===q?q=le=ce:q+=`\\${ce}`)}if(void 0===q)return".";let ee=!0,X=0;if("string"==typeof le&&D(le.charCodeAt(0))){++X;const re=le.length;re>1&&D(le.charCodeAt(1))&&(++X,re>2&&(D(le.charCodeAt(2))?++X:ee=!1))}if(ee){for(;X<q.length&&D(q.charCodeAt(X));)X++;X>=2&&(q=`\\${q.slice(X)}`)}return $.normalize(q)},relative(Q,q){if(z(Q,"from"),z(q,"to"),Q===q)return"";const le=$.resolve(Q),ee=$.resolve(q);if(le===ee||(Q=le.toLowerCase())===(q=ee.toLowerCase()))return"";let X=0;for(;X<Q.length&&Q.charCodeAt(X)===b;)X++;let re=Q.length;for(;re-1>X&&Q.charCodeAt(re-1)===b;)re--;const ce=re-X;let ve=0;for(;ve<q.length&&q.charCodeAt(ve)===b;)ve++;let ke=q.length;for(;ke-1>ve&&q.charCodeAt(ke-1)===b;)ke--;const Ve=ke-ve,Ue=ce<Ve?ce:Ve;let ue=-1,_e=0;for(;_e<Ue;_e++){const et=Q.charCodeAt(X+_e);if(et!==q.charCodeAt(ve+_e))break;et===b&&(ue=_e)}if(_e!==Ue){if(-1===ue)return ee}else{if(Ve>Ue){if(q.charCodeAt(ve+_e)===b)return ee.slice(ve+_e+1);if(2===_e)return ee.slice(ve+_e)}ce>Ue&&(Q.charCodeAt(X+_e)===b?ue=_e:2===_e&&(ue=3)),-1===ue&&(ue=0)}let Re="";for(_e=X+ue+1;_e<=re;++_e)(_e===re||Q.charCodeAt(_e)===b)&&(Re+=0===Re.length?"..":"\\..");return ve+=ue,Re.length>0?`${Re}${ee.slice(ve,ke)}`:(ee.charCodeAt(ve)===b&&++ve,ee.slice(ve,ke))},toNamespacedPath(Q){if("string"!=typeof Q)return Q;if(0===Q.length)return"";const q=$.resolve(Q);if(q.length<=2)return Q;if(q.charCodeAt(0)===b){if(q.charCodeAt(1)===b){const le=q.charCodeAt(2);if(63!==le&&le!==S)return`\\\\?\\UNC\\${q.slice(2)}`}}else if(Z(q.charCodeAt(0))&&q.charCodeAt(1)===L&&q.charCodeAt(2)===b)return`\\\\?\\${q}`;return Q},dirname(Q){z(Q,"path");const q=Q.length;if(0===q)return".";let le=-1,ee=0;const X=Q.charCodeAt(0);if(1===q)return D(X)?Q:".";if(D(X)){if(le=ee=1,D(Q.charCodeAt(1))){let ve=2,ke=ve;for(;ve<q&&!D(Q.charCodeAt(ve));)ve++;if(ve<q&&ve!==ke){for(ke=ve;ve<q&&D(Q.charCodeAt(ve));)ve++;if(ve<q&&ve!==ke){for(ke=ve;ve<q&&!D(Q.charCodeAt(ve));)ve++;if(ve===q)return Q;ve!==ke&&(le=ee=ve+1)}}}}else Z(X)&&Q.charCodeAt(1)===L&&(le=q>2&&D(Q.charCodeAt(2))?3:2,ee=le);let re=-1,ce=!0;for(let ve=q-1;ve>=ee;--ve)if(D(Q.charCodeAt(ve))){if(!ce){re=ve;break}}else ce=!1;if(-1===re){if(-1===le)return".";re=le}return Q.slice(0,re)},basename(Q,q){void 0!==q&&z(q,"ext"),z(Q,"path");let re,le=0,ee=-1,X=!0;if(Q.length>=2&&Z(Q.charCodeAt(0))&&Q.charCodeAt(1)===L&&(le=2),void 0!==q&&q.length>0&&q.length<=Q.length){if(q===Q)return"";let ce=q.length-1,ve=-1;for(re=Q.length-1;re>=le;--re){const ke=Q.charCodeAt(re);if(D(ke)){if(!X){le=re+1;break}}else-1===ve&&(X=!1,ve=re+1),ce>=0&&(ke===q.charCodeAt(ce)?-1==--ce&&(ee=re):(ce=-1,ee=ve))}return le===ee?ee=ve:-1===ee&&(ee=Q.length),Q.slice(le,ee)}for(re=Q.length-1;re>=le;--re)if(D(Q.charCodeAt(re))){if(!X){le=re+1;break}}else-1===ee&&(X=!1,ee=re+1);return-1===ee?"":Q.slice(le,ee)},extname(Q){z(Q,"path");let q=0,le=-1,ee=0,X=-1,re=!0,ce=0;Q.length>=2&&Q.charCodeAt(1)===L&&Z(Q.charCodeAt(0))&&(q=ee=2);for(let ve=Q.length-1;ve>=q;--ve){const ke=Q.charCodeAt(ve);if(D(ke)){if(!re){ee=ve+1;break}}else-1===X&&(re=!1,X=ve+1),ke===S?-1===le?le=ve:1!==ce&&(ce=1):-1!==le&&(ce=-1)}return-1===le||-1===X||0===ce||1===ce&&le===X-1&&le===ee+1?"":Q.slice(le,X)},format:k.bind(null,"\\"),parse(Q){z(Q,"path");const q={root:"",dir:"",base:"",ext:"",name:""};if(0===Q.length)return q;const le=Q.length;let ee=0,X=Q.charCodeAt(0);if(1===le)return D(X)?(q.root=q.dir=Q,q):(q.base=q.name=Q,q);if(D(X)){if(ee=1,D(Q.charCodeAt(1))){let ue=2,_e=ue;for(;ue<le&&!D(Q.charCodeAt(ue));)ue++;if(ue<le&&ue!==_e){for(_e=ue;ue<le&&D(Q.charCodeAt(ue));)ue++;if(ue<le&&ue!==_e){for(_e=ue;ue<le&&!D(Q.charCodeAt(ue));)ue++;ue===le?ee=ue:ue!==_e&&(ee=ue+1)}}}}else if(Z(X)&&Q.charCodeAt(1)===L){if(le<=2)return q.root=q.dir=Q,q;if(ee=2,D(Q.charCodeAt(2))){if(3===le)return q.root=q.dir=Q,q;ee=3}}ee>0&&(q.root=Q.slice(0,ee));let re=-1,ce=ee,ve=-1,ke=!0,Ve=Q.length-1,Ue=0;for(;Ve>=ee;--Ve)if(X=Q.charCodeAt(Ve),D(X)){if(!ke){ce=Ve+1;break}}else-1===ve&&(ke=!1,ve=Ve+1),X===S?-1===re?re=Ve:1!==Ue&&(Ue=1):-1!==re&&(Ue=-1);return-1!==ve&&(-1===re||0===Ue||1===Ue&&re===ve-1&&re===ce+1?q.base=q.name=Q.slice(ce,ve):(q.name=Q.slice(ce,re),q.base=Q.slice(ce,ve),q.ext=Q.slice(re,ve))),q.dir=ce>0&&ce!==ee?Q.slice(0,ce-1):q.root,q},sep:"\\",delimiter:";",win32:null,posix:null},j={resolve(...Q){let q="",le=!1;for(let ee=Q.length-1;ee>=-1&&!le;ee--){const X=ee>=0?Q[ee]:Y();z(X,"path"),0!==X.length&&(q=`${X}/${q}`,le=X.charCodeAt(0)===C)}return q=P(q,!le,"/",I),le?`/${q}`:q.length>0?q:"."},normalize(Q){if(z(Q,"path"),0===Q.length)return".";const q=Q.charCodeAt(0)===C,le=Q.charCodeAt(Q.length-1)===C;return 0===(Q=P(Q,!q,"/",I)).length?q?"/":le?"./":".":(le&&(Q+="/"),q?`/${Q}`:Q)},isAbsolute:Q=>(z(Q,"path"),Q.length>0&&Q.charCodeAt(0)===C),join(...Q){if(0===Q.length)return".";let q;for(let le=0;le<Q.length;++le){const ee=Q[le];z(ee,"path"),ee.length>0&&(void 0===q?q=ee:q+=`/${ee}`)}return void 0===q?".":j.normalize(q)},relative(Q,q){if(z(Q,"from"),z(q,"to"),Q===q||(Q=j.resolve(Q))===(q=j.resolve(q)))return"";const ee=Q.length,X=ee-1,ce=q.length-1,ve=X<ce?X:ce;let ke=-1,Ve=0;for(;Ve<ve;Ve++){const ue=Q.charCodeAt(1+Ve);if(ue!==q.charCodeAt(1+Ve))break;ue===C&&(ke=Ve)}if(Ve===ve)if(ce>ve){if(q.charCodeAt(1+Ve)===C)return q.slice(1+Ve+1);if(0===Ve)return q.slice(1+Ve)}else X>ve&&(Q.charCodeAt(1+Ve)===C?ke=Ve:0===Ve&&(ke=0));let Ue="";for(Ve=1+ke+1;Ve<=ee;++Ve)(Ve===ee||Q.charCodeAt(Ve)===C)&&(Ue+=0===Ue.length?"..":"/..");return`${Ue}${q.slice(1+ke)}`},toNamespacedPath:Q=>Q,dirname(Q){if(z(Q,"path"),0===Q.length)return".";const q=Q.charCodeAt(0)===C;let le=-1,ee=!0;for(let X=Q.length-1;X>=1;--X)if(Q.charCodeAt(X)===C){if(!ee){le=X;break}}else ee=!1;return-1===le?q?"/":".":q&&1===le?"//":Q.slice(0,le)},basename(Q,q){void 0!==q&&z(q,"ext"),z(Q,"path");let re,le=0,ee=-1,X=!0;if(void 0!==q&&q.length>0&&q.length<=Q.length){if(q===Q)return"";let ce=q.length-1,ve=-1;for(re=Q.length-1;re>=0;--re){const ke=Q.charCodeAt(re);if(ke===C){if(!X){le=re+1;break}}else-1===ve&&(X=!1,ve=re+1),ce>=0&&(ke===q.charCodeAt(ce)?-1==--ce&&(ee=re):(ce=-1,ee=ve))}return le===ee?ee=ve:-1===ee&&(ee=Q.length),Q.slice(le,ee)}for(re=Q.length-1;re>=0;--re)if(Q.charCodeAt(re)===C){if(!X){le=re+1;break}}else-1===ee&&(X=!1,ee=re+1);return-1===ee?"":Q.slice(le,ee)},extname(Q){z(Q,"path");let q=-1,le=0,ee=-1,X=!0,re=0;for(let ce=Q.length-1;ce>=0;--ce){const ve=Q.charCodeAt(ce);if(ve!==C)-1===ee&&(X=!1,ee=ce+1),ve===S?-1===q?q=ce:1!==re&&(re=1):-1!==q&&(re=-1);else if(!X){le=ce+1;break}}return-1===q||-1===ee||0===re||1===re&&q===ee-1&&q===le+1?"":Q.slice(q,ee)},format:k.bind(null,"/"),parse(Q){z(Q,"path");const q={root:"",dir:"",base:"",ext:"",name:""};if(0===Q.length)return q;const le=Q.charCodeAt(0)===C;let ee;le?(q.root="/",ee=1):ee=0;let X=-1,re=0,ce=-1,ve=!0,ke=Q.length-1,Ve=0;for(;ke>=ee;--ke){const Ue=Q.charCodeAt(ke);if(Ue!==C)-1===ce&&(ve=!1,ce=ke+1),Ue===S?-1===X?X=ke:1!==Ve&&(Ve=1):-1!==X&&(Ve=-1);else if(!ve){re=ke+1;break}}if(-1!==ce){const Ue=0===re&&le?1:re;-1===X||0===Ve||1===Ve&&X===ce-1&&X===re+1?q.base=q.name=Q.slice(Ue,ce):(q.name=Q.slice(Ue,X),q.base=Q.slice(Ue,ce),q.ext=Q.slice(X,ce))}return re>0?q.dir=Q.slice(0,re-1):le&&(q.dir="/"),q},sep:"/",delimiter:":",win32:null,posix:null};j.win32=$.win32=$,j.posix=$.posix=j;const G="win32"===E?$.normalize:j.normalize,oe="win32"===E?$.resolve:j.resolve,de="win32"===E?$.relative:j.relative,fe="win32"===E?$.dirname:j.dirname,pe="win32"===E?$.basename:j.basename,we="win32"===E?$.extname:j.extname,ge="win32"===E?$.sep:j.sep},70700:(Be,Me,m)=>{var M;m.d(Me,{li:()=>z,ED:()=>k,dz:()=>$,IJ:()=>j,tY:()=>G,$L:()=>oe,n2:()=>de,gn:()=>fe,dK:()=>we,fn:()=>ge,OS:()=>Q,r:()=>ee,i7:()=>X,vU:()=>re,G6:()=>ce,un:()=>ve});const g="en";let b,f,N,Y=!1,B=!1,E=!1,i=!1,O=!1,F=!1,T=!1,S=!1,C=!1,L=g;const z="object"==typeof self?self:"object"==typeof global?global:{};let D;void 0!==z.vscode&&void 0!==z.vscode.process?D=z.vscode.process:"undefined"!=typeof process&&(D=process);const I="string"==typeof(null===(M=null==D?void 0:D.versions)||void 0===M?void 0:M.electron);if("object"!=typeof navigator||I&&"renderer"===(null==D?void 0:D.type))if("object"==typeof D){Y="win32"===D.platform,B="darwin"===D.platform,E="linux"===D.platform,i=E&&!!D.env.SNAP&&!!D.env.SNAP_REVISION,T=I,C=!!D.env.CI||!!D.env.BUILD_ARTIFACTSTAGINGDIRECTORY,b=g,L=g;const Ve=D.env.VSCODE_NLS_CONFIG;if(Ve)try{const Ue=JSON.parse(Ve);b=Ue.locale,L=Ue.availableLanguages["*"]||g,f=Ue._translationsConfigFile}catch{}O=!0}else console.error("Unable to resolve platform.");else N=navigator.userAgent,Y=N.indexOf("Windows")>=0,B=N.indexOf("Macintosh")>=0,S=(N.indexOf("Macintosh")>=0||N.indexOf("iPad")>=0||N.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,E=N.indexOf("Linux")>=0,F=!0,b=navigator.language,L=b;let P=0;B?P=1:Y?P=3:E&&(P=2);const k=Y,$=B,j=E,G=O,oe=F,de=F&&"function"==typeof z.importScripts,fe=S,pe=N,we=L,ge=(()=>{if("function"==typeof z.postMessage&&!z.importScripts){let Ve=[];z.addEventListener("message",ue=>{if(ue.data&&ue.data.vscodeScheduleAsyncWork)for(let _e=0,Re=Ve.length;_e<Re;_e++){const et=Ve[_e];if(et.id===ue.data.vscodeScheduleAsyncWork)return Ve.splice(_e,1),void et.callback()}});let Ue=0;return ue=>{const _e=++Ue;Ve.push({id:_e,callback:ue}),z.postMessage({vscodeScheduleAsyncWork:_e},"*")}}return Ve=>setTimeout(Ve)})(),Q=B||S?2:Y?1:3;let q=!0,le=!1;function ee(){if(!le){le=!0;const Ve=new Uint8Array(2);Ve[0]=1,Ve[1]=2,q=513===new Uint16Array(Ve.buffer)[0]}return q}const X=!!(pe&&pe.indexOf("Chrome")>=0),re=!!(pe&&pe.indexOf("Firefox")>=0),ce=!!(!X&&pe&&pe.indexOf("Safari")>=0),ve=!!(pe&&pe.indexOf("Edg/")>=0);pe&&pe.indexOf("Android")},32975:(Be,Me,m)=>{var M;m.d(Me,{e:()=>M}),function(g){function Y(O,F){if(O.start>=F.end||F.start>=O.end)return{start:0,end:0};const T=Math.max(O.start,F.start),S=Math.min(O.end,F.end);return S-T<=0?{start:0,end:0}:{start:T,end:S}}function B(O){return O.end-O.start<=0}g.intersect=Y,g.isEmpty=B,g.intersects=function(O,F){return!B(Y(O,F))},g.relativeComplement=function(O,F){const T=[],S={start:O.start,end:Math.min(F.start,O.end)},C={start:Math.max(F.end,O.start),end:O.end};return B(S)||T.push(S),B(C)||T.push(C),T}}(M||(M={}))},6228:(Be,Me,m)=>{m.d(Me,{z_:()=>O,SF:()=>T,Xy:()=>b,Hx:()=>N,EZ:()=>z,DZ:()=>D,XX:()=>I,Vo:()=>Z,AH:()=>P,i3:()=>$,Vb:()=>pe});var M=m(46359),g=m(98318),Y=m(84491),B=m(70700),E=m(74243),i=m(85459);function O(we){return(0,i.q)(we,!0)}class F{constructor(ge){this._ignorePathCasing=ge}compare(ge,Q,q=!1){return ge===Q?0:(0,E.qu)(this.getComparisonKey(ge,q),this.getComparisonKey(Q,q))}isEqual(ge,Q,q=!1){return ge===Q||!(!ge||!Q)&&this.getComparisonKey(ge,q)===this.getComparisonKey(Q,q)}getComparisonKey(ge,Q=!1){return ge.with({path:this._ignorePathCasing(ge)?ge.path.toLowerCase():void 0,fragment:Q?null:void 0}).toString()}isEqualOrParent(ge,Q,q=!1){if(ge.scheme===Q.scheme){if(ge.scheme===g.lg.file)return M.KM(O(ge),O(Q),this._ignorePathCasing(ge))&&ge.query===Q.query&&(q||ge.fragment===Q.fragment);if(G(ge.authority,Q.authority))return M.KM(ge.path,Q.path,this._ignorePathCasing(ge),"/")&&ge.query===Q.query&&(q||ge.fragment===Q.fragment)}return!1}joinPath(ge,...Q){return i.o.joinPath(ge,...Q)}basenameOrAuthority(ge){return z(ge)||ge.authority}basename(ge){return Y.KR.basename(ge.path)}extname(ge){return Y.KR.extname(ge.path)}dirname(ge){if(0===ge.path.length)return ge;let Q;return ge.scheme===g.lg.file?Q=i.o.file(Y.XX(O(ge))).path:(Q=Y.KR.dirname(ge.path),ge.authority&&Q.length&&47!==Q.charCodeAt(0)&&(console.error(`dirname("${ge.toString})) resulted in a relative path`),Q="/")),ge.with({path:Q})}normalizePath(ge){if(!ge.path.length)return ge;let Q;return Q=ge.scheme===g.lg.file?i.o.file(Y.Fv(O(ge))).path:Y.KR.normalize(ge.path),ge.with({path:Q})}relativePath(ge,Q){if(ge.scheme!==Q.scheme||!G(ge.authority,Q.authority))return;if(ge.scheme===g.lg.file){const ee=Y.Gf(O(ge),O(Q));return B.ED?M.ej(ee):ee}let q=ge.path||"/",le=Q.path||"/";if(this._ignorePathCasing(ge)){let ee=0;for(const X=Math.min(q.length,le.length);ee<X&&(q.charCodeAt(ee)===le.charCodeAt(ee)||q.charAt(ee).toLowerCase()===le.charAt(ee).toLowerCase());ee++);q=le.substr(0,ee)+q.substr(ee)}return Y.KR.relative(q,le)}resolvePath(ge,Q){if(ge.scheme===g.lg.file){const q=i.o.file(Y.DB(O(ge),Q));return ge.with({authority:q.authority,path:q.path})}return Q=M.fn(Q),ge.with({path:Y.KR.resolve(ge.path,Q)})}isAbsolutePath(ge){return!!ge.path&&"/"===ge.path[0]}isEqualAuthority(ge,Q){return ge===Q||void 0!==ge&&void 0!==Q&&(0,E.qq)(ge,Q)}hasTrailingPathSeparator(ge,Q=Y.ir){if(ge.scheme===g.lg.file){const q=O(ge);return q.length>M.yj(q).length&&q[q.length-1]===Q}{const q=ge.path;return q.length>1&&47===q.charCodeAt(q.length-1)&&!/^[a-zA-Z]:(\/$|\\$)/.test(ge.fsPath)}}removeTrailingPathSeparator(ge,Q=Y.ir){return oe(ge,Q)?ge.with({path:ge.path.substr(0,ge.path.length-1)}):ge}addTrailingPathSeparator(ge,Q=Y.ir){let q=!1;if(ge.scheme===g.lg.file){const le=O(ge);q=void 0!==le&&le.length===M.yj(le).length&&le[le.length-1]===Q}else{Q="/";const le=ge.path;q=1===le.length&&47===le.charCodeAt(le.length-1)}return q||oe(ge,Q)?ge:ge.with({path:ge.path+"/"})}}const T=new F(()=>!1),b=(new F(we=>we.scheme!==g.lg.file||!B.IJ),new F(we=>!0),T.isEqual.bind(T)),N=(T.isEqualOrParent.bind(T),T.getComparisonKey.bind(T),T.basenameOrAuthority.bind(T)),z=T.basename.bind(T),D=T.extname.bind(T),I=T.dirname.bind(T),Z=T.joinPath.bind(T),P=T.normalizePath.bind(T),$=(T.relativePath.bind(T),T.resolvePath.bind(T)),G=(T.isAbsolutePath.bind(T),T.isEqualAuthority.bind(T)),oe=T.hasTrailingPathSeparator.bind(T);var pe,we;T.removeTrailingPathSeparator.bind(T),T.addTrailingPathSeparator.bind(T),(we=pe||(pe={})).META_DATA_LABEL="label",we.META_DATA_DESCRIPTION="description",we.META_DATA_SIZE="size",we.META_DATA_MIME="mime",we.parseMetaData=function(Q){const q=new Map;Q.path.substring(Q.path.indexOf(";")+1,Q.path.lastIndexOf(";")).split(";").forEach(X=>{const[re,ce]=X.split(":");re&&ce&&q.set(re,ce)});const ee=Q.path.substring(0,Q.path.indexOf(";"));return ee&&q.set(we.META_DATA_MIME,ee),q}},90443:(Be,Me,m)=>{m.d(Me,{Rm:()=>B});var M=m(71040),g=m(40189);class Y{constructor(b,L,f,N,z,D,I){this._forceIntegerValues=b,this._scrollStateBrand=void 0,this._forceIntegerValues&&(L|=0,f|=0,N|=0,z|=0,D|=0,I|=0),this.rawScrollLeft=N,this.rawScrollTop=I,L<0&&(L=0),N+L>f&&(N=f-L),N<0&&(N=0),z<0&&(z=0),I+z>D&&(I=D-z),I<0&&(I=0),this.width=L,this.scrollWidth=f,this.scrollLeft=N,this.height=z,this.scrollHeight=D,this.scrollTop=I}equals(b){return this.rawScrollLeft===b.rawScrollLeft&&this.rawScrollTop===b.rawScrollTop&&this.width===b.width&&this.scrollWidth===b.scrollWidth&&this.scrollLeft===b.scrollLeft&&this.height===b.height&&this.scrollHeight===b.scrollHeight&&this.scrollTop===b.scrollTop}withScrollDimensions(b,L){return new Y(this._forceIntegerValues,void 0!==b.width?b.width:this.width,void 0!==b.scrollWidth?b.scrollWidth:this.scrollWidth,L?this.rawScrollLeft:this.scrollLeft,void 0!==b.height?b.height:this.height,void 0!==b.scrollHeight?b.scrollHeight:this.scrollHeight,L?this.rawScrollTop:this.scrollTop)}withScrollPosition(b){return new Y(this._forceIntegerValues,this.width,this.scrollWidth,void 0!==b.scrollLeft?b.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,void 0!==b.scrollTop?b.scrollTop:this.rawScrollTop)}createScrollEvent(b,L){return{inSmoothScrolling:L,oldWidth:b.width,oldScrollWidth:b.scrollWidth,oldScrollLeft:b.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:b.height,oldScrollHeight:b.scrollHeight,oldScrollTop:b.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:this.width!==b.width,scrollWidthChanged:this.scrollWidth!==b.scrollWidth,scrollLeftChanged:this.scrollLeft!==b.scrollLeft,heightChanged:this.height!==b.height,scrollHeightChanged:this.scrollHeight!==b.scrollHeight,scrollTopChanged:this.scrollTop!==b.scrollTop}}}class B extends g.JT{constructor(b){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new M.Q5),this.onScroll=this._onScroll.event,this._smoothScrollDuration=b.smoothScrollDuration,this._scheduleAtNextAnimationFrame=b.scheduleAtNextAnimationFrame,this._state=new Y(b.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(b){this._smoothScrollDuration=b}validateScrollPosition(b){return this._state.withScrollPosition(b)}getScrollDimensions(){return this._state}setScrollDimensions(b,L){const f=this._state.withScrollDimensions(b,L);this._setState(f,Boolean(this._smoothScrolling)),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(b){const L=this._state.withScrollPosition(b);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(L,!1)}setScrollPositionSmooth(b,L){if(0===this._smoothScrollDuration)return this.setScrollPositionNow(b);if(this._smoothScrolling){const f=this._state.withScrollPosition(b={scrollLeft:void 0===b.scrollLeft?this._smoothScrolling.to.scrollLeft:b.scrollLeft,scrollTop:void 0===b.scrollTop?this._smoothScrolling.to.scrollTop:b.scrollTop});if(this._smoothScrolling.to.scrollLeft===f.scrollLeft&&this._smoothScrolling.to.scrollTop===f.scrollTop)return;let N;N=L?new F(this._smoothScrolling.from,f,this._smoothScrolling.startTime,this._smoothScrolling.duration):this._smoothScrolling.combine(this._state,f,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=N}else{const f=this._state.withScrollPosition(b);this._smoothScrolling=F.start(this._state,f,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;const b=this._smoothScrolling.tick(),L=this._state.withScrollPosition(b);if(this._setState(L,!0),this._smoothScrolling){if(b.isDone)return this._smoothScrolling.dispose(),void(this._smoothScrolling=null);this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(b,L){const f=this._state;f.equals(b)||(this._state=b,this._onScroll.fire(this._state.createScrollEvent(f,L)))}}class E{constructor(b,L,f){this.scrollLeft=b,this.scrollTop=L,this.isDone=f}}function i(C,b){const L=b-C;return function(f){return C+L*function(C){return 1-function(C){return Math.pow(C,3)}(1-C)}(f)}}class F{constructor(b,L,f,N){this.from=b,this.to=L,this.duration=N,this.startTime=f,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(b,L,f){if(Math.abs(b-L)>2.5*f){let z,D;return b<L?(z=b+.75*f,D=L-.75*f):(z=b-.75*f,D=L+.75*f),function(C,b,L){return function(f){return f<L?C(f/L):b((f-L)/(1-L))}}(i(b,z),i(D,L),.33)}return i(b,L)}dispose(){null!==this.animationFrameDisposable&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(b){this.to=b.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(b){const L=(b-this.startTime)/this.duration;if(L<1){const f=this.scrollLeft(L),N=this.scrollTop(L);return new E(f,N,!1)}return new E(this.to.scrollLeft,this.to.scrollTop,!0)}combine(b,L,f){return F.start(b,L,f)}static start(b,L,f){f+=10;const N=Date.now()-10;return new F(b,L,N,f)}}},13310:(Be,Me,m)=>{m.d(Me,{Z:()=>Y});var M=m(74243),g=(()=>{return(B=g||(g={}))[B.Ignore=0]="Ignore",B[B.Info=1]="Info",B[B.Warning=2]="Warning",B[B.Error=3]="Error",g;var B})();!function(B){const E="error",i="warning",F="info";B.fromValue=function(b){return b?M.qq(E,b)?B.Error:M.qq(i,b)||M.qq("warn",b)?B.Warning:M.qq(F,b)?B.Info:B.Ignore:B.Ignore},B.toString=function(b){switch(b){case B.Error:return E;case B.Warning:return i;case B.Info:return F;default:return"ignore"}}}(g||(g={}));const Y=g},39932:(Be,Me,m)=>{m.d(Me,{G:()=>Y});var M=m(70700);const g=M.li.performance&&"function"==typeof M.li.performance.now;class Y{constructor(E){this._highResolution=g&&E,this._startTime=this._now(),this._stopTime=-1}static create(E=!0){return new Y(E)}stop(){this._stopTime=this._now()}elapsed(){return-1!==this._stopTime?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?M.li.performance.now():Date.now()}}},74243:(Be,Me,m)=>{m.d(Me,{ZK:()=>Wt,W1:()=>ce,vU:()=>fn,Qe:()=>et,c1:()=>ut,Mh:()=>we,P1:()=>ge,qu:()=>k,zY:()=>j,TT:()=>$,j_:()=>G,rL:()=>le,Ut:()=>ue,ab:()=>Ze,Kw:()=>Se,un:()=>b,GF:()=>f,qq:()=>fe,YU:()=>O,ec:()=>F,LC:()=>I,WU:()=>i,J_:()=>Ve,V8:()=>Z,oH:()=>pn,ZH:()=>ee,$i:()=>Re,C8:()=>rt,m5:()=>B,K7:()=>Pe,ZG:()=>Q,YK:()=>q,mK:()=>oe,df:()=>de,ow:()=>P,j3:()=>S,vH:()=>ve,B4:()=>Bt,HO:()=>ke,mr:()=>z,IO:()=>N,oL:()=>C,PJ:()=>Ne,uq:()=>D,ok:()=>pe,uS:()=>nt,R1:()=>L,fy:()=>T});var Y,g=m(90341);function B(Ye){return!Ye||"string"!=typeof Ye||0===Ye.trim().length}const E=/{(\d+)}/g;function i(Ye,...Dt){return 0===Dt.length?Ye:Ye.replace(E,function(St,un){const Ln=parseInt(un,10);return isNaN(Ln)||Ln<0||Ln>=Dt.length?St:Dt[Ln]})}function O(Ye){return Ye.replace(/[<>&]/g,function(Dt){switch(Dt){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return Dt}})}function F(Ye){return Ye.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function T(Ye,Dt=" "){return C(S(Ye,Dt),Dt)}function S(Ye,Dt){if(!Ye||!Dt)return Ye;const St=Dt.length;if(0===St||0===Ye.length)return Ye;let un=0;for(;Ye.indexOf(Dt,un)===un;)un+=St;return Ye.substring(un)}function C(Ye,Dt){if(!Ye||!Dt)return Ye;const St=Dt.length,un=Ye.length;if(0===St||0===un)return Ye;let Ln=un,sn=-1;for(;sn=Ye.lastIndexOf(Dt,Ln-1),-1!==sn&&sn+St===Ln;){if(0===sn)return"";Ln=sn}return Ye.substring(0,Ln)}function b(Ye){return Ye.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function L(Ye){return Ye.replace(/\*/g,"")}function f(Ye,Dt,St={}){if(!Ye)throw new Error("Cannot create regex from empty string");Dt||(Ye=F(Ye)),St.wholeWord&&(/\B/.test(Ye.charAt(0))||(Ye="\\b"+Ye),/\B/.test(Ye.charAt(Ye.length-1))||(Ye+="\\b"));let un="";return St.global&&(un+="g"),St.matchCase||(un+="i"),St.multiline&&(un+="m"),St.unicode&&(un+="u"),new RegExp(Ye,un)}function N(Ye){return"^"!==Ye.source&&"^$"!==Ye.source&&"$"!==Ye.source&&"^\\s*$"!==Ye.source&&!(!Ye.exec("")||0!==Ye.lastIndex)}function z(Ye){return(Ye.global?"g":"")+(Ye.ignoreCase?"i":"")+(Ye.multiline?"m":"")+(Ye.unicode?"u":"")}function D(Ye){return Ye.split(/\r\n|\r|\n/)}function I(Ye){for(let Dt=0,St=Ye.length;Dt<St;Dt++){const un=Ye.charCodeAt(Dt);if(32!==un&&9!==un)return Dt}return-1}function Z(Ye,Dt=0,St=Ye.length){for(let un=Dt;un<St;un++){const Ln=Ye.charCodeAt(un);if(32!==Ln&&9!==Ln)return Ye.substring(Dt,un)}return Ye.substring(Dt,St)}function P(Ye,Dt=Ye.length-1){for(let St=Dt;St>=0;St--){const un=Ye.charCodeAt(St);if(32!==un&&9!==un)return St}return-1}function k(Ye,Dt){return Ye<Dt?-1:Ye>Dt?1:0}function $(Ye,Dt,St=0,un=Ye.length,Ln=0,sn=Dt.length){for(;St<un&&Ln<sn;St++,Ln++){let cn=Ye.charCodeAt(St),At=Dt.charCodeAt(Ln);if(cn<At)return-1;if(cn>At)return 1}const hn=un-St,_n=sn-Ln;return hn<_n?-1:hn>_n?1:0}function j(Ye,Dt){return G(Ye,Dt,0,Ye.length,0,Dt.length)}function G(Ye,Dt,St=0,un=Ye.length,Ln=0,sn=Dt.length){for(;St<un&&Ln<sn;St++,Ln++){let cn=Ye.charCodeAt(St),At=Dt.charCodeAt(Ln);if(cn===At)continue;if(cn>=128||At>=128)return $(Ye.toLowerCase(),Dt.toLowerCase(),St,un,Ln,sn);oe(cn)&&(cn-=32),oe(At)&&(At-=32);const Ei=cn-At;if(0!==Ei)return Ei}const hn=un-St,_n=sn-Ln;return hn<_n?-1:hn>_n?1:0}function oe(Ye){return Ye>=97&&Ye<=122}function de(Ye){return Ye>=65&&Ye<=90}function fe(Ye,Dt){return Ye.length===Dt.length&&0===G(Ye,Dt)}function pe(Ye,Dt){return!(Dt.length>Ye.length)&&0===G(Ye,Dt,0,Dt.length)}function we(Ye,Dt){let St,un=Math.min(Ye.length,Dt.length);for(St=0;St<un;St++)if(Ye.charCodeAt(St)!==Dt.charCodeAt(St))return St;return un}function ge(Ye,Dt){let St,un=Math.min(Ye.length,Dt.length);const Ln=Ye.length-1,sn=Dt.length-1;for(St=0;St<un;St++)if(Ye.charCodeAt(Ln-St)!==Dt.charCodeAt(sn-St))return St;return un}function Q(Ye){return 55296<=Ye&&Ye<=56319}function q(Ye){return 56320<=Ye&&Ye<=57343}function le(Ye,Dt){return Dt-56320+(Ye-55296<<10)+65536}function ee(Ye,Dt,St){const un=Ye.charCodeAt(St);if(Q(un)&&St+1<Dt){const Ln=Ye.charCodeAt(St+1);if(q(Ln))return le(un,Ln)}return un}class re{constructor(Dt,St=0){this._str=Dt,this._len=Dt.length,this._offset=St}get offset(){return this._offset}setOffset(Dt){this._offset=Dt}prevCodePoint(){const Dt=function(Ye,Dt){const St=Ye.charCodeAt(Dt-1);if(q(St)&&Dt>1){const un=Ye.charCodeAt(Dt-2);if(Q(un))return le(un,St)}return St}(this._str,this._offset);return this._offset-=Dt>=65536?2:1,Dt}nextCodePoint(){const Dt=ee(this._str,this._len,this._offset);return this._offset+=Dt>=65536?2:1,Dt}eol(){return this._offset>=this._len}}class ce{constructor(Dt,St=0){this._iterator=new re(Dt,St)}get offset(){return this._iterator.offset}nextGraphemeLength(){const Dt=_t.getInstance(),St=this._iterator,un=St.offset;let Ln=Dt.getGraphemeBreakType(St.nextCodePoint());for(;!St.eol();){const sn=St.offset,hn=Dt.getGraphemeBreakType(St.nextCodePoint());if(at(Ln,hn)){St.setOffset(sn);break}Ln=hn}return St.offset-un}prevGraphemeLength(){const Dt=_t.getInstance(),St=this._iterator,un=St.offset;let Ln=Dt.getGraphemeBreakType(St.prevCodePoint());for(;St.offset>0;){const sn=St.offset,hn=Dt.getGraphemeBreakType(St.prevCodePoint());if(at(hn,Ln)){St.setOffset(sn);break}Ln=hn}return un-St.offset}eol(){return this._iterator.eol()}}function ve(Ye,Dt){return new ce(Ye,Dt).nextGraphemeLength()}function ke(Ye,Dt){return new ce(Ye,Dt).prevGraphemeLength()}function Ve(Ye,Dt){Dt>0&&q(Ye.charCodeAt(Dt))&&Dt--;const St=Dt+ve(Ye,Dt);return[St-ke(Ye,St),St]}const Ue=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function ue(Ye){return Ue.test(Ye)}const _e=/^[\t\n\r\x20-\x7E]*$/;function Re(Ye){return _e.test(Ye)}const et=/[\u2028\u2029]/;function Ze(Ye){return et.test(Ye)}function Pe(Ye){return Ye>=11904&&Ye<=55215||Ye>=63744&&Ye<=64255||Ye>=65281&&Ye<=65374}function rt(Ye){return Ye>=127462&&Ye<=127487||8986===Ye||8987===Ye||9200===Ye||9203===Ye||Ye>=9728&&Ye<=10175||11088===Ye||11093===Ye||Ye>=127744&&Ye<=128591||Ye>=128640&&Ye<=128764||Ye>=128992&&Ye<=129008||Ye>=129280&&Ye<=129535||Ye>=129648&&Ye<=129782}const ut=String.fromCharCode(65279);function nt(Ye){return!!(Ye&&Ye.length>0&&65279===Ye.charCodeAt(0))}function Se(Ye,Dt=!1){return!!Ye&&(Dt&&(Ye=Ye.replace(/\\./g,"")),Ye.toLowerCase()!==Ye)}function Ne(Ye){return Ye%=52,String.fromCharCode(Ye<26?97+Ye:65+Ye-26)}function at(Ye,Dt){return 0===Ye?5!==Dt&&7!==Dt:!(2===Ye&&3===Dt||4!==Ye&&2!==Ye&&3!==Ye&&4!==Dt&&2!==Dt&&3!==Dt&&(8===Ye&&(8===Dt||9===Dt||11===Dt||12===Dt)||(11===Ye||9===Ye)&&(9===Dt||10===Dt)||(12===Ye||10===Ye)&&10===Dt||5===Dt||13===Dt||7===Dt||1===Ye||13===Ye&&14===Dt||6===Ye&&6===Dt))}let _t=(()=>{class Ye{constructor(){this._data=JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}static getInstance(){return Ye._INSTANCE||(Ye._INSTANCE=new Ye),Ye._INSTANCE}getGraphemeBreakType(St){if(St<32)return 10===St?3:13===St?2:4;if(St<127)return 0;const un=this._data,Ln=un.length/3;let sn=1;for(;sn<=Ln;)if(St<un[3*sn])sn*=2;else{if(!(St>un[3*sn+1]))return un[3*sn+2];sn=2*sn+1}return 0}}return Ye._INSTANCE=null,Ye})();function pn(Ye,Dt){if(0===Ye)return 0;const St=function(Ye,Dt){const St=new re(Dt,Ye);let un=St.prevCodePoint();for(;Rt(un)||65039===un||8419===un;){if(0===St.offset)return;un=St.prevCodePoint()}if(!rt(un))return;let Ln=St.offset;return Ln>0&&8205===St.prevCodePoint()&&(Ln=St.offset),Ln}(Ye,Dt);if(void 0!==St)return St;const un=new re(Dt,Ye);return un.prevCodePoint(),un.offset}function Rt(Ye){return 127995<=Ye&&Ye<=127999}const Bt="\xa0";class Wt{constructor(Dt){this.confusableDictionary=Dt}static getInstance(Dt){return Wt.cache.get(Array.from(Dt))}static getLocales(){return Wt._locales.getValue()}isAmbiguous(Dt){return this.confusableDictionary.has(Dt)}getPrimaryConfusable(Dt){return this.confusableDictionary.get(Dt)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}Y=Wt,Wt.ambiguousCharacterData=new g.o(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),Wt.cache=new class{constructor(Dt){this.computeFn=Dt,this.lastCache=void 0,this.lastArgKey=void 0}get(Dt){const St=JSON.stringify(Dt);return this.lastArgKey!==St&&(this.lastArgKey=St,this.lastCache=this.computeFn(Dt)),this.lastCache}}(Ye=>{function Dt(At){const Ei=new Map;for(let Yt=0;Yt<At.length;Yt+=2)Ei.set(At[Yt],At[Yt+1]);return Ei}function un(At,Ei){if(!At)return Ei;const Yt=new Map;for(const[He,$e]of At)Ei.has(He)&&Yt.set(He,$e);return Yt}const Ln=Y.ambiguousCharacterData.getValue();let hn,sn=Ye.filter(At=>!At.startsWith("_")&&At in Ln);0===sn.length&&(sn=["_default"]);for(const At of sn)hn=un(hn,Dt(Ln[At]));const cn=function(At,Ei){const Yt=new Map(At);for(const[He,$e]of Ei)Yt.set(He,$e);return Yt}(Dt(Ln._common),hn);return new Wt(cn)}),Wt._locales=new g.o(()=>Object.keys(Wt.ambiguousCharacterData.getValue()).filter(Ye=>!Ye.startsWith("_")));class fn{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(fn.getRawData())),this._data}static isInvisibleCharacter(Dt){return fn.getData().has(Dt)}static get codePoints(){return fn.getData()}}fn._data=void 0},99770:(Be,Me,m)=>{function M(P){return Array.isArray(P)}function g(P){return"string"==typeof P}function Y(P){return!("object"!=typeof P||null===P||Array.isArray(P)||P instanceof RegExp||P instanceof Date)}function B(P){return"number"==typeof P&&!isNaN(P)}function E(P){return!!P&&"function"==typeof P[Symbol.iterator]}function i(P){return!0===P||!1===P}function O(P){return void 0===P}function F(P){return!T(P)}function T(P){return O(P)||null===P}function S(P,k){if(!P)throw new Error(k?`Unexpected type, expected '${k}'`:"Unexpected type")}function C(P){if(T(P))throw new Error("Assertion Failed: argument is undefined or null");return P}function b(P){return"function"==typeof P}function L(P,k){const $=Math.min(P.length,k.length);for(let j=0;j<$;j++)f(P[j],k[j])}function f(P,k){if(g(k)){if(typeof P!==k)throw new Error(`argument does not match constraint: typeof ${k}`)}else if(b(k)){try{if(P instanceof k)return}catch{}if(!T(P)&&P.constructor===k||1===k.length&&!0===k.call(void 0,P))return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function z(P){const k=[];for(const $ of function(P){let k=[],$=Object.getPrototypeOf(P);for(;Object.prototype!==$;)k=k.concat(Object.getOwnPropertyNames($)),$=Object.getPrototypeOf($);return k}(P))"function"==typeof P[$]&&k.push($);return k}function D(P,k){const $=G=>function(){const oe=Array.prototype.slice.call(arguments,0);return k(G,oe)};let j={};for(const G of P)j[G]=$(G);return j}function I(P){return null===P?void 0:P}function Z(P,k="Unreachable"){throw new Error(k)}m.d(Me,{kJ:()=>M,HD:()=>g,Kn:()=>Y,hj:()=>B,TW:()=>E,jn:()=>i,o8:()=>O,$K:()=>F,Jp:()=>T,p_:()=>S,cW:()=>C,mf:()=>b,D8:()=>L,$E:()=>z,IU:()=>D,f6:()=>I,vE:()=>Z})},68733:(Be,Me,m)=>{function M(Y){return Y<0?0:Y>255?255:0|Y}function g(Y){return Y<0?0:Y>4294967295?4294967295:0|Y}m.d(Me,{K:()=>M,A:()=>g})},85459:(Be,Me,m)=>{m.d(Me,{o:()=>b,q:()=>I});var M=m(84491),g=m(70700);const Y=/^\w[\w\d+.-]*$/,B=/^\//,E=/^\/\//;function i(j,G){if(!j.scheme&&G)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${j.authority}", path: "${j.path}", query: "${j.query}", fragment: "${j.fragment}"}`);if(j.scheme&&!Y.test(j.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(j.path)if(j.authority){if(!B.test(j.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(E.test(j.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}const T="",S="/",C=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class b{constructor(G,oe,de,fe,pe,we=!1){"object"==typeof G?(this.scheme=G.scheme||T,this.authority=G.authority||T,this.path=G.path||T,this.query=G.query||T,this.fragment=G.fragment||T):(this.scheme=function(j,G){return j||G?j:"file"}(G,we),this.authority=oe||T,this.path=function(j,G){switch(j){case"https":case"http":case"file":G?G[0]!==S&&(G=S+G):G=S}return G}(this.scheme,de||T),this.query=fe||T,this.fragment=pe||T,i(this,we))}static isUri(G){return G instanceof b||!!G&&"string"==typeof G.authority&&"string"==typeof G.fragment&&"string"==typeof G.path&&"string"==typeof G.query&&"string"==typeof G.scheme&&"string"==typeof G.fsPath&&"function"==typeof G.with&&"function"==typeof G.toString}get fsPath(){return I(this,!1)}with(G){if(!G)return this;let{scheme:oe,authority:de,path:fe,query:pe,fragment:we}=G;return void 0===oe?oe=this.scheme:null===oe&&(oe=T),void 0===de?de=this.authority:null===de&&(de=T),void 0===fe?fe=this.path:null===fe&&(fe=T),void 0===pe?pe=this.query:null===pe&&(pe=T),void 0===we?we=this.fragment:null===we&&(we=T),oe===this.scheme&&de===this.authority&&fe===this.path&&pe===this.query&&we===this.fragment?this:new f(oe,de,fe,pe,we)}static parse(G,oe=!1){const de=C.exec(G);return de?new f(de[2]||T,$(de[4]||T),$(de[5]||T),$(de[7]||T),$(de[9]||T),oe):new f(T,T,T,T,T)}static file(G){let oe=T;if(g.ED&&(G=G.replace(/\\/g,S)),G[0]===S&&G[1]===S){const de=G.indexOf(S,2);-1===de?(oe=G.substring(2),G=S):(oe=G.substring(2,de),G=G.substring(de)||S)}return new f("file",oe,G,T,T)}static from(G){const oe=new f(G.scheme,G.authority,G.path,G.query,G.fragment);return i(oe,!0),oe}static joinPath(G,...oe){if(!G.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let de;return de=g.ED&&"file"===G.scheme?b.file(M.Ku.join(I(G,!0),...oe)).path:M.KR.join(G.path,...oe),G.with({path:de})}toString(G=!1){return Z(this,G)}toJSON(){return this}static revive(G){if(G){if(G instanceof b)return G;{const oe=new f(G);return oe._formatted=G.external,oe._fsPath=G._sep===L?G.fsPath:null,oe}}return G}}const L=g.ED?1:void 0;class f extends b{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=I(this,!1)),this._fsPath}toString(G=!1){return G?Z(this,!0):(this._formatted||(this._formatted=Z(this,!1)),this._formatted)}toJSON(){const G={$mid:1};return this._fsPath&&(G.fsPath=this._fsPath,G._sep=L),this._formatted&&(G.external=this._formatted),this.path&&(G.path=this.path),this.scheme&&(G.scheme=this.scheme),this.authority&&(G.authority=this.authority),this.query&&(G.query=this.query),this.fragment&&(G.fragment=this.fragment),G}}const N={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function z(j,G){let oe,de=-1;for(let fe=0;fe<j.length;fe++){const pe=j.charCodeAt(fe);if(pe>=97&&pe<=122||pe>=65&&pe<=90||pe>=48&&pe<=57||45===pe||46===pe||95===pe||126===pe||G&&47===pe)-1!==de&&(oe+=encodeURIComponent(j.substring(de,fe)),de=-1),void 0!==oe&&(oe+=j.charAt(fe));else{void 0===oe&&(oe=j.substr(0,fe));const we=N[pe];void 0!==we?(-1!==de&&(oe+=encodeURIComponent(j.substring(de,fe)),de=-1),oe+=we):-1===de&&(de=fe)}}return-1!==de&&(oe+=encodeURIComponent(j.substring(de))),void 0!==oe?oe:j}function D(j){let G;for(let oe=0;oe<j.length;oe++){const de=j.charCodeAt(oe);35===de||63===de?(void 0===G&&(G=j.substr(0,oe)),G+=N[de]):void 0!==G&&(G+=j[oe])}return void 0!==G?G:j}function I(j,G){let oe;return oe=j.authority&&j.path.length>1&&"file"===j.scheme?`//${j.authority}${j.path}`:47===j.path.charCodeAt(0)&&(j.path.charCodeAt(1)>=65&&j.path.charCodeAt(1)<=90||j.path.charCodeAt(1)>=97&&j.path.charCodeAt(1)<=122)&&58===j.path.charCodeAt(2)?G?j.path.substr(1):j.path[1].toLowerCase()+j.path.substr(2):j.path,g.ED&&(oe=oe.replace(/\//g,"\\")),oe}function Z(j,G){const oe=G?D:z;let de="",{scheme:fe,authority:pe,path:we,query:ge,fragment:Q}=j;if(fe&&(de+=fe,de+=":"),(pe||"file"===fe)&&(de+=S,de+=S),pe){let q=pe.indexOf("@");if(-1!==q){const le=pe.substr(0,q);pe=pe.substr(q+1),q=le.indexOf(":"),-1===q?de+=oe(le,!1):(de+=oe(le.substr(0,q),!1),de+=":",de+=oe(le.substr(q+1),!1)),de+="@"}pe=pe.toLowerCase(),q=pe.indexOf(":"),-1===q?de+=oe(pe,!1):(de+=oe(pe.substr(0,q),!1),de+=pe.substr(q))}if(we){if(we.length>=3&&47===we.charCodeAt(0)&&58===we.charCodeAt(2)){const q=we.charCodeAt(1);q>=65&&q<=90&&(we=`/${String.fromCharCode(q+32)}:${we.substr(3)}`)}else if(we.length>=2&&58===we.charCodeAt(1)){const q=we.charCodeAt(0);q>=65&&q<=90&&(we=`${String.fromCharCode(q+32)}:${we.substr(2)}`)}de+=oe(we,!0)}return ge&&(de+="?",de+=oe(ge,!1)),Q&&(de+="#",de+=G?Q:z(Q,!1)),de}function P(j){try{return decodeURIComponent(j)}catch{return j.length>3?j.substr(0,3)+P(j.substr(3)):j}}const k=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function $(j){return j.match(k)?j.replace(k,G=>P(G)):j}},55552:(Be,Me,m)=>{m.d(Me,{X5:()=>M,Jq:()=>g,jG:()=>Y});const M={ctrlCmd:!1,alt:!1};var g=(()=>{return(i=g||(g={}))[i.Blur=1]="Blur",i[i.Gesture=2]="Gesture",i[i.Other=3]="Other",g;var i})(),Y=(()=>{return(i=Y||(Y={}))[i.NONE=0]="NONE",i[i.FIRST=1]="FIRST",i[i.SECOND=2]="SECOND",i[i.LAST=3]="LAST",Y;var i})();new class{constructor(O){this.options=O}}},6809:(Be,Me,m)=>{m.d(Me,{N:()=>B});var M=m(47306),g=m(81718),Y=m(52925);function B(E,i){E instanceof g.Z?(E.setFontFamily(i.getMassagedFontFamily(M.isSafari?Y.hL.fontFamily:null)),E.setFontWeight(i.fontWeight),E.setFontSize(i.fontSize),E.setFontFeatureSettings(i.fontFeatureSettings),E.setLineHeight(i.lineHeight),E.setLetterSpacing(i.letterSpacing)):(E.style.fontFamily=i.getMassagedFontFamily(M.isSafari?Y.hL.fontFamily:null),E.style.fontWeight=i.fontWeight,E.style.fontSize=i.fontSize+"px",E.style.fontFeatureSettings=i.fontFeatureSettings,E.style.lineHeight=i.lineHeight+"px",E.style.letterSpacing=i.letterSpacing+"px")}},1607:(Be,Me,m)=>{m.d(Me,{I:()=>Y});var M=m(40189),g=m(71040);class Y extends M.JT{constructor(E,i){super(),this._onDidChange=this._register(new g.Q5),this.onDidChange=this._onDidChange.event,this._referenceDomElement=E,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,i)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){!this._resizeObserver&&this._referenceDomElement&&(this._resizeObserver=new ResizeObserver(E=>{E&&E[0]&&E[0].contentRect?this.observe({width:E[0].contentRect.width,height:E[0].contentRect.height}):this.observe()}),this._resizeObserver.observe(this._referenceDomElement))}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(E){this.measureReferenceDomElement(!0,E)}measureReferenceDomElement(E,i){let O=0,F=0;i?(O=i.width,F=i.height):this._referenceDomElement&&(O=this._referenceDomElement.clientWidth,F=this._referenceDomElement.clientHeight),O=Math.max(5,O),F=Math.max(5,F),(this._width!==O||this._height!==F)&&(this._width=O,this._height=F,E&&this._onDidChange.fire())}}},12710:(Be,Me,m)=>{m.d(Me,{g:()=>b});var M=m(47306),g=m(71040),Y=m(40189),B=m(6809);class E{constructor(f,N){this.chr=f,this.type=N,this.width=0}fulfill(f){this.width=f}}class i{constructor(f,N){this._bareFontInfo=f,this._requests=N,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const f=document.createElement("div");f.style.position="absolute",f.style.top="-50000px",f.style.width="50000px";const N=document.createElement("div");(0,B.N)(N,this._bareFontInfo),f.appendChild(N);const z=document.createElement("div");(0,B.N)(z,this._bareFontInfo),z.style.fontWeight="bold",f.appendChild(z);const D=document.createElement("div");(0,B.N)(D,this._bareFontInfo),D.style.fontStyle="italic",f.appendChild(D);const I=[];for(const Z of this._requests){let P;0===Z.type&&(P=N),2===Z.type&&(P=z),1===Z.type&&(P=D),P.appendChild(document.createElement("br"));const k=document.createElement("span");i._render(k,Z),P.appendChild(k),I.push(k)}this._container=f,this._testElements=I}static _render(f,N){if(" "===N.chr){let z="\xa0";for(let D=0;D<8;D++)z+=z;f.innerText=z}else{let z=N.chr;for(let D=0;D<8;D++)z+=z;f.textContent=z}}_readFromDomElements(){for(let f=0,N=this._requests.length;f<N;f++)this._requests[f].fulfill(this._testElements[f].offsetWidth/256)}}var F=m(52925),T=m(11358);class C{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(f){const N=f.getId();return!!this._values[N]}get(f){const N=f.getId();return this._values[N]}put(f,N){const z=f.getId();this._keys[z]=f,this._values[z]=N}remove(f){const N=f.getId();delete this._keys[N],delete this._values[N]}getValues(){return Object.keys(this._keys).map(f=>this._values[f])}}const b=new class extends Y.JT{constructor(){super(),this._onDidChange=this._register(new g.Q5),this.onDidChange=this._onDidChange.event,this._cache=new C,this._evictUntrustedReadingsTimeout=-1}dispose(){-1!==this._evictUntrustedReadingsTimeout&&(window.clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache=new C,this._onDidChange.fire()}_writeToCache(f,N){this._cache.put(f,N),!N.isTrusted&&-1===this._evictUntrustedReadingsTimeout&&(this._evictUntrustedReadingsTimeout=window.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const f=this._cache.getValues();let N=!1;for(const z of f)z.isTrusted||(N=!0,this._cache.remove(z));N&&this._onDidChange.fire()}readFontInfo(f){if(!this._cache.has(f)){let N=this._actualReadFontInfo(f);(N.typicalHalfwidthCharacterWidth<=2||N.typicalFullwidthCharacterWidth<=2||N.spaceWidth<=2||N.maxDigitWidth<=2)&&(N=new T.pR({pixelRatio:M.PixelRatio.value,fontFamily:N.fontFamily,fontWeight:N.fontWeight,fontSize:N.fontSize,fontFeatureSettings:N.fontFeatureSettings,lineHeight:N.lineHeight,letterSpacing:N.letterSpacing,isMonospace:N.isMonospace,typicalHalfwidthCharacterWidth:Math.max(N.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(N.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:N.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(N.spaceWidth,5),middotWidth:Math.max(N.middotWidth,5),wsmiddotWidth:Math.max(N.wsmiddotWidth,5),maxDigitWidth:Math.max(N.maxDigitWidth,5)},!1)),this._writeToCache(f,N)}return this._cache.get(f)}_createRequest(f,N,z,D){const I=new E(f,N);return z.push(I),D&&D.push(I),I}_actualReadFontInfo(f){const N=[],z=[],D=this._createRequest("n",0,N,z),I=this._createRequest("\uff4d",0,N,null),Z=this._createRequest(" ",0,N,z),P=this._createRequest("0",0,N,z),k=this._createRequest("1",0,N,z),$=this._createRequest("2",0,N,z),j=this._createRequest("3",0,N,z),G=this._createRequest("4",0,N,z),oe=this._createRequest("5",0,N,z),de=this._createRequest("6",0,N,z),fe=this._createRequest("7",0,N,z),pe=this._createRequest("8",0,N,z),we=this._createRequest("9",0,N,z),ge=this._createRequest("\u2192",0,N,z),Q=this._createRequest("\uffeb",0,N,null),q=this._createRequest("\xb7",0,N,z),le=this._createRequest(String.fromCharCode(11825),0,N,null),ee="|/-_ilm%";for(let ke=0,Ve=ee.length;ke<Ve;ke++)this._createRequest(ee.charAt(ke),0,N,z),this._createRequest(ee.charAt(ke),1,N,z),this._createRequest(ee.charAt(ke),2,N,z);!function(L,f){new i(L,f).read()}(f,N);const X=Math.max(P.width,k.width,$.width,j.width,G.width,oe.width,de.width,fe.width,pe.width,we.width);let re=f.fontFeatureSettings===F.n0.OFF;const ce=z[0].width;for(let ke=1,Ve=z.length;re&&ke<Ve;ke++){const Ue=ce-z[ke].width;if(Ue<-.001||Ue>.001){re=!1;break}}let ve=!0;return re&&Q.width!==ce&&(ve=!1),Q.width>ge.width&&(ve=!1),new T.pR({pixelRatio:M.PixelRatio.value,fontFamily:f.fontFamily,fontWeight:f.fontWeight,fontSize:f.fontSize,fontFeatureSettings:f.fontFeatureSettings,lineHeight:f.lineHeight,letterSpacing:f.letterSpacing,isMonospace:re,typicalHalfwidthCharacterWidth:D.width,typicalFullwidthCharacterWidth:I.width,canUseHalfwidthRightwardsArrow:ve,spaceWidth:Z.width,middotWidth:q.width,wsmiddotWidth:le.width,maxDigitWidth:X},!0)}}},93002:(Be,Me,m)=>{m.d(Me,{n:()=>Y});var M=m(71040);const Y=new class{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new M.Q5,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(E){this._tabFocus!==E&&(this._tabFocus=E,this._onDidChangeTabFocus.fire(this._tabFocus))}}},78230:(Be,Me,m)=>{m.d(Me,{pd:()=>C,RA:()=>b,Nl:()=>L,Fz:()=>N,Tj:()=>D});var M=m(47306),g=m(86678),Y=m(714),B=m(89983),E=m(71040),i=m(40189),O=m(48343),F=m(74243),T=m(33677),S=m(60745),C=(()=>((C||(C={})).Tap="-monaco-textarea-synthetic-tap",C))();const b={forceCopyWithSyntaxHighlighting:!1};class L{constructor(){this._lastState=null}set(Z,P){this._lastState={lastCopiedValue:Z,data:P}}get(Z){return this._lastState&&this._lastState.lastCopiedValue===Z?this._lastState.data:(this._lastState=null,null)}}L.INSTANCE=new L;class f{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(Z){const P={text:Z=Z||"",replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=Z.length,P}}class N extends i.JT{constructor(Z,P,k,$){super(),this._host=Z,this._textArea=P,this._OS=k,this._browser=$,this._onFocus=this._register(new E.Q5),this.onFocus=this._onFocus.event,this._onBlur=this._register(new E.Q5),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new E.Q5),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new E.Q5),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new E.Q5),this.onCut=this._onCut.event,this._onPaste=this._register(new E.Q5),this.onPaste=this._onPaste.event,this._onType=this._register(new E.Q5),this.onType=this._onType.event,this._onCompositionStart=this._register(new E.Q5),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new E.Q5),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new E.Q5),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new E.Q5),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncTriggerCut=this._register(new B.pY(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new B.pY(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=T.un.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._currentComposition=null;let j=null;this._register(this._textArea.onKeyDown(G=>{const oe=new Y.y(G);(109===oe.keyCode||this._currentComposition&&1===oe.keyCode)&&oe.stopPropagation(),oe.equals(9)&&oe.preventDefault(),j=oe,this._onKeyDown.fire(oe)})),this._register(this._textArea.onKeyUp(G=>{const oe=new Y.y(G);this._onKeyUp.fire(oe)})),this._register(this._textArea.onCompositionStart(G=>{T.al&&console.log("[compositionstart]",G);const oe=new f;if(!this._currentComposition)return this._currentComposition=oe,2===this._OS&&j&&j.equals(109)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===G.data&&("ArrowRight"===j.code||"ArrowLeft"===j.code)?(T.al&&console.log("[compositionstart] Handling long press case on macOS + arrow key",G),oe.handleCompositionUpdate("x"),void this._onCompositionStart.fire({data:G.data})):void this._onCompositionStart.fire({data:G.data});this._currentComposition=oe})),this._register(this._textArea.onCompositionUpdate(G=>{T.al&&console.log("[compositionupdate]",G);const oe=this._currentComposition;if(!oe)return;if(this._browser.isAndroid){const fe=T.un.readFromTextArea(this._textArea),pe=T.un.deduceAndroidCompositionInput(this._textAreaState,fe);return this._textAreaState=fe,this._onType.fire(pe),void this._onCompositionUpdate.fire(G)}const de=oe.handleCompositionUpdate(G.data);this._textAreaState=T.un.readFromTextArea(this._textArea),this._onType.fire(de),this._onCompositionUpdate.fire(G)})),this._register(this._textArea.onCompositionEnd(G=>{T.al&&console.log("[compositionend]",G);const oe=this._currentComposition;if(!oe)return;if(this._currentComposition=null,this._browser.isAndroid){const fe=T.un.readFromTextArea(this._textArea),pe=T.un.deduceAndroidCompositionInput(this._textAreaState,fe);return this._textAreaState=fe,this._onType.fire(pe),void this._onCompositionEnd.fire()}const de=oe.handleCompositionUpdate(G.data);this._textAreaState=T.un.readFromTextArea(this._textArea),this._onType.fire(de),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(G=>{if(T.al&&console.log("[input]",G),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const oe=T.un.readFromTextArea(this._textArea),de=T.un.deduceInput(this._textAreaState,oe,2===this._OS);0===de.replacePrevCharCnt&&1===de.text.length&&F.ZG(de.text.charCodeAt(0))||(this._textAreaState=oe,(""!==de.text||0!==de.replacePrevCharCnt||0!==de.replaceNextCharCnt||0!==de.positionDelta)&&this._onType.fire(de))})),this._register(this._textArea.onCut(G=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(G),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(G=>{this._ensureClipboardGetsEditorSelection(G)})),this._register(this._textArea.onPaste(G=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),G.preventDefault(),!G.clipboardData)return;let[oe,de]=z.getTextData(G.clipboardData);!oe||(de=de||L.INSTANCE.get(oe),this._onPaste.fire({text:oe,metadata:de}))})),this._register(this._textArea.onFocus(()=>{const G=this._hasFocus;this._setHasFocus(!0),this._browser.isSafari&&!G&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let Z=0;return g.nm(document,"selectionchange",P=>{if(!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const k=Date.now(),$=k-Z;if(Z=k,$<5)return;const j=k-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),j<100||!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const G=this._textArea.getValue();if(this._textAreaState.value!==G)return;const oe=this._textArea.getSelectionStart(),de=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===oe&&this._textAreaState.selectionEnd===de)return;const fe=this._textAreaState.deduceEditorPosition(oe),pe=this._host.deduceModelPosition(fe[0],fe[1],fe[2]),we=this._textAreaState.deduceEditorPosition(de),ge=this._host.deduceModelPosition(we[0],we[1],we[2]),Q=new S.Y(pe.lineNumber,pe.column,ge.lineNumber,ge.column);this._onSelectionChangeRequest.fire(Q)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(Z){this._hasFocus!==Z&&(this._hasFocus=Z,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(Z,P){this._hasFocus||(P=P.collapseSelection()),P.writeToTextArea(Z,this._textArea,this._hasFocus),this._textAreaState=P}writeScreenReaderContent(Z){this._currentComposition||this._setAndWriteTextAreaState(Z,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(Z){const P=this._host.getDataToCopy(),k={version:1,isFromEmptySelection:P.isFromEmptySelection,multicursorText:P.multicursorText,mode:P.mode};L.INSTANCE.set(this._browser.isFirefox?P.text.replace(/\r\n/g,"\n"):P.text,k),Z.preventDefault(),Z.clipboardData&&z.setTextData(Z.clipboardData,P.text,P.html,k)}}class z{static getTextData(Z){const P=Z.getData(O.v.text);let k=null;const $=Z.getData("vscode-editor-data");if("string"==typeof $)try{k=JSON.parse($),1!==k.version&&(k=null)}catch{}return[P,k]}static setTextData(Z,P,k,$){Z.setData(O.v.text,P),"string"==typeof k&&Z.setData("text/html",k),Z.setData("vscode-editor-data",JSON.stringify($))}}class D extends i.JT{constructor(Z){super(),this._actual=Z,this.onKeyDown=this._register(g.IC(this._actual,"keydown")).event,this.onKeyUp=this._register(g.IC(this._actual,"keyup")).event,this.onCompositionStart=this._register(g.IC(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(g.IC(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(g.IC(this._actual,"compositionend")).event,this.onInput=this._register(g.IC(this._actual,"input")).event,this.onCut=this._register(g.IC(this._actual,"cut")).event,this.onCopy=this._register(g.IC(this._actual,"copy")).event,this.onPaste=this._register(g.IC(this._actual,"paste")).event,this.onFocus=this._register(g.IC(this._actual,"focus")).event,this.onBlur=this._register(g.IC(this._actual,"blur")).event,this._onSyntheticTap=this._register(new E.Q5),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(g.nm(this._actual,C.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const Z=g.Ay(this._actual);return Z?Z.activeElement===this._actual:!!g.Uw(this._actual)&&document.activeElement===this._actual}setIgnoreSelectionChangeTime(Z){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(Z,P){const k=this._actual;k.value!==P&&(this.setIgnoreSelectionChangeTime("setValue"),k.value=P)}getSelectionStart(){return"backward"===this._actual.selectionDirection?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return"backward"===this._actual.selectionDirection?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(Z,P,k){const $=this._actual;let j=null;const G=g.Ay($);j=G?G.activeElement:document.activeElement;const oe=j===$;if(oe&&$.selectionStart===P&&$.selectionEnd===k)M.isFirefox&&window.parent!==window&&$.focus();else{if(oe)return this.setIgnoreSelectionChangeTime("setSelectionRange"),$.setSelectionRange(P,k),void(M.isFirefox&&window.parent!==window&&$.focus());try{const pe=g.vL($);this.setIgnoreSelectionChangeTime("setSelectionRange"),$.focus(),$.setSelectionRange(P,k),g._0($,pe)}catch{}}}}},33677:(Be,Me,m)=>{m.d(Me,{al:()=>B,un:()=>E,ee:()=>i});var M=m(74243),g=m(67947),Y=m(1873);const B=!1;class E{constructor(F,T,S,C,b){this.value=F,this.selectionStart=T,this.selectionEnd=S,this.selectionStartPosition=C,this.selectionEndPosition=b}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(F){return new E(F.getValue(),F.getSelectionStart(),F.getSelectionEnd(),null,null)}collapseSelection(){return new E(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(F,T,S){B&&console.log(`writeToTextArea ${F}: ${this.toString()}`),T.setValue(F,this.value),S&&T.setSelectionRange(F,this.selectionStart,this.selectionEnd)}deduceEditorPosition(F){if(F<=this.selectionStart){const C=this.value.substring(F,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,C,-1)}if(F>=this.selectionEnd){const C=this.value.substring(this.selectionEnd,F);return this._finishDeduceEditorPosition(this.selectionEndPosition,C,1)}const T=this.value.substring(this.selectionStart,F);if(-1===T.indexOf(String.fromCharCode(8230)))return this._finishDeduceEditorPosition(this.selectionStartPosition,T,1);const S=this.value.substring(F,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,S,-1)}_finishDeduceEditorPosition(F,T,S){let C=0,b=-1;for(;-1!==(b=T.indexOf("\n",b+1));)C++;return[F,S*T.length,C]}static deduceInput(F,T,S){if(!F)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};B&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${F.toString()}`),console.log(`CURRENT STATE: ${T.toString()}`));const C=Math.min(M.Mh(F.value,T.value),F.selectionStart,T.selectionStart),b=Math.min(M.P1(F.value,T.value),F.value.length-F.selectionEnd,T.value.length-T.selectionEnd),L=F.value.substring(C,F.value.length-b),f=T.value.substring(C,T.value.length-b),N=F.selectionStart-C,z=F.selectionEnd-C,D=T.selectionStart-C,I=T.selectionEnd-C;if(B&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${L}>, selectionStart: ${N}, selectionEnd: ${z}`),console.log(`AFTER DIFFING CURRENT STATE: <${f}>, selectionStart: ${D}, selectionEnd: ${I}`)),D===I){const P=F.selectionStart-C;return B&&console.log(`REMOVE PREVIOUS: ${P} chars`),{text:f,replacePrevCharCnt:P,replaceNextCharCnt:0,positionDelta:0}}return{text:f,replacePrevCharCnt:z-N,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(F,T){if(!F)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(B&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${F.toString()}`),console.log(`CURRENT STATE: ${T.toString()}`)),F.value===T.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:T.selectionEnd-F.selectionEnd};const S=Math.min(M.Mh(F.value,T.value),F.selectionEnd),C=Math.min(M.P1(F.value,T.value),F.value.length-F.selectionEnd),b=F.value.substring(S,F.value.length-C),L=T.value.substring(S,T.value.length-C),N=F.selectionEnd-S,z=T.selectionStart-S,D=T.selectionEnd-S;return B&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${b}>, selectionStart: ${F.selectionStart-S}, selectionEnd: ${N}`),console.log(`AFTER DIFFING CURRENT STATE: <${L}>, selectionStart: ${z}, selectionEnd: ${D}`)),{text:L,replacePrevCharCnt:N,replaceNextCharCnt:b.length-N,positionDelta:D-L.length}}}E.EMPTY=new E("",0,0,null,null);class i{static _getPageOfLine(F,T){return Math.floor((F-1)/T)}static _getRangeForPage(F,T){const S=F*T;return new Y.e(S+1,1,S+T+1,1)}static fromEditorSelection(F,T,S,C,b){const L=i._getPageOfLine(S.startLineNumber,C),f=i._getRangeForPage(L,C),N=i._getPageOfLine(S.endLineNumber,C),z=i._getRangeForPage(N,C),D=f.intersectRanges(new Y.e(1,1,S.startLineNumber,S.startColumn));let I=T.getValueInRange(D,1);const Z=T.getLineCount(),P=T.getLineMaxColumn(Z),k=z.intersectRanges(new Y.e(S.endLineNumber,S.endColumn,Z,P));let j,$=T.getValueInRange(k,1);if(L===N||L+1===N)j=T.getValueInRange(S,1);else{const G=f.intersectRanges(S),oe=z.intersectRanges(S);j=T.getValueInRange(G,1)+String.fromCharCode(8230)+T.getValueInRange(oe,1)}if(b){const G=500;I.length>G&&(I=I.substring(I.length-G,I.length)),$.length>G&&($=$.substring(0,G)),j.length>2*G&&(j=j.substring(0,G)+String.fromCharCode(8230)+j.substring(j.length-G,j.length))}return new E(I+j+$,I.length,I.length+j.length,new g.L(S.startLineNumber,S.startColumn),new g.L(S.endLineNumber,S.endColumn))}}},20545:(Be,Me,m)=>{m.d(Me,{wk:()=>de,Ox:()=>$});var M=m(12918),g=m(47306),Y=m(99770),B=m(99034),E=m(44346),i=m(57623),O=m(35590),F=m(67947),T=m(1873);class S{static columnSelect(ge,Q,q,le,ee,X){const re=Math.abs(ee-q)+1,ce=q>ee,ve=le>X,ke=le<X,Ve=[];for(let Ue=0;Ue<re;Ue++){const ue=q+(ce?-Ue:Ue),_e=ge.columnFromVisibleColumn(Q,ue,le),Re=ge.columnFromVisibleColumn(Q,ue,X),et=ge.visibleColumnFromColumn(Q,new F.L(ue,_e)),Ze=ge.visibleColumnFromColumn(Q,new F.L(ue,Re));ke&&(et>X||Ze<le)||ve&&(Ze>le||et<X)||Ve.push(new O.rS(new T.e(ue,_e,ue,_e),0,new F.L(ue,Re),0))}if(0===Ve.length)for(let Ue=0;Ue<re;Ue++){const ue=q+(ce?-Ue:Ue),_e=Q.getLineMaxColumn(ue);Ve.push(new O.rS(new T.e(ue,_e,ue,_e),0,new F.L(ue,_e),0))}return{viewStates:Ve,reversed:ce,fromLineNumber:q,fromVisualColumn:le,toLineNumber:ee,toVisualColumn:X}}static columnSelectLeft(ge,Q,q){let le=q.toViewVisualColumn;return le>0&&le--,S.columnSelect(ge,Q,q.fromViewLineNumber,q.fromViewVisualColumn,q.toViewLineNumber,le)}static columnSelectRight(ge,Q,q){let le=0;const ee=Math.min(q.fromViewLineNumber,q.toViewLineNumber),X=Math.max(q.fromViewLineNumber,q.toViewLineNumber);for(let ce=ee;ce<=X;ce++){const ve=Q.getLineMaxColumn(ce),ke=ge.visibleColumnFromColumn(Q,new F.L(ce,ve));le=Math.max(le,ke)}let re=q.toViewVisualColumn;return re<le&&re++,this.columnSelect(ge,Q,q.fromViewLineNumber,q.fromViewVisualColumn,q.toViewLineNumber,re)}static columnSelectUp(ge,Q,q,le){const X=Math.max(1,q.toViewLineNumber-(le?ge.pageSize:1));return this.columnSelect(ge,Q,q.fromViewLineNumber,q.fromViewVisualColumn,X,q.toViewVisualColumn)}static columnSelectDown(ge,Q,q,le){const ee=le?ge.pageSize:1,X=Math.min(Q.getLineCount(),q.toViewLineNumber+ee);return this.columnSelect(ge,Q,q.fromViewLineNumber,q.fromViewVisualColumn,X,q.toViewVisualColumn)}}var Z,we,P,$,C=m(17666),b=m(71015),L=m(8418),f=m(20296),N=m(6461),z=m(22115);class I extends E._l{runEditorCommand(ge,Q,q){const le=Q._getViewModel();!le||this.runCoreEditorCommand(le,q||{})}}(we=Z||(Z={})).description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory direction value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'up', 'down'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'page', 'halfPage'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n\t\t\t\t",constraint:function(q){if(!Y.Kn(q))return!1;const le=q;return!(!Y.HD(le.to)||!Y.o8(le.by)&&!Y.HD(le.by)||!Y.o8(le.value)&&!Y.hj(le.value)||!Y.o8(le.revealCursor)&&!Y.jn(le.revealCursor))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},we.RawDirection={Up:"up",Down:"down"},we.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"},we.parse=function(q){let le,ee;switch(q.to){case we.RawDirection.Up:le=1;break;case we.RawDirection.Down:le=2;break;default:return null}switch(q.by){case we.RawUnit.Line:ee=1;break;default:ee=2;break;case we.RawUnit.Page:ee=3;break;case we.RawUnit.HalfPage:ee=4}return{direction:le,unit:ee,value:Math.floor(q.value||1),revealCursor:!!q.revealCursor,select:!!q.select}},function(we){we.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'lineNumber': A mandatory line number value.\n\t\t\t\t\t* 'at': Logical position at which line has to be revealed.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'top', 'center', 'bottom'\n\t\t\t\t\t\t```\n\t\t\t\t",constraint:function(Q){if(!Y.Kn(Q))return!1;const q=Q;return!(!Y.hj(q.lineNumber)&&!Y.HD(q.lineNumber)||!Y.o8(q.at)&&!Y.HD(q.at))},schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},we.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}}(P||(P={}));class k{constructor(ge){ge.addImplementation(1e4,"code-editor",(Q,q)=>{const le=Q.get(i.$).getFocusedCodeEditor();return!(!le||!le.hasTextFocus())&&this._runEditorCommand(Q,le,q)}),ge.addImplementation(1e3,"generic-dom-input-textarea",(Q,q)=>{const le=document.activeElement;return!!(le&&["input","textarea"].indexOf(le.tagName.toLowerCase())>=0)&&(this.runDOMCommand(),!0)}),ge.addImplementation(0,"generic-dom",(Q,q)=>{const le=Q.get(i.$).getActiveCodeEditor();return!!le&&(le.focus(),this._runEditorCommand(Q,le,q))})}_runEditorCommand(ge,Q,q){return this.runEditorCommand(ge,Q,q)||!0}}!function(we){class ge extends I{constructor(Pe){super(Pe),this._minimalReveal=Pe.minimalReveal,this._inSelectionMode=Pe.inSelectionMode}runCoreEditorCommand(Pe,rt){Pe.model.pushStackElement(),Pe.setCursorStates(rt.source,3,[b.P.moveTo(Pe,Pe.getPrimaryCursorState(),this._inSelectionMode,rt.position,rt.viewPosition)])&&Pe.revealPrimaryCursor(rt.source,!0,this._minimalReveal)}}we.MoveTo=(0,E.fK)(new ge({id:"_moveTo",minimalReveal:!0,inSelectionMode:!1,precondition:void 0})),we.MoveToSelect=(0,E.fK)(new ge({id:"_moveToSelect",minimalReveal:!1,inSelectionMode:!0,precondition:void 0}));class Q extends I{runCoreEditorCommand(Pe,rt){Pe.model.pushStackElement();const ut=this._getColumnSelectResult(Pe,Pe.getPrimaryCursorState(),Pe.getCursorColumnSelectData(),rt);Pe.setCursorStates(rt.source,3,ut.viewStates.map(nt=>O.Vi.fromViewState(nt))),Pe.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:ut.fromLineNumber,fromViewVisualColumn:ut.fromVisualColumn,toViewLineNumber:ut.toLineNumber,toViewVisualColumn:ut.toVisualColumn}),ut.reversed?Pe.revealTopMostCursor(rt.source):Pe.revealBottomMostCursor(rt.source)}}we.ColumnSelect=(0,E.fK)(new class extends Q{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(Ze,Pe,rt,ut){const nt=Ze.model.validatePosition(ut.position),Se=Ze.coordinatesConverter.validateViewPosition(new F.L(ut.viewPosition.lineNumber,ut.viewPosition.column),nt);return S.columnSelect(Ze.cursorConfig,Ze,ut.doColumnSelect?rt.fromViewLineNumber:Se.lineNumber,ut.doColumnSelect?rt.fromViewVisualColumn:ut.mouseColumn-1,Se.lineNumber,ut.mouseColumn-1)}}),we.CursorColumnSelectLeft=(0,E.fK)(new class extends Q{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(Ze,Pe,rt,ut){return S.columnSelectLeft(Ze.cursorConfig,Ze,rt)}}),we.CursorColumnSelectRight=(0,E.fK)(new class extends Q{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(Ze,Pe,rt,ut){return S.columnSelectRight(Ze.cursorConfig,Ze,rt)}});class q extends Q{constructor(Pe){super(Pe),this._isPaged=Pe.isPaged}_getColumnSelectResult(Pe,rt,ut,nt){return S.columnSelectUp(Pe.cursorConfig,Pe,ut,this._isPaged)}}we.CursorColumnSelectUp=(0,E.fK)(new q({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:3600,linux:{primary:0}}})),we.CursorColumnSelectPageUp=(0,E.fK)(new q({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:3595,linux:{primary:0}}}));class le extends Q{constructor(Pe){super(Pe),this._isPaged=Pe.isPaged}_getColumnSelectResult(Pe,rt,ut,nt){return S.columnSelectDown(Pe.cursorConfig,Pe,ut,this._isPaged)}}we.CursorColumnSelectDown=(0,E.fK)(new le({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:3602,linux:{primary:0}}})),we.CursorColumnSelectPageDown=(0,E.fK)(new le({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:3596,linux:{primary:0}}}));class ee extends I{constructor(){super({id:"cursorMove",precondition:void 0,description:b.N.description})}runCoreEditorCommand(Pe,rt){const ut=b.N.parse(rt);!ut||this._runCursorMove(Pe,rt.source,ut)}_runCursorMove(Pe,rt,ut){Pe.model.pushStackElement(),Pe.setCursorStates(rt,3,ee._move(Pe,Pe.getCursorStates(),ut)),Pe.revealPrimaryCursor(rt,!0)}static _move(Pe,rt,ut){const nt=ut.select,Se=ut.value;switch(ut.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return b.P.simpleMove(Pe,rt,ut.direction,nt,Se,ut.unit);case 11:case 13:case 12:case 14:return b.P.viewportMove(Pe,rt,ut.direction,nt,Se);default:return null}}}we.CursorMoveImpl=ee,we.CursorMove=(0,E.fK)(new ee);class X extends I{constructor(Pe){super(Pe),this._staticArgs=Pe.args}runCoreEditorCommand(Pe,rt){let ut=this._staticArgs;-1===this._staticArgs.value&&(ut={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:rt.pageSize||Pe.cursorConfig.pageSize}),Pe.model.pushStackElement(),Pe.setCursorStates(rt.source,3,b.P.simpleMove(Pe,Pe.getCursorStates(),ut.direction,ut.select,ut.value,ut.unit)),Pe.revealPrimaryCursor(rt.source,!0)}}we.CursorLeft=(0,E.fK)(new X({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),we.CursorLeftSelect=(0,E.fK)(new X({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:1039}})),we.CursorRight=(0,E.fK)(new X({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),we.CursorRightSelect=(0,E.fK)(new X({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:1041}})),we.CursorUp=(0,E.fK)(new X({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),we.CursorUpSelect=(0,E.fK)(new X({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),we.CursorPageUp=(0,E.fK)(new X({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:11}})),we.CursorPageUpSelect=(0,E.fK)(new X({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:1035}})),we.CursorDown=(0,E.fK)(new X({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),we.CursorDownSelect=(0,E.fK)(new X({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),we.CursorPageDown=(0,E.fK)(new X({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:12}})),we.CursorPageDownSelect=(0,E.fK)(new X({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:1036}})),we.CreateCursor=(0,E.fK)(new class extends I{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(Ze,Pe){let rt;rt=Pe.wholeLine?b.P.line(Ze,Ze.getPrimaryCursorState(),!1,Pe.position,Pe.viewPosition):b.P.moveTo(Ze,Ze.getPrimaryCursorState(),!1,Pe.position,Pe.viewPosition);const ut=Ze.getCursorStates();if(ut.length>1){const nt=rt.modelState?rt.modelState.position:null,Se=rt.viewState?rt.viewState.position:null;for(let Ne=0,at=ut.length;Ne<at;Ne++){const _t=ut[Ne];if((!nt||_t.modelState.selection.containsPosition(nt))&&(!Se||_t.viewState.selection.containsPosition(Se)))return ut.splice(Ne,1),Ze.model.pushStackElement(),void Ze.setCursorStates(Pe.source,3,ut)}}ut.push(rt),Ze.model.pushStackElement(),Ze.setCursorStates(Pe.source,3,ut)}}),we.LastCursorMoveToSelect=(0,E.fK)(new class extends I{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(Ze,Pe){const rt=Ze.getLastAddedCursorIndex(),ut=Ze.getCursorStates(),nt=ut.slice(0);nt[rt]=b.P.moveTo(Ze,ut[rt],!0,Pe.position,Pe.viewPosition),Ze.model.pushStackElement(),Ze.setCursorStates(Pe.source,3,nt)}});class re extends I{constructor(Pe){super(Pe),this._inSelectionMode=Pe.inSelectionMode}runCoreEditorCommand(Pe,rt){Pe.model.pushStackElement(),Pe.setCursorStates(rt.source,3,b.P.moveToBeginningOfLine(Pe,Pe.getCursorStates(),this._inSelectionMode)),Pe.revealPrimaryCursor(rt.source,!0)}}we.CursorHome=(0,E.fK)(new re({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),we.CursorHomeSelect=(0,E.fK)(new re({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class ce extends I{constructor(Pe){super(Pe),this._inSelectionMode=Pe.inSelectionMode}runCoreEditorCommand(Pe,rt){Pe.model.pushStackElement(),Pe.setCursorStates(rt.source,3,this._exec(Pe.getCursorStates())),Pe.revealPrimaryCursor(rt.source,!0)}_exec(Pe){const rt=[];for(let ut=0,nt=Pe.length;ut<nt;ut++){const Se=Pe[ut];rt[ut]=O.Vi.fromModelState(Se.modelState.move(this._inSelectionMode,Se.modelState.position.lineNumber,1,0))}return rt}}we.CursorLineStart=(0,E.fK)(new ce({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:0,mac:{primary:287}}})),we.CursorLineStartSelect=(0,E.fK)(new ce({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:0,mac:{primary:1311}}}));class ve extends I{constructor(Pe){super(Pe),this._inSelectionMode=Pe.inSelectionMode}runCoreEditorCommand(Pe,rt){Pe.model.pushStackElement(),Pe.setCursorStates(rt.source,3,b.P.moveToEndOfLine(Pe,Pe.getCursorStates(),this._inSelectionMode,rt.sticky||!1)),Pe.revealPrimaryCursor(rt.source,!0)}}we.CursorEnd=(0,E.fK)(new ve({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:f.u.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:M.N("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),we.CursorEndSelect=(0,E.fK)(new ve({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:f.u.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:M.N("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class ke extends I{constructor(Pe){super(Pe),this._inSelectionMode=Pe.inSelectionMode}runCoreEditorCommand(Pe,rt){Pe.model.pushStackElement(),Pe.setCursorStates(rt.source,3,this._exec(Pe,Pe.getCursorStates())),Pe.revealPrimaryCursor(rt.source,!0)}_exec(Pe,rt){const ut=[];for(let nt=0,Se=rt.length;nt<Se;nt++){const Ne=rt[nt],at=Ne.modelState.position.lineNumber,_t=Pe.model.getLineMaxColumn(at);ut[nt]=O.Vi.fromModelState(Ne.modelState.move(this._inSelectionMode,at,_t,0))}return ut}}we.CursorLineEnd=(0,E.fK)(new ke({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:0,mac:{primary:291}}})),we.CursorLineEndSelect=(0,E.fK)(new ke({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:0,mac:{primary:1315}}}));class Ve extends I{constructor(Pe){super(Pe),this._inSelectionMode=Pe.inSelectionMode}runCoreEditorCommand(Pe,rt){Pe.model.pushStackElement(),Pe.setCursorStates(rt.source,3,b.P.moveToBeginningOfBuffer(Pe,Pe.getCursorStates(),this._inSelectionMode)),Pe.revealPrimaryCursor(rt.source,!0)}}we.CursorTop=(0,E.fK)(new Ve({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:2062,mac:{primary:2064}}})),we.CursorTopSelect=(0,E.fK)(new Ve({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:3086,mac:{primary:3088}}}));class Ue extends I{constructor(Pe){super(Pe),this._inSelectionMode=Pe.inSelectionMode}runCoreEditorCommand(Pe,rt){Pe.model.pushStackElement(),Pe.setCursorStates(rt.source,3,b.P.moveToEndOfBuffer(Pe,Pe.getCursorStates(),this._inSelectionMode)),Pe.revealPrimaryCursor(rt.source,!0)}}we.CursorBottom=(0,E.fK)(new Ue({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:2061,mac:{primary:2066}}})),we.CursorBottomSelect=(0,E.fK)(new Ue({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:3085,mac:{primary:3090}}}));class ue extends I{constructor(){super({id:"editorScroll",precondition:void 0,description:Z.description})}runCoreEditorCommand(Pe,rt){const ut=Z.parse(rt);!ut||this._runEditorScroll(Pe,rt.source,ut)}_runEditorScroll(Pe,rt,ut){const nt=this._computeDesiredScrollTop(Pe,ut);if(ut.revealCursor){const Se=Pe.getCompletelyVisibleViewRangeAtScrollTop(nt);Pe.setCursorStates(rt,3,[b.P.findPositionInViewportIfOutside(Pe,Pe.getPrimaryCursorState(),Se,ut.select)])}Pe.viewLayout.setScrollPosition({scrollTop:nt},0)}_computeDesiredScrollTop(Pe,rt){if(1===rt.unit){const Se=Pe.getCompletelyVisibleViewRange(),Ne=Pe.coordinatesConverter.convertViewRangeToModelRange(Se);let at;at=1===rt.direction?Math.max(1,Ne.startLineNumber-rt.value):Math.min(Pe.model.getLineCount(),Ne.startLineNumber+rt.value);const _t=Pe.coordinatesConverter.convertModelPositionToViewPosition(new F.L(at,1));return Pe.viewLayout.getVerticalOffsetForLineNumber(_t.lineNumber)}let ut;ut=3===rt.unit?Pe.cursorConfig.pageSize*rt.value:4===rt.unit?Math.round(Pe.cursorConfig.pageSize/2)*rt.value:rt.value;const nt=(1===rt.direction?-1:1)*ut;return Pe.viewLayout.getCurrentScrollTop()+nt*Pe.cursorConfig.lineHeight}}we.EditorScrollImpl=ue,we.EditorScroll=(0,E.fK)(new ue),we.ScrollLineUp=(0,E.fK)(new class extends I{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(Ze,Pe){we.EditorScroll._runEditorScroll(Ze,Pe.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),we.ScrollPageUp=(0,E.fK)(new class extends I{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(Ze,Pe){we.EditorScroll._runEditorScroll(Ze,Pe.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),we.ScrollLineDown=(0,E.fK)(new class extends I{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(Ze,Pe){we.EditorScroll._runEditorScroll(Ze,Pe.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),we.ScrollPageDown=(0,E.fK)(new class extends I{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(Ze,Pe){we.EditorScroll._runEditorScroll(Ze,Pe.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}});class _e extends I{constructor(Pe){super(Pe),this._inSelectionMode=Pe.inSelectionMode}runCoreEditorCommand(Pe,rt){Pe.model.pushStackElement(),Pe.setCursorStates(rt.source,3,[b.P.word(Pe,Pe.getPrimaryCursorState(),this._inSelectionMode,rt.position)]),Pe.revealPrimaryCursor(rt.source,!0)}}we.WordSelect=(0,E.fK)(new _e({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),we.WordSelectDrag=(0,E.fK)(new _e({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),we.LastCursorWordSelect=(0,E.fK)(new class extends I{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(Ze,Pe){const rt=Ze.getLastAddedCursorIndex(),ut=Ze.getCursorStates(),nt=ut.slice(0),Se=ut[rt];nt[rt]=b.P.word(Ze,Se,Se.modelState.hasSelection(),Pe.position),Ze.model.pushStackElement(),Ze.setCursorStates(Pe.source,3,nt)}});class Re extends I{constructor(Pe){super(Pe),this._inSelectionMode=Pe.inSelectionMode}runCoreEditorCommand(Pe,rt){Pe.model.pushStackElement(),Pe.setCursorStates(rt.source,3,[b.P.line(Pe,Pe.getPrimaryCursorState(),this._inSelectionMode,rt.position,rt.viewPosition)]),Pe.revealPrimaryCursor(rt.source,!1)}}we.LineSelect=(0,E.fK)(new Re({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),we.LineSelectDrag=(0,E.fK)(new Re({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class et extends I{constructor(Pe){super(Pe),this._inSelectionMode=Pe.inSelectionMode}runCoreEditorCommand(Pe,rt){const ut=Pe.getLastAddedCursorIndex(),nt=Pe.getCursorStates(),Se=nt.slice(0);Se[ut]=b.P.line(Pe,nt[ut],this._inSelectionMode,rt.position,rt.viewPosition),Pe.model.pushStackElement(),Pe.setCursorStates(rt.source,3,Se)}}we.LastCursorLineSelect=(0,E.fK)(new et({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),we.LastCursorLineSelectDrag=(0,E.fK)(new et({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),we.CancelSelection=(0,E.fK)(new class extends I{constructor(){super({id:"cancelSelection",precondition:f.u.hasNonEmptySelection,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(Ze,Pe){Ze.model.pushStackElement(),Ze.setCursorStates(Pe.source,3,[b.P.cancelSelection(Ze,Ze.getPrimaryCursorState())]),Ze.revealPrimaryCursor(Pe.source,!0)}}),we.RemoveSecondaryCursors=(0,E.fK)(new class extends I{constructor(){super({id:"removeSecondaryCursors",precondition:f.u.hasMultipleSelections,kbOpts:{weight:1,kbExpr:f.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(Ze,Pe){Ze.model.pushStackElement(),Ze.setCursorStates(Pe.source,3,[Ze.getPrimaryCursorState()]),Ze.revealPrimaryCursor(Pe.source,!0),(0,B.i7)(M.N("removedCursor","Removed secondary cursors"))}}),we.RevealLine=(0,E.fK)(new class extends I{constructor(){super({id:"revealLine",precondition:void 0,description:P.description})}runCoreEditorCommand(Ze,Pe){const rt=Pe,ut=rt.lineNumber||0;let nt="number"==typeof ut?ut+1:parseInt(ut)+1;nt<1&&(nt=1);const Se=Ze.model.getLineCount();nt>Se&&(nt=Se);const Ne=new T.e(nt,1,nt,Ze.model.getLineMaxColumn(nt));let at=0;if(rt.at)switch(rt.at){case P.RawAtArgument.Top:at=3;break;case P.RawAtArgument.Center:at=1;break;case P.RawAtArgument.Bottom:at=4}const _t=Ze.coordinatesConverter.convertModelRangeToViewRange(Ne);Ze.revealRange(Pe.source,!1,_t,at,0)}}),we.SelectAll=new class extends k{constructor(){super(E.Sq)}runDOMCommand(){g.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(Ze,Pe,rt){const ut=Pe._getViewModel();!ut||this.runCoreEditorCommand(ut,rt)}runCoreEditorCommand(Ze,Pe){Ze.model.pushStackElement(),Ze.setCursorStates("keyboard",3,[b.P.selectAll(Ze,Ze.getPrimaryCursorState())])}},we.SetSelection=(0,E.fK)(new class extends I{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(Ze,Pe){Ze.model.pushStackElement(),Ze.setCursorStates(Pe.source,3,[O.Vi.fromModelSelection(Pe.selection)])}})}($||($={}));const j=N.Ao.and(f.u.textInputFocus,f.u.columnSelection);function G(we,ge){z.W.registerKeybindingRule({id:we,primary:ge,when:j,weight:1})}function oe(we){return we.register(),we}var de;G($.CursorColumnSelectLeft.id,1039),G($.CursorColumnSelectRight.id,1041),G($.CursorColumnSelectUp.id,1040),G($.CursorColumnSelectPageUp.id,1035),G($.CursorColumnSelectDown.id,1042),G($.CursorColumnSelectPageDown.id,1036),function(we){class ge extends E._l{runEditorCommand(q,le,ee){const X=le._getViewModel();!X||this.runCoreEditingCommand(le,X,ee||{})}}we.CoreEditingCommand=ge,we.LineBreakInsert=(0,E.fK)(new class extends ge{constructor(){super({id:"lineBreakInsert",precondition:f.u.writable,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(Q,q,le){Q.pushUndoStop(),Q.executeCommands(this.id,L.u.lineBreakInsert(q.cursorConfig,q.model,q.getCursorStates().map(ee=>ee.modelState.selection)))}}),we.Outdent=(0,E.fK)(new class extends ge{constructor(){super({id:"outdent",precondition:f.u.writable,kbOpts:{weight:0,kbExpr:N.Ao.and(f.u.editorTextFocus,f.u.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(Q,q,le){Q.pushUndoStop(),Q.executeCommands(this.id,L.u.outdent(q.cursorConfig,q.model,q.getCursorStates().map(ee=>ee.modelState.selection))),Q.pushUndoStop()}}),we.Tab=(0,E.fK)(new class extends ge{constructor(){super({id:"tab",precondition:f.u.writable,kbOpts:{weight:0,kbExpr:N.Ao.and(f.u.editorTextFocus,f.u.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(Q,q,le){Q.pushUndoStop(),Q.executeCommands(this.id,L.u.tab(q.cursorConfig,q.model,q.getCursorStates().map(ee=>ee.modelState.selection))),Q.pushUndoStop()}}),we.DeleteLeft=(0,E.fK)(new class extends ge{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(Q,q,le){const[ee,X]=C.A.deleteLeft(q.getPrevEditOperationType(),q.cursorConfig,q.model,q.getCursorStates().map(re=>re.modelState.selection),q.getCursorAutoClosedCharacters());ee&&Q.pushUndoStop(),Q.executeCommands(this.id,X),q.setPrevEditOperationType(2)}}),we.DeleteRight=(0,E.fK)(new class extends ge{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(Q,q,le){const[ee,X]=C.A.deleteRight(q.getPrevEditOperationType(),q.cursorConfig,q.model,q.getCursorStates().map(re=>re.modelState.selection));ee&&Q.pushUndoStop(),Q.executeCommands(this.id,X),q.setPrevEditOperationType(3)}}),we.Undo=new class extends k{constructor(){super(E.n_)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(Q,q,le){if(q.hasModel()&&!0!==q.getOption(81))return q.getModel().undo()}},we.Redo=new class extends k{constructor(){super(E.kz)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(Q,q,le){if(q.hasModel()&&!0!==q.getOption(81))return q.getModel().redo()}}}(de||(de={}));class fe extends E.mY{constructor(ge,Q,q){super({id:ge,precondition:void 0,description:q}),this._handlerId=Q}runCommand(ge,Q){const q=ge.get(i.$).getFocusedCodeEditor();!q||q.trigger("keyboard",this._handlerId,Q)}}function pe(we,ge){oe(new fe("default:"+we,we)),oe(new fe(we,we,ge))}pe("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),pe("replacePreviousChar"),pe("compositionType"),pe("compositionStart"),pe("compositionEnd"),pe("paste"),pe("cut")},79837:(Be,Me,m)=>{m.d(Me,{CL:()=>g,QI:()=>Y,Pi:()=>B});var M=m(3760);function g(E){return!(!E||"function"!=typeof E.getEditorType)&&E.getEditorType()===M.g.ICodeEditor}function Y(E){return!(!E||"function"!=typeof E.getEditorType)&&E.getEditorType()===M.g.IDiffEditor}function B(E){return g(E)?E:Y(E)?E.getModifiedEditor():null}},96132:(Be,Me,m)=>{m.d(Me,{YN:()=>O,rU:()=>F,kG:()=>C,Pp:()=>b,gy:()=>L,N5:()=>f,tC:()=>N,iB:()=>z,t7:()=>D});var M=m(86678),g=m(8535),Y=m(2886),B=m(89983),E=m(40189),i=m(98275);class O{constructor(k,$){this.x=k,this.y=$,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new F(this.x-M.DI.scrollX,this.y-M.DI.scrollY)}}class F{constructor(k,$){this.clientX=k,this.clientY=$,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new O(this.clientX+M.DI.scrollX,this.clientY+M.DI.scrollY)}}class T{constructor(k,$,j,G){this.x=k,this.y=$,this.width=j,this.height=G,this._editorPagePositionBrand=void 0}}class S{constructor(k,$){this.x=k,this.y=$,this._positionRelativeToEditorBrand=void 0}}function C(P){const k=M.i(P);return new T(k.left,k.top,k.width,k.height)}function b(P,k,$){return new S(($.x-k.x)/(k.width/P.offsetWidth),($.y-k.y)/(k.height/P.offsetHeight))}class L extends Y.n{constructor(k,$){super(k),this._editorMouseEventBrand=void 0,this.pos=new O(this.posx,this.posy),this.editorPos=C($),this.relativePos=b($,this.editorPos,this.pos)}}class f{constructor(k){this._editorViewDomNode=k}_create(k){return new L(k,this._editorViewDomNode)}onContextMenu(k,$){return M.nm(k,"contextmenu",j=>{$(this._create(j))})}onMouseUp(k,$){return M.nm(k,"mouseup",j=>{$(this._create(j))})}onMouseDown(k,$){return M.nm(k,"mousedown",j=>{$(this._create(j))})}onMouseLeave(k,$){return M.j_(k,j=>{$(this._create(j))})}onMouseMoveThrottled(k,$,j,G){return M.Y_(k,"mousemove",$,(de,fe)=>j(de,this._create(fe)),G)}}class N{constructor(k){this._editorViewDomNode=k}_create(k){return new L(k,this._editorViewDomNode)}onPointerUp(k,$){return M.nm(k,"pointerup",j=>{$(this._create(j))})}onPointerDown(k,$){return M.nm(k,"pointerdown",j=>{$(this._create(j))})}onPointerLeave(k,$){return M.RE(k,j=>{$(this._create(j))})}onPointerMoveThrottled(k,$,j,G){return M.Y_(k,"pointermove",$,(de,fe)=>j(de,this._create(fe)),G)}}class z extends E.JT{constructor(k){super(),this._editorViewDomNode=k,this._globalMouseMoveMonitor=this._register(new g.Z),this._keydownListener=null}startMonitoring(k,$,j,G,oe){this._keydownListener=M.mu(document,"keydown",fe=>{fe.toKeybinding().isModifierKey()||this._globalMouseMoveMonitor.stopMonitoring(!0,fe.browserEvent)},!0),this._globalMouseMoveMonitor.startMonitoring(k,$,(fe,pe)=>j(fe,new L(pe,this._editorViewDomNode)),G,fe=>{this._keydownListener.dispose(),oe(fe)})}stopMonitoring(){this._globalMouseMoveMonitor.stopMonitoring(!0)}}let D=(()=>{class P{constructor($){this._editor=$,this._instanceId=++P._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new B.pY(()=>this.garbageCollect(),1e3)}createClassNameRef($){const j=this.getOrCreateRule($);return j.increaseRefCount(),{className:j.className,dispose:()=>{j.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule($){const j=this.computeUniqueKey($);let G=this._rules.get(j);if(!G){const oe=this._counter++;G=new I(j,`dyn-rule-${this._instanceId}-${oe}`,M.OO(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,$),this._rules.set(j,G)}return G}computeUniqueKey($){return JSON.stringify($)}garbageCollect(){for(const $ of this._rules.values())$.hasReferences()||(this._rules.delete($.key),$.dispose())}}return P._idPool=0,P})();class I{constructor(k,$,j,G){this.key=k,this.className=$,this.properties=G,this._referenceCount=0,this._styleElement=M.dS(j),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(k,$){let j=`.${k} {`;for(const G in $){const oe=$[G];let de;de="object"==typeof oe?`var(${(0,i.QO2)(oe.id)})`:oe,j+=`\n\t${P=G,P.replace(/(^[A-Z])/,([k])=>k.toLowerCase()).replace(/([A-Z])/g,([k])=>`-${k.toLowerCase()}`)}: ${de};`}var P;return j+="\n}",j}dispose(){this._styleElement.remove()}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}},44346:(Be,Me,m)=>{m.d(Me,{mY:()=>z,AJ:()=>D,_l:()=>Z,R6:()=>P,jY:()=>k,sb:()=>$,fK:()=>j,Qr:()=>G,rn:()=>oe,QG:()=>de,_K:()=>fe,Uc:()=>pe,n_:()=>q,kz:()=>le,Sq:()=>ee});var pe,X,M=m(12918),g=m(85459),Y=m(57623),B=m(67947),E=m(39067),i=m(13591),O=m(46842),F=m(10467),T=m(6461),S=m(43569),C=m(22115),b=m(63779),L=m(87493),f=m(99770),N=m(2646);class z{constructor(re){this.id=re.id,this.precondition=re.precondition,this._kbOpts=re.kbOpts,this._menuOpts=re.menuOpts,this._description=re.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const re=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const ce of re){let ve=ce.kbExpr;this.precondition&&(ve=ve?T.Ao.and(ve,this.precondition):this.precondition),C.W.registerKeybindingRule({id:this.id,weight:ce.weight,args:ce.args,when:ve,primary:ce.primary,secondary:ce.secondary,win:ce.win,linux:ce.linux,mac:ce.mac})}}F.P0.registerCommand({id:this.id,handler:(re,ce)=>this.runCommand(re,ce),description:this._description})}_registerMenuItem(re){O.BH.appendMenuItem(re.menuId,{group:re.group,command:{id:this.id,title:re.title,icon:re.icon,precondition:this.precondition},when:re.when,order:re.order})}}class D extends z{constructor(){super(...arguments),this._implementations=[]}addImplementation(re,ce,ve){return this._implementations.push({priority:re,name:ce,implementation:ve}),this._implementations.sort((ke,Ve)=>Ve.priority-ke.priority),{dispose:()=>{for(let ke=0;ke<this._implementations.length;ke++)if(this._implementations[ke].implementation===ve)return void this._implementations.splice(ke,1)}}}runCommand(re,ce){const ve=re.get(N.VZ);ve.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const ke of this._implementations){const Ve=ke.implementation(re,ce);if(Ve)return ve.trace(`Command '${this.id}' was handled by '${ke.name}'.`),"boolean"==typeof Ve?void 0:Ve}ve.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class I extends z{constructor(re,ce){super(ce),this.command=re}runCommand(re,ce){return this.command.runCommand(re,ce)}}class Z extends z{static bindToContribution(re){return class extends Z{constructor(ve){super(ve),this._callback=ve.handler}runEditorCommand(ve,ke,Ve){const Ue=re(ke);Ue&&this._callback(Ue,Ve)}}}runCommand(re,ce){const ve=re.get(Y.$),ke=ve.getFocusedCodeEditor()||ve.getActiveCodeEditor();if(ke)return ke.invokeWithinContext(Ve=>{if(Ve.get(T.i6).contextMatchesRules((0,f.f6)(this.precondition)))return this.runEditorCommand(Ve,ke,ce)})}}class P extends Z{constructor(re){super(P.convertOptions(re)),this.label=re.label,this.alias=re.alias}static convertOptions(re){let ce;function ve(ke){return ke.menuId||(ke.menuId=O.eH.EditorContext),ke.title||(ke.title=re.label),ke.when=T.Ao.and(re.precondition,ke.when),ke}return ce=Array.isArray(re.menuOpts)?re.menuOpts:re.menuOpts?[re.menuOpts]:[],Array.isArray(re.contextMenuOpts)?ce.push(...re.contextMenuOpts.map(ve)):re.contextMenuOpts&&ce.push(ve(re.contextMenuOpts)),re.menuOpts=ce,re}runEditorCommand(re,ce,ve){return this.reportTelemetry(re,ce),this.run(re,ce,ve||{})}reportTelemetry(re,ce){re.get(L.b).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class k extends P{constructor(){super(...arguments),this._implementations=[]}addImplementation(re,ce){return this._implementations.push([re,ce]),this._implementations.sort((ve,ke)=>ke[0]-ve[0]),{dispose:()=>{for(let ve=0;ve<this._implementations.length;ve++)if(this._implementations[ve][1]===ce)return void this._implementations.splice(ve,1)}}}run(re,ce,ve){for(const ke of this._implementations){const Ve=ke[1](re,ce,ve);if(Ve)return"boolean"==typeof Ve?void 0:Ve}}}function $(X,re){F.P0.registerCommand(X,function(ce,...ve){const ke=ce.get(S.TG),[Ve,Ue]=ve;(0,f.p_)(g.o.isUri(Ve)),(0,f.p_)(B.L.isIPosition(Ue));const ue=ce.get(E.q).getModel(Ve);if(ue){const _e=B.L.lift(Ue);return ke.invokeFunction(re,ue,_e,...ve.slice(2))}return ce.get(i.S).createModelReference(Ve).then(_e=>new Promise((Re,et)=>{try{Re(ke.invokeFunction(re,_e.object.textEditorModel,B.L.lift(Ue),ve.slice(2)))}catch(Ze){et(Ze)}}).finally(()=>{_e.dispose()}))})}function j(X){return ge.INSTANCE.registerEditorCommand(X),X}function G(X){const re=new X;return ge.INSTANCE.registerEditorAction(re),re}function oe(X){return ge.INSTANCE.registerEditorAction(X),X}function de(X){ge.INSTANCE.registerEditorAction(X)}function fe(X,re){ge.INSTANCE.registerEditorContribution(X,re)}(X=pe||(pe={})).getEditorCommand=function(Ue){return ge.INSTANCE.getEditorCommand(Ue)},X.getEditorActions=function(){return ge.INSTANCE.getEditorActions()},X.getEditorContributions=function(){return ge.INSTANCE.getEditorContributions()},X.getSomeEditorContributions=function(Ue){return ge.INSTANCE.getEditorContributions().filter(ue=>Ue.indexOf(ue.id)>=0)},X.getDiffEditorContributions=function(){return ge.INSTANCE.getDiffEditorContributions()};class ge{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(re,ce){this.editorContributions.push({id:re,ctor:ce})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(re){re.register(),this.editorActions.push(re)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(re){re.register(),this.editorCommands[re.id]=re}getEditorCommand(re){return this.editorCommands[re]||null}}function Q(X){return X.register(),X}ge.INSTANCE=new ge,b.B.add("editor.contributions",ge.INSTANCE);const q=Q(new D({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:O.eH.MenubarEditMenu,group:"1_do",title:M.N({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:O.eH.CommandPalette,group:"",title:M.N("undo","Undo"),order:1}]}));Q(new I(q,{id:"default:undo",precondition:void 0}));const le=Q(new D({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:O.eH.MenubarEditMenu,group:"1_do",title:M.N({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:O.eH.CommandPalette,group:"",title:M.N("redo","Redo"),order:1}]}));Q(new I(le,{id:"default:redo",precondition:void 0}));const ee=Q(new D({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:O.eH.MenubarSelectionMenu,group:"1_basic",title:M.N({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:O.eH.CommandPalette,group:"",title:M.N("selectAll","Select All"),order:1}]}))},48882:(Be,Me,m)=>{m.d(Me,{vu:()=>B,fo:()=>O,Gl:()=>F});var M=m(43569),g=m(85459),Y=m(99770);const B=(0,M.yh)("IWorkspaceEditService");class O{constructor(C){this.metadata=C}static convert(C){return C.edits.map(b=>{if((0,Y.Kn)(S=b)&&g.o.isUri(S.resource)&&(0,Y.Kn)(S.edit))return new F(b.resource,b.edit,b.modelVersionId,b.metadata);var S;if(function(S){return(0,Y.Kn)(S)&&(Boolean(S.newUri)||Boolean(S.oldUri))}(b))return new T(b.oldUri,b.newUri,b.options,b.metadata);throw new Error("Unsupported edit")})}}class F extends O{constructor(C,b,L,f){super(f),this.resource=C,this.textEdit=b,this.versionId=L}}class T extends O{constructor(C,b,L,f){super(f),this.oldResource=C,this.newResource=b,this.options=L}}},57623:(Be,Me,m)=>{m.d(Me,{$:()=>g});const g=(0,m(43569).yh)("codeEditorService")},78622:(Be,Me,m)=>{m.d(Me,{Z:()=>M});class M{constructor(Y,B,E){this._visiblePosition=Y,this._visiblePositionScrollDelta=B,this._cursorPosition=E}static capture(Y){let B=null,E=0;if(0!==Y.getScrollTop()){const i=Y.getVisibleRanges();if(i.length>0){B=i[0].getStartPosition();const O=Y.getTopForPosition(B.lineNumber,B.column);E=Y.getScrollTop()-O}}return new M(B,E,Y.getPosition())}restore(Y){if(this._visiblePosition){const B=Y.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);Y.setScrollTop(B+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(Y){const B=Y.getPosition();if(!this._cursorPosition||!B)return;const E=Y.getTopForLineNumber(B.lineNumber)-Y.getTopForLineNumber(this._cursorPosition.lineNumber);Y.setScrollTop(Y.getScrollTop()+E)}}},17703:(Be,Me,m)=>{m.d(Me,{Gm:()=>la});var M=m(64757),g=m(44346);let E=class{constructor(r,c){}dispose(){}};var r;E.ID="editor.contrib.markerDecorations",E=function(Te,r,c,_){var ie,y=arguments.length,A=y<3?r:null===_?_=Object.getOwnPropertyDescriptor(r,c):_;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)A=Reflect.decorate(Te,r,c,_);else for(var he=Te.length-1;he>=0;he--)(ie=Te[he])&&(A=(y<3?ie(A):y>3?ie(r,c,A):ie(r,c))||A);return y>3&&A&&Object.defineProperty(r,c,A),A}([(1,r=M.i,function(c,_){r(c,_,1)})],E),(0,g._K)(E.ID,E),m(94965);var O=m(12918),F=m(86678),T=m(13226),S=m(71040),C=m(40189),b=m(98318),L=m(47306),f=m(89822),N=m(60842),z=m(70700),D=m(1607),I=m(12710),Z=m(81530),k=m(93002),$=m(52925),j=m(86627),G=m(11358),oe=m(13976);let pe=class extends C.JT{constructor(r,c,_,y){super(),this._accessibilityService=y,this._onDidChange=this._register(new S.Q5),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new S.Q5),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._computeOptionsMemory=new $.LJ,this.isSimpleWidget=r,this._containerObserver=this._register(new D.I(_,c.dimension)),this._rawOptions=ee(c),this._validatedOptions=le.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(10)&&this._containerObserver.startObserving(),this._register(j.C.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(k.n.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(I.g.onDidChange(()=>this._recomputeOptions())),this._register(L.PixelRatio.onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const r=this._computeOptions(),c=le.checkEquals(this.options,r);null!==c&&(this.options=r,this._onDidChangeFast.fire(c),this._onDidChange.fire(c))}_computeOptions(){const r=this._readEnvConfiguration(),c=G.E4.createFromValidatedSettings(this._validatedOptions,r.pixelRatio,this.isSimpleWidget),_=this._readFontInfo(c),y={memory:this._computeOptionsMemory,outerWidth:r.outerWidth,outerHeight:r.outerHeight-this._reservedHeight,fontInfo:_,extraEditorClassName:r.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:r.emptySelectionClipboard,pixelRatio:r.pixelRatio,tabFocusMode:k.n.getTabFocusMode(),accessibilitySupport:r.accessibilitySupport};return le.computeOptions(this._validatedOptions,y)}_readEnvConfiguration(){return{extraEditorClassName:ge(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:L.isWebKit||L.isFirefox,pixelRatio:L.PixelRatio.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(r){return I.g.readFontInfo(r)}getRawOptions(){return this._rawOptions}updateOptions(r){const c=ee(r);!le.applyUpdate(this._rawOptions,c)||(this._validatedOptions=le.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(r){this._containerObserver.observe(r)}setIsDominatedByLongLines(r){this._isDominatedByLongLines!==r&&(this._isDominatedByLongLines=r,this._recomputeOptions())}setModelLineCount(r){const c=function(Te){let r=0;for(;Te;)Te=Math.floor(Te/10),r++;return r||1}(r);this._lineNumbersDigitCount!==c&&(this._lineNumbersDigitCount=c,this._recomputeOptions())}setViewLineCount(r){this._viewLineCount!==r&&(this._viewLineCount=r,this._recomputeOptions())}setReservedHeight(r){this._reservedHeight!==r&&(this._reservedHeight=r,this._recomputeOptions())}};function ge(){let Te="";return!L.isSafari&&!L.isWebkitWebView&&(Te+="no-user-select "),L.isSafari&&(Te+="no-minimap-shadow "),z.dz&&(Te+="mac "),Te}pe=function(Te,r,c,_){var ie,y=arguments.length,A=y<3?r:null===_?_=Object.getOwnPropertyDescriptor(r,c):_;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)A=Reflect.decorate(Te,r,c,_);else for(var he=Te.length-1;he>=0;he--)(ie=Te[he])&&(A=(y<3?ie(A):y>3?ie(r,c,A):ie(r,c))||A);return y>3&&A&&Object.defineProperty(r,c,A),A}([function(Te,r){return function(c,_){r(c,_,3)}}(0,oe.F)],pe);class Q{constructor(){this._values=[]}_read(r){return this._values[r]}get(r){return this._values[r]}_write(r,c){this._values[r]=c}}class q{constructor(){this._values=[]}_read(r){if(r>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[r]}get(r){return this._read(r)}_write(r,c){this._values[r]=c}}class le{static validateOptions(r){const c=new Q;for(const _ of $.Bc)c._write(_.id,_.validate("_never_"===_.name?void 0:r[_.name]));return c}static computeOptions(r,c){const _=new q;for(const y of $.Bc)_._write(y.id,y.compute(c,_,r._read(y.id)));return _}static _deepEquals(r,c){if("object"!=typeof r||"object"!=typeof c||!r||!c)return r===c;if(Array.isArray(r)||Array.isArray(c))return!(!Array.isArray(r)||!Array.isArray(c))&&f.fS(r,c);if(Object.keys(r).length!==Object.keys(c).length)return!1;for(const _ in r)if(!le._deepEquals(r[_],c[_]))return!1;return!0}static checkEquals(r,c){const _=[];let y=!1;for(const A of $.Bc){const ie=!le._deepEquals(r._read(A.id),c._read(A.id));_[A.id]=ie,ie&&(y=!0)}return y?new $.Bb(_):null}static applyUpdate(r,c){let _=!1;for(const y of $.Bc)if(c.hasOwnProperty(y.name)){const A=y.applyUpdate(r[y.name],c[y.name]);r[y.name]=A.newValue,_=_||A.didChange}return _}}function ee(Te){const r=N.I8(Te);return function(Te){const r=Te.wordWrap;!0===r?Te.wordWrap="on":!1===r&&(Te.wordWrap="off");const c=Te.lineNumbers;!0===c?Te.lineNumbers="on":!1===c&&(Te.lineNumbers="off"),!1===Te.autoClosingBrackets&&(Te.autoClosingBrackets="never",Te.autoClosingQuotes="never",Te.autoSurround="never"),"visible"===Te.cursorBlinking&&(Te.cursorBlinking="solid");const A=Te.renderWhitespace;!0===A?Te.renderWhitespace="boundary":!1===A&&(Te.renderWhitespace="none");const ie=Te.renderLineHighlight;!0===ie?Te.renderLineHighlight="line":!1===ie&&(Te.renderLineHighlight="none");const he=Te.acceptSuggestionOnEnter;!0===he?Te.acceptSuggestionOnEnter="on":!1===he&&(Te.acceptSuggestionOnEnter="off");const ye=Te.tabCompletion;!1===ye?Te.tabCompletion="off":!0===ye&&(Te.tabCompletion="onlySnippets");const Le=Te.suggest;Le&&"object"==typeof Le.filteredTypes&&Le.filteredTypes&&(0,Z.E)({method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"},tn=>{const ln=Le.filteredTypes[tn.key];!1===ln&&(Le[tn.value]=ln)});const Ie=Te.hover;!0===Ie?Te.hover={enabled:!0}:!1===Ie&&(Te.hover={enabled:!1});const ze=Te.parameterHints;!0===ze?Te.parameterHints={enabled:!0}:!1===ze&&(Te.parameterHints={enabled:!1});const qe=Te.autoIndent;!0===qe?Te.autoIndent="full":!1===qe&&(Te.autoIndent="advanced");const ot=Te.matchBrackets;!0===ot?Te.matchBrackets="always":!1===ot&&(Te.matchBrackets="never");const{renderIndentGuides:bt,highlightActiveIndentGuide:xt}=Te;Te.guides||(Te.guides={}),void 0!==bt&&(Te.guides.indentation=!!bt),void 0!==xt&&(Te.guides.highlightActiveIndentation=!!xt)}(r),r}var X=m(57623),re=m(60745),ce=m(81718),ve=m(23945),ke=m(2886),Ve=m(89983),Ue=m(96132);class ue extends C.JT{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(r){return!1}onCompositionEnd(r){return!1}onConfigurationChanged(r){return!1}onCursorStateChanged(r){return!1}onDecorationsChanged(r){return!1}onFlushed(r){return!1}onFocusChanged(r){return!1}onLanguageConfigurationChanged(r){return!1}onLineMappingChanged(r){return!1}onLinesChanged(r){return!1}onLinesDeleted(r){return!1}onLinesInserted(r){return!1}onRevealRangeRequest(r){return!1}onScrollChanged(r){return!1}onThemeChanged(r){return!1}onTokensChanged(r){return!1}onTokensColorsChanged(r){return!1}onZonesChanged(r){return!1}handleEvents(r){let c=!1;for(let _=0,y=r.length;_<y;_++){const A=r[_];switch(A.type){case 0:this.onCompositionStart(A)&&(c=!0);break;case 1:this.onCompositionEnd(A)&&(c=!0);break;case 2:this.onConfigurationChanged(A)&&(c=!0);break;case 3:this.onCursorStateChanged(A)&&(c=!0);break;case 4:this.onDecorationsChanged(A)&&(c=!0);break;case 5:this.onFlushed(A)&&(c=!0);break;case 6:this.onFocusChanged(A)&&(c=!0);break;case 7:this.onLanguageConfigurationChanged(A)&&(c=!0);break;case 8:this.onLineMappingChanged(A)&&(c=!0);break;case 9:this.onLinesChanged(A)&&(c=!0);break;case 10:this.onLinesDeleted(A)&&(c=!0);break;case 11:this.onLinesInserted(A)&&(c=!0);break;case 12:this.onRevealRangeRequest(A)&&(c=!0);break;case 13:this.onScrollChanged(A)&&(c=!0);break;case 15:this.onTokensChanged(A)&&(c=!0);break;case 14:this.onThemeChanged(A)&&(c=!0);break;case 16:this.onTokensColorsChanged(A)&&(c=!0);break;case 17:this.onZonesChanged(A)&&(c=!0);break;default:console.info("View received unknown event: "),console.info(A)}}c&&(this._shouldRender=!0)}}class _e extends ue{constructor(r){super(),this._context=r,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class Re{static write(r,c){r.setAttribute("data-mprt",String(c))}static read(r){const c=r.getAttribute("data-mprt");return null===c?0:parseInt(c,10)}static collect(r,c){const _=[];let y=0;for(;r&&r!==document.body&&r!==c;)r.nodeType===r.ELEMENT_NODE&&(_[y++]=this.read(r)),r=r.parentElement;const A=new Uint8Array(y);for(let ie=0;ie<y;ie++)A[ie]=_[y-ie-1];return A}}class Ze extends class{constructor(r,c){this._restrictedRenderingContextBrand=void 0,this._viewLayout=r,this.viewportData=c,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const _=this._viewLayout.getCurrentViewport();this.scrollTop=_.top,this.scrollLeft=_.left,this.viewportWidth=_.width,this.viewportHeight=_.height}getScrolledTopFromAbsoluteTop(r){return r-this.scrollTop}getVerticalOffsetForLineNumber(r){return this._viewLayout.getVerticalOffsetForLineNumber(r)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}{constructor(r,c,_){super(r,c),this._renderingContextBrand=void 0,this._viewLines=_}linesVisibleRangesForRange(r,c){return this._viewLines.linesVisibleRangesForRange(r,c)}visibleRangeForPosition(r){return this._viewLines.visibleRangeForPosition(r)}}class Pe{constructor(r,c,_){this.outsideRenderedLine=r,this.lineNumber=c,this.ranges=_}}class rt{constructor(r,c){this._horizontalRangeBrand=void 0,this.left=Math.round(r),this.width=Math.round(c)}static from(r){const c=new Array(r.length);for(let _=0,y=r.length;_<y;_++){const A=r[_];c[_]=new rt(A.left,A.width)}return c}toString(){return`[${this.left},${this.width}]`}}class ut{constructor(r,c){this._floatHorizontalRangeBrand=void 0,this.left=r,this.width=c}toString(){return`[${this.left},${this.width}]`}static compare(r,c){return r.left-c.left}}class nt{constructor(r,c){this.outsideRenderedLine=r,this.originalLeft=c,this.left=Math.round(this.originalLeft)}}class Se{constructor(r,c){this.outsideRenderedLine=r,this.ranges=c}}class Ne{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(r,c){r.selectNodeContents(c)}static _readClientRects(r,c,_,y,A){const ie=this._createRange();try{return ie.setStart(r,c),ie.setEnd(_,y),ie.getClientRects()}catch{return null}finally{this._detachRange(ie,A)}}static _mergeAdjacentRanges(r){if(1===r.length)return r;r.sort(ut.compare);const c=[];let _=0,y=r[0];for(let A=1,ie=r.length;A<ie;A++){const he=r[A];y.left+y.width+.9>=he.left?y.width=Math.max(y.width,he.left+he.width-y.left):(c[_++]=y,y=he)}return c[_++]=y,c}static _createHorizontalRangesFromClientRects(r,c,_){if(!r||0===r.length)return null;const y=[];for(let A=0,ie=r.length;A<ie;A++){const he=r[A];y[A]=new ut(Math.max(0,(he.left-c)/_),he.width/_)}return this._mergeAdjacentRanges(y)}static readHorizontalRanges(r,c,_,y,A,ie,he,ye){const Ie=r.children.length-1;if(0>Ie)return null;if((c=Math.min(Ie,Math.max(0,c)))===(y=Math.min(Ie,Math.max(0,y)))&&_===A&&0===_&&!r.children[c].firstChild){const bt=r.children[c].getClientRects();return this._createHorizontalRangesFromClientRects(bt,ie,he)}c!==y&&y>0&&0===A&&(y--,A=1073741824);let ze=r.children[c].firstChild,qe=r.children[y].firstChild;if((!ze||!qe)&&(!ze&&0===_&&c>0&&(ze=r.children[c-1].firstChild,_=1073741824),!qe&&0===A&&y>0&&(qe=r.children[y-1].firstChild,A=1073741824)),!ze||!qe)return null;_=Math.min(ze.textContent.length,Math.max(0,_)),A=Math.min(qe.textContent.length,Math.max(0,A));const ot=this._readClientRects(ze,_,qe,A,ye);return this._createHorizontalRangesFromClientRects(ot,ie,he)}}var at=m(82287),_t=m(19362),zt=m(76804);const pn=!!z.tY||!(z.IJ||L.isFirefox||L.isSafari);let mt=!0;class Rt{constructor(r,c){this._domNode=r,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1,this.endNode=c}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const r=this._domNode.getBoundingClientRect();this._clientRectDeltaLeft=r.left,this._clientRectScale=r.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}}class Bt{constructor(r,c){this.themeType=c;const _=r.options,y=_.get(44);this.renderWhitespace=_.get(88),this.renderControlCharacters=_.get(83),this.spaceWidth=y.spaceWidth,this.middotWidth=y.middotWidth,this.wsmiddotWidth=y.wsmiddotWidth,this.useMonospaceOptimizations=y.isMonospace&&!_.get(29),this.canUseHalfwidthRightwardsArrow=y.canUseHalfwidthRightwardsArrow,this.lineHeight=_.get(59),this.stopRenderingLineAfter=_.get(105),this.fontLigatures=_.get(45)}equals(r){return this.themeType===r.themeType&&this.renderWhitespace===r.renderWhitespace&&this.renderControlCharacters===r.renderControlCharacters&&this.spaceWidth===r.spaceWidth&&this.middotWidth===r.middotWidth&&this.wsmiddotWidth===r.wsmiddotWidth&&this.useMonospaceOptimizations===r.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===r.canUseHalfwidthRightwardsArrow&&this.lineHeight===r.lineHeight&&this.stopRenderingLineAfter===r.stopRenderingLineAfter&&this.fontLigatures===r.fontLigatures}}let Wt=(()=>{class Te{constructor(c){this._options=c,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(c){if(!this._renderedViewLine)throw new Error("I have no rendered view line to set the dom node to...");this._renderedViewLine.domNode=(0,ce.X)(c)}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(c){this._isMaybeInvalid=!0,this._options=c}onSelectionChanged(){return(this._options.themeType===zt.e.HIGH_CONTRAST||"selection"===this._options.renderWhitespace)&&(this._isMaybeInvalid=!0,!0)}renderLine(c,_,y,A){if(!1===this._isMaybeInvalid)return!1;this._isMaybeInvalid=!1;const ie=y.getViewLineRenderingData(c),he=this._options,ye=at.Kp.filter(ie.inlineDecorations,c,ie.minColumn,ie.maxColumn);let Le=null;if(he.themeType===zt.e.HIGH_CONTRAST||"selection"===this._options.renderWhitespace){const ot=y.selections;for(const bt of ot){if(bt.endLineNumber<c||bt.startLineNumber>c)continue;const xt=bt.startLineNumber===c?bt.startColumn:ie.minColumn,Nt=bt.endLineNumber===c?bt.endColumn:ie.maxColumn;xt<Nt&&(he.themeType===zt.e.HIGH_CONTRAST||"selection"!==this._options.renderWhitespace?ye.push(new at.Kp(xt,Nt,"inline-selected-text",0)):(Le||(Le=[]),Le.push(new _t.zG(xt-1,Nt-1))))}}const Ie=new _t.IJ(he.useMonospaceOptimizations,he.canUseHalfwidthRightwardsArrow,ie.content,ie.continuesWithWrappedLine,ie.isBasicASCII,ie.containsRTL,ie.minColumn-1,ie.tokens,ye,ie.tabSize,ie.startVisibleColumn,he.spaceWidth,he.middotWidth,he.wsmiddotWidth,he.stopRenderingLineAfter,he.renderWhitespace,he.renderControlCharacters,he.fontLigatures!==$.n0.OFF,Le);if(this._renderedViewLine&&this._renderedViewLine.input.equals(Ie))return!1;A.appendASCIIString('<div style="top:'),A.appendASCIIString(String(_)),A.appendASCIIString("px;height:"),A.appendASCIIString(String(this._options.lineHeight)),A.appendASCIIString('px;" class="'),A.appendASCIIString(Te.CLASS_NAME),A.appendASCIIString('">');const ze=(0,_t.d1)(Ie,A);A.appendASCIIString("</div>");let qe=null;return mt&&pn&&ie.isBasicASCII&&he.useMonospaceOptimizations&&0===ze.containsForeignElements&&ie.content.length<300&&Ie.lineTokens.getCount()<100&&(qe=new fn(this._renderedViewLine?this._renderedViewLine.domNode:null,Ie,ze.characterMapping)),qe||(qe=St(this._renderedViewLine?this._renderedViewLine.domNode:null,Ie,ze.characterMapping,ze.containsRTL,ze.containsForeignElements)),this._renderedViewLine=qe,!0}layoutLine(c,_){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(_),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return!this._renderedViewLine||this._renderedViewLine.getWidthIsFast()}needsMonospaceFontCheck(){return!!this._renderedViewLine&&this._renderedViewLine instanceof fn}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof fn?this._renderedViewLine.monospaceAssumptionsAreValid():mt}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof fn&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(c,_,y,A){if(!this._renderedViewLine)return null;_=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,_)),y=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,y));const ie=this._renderedViewLine.input.stopRenderingLineAfter;let he=!1;-1!==ie&&_>ie+1&&y>ie+1&&(he=!0),-1!==ie&&_>ie+1&&(_=ie+1),-1!==ie&&y>ie+1&&(y=ie+1);const ye=this._renderedViewLine.getVisibleRangesForRange(c,_,y,A);return ye&&ye.length>0?new Se(he,ye):null}getColumnOfNodeOffset(c,_,y){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(c,_,y):1}}return Te.CLASS_NAME="view-line",Te})();class fn{constructor(r,c,_){this.domNode=r,this.input=c,this._characterMapping=_,this._charWidth=c.spaceWidth}getWidth(){return Math.round(this._getCharPosition(this._characterMapping.length))}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return mt;const r=this.getWidth();return Math.abs(r-this.domNode.domNode.firstChild.offsetWidth)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),mt=!1),mt}toSlowRenderedLine(){return St(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(r,c,_,y){const A=this._getCharPosition(c),ie=this._getCharPosition(_);return[new ut(A,ie-A)]}_getCharPosition(r){const c=this._characterMapping.getAbsoluteOffset(r);return this._charWidth*c}getColumnOfNodeOffset(r,c,_){const y=c.textContent.length;let A=-1;for(;c;)c=c.previousSibling,A++;return this._characterMapping.getColumn(new _t.Nd(A,_),y)}}class Ye{constructor(r,c,_,y,A){if(this.domNode=r,this.input=c,this._characterMapping=_,this._isWhitespaceOnly=/^\s*$/.test(c.lineContent),this._containsForeignElements=A,this._cachedWidth=-1,this._pixelOffsetCache=null,!y||0===this._characterMapping.length){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let ie=0,he=this._characterMapping.length;ie<=he;ie++)this._pixelOffsetCache[ie]=-1}}_getReadingTarget(r){return r.domNode.firstChild}getWidth(){return this.domNode?(-1===this._cachedWidth&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return-1!==this._cachedWidth}getVisibleRangesForRange(r,c,_,y){if(!this.domNode)return null;if(null!==this._pixelOffsetCache){const A=this._readPixelOffset(this.domNode,r,c,y);if(-1===A)return null;const ie=this._readPixelOffset(this.domNode,r,_,y);return-1===ie?null:[new ut(A,ie-A)]}return this._readVisibleRangesForRange(this.domNode,r,c,_,y)}_readVisibleRangesForRange(r,c,_,y,A){if(_===y){const ie=this._readPixelOffset(r,c,_,A);return-1===ie?null:[new ut(ie,0)]}return this._readRawVisibleRangesForRange(r,_,y,A)}_readPixelOffset(r,c,_,y){if(0===this._characterMapping.length){if(0===this._containsForeignElements||2===this._containsForeignElements)return 0;if(1===this._containsForeignElements)return this.getWidth();const A=this._getReadingTarget(r);return A.firstChild?A.firstChild.offsetWidth:0}if(null!==this._pixelOffsetCache){const A=this._pixelOffsetCache[_];if(-1!==A)return A;const ie=this._actualReadPixelOffset(r,c,_,y);return this._pixelOffsetCache[_]=ie,ie}return this._actualReadPixelOffset(r,c,_,y)}_actualReadPixelOffset(r,c,_,y){if(0===this._characterMapping.length){const ye=Ne.readHorizontalRanges(this._getReadingTarget(r),0,0,0,0,y.clientRectDeltaLeft,y.clientRectScale,y.endNode);return ye&&0!==ye.length?ye[0].left:-1}if(_===this._characterMapping.length&&this._isWhitespaceOnly&&0===this._containsForeignElements)return this.getWidth();const A=this._characterMapping.getDomPosition(_),ie=Ne.readHorizontalRanges(this._getReadingTarget(r),A.partIndex,A.charIndex,A.partIndex,A.charIndex,y.clientRectDeltaLeft,y.clientRectScale,y.endNode);if(!ie||0===ie.length)return-1;const he=ie[0].left;if(this.input.isBasicASCII){const ye=this._characterMapping.getAbsoluteOffset(_),Le=Math.round(this.input.spaceWidth*ye);if(Math.abs(Le-he)<=1)return Le}return he}_readRawVisibleRangesForRange(r,c,_,y){if(1===c&&_===this._characterMapping.length)return[new ut(0,this.getWidth())];const A=this._characterMapping.getDomPosition(c),ie=this._characterMapping.getDomPosition(_);return Ne.readHorizontalRanges(this._getReadingTarget(r),A.partIndex,A.charIndex,ie.partIndex,ie.charIndex,y.clientRectDeltaLeft,y.clientRectScale,y.endNode)}getColumnOfNodeOffset(r,c,_){const y=c.textContent.length;let A=-1;for(;c;)c=c.previousSibling,A++;return this._characterMapping.getColumn(new _t.Nd(A,_),y)}}class Dt extends Ye{_readVisibleRangesForRange(r,c,_,y,A){const ie=super._readVisibleRangesForRange(r,c,_,y,A);if(!ie||0===ie.length||_===y||1===_&&y===this._characterMapping.length)return ie;if(!this.input.containsRTL){const he=this._readPixelOffset(r,c,y,A);if(-1!==he){const ye=ie[ie.length-1];ye.left<he&&(ye.width=he-ye.left)}}return ie}}const St=L.isWebKit?function(Te,r,c,_,y){return new Dt(Te,r,c,_,y)}:function(Te,r,c,_,y){return new Ye(Te,r,c,_,y)};var Yt,sn=m(67947),hn=m(1873),_n=m(90784),cn=m(56660);class At{constructor(r=null){this.hitTarget=r,this.type=0}}class Ei{constructor(r,c,_){this.position=r,this.spanNode=c,this.injectedText=_,this.type=1}}!function(Te){Te.createFromDOMInfo=function(c,_,y){const A=c.getPositionFromDOMInfo(_,y);return A?new Ei(A,_,null):new At(_)}}(Yt||(Yt={}));class He{constructor(r,c){this.lastViewCursorsRenderData=r,this.lastTextareaPosition=c}}class $e{static _deduceRage(r,c=null){return!c&&r?new hn.e(r.lineNumber,r.column,r.lineNumber,r.column):c??null}static createUnknown(r,c,_){return{type:0,element:r,mouseColumn:c,position:_,range:this._deduceRage(_)}}static createTextarea(r,c){return{type:1,element:r,mouseColumn:c,position:null,range:null}}static createMargin(r,c,_,y,A,ie){return{type:r,element:c,mouseColumn:_,position:y,range:A,detail:ie}}static createViewZone(r,c,_,y,A){return{type:r,element:c,mouseColumn:_,position:y,range:this._deduceRage(y),detail:A}}static createContentText(r,c,_,y,A){return{type:6,element:r,mouseColumn:c,position:_,range:this._deduceRage(_,y),detail:A}}static createContentEmpty(r,c,_,y){return{type:7,element:r,mouseColumn:c,position:_,range:this._deduceRage(_),detail:y}}static createContentWidget(r,c,_){return{type:9,element:r,mouseColumn:c,position:null,range:null,detail:_}}static createScrollbar(r,c,_){return{type:11,element:r,mouseColumn:c,position:_,range:this._deduceRage(_)}}static createOverlayWidget(r,c,_){return{type:12,element:r,mouseColumn:c,position:null,range:null,detail:_}}static createOutsideEditor(r,c){return{type:13,element:null,mouseColumn:r,position:c,range:this._deduceRage(c)}}static _typeToString(r){return 1===r?"TEXTAREA":2===r?"GUTTER_GLYPH_MARGIN":3===r?"GUTTER_LINE_NUMBERS":4===r?"GUTTER_LINE_DECORATIONS":5===r?"GUTTER_VIEW_ZONE":6===r?"CONTENT_TEXT":7===r?"CONTENT_EMPTY":8===r?"CONTENT_VIEW_ZONE":9===r?"CONTENT_WIDGET":10===r?"OVERVIEW_RULER":11===r?"SCROLLBAR":12===r?"OVERLAY_WIDGET":"UNKNOWN"}static toString(r){return this._typeToString(r.type)+": "+r.position+" - "+r.range+" - "+JSON.stringify(r.detail)}}class qt{static isTextArea(r){return 2===r.length&&3===r[0]&&6===r[1]}static isChildOfViewLines(r){return r.length>=4&&3===r[0]&&7===r[3]}static isStrictChildOfViewLines(r){return r.length>4&&3===r[0]&&7===r[3]}static isChildOfScrollableElement(r){return r.length>=2&&3===r[0]&&5===r[1]}static isChildOfMinimap(r){return r.length>=2&&3===r[0]&&8===r[1]}static isChildOfContentWidgets(r){return r.length>=4&&3===r[0]&&1===r[3]}static isChildOfOverflowingContentWidgets(r){return r.length>=1&&2===r[0]}static isChildOfOverlayWidgets(r){return r.length>=2&&3===r[0]&&4===r[1]}}class mn{constructor(r,c,_){this.viewModel=r.viewModel;const y=r.configuration.options;this.layoutInfo=y.get(131),this.viewDomNode=c.viewDomNode,this.lineHeight=y.get(59),this.stickyTabStops=y.get(104),this.typicalHalfwidthCharacterWidth=y.get(44).typicalHalfwidthCharacterWidth,this.lastRenderData=_,this._context=r,this._viewHelper=c}getZoneAtCoord(r){return mn.getZoneAtCoord(this._context,r)}static getZoneAtCoord(r,c){const _=r.viewLayout.getWhitespaceAtVerticalOffset(c);if(_){const y=_.verticalOffset+_.height/2,A=r.viewModel.getLineCount();let he,ie=null,ye=null;return _.afterLineNumber!==A&&(ye=new sn.L(_.afterLineNumber+1,1)),_.afterLineNumber>0&&(ie=new sn.L(_.afterLineNumber,r.viewModel.getLineMaxColumn(_.afterLineNumber))),he=null===ye?ie:null===ie?ye:c<y?ie:ye,{viewZoneId:_.id,afterLineNumber:_.afterLineNumber,positionBefore:ie,positionAfter:ye,position:he}}return null}getFullLineRangeAtCoord(r){if(this._context.viewLayout.isAfterLines(r)){const y=this._context.viewModel.getLineCount(),A=this._context.viewModel.getLineMaxColumn(y);return{range:new hn.e(y,A,y,A),isAfterLines:!0}}const c=this._context.viewLayout.getLineNumberAtVerticalOffset(r),_=this._context.viewModel.getLineMaxColumn(c);return{range:new hn.e(c,1,c,_),isAfterLines:!1}}getLineNumberAtVerticalOffset(r){return this._context.viewLayout.getLineNumberAtVerticalOffset(r)}isAfterLines(r){return this._context.viewLayout.isAfterLines(r)}isInTopPadding(r){return this._context.viewLayout.isInTopPadding(r)}isInBottomPadding(r){return this._context.viewLayout.isInBottomPadding(r)}getVerticalOffsetForLineNumber(r){return this._context.viewLayout.getVerticalOffsetForLineNumber(r)}findAttribute(r,c){return mn._findAttribute(r,c,this._viewHelper.viewDomNode)}static _findAttribute(r,c,_){for(;r&&r!==document.body;){if(r.hasAttribute&&r.hasAttribute(c))return r.getAttribute(c);if(r===_)return null;r=r.parentNode}return null}getLineWidth(r){return this._viewHelper.getLineWidth(r)}visibleRangeForPosition(r,c){return this._viewHelper.visibleRangeForPosition(r,c)}getPositionFromDOMInfo(r,c){return this._viewHelper.getPositionFromDOMInfo(r,c)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class fi extends class{constructor(r,c,_,y){this.editorPos=c,this.pos=_,this.relativePos=y,this.mouseVerticalOffset=Math.max(0,r.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=r.getCurrentScrollLeft()+this.relativePos.x-r.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<r.layoutInfo.contentLeft&&this.relativePos.x>=r.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,yi._getMouseColumn(this.mouseContentHorizontalOffset,r.typicalHalfwidthCharacterWidth))}}{constructor(r,c,_,y,A){super(r,c,_,y),this._ctx=r,A?(this.target=A,this.targetPath=Re.collect(A,r.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}\n\ttarget: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(r=null){return r&&r.column<this._ctx.viewModel.getLineMaxColumn(r.lineNumber)?_n.i.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(r.lineNumber),r.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(r=null){return $e.createUnknown(this.target,this._getMouseColumn(r),r)}fulfillTextarea(){return $e.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(r,c,_,y){return $e.createMargin(r,this.target,this._getMouseColumn(c),c,_,y)}fulfillViewZone(r,c,_){return $e.createViewZone(r,this.target,this._getMouseColumn(c),c,_)}fulfillContentText(r,c,_){return $e.createContentText(this.target,this._getMouseColumn(r),r,c,_)}fulfillContentEmpty(r,c){return $e.createContentEmpty(this.target,this._getMouseColumn(r),r,c)}fulfillContentWidget(r){return $e.createContentWidget(this.target,this._getMouseColumn(),r)}fulfillScrollbar(r){return $e.createScrollbar(this.target,this._getMouseColumn(r),r)}fulfillOverlayWidget(r){return $e.createOverlayWidget(this.target,this._getMouseColumn(),r)}withTarget(r){return new fi(this._ctx,this.editorPos,this.pos,this.relativePos,r)}}const wi={isAfterLines:!0};function Bi(Te){return{isAfterLines:!1,horizontalDistanceToText:Te}}class yi{constructor(r,c){this._context=r,this._viewHelper=c}mouseTargetIsWidget(r){const _=Re.collect(r.target,this._viewHelper.viewDomNode);return!!(qt.isChildOfContentWidgets(_)||qt.isChildOfOverflowingContentWidgets(_)||qt.isChildOfOverlayWidgets(_))}createMouseTarget(r,c,_,y,A){const ie=new mn(this._context,this._viewHelper,r),he=new fi(ie,c,_,y,A);try{return yi._createMouseTarget(ie,he,!1)}catch{return he.fulfillUnknown()}}static _createMouseTarget(r,c,_){if(null===c.target){if(_)return c.fulfillUnknown();const ie=yi._doHitTest(r,c);return 1===ie.type?yi.createMouseTargetFromHitTestPosition(r,c,ie.spanNode,ie.position,ie.injectedText):this._createMouseTarget(r,c.withTarget(ie.hitTarget),!0)}const y=c;let A=null;return A=A||yi._hitTestContentWidget(r,y),A=A||yi._hitTestOverlayWidget(r,y),A=A||yi._hitTestMinimap(r,y),A=A||yi._hitTestScrollbarSlider(r,y),A=A||yi._hitTestViewZone(r,y),A=A||yi._hitTestMargin(r,y),A=A||yi._hitTestViewCursor(r,y),A=A||yi._hitTestTextArea(r,y),A=A||yi._hitTestViewLines(r,y,_),A=A||yi._hitTestScrollbar(r,y),A||c.fulfillUnknown()}static _hitTestContentWidget(r,c){if(qt.isChildOfContentWidgets(c.targetPath)||qt.isChildOfOverflowingContentWidgets(c.targetPath)){const _=r.findAttribute(c.target,"widgetId");return _?c.fulfillContentWidget(_):c.fulfillUnknown()}return null}static _hitTestOverlayWidget(r,c){if(qt.isChildOfOverlayWidgets(c.targetPath)){const _=r.findAttribute(c.target,"widgetId");return _?c.fulfillOverlayWidget(_):c.fulfillUnknown()}return null}static _hitTestViewCursor(r,c){if(c.target){const _=r.lastRenderData.lastViewCursorsRenderData;for(const y of _)if(c.target===y.domNode)return c.fulfillContentText(y.position,null,{mightBeForeignElement:!1,injectedText:null})}if(c.isInContentArea){const _=r.lastRenderData.lastViewCursorsRenderData,y=c.mouseContentHorizontalOffset,A=c.mouseVerticalOffset;for(const ie of _){if(y<ie.contentLeft||y>ie.contentLeft+ie.width)continue;const he=r.getVerticalOffsetForLineNumber(ie.position.lineNumber);if(he<=A&&A<=he+ie.height)return c.fulfillContentText(ie.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(r,c){const _=r.getZoneAtCoord(c.mouseVerticalOffset);return _?c.fulfillViewZone(c.isInContentArea?8:5,_.position,_):null}static _hitTestTextArea(r,c){return qt.isTextArea(c.targetPath)?r.lastRenderData.lastTextareaPosition?c.fulfillContentText(r.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):c.fulfillTextarea():null}static _hitTestMargin(r,c){if(c.isInMarginArea){const _=r.getFullLineRangeAtCoord(c.mouseVerticalOffset),y=_.range.getStartPosition();let A=Math.abs(c.relativePos.x);const ie={isAfterLines:_.isAfterLines,glyphMarginLeft:r.layoutInfo.glyphMarginLeft,glyphMarginWidth:r.layoutInfo.glyphMarginWidth,lineNumbersWidth:r.layoutInfo.lineNumbersWidth,offsetX:A};return A-=r.layoutInfo.glyphMarginLeft,A<=r.layoutInfo.glyphMarginWidth?c.fulfillMargin(2,y,_.range,ie):(A-=r.layoutInfo.glyphMarginWidth,A<=r.layoutInfo.lineNumbersWidth?c.fulfillMargin(3,y,_.range,ie):(A-=r.layoutInfo.lineNumbersWidth,c.fulfillMargin(4,y,_.range,ie)))}return null}static _hitTestViewLines(r,c,_){if(!qt.isChildOfViewLines(c.targetPath))return null;if(r.isInTopPadding(c.mouseVerticalOffset))return c.fulfillContentEmpty(new sn.L(1,1),wi);if(r.isAfterLines(c.mouseVerticalOffset)||r.isInBottomPadding(c.mouseVerticalOffset)){const A=r.viewModel.getLineCount(),ie=r.viewModel.getLineMaxColumn(A);return c.fulfillContentEmpty(new sn.L(A,ie),wi)}if(_){if(qt.isStrictChildOfViewLines(c.targetPath)){const A=r.getLineNumberAtVerticalOffset(c.mouseVerticalOffset);if(0===r.viewModel.getLineLength(A)){const he=r.getLineWidth(A),ye=Bi(c.mouseContentHorizontalOffset-he);return c.fulfillContentEmpty(new sn.L(A,1),ye)}const ie=r.getLineWidth(A);if(c.mouseContentHorizontalOffset>=ie){const he=Bi(c.mouseContentHorizontalOffset-ie),ye=new sn.L(A,r.viewModel.getLineMaxColumn(A));return c.fulfillContentEmpty(ye,he)}}return c.fulfillUnknown()}const y=yi._doHitTest(r,c);return 1===y.type?yi.createMouseTargetFromHitTestPosition(r,c,y.spanNode,y.position,y.injectedText):this._createMouseTarget(r,c.withTarget(y.hitTarget),!0)}static _hitTestMinimap(r,c){if(qt.isChildOfMinimap(c.targetPath)){const _=r.getLineNumberAtVerticalOffset(c.mouseVerticalOffset),y=r.viewModel.getLineMaxColumn(_);return c.fulfillScrollbar(new sn.L(_,y))}return null}static _hitTestScrollbarSlider(r,c){if(qt.isChildOfScrollableElement(c.targetPath)&&c.target&&1===c.target.nodeType){const _=c.target.className;if(_&&/\b(slider|scrollbar)\b/.test(_)){const y=r.getLineNumberAtVerticalOffset(c.mouseVerticalOffset),A=r.viewModel.getLineMaxColumn(y);return c.fulfillScrollbar(new sn.L(y,A))}}return null}static _hitTestScrollbar(r,c){if(qt.isChildOfScrollableElement(c.targetPath)){const _=r.getLineNumberAtVerticalOffset(c.mouseVerticalOffset),y=r.viewModel.getLineMaxColumn(_);return c.fulfillScrollbar(new sn.L(_,y))}return null}getMouseColumn(r){const c=this._context.configuration.options,_=c.get(131),y=this._context.viewLayout.getCurrentScrollLeft()+r.x-_.contentLeft;return yi._getMouseColumn(y,c.get(44).typicalHalfwidthCharacterWidth)}static _getMouseColumn(r,c){return r<0?1:Math.round(r/c)+1}static createMouseTargetFromHitTestPosition(r,c,_,y,A){const ie=y.lineNumber,he=y.column,ye=r.getLineWidth(ie);if(c.mouseContentHorizontalOffset>ye){const Nt=Bi(c.mouseContentHorizontalOffset-ye);return c.fulfillContentEmpty(y,Nt)}const Le=r.visibleRangeForPosition(ie,he);if(!Le)return c.fulfillUnknown(y);if(c.mouseContentHorizontalOffset===Le.left)return c.fulfillContentText(y,null,{mightBeForeignElement:!!A,injectedText:A});const ze=[];if(ze.push({offset:Le.left,column:he}),he>1){const Nt=r.visibleRangeForPosition(ie,he-1);Nt&&ze.push({offset:Nt.left,column:he-1})}if(he<r.viewModel.getLineMaxColumn(ie)){const Nt=r.visibleRangeForPosition(ie,he+1);Nt&&ze.push({offset:Nt.left,column:he+1})}ze.sort((Nt,tn)=>Nt.offset-tn.offset);const ot=c.pos.toClientCoordinates(),bt=_.getBoundingClientRect(),xt=bt.left<=ot.clientX&&ot.clientX<=bt.right;for(let Nt=1;Nt<ze.length;Nt++){const tn=ze[Nt-1],ln=ze[Nt];if(tn.offset<=c.mouseContentHorizontalOffset&&c.mouseContentHorizontalOffset<=ln.offset){const $t=new hn.e(ie,tn.column,ie,ln.column);return c.fulfillContentText(y,$t,{mightBeForeignElement:!xt||!!A,injectedText:A})}}return c.fulfillContentText(y,null,{mightBeForeignElement:!xt||!!A,injectedText:A})}static _doHitTestWithCaretRangeFromPoint(r,c){const _=r.getLineNumberAtVerticalOffset(c.mouseVerticalOffset),A=r.getVerticalOffsetForLineNumber(_)+Math.floor(r.lineHeight/2);let ie=c.pos.y+(A-c.mouseVerticalOffset);ie<=c.editorPos.y&&(ie=c.editorPos.y+1),ie>=c.editorPos.y+c.editorPos.height&&(ie=c.editorPos.y+c.editorPos.height-1);const he=new Ue.YN(c.pos.x,ie),ye=this._actualDoHitTestWithCaretRangeFromPoint(r,he.toClientCoordinates());return 1===ye.type?ye:this._actualDoHitTestWithCaretRangeFromPoint(r,c.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(r,c){const _=F.Ay(r.viewDomNode);let y;if(y=_?void 0===_.caretRangeFromPoint?function(Te,r,c){const _=document.createRange();let y=Te.elementFromPoint(r,c);if(null!==y){for(;y&&y.firstChild&&y.firstChild.nodeType!==y.firstChild.TEXT_NODE&&y.lastChild&&y.lastChild.firstChild;)y=y.lastChild;const A=y.getBoundingClientRect(),ie=window.getComputedStyle(y,null).getPropertyValue("font"),he=y.innerText;let Ie,ye=A.left,Le=0;if(r>A.left+A.width)Le=he.length;else{const ze=Lt.getInstance();for(let qe=0;qe<he.length+1;qe++){if(Ie=ze.getCharWidth(he.charAt(qe),ie)/2,ye+=Ie,r<ye){Le=qe;break}ye+=Ie}}_.setStart(y.firstChild,Le),_.setEnd(y.firstChild,Le)}return _}(_,c.clientX,c.clientY):_.caretRangeFromPoint(c.clientX,c.clientY):document.caretRangeFromPoint(c.clientX,c.clientY),!y||!y.startContainer)return new At;const A=y.startContainer;if(A.nodeType===A.TEXT_NODE){const ie=A.parentNode,he=ie?ie.parentNode:null,ye=he?he.parentNode:null;return(ye&&ye.nodeType===ye.ELEMENT_NODE?ye.className:null)===Wt.CLASS_NAME?Yt.createFromDOMInfo(r,ie,y.startOffset):new At(A.parentNode)}if(A.nodeType===A.ELEMENT_NODE){const ie=A.parentNode,he=ie?ie.parentNode:null;return(he&&he.nodeType===he.ELEMENT_NODE?he.className:null)===Wt.CLASS_NAME?Yt.createFromDOMInfo(r,A,A.textContent.length):new At(A)}return new At}static _doHitTestWithCaretPositionFromPoint(r,c){const _=document.caretPositionFromPoint(c.clientX,c.clientY);if(_.offsetNode.nodeType===_.offsetNode.TEXT_NODE){const y=_.offsetNode.parentNode,A=y?y.parentNode:null,ie=A?A.parentNode:null;return(ie&&ie.nodeType===ie.ELEMENT_NODE?ie.className:null)===Wt.CLASS_NAME?Yt.createFromDOMInfo(r,_.offsetNode.parentNode,_.offset):new At(_.offsetNode.parentNode)}if(_.offsetNode.nodeType===_.offsetNode.ELEMENT_NODE){const y=_.offsetNode.parentNode,ie=y?y.parentNode:null,he=ie&&ie.nodeType===ie.ELEMENT_NODE?ie.className:null;if((y&&y.nodeType===y.ELEMENT_NODE?y.className:null)===Wt.CLASS_NAME){const ye=_.offsetNode.childNodes[Math.min(_.offset,_.offsetNode.childNodes.length-1)];if(ye)return Yt.createFromDOMInfo(r,ye,0)}else if(he===Wt.CLASS_NAME)return Yt.createFromDOMInfo(r,_.offsetNode,0)}return new At(_.offsetNode)}static _snapToSoftTabBoundary(r,c){const _=c.getLineContent(r.lineNumber),{tabSize:y}=c.model.getOptions(),A=cn.l.atomicPosition(_,r.column-1,y,2);return-1!==A?new sn.L(r.lineNumber,A+1):r}static _doHitTest(r,c){let _=new At;if("function"==typeof document.caretRangeFromPoint?_=this._doHitTestWithCaretRangeFromPoint(r,c):document.caretPositionFromPoint&&(_=this._doHitTestWithCaretPositionFromPoint(r,c.pos.toClientCoordinates())),1===_.type){const y=r.viewModel.getInjectedTextAt(_.position),A=r.viewModel.normalizePosition(_.position,2);(y||!A.equals(_.position))&&(_=new Ei(A,_.spanNode,y))}return 1===_.type&&r.stickyTabStops&&(_=new Ei(this._snapToSoftTabBoundary(_.position,r.viewModel),_.spanNode,_.injectedText)),_}}let Lt=(()=>{class Te{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return Te._INSTANCE||(Te._INSTANCE=new Te),Te._INSTANCE}getCharWidth(c,_){const y=c+_;if(this._cache[y])return this._cache[y];const A=this._canvas.getContext("2d");A.font=_;const he=A.measureText(c).width;return this._cache[y]=he,he}}return Te._INSTANCE=null,Te})();function en(Te){return function(r,c){let _=!1;return Te&&(_=Te.mouseTargetIsWidget(c)),_||c.preventDefault(),c}}let Vn=(()=>{class Te extends ue{constructor(c,_,y){super(),this._context=c,this.viewController=_,this.viewHelper=y,this.mouseTargetFactory=new yi(this._context,y),this._mouseDownOperation=this._register(new Ht(this._context,this.viewController,this.viewHelper,(he,ye)=>this._createMouseTarget(he,ye),he=>this._getMouseColumn(he))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(131).height;const A=new Ue.N5(this.viewHelper.viewDomNode);this._register(A.onContextMenu(this.viewHelper.viewDomNode,he=>this._onContextMenu(he,!0))),this._register(A.onMouseMoveThrottled(this.viewHelper.viewDomNode,he=>this._onMouseMove(he),en(this.mouseTargetFactory),Te.MOUSE_MOVE_MINIMUM_TIME)),this._register(A.onMouseUp(this.viewHelper.viewDomNode,he=>this._onMouseUp(he))),this._register(A.onMouseLeave(this.viewHelper.viewDomNode,he=>this._onMouseLeave(he))),this._register(A.onMouseDown(this.viewHelper.viewDomNode,he=>this._onMouseDown(he))),this._register(F.nm(this.viewHelper.viewDomNode,F.tw.MOUSE_WHEEL,he=>{if(this.viewController.emitMouseWheel(he),!this._context.configuration.options.get(68))return;const ye=new ke.q(he);if(z.dz?(he.metaKey||he.ctrlKey)&&!he.shiftKey&&!he.altKey:he.ctrlKey&&!he.metaKey&&!he.shiftKey&&!he.altKey){const Ie=j.C.getZoomLevel();j.C.setZoomLevel(Ie+(ye.deltaY>0?1:-1)),ye.preventDefault(),ye.stopPropagation()}},{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(c){if(c.hasChanged(131)){const _=this._context.configuration.options.get(131).height;this._height!==_&&(this._height=_,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(c){return this._mouseDownOperation.onCursorStateChanged(c),!1}onFocusChanged(c){return!1}onScrollChanged(c){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(c,_){const A=new Ue.rU(c,_).toPageCoordinates(),ie=(0,Ue.kG)(this.viewHelper.viewDomNode);if(A.y<ie.y||A.y>ie.y+ie.height||A.x<ie.x||A.x>ie.x+ie.width)return null;const he=(0,Ue.Pp)(this.viewHelper.viewDomNode,ie,A);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),ie,A,he,null)}_createMouseTarget(c,_){let y=c.target;if(!this.viewHelper.viewDomNode.contains(y)){const A=F.Ay(this.viewHelper.viewDomNode);A&&(y=A.elementsFromPoint(c.posx,c.posy).find(ie=>this.viewHelper.viewDomNode.contains(ie)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),c.editorPos,c.pos,c.relativePos,_?y:null)}_getMouseColumn(c){return this.mouseTargetFactory.getMouseColumn(c.relativePos)}_onContextMenu(c,_){this.viewController.emitContextMenu({event:c,target:this._createMouseTarget(c,_)})}_onMouseMove(c){this._mouseDownOperation.isActive()||c.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:c,target:this._createMouseTarget(c,!0)})}_onMouseLeave(c){this.lastMouseLeaveTime=(new Date).getTime(),this.viewController.emitMouseLeave({event:c,target:null})}_onMouseUp(c){this.viewController.emitMouseUp({event:c,target:this._createMouseTarget(c,!0)})}_onMouseDown(c){const _=this._createMouseTarget(c,!0),y=6===_.type||7===_.type,A=2===_.type||3===_.type||4===_.type,ie=3===_.type,he=this._context.configuration.options.get(98),ye=8===_.type||5===_.type,Le=9===_.type;let Ie=c.leftButton||c.middleButton;z.dz&&c.leftButton&&c.ctrlKey&&(Ie=!1);const ze=()=>{c.preventDefault(),this.viewHelper.focusTextArea()};Ie&&(y||ie&&he)?(ze(),this._mouseDownOperation.start(_.type,c)):A?c.preventDefault():ye?this.viewHelper.shouldSuppressMouseDownOnViewZone(_.detail.viewZoneId)&&(ze(),this._mouseDownOperation.start(_.type,c),c.preventDefault()):Le&&this.viewHelper.shouldSuppressMouseDownOnWidget(_.detail)&&(ze(),c.preventDefault()),this.viewController.emitMouseDown({event:c,target:_})}}return Te.MOUSE_MOVE_MINIMUM_TIME=100,Te})();class Ht extends C.JT{constructor(r,c,_,y,A){super(),this._context=r,this._viewController=c,this._viewHelper=_,this._createMouseTarget=y,this._getMouseColumn=A,this._mouseMoveMonitor=this._register(new Ue.iB(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new Ve._F),this._mouseState=new Ae,this._currentSelection=new re.Y(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(r){this._lastMouseEvent=r,this._mouseState.setModifiers(r);const c=this._findMousePosition(r,!0);!c||(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:r,target:c}):this._dispatchMouse(c,!0))}start(r,c){this._lastMouseEvent=c,this._mouseState.setStartedOnLineNumbers(3===r),this._mouseState.setStartButtons(c),this._mouseState.setModifiers(c);const _=this._findMousePosition(c,!0);if(!_||!_.position)return;this._mouseState.trySetCount(c.detail,_.position),c.detail=this._mouseState.count;const y=this._context.configuration.options;if(!y.get(81)&&y.get(31)&&!y.get(18)&&!this._mouseState.altKey&&c.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&6===_.type&&_.position&&this._currentSelection.containsPosition(_.position))return this._mouseState.isDragAndDrop=!0,this._isActive=!0,void this._mouseMoveMonitor.startMonitoring(c.target,c.buttons,en(null),A=>this._onMouseDownThenMove(A),A=>{const ie=this._findMousePosition(this._lastMouseEvent,!0);A&&A instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:ie?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});this._mouseState.isDragAndDrop=!1,this._dispatchMouse(_,c.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(c.target,c.buttons,en(null),A=>this._onMouseDownThenMove(A),()=>this._stop()))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){!this._isActive||this._onScrollTimeout.setIfNotSet(()=>{if(!this._lastMouseEvent)return;const r=this._findMousePosition(this._lastMouseEvent,!1);!r||this._mouseState.isDragAndDrop||this._dispatchMouse(r,!0)},10)}onCursorStateChanged(r){this._currentSelection=r.selections[0]}_getPositionOutsideEditor(r){const c=r.editorPos,_=this._context.viewModel,y=this._context.viewLayout,A=this._getMouseColumn(r);if(r.posy<c.y){const he=Math.max(y.getCurrentScrollTop()-(c.y-r.posy),0),ye=mn.getZoneAtCoord(this._context,he);if(ye){const Ie=this._helpPositionJumpOverViewZone(ye);if(Ie)return $e.createOutsideEditor(A,Ie)}const Le=y.getLineNumberAtVerticalOffset(he);return $e.createOutsideEditor(A,new sn.L(Le,1))}if(r.posy>c.y+c.height){const he=y.getCurrentScrollTop()+r.relativePos.y,ye=mn.getZoneAtCoord(this._context,he);if(ye){const Ie=this._helpPositionJumpOverViewZone(ye);if(Ie)return $e.createOutsideEditor(A,Ie)}const Le=y.getLineNumberAtVerticalOffset(he);return $e.createOutsideEditor(A,new sn.L(Le,_.getLineMaxColumn(Le)))}const ie=y.getLineNumberAtVerticalOffset(y.getCurrentScrollTop()+r.relativePos.y);return r.posx<c.x?$e.createOutsideEditor(A,new sn.L(ie,1)):r.posx>c.x+c.width?$e.createOutsideEditor(A,new sn.L(ie,_.getLineMaxColumn(ie))):null}_findMousePosition(r,c){const _=this._getPositionOutsideEditor(r);if(_)return _;const y=this._createMouseTarget(r,c);if(!y.position)return null;if(8===y.type||5===y.type){const ie=this._helpPositionJumpOverViewZone(y.detail);if(ie)return $e.createViewZone(y.type,y.element,y.mouseColumn,ie,y.detail)}return y}_helpPositionJumpOverViewZone(r){const c=new sn.L(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),_=r.positionBefore,y=r.positionAfter;return _&&y?_.isBefore(c)?_:y:null}_dispatchMouse(r,c){!r.position||this._viewController.dispatchMouse({position:r.position,mouseColumn:r.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:c,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:6===r.type&&null!==r.detail.injectedText})}}let Ae=(()=>{class Te{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(c){this._altKey=c.altKey,this._ctrlKey=c.ctrlKey,this._metaKey=c.metaKey,this._shiftKey=c.shiftKey}setStartButtons(c){this._leftButton=c.leftButton,this._middleButton=c.middleButton}setStartedOnLineNumbers(c){this._startedOnLineNumbers=c}trySetCount(c,_){const y=(new Date).getTime();y-this._lastSetMouseDownCountTime>Te.CLEAR_MOUSE_DOWN_COUNT_TIME&&(c=1),this._lastSetMouseDownCountTime=y,c>this._lastMouseDownCount+1&&(c=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(_)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=_,this._lastMouseDownCount=Math.min(c,this._lastMouseDownPositionEqualCount)}}return Te.CLEAR_MOUSE_DOWN_COUNT_TIME=400,Te})();var Xe=m(96721),dt=m(78230);class Mt extends Vn{constructor(r,c,_){super(r,c,_),this._register(ve.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(F.nm(this.viewHelper.linesContentDomNode,ve.t.Tap,A=>this.onTap(A))),this._register(F.nm(this.viewHelper.linesContentDomNode,ve.t.Change,A=>this.onChange(A))),this._register(F.nm(this.viewHelper.linesContentDomNode,ve.t.Contextmenu,A=>this._onContextMenu(new Ue.gy(A,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(F.nm(this.viewHelper.linesContentDomNode,"pointerdown",A=>{const ie=A.pointerType;this._lastPointerType="mouse"!==ie?"touch"===ie?"touch":"pen":"mouse"}));const y=new Ue.tC(this.viewHelper.viewDomNode);this._register(y.onPointerMoveThrottled(this.viewHelper.viewDomNode,A=>this._onMouseMove(A),en(this.mouseTargetFactory),Vn.MOUSE_MOVE_MINIMUM_TIME)),this._register(y.onPointerUp(this.viewHelper.viewDomNode,A=>this._onMouseUp(A))),this._register(y.onPointerLeave(this.viewHelper.viewDomNode,A=>this._onMouseLeave(A))),this._register(y.onPointerDown(this.viewHelper.viewDomNode,A=>this._onMouseDown(A)))}onTap(r){if(!r.initialTarget||!this.viewHelper.linesContentDomNode.contains(r.initialTarget))return;r.preventDefault(),this.viewHelper.focusTextArea();const c=this._createMouseTarget(new Ue.gy(r,this.viewHelper.viewDomNode),!1);c.position&&this.viewController.dispatchMouse({position:c.position,mouseColumn:c.position.column,startedOnLineNumbers:!1,mouseDownCount:r.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:6===c.type&&null!==c.detail.injectedText})}onChange(r){"touch"===this._lastPointerType&&this._context.viewModel.viewLayout.deltaScrollNow(-r.translationX,-r.translationY)}_onMouseDown(r){"touch"!==r.browserEvent.pointerType&&super._onMouseDown(r)}}class Vt extends Vn{constructor(r,c,_){super(r,c,_),this._register(ve.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(F.nm(this.viewHelper.linesContentDomNode,ve.t.Tap,y=>this.onTap(y))),this._register(F.nm(this.viewHelper.linesContentDomNode,ve.t.Change,y=>this.onChange(y))),this._register(F.nm(this.viewHelper.linesContentDomNode,ve.t.Contextmenu,y=>this._onContextMenu(new Ue.gy(y,this.viewHelper.viewDomNode),!1)))}onTap(r){r.preventDefault(),this.viewHelper.focusTextArea();const c=this._createMouseTarget(new Ue.gy(r,this.viewHelper.viewDomNode),!1);if(c.position){const _=document.createEvent("CustomEvent");_.initEvent(dt.pd.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(_),this.viewController.moveTo(c.position)}}onChange(r){this._context.viewModel.viewLayout.deltaScrollNow(-r.translationX,-r.translationY)}}class jt extends C.JT{constructor(r,c,_){super(),this.handler=z.gn&&Xe.D.pointerEvents?this._register(new Mt(r,c,_)):window.TouchEvent?this._register(new Vt(r,c,_)):this._register(new Vn(r,c,_))}getTargetAtClientPoint(r,c){return this.handler.getTargetAtClientPoint(r,c)}}m(61261);var wn=m(74243),vn=m(6809),yn=m(33677);m(34362);class xn extends ue{}var Kt=m(79695),En=m(53323);let Mn=(()=>{class Te extends xn{constructor(c){super(),this._context=c,this._readConfig(),this._lastCursorModelPosition=new sn.L(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const c=this._context.configuration.options;this._lineHeight=c.get(59);const _=c.get(60);this._renderLineNumbers=_.renderType,this._renderCustomLineNumbers=_.renderFn,this._renderFinalNewline=c.get(84);const y=c.get(131);this._lineNumbersLeft=y.lineNumbersLeft,this._lineNumbersWidth=y.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(c){return this._readConfig(),!0}onCursorStateChanged(c){const _=c.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(_);let y=!1;return this._activeLineNumber!==_.lineNumber&&(this._activeLineNumber=_.lineNumber,y=!0),(2===this._renderLineNumbers||3===this._renderLineNumbers)&&(y=!0),y}onFlushed(c){return!0}onLinesChanged(c){return!0}onLinesDeleted(c){return!0}onLinesInserted(c){return!0}onScrollChanged(c){return c.scrollTopChanged}onZonesChanged(c){return!0}_getLineRenderLineNumber(c){const _=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new sn.L(c,1));if(1!==_.column)return"";const y=_.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(y);if(2===this._renderLineNumbers){const A=Math.abs(this._lastCursorModelPosition.lineNumber-y);return 0===A?'<span class="relative-current-line-number">'+y+"</span>":String(A)}return 3===this._renderLineNumbers?this._lastCursorModelPosition.lineNumber===y||y%10==0?String(y):"":String(y)}prepareRender(c){if(0===this._renderLineNumbers)return void(this._renderResult=null);const _=z.IJ?this._lineHeight%2==0?" lh-even":" lh-odd":"",y=c.visibleRange.startLineNumber,A=c.visibleRange.endLineNumber,ie='<div class="'+Te.CLASS_NAME+_+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">',he=this._context.viewModel.getLineCount(),ye=[];for(let Le=y;Le<=A;Le++){const Ie=Le-y;if(!this._renderFinalNewline&&Le===he&&0===this._context.viewModel.getLineLength(Le)){ye[Ie]="";continue}const ze=this._getLineRenderLineNumber(Le);ye[Ie]=ze?Le===this._activeLineNumber?'<div class="active-line-number '+Te.CLASS_NAME+_+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+ze+"</div>":ie+ze+"</div>":""}this._renderResult=ye}render(c,_){if(!this._renderResult)return"";const y=_-c;return y<0||y>=this._renderResult.length?"":this._renderResult[y]}}return Te.CLASS_NAME="line-numbers",Te})();(0,En.Ic)((Te,r)=>{const c=Te.getColor(Kt.hw);c&&r.addRule(`.monaco-editor .line-numbers { color: ${c}; }`);const _=Te.getColor(Kt.DD);_&&r.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${_}; }`)});let Hn=(()=>{class Te extends _e{constructor(c){super(c);const _=this._context.configuration.options,y=_.get(131);this._canUseLayerHinting=!_.get(28),this._contentLeft=y.contentLeft,this._glyphMarginLeft=y.glyphMarginLeft,this._glyphMarginWidth=y.glyphMarginWidth,this._domNode=(0,ce.X)(document.createElement("div")),this._domNode.setClassName(Te.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,ce.X)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(Te.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(c){const _=this._context.configuration.options,y=_.get(131);return this._canUseLayerHinting=!_.get(28),this._contentLeft=y.contentLeft,this._glyphMarginLeft=y.glyphMarginLeft,this._glyphMarginWidth=y.glyphMarginWidth,!0}onScrollChanged(c){return super.onScrollChanged(c)||c.scrollTopChanged}prepareRender(c){}render(c){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict"),this._domNode.setTop(-(c.scrollTop-c.bigNumbersDelta));const y=Math.min(c.scrollHeight,1e6);this._domNode.setHeight(y),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(y)}}return Te.CLASS_NAME="glyph-margin",Te.OUTER_CLASS_NAME="margin",Te})();var Jn=m(81346),mi=m(2450),Li=m(33979),Nn=m(81897);class Ni{constructor(r,c,_,y,A){this._context=r,this.modelLineNumber=c,this.distanceToModelLineStart=_,this.widthOfHiddenLineTextBefore=y,this.distanceToModelLineEnd=A,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(r){const c=new sn.L(this.modelLineNumber,this.distanceToModelLineStart+1),_=new sn.L(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(c),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(_),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=r.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=r.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(r){return this._previousPresentation||(this._previousPresentation=r||{foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const ai=L.isFirefox;class pi extends _e{constructor(r,c,_){super(r),this._primaryCursorPosition=new sn.L(1,1),this._primaryCursorVisibleRange=null,this._viewController=c,this._visibleRangeProvider=_,this._scrollLeft=0,this._scrollTop=0;const y=this._context.configuration.options,A=y.get(131);this._setAccessibilityOptions(y),this._contentLeft=A.contentLeft,this._contentWidth=A.contentWidth,this._contentHeight=A.height,this._fontInfo=y.get(44),this._lineHeight=y.get(59),this._emptySelectionClipboard=y.get(32),this._copyWithSyntaxHighlighting=y.get(21),this._visibleTextArea=null,this._selections=[new re.Y(1,1,1,1)],this._modelSelections=[new re.Y(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,ce.X)(document.createElement("textarea")),Re.write(this.textArea,6),this.textArea.setClassName(`inputarea ${mi.S}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(y)),this.textArea.setAttribute("tabindex",String(y.get(112))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",O.N("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),y.get(30)&&y.get(81)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=(0,ce.X)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const ie={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:Le=>this._context.viewModel.getLineMaxColumn(Le),getValueInRange:(Le,Ie)=>this._context.viewModel.getValueInRange(Le,Ie)},he={getDataToCopy:()=>{const Le=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,z.ED),Ie=this._context.viewModel.model.getEOL(),ze=this._emptySelectionClipboard&&1===this._modelSelections.length&&this._modelSelections[0].isEmpty(),qe=Array.isArray(Le)?Le:null,ot=Array.isArray(Le)?Le.join(Ie):Le;let bt,xt=null;if(dt.RA.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&ot.length<65536){const Nt=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);Nt&&(bt=Nt.html,xt=Nt.mode)}return{isFromEmptySelection:ze,multicursorText:qe,text:ot,html:bt,mode:xt}},getScreenReaderContent:Le=>{if(1===this._accessibilitySupport){if(z.dz){const Ie=this._selections[0];if(Ie.isEmpty()){const ze=Ie.getStartPosition();let qe=this._getWordBeforePosition(ze);if(0===qe.length&&(qe=this._getCharacterBeforePosition(ze)),qe.length>0)return new yn.un(qe,qe.length,qe.length,ze,ze)}}return yn.un.EMPTY}if(L.isAndroid){const Ie=this._selections[0];if(Ie.isEmpty()){const ze=Ie.getStartPosition(),[qe,ot]=this._getAndroidWordAtPosition(ze);if(qe.length>0)return new yn.un(qe,ot,ot,ze,ze)}return yn.un.EMPTY}return yn.ee.fromEditorSelection(Le,ie,this._selections[0],this._accessibilityPageSize,0===this._accessibilitySupport)},deduceModelPosition:(Le,Ie,ze)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(Le,Ie,ze)},ye=this._register(new dt.Tj(this.textArea.domNode));this._textAreaInput=this._register(new dt.Fz(he,ye,z.OS,L)),this._register(this._textAreaInput.onKeyDown(Le=>{this._viewController.emitKeyDown(Le)})),this._register(this._textAreaInput.onKeyUp(Le=>{this._viewController.emitKeyUp(Le)})),this._register(this._textAreaInput.onPaste(Le=>{let Ie=!1,ze=null,qe=null;Le.metadata&&(Ie=this._emptySelectionClipboard&&!!Le.metadata.isFromEmptySelection,ze=void 0!==Le.metadata.multicursorText?Le.metadata.multicursorText:null,qe=Le.metadata.mode),this._viewController.paste(Le.text,Ie,ze,qe)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(Le=>{Le.replacePrevCharCnt||Le.replaceNextCharCnt||Le.positionDelta?(yn.al&&console.log(` => compositionType: <<${Le.text}>>, ${Le.replacePrevCharCnt}, ${Le.replaceNextCharCnt}, ${Le.positionDelta}`),this._viewController.compositionType(Le.text,Le.replacePrevCharCnt,Le.replaceNextCharCnt,Le.positionDelta)):(yn.al&&console.log(` => type: <<${Le.text}>>`),this._viewController.type(Le.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(Le=>{this._viewController.setSelection(Le)})),this._register(this._textAreaInput.onCompositionStart(Le=>{const Ie=this.textArea.domNode,ze=this._modelSelections[0],{distanceToModelLineStart:qe,widthOfHiddenTextBefore:ot}=(()=>{const xt=Ie.value.substring(0,Math.min(Ie.selectionStart,Ie.selectionEnd)),Nt=xt.lastIndexOf("\n"),tn=xt.substring(Nt+1),ln=tn.lastIndexOf("\t"),$t=tn.length-ln-1,On=ze.getStartPosition(),In=Math.min(On.column-1,$t),Rn=On.column-1-In,Dn=function(Te,r){if(0===Te.length)return 0;const c=document.createElement("div");c.style.position="absolute",c.style.top="-50000px",c.style.width="50000px";const _=document.createElement("span");(0,vn.N)(_,r),_.style.whiteSpace="pre",_.append(Te),c.appendChild(_),document.body.appendChild(c);const y=_.offsetWidth;return document.body.removeChild(c),y}(tn.substring(0,tn.length-In),this._fontInfo);return{distanceToModelLineStart:Rn,widthOfHiddenTextBefore:Dn}})(),{distanceToModelLineEnd:bt}=(()=>{const xt=Ie.value.substring(Math.max(Ie.selectionStart,Ie.selectionEnd)),Nt=xt.indexOf("\n"),tn=-1===Nt?xt:xt.substring(0,Nt),ln=tn.indexOf("\t"),$t=-1===ln?tn.length:tn.length-ln-1,On=ze.getEndPosition(),In=Math.min(this._context.viewModel.model.getLineMaxColumn(On.lineNumber)-On.column,$t);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(On.lineNumber)-On.column-In}})();this._context.viewModel.revealRange("keyboard",!0,hn.e.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new Ni(this._context,ze.startLineNumber,qe,ot,bt),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${mi.S} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(Le=>{!this._visibleTextArea||(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${mi.S}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(r){const _=this._context.viewModel.getLineContent(r.lineNumber),y=(0,Jn.u)('`~!@#$%^&*()-=+[{]}\\|;:",.<>/?');let A=!0,ie=r.column,he=!0,ye=r.column,Le=0;for(;Le<50&&(A||he);){if(A&&ie<=1&&(A=!1),A){const Ie=_.charCodeAt(ie-2);0!==y.get(Ie)?A=!1:ie--}if(he&&ye>_.length&&(he=!1),he){const Ie=_.charCodeAt(ye-1);0!==y.get(Ie)?he=!1:ye++}Le++}return[_.substring(ie-1,ye-1),r.column-ie]}_getWordBeforePosition(r){const c=this._context.viewModel.getLineContent(r.lineNumber),_=(0,Jn.u)(this._context.configuration.options.get(117));let y=r.column,A=0;for(;y>1;){const ie=c.charCodeAt(y-2);if(0!==_.get(ie)||A>50)return c.substring(y-1,r.column-1);A++,y--}return c.substring(0,r.column-1)}_getCharacterBeforePosition(r){if(r.column>1){const _=this._context.viewModel.getLineContent(r.lineNumber).charAt(r.column-2);if(!wn.ZG(_.charCodeAt(0)))return _}return""}_getAriaLabel(r){return 1===r.get(2)?O.N("accessibilityOffAriaLabel","The editor is not accessible at this time. Press {0} for options.",z.IJ?"Shift+Alt+F1":"Alt+F1"):r.get(4)}_setAccessibilityOptions(r){this._accessibilitySupport=r.get(2);const c=r.get(3);this._accessibilityPageSize=2===this._accessibilitySupport&&c===$.BH.accessibilityPageSize.defaultValue?500:c}onConfigurationChanged(r){const c=this._context.configuration.options,_=c.get(131);return this._setAccessibilityOptions(c),this._contentLeft=_.contentLeft,this._contentWidth=_.contentWidth,this._contentHeight=_.height,this._fontInfo=c.get(44),this._lineHeight=c.get(59),this._emptySelectionClipboard=c.get(32),this._copyWithSyntaxHighlighting=c.get(21),this.textArea.setAttribute("aria-label",this._getAriaLabel(c)),this.textArea.setAttribute("tabindex",String(c.get(112))),(r.hasChanged(30)||r.hasChanged(81))&&(c.get(30)&&c.get(81)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),r.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(r){return this._selections=r.selections.slice(0),this._modelSelections=r.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(r){return!0}onFlushed(r){return!0}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return this._scrollLeft=r.scrollLeft,this._scrollTop=r.scrollTop,!0}onZonesChanged(r){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(r){r.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",r.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),r.role&&this.textArea.setAttribute("role",r.role)}prepareRender(r){this._primaryCursorPosition=new sn.L(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=r.visibleRangeForPosition(this._primaryCursorPosition),this._visibleTextArea&&this._visibleTextArea.prepareRender(r)}render(r){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){const _=this._visibleTextArea.visibleTextareaStart,y=this._visibleTextArea.visibleTextareaEnd,A=this._visibleTextArea.startPosition,ie=this._visibleTextArea.endPosition;if(A&&ie&&_&&y&&y.left>=this._scrollLeft&&_.left<=this._scrollLeft+this._contentWidth){const he=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,ye=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let Le=this._visibleTextArea.widthOfHiddenLineTextBefore,Ie=this._contentLeft+_.left-this._scrollLeft,ze=y.left-_.left+1;if(Ie<this._contentLeft){const tn=this._contentLeft-Ie;Ie+=tn,Le+=tn,ze-=tn}ze>this._contentWidth&&(ze=this._contentWidth);const qe=this._context.viewModel.getViewLineData(A.lineNumber),ot=qe.tokens.findTokenIndexAtOffset(A.column-1),bt=qe.tokens.findTokenIndexAtOffset(ie.column-1),Nt=this._visibleTextArea.definePresentation(ot===bt?qe.tokens.getPresentation(ot):null);this.textArea.domNode.scrollTop=ye*this._lineHeight,this.textArea.domNode.scrollLeft=Le,this._doRender({lastRenderPosition:null,top:he,left:Ie,width:ze,height:this._lineHeight,useCover:!1,color:(Li.RW.getColorMap()||[])[Nt.foreground],italic:Nt.italic,bold:Nt.bold,underline:Nt.underline,strikethrough:Nt.strikethrough})}return}if(!this._primaryCursorVisibleRange)return void this._renderAtTopLeft();const r=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(r<this._contentLeft||r>this._contentLeft+this._contentWidth)return void this._renderAtTopLeft();const c=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(c<0||c>this._contentHeight)this._renderAtTopLeft();else if(z.dz){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:c,left:r,width:ai?0:1,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const _=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=_*this._lineHeight}else this._doRender({lastRenderPosition:this._primaryCursorPosition,top:c,left:r,width:ai?0:1,height:ai?0:1,useCover:!1})}_newlinecount(r){let c=0,_=-1;for(;_=r.indexOf("\n",_+1),-1!==_;)c++;return c}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:ai?0:1,height:ai?0:1,useCover:!0})}_doRender(r){this._lastRenderPosition=r.lastRenderPosition;const c=this.textArea,_=this.textAreaCover;(0,vn.N)(c,this._fontInfo),c.setTop(r.top),c.setLeft(r.left),c.setWidth(r.width),c.setHeight(r.height),c.setColor(r.color?Nn.Il.Format.CSS.formatHex(r.color):""),c.setFontStyle(r.italic?"italic":""),r.bold&&c.setFontWeight("bold"),c.setTextDecoration(`${r.underline?" underline":""}${r.strikethrough?" line-through":""}`),_.setTop(r.useCover?r.top:0),_.setLeft(r.useCover?r.left:0),_.setWidth(r.useCover?r.width:0),_.setHeight(r.useCover?r.height:0);const y=this._context.configuration.options;y.get(50)?_.setClassName("monaco-editor-background textAreaCover "+Hn.OUTER_CLASS_NAME):0!==y.get(60).renderType?_.setClassName("monaco-editor-background textAreaCover "+Mn.CLASS_NAME):_.setClassName("monaco-editor-background textAreaCover")}}var _i=m(20545);class Ti{constructor(r,c,_,y){this.configuration=r,this.viewModel=c,this.userInputEvents=_,this.commandDelegate=y}paste(r,c,_,y){this.commandDelegate.paste(r,c,_,y)}type(r){this.commandDelegate.type(r)}compositionType(r,c,_,y){this.commandDelegate.compositionType(r,c,_,y)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(r){_i.Ox.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:r})}_validateViewColumn(r){const c=this.viewModel.getLineMinColumn(r.lineNumber);return r.column<c?new sn.L(r.lineNumber,c):r}_hasMulticursorModifier(r){switch(this.configuration.options.get(70)){case"altKey":return r.altKey;case"ctrlKey":return r.ctrlKey;case"metaKey":return r.metaKey;default:return!1}}_hasNonMulticursorModifier(r){switch(this.configuration.options.get(70)){case"altKey":return r.ctrlKey||r.metaKey;case"ctrlKey":return r.altKey||r.metaKey;case"metaKey":return r.ctrlKey||r.altKey;default:return!1}}dispatchMouse(r){const c=this.configuration.options,_=z.IJ&&c.get(96),y=c.get(18);r.middleButton&&!_?this._columnSelect(r.position,r.mouseColumn,r.inSelectionMode):r.startedOnLineNumbers?this._hasMulticursorModifier(r)?r.inSelectionMode?this._lastCursorLineSelect(r.position):this._createCursor(r.position,!0):r.inSelectionMode?this._lineSelectDrag(r.position):this._lineSelect(r.position):r.mouseDownCount>=4?this._selectAll():3===r.mouseDownCount?this._hasMulticursorModifier(r)?r.inSelectionMode?this._lastCursorLineSelectDrag(r.position):this._lastCursorLineSelect(r.position):r.inSelectionMode?this._lineSelectDrag(r.position):this._lineSelect(r.position):2===r.mouseDownCount?r.onInjectedText||(this._hasMulticursorModifier(r)?this._lastCursorWordSelect(r.position):r.inSelectionMode?this._wordSelectDrag(r.position):this._wordSelect(r.position)):this._hasMulticursorModifier(r)?this._hasNonMulticursorModifier(r)||(r.shiftKey?this._columnSelect(r.position,r.mouseColumn,!0):r.inSelectionMode?this._lastCursorMoveToSelect(r.position):this._createCursor(r.position,!1)):r.inSelectionMode?r.altKey||y?this._columnSelect(r.position,r.mouseColumn,!0):this._moveToSelect(r.position):this.moveTo(r.position)}_usualArgs(r){return r=this._validateViewColumn(r),{source:"mouse",position:this._convertViewToModelPosition(r),viewPosition:r}}moveTo(r){_i.Ox.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_moveToSelect(r){_i.Ox.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_columnSelect(r,c,_){r=this._validateViewColumn(r),_i.Ox.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(r),viewPosition:r,mouseColumn:c,doColumnSelect:_})}_createCursor(r,c){r=this._validateViewColumn(r),_i.Ox.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(r),viewPosition:r,wholeLine:c})}_lastCursorMoveToSelect(r){_i.Ox.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_wordSelect(r){_i.Ox.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_wordSelectDrag(r){_i.Ox.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_lastCursorWordSelect(r){_i.Ox.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_lineSelect(r){_i.Ox.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_lineSelectDrag(r){_i.Ox.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_lastCursorLineSelect(r){_i.Ox.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_lastCursorLineSelectDrag(r){_i.Ox.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_selectAll(){_i.Ox.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(r){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(r)}emitKeyDown(r){this.userInputEvents.emitKeyDown(r)}emitKeyUp(r){this.userInputEvents.emitKeyUp(r)}emitContextMenu(r){this.userInputEvents.emitContextMenu(r)}emitMouseMove(r){this.userInputEvents.emitMouseMove(r)}emitMouseLeave(r){this.userInputEvents.emitMouseLeave(r)}emitMouseUp(r){this.userInputEvents.emitMouseUp(r)}emitMouseDown(r){this.userInputEvents.emitMouseDown(r)}emitMouseDrag(r){this.userInputEvents.emitMouseDrag(r)}emitMouseDrop(r){this.userInputEvents.emitMouseDrop(r)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(r){this.userInputEvents.emitMouseWheel(r)}}class bi{constructor(r){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=r}emitKeyDown(r){this.onKeyDown&&this.onKeyDown(r)}emitKeyUp(r){this.onKeyUp&&this.onKeyUp(r)}emitContextMenu(r){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(r))}emitMouseMove(r){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(r))}emitMouseLeave(r){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(r))}emitMouseDown(r){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(r))}emitMouseUp(r){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(r))}emitMouseDrag(r){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(r))}emitMouseDrop(r){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(r))}emitMouseDropCanceled(){this.onMouseDropCanceled&&this.onMouseDropCanceled()}emitMouseWheel(r){this.onMouseWheel&&this.onMouseWheel(r)}_convertViewToModelMouseEvent(r){return r.target?{event:r.event,target:this._convertViewToModelMouseTarget(r.target)}:r}_convertViewToModelMouseTarget(r){return bi.convertViewToModelMouseTarget(r,this._coordinatesConverter)}static convertViewToModelMouseTarget(r,c){const _=Object.assign({},r);return _.position&&(_.position=c.convertViewPositionToModelPosition(_.position)),_.range&&(_.range=c.convertViewRangeToModelRange(_.range)),_}}var zn,Yi=m(53269);class Ii{constructor(r){this._createLine=r,this._set(1,[])}flush(){this._set(1,[])}_set(r,c){this._lines=c,this._rendLineNumberStart=r}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(r){const c=r-this._rendLineNumberStart;if(c<0||c>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[c]}onLinesDeleted(r,c){if(0===this.getCount())return null;const _=this.getStartLineNumber(),y=this.getEndLineNumber();if(c<_)return this._rendLineNumberStart-=c-r+1,null;if(r>y)return null;let A=0,ie=0;for(let ye=_;ye<=y;ye++){const Le=ye-this._rendLineNumberStart;r<=ye&&ye<=c&&(0===ie?(A=Le,ie=1):ie++)}if(r<_){let ye=0;ye=c<_?c-r+1:_-r,this._rendLineNumberStart-=ye}return this._lines.splice(A,ie)}onLinesChanged(r,c){if(0===this.getCount())return!1;const _=this.getStartLineNumber(),y=this.getEndLineNumber();let A=!1;for(let ie=r;ie<=c;ie++)ie>=_&&ie<=y&&(this._lines[ie-this._rendLineNumberStart].onContentChanged(),A=!0);return A}onLinesInserted(r,c){if(0===this.getCount())return null;const _=c-r+1,y=this.getStartLineNumber(),A=this.getEndLineNumber();if(r<=y)return this._rendLineNumberStart+=_,null;if(r>A)return null;if(_+r>A)return this._lines.splice(r-this._rendLineNumberStart,A-r+1);const ie=[];for(let ze=0;ze<_;ze++)ie[ze]=this._createLine();const he=r-this._rendLineNumberStart,ye=this._lines.slice(0,he),Le=this._lines.slice(he,this._lines.length-_),Ie=this._lines.slice(this._lines.length-_,this._lines.length);return this._lines=ye.concat(ie).concat(Le),Ie}onTokensChanged(r){if(0===this.getCount())return!1;const c=this.getStartLineNumber(),_=this.getEndLineNumber();let y=!1;for(let A=0,ie=r.length;A<ie;A++){const he=r[A];if(he.toLineNumber<c||he.fromLineNumber>_)continue;const ye=Math.max(c,he.fromLineNumber),Le=Math.min(_,he.toLineNumber);for(let Ie=ye;Ie<=Le;Ie++)this._lines[Ie-this._rendLineNumberStart].onTokensChanged(),y=!0}return y}}class so{constructor(r){this._host=r,this.domNode=this._createDomNode(),this._linesCollection=new Ii(()=>this._host.createVisibleLine())}_createDomNode(){const r=(0,ce.X)(document.createElement("div"));return r.setClassName("view-layer"),r.setPosition("absolute"),r.domNode.setAttribute("role","presentation"),r.domNode.setAttribute("aria-hidden","true"),r}onConfigurationChanged(r){return!!r.hasChanged(131)}onFlushed(r){return this._linesCollection.flush(),!0}onLinesChanged(r){return this._linesCollection.onLinesChanged(r.fromLineNumber,r.toLineNumber)}onLinesDeleted(r){const c=this._linesCollection.onLinesDeleted(r.fromLineNumber,r.toLineNumber);if(c)for(let _=0,y=c.length;_<y;_++){const A=c[_].getDomNode();A&&this.domNode.domNode.removeChild(A)}return!0}onLinesInserted(r){const c=this._linesCollection.onLinesInserted(r.fromLineNumber,r.toLineNumber);if(c)for(let _=0,y=c.length;_<y;_++){const A=c[_].getDomNode();A&&this.domNode.domNode.removeChild(A)}return!0}onScrollChanged(r){return r.scrollTopChanged}onTokensChanged(r){return this._linesCollection.onTokensChanged(r.ranges)}onZonesChanged(r){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(r){return this._linesCollection.getLine(r)}renderLines(r){const c=this._linesCollection._get(),A=new ei(this.domNode.domNode,this._host,r).render({rendLineNumberStart:c.rendLineNumberStart,lines:c.lines,linesLength:c.lines.length},r.startLineNumber,r.endLineNumber,r.relativeVerticalOffset);this._linesCollection._set(A.rendLineNumberStart,A.lines)}}class ei{constructor(r,c,_){this.domNode=r,this.host=c,this.viewportData=_}render(r,c,_,y){const A={rendLineNumberStart:r.rendLineNumberStart,lines:r.lines.slice(0),linesLength:r.linesLength};if(A.rendLineNumberStart+A.linesLength-1<c||_<A.rendLineNumberStart){A.rendLineNumberStart=c,A.linesLength=_-c+1,A.lines=[];for(let ie=c;ie<=_;ie++)A.lines[ie-c]=this.host.createVisibleLine();return this._finishRendering(A,!0,y),A}if(this._renderUntouchedLines(A,Math.max(c-A.rendLineNumberStart,0),Math.min(_-A.rendLineNumberStart,A.linesLength-1),y,c),A.rendLineNumberStart>c){const ie=c,he=Math.min(_,A.rendLineNumberStart-1);ie<=he&&(this._insertLinesBefore(A,ie,he,y,c),A.linesLength+=he-ie+1)}else if(A.rendLineNumberStart<c){const ie=Math.min(A.linesLength,c-A.rendLineNumberStart);ie>0&&(this._removeLinesBefore(A,ie),A.linesLength-=ie)}if(A.rendLineNumberStart=c,A.rendLineNumberStart+A.linesLength-1<_){const ie=A.rendLineNumberStart+A.linesLength,he=_;ie<=he&&(this._insertLinesAfter(A,ie,he,y,c),A.linesLength+=he-ie+1)}else if(A.rendLineNumberStart+A.linesLength-1>_){const ie=Math.max(0,_-A.rendLineNumberStart+1),ye=A.linesLength-1-ie+1;ye>0&&(this._removeLinesAfter(A,ye),A.linesLength-=ye)}return this._finishRendering(A,!1,y),A}_renderUntouchedLines(r,c,_,y,A){const ie=r.rendLineNumberStart,he=r.lines;for(let ye=c;ye<=_;ye++){const Le=ie+ye;he[ye].layoutLine(Le,y[Le-A])}}_insertLinesBefore(r,c,_,y,A){const ie=[];let he=0;for(let ye=c;ye<=_;ye++)ie[he++]=this.host.createVisibleLine();r.lines=ie.concat(r.lines)}_removeLinesBefore(r,c){for(let _=0;_<c;_++){const y=r.lines[_].getDomNode();y&&this.domNode.removeChild(y)}r.lines.splice(0,c)}_insertLinesAfter(r,c,_,y,A){const ie=[];let he=0;for(let ye=c;ye<=_;ye++)ie[he++]=this.host.createVisibleLine();r.lines=r.lines.concat(ie)}_removeLinesAfter(r,c){const _=r.linesLength-c;for(let y=0;y<c;y++){const A=r.lines[_+y].getDomNode();A&&this.domNode.removeChild(A)}r.lines.splice(_,c)}_finishRenderingNewLines(r,c,_,y){ei._ttPolicy&&(_=ei._ttPolicy.createHTML(_));const A=this.domNode.lastChild;c||!A?this.domNode.innerHTML=_:A.insertAdjacentHTML("afterend",_);let ie=this.domNode.lastChild;for(let he=r.linesLength-1;he>=0;he--){const ye=r.lines[he];y[he]&&(ye.setDomNode(ie),ie=ie.previousSibling)}}_finishRenderingInvalidLines(r,c,_){const y=document.createElement("div");ei._ttPolicy&&(c=ei._ttPolicy.createHTML(c)),y.innerHTML=c;for(let A=0;A<r.linesLength;A++){const ie=r.lines[A];if(_[A]){const he=y.firstChild,ye=ie.getDomNode();ye.parentNode.replaceChild(he,ye),ie.setDomNode(he)}}}_finishRendering(r,c,_){const y=ei._sb,A=r.linesLength,ie=r.lines,he=r.rendLineNumberStart,ye=[];{y.reset();let Le=!1;for(let Ie=0;Ie<A;Ie++){const ze=ie[Ie];ye[Ie]=!1,!ze.getDomNode()&&ze.renderLine(Ie+he,_[Ie],this.viewportData,y)&&(ye[Ie]=!0,Le=!0)}Le&&this._finishRenderingNewLines(r,c,y.build(),ye)}{y.reset();let Le=!1;const Ie=[];for(let ze=0;ze<A;ze++){const qe=ie[ze];Ie[ze]=!1,!ye[ze]&&qe.renderLine(ze+he,_[ze],this.viewportData,y)&&(Ie[ze]=!0,Le=!0)}Le&&this._finishRenderingInvalidLines(r,y.build(),Ie)}}}ei._ttPolicy=null===(zn=window.trustedTypes)||void 0===zn?void 0:zn.createPolicy("editorViewLayer",{createHTML:Te=>Te}),ei._sb=(0,Yi.l$)(1e5);class go extends _e{constructor(r){super(r),this._visibleLines=new so(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let r=0,c=this._dynamicOverlays.length;r<c;r++)if(this._dynamicOverlays[r].shouldRender())return!0;return!1}dispose(){super.dispose();for(let r=0,c=this._dynamicOverlays.length;r<c;r++)this._dynamicOverlays[r].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new Di(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(r){this._dynamicOverlays.push(r)}onConfigurationChanged(r){this._visibleLines.onConfigurationChanged(r);const c=this._visibleLines.getStartLineNumber(),_=this._visibleLines.getEndLineNumber();for(let y=c;y<=_;y++)this._visibleLines.getVisibleLine(y).onConfigurationChanged(r);return!0}onFlushed(r){return this._visibleLines.onFlushed(r)}onFocusChanged(r){return this._isFocused=r.isFocused,!0}onLinesChanged(r){return this._visibleLines.onLinesChanged(r)}onLinesDeleted(r){return this._visibleLines.onLinesDeleted(r)}onLinesInserted(r){return this._visibleLines.onLinesInserted(r)}onScrollChanged(r){return this._visibleLines.onScrollChanged(r)||!0}onTokensChanged(r){return this._visibleLines.onTokensChanged(r)}onZonesChanged(r){return this._visibleLines.onZonesChanged(r)}prepareRender(r){const c=this._dynamicOverlays.filter(_=>_.shouldRender());for(let _=0,y=c.length;_<y;_++){const A=c[_];A.prepareRender(r),A.onDidRender()}}render(r){this._viewOverlaysRender(r),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(r){this._visibleLines.renderLines(r.viewportData)}}class Di{constructor(r,c){this._configuration=r,this._lineHeight=this._configuration.options.get(59),this._dynamicOverlays=c,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(r){this._domNode=(0,ce.X)(r)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(r){this._lineHeight=this._configuration.options.get(59)}renderLine(r,c,_,y){let A="";for(let ie=0,he=this._dynamicOverlays.length;ie<he;ie++)A+=this._dynamicOverlays[ie].render(_.startLineNumber,r);return this._renderedContent!==A&&(this._renderedContent=A,y.appendASCIIString('<div style="position:absolute;top:'),y.appendASCIIString(String(c)),y.appendASCIIString("px;width:100%;height:"),y.appendASCIIString(String(this._lineHeight)),y.appendASCIIString('px;">'),y.appendASCIIString(A),y.appendASCIIString("</div>"),!0)}layoutLine(r,c){this._domNode&&(this._domNode.setTop(c),this._domNode.setHeight(this._lineHeight))}}class Mo extends go{constructor(r){super(r);const _=this._context.configuration.options.get(131);this._contentWidth=_.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(r){const _=this._context.configuration.options.get(131);return this._contentWidth=_.contentWidth,super.onConfigurationChanged(r)||!0}onScrollChanged(r){return super.onScrollChanged(r)||r.scrollWidthChanged}_viewOverlaysRender(r){super._viewOverlaysRender(r),this.domNode.setWidth(Math.max(r.scrollWidth,this._contentWidth))}}class bo extends go{constructor(r){super(r);const c=this._context.configuration.options,_=c.get(131);this._contentLeft=_.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),(0,vn.N)(this.domNode,c.get(44))}onConfigurationChanged(r){const c=this._context.configuration.options;(0,vn.N)(this.domNode,c.get(44));const _=c.get(131);return this._contentLeft=_.contentLeft,super.onConfigurationChanged(r)||!0}onScrollChanged(r){return super.onScrollChanged(r)||r.scrollHeightChanged}_viewOverlaysRender(r){super._viewOverlaysRender(r);const c=Math.min(r.scrollHeight,1e6);this.domNode.setHeight(c),this.domNode.setWidth(this._contentLeft)}}class vo{constructor(r,c){this._coordinateBrand=void 0,this.top=r,this.left=c}}class Ro extends _e{constructor(r,c){super(r),this._viewDomNode=c,this._widgets={},this.domNode=(0,ce.X)(document.createElement("div")),Re.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,ce.X)(document.createElement("div")),Re.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(r){const c=Object.keys(this._widgets);for(const _ of c)this._widgets[_].onConfigurationChanged(r);return!0}onDecorationsChanged(r){return!0}onFlushed(r){return!0}onLineMappingChanged(r){const c=Object.keys(this._widgets);for(const _ of c)this._widgets[_].onLineMappingChanged(r);return!0}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return!0}onZonesChanged(r){return!0}addWidget(r){const c=new zs(this._context,this._viewDomNode,r);this._widgets[c.id]=c,c.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(c.domNode):this.domNode.appendChild(c.domNode),this.setShouldRender()}setWidgetPosition(r,c,_){this._widgets[r.getId()].setPosition(c,_),this.setShouldRender()}removeWidget(r){const c=r.getId();if(this._widgets.hasOwnProperty(c)){const _=this._widgets[c];delete this._widgets[c];const y=_.domNode.domNode;y.parentNode.removeChild(y),y.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(r){return!!this._widgets.hasOwnProperty(r)&&this._widgets[r].suppressMouseDown}onBeforeRender(r){const c=Object.keys(this._widgets);for(const _ of c)this._widgets[_].onBeforeRender(r)}prepareRender(r){const c=Object.keys(this._widgets);for(const _ of c)this._widgets[_].prepareRender(r)}render(r){const c=Object.keys(this._widgets);for(const _ of c)this._widgets[_].render(r)}}class zs{constructor(r,c,_){this._context=r,this._viewDomNode=c,this._actual=_,this.domNode=(0,ce.X)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const y=this._context.configuration.options,A=y.get(131);this._fixedOverflowWidgets=y.get(36),this._contentWidth=A.contentWidth,this._contentLeft=A.contentLeft,this._lineHeight=y.get(59),this._range=null,this._viewRange=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(r){const c=this._context.configuration.options;if(this._lineHeight=c.get(59),r.hasChanged(131)){const _=c.get(131);this._contentLeft=_.contentLeft,this._contentWidth=_.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(r){this._setPosition(this._range)}_setPosition(r){if(this._range=r,this._viewRange=null,this._range){const c=this._context.viewModel.model.validateRange(this._range);(this._context.viewModel.coordinatesConverter.modelPositionIsVisible(c.getStartPosition())||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(c.getEndPosition()))&&(this._viewRange=this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(c))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.offsetWidth||document.body.offsetWidth:this._contentWidth}setPosition(r,c){this._setPosition(r),this._preference=c,this.domNode.setDisplay(this._viewRange&&this._preference&&this._preference.length>0?"block":"none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(r,c,_,y,A){const ie=r.top,ye=c.top+this._lineHeight;let bt=r.left,xt=c.left;return bt+_>A.scrollLeft+A.viewportWidth&&(bt=A.scrollLeft+A.viewportWidth-_),xt+_>A.scrollLeft+A.viewportWidth&&(xt=A.scrollLeft+A.viewportWidth-_),bt<A.scrollLeft&&(bt=A.scrollLeft),xt<A.scrollLeft&&(xt=A.scrollLeft),{fitsAbove:ie>=y,aboveTop:ie-y,aboveLeft:bt,fitsBelow:A.viewportHeight-ye>=y,belowTop:ye,belowLeft:xt}}_layoutHorizontalSegmentInPage(r,c,_,y){const A=Math.max(0,c.left-y),ie=Math.min(c.left+c.width+y,r.width);let he=c.left+_-F.DI.scrollX;if(he+y>ie){const ye=he-(ie-y);he-=ye,_-=ye}if(he<A){const ye=he-A;he-=ye,_-=ye}return[_,he]}_layoutBoxInPage(r,c,_,y,A){const ie=r.top-y,he=c.top+this._lineHeight,ye=F.i(this._viewDomNode.domNode),Le=ye.top+ie-F.DI.scrollY,Ie=ye.top+he-F.DI.scrollY,ze=F.D6(document.body),[qe,ot]=this._layoutHorizontalSegmentInPage(ze,ye,r.left-A.scrollLeft+this._contentLeft,_),[bt,xt]=this._layoutHorizontalSegmentInPage(ze,ye,c.left-A.scrollLeft+this._contentLeft,_),ln=Le>=22,$t=Ie+y<=ze.height-22;return this._fixedOverflowWidgets?{fitsAbove:ln,aboveTop:Math.max(Le,22),aboveLeft:ot,fitsBelow:$t,belowTop:Ie,belowLeft:xt}:{fitsAbove:ln,aboveTop:ie,aboveLeft:qe,fitsBelow:$t,belowTop:he,belowLeft:bt}}_prepareRenderWidgetAtExactPositionOverflowing(r){return new vo(r.top,r.left+this._contentLeft)}_getTopAndBottomLeft(r){if(!this._viewRange)return[null,null];const c=r.linesVisibleRangesForRange(this._viewRange,!1);if(!c||0===c.length)return[null,null];let _=c[0],y=c[0];for(const ze of c)ze.lineNumber<_.lineNumber&&(_=ze),ze.lineNumber>y.lineNumber&&(y=ze);let A=1073741824;for(const ze of _.ranges)ze.left<A&&(A=ze.left);let ie=1073741824;for(const ze of y.ranges)ze.left<ie&&(ie=ze.left);const he=r.getVerticalOffsetForLineNumber(_.lineNumber)-r.scrollTop,ye=new vo(he,A),Le=r.getVerticalOffsetForLineNumber(y.lineNumber)-r.scrollTop;return[ye,new vo(Le,ie)]}_prepareRenderWidget(r){if(!this._preference||0===this._preference.length)return null;const[c,_]=this._getTopAndBottomLeft(r);if(!c||!_)return null;if(-1===this._cachedDomNodeOffsetWidth||-1===this._cachedDomNodeOffsetHeight){let A=null;if("function"==typeof this._actual.beforeRender&&(A=No(this._actual.beforeRender,this._actual)),A)this._cachedDomNodeOffsetWidth=A.width,this._cachedDomNodeOffsetHeight=A.height;else{const ie=this.domNode.domNode;this._cachedDomNodeOffsetWidth=ie.offsetWidth,this._cachedDomNodeOffsetHeight=ie.offsetHeight}}let y;y=this.allowEditorOverflow?this._layoutBoxInPage(c,_,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,r):this._layoutBoxInViewport(c,_,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,r);for(let A=1;A<=2;A++)for(const ie of this._preference)if(1===ie){if(!y)return null;if(2===A||y.fitsAbove)return{coordinate:new vo(y.aboveTop,y.aboveLeft),position:1}}else{if(2!==ie)return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(c),position:0}:{coordinate:c,position:0};if(!y)return null;if(2===A||y.fitsBelow)return{coordinate:new vo(y.belowTop,y.belowLeft),position:2}}return null}onBeforeRender(r){!this._viewRange||!this._preference||this._viewRange.endLineNumber<r.startLineNumber||this._viewRange.startLineNumber>r.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(r){this._renderData=this._prepareRenderWidget(r)}render(r){if(!this._renderData)return this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),void("function"==typeof this._actual.afterRender&&No(this._actual.afterRender,this._actual,null));this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+r.scrollTop-r.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),"function"==typeof this._actual.afterRender&&No(this._actual.afterRender,this._actual,this._renderData.position)}}function No(Te,r,...c){try{return Te.call(r,...c)}catch{return null}}m(18491);class ks extends xn{constructor(r){super(),this._context=r;const c=this._context.configuration.options,_=c.get(131);this._lineHeight=c.get(59),this._renderLineHighlight=c.get(85),this._renderLineHighlightOnlyWhenFocus=c.get(86),this._contentLeft=_.contentLeft,this._contentWidth=_.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new re.Y(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let r=!1;const c=this._selections.map(y=>y.positionLineNumber);c.sort((y,A)=>y-A),f.fS(this._cursorLineNumbers,c)||(this._cursorLineNumbers=c,r=!0);const _=this._selections.every(y=>y.isEmpty());return this._selectionIsEmpty!==_&&(this._selectionIsEmpty=_,r=!0),r}onThemeChanged(r){return this._readFromSelections()}onConfigurationChanged(r){const c=this._context.configuration.options,_=c.get(131);return this._lineHeight=c.get(59),this._renderLineHighlight=c.get(85),this._renderLineHighlightOnlyWhenFocus=c.get(86),this._contentLeft=_.contentLeft,this._contentWidth=_.contentWidth,!0}onCursorStateChanged(r){return this._selections=r.selections,this._readFromSelections()}onFlushed(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return r.scrollWidthChanged||r.scrollTopChanged}onZonesChanged(r){return!0}onFocusChanged(r){return!!this._renderLineHighlightOnlyWhenFocus&&(this._focused=r.isFocused,!0)}prepareRender(r){if(!this._shouldRenderThis())return void(this._renderData=null);const c=this._renderOne(r),_=r.visibleRange.startLineNumber,y=r.visibleRange.endLineNumber,A=this._cursorLineNumbers.length;let ie=0;const he=[];for(let ye=_;ye<=y;ye++){const Le=ye-_;for(;ie<A&&this._cursorLineNumbers[ie]<ye;)ie++;he[Le]=ie<A&&this._cursorLineNumbers[ie]===ye?c:""}this._renderData=he}render(r,c){if(!this._renderData)return"";const _=c-r;return _>=this._renderData.length?"":this._renderData[_]}_shouldRenderInMargin(){return("gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class Do extends ks{_renderOne(r){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(r.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}class Ss extends ks{_renderOne(r){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}(0,En.Ic)((Te,r)=>{const c=Te.getColor(Kt.Kh);if(c&&(r.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${c}; }`),r.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${c}; border: none; }`)),!c||c.isTransparent()||Te.defines(Kt.Mm)){const _=Te.getColor(Kt.Mm);_&&(r.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${_}; }`),r.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${_}; }`),"hc"===Te.type&&(r.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),r.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}}),m(91233);class qs extends xn{constructor(r){super(),this._context=r;const c=this._context.configuration.options;this._lineHeight=c.get(59),this._typicalHalfwidthCharacterWidth=c.get(44).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(r){const c=this._context.configuration.options;return this._lineHeight=c.get(59),this._typicalHalfwidthCharacterWidth=c.get(44).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(r){return!0}onFlushed(r){return!0}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return r.scrollTopChanged||r.scrollWidthChanged}onZonesChanged(r){return!0}prepareRender(r){const c=r.getDecorationsInViewport();let _=[],y=0;for(let ye=0,Le=c.length;ye<Le;ye++){const Ie=c[ye];Ie.options.className&&(_[y++]=Ie)}_=_.sort((ye,Le)=>{if(ye.options.zIndex<Le.options.zIndex)return-1;if(ye.options.zIndex>Le.options.zIndex)return 1;const Ie=ye.options.className,ze=Le.options.className;return Ie<ze?-1:Ie>ze?1:hn.e.compareRangesUsingStarts(ye.range,Le.range)});const A=r.visibleRange.startLineNumber,ie=r.visibleRange.endLineNumber,he=[];for(let ye=A;ye<=ie;ye++)he[ye-A]="";this._renderWholeLineDecorations(r,_,he),this._renderNormalDecorations(r,_,he),this._renderResult=he}_renderWholeLineDecorations(r,c,_){const y=String(this._lineHeight),A=r.visibleRange.startLineNumber,ie=r.visibleRange.endLineNumber;for(let he=0,ye=c.length;he<ye;he++){const Le=c[he];if(!Le.options.isWholeLine)continue;const Ie='<div class="cdr '+Le.options.className+'" style="left:0;width:100%;height:'+y+'px;"></div>',ze=Math.max(Le.range.startLineNumber,A),qe=Math.min(Le.range.endLineNumber,ie);for(let ot=ze;ot<=qe;ot++)_[ot-A]+=Ie}}_renderNormalDecorations(r,c,_){const y=String(this._lineHeight),A=r.visibleRange.startLineNumber;let ie=null,he=!1,ye=null;for(let Le=0,Ie=c.length;Le<Ie;Le++){const ze=c[Le];if(ze.options.isWholeLine)continue;const qe=ze.options.className,ot=Boolean(ze.options.showIfCollapsed);let bt=ze.range;ot&&1===bt.endColumn&&bt.endLineNumber!==bt.startLineNumber&&(bt=new hn.e(bt.startLineNumber,bt.startColumn,bt.endLineNumber-1,this._context.viewModel.getLineMaxColumn(bt.endLineNumber-1))),ie===qe&&he===ot&&hn.e.areIntersectingOrTouching(ye,bt)?ye=hn.e.plusRange(ye,bt):(null!==ie&&this._renderNormalDecoration(r,ye,ie,he,y,A,_),ie=qe,he=ot,ye=bt)}null!==ie&&this._renderNormalDecoration(r,ye,ie,he,y,A,_)}_renderNormalDecoration(r,c,_,y,A,ie,he){const ye=r.linesVisibleRangesForRange(c,"findMatch"===_);if(ye)for(let Le=0,Ie=ye.length;Le<Ie;Le++){const ze=ye[Le];if(ze.outsideRenderedLine)continue;const qe=ze.lineNumber-ie;if(y&&1===ze.ranges.length){const ot=ze.ranges[0];if(ot.width<this._typicalHalfwidthCharacterWidth){const bt=Math.round(ot.left+ot.width/2),xt=Math.max(0,Math.round(bt-this._typicalHalfwidthCharacterWidth/2));ze.ranges[0]=new rt(xt,this._typicalHalfwidthCharacterWidth)}}for(let ot=0,bt=ze.ranges.length;ot<bt;ot++){const xt=ze.ranges[ot],Nt='<div class="cdr '+_+'" style="left:'+String(xt.left)+"px;width:"+String(xt.width)+"px;height:"+A+'px;"></div>';he[qe]+=Nt}}}render(r,c){if(!this._renderResult)return"";const _=c-r;return _<0||_>=this._renderResult.length?"":this._renderResult[_]}}var Fo=m(6491),ao=m(98275);class dr extends _e{constructor(r,c,_,y){super(r);const A=this._context.configuration.options,ie=A.get(92),he=A.get(67),ye=A.get(34),Le=A.get(95),Ie={listenOnDomNode:_.domNode,className:"editor-scrollable "+(0,En.m6)(r.theme.type),useShadows:!1,lazyRender:!0,vertical:ie.vertical,horizontal:ie.horizontal,verticalHasArrows:ie.verticalHasArrows,horizontalHasArrows:ie.horizontalHasArrows,verticalScrollbarSize:ie.verticalScrollbarSize,verticalSliderSize:ie.verticalSliderSize,horizontalScrollbarSize:ie.horizontalScrollbarSize,horizontalSliderSize:ie.horizontalSliderSize,handleMouseWheel:ie.handleMouseWheel,alwaysConsumeMouseWheel:ie.alwaysConsumeMouseWheel,arrowSize:ie.arrowSize,mouseWheelScrollSensitivity:he,fastScrollSensitivity:ye,scrollPredominantAxis:Le,scrollByPage:ie.scrollByPage};this.scrollbar=this._register(new Fo.$Z(c.domNode,Ie,this._context.viewLayout.getScrollable())),Re.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,ce.X)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const ze=(qe,ot,bt)=>{const xt={};if(ot){const Nt=qe.scrollTop;Nt&&(xt.scrollTop=this._context.viewLayout.getCurrentScrollTop()+Nt,qe.scrollTop=0)}if(bt){const Nt=qe.scrollLeft;Nt&&(xt.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+Nt,qe.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(xt,1)};this._register(F.nm(_.domNode,"scroll",qe=>ze(_.domNode,!0,!0))),this._register(F.nm(c.domNode,"scroll",qe=>ze(c.domNode,!0,!1))),this._register(F.nm(y.domNode,"scroll",qe=>ze(y.domNode,!0,!1))),this._register(F.nm(this.scrollbarDomNode.domNode,"scroll",qe=>ze(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const r=this._context.configuration.options,c=r.get(131);this.scrollbarDomNode.setLeft(c.contentLeft),"right"===r.get(65).side?this.scrollbarDomNode.setWidth(c.contentWidth+c.minimap.minimapWidth):this.scrollbarDomNode.setWidth(c.contentWidth),this.scrollbarDomNode.setHeight(c.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarMouseDown(r){this.scrollbar.delegateVerticalScrollbarMouseDown(r)}onConfigurationChanged(r){if(r.hasChanged(92)||r.hasChanged(67)||r.hasChanged(34)){const c=this._context.configuration.options,_=c.get(92),y=c.get(67),A=c.get(34),ie=c.get(95);this.scrollbar.updateOptions({vertical:_.vertical,horizontal:_.horizontal,verticalScrollbarSize:_.verticalScrollbarSize,horizontalScrollbarSize:_.horizontalScrollbarSize,scrollByPage:_.scrollByPage,handleMouseWheel:_.handleMouseWheel,mouseWheelScrollSensitivity:y,fastScrollSensitivity:A,scrollPredominantAxis:ie})}return r.hasChanged(131)&&this._setLayout(),!0}onScrollChanged(r){return!0}onThemeChanged(r){return this.scrollbar.updateClassName("editor-scrollable "+(0,En.m6)(this._context.theme.type)),!0}prepareRender(r){}render(r){this.scrollbar.renderNow()}}(0,En.Ic)((Te,r)=>{const c=Te.getColor(ao._wn);c&&r.addRule(`\n\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\tbox-shadow: ${c} 0 6px 6px -6px inset;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\tbox-shadow: ${c} 6px 0 6px -6px inset;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .shadow.top.left {\n\t\t\t\tbox-shadow: ${c} 6px 6px 6px -6px inset;\n\t\t\t}\n\t\t`);const _=Te.getColor(ao.etL);_&&r.addRule(`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider {\n\t\t\t\tbackground: ${_};\n\t\t\t}\n\t\t`);const y=Te.getColor(ao.ABB);y&&r.addRule(`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\t\t\tbackground: ${y};\n\t\t\t}\n\t\t`);const A=Te.getColor(ao.ynu);A&&r.addRule(`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider.active {\n\t\t\t\tbackground: ${A};\n\t\t\t}\n\t\t`)}),m(61050);class uo{constructor(r,c,_){this._decorationToRenderBrand=void 0,this.startLineNumber=+r,this.endLineNumber=+c,this.className=String(_)}}class Io extends xn{_render(r,c,_){const y=[];for(let he=r;he<=c;he++)y[he-r]=[];if(0===_.length)return y;_.sort((he,ye)=>he.className===ye.className?he.startLineNumber===ye.startLineNumber?he.endLineNumber-ye.endLineNumber:he.startLineNumber-ye.startLineNumber:he.className<ye.className?-1:1);let A=null,ie=0;for(let he=0,ye=_.length;he<ye;he++){const Le=_[he],Ie=Le.className;let ze=Math.max(Le.startLineNumber,r)-r;const qe=Math.min(Le.endLineNumber,c)-r;A===Ie?(ze=Math.max(ie+1,ze),ie=Math.max(ie,qe)):(A=Ie,ie=qe);for(let ot=ze;ot<=ie;ot++)y[ot].push(A)}return y}}class Us extends Io{constructor(r){super(),this._context=r;const c=this._context.configuration.options,_=c.get(131);this._lineHeight=c.get(59),this._glyphMargin=c.get(50),this._glyphMarginLeft=_.glyphMarginLeft,this._glyphMarginWidth=_.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(r){const c=this._context.configuration.options,_=c.get(131);return this._lineHeight=c.get(59),this._glyphMargin=c.get(50),this._glyphMarginLeft=_.glyphMarginLeft,this._glyphMarginWidth=_.glyphMarginWidth,!0}onDecorationsChanged(r){return!0}onFlushed(r){return!0}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return r.scrollTopChanged}onZonesChanged(r){return!0}_getDecorations(r){const c=r.getDecorationsInViewport(),_=[];let y=0;for(let A=0,ie=c.length;A<ie;A++){const he=c[A],ye=he.options.glyphMarginClassName;ye&&(_[y++]=new uo(he.range.startLineNumber,he.range.endLineNumber,ye))}return _}prepareRender(r){if(!this._glyphMargin)return void(this._renderResult=null);const c=r.visibleRange.startLineNumber,_=r.visibleRange.endLineNumber,y=this._render(c,_,this._getDecorations(r)),A=this._lineHeight.toString(),ye='" style="left:'+this._glyphMarginLeft.toString()+"px;width:"+this._glyphMarginWidth.toString()+"px;height:"+A+'px;"></div>',Le=[];for(let Ie=c;Ie<=_;Ie++){const ze=Ie-c,qe=y[ze];Le[ze]=0===qe.length?"":'<div class="cgmr codicon '+qe.join(" ")+ye}this._renderResult=Le}render(r,c){if(!this._renderResult)return"";const _=c-r;return _<0||_>=this._renderResult.length?"":this._renderResult[_]}}m(19269);var js=m(99770),ps=m(21872),Eo=m(13151);class xs extends xn{constructor(r){super(),this._context=r,this._primaryPosition=null;const c=this._context.configuration.options,_=c.get(132),y=c.get(44);this._lineHeight=c.get(59),this._spaceWidth=y.spaceWidth,this._maxIndentLeft=-1===_.wrappingColumn?-1:_.wrappingColumn*y.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=c.get(13),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(r){const c=this._context.configuration.options,_=c.get(132),y=c.get(44);return this._lineHeight=c.get(59),this._spaceWidth=y.spaceWidth,this._maxIndentLeft=-1===_.wrappingColumn?-1:_.wrappingColumn*y.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=c.get(13),!0}onCursorStateChanged(r){var c;const y=r.selections[0].getPosition();return!(null===(c=this._primaryPosition)||void 0===c?void 0:c.equals(y))&&(this._primaryPosition=y,!0)}onDecorationsChanged(r){return!0}onFlushed(r){return!0}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return r.scrollTopChanged}onZonesChanged(r){return!0}onLanguageConfigurationChanged(r){return!0}prepareRender(r){var c,_,y,A;if(!this._bracketPairGuideOptions.indentation&&!1===this._bracketPairGuideOptions.bracketPairs)return void(this._renderResult=null);const ie=r.visibleRange.startLineNumber,he=r.visibleRange.endLineNumber,ye=r.scrollWidth,Le=this._lineHeight,ze=this.getGuidesByLine(ie,he,this._primaryPosition),qe=[];for(let ot=ie;ot<=he;ot++){const bt=ot-ie,xt=ze[bt];let Nt="";const tn=null!==(_=null===(c=r.visibleRangeForPosition(new sn.L(ot,1)))||void 0===c?void 0:c.left)&&void 0!==_?_:0;for(const ln of xt){const $t=tn+(ln.visibleColumn-1)*this._spaceWidth;if($t>ye||this._maxIndentLeft>0&&$t>this._maxIndentLeft)break;const On=ln.horizontalLine?ln.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",In=ln.horizontalLine?(null!==(A=null===(y=r.visibleRangeForPosition(new sn.L(ot,ln.horizontalLine.endColumn)))||void 0===y?void 0:y.left)&&void 0!==A?A:$t+this._spaceWidth)-$t:this._spaceWidth;Nt+=`<div class="core-guide ${ln.className} ${On}" style="left:${$t}px;height:${Le}px;width:${In}px"></div>`}qe[bt]=Nt}this._renderResult=qe}getGuidesByLine(r,c,_){const y=!1!==this._bracketPairGuideOptions.bracketPairs?this._context.viewModel.getBracketGuidesInRangeByLine(r,c,_,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:!0===this._bracketPairGuideOptions.bracketPairsHorizontal?Eo.s6.Enabled:"active"===this._bracketPairGuideOptions.bracketPairsHorizontal?Eo.s6.EnabledForActive:Eo.s6.Disabled,includeInactive:!0===this._bracketPairGuideOptions.bracketPairs}):null,A=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(r,c):null;let ie=0,he=0,ye=0;if(this._bracketPairGuideOptions.highlightActiveIndentation&&_){const ze=this._context.viewModel.getActiveIndentGuide(_.lineNumber,r,c);ie=ze.startLineNumber,he=ze.endLineNumber,ye=ze.indent}const{indentSize:Le}=this._context.viewModel.model.getOptions(),Ie=[];for(let ze=r;ze<=c;ze++){const qe=new Array;Ie.push(qe);const ot=y?y[ze-r]:[],bt=new f.H9(ot),xt=A?A[ze-r]:[];for(let Nt=1;Nt<=xt;Nt++){const tn=(Nt-1)*Le+1,ln=0===ot.length&&ie<=ze&&ze<=he&&Nt===ye;qe.push(...bt.takeWhile(On=>On.visibleColumn<tn)||[]);const $t=bt.peek();(!$t||$t.visibleColumn!==tn||$t.horizontalLine)&&qe.push(new Eo.UO(tn,ln?"core-guide-indent-active":"core-guide-indent",null))}qe.push(...bt.takeWhile(Nt=>!0)||[])}return Ie}render(r,c){if(!this._renderResult)return"";const _=c-r;return _<0||_>=this._renderResult.length?"":this._renderResult[_]}}function er(Te){if(!Te||!Te.isTransparent())return Te}(0,En.Ic)((Te,r)=>{const c=Te.getColor(Kt.tR);c&&r.addRule(`.monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 ${c} inset; }`);const _=Te.getColor(Kt.Ym)||c;_&&r.addRule(`.monaco-editor .lines-content .core-guide-indent-active { box-shadow: 1px 0 0 0 ${_} inset; }`);const y=[{bracketColor:Kt.zJ,guideColor:Kt.oV,guideColorActive:Kt.Qb},{bracketColor:Kt.Vs,guideColor:Kt.m$,guideColorActive:Kt.m3},{bracketColor:Kt.CE,guideColor:Kt.DS,guideColorActive:Kt.To},{bracketColor:Kt.UP,guideColor:Kt.lS,guideColorActive:Kt.L7},{bracketColor:Kt.r0,guideColor:Kt.Jn,guideColorActive:Kt.HV},{bracketColor:Kt.m1,guideColor:Kt.YF,guideColorActive:Kt.f9}],A=new ps.W,ie=y.map(he=>{var ye,Le;const Ie=Te.getColor(he.bracketColor),ze=Te.getColor(he.guideColor),qe=Te.getColor(he.guideColorActive),ot=er(null!==(ye=er(ze))&&void 0!==ye?ye:null==Ie?void 0:Ie.transparent(.3)),bt=er(null!==(Le=er(qe))&&void 0!==Le?Le:Ie);if(ot&&bt)return{guideColor:ot,guideColorActive:bt}}).filter(js.$K);if(ie.length>0){for(let he=0;he<30;he++){const ye=ie[he%ie.length];r.addRule(`.monaco-editor .${A.getInlineClassNameOfLevel(he).replace(/ /g,".")} { --guide-color: ${ye.guideColor}; --guide-color-active: ${ye.guideColorActive}; }`)}r.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),r.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),r.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),r.addRule(`.monaco-editor .vertical.${A.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),r.addRule(`.monaco-editor .horizontal-top.${A.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),r.addRule(`.monaco-editor .horizontal-bottom.${A.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}}),m(97227);class zi{constructor(){this._currentVisibleRange=new hn.e(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(r){this._currentVisibleRange=r}}class So{constructor(r,c,_,y,A,ie,he){this.minimalReveal=r,this.lineNumber=c,this.startColumn=_,this.endColumn=y,this.startScrollTop=A,this.stopScrollTop=ie,this.scrollType=he,this.type="range",this.minLineNumber=c,this.maxLineNumber=c}}class Ts{constructor(r,c,_,y,A){this.minimalReveal=r,this.selections=c,this.startScrollTop=_,this.stopScrollTop=y,this.scrollType=A,this.type="selections";let ie=c[0].startLineNumber,he=c[0].endLineNumber;for(let ye=1,Le=c.length;ye<Le;ye++){const Ie=c[ye];ie=Math.min(ie,Ie.startLineNumber),he=Math.max(he,Ie.endLineNumber)}this.minLineNumber=ie,this.maxLineNumber=he}}let tr=(()=>{class Te extends _e{constructor(c,_){super(c),this._linesContent=_,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new so(this),this.domNode=this._visibleLines.domNode;const y=this._context.configuration,A=this._context.configuration.options,ie=A.get(44),he=A.get(132),ye=A.get(131);this._lineHeight=A.get(59),this._typicalHalfwidthCharacterWidth=ie.typicalHalfwidthCharacterWidth,this._isViewportWrapping=he.isViewportWrapping,this._revealHorizontalRightPadding=A.get(89),this._horizontalScrollbarHeight=ye.horizontalScrollbarHeight,this._cursorSurroundingLines=A.get(25),this._cursorSurroundingLinesStyle=A.get(26),this._canUseLayerHinting=!A.get(28),this._viewLineOptions=new Bt(y,this._context.theme.type),Re.write(this.domNode,7),this.domNode.setClassName(`view-lines ${mi.S}`),(0,vn.N)(this.domNode,ie),this._maxLineWidth=0,this._asyncUpdateLineWidths=new Ve.pY(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new Ve.pY(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new zi,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new Wt(this._viewLineOptions)}onConfigurationChanged(c){this._visibleLines.onConfigurationChanged(c),c.hasChanged(132)&&(this._maxLineWidth=0);const _=this._context.configuration.options,y=_.get(44),A=_.get(132),ie=_.get(131);return this._lineHeight=_.get(59),this._typicalHalfwidthCharacterWidth=y.typicalHalfwidthCharacterWidth,this._isViewportWrapping=A.isViewportWrapping,this._revealHorizontalRightPadding=_.get(89),this._horizontalScrollbarHeight=ie.horizontalScrollbarHeight,this._cursorSurroundingLines=_.get(25),this._cursorSurroundingLinesStyle=_.get(26),this._canUseLayerHinting=!_.get(28),(0,vn.N)(this.domNode,y),this._onOptionsMaybeChanged(),c.hasChanged(131)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const _=new Bt(this._context.configuration,this._context.theme.type);if(!this._viewLineOptions.equals(_)){this._viewLineOptions=_;const y=this._visibleLines.getStartLineNumber(),A=this._visibleLines.getEndLineNumber();for(let ie=y;ie<=A;ie++)this._visibleLines.getVisibleLine(ie).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(c){const _=this._visibleLines.getStartLineNumber(),y=this._visibleLines.getEndLineNumber();let A=!1;for(let ie=_;ie<=y;ie++)A=this._visibleLines.getVisibleLine(ie).onSelectionChanged()||A;return A}onDecorationsChanged(c){{const _=this._visibleLines.getStartLineNumber(),y=this._visibleLines.getEndLineNumber();for(let A=_;A<=y;A++)this._visibleLines.getVisibleLine(A).onDecorationsChanged()}return!0}onFlushed(c){const _=this._visibleLines.onFlushed(c);return this._maxLineWidth=0,_}onLinesChanged(c){return this._visibleLines.onLinesChanged(c)}onLinesDeleted(c){return this._visibleLines.onLinesDeleted(c)}onLinesInserted(c){return this._visibleLines.onLinesInserted(c)}onRevealRangeRequest(c){const _=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),c.source,c.minimalReveal,c.range,c.selections,c.verticalType);if(-1===_)return!1;let y=this._context.viewLayout.validateScrollPosition({scrollTop:_});c.revealHorizontal?c.range&&c.range.startLineNumber!==c.range.endLineNumber?y={scrollTop:y.scrollTop,scrollLeft:0}:c.range?this._horizontalRevealRequest=new So(c.minimalReveal,c.range.startLineNumber,c.range.startColumn,c.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),y.scrollTop,c.scrollType):c.selections&&c.selections.length>0&&(this._horizontalRevealRequest=new Ts(c.minimalReveal,c.selections,this._context.viewLayout.getCurrentScrollTop(),y.scrollTop,c.scrollType)):this._horizontalRevealRequest=null;const ie=Math.abs(this._context.viewLayout.getCurrentScrollTop()-y.scrollTop)<=this._lineHeight?1:c.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(y,ie),!0}onScrollChanged(c){if(this._horizontalRevealRequest&&c.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&c.scrollTopChanged){const _=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),y=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(c.scrollTop<_||c.scrollTop>y)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(c.scrollWidth),this._visibleLines.onScrollChanged(c)||!0}onTokensChanged(c){return this._visibleLines.onTokensChanged(c)}onZonesChanged(c){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(c)}onThemeChanged(c){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(c,_){const y=this._getViewLineDomNode(c);if(null===y)return null;const A=this._getLineNumberFor(y);if(-1===A||A<1||A>this._context.viewModel.getLineCount())return null;if(1===this._context.viewModel.getLineMaxColumn(A))return new sn.L(A,1);const ie=this._visibleLines.getStartLineNumber(),he=this._visibleLines.getEndLineNumber();if(A<ie||A>he)return null;let ye=this._visibleLines.getVisibleLine(A).getColumnOfNodeOffset(A,c,_);const Le=this._context.viewModel.getLineMinColumn(A);return ye<Le&&(ye=Le),new sn.L(A,ye)}_getViewLineDomNode(c){for(;c&&1===c.nodeType;){if(c.className===Wt.CLASS_NAME)return c;c=c.parentElement}return null}_getLineNumberFor(c){const _=this._visibleLines.getStartLineNumber(),y=this._visibleLines.getEndLineNumber();for(let A=_;A<=y;A++)if(c===this._visibleLines.getVisibleLine(A).getDomNode())return A;return-1}getLineWidth(c){const _=this._visibleLines.getStartLineNumber(),y=this._visibleLines.getEndLineNumber();return c<_||c>y?-1:this._visibleLines.getVisibleLine(c).getWidth()}linesVisibleRangesForRange(c,_){if(this.shouldRender())return null;const y=c.endLineNumber,A=hn.e.intersectRanges(c,this._lastRenderedData.getCurrentVisibleRange());if(!A)return null;let ie=[],he=0;const ye=new Rt(this.domNode.domNode,this._textRangeRestingSpot);let Le=0;_&&(Le=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new sn.L(A.startLineNumber,1)).lineNumber);const Ie=this._visibleLines.getStartLineNumber(),ze=this._visibleLines.getEndLineNumber();for(let qe=A.startLineNumber;qe<=A.endLineNumber;qe++){if(qe<Ie||qe>ze)continue;const ot=qe===A.startLineNumber?A.startColumn:1,bt=qe===A.endLineNumber?A.endColumn:this._context.viewModel.getLineMaxColumn(qe),xt=this._visibleLines.getVisibleLine(qe).getVisibleRangesForRange(qe,ot,bt,ye);if(xt){if(_&&qe<y){const Nt=Le;Le=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new sn.L(qe+1,1)).lineNumber,Nt!==Le&&(xt.ranges[xt.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}ie[he++]=new Pe(xt.outsideRenderedLine,qe,rt.from(xt.ranges))}}return 0===he?null:ie}_visibleRangesForLineRange(c,_,y){return this.shouldRender()||c<this._visibleLines.getStartLineNumber()||c>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(c).getVisibleRangesForRange(c,_,y,new Rt(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(c){const _=this._visibleRangesForLineRange(c.lineNumber,c.column,c.column);return _?new nt(_.outsideRenderedLine,_.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(c){const _=this._visibleLines.getStartLineNumber(),y=this._visibleLines.getEndLineNumber();let A=1,ie=!0;for(let he=_;he<=y;he++){const ye=this._visibleLines.getVisibleLine(he);!c||ye.getWidthIsFast()?A=Math.max(A,ye.getWidth()):ie=!1}return ie&&1===_&&y===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(A),ie}_checkMonospaceFontAssumptions(){let c=-1,_=-1;const y=this._visibleLines.getStartLineNumber(),A=this._visibleLines.getEndLineNumber();for(let ie=y;ie<=A;ie++){const he=this._visibleLines.getVisibleLine(ie);if(he.needsMonospaceFontCheck()){const ye=he.getWidth();ye>_&&(_=ye,c=ie)}}if(-1!==c&&!this._visibleLines.getVisibleLine(c).monospaceAssumptionsAreValid())for(let ie=y;ie<=A;ie++)this._visibleLines.getVisibleLine(ie).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(c){if(this._visibleLines.renderLines(c),this._lastRenderedData.setCurrentVisibleRange(c.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const y=this._horizontalRevealRequest;if(c.startLineNumber<=y.minLineNumber&&y.maxLineNumber<=c.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const A=this._computeScrollLeftToReveal(y);A&&(this._isViewportWrapping||this._ensureMaxLineWidth(A.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:A.scrollLeft},y.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),z.IJ&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const y=this._visibleLines.getStartLineNumber(),A=this._visibleLines.getEndLineNumber();for(let ie=y;ie<=A;ie++)if(this._visibleLines.getVisibleLine(ie).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const _=this._context.viewLayout.getCurrentScrollTop()-c.bigNumbersDelta;this._linesContent.setTop(-_),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(c){const _=Math.ceil(c);this._maxLineWidth<_&&(this._maxLineWidth=_,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(c,_,y,A,ie,he){const ye=c.top,Le=c.height,Ie=ye+Le;let ze,qe,ot,xt;if(ie&&ie.length>0){let Nt=ie[0].startLineNumber,tn=ie[0].endLineNumber;for(let ln=1,$t=ie.length;ln<$t;ln++){const On=ie[ln];Nt=Math.min(Nt,On.startLineNumber),tn=Math.max(tn,On.endLineNumber)}ze=!1,qe=this._context.viewLayout.getVerticalOffsetForLineNumber(Nt),ot=this._context.viewLayout.getVerticalOffsetForLineNumber(tn)+this._lineHeight}else{if(!A)return-1;ze=!0,qe=this._context.viewLayout.getVerticalOffsetForLineNumber(A.startLineNumber),ot=this._context.viewLayout.getVerticalOffsetForLineNumber(A.endLineNumber)+this._lineHeight}if("mouse"!==_&&!y||"default"!==this._cursorSurroundingLinesStyle){const Nt=Math.min(Le/this._lineHeight/2,this._cursorSurroundingLines);qe-=Nt*this._lineHeight,ot+=Math.max(0,Nt-1)*this._lineHeight}else y||(qe-=this._lineHeight);if((0===he||4===he)&&(ot+=y?this._horizontalScrollbarHeight:this._lineHeight),ot-qe>Le){if(!ze)return-1;xt=qe}else if(5===he||6===he)if(6===he&&ye<=qe&&ot<=Ie)xt=ye;else{const Nt=Math.max(5*this._lineHeight,.2*Le);xt=Math.max(ot-Le,qe-Nt)}else xt=1===he||2===he?2===he&&ye<=qe&&ot<=Ie?ye:Math.max(0,(qe+ot)/2-Le/2):this._computeMinimumScrolling(ye,Ie,qe,ot,3===he,4===he);return xt}_computeScrollLeftToReveal(c){const _=this._context.viewLayout.getCurrentViewport(),y=_.left,A=y+_.width;let ie=1073741824,he=0;if("range"===c.type){const Le=this._visibleRangesForLineRange(c.lineNumber,c.startColumn,c.endColumn);if(!Le)return null;for(const Ie of Le.ranges)ie=Math.min(ie,Math.round(Ie.left)),he=Math.max(he,Math.round(Ie.left+Ie.width))}else for(const Le of c.selections){if(Le.startLineNumber!==Le.endLineNumber)return null;const Ie=this._visibleRangesForLineRange(Le.startLineNumber,Le.startColumn,Le.endColumn);if(!Ie)return null;for(const ze of Ie.ranges)ie=Math.min(ie,Math.round(ze.left)),he=Math.max(he,Math.round(ze.left+ze.width))}return c.minimalReveal||(ie=Math.max(0,ie-Te.HORIZONTAL_EXTRA_PX),he+=this._revealHorizontalRightPadding),"selections"===c.type&&he-ie>_.width?null:{scrollLeft:this._computeMinimumScrolling(y,A,ie,he),maxHorizontalOffset:he}}_computeMinimumScrolling(c,_,y,A,ie,he){ie=!!ie,he=!!he;const ye=(_|=0)-(c|=0);return(A|=0)-(y|=0)<ye?ie?y:he?Math.max(0,A-ye):y<c?y:A>_?Math.max(0,A-ye):c:y}}return Te.HORIZONTAL_EXTRA_PX=30,Te})();m(38586);class wt extends Io{constructor(r){super(),this._context=r;const _=this._context.configuration.options.get(131);this._decorationsLeft=_.decorationsLeft,this._decorationsWidth=_.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(r){const _=this._context.configuration.options.get(131);return this._decorationsLeft=_.decorationsLeft,this._decorationsWidth=_.decorationsWidth,!0}onDecorationsChanged(r){return!0}onFlushed(r){return!0}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return r.scrollTopChanged}onZonesChanged(r){return!0}_getDecorations(r){const c=r.getDecorationsInViewport(),_=[];let y=0;for(let A=0,ie=c.length;A<ie;A++){const he=c[A],ye=he.options.linesDecorationsClassName;ye&&(_[y++]=new uo(he.range.startLineNumber,he.range.endLineNumber,ye));const Le=he.options.firstLineDecorationClassName;Le&&(_[y++]=new uo(he.range.startLineNumber,he.range.startLineNumber,Le))}return _}prepareRender(r){const c=r.visibleRange.startLineNumber,_=r.visibleRange.endLineNumber,y=this._render(c,_,this._getDecorations(r)),he='" style="left:'+this._decorationsLeft.toString()+"px;width:"+this._decorationsWidth.toString()+'px;"></div>',ye=[];for(let Le=c;Le<=_;Le++){const Ie=Le-c,ze=y[Ie];let qe="";for(let ot=0,bt=ze.length;ot<bt;ot++)qe+='<div class="cldr '+ze[ot]+he;ye[Ie]=qe}this._renderResult=ye}render(r,c){return this._renderResult?this._renderResult[c-r]:""}}m(6728);class h extends Io{constructor(r){super(),this._context=r,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(r){return!0}onDecorationsChanged(r){return!0}onFlushed(r){return!0}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return r.scrollTopChanged}onZonesChanged(r){return!0}_getDecorations(r){const c=r.getDecorationsInViewport(),_=[];let y=0;for(let A=0,ie=c.length;A<ie;A++){const he=c[A],ye=he.options.marginClassName;ye&&(_[y++]=new uo(he.range.startLineNumber,he.range.endLineNumber,ye))}return _}prepareRender(r){const c=r.visibleRange.startLineNumber,_=r.visibleRange.endLineNumber,y=this._render(c,_,this._getDecorations(r)),A=[];for(let ie=c;ie<=_;ie++){const he=ie-c,ye=y[he];let Le="";for(let Ie=0,ze=ye.length;Ie<ze;Ie++)Le+='<div class="cmdr '+ye[Ie]+'" style=""></div>';A[he]=Le}this._renderResult=A}render(r,c){return this._renderResult?this._renderResult[c-r]:""}}m(39319);var W=m(8535);class te{constructor(r,c,_,y){this._rgba8Brand=void 0,this.r=te._clamp(r),this.g=te._clamp(c),this.b=te._clamp(_),this.a=te._clamp(y)}equals(r){return this.r===r.r&&this.g===r.g&&this.b===r.b&&this.a===r.a}static _clamp(r){return r<0?0:r>255?255:0|r}}te.Empty=new te(0,0,0,0);let ae=(()=>{class Te extends C.JT{constructor(){super(),this._onDidChange=new S.Q5,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(Li.RW.onDidChange(c=>{c.changedColorMap&&this._updateColorMap()}))}static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,C.dk)(new Te)),this._INSTANCE}_updateColorMap(){const c=Li.RW.getColorMap();if(!c)return this._colors=[te.Empty],void(this._backgroundIsLight=!0);this._colors=[te.Empty];for(let y=1;y<c.length;y++){const A=c[y].rgba;this._colors[y]=new te(A.r,A.g,A.b,Math.round(255*A.a))}const _=c[2].getRelativeLuminance();this._backgroundIsLight=_>=.5,this._onDidChange.fire(void 0)}getColor(c){return(c<1||c>=this._colors.length)&&(c=2),this._colors[c]}backgroundIsLight(){return this._backgroundIsLight}}return Te._INSTANCE=null,Te})();var Ce=m(42483);const Oe=(()=>{const Te=[];for(let r=32;r<=126;r++)Te.push(r);return Te.push(65533),Te})();var Ge=m(68733);class Je{constructor(r,c){this.scale=c,this._minimapCharRendererBrand=void 0,this.charDataNormal=Je.soften(r,.8),this.charDataLight=Je.soften(r,50/60)}static soften(r,c){const _=new Uint8ClampedArray(r.length);for(let y=0,A=r.length;y<A;y++)_[y]=(0,Ge.K)(r[y]*c);return _}renderChar(r,c,_,y,A,ie,he,ye,Le,Ie,ze){const qe=1*this.scale,ot=2*this.scale,bt=ze?1:ot;if(c+qe>r.width||_+bt>r.height)return void console.warn("bad render request outside image data");const xt=Ie?this.charDataLight:this.charDataNormal,Nt=((Te,r)=>(Te-=32)<0||Te>96?r<=2?(Te+96)%96:95:Te)(y,Le),tn=4*r.width,ln=he.r,$t=he.g,On=he.b,In=A.r-ln,Rn=A.g-$t,Fn=A.b-On,Dn=Math.max(ie,ye),Cn=r.data;let Mi=Nt*qe*ot,ri=_*tn+4*c;for(let _o=0;_o<bt;_o++){let Co=ri;for(let ts=0;ts<qe;ts++){const qi=xt[Mi++]/255*(ie/255);Cn[Co++]=ln+In*qi,Cn[Co++]=$t+Rn*qi,Cn[Co++]=On+Fn*qi,Cn[Co++]=Dn}ri+=tn}}blockRenderChar(r,c,_,y,A,ie,he,ye){const Le=1*this.scale,ze=ye?1:2*this.scale;if(c+Le>r.width||_+ze>r.height)return void console.warn("bad render request outside image data");const qe=4*r.width,ot=A/255*.5,bt=ie.r,xt=ie.g,Nt=ie.b,On=bt+(y.r-bt)*ot,In=xt+(y.g-xt)*ot,Rn=Nt+(y.b-Nt)*ot,Fn=Math.max(A,he),Dn=r.data;let Cn=_*qe+4*c;for(let Mi=0;Mi<ze;Mi++){let ri=Cn;for(let _o=0;_o<Le;_o++)Dn[ri++]=On,Dn[ri++]=In,Dn[ri++]=Rn,Dn[ri++]=Fn;Cn+=qe}}}var it=m(16811);const ht={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},gt=Te=>{const r=new Uint8ClampedArray(Te.length/2);for(let c=0;c<Te.length;c+=2)r[c>>1]=ht[Te[c]]<<4|15&ht[Te[c+1]];return r},Et={1:(0,it.I)(()=>gt("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,it.I)(()=>gt("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};class Ft{static create(r,c){if(this.lastCreated&&r===this.lastCreated.scale&&c===this.lastFontFamily)return this.lastCreated;let _;return _=Et[r]?new Je(Et[r](),r):Ft.createFromSampleData(Ft.createSampleData(c).data,r),this.lastFontFamily=c,this.lastCreated=_,_}static createSampleData(r){const c=document.createElement("canvas"),_=c.getContext("2d");c.style.height="16px",c.height=16,c.width=960,c.style.width="960px",_.fillStyle="#ffffff",_.font=`bold 16px ${r}`,_.textBaseline="middle";let y=0;for(const A of Oe)_.fillText(String.fromCharCode(A),y,8),y+=10;return _.getImageData(0,0,960,16)}static createFromSampleData(r,c){if(61440!==r.length)throw new Error("Unexpected source in MinimapCharRenderer");const y=Ft._downsample(r,c);return new Je(y,c)}static _downsampleChar(r,c,_,y,A){const ie=1*A,he=2*A;let ye=y,Le=0;for(let Ie=0;Ie<he;Ie++){const ze=Ie/he*16,qe=(Ie+1)/he*16;for(let ot=0;ot<ie;ot++){const bt=ot/ie*10,xt=(ot+1)/ie*10;let Nt=0,tn=0;for(let $t=ze;$t<qe;$t++){const On=c+3840*Math.floor($t),In=1-($t-Math.floor($t));for(let Rn=bt;Rn<xt;Rn++){const Fn=1-(Rn-Math.floor(Rn)),Dn=On+4*Math.floor(Rn),Cn=Fn*In;tn+=Cn,Nt+=r[Dn]*r[Dn+3]/255*Cn}}const ln=Nt/tn;Le=Math.max(Le,ln),_[ye++]=(0,Ge.K)(ln)}}return Le}static _downsample(r,c){const _=2*c*1*c,y=96*_,A=new Uint8ClampedArray(y);let ie=0,he=0,ye=0;for(let Le=0;Le<96;Le++)ye=Math.max(ye,this._downsampleChar(r,he,A,ie,c)),ie+=_,he+=40;if(ye>0){const Le=255/ye;for(let Ie=0;Ie<y;Ie++)A[Ie]*=Le}return A}}var Zt=m(80067);class li{constructor(r,c,_){const y=r.options,A=y.get(129),ie=y.get(131),he=ie.minimap,ye=y.get(44),Le=y.get(65);this.renderMinimap=he.renderMinimap,this.size=Le.size,this.minimapHeightIsEditorHeight=he.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=y.get(94),this.showSlider=Le.showSlider,this.pixelRatio=A,this.typicalHalfwidthCharacterWidth=ye.typicalHalfwidthCharacterWidth,this.lineHeight=y.get(59),this.minimapLeft=he.minimapLeft,this.minimapWidth=he.minimapWidth,this.minimapHeight=ie.height,this.canvasInnerWidth=he.minimapCanvasInnerWidth,this.canvasInnerHeight=he.minimapCanvasInnerHeight,this.canvasOuterWidth=he.minimapCanvasOuterWidth,this.canvasOuterHeight=he.minimapCanvasOuterHeight,this.isSampling=he.minimapIsSampling,this.editorHeight=ie.height,this.fontScale=he.minimapScale,this.minimapLineHeight=he.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,it.I)(()=>Ft.create(this.fontScale,ye.fontFamily)),this.defaultBackgroundColor=_.getColor(2),this.backgroundColor=li._getMinimapBackground(c,this.defaultBackgroundColor),this.foregroundAlpha=li._getMinimapForegroundOpacity(c)}static _getMinimapBackground(r,c){const _=r.getColor(ao.kVY);return _?new te(_.rgba.r,_.rgba.g,_.rgba.b,Math.round(255*_.rgba.a)):c}static _getMinimapForegroundOpacity(r){const c=r.getColor(ao.Itd);return c?te._clamp(Math.round(255*c.rgba.a)):255}equals(r){return this.renderMinimap===r.renderMinimap&&this.size===r.size&&this.minimapHeightIsEditorHeight===r.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===r.scrollBeyondLastLine&&this.showSlider===r.showSlider&&this.pixelRatio===r.pixelRatio&&this.typicalHalfwidthCharacterWidth===r.typicalHalfwidthCharacterWidth&&this.lineHeight===r.lineHeight&&this.minimapLeft===r.minimapLeft&&this.minimapWidth===r.minimapWidth&&this.minimapHeight===r.minimapHeight&&this.canvasInnerWidth===r.canvasInnerWidth&&this.canvasInnerHeight===r.canvasInnerHeight&&this.canvasOuterWidth===r.canvasOuterWidth&&this.canvasOuterHeight===r.canvasOuterHeight&&this.isSampling===r.isSampling&&this.editorHeight===r.editorHeight&&this.fontScale===r.fontScale&&this.minimapLineHeight===r.minimapLineHeight&&this.minimapCharWidth===r.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(r.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(r.backgroundColor)&&this.foregroundAlpha===r.foregroundAlpha}}class pt{constructor(r,c,_,y,A,ie,he,ye){this.scrollTop=r,this.scrollHeight=c,this.sliderNeeded=_,this._computedSliderRatio=y,this.sliderTop=A,this.sliderHeight=ie,this.startLineNumber=he,this.endLineNumber=ye}getDesiredScrollTopFromDelta(r){return Math.round(this.scrollTop+r/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(r){return Math.round((r-this.sliderHeight/2)/this._computedSliderRatio)}static create(r,c,_,y,A,ie,he,ye,Le,Ie,ze){const qe=r.pixelRatio,ot=r.minimapLineHeight,bt=Math.floor(r.canvasInnerHeight/ot),xt=r.lineHeight;if(r.minimapHeightIsEditorHeight){const Rn=Math.max(1,Math.floor(A*A/(ye*r.lineHeight+(r.scrollBeyondLastLine?A-r.lineHeight:0)))),Fn=Math.max(0,r.minimapHeight-Rn),Dn=Fn/(Ie-A),Cn=Le*Dn,Mi=Fn>0,ri=Math.floor(r.canvasInnerHeight/r.minimapLineHeight);return new pt(Le,Ie,Mi,Dn,Cn,Rn,1,Math.min(he,ri))}let Nt,tn;Nt=ie&&_!==he?Math.floor((_-c+1)*ot/qe):Math.floor(A/xt*ot/qe),tn=r.scrollBeyondLastLine?(he-1)*ot/qe:Math.max(0,he*ot/qe-Nt),tn=Math.min(r.minimapHeight-Nt,tn);const ln=tn/(Ie-A),$t=Le*ln;let On=0;if(r.scrollBeyondLastLine&&(On=A/xt-1),bt>=he+On)return new pt(Le,Ie,tn>0,ln,$t,Nt,1,he);{let In=Math.max(1,Math.floor(c-$t*qe/ot));ze&&ze.scrollHeight===Ie&&(ze.scrollTop>Le&&(In=Math.min(In,ze.startLineNumber)),ze.scrollTop<Le&&(In=Math.max(In,ze.startLineNumber)));const Rn=Math.min(he,In+bt-1);return new pt(Le,Ie,!0,ln,(c-In+(Le-y)/xt)*ot/qe,Nt,In,Rn)}}}class Pi{constructor(r){this.dy=r}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}Pi.INVALID=new Pi(-1);class si{constructor(r,c,_){this.renderedLayout=r,this._imageData=c,this._renderedLines=new Ii(()=>Pi.INVALID),this._renderedLines._set(r.startLineNumber,_)}linesEquals(r){if(!this.scrollEquals(r))return!1;const _=this._renderedLines._get().lines;for(let y=0,A=_.length;y<A;y++)if(-1===_[y].dy)return!1;return!0}scrollEquals(r){return this.renderedLayout.startLineNumber===r.startLineNumber&&this.renderedLayout.endLineNumber===r.endLineNumber}_get(){const r=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:r.rendLineNumberStart,lines:r.lines}}onLinesChanged(r,c){return this._renderedLines.onLinesChanged(r,c)}onLinesDeleted(r,c){this._renderedLines.onLinesDeleted(r,c)}onLinesInserted(r,c){this._renderedLines.onLinesInserted(r,c)}onTokensChanged(r){return this._renderedLines.onTokensChanged(r)}}class ho{constructor(r,c,_,y){this._backgroundFillData=ho._createBackgroundFillData(c,_,y),this._buffers=[r.createImageData(c,_),r.createImageData(c,_)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const r=this._buffers[this._lastUsedBuffer];return r.data.set(this._backgroundFillData),r}static _createBackgroundFillData(r,c,_){const y=_.r,A=_.g,ie=_.b,he=_.a,ye=new Uint8ClampedArray(r*c*4);let Le=0;for(let Ie=0;Ie<c;Ie++)for(let ze=0;ze<r;ze++)ye[Le]=y,ye[Le+1]=A,ye[Le+2]=ie,ye[Le+3]=he,Le+=4;return ye}}class Ps{constructor(r,c){this.samplingRatio=r,this.minimapLines=c}static compute(r,c,_){if(0===r.renderMinimap||!r.isSampling)return[null,[]];const y=r.pixelRatio,A=r.lineHeight,ie=r.scrollBeyondLastLine,{minimapLineCount:he}=$.gk.computeContainedMinimapLineCount({viewLineCount:c,scrollBeyondLastLine:ie,height:r.editorHeight,lineHeight:A,pixelRatio:y}),ye=c/he,Le=ye/2;if(!_||0===_.minimapLines.length){const $t=[];if($t[0]=1,he>1){for(let On=0,In=he-1;On<In;On++)$t[On]=Math.round(On*ye+Le);$t[he-1]=c}return[new Ps(ye,$t),[]]}const Ie=_.minimapLines,ze=Ie.length,qe=[];let ot=0,bt=0,xt=1,tn=[],ln=null;for(let $t=0;$t<he;$t++){const On=Math.max(xt,Math.round($t*ye)),In=Math.max(On,Math.round(($t+1)*ye));for(;ot<ze&&Ie[ot]<On;){if(tn.length<10){const Fn=ot+1+bt;ln&&"deleted"===ln.type&&ln._oldIndex===ot-1?ln.deleteToLineNumber++:(ln={type:"deleted",_oldIndex:ot,deleteFromLineNumber:Fn,deleteToLineNumber:Fn},tn.push(ln)),bt--}ot++}let Rn;if(ot<ze&&Ie[ot]<=In)Rn=Ie[ot],ot++;else if(Rn=0===$t?1:$t+1===he?c:Math.round($t*ye+Le),tn.length<10){const Fn=ot+1+bt;ln&&"inserted"===ln.type&&ln._i===$t-1?ln.insertToLineNumber++:(ln={type:"inserted",_i:$t,insertFromLineNumber:Fn,insertToLineNumber:Fn},tn.push(ln)),bt++}qe[$t]=Rn,xt=Rn}if(tn.length<10)for(;ot<ze;){const $t=ot+1+bt;ln&&"deleted"===ln.type&&ln._oldIndex===ot-1?ln.deleteToLineNumber++:(ln={type:"deleted",_oldIndex:ot,deleteFromLineNumber:$t,deleteToLineNumber:$t},tn.push(ln)),bt--,ot++}else tn=[{type:"flush"}];return[new Ps(ye,qe),tn]}modelLineToMinimapLine(r){return Math.min(this.minimapLines.length,Math.max(1,Math.round(r/this.samplingRatio)))}modelLineRangeToMinimapLineRange(r,c){let _=this.modelLineToMinimapLine(r)-1;for(;_>0&&this.minimapLines[_-1]>=r;)_--;let y=this.modelLineToMinimapLine(c)-1;for(;y+1<this.minimapLines.length&&this.minimapLines[y+1]<=c;)y++;if(_===y){const A=this.minimapLines[_];if(A<r||A>c)return null}return[_+1,y+1]}decorationLineRangeToMinimapLineRange(r,c){let _=this.modelLineToMinimapLine(r),y=this.modelLineToMinimapLine(c);return r!==c&&y===_&&(y===this.minimapLines.length?_>1&&_--:y++),[_,y]}onLinesDeleted(r){const c=r.toLineNumber-r.fromLineNumber+1;let _=this.minimapLines.length,y=0;for(let A=this.minimapLines.length-1;A>=0&&!(this.minimapLines[A]<r.fromLineNumber);A--)this.minimapLines[A]<=r.toLineNumber?(this.minimapLines[A]=Math.max(1,r.fromLineNumber-1),_=Math.min(_,A),y=Math.max(y,A)):this.minimapLines[A]-=c;return[_,y]}onLinesInserted(r){const c=r.toLineNumber-r.fromLineNumber+1;for(let _=this.minimapLines.length-1;_>=0&&!(this.minimapLines[_]<r.fromLineNumber);_--)this.minimapLines[_]+=c}}class _s extends _e{constructor(r){super(r),this.tokensColorTracker=ae.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new li(this._context.configuration,this._context.theme,this.tokensColorTracker);const[c]=Ps.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=c,this._shouldCheckSampling=!1,this._actual=new Gr(r.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const r=new li(this._context.configuration,this._context.theme,this.tokensColorTracker);return!this.options.equals(r)&&(this.options=r,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(r){return this._onOptionsMaybeChanged()}onCursorStateChanged(r){return this._selections=r.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(r){return!!r.affectsMinimap&&this._actual.onDecorationsChanged()}onFlushed(r){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(r){if(this._samplingState){const c=this._samplingState.modelLineRangeToMinimapLineRange(r.fromLineNumber,r.toLineNumber);return!!c&&this._actual.onLinesChanged(c[0],c[1])}return this._actual.onLinesChanged(r.fromLineNumber,r.toLineNumber)}onLinesDeleted(r){if(this._samplingState){const[c,_]=this._samplingState.onLinesDeleted(r);return c<=_&&this._actual.onLinesChanged(c+1,_+1),this._shouldCheckSampling=!0,!0}return this._actual.onLinesDeleted(r.fromLineNumber,r.toLineNumber)}onLinesInserted(r){return this._samplingState?(this._samplingState.onLinesInserted(r),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(r.fromLineNumber,r.toLineNumber)}onScrollChanged(r){return this._actual.onScrollChanged()}onThemeChanged(r){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(r){if(this._samplingState){const c=[];for(const _ of r.ranges){const y=this._samplingState.modelLineRangeToMinimapLineRange(_.fromLineNumber,_.toLineNumber);y&&c.push({fromLineNumber:y[0],toLineNumber:y[1]})}return!!c.length&&this._actual.onTokensChanged(c)}return this._actual.onTokensChanged(r.ranges)}onTokensColorsChanged(r){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(r){return this._actual.onZonesChanged()}prepareRender(r){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(r){let c=r.visibleRange.startLineNumber,_=r.visibleRange.endLineNumber;this._samplingState&&(c=this._samplingState.modelLineToMinimapLine(c),_=this._samplingState.modelLineToMinimapLine(_));const y={viewportContainsWhitespaceGaps:r.viewportData.whitespaceViewportData.length>0,scrollWidth:r.scrollWidth,scrollHeight:r.scrollHeight,viewportStartLineNumber:c,viewportEndLineNumber:_,viewportStartLineNumberVerticalOffset:r.getVerticalOffsetForLineNumber(c),scrollTop:r.scrollTop,scrollLeft:r.scrollLeft,viewportWidth:r.viewportWidth,viewportHeight:r.viewportHeight};this._actual.render(y)}_recreateLineSampling(){this._minimapSelections=null;const r=Boolean(this._samplingState),[c,_]=Ps.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=c,r&&this._samplingState)for(const y of _)switch(y.type){case"deleted":this._actual.onLinesDeleted(y.deleteFromLineNumber,y.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(y.insertFromLineNumber,y.insertToLineNumber);break;case"flush":this._actual.onFlushed()}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(r){return this._context.viewModel.getLineContent(this._samplingState?this._samplingState.minimapLines[r-1]:r)}getLineMaxColumn(r){return this._context.viewModel.getLineMaxColumn(this._samplingState?this._samplingState.minimapLines[r-1]:r)}getMinimapLinesRenderingData(r,c,_){if(this._samplingState){const y=[];for(let A=0,ie=c-r+1;A<ie;A++)y[A]=_[A]?this._context.viewModel.getViewLineData(this._samplingState.minimapLines[r+A-1]):null;return y}return this._context.viewModel.getMinimapLinesRenderingData(r,c,_).data}getSelections(){if(null===this._minimapSelections)if(this._samplingState){this._minimapSelections=[];for(const r of this._selections){const[c,_]=this._samplingState.decorationLineRangeToMinimapLineRange(r.startLineNumber,r.endLineNumber);this._minimapSelections.push(new re.Y(c,r.startColumn,_,r.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(r,c){let _;if(this._samplingState){const ie=this._samplingState.minimapLines[c-1];_=new hn.e(this._samplingState.minimapLines[r-1],1,ie,this._context.viewModel.getLineMaxColumn(ie))}else _=new hn.e(r,1,c,this._context.viewModel.getLineMaxColumn(c));const y=this._context.viewModel.getDecorationsInViewport(_);if(this._samplingState){const A=[];for(const ie of y){if(!ie.options.minimap)continue;const he=ie.range,ye=this._samplingState.modelLineToMinimapLine(he.startLineNumber),Le=this._samplingState.modelLineToMinimapLine(he.endLineNumber);A.push(new Ce.$l(new hn.e(ye,he.startColumn,Le,he.endColumn),ie.options))}return A}return y}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(r){this._samplingState&&(r=this._samplingState.minimapLines[r-1]),this._context.viewModel.revealRange("mouse",!1,new hn.e(r,1,r,1),1,0)}setScrollTop(r){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:r},1)}}class Gr extends C.JT{constructor(r,c){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=r,this._model=c,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(ao.ov3),this._domNode=(0,ce.X)(document.createElement("div")),Re.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,ce.X)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,ce.X)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,ce.X)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,ce.X)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,ce.X)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._mouseDownListener=F.mu(this._domNode.domNode,"mousedown",_=>{if(_.preventDefault(),0===this._model.options.renderMinimap||!this._lastRenderData)return;if("proportional"!==this._model.options.size){if(_.leftButton&&this._lastRenderData){const Le=F.i(this._slider.domNode);this._startSliderDragging(_.buttons,_.posx,Le.top+Le.height/2,_.posy,this._lastRenderData.renderedLayout)}return}let ye=Math.floor(this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*_.browserEvent.offsetY/this._model.options.minimapLineHeight)+this._lastRenderData.renderedLayout.startLineNumber;ye=Math.min(ye,this._model.getLineCount()),this._model.revealLineNumber(ye)}),this._sliderMouseMoveMonitor=new W.Z,this._sliderMouseDownListener=F.mu(this._slider.domNode,"mousedown",_=>{_.preventDefault(),_.stopPropagation(),_.leftButton&&this._lastRenderData&&this._startSliderDragging(_.buttons,_.posx,_.posy,_.posy,this._lastRenderData.renderedLayout)}),this._gestureDisposable=ve.o.addTarget(this._domNode.domNode),this._sliderTouchStartListener=F.nm(this._domNode.domNode,ve.t.Start,_=>{_.preventDefault(),_.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(_))},{passive:!1}),this._sliderTouchMoveListener=F.nm(this._domNode.domNode,ve.t.Change,_=>{_.preventDefault(),_.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(_)},{passive:!1}),this._sliderTouchEndListener=F.mu(this._domNode.domNode,ve.t.End,_=>{_.preventDefault(),_.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(r,c,_,y,A){this._slider.toggleClassName("active",!0);const ie=(he,ye)=>{const Le=Math.abs(ye-c);this._model.setScrollTop(z.ED&&Le>140?A.scrollTop:A.getDesiredScrollTopFromDelta(he-_))};y!==_&&ie(y,c),this._sliderMouseMoveMonitor.startMonitoring(this._slider.domNode,r,W.e,he=>ie(he.posy,he.posx),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(r){const c=this._domNode.domNode.getBoundingClientRect().top,_=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(r.pageY-c);this._model.setScrollTop(_)}dispose(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){return"always"===this._model.options.showSlider?"minimap slider-always":"minimap slider-mouseover"}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new ho(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(r,c){return!!this._lastRenderData&&this._lastRenderData.onLinesChanged(r,c)}onLinesDeleted(r,c){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(r,c),!0}onLinesInserted(r,c){return this._lastRenderData&&this._lastRenderData.onLinesInserted(r,c),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(ao.ov3),this._renderDecorations=!0,!0}onTokensChanged(r){return!!this._lastRenderData&&this._lastRenderData.onTokensChanged(r)}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(r){if(0===this._model.options.renderMinimap)return this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),void this._sliderHorizontal.setHeight(0);this._shadow.setClassName(r.scrollLeft+r.viewportWidth>=r.scrollWidth?"minimap-shadow-hidden":"minimap-shadow-visible");const _=pt.create(this._model.options,r.viewportStartLineNumber,r.viewportEndLineNumber,r.viewportStartLineNumberVerticalOffset,r.viewportHeight,r.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),r.scrollTop,r.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(_.sliderNeeded?"block":"none"),this._slider.setTop(_.sliderTop),this._slider.setHeight(_.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(_.sliderHeight),this.renderDecorations(_),this._lastRenderData=this.renderLines(_)}renderDecorations(r){if(this._renderDecorations){this._renderDecorations=!1;const c=this._model.getSelections();c.sort(hn.e.compareRangesUsingStarts);const _=this._model.getMinimapDecorationsInViewport(r.startLineNumber,r.endLineNumber);_.sort((qe,ot)=>(qe.options.zIndex||0)-(ot.options.zIndex||0));const{canvasInnerWidth:y,canvasInnerHeight:A}=this._model.options,ie=this._model.options.minimapLineHeight,he=this._model.options.minimapCharWidth,ye=this._model.getOptions().tabSize,Le=this._decorationsCanvas.domNode.getContext("2d");Le.clearRect(0,0,y,A);const Ie=new mo(r.startLineNumber,r.endLineNumber,!1);this._renderSelectionLineHighlights(Le,c,Ie,r,ie),this._renderDecorationsLineHighlights(Le,_,Ie,r,ie);const ze=new mo(r.startLineNumber,r.endLineNumber,null);this._renderSelectionsHighlights(Le,c,ze,r,ie,ye,he,y),this._renderDecorationsHighlights(Le,_,ze,r,ie,ye,he,y)}}_renderSelectionLineHighlights(r,c,_,y,A){if(!this._selectionColor||this._selectionColor.isTransparent())return;r.fillStyle=this._selectionColor.transparent(.5).toString();let ie=0,he=0;for(const ye of c){const Le=Math.max(y.startLineNumber,ye.startLineNumber),Ie=Math.min(y.endLineNumber,ye.endLineNumber);if(Le>Ie)continue;for(let ot=Le;ot<=Ie;ot++)_.set(ot,!0);const ze=(Le-y.startLineNumber)*A,qe=(Ie-y.startLineNumber)*A+A;he>=ze||(he>ie&&r.fillRect($.y0,ie,r.canvas.width,he-ie),ie=ze),he=qe}he>ie&&r.fillRect($.y0,ie,r.canvas.width,he-ie)}_renderDecorationsLineHighlights(r,c,_,y,A){const ie=new Map;for(let he=c.length-1;he>=0;he--){const ye=c[he],Le=ye.options.minimap;if(!Le||Le.position!==Zt.F5.Inline)continue;const Ie=Math.max(y.startLineNumber,ye.range.startLineNumber),ze=Math.min(y.endLineNumber,ye.range.endLineNumber);if(Ie>ze)continue;const qe=Le.getColor(this._theme.value);if(!qe||qe.isTransparent())continue;let ot=ie.get(qe.toString());ot||(ot=qe.transparent(.5).toString(),ie.set(qe.toString(),ot)),r.fillStyle=ot;for(let bt=Ie;bt<=ze;bt++)_.has(bt)||(_.set(bt,!0),r.fillRect($.y0,(Ie-y.startLineNumber)*A,r.canvas.width,A))}}_renderSelectionsHighlights(r,c,_,y,A,ie,he,ye){if(this._selectionColor&&!this._selectionColor.isTransparent())for(const Le of c){const Ie=Math.max(y.startLineNumber,Le.startLineNumber),ze=Math.min(y.endLineNumber,Le.endLineNumber);if(!(Ie>ze))for(let qe=Ie;qe<=ze;qe++)this.renderDecorationOnLine(r,_,Le,this._selectionColor,y,qe,A,A,ie,he,ye)}}_renderDecorationsHighlights(r,c,_,y,A,ie,he,ye){for(const Le of c){const Ie=Le.options.minimap;if(!Ie)continue;const ze=Math.max(y.startLineNumber,Le.range.startLineNumber),qe=Math.min(y.endLineNumber,Le.range.endLineNumber);if(ze>qe)continue;const ot=Ie.getColor(this._theme.value);if(ot&&!ot.isTransparent())for(let bt=ze;bt<=qe;bt++)switch(Ie.position){case Zt.F5.Inline:this.renderDecorationOnLine(r,_,Le.range,ot,y,bt,A,A,ie,he,ye);continue;case Zt.F5.Gutter:this.renderDecoration(r,ot,2,(bt-y.startLineNumber)*A,2,A);continue}}}renderDecorationOnLine(r,c,_,y,A,ie,he,ye,Le,Ie,ze){const qe=(ie-A.startLineNumber)*ye;if(qe+he<0||qe>this._model.options.canvasInnerHeight)return;const{startLineNumber:ot,endLineNumber:bt}=_,xt=ot===ie?_.startColumn:1,Nt=bt===ie?_.endColumn:this._model.getLineMaxColumn(ie),tn=this.getXOffsetForPosition(c,ie,xt,Le,Ie,ze),ln=this.getXOffsetForPosition(c,ie,Nt,Le,Ie,ze);this.renderDecoration(r,y,tn,qe,ln-tn,he)}getXOffsetForPosition(r,c,_,y,A,ie){if(1===_)return $.y0;if((_-1)*A>=ie)return ie;let ye=r.get(c);if(!ye){const Le=this._model.getLineContent(c);ye=[$.y0];let Ie=$.y0;for(let ze=1;ze<Le.length+1;ze++){const qe=Le.charCodeAt(ze-1),bt=Ie+(9===qe?y*A:wn.K7(qe)?2*A:A);if(bt>=ie){ye[ze]=ie;break}ye[ze]=bt,Ie=bt}r.set(c,ye)}return _-1<ye.length?ye[_-1]:ie}renderDecoration(r,c,_,y,A,ie){r.fillStyle=c&&c.toString()||"",r.fillRect(_,y,A,ie)}renderLines(r){const c=r.startLineNumber,_=r.endLineNumber,y=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(r)){const qi=this._lastRenderData._get();return new si(r,qi.imageData,qi.lines)}const A=this._getBuffer();if(!A)return null;const[ie,he,ye]=Gr._renderUntouchedLines(A,c,_,y,this._lastRenderData),Le=this._model.getMinimapLinesRenderingData(c,_,ye),Ie=this._model.getOptions().tabSize,ze=this._model.options.defaultBackgroundColor,qe=this._model.options.backgroundColor,ot=this._model.options.foregroundAlpha,bt=this._model.tokensColorTracker,xt=bt.backgroundIsLight(),Nt=this._model.options.renderMinimap,tn=this._model.options.charRenderer(),ln=this._model.options.fontScale,$t=this._model.options.minimapCharWidth,In=(1===Nt?2:3)*ln,Rn=y>In?Math.floor((y-In)/2):0,Fn=qe.a/255,Dn=new te(Math.round((qe.r-ze.r)*Fn+ze.r),Math.round((qe.g-ze.g)*Fn+ze.g),Math.round((qe.b-ze.b)*Fn+ze.b),255);let Cn=0;const Mi=[];for(let qi=0,ds=_-c+1;qi<ds;qi++)ye[qi]&&Gr._renderLine(A,Dn,qe.a,xt,Nt,$t,bt,ot,tn,Cn,Rn,Ie,Le[qi],ln,y),Mi[qi]=new Pi(Cn),Cn+=y;const ri=-1===ie?0:ie,Co=(-1===he?A.height:he)-ri;return this._canvas.domNode.getContext("2d").putImageData(A,0,0,0,ri,A.width,Co),new si(r,A,Mi)}static _renderUntouchedLines(r,c,_,y,A){const ie=[];if(!A){for(let Dn=0,Cn=_-c+1;Dn<Cn;Dn++)ie[Dn]=!0;return[-1,-1,ie]}const he=A._get(),ye=he.imageData.data,Le=he.rendLineNumberStart,Ie=he.lines,ze=Ie.length,qe=r.width,ot=r.data,bt=(_-c+1)*y*qe*4;let xt=-1,Nt=-1,tn=-1,ln=-1,$t=-1,On=-1,In=0;for(let Dn=c;Dn<=_;Dn++){const Cn=Dn-c,Mi=Dn-Le,ri=Mi>=0&&Mi<ze?Ie[Mi].dy:-1;if(-1===ri){ie[Cn]=!0,In+=y;continue}const _o=ri*qe*4,Co=(ri+y)*qe*4,ts=In*qe*4,qi=(In+y)*qe*4;ln===_o&&On===ts?(ln=Co,On=qi):(-1!==tn&&(ot.set(ye.subarray(tn,ln),$t),-1===xt&&0===tn&&tn===$t&&(xt=ln),-1===Nt&&ln===bt&&tn===$t&&(Nt=tn)),tn=_o,ln=Co,$t=ts,On=qi),ie[Cn]=!1,In+=y}return-1!==tn&&(ot.set(ye.subarray(tn,ln),$t),-1===xt&&0===tn&&tn===$t&&(xt=ln),-1===Nt&&ln===bt&&tn===$t&&(Nt=tn)),[-1===xt?-1:xt/(4*qe),-1===Nt?-1:Nt/(4*qe),ie]}static _renderLine(r,c,_,y,A,ie,he,ye,Le,Ie,ze,qe,ot,bt,xt){const Nt=ot.content,tn=ot.tokens,ln=r.width-ie,$t=1===xt;let On=$.y0,In=0,Rn=0;for(let Fn=0,Dn=tn.getCount();Fn<Dn;Fn++){const Cn=tn.getEndOffset(Fn),Mi=tn.getForeground(Fn),ri=he.getColor(Mi);for(;In<Cn;In++){if(On>ln)return;const _o=Nt.charCodeAt(In);if(9===_o){const Co=qe-(In+Rn)%qe;Rn+=Co-1,On+=Co*ie}else if(32===_o)On+=ie;else{const Co=wn.K7(_o)?2:1;for(let ts=0;ts<Co;ts++)if(2===A?Le.blockRenderChar(r,On,Ie+ze,ri,ye,c,_,$t):Le.renderChar(r,On,Ie+ze,_o,ri,ye,c,_,bt,y,$t),On+=ie,On>ln)return}}}}}class mo{constructor(r,c,_){this._startLineNumber=r,this._endLineNumber=c,this._defaultValue=_,this._values=[];for(let y=0,A=this._endLineNumber-this._startLineNumber+1;y<A;y++)this._values[y]=_}has(r){return this.get(r)!==this._defaultValue}set(r,c){r<this._startLineNumber||r>this._endLineNumber||(this._values[r-this._startLineNumber]=c)}get(r){return r<this._startLineNumber||r>this._endLineNumber?this._defaultValue:this._values[r-this._startLineNumber]}}(0,En.Ic)((Te,r)=>{const c=Te.getColor(ao.CA6);c&&r.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${c}; }`);const _=Te.getColor(ao.Xy4);_&&r.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${_}; }`);const y=Te.getColor(ao.brw);y&&r.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${y}; }`);const A=Te.getColor(ao._wn);A&&r.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${A} -6px 0 6px -6px inset; }`)}),m(3180);class Qr extends _e{constructor(r){super(r);const _=this._context.configuration.options.get(131);this._widgets={},this._verticalScrollbarWidth=_.verticalScrollbarWidth,this._minimapWidth=_.minimap.minimapWidth,this._horizontalScrollbarHeight=_.horizontalScrollbarHeight,this._editorHeight=_.height,this._editorWidth=_.width,this._domNode=(0,ce.X)(document.createElement("div")),Re.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(r){const _=this._context.configuration.options.get(131);return this._verticalScrollbarWidth=_.verticalScrollbarWidth,this._minimapWidth=_.minimap.minimapWidth,this._horizontalScrollbarHeight=_.horizontalScrollbarHeight,this._editorHeight=_.height,this._editorWidth=_.width,!0}addWidget(r){const c=(0,ce.X)(r.getDomNode());this._widgets[r.getId()]={widget:r,preference:null,domNode:c},c.setPosition("absolute"),c.setAttribute("widgetId",r.getId()),this._domNode.appendChild(c),this.setShouldRender()}setWidgetPosition(r,c){const _=this._widgets[r.getId()];return _.preference!==c&&(_.preference=c,this.setShouldRender(),!0)}removeWidget(r){const c=r.getId();if(this._widgets.hasOwnProperty(c)){const y=this._widgets[c].domNode.domNode;delete this._widgets[c],y.parentNode.removeChild(y),this.setShouldRender()}}_renderWidget(r){const c=r.domNode;null!==r.preference?0===r.preference?(c.setTop(0),c.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)):1===r.preference?(c.setTop(this._editorHeight-c.domNode.clientHeight-2*this._horizontalScrollbarHeight),c.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)):2===r.preference&&(c.setTop(0),c.domNode.style.right="50%"):c.unsetTop()}prepareRender(r){}render(r){this._domNode.setWidth(this._editorWidth);const c=Object.keys(this._widgets);for(let _=0,y=c.length;_<y;_++)this._renderWidget(this._widgets[c[_]])}}class $a{constructor(r,c){const _=r.options;this.lineHeight=_.get(59),this.pixelRatio=_.get(129),this.overviewRulerLanes=_.get(74),this.renderBorder=_.get(73);const y=c.getColor(Kt.zw);this.borderColor=y?y.toString():null,this.hideCursor=_.get(52);const A=c.getColor(Kt.n0);this.cursorColor=A?A.transparent(.7).toString():null,this.themeType=c.type;const ie=_.get(65),ye=ie.side,Le=ie.enabled?c.getColor(Kt.e_)||Li.RW.getDefaultBackground():null;this.backgroundColor=null===Le||"left"===ye?null:Nn.Il.Format.CSS.formatHex(Le);const ze=_.get(131).overviewRuler;this.top=ze.top,this.right=ze.right,this.domWidth=ze.width,this.domHeight=ze.height,0===this.overviewRulerLanes?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[qe,ot]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=qe,this.w=ot}_initLanes(r,c,_){const y=c-r;if(_>=3){const A=Math.floor(y/3),ie=Math.floor(y/3),he=y-A-ie,Le=r+A;return[[0,r,Le,r,r+A+he,r,Le,r],[0,A,he,A+he,ie,A+he+ie,he+ie,A+he+ie]]}if(2===_){const A=Math.floor(y/2),ie=y-A;return[[0,r,r,r,r+A,r,r,r],[0,A,A,A,ie,A+ie,A+ie,A+ie]]}return[[0,r,r,r,r,r,r,r],[0,y,y,y,y,y,y,y]]}equals(r){return this.lineHeight===r.lineHeight&&this.pixelRatio===r.pixelRatio&&this.overviewRulerLanes===r.overviewRulerLanes&&this.renderBorder===r.renderBorder&&this.borderColor===r.borderColor&&this.hideCursor===r.hideCursor&&this.cursorColor===r.cursorColor&&this.themeType===r.themeType&&this.backgroundColor===r.backgroundColor&&this.top===r.top&&this.right===r.right&&this.domWidth===r.domWidth&&this.domHeight===r.domHeight&&this.canvasWidth===r.canvasWidth&&this.canvasHeight===r.canvasHeight}}class Dr extends _e{constructor(r){super(r),this._domNode=(0,ce.X)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=Li.RW.onDidChange(c=>{c.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(r){const c=new $a(this._context.configuration,this._context.theme);return!(this._settings&&this._settings.equals(c)||(this._settings=c,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,r&&this._render(),0))}onConfigurationChanged(r){return this._updateSettings(!1)}onCursorStateChanged(r){this._cursorPositions=[];for(let c=0,_=r.selections.length;c<_;c++)this._cursorPositions[c]=r.selections[c].getPosition();return this._cursorPositions.sort(sn.L.compare),!0}onDecorationsChanged(r){return!!r.affectsOverviewRuler}onFlushed(r){return!0}onScrollChanged(r){return r.scrollHeightChanged}onZonesChanged(r){return!0}onThemeChanged(r){return this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(r){}render(r){this._render()}_render(){if(0===this._settings.overviewRulerLanes)return this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:""),void this._domNode.setDisplay("none");this._domNode.setDisplay("block");const r=this._settings.canvasWidth,c=this._settings.canvasHeight,_=this._settings.lineHeight,y=this._context.viewLayout,ie=c/this._context.viewLayout.getScrollHeight(),he=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme),ye=6*this._settings.pixelRatio|0,Le=ye/2|0,Ie=this._domNode.domNode.getContext("2d");null===this._settings.backgroundColor?Ie.clearRect(0,0,r,c):(Ie.fillStyle=this._settings.backgroundColor,Ie.fillRect(0,0,r,c));const ze=this._settings.x,qe=this._settings.w;he.sort(Ce.SQ.cmp);for(const ot of he){const xt=ot.data;Ie.fillStyle=ot.color;let Nt=0,tn=0,ln=0;for(let $t=0,On=xt.length/3;$t<On;$t++){const In=xt[3*$t],Fn=xt[3*$t+2];let Dn=y.getVerticalOffsetForLineNumber(xt[3*$t+1])*ie|0,Cn=(y.getVerticalOffsetForLineNumber(Fn)+_)*ie|0;if(Cn-Dn<ye){let ri=(Dn+Cn)/2|0;ri<Le?ri=Le:ri+Le>c&&(ri=c-Le),Dn=ri-Le,Cn=ri+Le}Dn>ln+1||In!==Nt?(0!==$t&&Ie.fillRect(ze[Nt],tn,qe[Nt],ln-tn),Nt=In,tn=Dn,ln=Cn):Cn>ln&&(ln=Cn)}Ie.fillRect(ze[Nt],tn,qe[Nt],ln-tn)}if(!this._settings.hideCursor&&this._settings.cursorColor){const ot=2*this._settings.pixelRatio|0,bt=ot/2|0,xt=this._settings.x[7],Nt=this._settings.w[7];Ie.fillStyle=this._settings.cursorColor;let tn=-100,ln=-100;for(let $t=0,On=this._cursorPositions.length;$t<On;$t++){let Rn=y.getVerticalOffsetForLineNumber(this._cursorPositions[$t].lineNumber)*ie|0;Rn<bt?Rn=bt:Rn+bt>c&&(Rn=c-bt);const Fn=Rn-bt,Dn=Fn+ot;Fn>ln+1?(0!==$t&&Ie.fillRect(xt,tn,Nt,ln-tn),tn=Fn,ln=Dn):Dn>ln&&(ln=Dn)}Ie.fillRect(xt,tn,Nt,ln-tn)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(Ie.beginPath(),Ie.lineWidth=1,Ie.strokeStyle=this._settings.borderColor,Ie.moveTo(0,0),Ie.lineTo(0,c),Ie.stroke(),Ie.moveTo(0,0),Ie.lineTo(r,0),Ie.stroke())}}var Xo=m(31321);class ur extends ue{constructor(r,c){super(),this._context=r;const _=this._context.configuration.options;this._domNode=(0,ce.X)(document.createElement("canvas")),this._domNode.setClassName(c),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new Xo.Tj(y=>this._context.viewLayout.getVerticalOffsetForLineNumber(y)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(_.get(59)),this._zoneManager.setPixelRatio(_.get(129)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(r){const c=this._context.configuration.options;return r.hasChanged(59)&&(this._zoneManager.setLineHeight(c.get(59)),this._render()),r.hasChanged(129)&&(this._zoneManager.setPixelRatio(c.get(129)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(r){return this._render(),!0}onScrollChanged(r){return r.scrollHeightChanged&&(this._zoneManager.setOuterHeight(r.scrollHeight),this._render()),!0}onZonesChanged(r){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(r){this._domNode.setTop(r.top),this._domNode.setRight(r.right);let c=!1;c=this._zoneManager.setDOMWidth(r.width)||c,c=this._zoneManager.setDOMHeight(r.height)||c,c&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(r){this._zoneManager.setZones(r),this._render()}_render(){if(0===this._zoneManager.getOuterHeight())return!1;const r=this._zoneManager.getCanvasWidth(),c=this._zoneManager.getCanvasHeight(),_=this._zoneManager.resolveColorZones(),y=this._zoneManager.getId2Color(),A=this._domNode.domNode.getContext("2d");return A.clearRect(0,0,r,c),_.length>0&&this._renderOneLane(A,_,y,r),!0}_renderOneLane(r,c,_,y){let A=0,ie=0,he=0;for(const ye of c){const Le=ye.colorId,Ie=ye.from,ze=ye.to;Le!==A?(r.fillRect(0,ie,y,he-ie),A=Le,r.fillStyle=_[A],ie=Ie,he=ze):he>=Ie?he=Math.max(he,ze):(r.fillRect(0,ie,y,he-ie),ie=Ie,he=ze)}r.fillRect(0,ie,y,he-ie)}}m(42835);class vl extends _e{constructor(r){super(r),this.domNode=(0,ce.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const c=this._context.configuration.options;this._rulers=c.get(91),this._typicalHalfwidthCharacterWidth=c.get(44).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(r){const c=this._context.configuration.options;return this._rulers=c.get(91),this._typicalHalfwidthCharacterWidth=c.get(44).typicalHalfwidthCharacterWidth,!0}onScrollChanged(r){return r.scrollHeightChanged}prepareRender(r){}_ensureRulersCount(){const r=this._renderedRulers.length,c=this._rulers.length;if(r===c)return;if(r<c){const{tabSize:y}=this._context.viewModel.model.getOptions(),A=y;let ie=c-r;for(;ie>0;){const he=(0,ce.X)(document.createElement("div"));he.setClassName("view-ruler"),he.setWidth(A),this.domNode.appendChild(he),this._renderedRulers.push(he),ie--}return}let _=r-c;for(;_>0;){const y=this._renderedRulers.pop();this.domNode.removeChild(y),_--}}render(r){this._ensureRulersCount();for(let c=0,_=this._rulers.length;c<_;c++){const y=this._renderedRulers[c],A=this._rulers[c];y.setBoxShadow(A.color?`1px 0 0 0 ${A.color} inset`:""),y.setHeight(Math.min(r.scrollHeight,1e6)),y.setLeft(A.column*this._typicalHalfwidthCharacterWidth)}}}(0,En.Ic)((Te,r)=>{const c=Te.getColor(Kt.zk);c&&r.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${c} inset; }`)}),m(78432);class Wr extends _e{constructor(r){super(r),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const _=this._context.configuration.options.get(92);this._useShadows=_.useShadows,this._domNode=(0,ce.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const r=this._useShadows&&this._scrollTop>0;return this._shouldShow!==r&&(this._shouldShow=r,!0)}getDomNode(){return this._domNode}_updateWidth(){const c=this._context.configuration.options.get(131);this._width=0===c.minimap.renderMinimap||c.minimap.minimapWidth>0&&0===c.minimap.minimapLeft?c.width:c.width-c.minimap.minimapWidth-c.verticalScrollbarWidth}onConfigurationChanged(r){const _=this._context.configuration.options.get(92);return this._useShadows=_.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(r){return this._scrollTop=r.scrollTop,this._updateShouldShow()}prepareRender(r){}render(r){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}(0,En.Ic)((Te,r)=>{const c=Te.getColor(ao._wn);c&&r.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${c} 0 6px 6px -6px inset; }`)}),m(48761);class qn{constructor(r){this.left=r.left,this.width=r.width,this.startStyle=null,this.endStyle=null}}class Sa{constructor(r,c){this.lineNumber=r,this.ranges=c}}function Vr(Te){return new qn(Te)}function Os(Te){return new Sa(Te.lineNumber,Te.ranges.map(Vr))}let pu=(()=>{class Te extends xn{constructor(c){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=c;const _=this._context.configuration.options;this._lineHeight=_.get(59),this._roundedSelection=_.get(90),this._typicalHalfwidthCharacterWidth=_.get(44).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(c){const _=this._context.configuration.options;return this._lineHeight=_.get(59),this._roundedSelection=_.get(90),this._typicalHalfwidthCharacterWidth=_.get(44).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(c){return this._selections=c.selections.slice(0),!0}onDecorationsChanged(c){return!0}onFlushed(c){return!0}onLinesChanged(c){return!0}onLinesDeleted(c){return!0}onLinesInserted(c){return!0}onScrollChanged(c){return c.scrollTopChanged}onZonesChanged(c){return!0}_visibleRangesHaveGaps(c){for(let _=0,y=c.length;_<y;_++)if(c[_].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(c,_,y){const A=this._typicalHalfwidthCharacterWidth/4;let ie=null,he=null;if(y&&y.length>0&&_.length>0){const ye=_[0].lineNumber;if(ye===c.startLineNumber)for(let Ie=0;!ie&&Ie<y.length;Ie++)y[Ie].lineNumber===ye&&(ie=y[Ie].ranges[0]);const Le=_[_.length-1].lineNumber;if(Le===c.endLineNumber)for(let Ie=y.length-1;!he&&Ie>=0;Ie--)y[Ie].lineNumber===Le&&(he=y[Ie].ranges[0]);ie&&!ie.startStyle&&(ie=null),he&&!he.startStyle&&(he=null)}for(let ye=0,Le=_.length;ye<Le;ye++){const Ie=_[ye].ranges[0],ze=Ie.left,qe=Ie.left+Ie.width,ot={top:0,bottom:0},bt={top:0,bottom:0};if(ye>0){const xt=_[ye-1].ranges[0].left,Nt=_[ye-1].ranges[0].left+_[ye-1].ranges[0].width;Yr(ze-xt)<A?ot.top=2:ze>xt&&(ot.top=1),Yr(qe-Nt)<A?bt.top=2:xt<qe&&qe<Nt&&(bt.top=1)}else ie&&(ot.top=ie.startStyle.top,bt.top=ie.endStyle.top);if(ye+1<Le){const xt=_[ye+1].ranges[0].left,Nt=_[ye+1].ranges[0].left+_[ye+1].ranges[0].width;Yr(ze-xt)<A?ot.bottom=2:xt<ze&&ze<Nt&&(ot.bottom=1),Yr(qe-Nt)<A?bt.bottom=2:qe<Nt&&(bt.bottom=1)}else he&&(ot.bottom=he.startStyle.bottom,bt.bottom=he.endStyle.bottom);Ie.startStyle=ot,Ie.endStyle=bt}}_getVisibleRangesWithStyle(c,_,y){const ie=(_.linesVisibleRangesForRange(c,!0)||[]).map(Os);return!this._visibleRangesHaveGaps(ie)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(_.visibleRange,ie,y),ie}_createSelectionPiece(c,_,y,A,ie){return'<div class="cslr '+y+'" style="top:'+c.toString()+"px;left:"+A.toString()+"px;width:"+ie.toString()+"px;height:"+_+'px;"></div>'}_actualRenderOneSelection(c,_,y,A){if(0===A.length)return;const ie=!!A[0].ranges[0].startStyle,he=this._lineHeight.toString(),ye=(this._lineHeight-1).toString(),Le=A[0].lineNumber,Ie=A[A.length-1].lineNumber;for(let ze=0,qe=A.length;ze<qe;ze++){const ot=A[ze],bt=ot.lineNumber,xt=bt-_,Nt=!y||bt!==Ie&&bt!==Le?he:ye,tn=y&&bt===Le?1:0;let ln="",$t="";for(let On=0,In=ot.ranges.length;On<In;On++){const Rn=ot.ranges[On];if(ie){const Dn=Rn.startStyle,Cn=Rn.endStyle;if(1===Dn.top||1===Dn.bottom){ln+=this._createSelectionPiece(tn,Nt,Te.SELECTION_CLASS_NAME,Rn.left-Te.ROUNDED_PIECE_WIDTH,Te.ROUNDED_PIECE_WIDTH);let Mi=Te.EDITOR_BACKGROUND_CLASS_NAME;1===Dn.top&&(Mi+=" "+Te.SELECTION_TOP_RIGHT),1===Dn.bottom&&(Mi+=" "+Te.SELECTION_BOTTOM_RIGHT),ln+=this._createSelectionPiece(tn,Nt,Mi,Rn.left-Te.ROUNDED_PIECE_WIDTH,Te.ROUNDED_PIECE_WIDTH)}if(1===Cn.top||1===Cn.bottom){ln+=this._createSelectionPiece(tn,Nt,Te.SELECTION_CLASS_NAME,Rn.left+Rn.width,Te.ROUNDED_PIECE_WIDTH);let Mi=Te.EDITOR_BACKGROUND_CLASS_NAME;1===Cn.top&&(Mi+=" "+Te.SELECTION_TOP_LEFT),1===Cn.bottom&&(Mi+=" "+Te.SELECTION_BOTTOM_LEFT),ln+=this._createSelectionPiece(tn,Nt,Mi,Rn.left+Rn.width,Te.ROUNDED_PIECE_WIDTH)}}let Fn=Te.SELECTION_CLASS_NAME;if(ie){const Dn=Rn.startStyle,Cn=Rn.endStyle;0===Dn.top&&(Fn+=" "+Te.SELECTION_TOP_LEFT),0===Dn.bottom&&(Fn+=" "+Te.SELECTION_BOTTOM_LEFT),0===Cn.top&&(Fn+=" "+Te.SELECTION_TOP_RIGHT),0===Cn.bottom&&(Fn+=" "+Te.SELECTION_BOTTOM_RIGHT)}$t+=this._createSelectionPiece(tn,Nt,Fn,Rn.left,Rn.width)}c[xt][0]+=ln,c[xt][1]+=$t}}prepareRender(c){const _=[],y=c.visibleRange.startLineNumber,A=c.visibleRange.endLineNumber;for(let he=y;he<=A;he++)_[he-y]=["",""];const ie=[];for(let he=0,ye=this._selections.length;he<ye;he++){const Le=this._selections[he];if(Le.isEmpty()){ie[he]=null;continue}const Ie=this._getVisibleRangesWithStyle(Le,c,this._previousFrameVisibleRangesWithStyle[he]);ie[he]=Ie,this._actualRenderOneSelection(_,y,this._selections.length>1,Ie)}this._previousFrameVisibleRangesWithStyle=ie,this._renderResult=_.map(([he,ye])=>he+ye)}render(c,_){if(!this._renderResult)return"";const y=_-c;return y<0||y>=this._renderResult.length?"":this._renderResult[y]}}return Te.SELECTION_CLASS_NAME="selected-text",Te.SELECTION_TOP_LEFT="top-left-radius",Te.SELECTION_BOTTOM_LEFT="bottom-left-radius",Te.SELECTION_TOP_RIGHT="top-right-radius",Te.SELECTION_BOTTOM_RIGHT="bottom-right-radius",Te.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",Te.ROUNDED_PIECE_WIDTH=10,Te})();function Yr(Te){return Te<0?-Te:Te}(0,En.Ic)((Te,r)=>{const c=Te.getColor(ao.hEj);c&&r.addRule(`.monaco-editor .focused .selected-text { background-color: ${c}; }`);const _=Te.getColor(ao.ES4);_&&r.addRule(`.monaco-editor .selected-text { background-color: ${_}; }`);const y=Te.getColor(ao.yb5);y&&!y.isTransparent()&&r.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${y}; }`)}),m(9442);class sa{constructor(r,c,_,y,A,ie){this.top=r,this.left=c,this.width=_,this.height=y,this.textContent=A,this.textContentClassName=ie}}class Za{constructor(r){this._context=r;const c=this._context.configuration.options,_=c.get(44);this._cursorStyle=c.get(24),this._lineHeight=c.get(59),this._typicalHalfwidthCharacterWidth=_.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(c.get(27),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,ce.X)(document.createElement("div")),this._domNode.setClassName(`cursor ${mi.S}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),(0,vn.N)(this._domNode,_),this._domNode.setDisplay("none"),this._position=new sn.L(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(r){const c=this._context.configuration.options,_=c.get(44);return this._cursorStyle=c.get(24),this._lineHeight=c.get(59),this._typicalHalfwidthCharacterWidth=_.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(c.get(27),this._typicalHalfwidthCharacterWidth),(0,vn.N)(this._domNode,_),!0}onCursorPositionChanged(r){return this._position=r,!0}_getGraphemeAwarePosition(){const{lineNumber:r,column:c}=this._position,_=this._context.viewModel.getLineContent(r),[y,A]=wn.J_(_,c-1);return[new sn.L(r,y+1),_.substring(y,A)]}_prepareRender(r){let c="";const[_,y]=this._getGraphemeAwarePosition();if(this._cursorStyle===$.d2.Line||this._cursorStyle===$.d2.LineThin){const qe=r.visibleRangeForPosition(_);if(!qe||qe.outsideRenderedLine)return null;let ot;this._cursorStyle===$.d2.Line?(ot=F.Uh(this._lineCursorWidth>0?this._lineCursorWidth:2),ot>2&&(c=y)):ot=F.Uh(1);let bt=qe.left;ot>=2&&bt>=1&&(bt-=1);const xt=r.getVerticalOffsetForLineNumber(_.lineNumber)-r.bigNumbersDelta;return new sa(xt,bt,ot,this._lineHeight,c,"")}const A=r.linesVisibleRangesForRange(new hn.e(_.lineNumber,_.column,_.lineNumber,_.column+y.length),!1);if(!A||0===A.length)return null;const ie=A[0];if(ie.outsideRenderedLine||0===ie.ranges.length)return null;const he=ie.ranges[0],ye=he.width<1?this._typicalHalfwidthCharacterWidth:he.width;let Le="";if(this._cursorStyle===$.d2.Block){const qe=this._context.viewModel.getViewLineData(_.lineNumber);c=y;const ot=qe.tokens.findTokenIndexAtOffset(_.column-1);Le=qe.tokens.getClassName(ot)}let Ie=r.getVerticalOffsetForLineNumber(_.lineNumber)-r.bigNumbersDelta,ze=this._lineHeight;return(this._cursorStyle===$.d2.Underline||this._cursorStyle===$.d2.UnderlineThin)&&(Ie+=this._lineHeight-2,ze=2),new sa(Ie,he.left,ye,ze,c,Le)}prepareRender(r){this._renderData=this._prepareRender(r)}render(r){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${mi.S} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}let ac=(()=>{class Te extends _e{constructor(c){super(c);const _=this._context.configuration.options;this._readOnly=_.get(81),this._cursorBlinking=_.get(22),this._cursorStyle=_.get(24),this._cursorSmoothCaretAnimation=_.get(23),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new Za(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,ce.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new Ve._F,this._cursorFlatBlinkInterval=new Ve.zh,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(c){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(c){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(c){const _=this._context.configuration.options;this._readOnly=_.get(81),this._cursorBlinking=_.get(22),this._cursorStyle=_.get(24),this._cursorSmoothCaretAnimation=_.get(23),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(c);for(let y=0,A=this._secondaryCursors.length;y<A;y++)this._secondaryCursors[y].onConfigurationChanged(c);return!0}_onCursorPositionChanged(c,_){if(this._primaryCursor.onCursorPositionChanged(c),this._updateBlinking(),this._secondaryCursors.length<_.length){const y=_.length-this._secondaryCursors.length;for(let A=0;A<y;A++){const ie=new Za(this._context);this._domNode.domNode.insertBefore(ie.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(ie)}}else if(this._secondaryCursors.length>_.length){const y=this._secondaryCursors.length-_.length;for(let A=0;A<y;A++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let y=0;y<_.length;y++)this._secondaryCursors[y].onCursorPositionChanged(_[y])}onCursorStateChanged(c){const _=[];for(let A=0,ie=c.selections.length;A<ie;A++)_[A]=c.selections[A].getPosition();this._onCursorPositionChanged(_[0],_.slice(1));const y=c.selections[0].isEmpty();return this._selectionIsEmpty!==y&&(this._selectionIsEmpty=y,this._updateDomClassName()),!0}onDecorationsChanged(c){return!0}onFlushed(c){return!0}onFocusChanged(c){return this._editorHasFocus=c.isFocused,this._updateBlinking(),!1}onLinesChanged(c){return!0}onLinesDeleted(c){return!0}onLinesInserted(c){return!0}onScrollChanged(c){return!0}onTokensChanged(c){const _=y=>{for(let A=0,ie=c.ranges.length;A<ie;A++)if(c.ranges[A].fromLineNumber<=y.lineNumber&&y.lineNumber<=c.ranges[A].toLineNumber)return!0;return!1};if(_(this._primaryCursor.getPosition()))return!0;for(const y of this._secondaryCursors)if(_(y.getPosition()))return!0;return!1}onZonesChanged(c){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const c=this._getCursorBlinking(),_=0===c,y=5===c;_?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!_&&!y&&(1===c?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},Te.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},Te.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let c="cursors-layer";switch(this._selectionIsEmpty||(c+=" has-selection"),this._cursorStyle){default:c+=" cursor-line-style";break;case $.d2.Block:c+=" cursor-block-style";break;case $.d2.Underline:c+=" cursor-underline-style";break;case $.d2.LineThin:c+=" cursor-line-thin-style";break;case $.d2.BlockOutline:c+=" cursor-block-outline-style";break;case $.d2.UnderlineThin:c+=" cursor-underline-thin-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:c+=" cursor-blink";break;case 2:c+=" cursor-smooth";break;case 3:c+=" cursor-phase";break;case 4:c+=" cursor-expand";break;default:c+=" cursor-solid"}else c+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(c+=" cursor-smooth-caret-animation"),c}_show(){this._primaryCursor.show();for(let c=0,_=this._secondaryCursors.length;c<_;c++)this._secondaryCursors[c].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let c=0,_=this._secondaryCursors.length;c<_;c++)this._secondaryCursors[c].hide();this._isVisible=!1}prepareRender(c){this._primaryCursor.prepareRender(c);for(let _=0,y=this._secondaryCursors.length;_<y;_++)this._secondaryCursors[_].prepareRender(c)}render(c){const _=[];let y=0;const A=this._primaryCursor.render(c);A&&(_[y++]=A);for(let ie=0,he=this._secondaryCursors.length;ie<he;ie++){const ye=this._secondaryCursors[ie].render(c);ye&&(_[y++]=ye)}this._renderData=_}getLastRenderData(){return this._renderData}}return Te.BLINK_INTERVAL=500,Te})();(0,En.Ic)((Te,r)=>{const c=Te.getColor(Kt.n0);if(c){let _=Te.getColor(Kt.fY);_||(_=c.opposite()),r.addRule(`.monaco-editor .inputarea.ime-input { caret-color: ${c}; }`),r.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${c}; border-color: ${c}; color: ${_}; }`),"hc"===Te.type&&r.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${_}; border-right: 1px solid ${_}; }`)}});const ra=()=>{throw new Error("Invalid change accessor")};class xa extends _e{constructor(r){super(r);const c=this._context.configuration.options,_=c.get(131);this._lineHeight=c.get(59),this._contentWidth=_.contentWidth,this._contentLeft=_.contentLeft,this.domNode=(0,ce.X)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,ce.X)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const r=this._context.viewLayout.getWhitespaces(),c=new Map;for(const y of r)c.set(y.id,y);let _=!1;return this._context.viewModel.changeWhitespace(y=>{const A=Object.keys(this._zones);for(let ie=0,he=A.length;ie<he;ie++){const ye=A[ie],Le=this._zones[ye],Ie=this._computeWhitespaceProps(Le.delegate);Le.isInHiddenArea=Ie.isInHiddenArea;const ze=c.get(ye);ze&&(ze.afterLineNumber!==Ie.afterViewLineNumber||ze.height!==Ie.heightInPx)&&(y.changeOneWhitespace(ye,Ie.afterViewLineNumber,Ie.heightInPx),this._safeCallOnComputedHeight(Le.delegate,Ie.heightInPx),_=!0)}}),_}onConfigurationChanged(r){const c=this._context.configuration.options,_=c.get(131);return this._lineHeight=c.get(59),this._contentWidth=_.contentWidth,this._contentLeft=_.contentLeft,r.hasChanged(59)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(r){return this._recomputeWhitespacesProps()}onLinesDeleted(r){return!0}onScrollChanged(r){return r.scrollTopChanged||r.scrollWidthChanged}onZonesChanged(r){return!0}onLinesInserted(r){return!0}_getZoneOrdinal(r){return void 0!==r.afterColumn?r.afterColumn:1e4}_computeWhitespaceProps(r){if(0===r.afterLineNumber)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(r),minWidthInPx:this._minWidthInPixels(r)};let c,_;if(void 0!==r.afterColumn)c=this._context.viewModel.model.validatePosition({lineNumber:r.afterLineNumber,column:r.afterColumn});else{const ie=this._context.viewModel.model.validatePosition({lineNumber:r.afterLineNumber,column:1}).lineNumber;c=new sn.L(ie,this._context.viewModel.model.getLineMaxColumn(ie))}_=c.column===this._context.viewModel.model.getLineMaxColumn(c.lineNumber)?this._context.viewModel.model.validatePosition({lineNumber:c.lineNumber+1,column:1}):this._context.viewModel.model.validatePosition({lineNumber:c.lineNumber,column:c.column+1});const y=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(c,r.afterColumnAffinity),A=this._context.viewModel.coordinatesConverter.modelPositionIsVisible(_);return{isInHiddenArea:!A,afterViewLineNumber:y.lineNumber,heightInPx:A?this._heightInPixels(r):0,minWidthInPx:this._minWidthInPixels(r)}}changeViewZones(r){let c=!1;return this._context.viewModel.changeWhitespace(_=>{const y={addZone:A=>(c=!0,this._addZone(_,A)),removeZone:A=>{!A||(c=this._removeZone(_,A)||c)},layoutZone:A=>{!A||(c=this._layoutZone(_,A)||c)}};(function(Te,r){try{Te(r)}catch(c){(0,T.dL)(c)}})(r,y),y.addZone=ra,y.removeZone=ra,y.layoutZone=ra}),c}_addZone(r,c){const _=this._computeWhitespaceProps(c),A={whitespaceId:r.insertWhitespace(_.afterViewLineNumber,this._getZoneOrdinal(c),_.heightInPx,_.minWidthInPx),delegate:c,isInHiddenArea:_.isInHiddenArea,isVisible:!1,domNode:(0,ce.X)(c.domNode),marginDomNode:c.marginDomNode?(0,ce.X)(c.marginDomNode):null};return this._safeCallOnComputedHeight(A.delegate,_.heightInPx),A.domNode.setPosition("absolute"),A.domNode.domNode.style.width="100%",A.domNode.setDisplay("none"),A.domNode.setAttribute("monaco-view-zone",A.whitespaceId),this.domNode.appendChild(A.domNode),A.marginDomNode&&(A.marginDomNode.setPosition("absolute"),A.marginDomNode.domNode.style.width="100%",A.marginDomNode.setDisplay("none"),A.marginDomNode.setAttribute("monaco-view-zone",A.whitespaceId),this.marginDomNode.appendChild(A.marginDomNode)),this._zones[A.whitespaceId]=A,this.setShouldRender(),A.whitespaceId}_removeZone(r,c){if(this._zones.hasOwnProperty(c)){const _=this._zones[c];return delete this._zones[c],r.removeWhitespace(_.whitespaceId),_.domNode.removeAttribute("monaco-visible-view-zone"),_.domNode.removeAttribute("monaco-view-zone"),_.domNode.domNode.parentNode.removeChild(_.domNode.domNode),_.marginDomNode&&(_.marginDomNode.removeAttribute("monaco-visible-view-zone"),_.marginDomNode.removeAttribute("monaco-view-zone"),_.marginDomNode.domNode.parentNode.removeChild(_.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(r,c){if(this._zones.hasOwnProperty(c)){const _=this._zones[c],y=this._computeWhitespaceProps(_.delegate);return _.isInHiddenArea=y.isInHiddenArea,r.changeOneWhitespace(_.whitespaceId,y.afterViewLineNumber,y.heightInPx),this._safeCallOnComputedHeight(_.delegate,y.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(r){return!!this._zones.hasOwnProperty(r)&&Boolean(this._zones[r].delegate.suppressMouseDown)}_heightInPixels(r){return"number"==typeof r.heightInPx?r.heightInPx:"number"==typeof r.heightInLines?this._lineHeight*r.heightInLines:this._lineHeight}_minWidthInPixels(r){return"number"==typeof r.minWidthInPx?r.minWidthInPx:0}_safeCallOnComputedHeight(r,c){if("function"==typeof r.onComputedHeight)try{r.onComputedHeight(c)}catch(_){(0,T.dL)(_)}}_safeCallOnDomNodeTop(r,c){if("function"==typeof r.onDomNodeTop)try{r.onDomNodeTop(c)}catch(_){(0,T.dL)(_)}}prepareRender(r){}render(r){const c=r.viewportData.whitespaceViewportData,_={};let y=!1;for(const ie of c)this._zones[ie.id].isInHiddenArea||(_[ie.id]=ie,y=!0);const A=Object.keys(this._zones);for(let ie=0,he=A.length;ie<he;ie++){const ye=A[ie],Le=this._zones[ye];let Ie=0,ze=0,qe="none";_.hasOwnProperty(ye)?(Ie=_[ye].verticalOffset-r.bigNumbersDelta,ze=_[ye].height,qe="block",Le.isVisible||(Le.domNode.setAttribute("monaco-visible-view-zone","true"),Le.isVisible=!0),this._safeCallOnDomNodeTop(Le.delegate,r.getScrolledTopFromAbsoluteTop(_[ye].verticalOffset))):(Le.isVisible&&(Le.domNode.removeAttribute("monaco-visible-view-zone"),Le.isVisible=!1),this._safeCallOnDomNodeTop(Le.delegate,r.getScrolledTopFromAbsoluteTop(-1e6))),Le.domNode.setTop(Ie),Le.domNode.setHeight(ze),Le.domNode.setDisplay(qe),Le.marginDomNode&&(Le.marginDomNode.setTop(Ie),Le.marginDomNode.setHeight(ze),Le.marginDomNode.setDisplay(qe))}y&&(this.domNode.setWidth(Math.max(r.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}class sd{constructor(r){this._theme=r}get type(){return this._theme.type}get value(){return this._theme}update(r){this._theme=r}getColor(r){return this._theme.getColor(r)}}class cc{constructor(r,c,_){this.configuration=r,this.theme=new sd(c),this.viewModel=_,this.viewLayout=_.viewLayout}addEventHandler(r){this.viewModel.addViewEventHandler(r)}removeEventHandler(r){this.viewModel.removeViewEventHandler(r)}}class wl{constructor(r,c,_,y){this.selections=r,this.startLineNumber=0|c.startLineNumber,this.endLineNumber=0|c.endLineNumber,this.relativeVerticalOffset=c.relativeVerticalOffset,this.bigNumbersDelta=0|c.bigNumbersDelta,this.whitespaceViewportData=_,this._model=y,this.visibleRange=new hn.e(c.startLineNumber,this._model.getLineMinColumn(c.startLineNumber),c.endLineNumber,this._model.getLineMaxColumn(c.endLineNumber))}getViewLineRenderingData(r){return this._model.getViewLineRenderingData(this.visibleRange,r)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}class dc extends ue{constructor(r,c,_,y,A,ie){super(),this._selections=[new re.Y(1,1,1,1)],this._renderAnimationFrame=null;const he=new Ti(c,y,A,r);this._context=new cc(c,_,y),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=new pi(this._context,he,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,ce.X)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,ce.X)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,ce.X)(document.createElement("div")),Re.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new dr(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new tr(this._context,this._linesContent),this._viewZones=new xa(this._context),this._viewParts.push(this._viewZones);const ye=new Dr(this._context);this._viewParts.push(ye);const Le=new Wr(this._context);this._viewParts.push(Le);const Ie=new Mo(this._context);this._viewParts.push(Ie),Ie.addDynamicOverlay(new Do(this._context)),Ie.addDynamicOverlay(new pu(this._context)),Ie.addDynamicOverlay(new xs(this._context)),Ie.addDynamicOverlay(new qs(this._context));const ze=new bo(this._context);this._viewParts.push(ze),ze.addDynamicOverlay(new Ss(this._context)),ze.addDynamicOverlay(new Us(this._context)),ze.addDynamicOverlay(new h(this._context)),ze.addDynamicOverlay(new wt(this._context)),ze.addDynamicOverlay(new Mn(this._context));const qe=new Hn(this._context);qe.getDomNode().appendChild(this._viewZones.marginDomNode),qe.getDomNode().appendChild(ze.getDomNode()),this._viewParts.push(qe),this._contentWidgets=new Ro(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new ac(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new Qr(this._context),this._viewParts.push(this._overlayWidgets);const ot=new vl(this._context);this._viewParts.push(ot);const bt=new _s(this._context);if(this._viewParts.push(bt),ye){const xt=this._scrollbar.getOverviewRulerLayoutInfo();xt.parent.insertBefore(ye.getDomNode(),xt.insertBefore)}this._linesContent.appendChild(Ie.getDomNode()),this._linesContent.appendChild(ot.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(qe.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(Le.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(bt.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),ie?ie.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new jt(this._context,he,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:r=>{this._textAreaHandler.textArea.domNode.dispatchEvent(r)},getLastRenderData:()=>{const r=this._viewCursors.getLastRenderData()||[],c=this._textAreaHandler.getLastRenderData();return new He(r,c)},shouldSuppressMouseDownOnViewZone:r=>this._viewZones.shouldSuppressMouseDownOnViewZone(r),shouldSuppressMouseDownOnWidget:r=>this._contentWidgets.shouldSuppressMouseDownOnWidget(r),getPositionFromDOMInfo:(r,c)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(r,c)),visibleRangeForPosition:(r,c)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new sn.L(r,c))),getLineWidth:r=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(r))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:r=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(r))}}_applyLayout(){const c=this._context.configuration.options.get(131);this.domNode.setWidth(c.width),this.domNode.setHeight(c.height),this._overflowGuardContainer.setWidth(c.width),this._overflowGuardContainer.setHeight(c.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const r=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(128)+" "+(0,En.m6)(this._context.theme.type)+r}handleEvents(r){super.handleEvents(r),this._scheduleRender()}onConfigurationChanged(r){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(r){return this._selections=r.selections,!1}onFocusChanged(r){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(r){return this._context.theme.update(r.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){null!==this._renderAnimationFrame&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const r of this._viewParts)r.dispose();super.dispose()}_scheduleRender(){null===this._renderAnimationFrame&&(this._renderAnimationFrame=F.lI(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){!function(Te){try{Te()}catch(r){(0,T.dL)(r)}}(()=>this._actualRender())}_getViewPartsToRender(){const r=[];let c=0;for(const _ of this._viewParts)_.shouldRender()&&(r[c++]=_);return r}_actualRender(){if(!F.Uw(this.domNode.domNode))return;let r=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&0===r.length)return;const c=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(c.startLineNumber,c.endLineNumber,c.centeredLineNumber);const _=new wl(this._selections,c,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(_),this._viewLines.shouldRender()&&(this._viewLines.renderText(_),this._viewLines.onDidRender(),r=this._getViewPartsToRender());const y=new Ze(this._context.viewLayout,_,this._viewLines);for(const A of r)A.prepareRender(y);for(const A of r)A.render(y),A.onDidRender()}delegateVerticalScrollbarMouseDown(r){this._scrollbar.delegateVerticalScrollbarMouseDown(r)}restoreState(r){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:r.scrollTop},1),this._context.viewModel.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:r.scrollLeft},1)}getOffsetForColumn(r,c){const _=this._context.viewModel.model.validatePosition({lineNumber:r,column:c}),y=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(_);this._flushAccumulatedAndRenderNow();const A=this._viewLines.visibleRangeForPosition(new sn.L(y.lineNumber,y.column));return A?A.left:-1}getTargetAtClientPoint(r,c){const _=this._pointerHandler.getTargetAtClientPoint(r,c);return _?bi.convertViewToModelMouseTarget(_,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(r){return new ur(this._context,r)}change(r){this._viewZones.changeViewZones(r),this._scheduleRender()}render(r,c){if(c){this._viewLines.forceShouldRender();for(const _ of this._viewParts)_.forceShouldRender()}r?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(r){this._textAreaHandler.setAriaOptions(r)}addContentWidget(r){this._contentWidgets.addWidget(r.widget),this.layoutContentWidget(r),this._scheduleRender()}layoutContentWidget(r){let c=r.position&&r.position.range||null;if(null===c){const y=r.position?r.position.position:null;null!==y&&(c=new hn.e(y.lineNumber,y.column,y.lineNumber,y.column))}this._contentWidgets.setWidgetPosition(r.widget,c,r.position?r.position.preference:null),this._scheduleRender()}removeContentWidget(r){this._contentWidgets.removeWidget(r.widget),this._scheduleRender()}addOverlayWidget(r){this._overlayWidgets.addWidget(r.widget),this.layoutOverlayWidget(r),this._scheduleRender()}layoutOverlayWidget(r){this._overlayWidgets.setWidgetPosition(r.widget,r.position?r.position.preference:null)&&this._scheduleRender()}removeOverlayWidget(r){this._overlayWidgets.removeWidget(r.widget),this._scheduleRender()}}var ko=m(35590);class Sl{constructor(r){this._selTrackedRange=null,this._trackSelection=!0,this._setState(r,new ko.rS(new hn.e(1,1,1,1),0,new sn.L(1,1),0),new ko.rS(new hn.e(1,1,1,1),0,new sn.L(1,1),0))}dispose(r){this._removeTrackedRange(r)}startTrackingSelection(r){this._trackSelection=!0,this._updateTrackedRange(r)}stopTrackingSelection(r){this._trackSelection=!1,this._removeTrackedRange(r)}_updateTrackedRange(r){!this._trackSelection||(this._selTrackedRange=r.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(r){this._selTrackedRange=r.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new ko.Vi(this.modelState,this.viewState)}readSelectionFromMarkers(r){const c=r.model._getTrackedRange(this._selTrackedRange);return re.Y.fromRange(c,this.modelState.selection.getDirection())}ensureValidState(r){this._setState(r,this.modelState,this.viewState)}setState(r,c,_){this._setState(r,c,_)}static _validatePositionWithCache(r,c,_,y){return c.equals(_)?y:r.normalizePosition(c,2)}static _validateViewState(r,c){const _=c.position,y=c.selectionStart.getStartPosition(),A=c.selectionStart.getEndPosition(),ie=r.normalizePosition(_,2),he=this._validatePositionWithCache(r,y,_,ie),ye=this._validatePositionWithCache(r,A,y,he);return _.equals(ie)&&y.equals(he)&&A.equals(ye)?c:new ko.rS(hn.e.fromPositions(he,ye),c.selectionStartLeftoverVisibleColumns+y.column-he.column,ie,c.leftoverVisibleColumns+_.column-ie.column)}_setState(r,c,_){if(_&&(_=Sl._validateViewState(r.viewModel,_)),c){const y=r.model.validateRange(c.selectionStart),A=c.selectionStart.equalsRange(y)?c.selectionStartLeftoverVisibleColumns:0,ie=r.model.validatePosition(c.position),he=c.position.equals(ie)?c.leftoverVisibleColumns:0;c=new ko.rS(y,A,ie,he)}else{if(!_)return;const y=r.model.validateRange(r.coordinatesConverter.convertViewRangeToModelRange(_.selectionStart)),A=r.model.validatePosition(r.coordinatesConverter.convertViewPositionToModelPosition(_.position));c=new ko.rS(y,_.selectionStartLeftoverVisibleColumns,A,_.leftoverVisibleColumns)}if(_){const y=r.coordinatesConverter.validateViewRange(_.selectionStart,c.selectionStart),A=r.coordinatesConverter.validateViewPosition(_.position,c.position);_=new ko.rS(y,c.selectionStartLeftoverVisibleColumns,A,c.leftoverVisibleColumns)}else{const y=r.coordinatesConverter.convertModelPositionToViewPosition(new sn.L(c.selectionStart.startLineNumber,c.selectionStart.startColumn)),A=r.coordinatesConverter.convertModelPositionToViewPosition(new sn.L(c.selectionStart.endLineNumber,c.selectionStart.endColumn)),ie=new hn.e(y.lineNumber,y.column,A.lineNumber,A.column),he=r.coordinatesConverter.convertModelPositionToViewPosition(c.position);_=new ko.rS(ie,c.selectionStartLeftoverVisibleColumns,he,c.leftoverVisibleColumns)}this.modelState=c,this.viewState=_,this._updateTrackedRange(r)}}class Ls{constructor(r){this.context=r,this.cursors=[new Sl(r)],this.lastAddedCursorIndex=0}dispose(){for(const r of this.cursors)r.dispose(this.context)}startTrackingSelections(){for(const r of this.cursors)r.startTrackingSelection(this.context)}stopTrackingSelections(){for(const r of this.cursors)r.stopTrackingSelection(this.context)}updateContext(r){this.context=r}ensureValidState(){for(const r of this.cursors)r.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(r=>r.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(r=>r.asCursorState())}getViewPositions(){return this.cursors.map(r=>r.viewState.position)}getTopMostViewPosition(){return(0,f.VJ)(this.cursors,(0,f.tT)(r=>r.viewState.position,sn.L.compare)).viewState.position}getBottomMostViewPosition(){return(0,f.jV)(this.cursors,(0,f.tT)(r=>r.viewState.position,sn.L.compare)).viewState.position}getSelections(){return this.cursors.map(r=>r.modelState.selection)}getViewSelections(){return this.cursors.map(r=>r.viewState.selection)}setSelections(r){this.setStates(ko.Vi.fromModelSelections(r))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(r){null!==r&&(this.cursors[0].setState(this.context,r[0].modelState,r[0].viewState),this._setSecondaryStates(r.slice(1)))}_setSecondaryStates(r){const c=this.cursors.length-1,_=r.length;if(c<_){const y=_-c;for(let A=0;A<y;A++)this._addSecondaryCursor()}else if(c>_){const y=c-_;for(let A=0;A<y;A++)this._removeSecondaryCursor(this.cursors.length-2)}for(let y=0;y<_;y++)this.cursors[y+1].setState(this.context,r[y].modelState,r[y].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new Sl(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return 1===this.cursors.length||0===this.lastAddedCursorIndex?0:this.lastAddedCursorIndex}_removeSecondaryCursor(r){this.lastAddedCursorIndex>=r+1&&this.lastAddedCursorIndex--,this.cursors[r+1].dispose(this.context),this.cursors.splice(r+1,1)}normalize(){if(1===this.cursors.length)return;const r=this.cursors.slice(0),c=[];for(let _=0,y=r.length;_<y;_++)c.push({index:_,selection:r[_].modelState.selection});c.sort((0,f.tT)(_=>_.selection,hn.e.compareRangesUsingStarts));for(let _=0;_<c.length-1;_++){const y=c[_],A=c[_+1],ie=y.selection,he=A.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let ye;if(ye=he.isEmpty()||ie.isEmpty()?he.getStartPosition().isBeforeOrEqual(ie.getEndPosition()):he.getStartPosition().isBefore(ie.getEndPosition()),ye){const Le=y.index<A.index?_:_+1,Ie=y.index<A.index?_+1:_,ze=c[Ie].index,qe=c[Le].index,ot=c[Ie].selection,bt=c[Le].selection;if(!ot.equalsSelection(bt)){const xt=ot.plusRange(bt),Nt=ot.selectionStartLineNumber===ot.startLineNumber&&ot.selectionStartColumn===ot.startColumn,tn=bt.selectionStartLineNumber===bt.startLineNumber&&bt.selectionStartColumn===bt.startColumn;let ln,$t;ze===this.lastAddedCursorIndex?(ln=Nt,this.lastAddedCursorIndex=qe):ln=tn,$t=ln?new re.Y(xt.startLineNumber,xt.startColumn,xt.endLineNumber,xt.endColumn):new re.Y(xt.endLineNumber,xt.endColumn,xt.startLineNumber,xt.startColumn),c[Le].selection=$t;const On=ko.Vi.fromModelSelection($t);r[qe].setState(this.context,On.modelState,On.viewState)}for(const xt of c)xt.index>ze&&xt.index--;r.splice(ze,1),c.splice(Ie,1),this._removeSecondaryCursor(ze-1),_--}}}}class Hr{constructor(r,c,_,y){this._cursorContextBrand=void 0,this.model=r,this.viewModel=c,this.coordinatesConverter=_,this.cursorConfig=y}}var uc=m(17666),hr=m(8418),ir=m(87604);class La{constructor(){this.type=0}}class _u{constructor(){this.type=1}}class xl{constructor(r){this.type=2,this._source=r}hasChanged(r){return this._source.hasChanged(r)}}class Cu{constructor(r,c){this.type=3,this.selections=r,this.modelSelections=c}}class zr{constructor(r){this.type=4,r?(this.affectsMinimap=r.affectsMinimap,this.affectsOverviewRuler=r.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}class Ga{constructor(){this.type=5}}class bu{constructor(r){this.type=6,this.isFocused=r}}class rd{constructor(){this.type=7}}class Ur{constructor(){this.type=8}}class Er{constructor(r,c){this.type=9,this.fromLineNumber=r,this.toLineNumber=c}}class gi{constructor(r,c){this.type=10,this.fromLineNumber=r,this.toLineNumber=c}}class qo{constructor(r,c){this.type=11,this.fromLineNumber=r,this.toLineNumber=c}}class cs{constructor(r,c,_,y,A,ie,he){this.source=r,this.minimalReveal=c,this.range=_,this.selections=y,this.verticalType=A,this.revealHorizontal=ie,this.scrollType=he,this.type=12}}class Ds{constructor(r){this.type=13,this.scrollWidth=r.scrollWidth,this.scrollLeft=r.scrollLeft,this.scrollHeight=r.scrollHeight,this.scrollTop=r.scrollTop,this.scrollWidthChanged=r.scrollWidthChanged,this.scrollLeftChanged=r.scrollLeftChanged,this.scrollHeightChanged=r.scrollHeightChanged,this.scrollTopChanged=r.scrollTopChanged}}class $o{constructor(r){this.theme=r,this.type=14}}class Es{constructor(r){this.type=15,this.ranges=r}}class hc{constructor(){this.type=16}}class Da{constructor(){this.type=17}}class Oi extends C.JT{constructor(){super(),this._onEvent=this._register(new S.Q5),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(r){this._addOutgoingEvent(r),this._emitOutgoingEvents()}_addOutgoingEvent(r){for(let c=0,_=this._outgoingEvents.length;c<_;c++)if(this._outgoingEvents[c].kind===r.kind)return void(this._outgoingEvents[c]=this._outgoingEvents[c].merge(r));this._outgoingEvents.push(r)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const r=this._outgoingEvents.shift();r.isNoOp()||this._onEvent.fire(r)}}addViewEventHandler(r){for(let c=0,_=this._eventHandlers.length;c<_;c++)this._eventHandlers[c]===r&&console.warn("Detected duplicate listener in ViewEventDispatcher",r);this._eventHandlers.push(r)}removeViewEventHandler(r){for(let c=0;c<this._eventHandlers.length;c++)if(this._eventHandlers[c]===r){this._eventHandlers.splice(c,1);break}}beginEmitViewEvents(){return this._collectorCnt++,1===this._collectorCnt&&(this._collector=new no),this._collector}endEmitViewEvents(){if(this._collectorCnt--,0===this._collectorCnt){const r=this._collector.outgoingEvents,c=this._collector.viewEvents;this._collector=null;for(const _ of r)this._addOutgoingEvent(_);c.length>0&&this._emitMany(c)}this._emitOutgoingEvents()}emitSingleViewEvent(r){try{this.beginEmitViewEvents().emitViewEvent(r)}finally{this.endEmitViewEvents()}}_emitMany(r){this._viewEventQueue=this._viewEventQueue?this._viewEventQueue.concat(r):r,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const r=this._viewEventQueue;this._viewEventQueue=null;const c=this._eventHandlers.slice(0);for(const _ of c)_.handleEvents(r)}}}class no{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(r){this.viewEvents.push(r)}emitOutgoingEvent(r){this.outgoingEvents.push(r)}}class Bo{constructor(r,c,_,y){this.kind=0,this._oldContentWidth=r,this._oldContentHeight=c,this.contentWidth=_,this.contentHeight=y,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}merge(r){return 0!==r.kind?this:new Bo(this._oldContentWidth,this._oldContentHeight,r.contentWidth,r.contentHeight)}}class To{constructor(r,c){this.kind=1,this.oldHasFocus=r,this.hasFocus=c}isNoOp(){return this.oldHasFocus===this.hasFocus}merge(r){return 1!==r.kind?this:new To(this.oldHasFocus,r.hasFocus)}}class ss{constructor(r,c,_,y,A,ie,he,ye){this.kind=2,this._oldScrollWidth=r,this._oldScrollLeft=c,this._oldScrollHeight=_,this._oldScrollTop=y,this.scrollWidth=A,this.scrollLeft=ie,this.scrollHeight=he,this.scrollTop=ye,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!(this.scrollWidthChanged||this.scrollLeftChanged||this.scrollHeightChanged||this.scrollTopChanged)}merge(r){return 2!==r.kind?this:new ss(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,r.scrollWidth,r.scrollLeft,r.scrollHeight,r.scrollTop)}}class es{constructor(){this.kind=3}isNoOp(){return!1}merge(r){return this}}class Wo{constructor(r,c,_,y,A,ie,he){this.kind=6,this.oldSelections=r,this.selections=c,this.oldModelVersionId=_,this.modelVersionId=y,this.source=A,this.reason=ie,this.reachedMaxCursorCount=he}static _selectionsAreEqual(r,c){if(!r&&!c)return!0;if(!r||!c)return!1;const _=r.length;if(_!==c.length)return!1;for(let A=0;A<_;A++)if(!r[A].equalsSelection(c[A]))return!1;return!0}isNoOp(){return Wo._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}merge(r){return 6!==r.kind?this:new Wo(this.oldSelections,r.selections,this.oldModelVersionId,r.modelVersionId,r.source,r.reason,this.reachedMaxCursorCount||r.reachedMaxCursorCount)}}class ad{constructor(){this.kind=5}isNoOp(){return!1}merge(r){return this}}let ld=(()=>{class Te extends C.JT{constructor(c,_,y,A){super(),this._model=c,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=_,this._coordinatesConverter=y,this.context=new Hr(this._model,this._viewModel,this._coordinatesConverter,A),this._cursors=new Ls(this.context),this._hasFocus=!1,this._isHandling=!1,this._isDoingComposition=!1,this._selectionsWhenCompositionStarted=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,C.B9)(this._autoClosedActions),super.dispose()}updateConfiguration(c){this.context=new Hr(this._model,this._viewModel,this._coordinatesConverter,c),this._cursors.updateContext(this.context)}onLineMappingChanged(c){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(c,"viewModel",0,this.getCursorStates())}setHasFocus(c){this._hasFocus=c}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const c=this._cursors.getSelections();for(let _=0;_<this._autoClosedActions.length;_++){const y=this._autoClosedActions[_];y.isValid(c)||(y.dispose(),this._autoClosedActions.splice(_,1),_--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(c,_,y,A){let ie=!1;null!==A&&A.length>Te.MAX_CURSOR_COUNT&&(A=A.slice(0,Te.MAX_CURSOR_COUNT),ie=!0);const he=Ea.from(this._model,this);return this._cursors.setStates(A),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(c,_,y,he,ie)}setCursorColumnSelectData(c){this._columnSelectData=c}revealPrimary(c,_,y,A,ie,he){const ye=this._cursors.getViewPositions();let Le=null,Ie=null;ye.length>1?Ie=this._cursors.getViewSelections():Le=hn.e.fromPositions(ye[0],ye[0]),c.emitViewEvent(new cs(_,y,Le,Ie,A,ie,he))}saveState(){const c=[],_=this._cursors.getSelections();for(let y=0,A=_.length;y<A;y++){const ie=_[y];c.push({inSelectionMode:!ie.isEmpty(),selectionStart:{lineNumber:ie.selectionStartLineNumber,column:ie.selectionStartColumn},position:{lineNumber:ie.positionLineNumber,column:ie.positionColumn}})}return c}restoreState(c,_){const y=[];for(let A=0,ie=_.length;A<ie;A++){const he=_[A];let ye=1,Le=1;he.position&&he.position.lineNumber&&(ye=he.position.lineNumber),he.position&&he.position.column&&(Le=he.position.column);let Ie=ye,ze=Le;he.selectionStart&&he.selectionStart.lineNumber&&(Ie=he.selectionStart.lineNumber),he.selectionStart&&he.selectionStart.column&&(ze=he.selectionStart.column),y.push({selectionStartLineNumber:Ie,selectionStartColumn:ze,positionLineNumber:ye,positionColumn:Le})}this.setStates(c,"restoreState",0,ko.Vi.fromModelSelections(y)),this.revealPrimary(c,"restoreState",!1,0,!0,1)}onModelContentChanged(c,_){if(_ instanceof ir.D8){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(c,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{if(this._knownModelVersionId=_.versionId,this._isHandling)return;const y=_.containsEvent(1);if(this._prevEditOperationType=0,y)this._cursors.dispose(),this._cursors=new Ls(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(c,"model",1,null,!1);else if(this._hasFocus&&_.resultingSelection&&_.resultingSelection.length>0){const A=ko.Vi.fromModelSelections(_.resultingSelection);this.setStates(c,"modelChange",_.isUndoing?5:_.isRedoing?6:2,A)&&this.revealPrimary(c,"modelChange",!1,0,!0,0)}else{const A=this._cursors.readSelectionFromMarkers();this.setStates(c,"modelChange",2,ko.Vi.fromModelSelections(A))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const c=this._cursors.getPrimaryCursor(),_=c.viewState.selectionStart.getStartPosition(),y=c.viewState.position;return{isReal:!1,fromViewLineNumber:_.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,_),toViewLineNumber:y.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,y)}}getSelections(){return this._cursors.getSelections()}setSelections(c,_,y,A){this.setStates(c,_,A,ko.Vi.fromModelSelections(y))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(c){this._prevEditOperationType=c}_pushAutoClosedAction(c,_){const y=[],A=[];for(let ye=0,Le=c.length;ye<Le;ye++)y.push({range:c[ye],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),A.push({range:_[ye],options:{description:"auto-closed-enclosing",stickiness:1}});const ie=this._model.deltaDecorations([],y),he=this._model.deltaDecorations([],A);this._autoClosedActions.push(new Ll(this._model,ie,he))}_executeEditOperation(c){if(!c)return;c.shouldPushStackElementBefore&&this._model.pushStackElement();const _=class{static executeCommands(r,c,_){const y={model:r,selectionsBefore:c,trackedRanges:[],trackedRangesDirection:[]},A=this._innerExecuteCommands(y,_);for(let ie=0,he=y.trackedRanges.length;ie<he;ie++)y.model._setTrackedRange(y.trackedRanges[ie],null,0);return A}static _innerExecuteCommands(r,c){if(this._arrayIsEmpty(c))return null;const _=this._getEditOperations(r,c);if(0===_.operations.length)return null;const y=_.operations,A=this._getLoserCursorMap(y);if(A.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const ie=[];for(let Le=0,Ie=y.length;Le<Ie;Le++)A.hasOwnProperty(y[Le].identifier.major.toString())||ie.push(y[Le]);_.hadTrackedEditOperation&&ie.length>0&&(ie[0]._isTracked=!0);let he=r.model.pushEditOperations(r.selectionsBefore,ie,Le=>{const Ie=[];for(let ot=0;ot<r.selectionsBefore.length;ot++)Ie[ot]=[];for(const ot of Le)!ot.identifier||Ie[ot.identifier.major].push(ot);const ze=(ot,bt)=>ot.identifier.minor-bt.identifier.minor,qe=[];for(let ot=0;ot<r.selectionsBefore.length;ot++)Ie[ot].length>0?(Ie[ot].sort(ze),qe[ot]=c[ot].computeCursorState(r.model,{getInverseEditOperations:()=>Ie[ot],getTrackedSelection:bt=>{const xt=parseInt(bt,10),Nt=r.model._getTrackedRange(r.trackedRanges[xt]);return 0===r.trackedRangesDirection[xt]?new re.Y(Nt.startLineNumber,Nt.startColumn,Nt.endLineNumber,Nt.endColumn):new re.Y(Nt.endLineNumber,Nt.endColumn,Nt.startLineNumber,Nt.startColumn)}})):qe[ot]=r.selectionsBefore[ot];return qe});he||(he=r.selectionsBefore);const ye=[];for(let Le in A)A.hasOwnProperty(Le)&&ye.push(parseInt(Le,10));ye.sort((Le,Ie)=>Ie-Le);for(const Le of ye)he.splice(Le,1);return he}static _arrayIsEmpty(r){for(let c=0,_=r.length;c<_;c++)if(r[c])return!1;return!0}static _getEditOperations(r,c){let _=[],y=!1;for(let A=0,ie=c.length;A<ie;A++){const he=c[A];if(he){const ye=this._getEditOperationsFromCommand(r,A,he);_=_.concat(ye.operations),y=y||ye.hadTrackedEditOperation}}return{operations:_,hadTrackedEditOperation:y}}static _getEditOperationsFromCommand(r,c,_){const y=[];let A=0;const ie=(ze,qe,ot=!1)=>{hn.e.isEmpty(ze)&&""===qe||y.push({identifier:{major:c,minor:A++},range:ze,text:qe,forceMoveMarkers:ot,isAutoWhitespaceEdit:_.insertsAutoWhitespace})};let he=!1;const Ie={addEditOperation:ie,addTrackedEditOperation:(ze,qe,ot)=>{he=!0,ie(ze,qe,ot)},trackSelection:(ze,qe)=>{const ot=re.Y.liftSelection(ze);let bt;if(ot.isEmpty())if("boolean"==typeof qe)bt=qe?2:3;else{const tn=r.model.getLineMaxColumn(ot.startLineNumber);bt=ot.startColumn===tn?2:3}else bt=1;const xt=r.trackedRanges.length,Nt=r.model._setTrackedRange(null,ot,bt);return r.trackedRanges[xt]=Nt,r.trackedRangesDirection[xt]=ot.getDirection(),xt.toString()}};try{_.getEditOperations(r.model,Ie)}catch(ze){return(0,T.dL)(ze),{operations:[],hadTrackedEditOperation:!1}}return{operations:y,hadTrackedEditOperation:he}}static _getLoserCursorMap(r){(r=r.slice(0)).sort((_,y)=>-hn.e.compareRangesUsingEnds(_.range,y.range));const c={};for(let _=1;_<r.length;_++){const y=r[_-1],A=r[_];if(hn.e.getStartPosition(y.range).isBefore(hn.e.getEndPosition(A.range))){let ie;ie=y.identifier.major>A.identifier.major?y.identifier.major:A.identifier.major,c[ie.toString()]=!0;for(let he=0;he<r.length;he++)r[he].identifier.major===ie&&(r.splice(he,1),he<_&&_--,he--);_>0&&_--}}return c}}.executeCommands(this._model,this._cursors.getSelections(),c.commands);if(_){this._interpretCommandResult(_);const y=[],A=[];for(let ie=0;ie<c.commands.length;ie++){const he=c.commands[ie];he instanceof hr.g&&he.enclosingRange&&he.closeCharacterRange&&(y.push(he.closeCharacterRange),A.push(he.enclosingRange))}y.length>0&&this._pushAutoClosedAction(y,A),this._prevEditOperationType=c.type}c.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(c){(!c||0===c.length)&&(c=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(c),this._cursors.normalize()}_emitStateChangedIfNecessary(c,_,y,A,ie){const he=Ea.from(this._model,this);if(he.equals(A))return!1;const ye=this._cursors.getSelections(),Le=this._cursors.getViewSelections();if(c.emitViewEvent(new Cu(Le,ye)),!A||A.cursorState.length!==he.cursorState.length||he.cursorState.some((Ie,ze)=>!Ie.modelState.equals(A.cursorState[ze].modelState))){const Ie=A?A.cursorState.map(qe=>qe.modelState.selection):null;c.emitOutgoingEvent(new Wo(Ie,ye,A?A.modelVersionId:0,he.modelVersionId,_||"keyboard",y,ie))}return!0}_findAutoClosingPairs(c){if(!c.length)return null;const _=[];for(let y=0,A=c.length;y<A;y++){const ie=c[y];if(!ie.text||ie.text.indexOf("\n")>=0)return null;const he=ie.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!he)return null;const Le=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(he[1]);if(!Le||1!==Le.length)return null;const ze=ie.text.length-he[2].length-1,qe=ie.text.lastIndexOf(Le[0].open,ze-1);if(-1===qe)return null;_.push([qe,ze])}return _}executeEdits(c,_,y,A){let ie=null;"snippet"===_&&(ie=this._findAutoClosingPairs(y)),ie&&(y[0]._isTracked=!0);const he=[],ye=[],Le=this._model.pushEditOperations(this.getSelections(),y,Ie=>{if(ie)for(let qe=0,ot=ie.length;qe<ot;qe++){const[bt,xt]=ie[qe],Nt=Ie[qe],tn=Nt.range.startLineNumber,ln=Nt.range.startColumn-1+bt,$t=Nt.range.startColumn-1+xt;he.push(new hn.e(tn,$t+1,tn,$t+2)),ye.push(new hn.e(tn,ln+1,tn,$t+2))}const ze=A(Ie);return ze&&(this._isHandling=!0),ze});Le&&(this._isHandling=!1,this.setSelections(c,_,Le,0)),he.length>0&&this._pushAutoClosedAction(he,ye)}_executeEdit(c,_,y,A=0){if(this.context.cursorConfig.readOnly)return;const ie=Ea.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),c()}catch(he){(0,T.dL)(he)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(_,y,A,ie,!1)&&this.revealPrimary(_,y,!1,0,!0,0)}setIsDoingComposition(c){this._isDoingComposition=c}getAutoClosedCharacters(){return Ll.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(c){this._selectionsWhenCompositionStarted=this.getSelections().slice(0)}endComposition(c,_){this._executeEdit(()=>{"keyboard"===_&&(this._executeEditOperation(hr.u.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this._selectionsWhenCompositionStarted,this.getSelections(),this.getAutoClosedCharacters())),this._selectionsWhenCompositionStarted=null)},c,_)}type(c,_,y){this._executeEdit(()=>{if("keyboard"===y){const A=_.length;let ie=0;for(;ie<A;){const he=wn.vH(_,ie),ye=_.substr(ie,he);this._executeEditOperation(hr.u.typeWithInterceptors(this._isDoingComposition,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),ye)),ie+=he}}else this._executeEditOperation(hr.u.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),_))},c,y)}compositionType(c,_,y,A,ie,he){if(0!==_.length||0!==y||0!==A)this._executeEdit(()=>{this._executeEditOperation(hr.u.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),_,y,A,ie))},c,he);else if(0!==ie){const ye=this.getSelections().map(Le=>{const Ie=Le.getPosition();return new re.Y(Ie.lineNumber,Ie.column+ie,Ie.lineNumber,Ie.column+ie)});this.setSelections(c,he,ye,0)}}paste(c,_,y,A,ie){this._executeEdit(()=>{this._executeEditOperation(hr.u.paste(this.context.cursorConfig,this._model,this.getSelections(),_,y,A||[]))},c,ie,4)}cut(c,_){this._executeEdit(()=>{this._executeEditOperation(uc.A.cut(this.context.cursorConfig,this._model,this.getSelections()))},c,_)}executeCommand(c,_,y){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new ko.Tp(0,[_],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},c,y)}executeCommands(c,_,y){this._executeEdit(()=>{this._executeEditOperation(new ko.Tp(0,_,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},c,y)}}return Te.MAX_CURSOR_COUNT=1e4,Te})();class Ea{constructor(r,c){this.modelVersionId=r,this.cursorState=c}static from(r,c){return new Ea(r.getVersionId(),c.getCursorStates())}equals(r){if(!r||this.modelVersionId!==r.modelVersionId||this.cursorState.length!==r.cursorState.length)return!1;for(let c=0,_=this.cursorState.length;c<_;c++)if(!this.cursorState[c].equals(r.cursorState[c]))return!1;return!0}}class Ll{constructor(r,c,_){this._model=r,this._autoClosedCharactersDecorations=c,this._autoClosedEnclosingDecorations=_}static getAllAutoClosedCharacters(r){let c=[];for(const _ of r)c=c.concat(_.getAutoClosedCharactersRanges());return c}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const r=[];for(let c=0;c<this._autoClosedCharactersDecorations.length;c++){const _=this._model.getDecorationRange(this._autoClosedCharactersDecorations[c]);_&&r.push(_)}return r}isValid(r){const c=[];for(let _=0;_<this._autoClosedEnclosingDecorations.length;_++){const y=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[_]);if(y&&(c.push(y),y.startLineNumber!==y.endLineNumber))return!1}c.sort(hn.e.compareRangesUsingStarts),r.sort(hn.e.compareRangesUsingStarts);for(let _=0;_<r.length;_++)if(_>=c.length||!c[_].strictContainsRange(r[_]))return!1;return!0}}var Dl=m(47804),Qa=m(3760),lo=m(20296),Ya=m(12282),fc=m(42137),vu=m(90443);class cd{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(r){this._hasPending=!0,this._inserts.push(r)}change(r){this._hasPending=!0,this._changes.push(r)}remove(r){this._hasPending=!0,this._removes.push(r)}mustCommit(){return this._hasPending}commit(r){if(!this._hasPending)return;const c=this._inserts,_=this._changes,y=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],r._commitPendingChanges(c,_,y)}}class An{constructor(r,c,_,y,A){this.id=r,this.afterLineNumber=c,this.ordinal=_,this.height=y,this.minWidth=A,this.prefixSum=0}}let Rh=(()=>{class Te{constructor(c,_,y,A){this._instanceId=wn.PJ(++Te.INSTANCE_COUNT),this._pendingChanges=new cd,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=c,this._lineHeight=_,this._paddingTop=y,this._paddingBottom=A}static findInsertionIndex(c,_,y){let A=0,ie=c.length;for(;A<ie;){const he=A+ie>>>1;_===c[he].afterLineNumber?y<c[he].ordinal?ie=he:A=he+1:_<c[he].afterLineNumber?ie=he:A=he+1}return A}setLineHeight(c){this._checkPendingChanges(),this._lineHeight=c}setPadding(c,_){this._paddingTop=c,this._paddingBottom=_}onFlushed(c){this._checkPendingChanges(),this._lineCount=c}changeWhitespace(c){let _=!1;try{c({insertWhitespace:(A,ie,he,ye)=>{_=!0,A|=0,ie|=0,he|=0,ye|=0;const Le=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new An(Le,A,ie,he,ye)),Le},changeOneWhitespace:(A,ie,he)=>{_=!0,this._pendingChanges.change({id:A,newAfterLineNumber:ie|=0,newHeight:he|=0})},removeWhitespace:A=>{_=!0,this._pendingChanges.remove({id:A})}})}finally{this._pendingChanges.commit(this)}return _}_commitPendingChanges(c,_,y){if((c.length>0||y.length>0)&&(this._minWidth=-1),c.length+_.length+y.length<=1){for(const Le of c)this._insertWhitespace(Le);for(const Le of _)this._changeOneWhitespace(Le.id,Le.newAfterLineNumber,Le.newHeight);for(const Le of y){const Ie=this._findWhitespaceIndex(Le.id);-1!==Ie&&this._removeWhitespace(Ie)}return}const A=new Set;for(const Le of y)A.add(Le.id);const ie=new Map;for(const Le of _)ie.set(Le.id,Le);const he=Le=>{const Ie=[];for(const ze of Le)if(!A.has(ze.id)){if(ie.has(ze.id)){const qe=ie.get(ze.id);ze.afterLineNumber=qe.newAfterLineNumber,ze.height=qe.newHeight}Ie.push(ze)}return Ie},ye=he(this._arr).concat(he(c));ye.sort((Le,Ie)=>Le.afterLineNumber===Ie.afterLineNumber?Le.ordinal-Ie.ordinal:Le.afterLineNumber-Ie.afterLineNumber),this._arr=ye,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(c){const _=Te.findInsertionIndex(this._arr,c.afterLineNumber,c.ordinal);this._arr.splice(_,0,c),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,_-1)}_findWhitespaceIndex(c){const _=this._arr;for(let y=0,A=_.length;y<A;y++)if(_[y].id===c)return y;return-1}_changeOneWhitespace(c,_,y){const A=this._findWhitespaceIndex(c);if(-1!==A&&(this._arr[A].height!==y&&(this._arr[A].height=y,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,A-1)),this._arr[A].afterLineNumber!==_)){const ie=this._arr[A];this._removeWhitespace(A),ie.afterLineNumber=_,this._insertWhitespace(ie)}}_removeWhitespace(c){this._arr.splice(c,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,c-1)}onLinesDeleted(c,_){this._checkPendingChanges(),this._lineCount-=(_|=0)-(c|=0)+1;for(let y=0,A=this._arr.length;y<A;y++){const ie=this._arr[y].afterLineNumber;c<=ie&&ie<=_?this._arr[y].afterLineNumber=c-1:ie>_&&(this._arr[y].afterLineNumber-=_-c+1)}}onLinesInserted(c,_){this._checkPendingChanges(),this._lineCount+=(_|=0)-(c|=0)+1;for(let y=0,A=this._arr.length;y<A;y++)c<=this._arr[y].afterLineNumber&&(this._arr[y].afterLineNumber+=_-c+1)}getWhitespacesTotalHeight(){return this._checkPendingChanges(),0===this._arr.length?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(c){this._checkPendingChanges(),c|=0;let _=Math.max(0,this._prefixSumValidIndex+1);0===_&&(this._arr[0].prefixSum=this._arr[0].height,_++);for(let y=_;y<=c;y++)this._arr[y].prefixSum=this._arr[y-1].prefixSum+this._arr[y].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,c),this._arr[c].prefixSum}getLinesTotalHeight(){return this._checkPendingChanges(),this._lineHeight*this._lineCount+this.getWhitespacesTotalHeight()+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(c){this._checkPendingChanges();const _=this._findLastWhitespaceBeforeLineNumber(c|=0);return-1===_?0:this.getWhitespacesAccumulatedHeight(_)}_findLastWhitespaceBeforeLineNumber(c){c|=0;const _=this._arr;let y=0,A=_.length-1;for(;y<=A;){const ye=y+((A-y|0)/2|0)|0;if(_[ye].afterLineNumber<c){if(ye+1>=_.length||_[ye+1].afterLineNumber>=c)return ye;y=ye+1|0}else A=ye-1|0}return-1}_findFirstWhitespaceAfterLineNumber(c){const y=this._findLastWhitespaceBeforeLineNumber(c|=0)+1;return y<this._arr.length?y:-1}getFirstWhitespaceIndexAfterLineNumber(c){return this._checkPendingChanges(),this._findFirstWhitespaceAfterLineNumber(c|=0)}getVerticalOffsetForLineNumber(c){let _;return this._checkPendingChanges(),_=(c|=0)>1?this._lineHeight*(c-1):0,_+this.getWhitespaceAccumulatedHeightBeforeLineNumber(c)+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),-1===this._minWidth){let c=0;for(let _=0,y=this._arr.length;_<y;_++)c=Math.max(c,this._arr[_].minWidth);this._minWidth=c}return this._minWidth}isAfterLines(c){return this._checkPendingChanges(),c>this.getLinesTotalHeight()}isInTopPadding(c){return 0!==this._paddingTop&&(this._checkPendingChanges(),c<this._paddingTop)}isInBottomPadding(c){return 0!==this._paddingBottom&&(this._checkPendingChanges(),c>=this.getLinesTotalHeight()-this._paddingBottom)}getLineNumberAtOrAfterVerticalOffset(c){if(this._checkPendingChanges(),(c|=0)<0)return 1;const _=0|this._lineCount,y=this._lineHeight;let A=1,ie=_;for(;A<ie;){const he=(A+ie)/2|0,ye=0|this.getVerticalOffsetForLineNumber(he);if(c>=ye+y)A=he+1;else{if(c>=ye)return he;ie=he}}return A>_?_:A}getLinesViewportData(c,_){this._checkPendingChanges(),_|=0;const y=this._lineHeight,A=0|this.getLineNumberAtOrAfterVerticalOffset(c|=0),ie=0|this.getVerticalOffsetForLineNumber(A);let he=0|this._lineCount,ye=0|this.getFirstWhitespaceIndexAfterLineNumber(A);const Le=0|this.getWhitespacesCount();let Ie,ze;-1===ye?(ye=Le,ze=he+1,Ie=0):(ze=0|this.getAfterLineNumberForWhitespaceIndex(ye),Ie=0|this.getHeightForWhitespaceIndex(ye));let qe=ie,ot=qe;const bt=5e5;let xt=0;ie>=bt&&(xt=Math.floor(ie/bt)*bt,xt=Math.floor(xt/y)*y,ot-=xt);const Nt=[],tn=c+(_-c)/2;let ln=-1;for(let Rn=A;Rn<=he;Rn++){if(-1===ln){const Fn=qe,Dn=qe+y;(Fn<=tn&&tn<Dn||Fn>tn)&&(ln=Rn)}for(qe+=y,Nt[Rn-A]=ot,ot+=y;ze===Rn;)ot+=Ie,qe+=Ie,ye++,ye>=Le?ze=he+1:(ze=0|this.getAfterLineNumberForWhitespaceIndex(ye),Ie=0|this.getHeightForWhitespaceIndex(ye));if(qe>=_){he=Rn;break}}-1===ln&&(ln=he);const $t=0|this.getVerticalOffsetForLineNumber(he);let On=A,In=he;return On<In&&ie<c&&On++,On<In&&$t+y>_&&In--,{bigNumbersDelta:xt,startLineNumber:A,endLineNumber:he,relativeVerticalOffset:Nt,centeredLineNumber:ln,completelyVisibleStartLineNumber:On,completelyVisibleEndLineNumber:In}}getVerticalOffsetForWhitespaceIndex(c){this._checkPendingChanges();const _=this.getAfterLineNumberForWhitespaceIndex(c|=0);let y,A;return y=_>=1?this._lineHeight*_:0,A=c>0?this.getWhitespacesAccumulatedHeight(c-1):0,y+A+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(c){this._checkPendingChanges(),c|=0;let _=0,y=this.getWhitespacesCount()-1;if(y<0)return-1;if(c>=this.getVerticalOffsetForWhitespaceIndex(y)+this.getHeightForWhitespaceIndex(y))return-1;for(;_<y;){const he=Math.floor((_+y)/2),ye=this.getVerticalOffsetForWhitespaceIndex(he);if(c>=ye+this.getHeightForWhitespaceIndex(he))_=he+1;else{if(c>=ye)return he;y=he}}return _}getWhitespaceAtVerticalOffset(c){this._checkPendingChanges();const _=this.getWhitespaceIndexAtOrAfterVerticallOffset(c|=0);if(_<0||_>=this.getWhitespacesCount())return null;const y=this.getVerticalOffsetForWhitespaceIndex(_);if(y>c)return null;const A=this.getHeightForWhitespaceIndex(_);return{id:this.getIdForWhitespaceIndex(_),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(_),verticalOffset:y,height:A}}getWhitespaceViewportData(c,_){this._checkPendingChanges(),_|=0;const y=this.getWhitespaceIndexAtOrAfterVerticallOffset(c|=0),A=this.getWhitespacesCount()-1;if(y<0)return[];const ie=[];for(let he=y;he<=A;he++){const ye=this.getVerticalOffsetForWhitespaceIndex(he),Le=this.getHeightForWhitespaceIndex(he);if(ye>=_)break;ie.push({id:this.getIdForWhitespaceIndex(he),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(he),verticalOffset:ye,height:Le})}return ie}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(c){return this._checkPendingChanges(),this._arr[c|=0].id}getAfterLineNumberForWhitespaceIndex(c){return this._checkPendingChanges(),this._arr[c|=0].afterLineNumber}getHeightForWhitespaceIndex(c){return this._checkPendingChanges(),this._arr[c|=0].height}}return Te.INSTANCE_COUNT=0,Te})();class gc{constructor(r,c,_,y){(r|=0)<0&&(r=0),(c|=0)<0&&(c=0),(_|=0)<0&&(_=0),(y|=0)<0&&(y=0),this.width=r,this.contentWidth=c,this.scrollWidth=Math.max(r,c),this.height=_,this.contentHeight=y,this.scrollHeight=Math.max(_,y)}equals(r){return this.width===r.width&&this.contentWidth===r.contentWidth&&this.height===r.height&&this.contentHeight===r.contentHeight}}class Jr extends C.JT{constructor(r,c){super(),this._onDidContentSizeChange=this._register(new S.Q5),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new gc(0,0,0,0),this._scrollable=this._register(new vu.Rm({forceIntegerValues:!0,smoothScrollDuration:r,scheduleAtNextAnimationFrame:c})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(r){this._scrollable.setSmoothScrollDuration(r)}validateScrollPosition(r){return this._scrollable.validateScrollPosition(r)}getScrollDimensions(){return this._dimensions}setScrollDimensions(r){if(this._dimensions.equals(r))return;const c=this._dimensions;this._dimensions=r,this._scrollable.setScrollDimensions({width:r.width,scrollWidth:r.scrollWidth,height:r.height,scrollHeight:r.scrollHeight},!0),(c.contentWidth!==r.contentWidth||c.contentHeight!==r.contentHeight)&&this._onDidContentSizeChange.fire(new Bo(c.contentWidth,c.contentHeight,r.contentWidth,r.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(r){this._scrollable.setScrollPositionNow(r)}setScrollPositionSmooth(r){this._scrollable.setScrollPositionSmooth(r)}}class Ja extends C.JT{constructor(r,c,_){super(),this._configuration=r;const y=this._configuration.options,A=y.get(131),ie=y.get(75);this._linesLayout=new Rh(c,y.get(59),ie.top,ie.bottom),this._scrollable=this._register(new Jr(0,_)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new gc(A.contentWidth,0,A.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(103)?125:0)}onConfigurationChanged(r){const c=this._configuration.options;if(r.hasChanged(59)&&this._linesLayout.setLineHeight(c.get(59)),r.hasChanged(75)){const _=c.get(75);this._linesLayout.setPadding(_.top,_.bottom)}if(r.hasChanged(131)){const _=c.get(131),y=_.contentWidth,A=_.height,ie=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new gc(y,ie.contentWidth,A,this._getContentHeight(y,A,ie.contentWidth)))}else this._updateHeight();r.hasChanged(103)&&this._configureSmoothScrollDuration()}onFlushed(r){this._linesLayout.onFlushed(r)}onLinesDeleted(r,c){this._linesLayout.onLinesDeleted(r,c)}onLinesInserted(r,c){this._linesLayout.onLinesInserted(r,c)}_getHorizontalScrollbarHeight(r,c){const y=this._configuration.options.get(92);return 2===y.horizontal||r>=c?0:y.horizontalScrollbarSize}_getContentHeight(r,c,_){const y=this._configuration.options;let A=this._linesLayout.getLinesTotalHeight();return y.get(94)?A+=Math.max(0,c-y.get(59)-y.get(75).bottom):A+=this._getHorizontalScrollbarHeight(r,_),A}_updateHeight(){const r=this._scrollable.getScrollDimensions(),c=r.width,_=r.height;this._scrollable.setScrollDimensions(new gc(c,r.contentWidth,_,this._getContentHeight(c,_,r.contentWidth)))}getCurrentViewport(){const r=this._scrollable.getScrollDimensions(),c=this._scrollable.getCurrentScrollPosition();return new Ce.l_(c.scrollTop,c.scrollLeft,r.width,r.height)}getFutureViewport(){const r=this._scrollable.getScrollDimensions(),c=this._scrollable.getFutureScrollPosition();return new Ce.l_(c.scrollTop,c.scrollLeft,r.width,r.height)}_computeContentWidth(r){const c=this._configuration.options,_=c.get(132),y=c.get(44);if(_.isViewportWrapping){const A=c.get(131),ie=c.get(65);return r>A.contentWidth+y.typicalHalfwidthCharacterWidth&&ie.enabled&&"right"===ie.side?r+A.verticalScrollbarWidth:r}{const A=c.get(93)*y.typicalHalfwidthCharacterWidth,ie=this._linesLayout.getWhitespaceMinWidth();return Math.max(r+A,ie)}}setMaxLineWidth(r){const c=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new gc(c.width,this._computeContentWidth(r),c.height,c.contentHeight)),this._updateHeight()}saveState(){const r=this._scrollable.getFutureScrollPosition(),c=r.scrollTop,_=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(c);return{scrollTop:c,scrollTopWithoutViewZones:c-this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(_),scrollLeft:r.scrollLeft}}changeWhitespace(r){const c=this._linesLayout.changeWhitespace(r);return c&&this.onHeightMaybeChanged(),c}getVerticalOffsetForLineNumber(r){return this._linesLayout.getVerticalOffsetForLineNumber(r)}isAfterLines(r){return this._linesLayout.isAfterLines(r)}isInTopPadding(r){return this._linesLayout.isInTopPadding(r)}isInBottomPadding(r){return this._linesLayout.isInBottomPadding(r)}getLineNumberAtVerticalOffset(r){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(r)}getWhitespaceAtVerticalOffset(r){return this._linesLayout.getWhitespaceAtVerticalOffset(r)}getLinesViewportData(){const r=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(r.top,r.top+r.height)}getLinesViewportDataAtScrollTop(r){const c=this._scrollable.getScrollDimensions();return r+c.height>c.scrollHeight&&(r=c.scrollHeight-c.height),r<0&&(r=0),this._linesLayout.getLinesViewportData(r,r+c.height)}getWhitespaceViewportData(){const r=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(r.top,r.top+r.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(r){return this._scrollable.validateScrollPosition(r)}setScrollPosition(r,c){1===c?this._scrollable.setScrollPositionNow(r):this._scrollable.setScrollPositionSmooth(r)}deltaScrollNow(r,c){const _=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:_.scrollLeft+r,scrollTop:_.scrollTop+c})}}var Xa=m(18066),dd=m(45023),ud=m(5928);function El(Te,r){return null===Te?r?Ml.INSTANCE:Ks.INSTANCE:new mc(Te,r)}class mc{constructor(r,c){this._projectionData=r,this._isVisible=c}isVisible(){return this._isVisible}setVisible(r){return this._isVisible=r,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(r,c,_){this._assertVisible();const y=_>0?this._projectionData.breakOffsets[_-1]:0,A=this._projectionData.breakOffsets[_];let ie;if(null!==this._projectionData.injectionOffsets){const he=this._projectionData.injectionOffsets.map((Le,Ie)=>new ir.gk(0,0,Le+1,this._projectionData.injectionOptions[Ie],0));ie=ir.gk.applyInjectedText(r.getLineContent(c),he).substring(y,A)}else ie=r.getValueInRange({startLineNumber:c,startColumn:y+1,endLineNumber:c,endColumn:A+1});return _>0&&(ie=hd(this._projectionData.wrappedTextIndentLength)+ie),ie}getViewLineLength(r,c,_){return this._assertVisible(),this._projectionData.getLineLength(_)}getViewLineMinColumn(r,c,_){return this._assertVisible(),this._projectionData.getMinOutputOffset(_)+1}getViewLineMaxColumn(r,c,_){return this._assertVisible(),this._projectionData.getMaxOutputOffset(_)+1}getViewLineData(r,c,_){const y=new Array;return this.getViewLinesData(r,c,_,1,0,[!0],y),y[0]}getViewLinesData(r,c,_,y,A,ie,he){this._assertVisible();const ye=this._projectionData,Le=ye.injectionOffsets,Ie=ye.injectionOptions;let qe,ze=null;if(Le){ze=[];let ot=0,bt=0;for(let xt=0;xt<ye.getOutputLineCount();xt++){const Nt=new Array;ze[xt]=Nt;const tn=xt>0?ye.breakOffsets[xt-1]:0,ln=ye.breakOffsets[xt];for(;bt<Le.length;){const $t=Ie[bt].content.length,On=Le[bt]+ot,In=On+$t;if(On>ln)break;if(tn<In){const Rn=Ie[bt];if(Rn.inlineClassName){const Fn=xt>0?ye.wrappedTextIndentLength:0,Dn=Fn+Math.max(On-tn,0),Cn=Fn+Math.min(In-tn,ln);Dn!==Cn&&Nt.push(new Ce.Wx(Dn,Cn,Rn.inlineClassName,Rn.inlineClassNameAffectsLetterSpacing))}}if(!(In<=ln))break;ot+=$t,bt++}}}qe=Le?r.getLineTokens(c).withInserted(Le.map((ot,bt)=>({offset:ot,text:Ie[bt].content,tokenMetadata:ud.A.defaultTokenMetadata}))):r.getLineTokens(c);for(let ot=_;ot<_+y;ot++){const bt=A+ot-_;he[bt]=ie[bt]?this._getViewLineData(qe,ze?ze[ot]:null,ot):null}}_getViewLineData(r,c,_){this._assertVisible();const y=this._projectionData,ye=r.sliceAndInflate(_>0?y.breakOffsets[_-1]:0,y.breakOffsets[_],_>0?y.wrappedTextIndentLength:0);let Le=ye.getLineContent();_>0&&(Le=hd(y.wrappedTextIndentLength)+Le);const Ie=this._projectionData.getMinOutputOffset(_)+1,ze=Le.length+1,qe=_+1<this.getViewLineCount();return new Ce.IP(Le,qe,Ie,ze,0===_?0:y.breakOffsetsVisibleColumn[_-1],ye,c)}getModelColumnOfViewPosition(r,c){return this._assertVisible(),this._projectionData.translateToInputOffset(r,c-1)+1}getViewPositionOfModelPosition(r,c,_=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(c-1,_).toPosition(r)}getViewLineNumberOfModelPosition(r,c){return this._assertVisible(),r+this._projectionData.translateToOutputPosition(c-1).outputLineIndex}normalizePosition(r,c,_){const y=c.lineNumber-r;return this._projectionData.normalizeOutputPosition(r,c.column-1,_).toPosition(y)}getInjectedTextAt(r,c){return this._projectionData.getInjectedText(r,c-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class Ml{constructor(){}isVisible(){return!0}setVisible(r){return r?this:Ks.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(r,c,_){return r.getLineContent(c)}getViewLineLength(r,c,_){return r.getLineLength(c)}getViewLineMinColumn(r,c,_){return r.getLineMinColumn(c)}getViewLineMaxColumn(r,c,_){return r.getLineMaxColumn(c)}getViewLineData(r,c,_){const y=r.getLineTokens(c),A=y.getLineContent();return new Ce.IP(A,!1,1,A.length+1,0,y.inflate(),null)}getViewLinesData(r,c,_,y,A,ie,he){he[A]=ie[A]?this.getViewLineData(r,c,0):null}getModelColumnOfViewPosition(r,c){return c}getViewPositionOfModelPosition(r,c){return new sn.L(r,c)}getViewLineNumberOfModelPosition(r,c){return r}normalizePosition(r,c,_){return c}getInjectedTextAt(r,c){return null}}Ml.INSTANCE=new Ml;class Ks{constructor(){}isVisible(){return!1}setVisible(r){return r?Ml.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(r,c,_){throw new Error("Not supported")}getViewLineLength(r,c,_){throw new Error("Not supported")}getViewLineMinColumn(r,c,_){throw new Error("Not supported")}getViewLineMaxColumn(r,c,_){throw new Error("Not supported")}getViewLineData(r,c,_){throw new Error("Not supported")}getViewLinesData(r,c,_,y,A,ie,he){throw new Error("Not supported")}getModelColumnOfViewPosition(r,c){throw new Error("Not supported")}getViewPositionOfModelPosition(r,c){throw new Error("Not supported")}getViewLineNumberOfModelPosition(r,c){throw new Error("Not supported")}normalizePosition(r,c,_){throw new Error("Not supported")}getInjectedTextAt(r,c){throw new Error("Not supported")}}Ks.INSTANCE=new Ks;let Ma=[""];function hd(Te){if(Te>=Ma.length)for(let r=1;r<=Te;r++)Ma[r]=pc(r);return Ma[Te]}function pc(Te){return new Array(Te+1).join(" ")}var _c=m(69798);class Fh{constructor(r,c,_,y,A,ie,he,ye,Le){this._editorId=r,this.model=c,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=_,this._monospaceLineBreaksComputerFactory=y,this.fontInfo=A,this.tabSize=ie,this.wrappingStrategy=he,this.wrappingColumn=ye,this.wrappingIndent=Le,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new Bh(this)}_constructLines(r,c){this.modelLineProjections=[],r&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const _=this.model.getLinesContent(),y=this.model.getInjectedTextDecorations(this._editorId),A=_.length,ie=this.createLineBreaksComputer(),he=new f.H9(ir.gk.fromDecorations(y));for(let xt=0;xt<A;xt++){const Nt=he.takeWhile(tn=>tn.lineNumber===xt+1);ie.addRequest(_[xt],Nt,c?c[xt]:null)}const ye=ie.finalize(),Le=[],Ie=this.hiddenAreasDecorationIds.map(xt=>this.model.getDecorationRange(xt)).sort(hn.e.compareRangesUsingStarts);let ze=1,qe=0,ot=-1,bt=ot+1<Ie.length?qe+1:A+2;for(let xt=0;xt<A;xt++){const Nt=xt+1;Nt===bt&&(ot++,ze=Ie[ot].startLineNumber,qe=Ie[ot].endLineNumber,bt=ot+1<Ie.length?qe+1:A+2);const ln=El(ye[xt],!(Nt>=ze&&Nt<=qe));Le[xt]=ln.getViewLineCount(),this.modelLineProjections[xt]=ln}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new _c.Ck(Le)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(r=>this.model.getDecorationRange(r))}setHiddenAreas(r){const _=function(Te){if(0===Te.length)return[];const r=Te.slice();r.sort(hn.e.compareRangesUsingStarts);const c=[];let _=r[0].startLineNumber,y=r[0].endLineNumber;for(let A=1,ie=r.length;A<ie;A++){const he=r[A];he.startLineNumber>y+1?(c.push(new hn.e(_,1,y,1)),_=he.startLineNumber,y=he.endLineNumber):he.endLineNumber>y&&(y=he.endLineNumber)}return c.push(new hn.e(_,1,y,1)),c}(r.map(qe=>this.model.validateRange(qe))),y=this.hiddenAreasDecorationIds.map(qe=>this.model.getDecorationRange(qe)).sort(hn.e.compareRangesUsingStarts);if(_.length===y.length){let qe=!1;for(let ot=0;ot<_.length;ot++)if(!_[ot].equalsRange(y[ot])){qe=!0;break}if(!qe)return!1}const A=_.map(qe=>({range:qe,options:dd.qx.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,A);const ie=_;let he=1,ye=0,Le=-1,Ie=Le+1<ie.length?ye+1:this.modelLineProjections.length+2,ze=!1;for(let qe=0;qe<this.modelLineProjections.length;qe++){const ot=qe+1;ot===Ie&&(Le++,he=ie[Le].startLineNumber,ye=ie[Le].endLineNumber,Ie=Le+1<ie.length?ye+1:this.modelLineProjections.length+2);let bt=!1;if(ot>=he&&ot<=ye?this.modelLineProjections[qe].isVisible()&&(this.modelLineProjections[qe]=this.modelLineProjections[qe].setVisible(!1),bt=!0):(ze=!0,this.modelLineProjections[qe].isVisible()||(this.modelLineProjections[qe]=this.modelLineProjections[qe].setVisible(!0),bt=!0)),bt){const xt=this.modelLineProjections[qe].getViewLineCount();this.projectedModelLineLineCounts.setValue(qe,xt)}}return ze||this.setHiddenAreas([]),!0}modelPositionIsVisible(r,c){return!(r<1||r>this.modelLineProjections.length)&&this.modelLineProjections[r-1].isVisible()}getModelLineViewLineCount(r){return r<1||r>this.modelLineProjections.length?1:this.modelLineProjections[r-1].getViewLineCount()}setTabSize(r){return this.tabSize!==r&&(this.tabSize=r,this._constructLines(!1,null),!0)}setWrappingSettings(r,c,_,y){const A=this.fontInfo.equals(r),ie=this.wrappingStrategy===c,he=this.wrappingColumn===_,ye=this.wrappingIndent===y;if(A&&ie&&he&&ye)return!1;const Le=A&&ie&&!he&&ye;this.fontInfo=r,this.wrappingStrategy=c,this.wrappingColumn=_,this.wrappingIndent=y;let Ie=null;if(Le){Ie=[];for(let ze=0,qe=this.modelLineProjections.length;ze<qe;ze++)Ie[ze]=this.modelLineProjections[ze].getProjectionData()}return this._constructLines(!1,Ie),!0}createLineBreaksComputer(){return("advanced"===this.wrappingStrategy?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(r,c,_){if(!r||r<=this._validModelVersionId)return null;const y=1===c?1:this.projectedModelLineLineCounts.getPrefixSum(c-1)+1,A=this.projectedModelLineLineCounts.getPrefixSum(_);return this.modelLineProjections.splice(c-1,_-c+1),this.projectedModelLineLineCounts.removeValues(c-1,_-c+1),new gi(y,A)}onModelLinesInserted(r,c,_,y){if(!r||r<=this._validModelVersionId)return null;const A=c>2&&!this.modelLineProjections[c-2].isVisible(),ie=1===c?1:this.projectedModelLineLineCounts.getPrefixSum(c-1)+1;let he=0;const ye=[],Le=[];for(let Ie=0,ze=y.length;Ie<ze;Ie++){const qe=El(y[Ie],!A);ye.push(qe);const ot=qe.getViewLineCount();he+=ot,Le[Ie]=ot}return this.modelLineProjections=this.modelLineProjections.slice(0,c-1).concat(ye).concat(this.modelLineProjections.slice(c-1)),this.projectedModelLineLineCounts.insertValues(c-1,Le),new qo(ie,ie+he-1)}onModelLineChanged(r,c,_){if(null!==r&&r<=this._validModelVersionId)return[!1,null,null,null];const y=c-1,A=this.modelLineProjections[y].getViewLineCount(),he=El(_,this.modelLineProjections[y].isVisible());this.modelLineProjections[y]=he;const ye=this.modelLineProjections[y].getViewLineCount();let Le=!1,Ie=0,ze=-1,qe=0,ot=-1,bt=0,xt=-1;return A>ye?(Ie=this.projectedModelLineLineCounts.getPrefixSum(c-1)+1,ze=Ie+ye-1,bt=ze+1,xt=bt+(A-ye)-1,Le=!0):A<ye?(Ie=this.projectedModelLineLineCounts.getPrefixSum(c-1)+1,ze=Ie+A-1,qe=ze+1,ot=qe+(ye-A)-1,Le=!0):(Ie=this.projectedModelLineLineCounts.getPrefixSum(c-1)+1,ze=Ie+ye-1),this.projectedModelLineLineCounts.setValue(y,ye),[Le,Ie<=ze?new Er(Ie,ze):null,qe<=ot?new qo(qe,ot):null,bt<=xt?new gi(bt,xt):null]}acceptVersionId(r){this._validModelVersionId=r,1===this.modelLineProjections.length&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(r){if(r<1)return 1;const c=this.getViewLineCount();return r>c?c:0|r}getActiveIndentGuide(r,c,_){r=this._toValidViewLineNumber(r),c=this._toValidViewLineNumber(c),_=this._toValidViewLineNumber(_);const y=this.convertViewPositionToModelPosition(r,this.getViewLineMinColumn(r)),A=this.convertViewPositionToModelPosition(c,this.getViewLineMinColumn(c)),ie=this.convertViewPositionToModelPosition(_,this.getViewLineMinColumn(_)),he=this.model.guides.getActiveIndentGuide(y.lineNumber,A.lineNumber,ie.lineNumber),ye=this.convertModelPositionToViewPosition(he.startLineNumber,1),Le=this.convertModelPositionToViewPosition(he.endLineNumber,this.model.getLineMaxColumn(he.endLineNumber));return{startLineNumber:ye.lineNumber,endLineNumber:Le.lineNumber,indent:he.indent}}getViewLineInfo(r){r=this._toValidViewLineNumber(r);const c=this.projectedModelLineLineCounts.getIndexOf(r-1);return new qa(c.index+1,c.remainder)}getMinColumnOfViewLine(r){return this.modelLineProjections[r.modelLineNumber-1].getViewLineMinColumn(this.model,r.modelLineNumber,r.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(r){const c=this.modelLineProjections[r.modelLineNumber-1],_=c.getViewLineMinColumn(this.model,r.modelLineNumber,r.modelLineWrappedLineIdx),y=c.getModelColumnOfViewPosition(r.modelLineWrappedLineIdx,_);return new sn.L(r.modelLineNumber,y)}getModelEndPositionOfViewLine(r){const c=this.modelLineProjections[r.modelLineNumber-1],_=c.getViewLineMaxColumn(this.model,r.modelLineNumber,r.modelLineWrappedLineIdx),y=c.getModelColumnOfViewPosition(r.modelLineWrappedLineIdx,_);return new sn.L(r.modelLineNumber,y)}getViewLineInfosGroupedByModelRanges(r,c){const _=this.getViewLineInfo(r),y=this.getViewLineInfo(c),A=new Array;let ie=this.getModelStartPositionOfViewLine(_),he=new Array;for(let ye=_.modelLineNumber;ye<=y.modelLineNumber;ye++){const Le=this.modelLineProjections[ye-1];if(Le.isVisible()){const Ie=ye===_.modelLineNumber?_.modelLineWrappedLineIdx:0,ze=ye===y.modelLineNumber?y.modelLineWrappedLineIdx+1:Le.getViewLineCount();for(let qe=Ie;qe<ze;qe++)he.push(new qa(ye,qe))}if(!Le.isVisible()&&ie){const Ie=new sn.L(ye-1,this.model.getLineMaxColumn(ye-1)+1),ze=hn.e.fromPositions(ie,Ie);A.push(new fd(ze,he)),he=[],ie=null}else Le.isVisible()&&!ie&&(ie=new sn.L(ye,1))}if(ie){const ye=hn.e.fromPositions(ie,this.getModelEndPositionOfViewLine(y));A.push(new fd(ye,he))}return A}getViewLinesBracketGuides(r,c,_,y){const A=_?this.convertViewPositionToModelPosition(_.lineNumber,_.column):null,ie=[];for(const he of this.getViewLineInfosGroupedByModelRanges(r,c)){const ye=he.modelRange.startLineNumber,Le=this.model.guides.getLinesBracketGuides(ye,he.modelRange.endLineNumber,A,y);for(const Ie of he.viewLines)if(Ie.isWrappedLineContinuation&&1===this.getMinColumnOfViewLine(Ie))ie.push([]);else{let ze=Le[Ie.modelLineNumber-ye];ze=ze.map(qe=>qe.horizontalLine?new Eo.UO(qe.visibleColumn,qe.className,new Eo.vW(qe.horizontalLine.top,this.convertModelPositionToViewPosition(Ie.modelLineNumber,qe.horizontalLine.endColumn).column)):qe),ie.push(ze)}}return ie}getViewLinesIndentGuides(r,c){r=this._toValidViewLineNumber(r),c=this._toValidViewLineNumber(c);const _=this.convertViewPositionToModelPosition(r,this.getViewLineMinColumn(r)),y=this.convertViewPositionToModelPosition(c,this.getViewLineMaxColumn(c));let A=[];const ie=[],he=[],ye=_.lineNumber-1,Le=y.lineNumber-1;let Ie=null;for(let bt=ye;bt<=Le;bt++){const xt=this.modelLineProjections[bt];if(xt.isVisible()){const Nt=xt.getViewLineNumberOfModelPosition(0,bt===ye?_.column:1),tn=xt.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(bt+1)),ln=tn-Nt+1;let $t=0;ln>1&&1===xt.getViewLineMinColumn(this.model,bt+1,tn)&&($t=0===Nt?1:2),ie.push(ln),he.push($t),null===Ie&&(Ie=new sn.L(bt+1,0))}else null!==Ie&&(A=A.concat(this.model.guides.getLinesIndentGuides(Ie.lineNumber,bt)),Ie=null)}null!==Ie&&(A=A.concat(this.model.guides.getLinesIndentGuides(Ie.lineNumber,y.lineNumber)),Ie=null);const ze=c-r+1,qe=new Array(ze);let ot=0;for(let bt=0,xt=A.length;bt<xt;bt++){let Nt=A[bt];const tn=Math.min(ze-ot,ie[bt]),ln=he[bt];let $t;$t=2===ln?0:1===ln?1:tn;for(let On=0;On<tn;On++)On===$t&&(Nt=0),qe[ot++]=Nt}return qe}getViewLineContent(r){const c=this.getViewLineInfo(r);return this.modelLineProjections[c.modelLineNumber-1].getViewLineContent(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx)}getViewLineLength(r){const c=this.getViewLineInfo(r);return this.modelLineProjections[c.modelLineNumber-1].getViewLineLength(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx)}getViewLineMinColumn(r){const c=this.getViewLineInfo(r);return this.modelLineProjections[c.modelLineNumber-1].getViewLineMinColumn(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx)}getViewLineMaxColumn(r){const c=this.getViewLineInfo(r);return this.modelLineProjections[c.modelLineNumber-1].getViewLineMaxColumn(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx)}getViewLineData(r){const c=this.getViewLineInfo(r);return this.modelLineProjections[c.modelLineNumber-1].getViewLineData(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx)}getViewLinesData(r,c,_){r=this._toValidViewLineNumber(r),c=this._toValidViewLineNumber(c);const y=this.projectedModelLineLineCounts.getIndexOf(r-1);let A=r;const ie=y.index,he=y.remainder,ye=[];for(let Le=ie,Ie=this.model.getLineCount();Le<Ie;Le++){const ze=this.modelLineProjections[Le];if(!ze.isVisible())continue;const qe=Le===ie?he:0;let ot=ze.getViewLineCount()-qe,bt=!1;if(A+ot>c&&(bt=!0,ot=c-A+1),ze.getViewLinesData(this.model,Le+1,qe,ot,A-r,_,ye),A+=ot,bt)break}return ye}validateViewPosition(r,c,_){r=this._toValidViewLineNumber(r);const y=this.projectedModelLineLineCounts.getIndexOf(r-1),A=y.index,ie=y.remainder,he=this.modelLineProjections[A],ye=he.getViewLineMinColumn(this.model,A+1,ie),Le=he.getViewLineMaxColumn(this.model,A+1,ie);c<ye&&(c=ye),c>Le&&(c=Le);const Ie=he.getModelColumnOfViewPosition(ie,c);return this.model.validatePosition(new sn.L(A+1,Ie)).equals(_)?new sn.L(r,c):this.convertModelPositionToViewPosition(_.lineNumber,_.column)}validateViewRange(r,c){const _=this.validateViewPosition(r.startLineNumber,r.startColumn,c.getStartPosition()),y=this.validateViewPosition(r.endLineNumber,r.endColumn,c.getEndPosition());return new hn.e(_.lineNumber,_.column,y.lineNumber,y.column)}convertViewPositionToModelPosition(r,c){const _=this.getViewLineInfo(r),y=this.modelLineProjections[_.modelLineNumber-1].getModelColumnOfViewPosition(_.modelLineWrappedLineIdx,c);return this.model.validatePosition(new sn.L(_.modelLineNumber,y))}convertViewRangeToModelRange(r){const c=this.convertViewPositionToModelPosition(r.startLineNumber,r.startColumn),_=this.convertViewPositionToModelPosition(r.endLineNumber,r.endColumn);return new hn.e(c.lineNumber,c.column,_.lineNumber,_.column)}convertModelPositionToViewPosition(r,c,_=2){const y=this.model.validatePosition(new sn.L(r,c)),A=y.lineNumber,ie=y.column;let he=A-1,ye=!1;for(;he>0&&!this.modelLineProjections[he].isVisible();)he--,ye=!0;if(0===he&&!this.modelLineProjections[he].isVisible())return new sn.L(1,1);const Le=1+this.projectedModelLineLineCounts.getPrefixSum(he);let Ie;return Ie=ye?this.modelLineProjections[he].getViewPositionOfModelPosition(Le,this.model.getLineMaxColumn(he+1),_):this.modelLineProjections[A-1].getViewPositionOfModelPosition(Le,ie,_),Ie}convertModelRangeToViewRange(r,c=0){if(r.isEmpty()){const _=this.convertModelPositionToViewPosition(r.startLineNumber,r.startColumn,c);return hn.e.fromPositions(_)}{const _=this.convertModelPositionToViewPosition(r.startLineNumber,r.startColumn,1),y=this.convertModelPositionToViewPosition(r.endLineNumber,r.endColumn,0);return new hn.e(_.lineNumber,_.column,y.lineNumber,y.column)}}getViewLineNumberOfModelPosition(r,c){let _=r-1;if(this.modelLineProjections[_].isVisible()){const A=1+this.projectedModelLineLineCounts.getPrefixSum(_);return this.modelLineProjections[_].getViewLineNumberOfModelPosition(A,c)}for(;_>0&&!this.modelLineProjections[_].isVisible();)_--;if(0===_&&!this.modelLineProjections[_].isVisible())return 1;const y=1+this.projectedModelLineLineCounts.getPrefixSum(_);return this.modelLineProjections[_].getViewLineNumberOfModelPosition(y,this.model.getLineMaxColumn(_+1))}getDecorationsInRange(r,c,_){const y=this.convertViewPositionToModelPosition(r.startLineNumber,r.startColumn),A=this.convertViewPositionToModelPosition(r.endLineNumber,r.endColumn);if(A.lineNumber-y.lineNumber<=r.endLineNumber-r.startLineNumber)return this.model.getDecorationsInRange(new hn.e(y.lineNumber,1,A.lineNumber,A.column),c,_);let ie=[];const he=y.lineNumber-1,ye=A.lineNumber-1;let Le=null;for(let ot=he;ot<=ye;ot++)if(this.modelLineProjections[ot].isVisible())null===Le&&(Le=new sn.L(ot+1,ot===he?y.column:1));else if(null!==Le){const xt=this.model.getLineMaxColumn(ot);ie=ie.concat(this.model.getDecorationsInRange(new hn.e(Le.lineNumber,Le.column,ot,xt),c,_)),Le=null}null!==Le&&(ie=ie.concat(this.model.getDecorationsInRange(new hn.e(Le.lineNumber,Le.column,A.lineNumber,A.column),c,_)),Le=null),ie.sort((ot,bt)=>{const xt=hn.e.compareRangesUsingStarts(ot.range,bt.range);return 0===xt?ot.id<bt.id?-1:ot.id>bt.id?1:0:xt});let Ie=[],ze=0,qe=null;for(const ot of ie){const bt=ot.id;qe!==bt&&(qe=bt,Ie[ze++]=ot)}return Ie}getInjectedTextAt(r){const c=this.getViewLineInfo(r.lineNumber);return this.modelLineProjections[c.modelLineNumber-1].getInjectedTextAt(c.modelLineWrappedLineIdx,r.column)}normalizePosition(r,c){const _=this.getViewLineInfo(r.lineNumber);return this.modelLineProjections[_.modelLineNumber-1].normalizePosition(_.modelLineWrappedLineIdx,r,c)}getLineIndentColumn(r){const c=this.getViewLineInfo(r);return 0===c.modelLineWrappedLineIdx?this.model.getLineIndentColumn(c.modelLineNumber):0}}class qa{constructor(r,c){this.modelLineNumber=r,this.modelLineWrappedLineIdx=c}get isWrappedLineContinuation(){return this.modelLineWrappedLineIdx>0}}class fd{constructor(r,c){this.modelRange=r,this.viewLines=c}}class Bh{constructor(r){this._lines=r}convertViewPositionToModelPosition(r){return this._lines.convertViewPositionToModelPosition(r.lineNumber,r.column)}convertViewRangeToModelRange(r){return this._lines.convertViewRangeToModelRange(r)}validateViewPosition(r,c){return this._lines.validateViewPosition(r.lineNumber,r.column,c)}validateViewRange(r,c){return this._lines.validateViewRange(r,c)}convertModelPositionToViewPosition(r,c){return this._lines.convertModelPositionToViewPosition(r.lineNumber,r.column,c)}convertModelRangeToViewRange(r,c){return this._lines.convertModelRangeToViewRange(r,c)}modelPositionIsVisible(r){return this._lines.modelPositionIsVisible(r.lineNumber,r.column)}getModelLineViewLineCount(r){return this._lines.getModelLineViewLineCount(r)}getViewLineNumberOfModelPosition(r,c){return this._lines.getViewLineNumberOfModelPosition(r,c)}}class Cc{constructor(r){this.model=r}dispose(){}createCoordinatesConverter(){return new bc(this)}getHiddenAreas(){return[]}setHiddenAreas(r){return!1}setTabSize(r){return!1}setWrappingSettings(r,c,_,y){return!1}createLineBreaksComputer(){const r=[];return{addRequest:(c,_,y)=>{r.push(null)},finalize:()=>r}}onModelFlushed(){}onModelLinesDeleted(r,c,_){return new gi(c,_)}onModelLinesInserted(r,c,_,y){return new qo(c,_)}onModelLineChanged(r,c,_){return[!1,new Er(c,c),null,null]}acceptVersionId(r){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(r,c,_){return{startLineNumber:r,endLineNumber:r,indent:0}}getViewLinesBracketGuides(r,c,_){return new Array(c-r+1).fill([])}getViewLinesIndentGuides(r,c){const _=c-r+1,y=new Array(_);for(let A=0;A<_;A++)y[A]=0;return y}getViewLineContent(r){return this.model.getLineContent(r)}getViewLineLength(r){return this.model.getLineLength(r)}getViewLineMinColumn(r){return this.model.getLineMinColumn(r)}getViewLineMaxColumn(r){return this.model.getLineMaxColumn(r)}getViewLineData(r){const c=this.model.getLineTokens(r),_=c.getLineContent();return new Ce.IP(_,!1,1,_.length+1,0,c.inflate(),null)}getViewLinesData(r,c,_){const y=this.model.getLineCount();r=Math.min(Math.max(1,r),y),c=Math.min(Math.max(1,c),y);const A=[];for(let ie=r;ie<=c;ie++){const he=ie-r;A[he]=_[he]?this.getViewLineData(ie):null}return A}getDecorationsInRange(r,c,_){return this.model.getDecorationsInRange(r,c,_)}normalizePosition(r,c){return this.model.normalizePosition(r,c)}getLineIndentColumn(r){return this.model.getLineIndentColumn(r)}getInjectedTextAt(r){return null}}class bc{constructor(r){this._lines=r}_validPosition(r){return this._lines.model.validatePosition(r)}_validRange(r){return this._lines.model.validateRange(r)}convertViewPositionToModelPosition(r){return this._validPosition(r)}convertViewRangeToModelRange(r){return this._validRange(r)}validateViewPosition(r,c){return this._validPosition(c)}validateViewRange(r,c){return this._validRange(c)}convertModelPositionToViewPosition(r){return this._validPosition(r)}convertModelRangeToViewRange(r){return this._validRange(r)}modelPositionIsVisible(r){const c=this._lines.model.getLineCount();return!(r.lineNumber<1||r.lineNumber>c)}getModelLineViewLineCount(r){return 1}getViewLineNumberOfModelPosition(r,c){return r}}class Su extends C.JT{constructor(r,c,_,y,A,ie,he,ye){if(super(),this.languageConfigurationService=he,this._themeService=ye,this._editorId=r,this._configuration=c,this.model=_,this._eventDispatcher=new Oi,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new ko.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._tokenizeViewportSoon=this._register(new Ve.pY(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new Ve.pY(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStartLine=-1,this._viewportStartLineTrackedRange=null,this._viewportStartLineDelta=0,this.model.isTooLargeForTokenization())this._lines=new Cc(this.model);else{const Le=this._configuration.options,Ie=Le.get(44),ze=Le.get(125),qe=Le.get(132),ot=Le.get(124);this._lines=new Fh(this._editorId,this.model,y,A,Ie,this.model.getOptions().tabSize,ze,qe.wrappingColumn,ot)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new ld(_,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new Ja(this._configuration,this.getLineCount(),ie)),this._register(this.viewLayout.onDidScroll(Le=>{Le.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitSingleViewEvent(new Ds(Le)),this._eventDispatcher.emitOutgoingEvent(new ss(Le.oldScrollWidth,Le.oldScrollLeft,Le.oldScrollHeight,Le.oldScrollTop,Le.scrollWidth,Le.scrollLeft,Le.scrollHeight,Le.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(Le=>{this._eventDispatcher.emitOutgoingEvent(Le)})),this._decorations=new Xa.CU(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(Le=>{try{const Ie=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(Ie,Le)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(ae.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new hc)})),this._register(this._themeService.onDidColorThemeChange(Le=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new $o(Le))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(r){this._eventDispatcher.addViewEventHandler(r)}removeViewEventHandler(r){this._eventDispatcher.removeViewEventHandler(r)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const r=this.viewLayout.getLinesViewportData(),c=new hn.e(r.startLineNumber,this.getLineMinColumn(r.startLineNumber),r.endLineNumber,this.getLineMaxColumn(r.endLineNumber)),_=this._toModelVisibleRanges(c);for(const y of _)this.model.tokenizeViewport(y.startLineNumber,y.endLineNumber)}setHasFocus(r){this._hasFocus=r,this._cursor.setHasFocus(r),this._eventDispatcher.emitSingleViewEvent(new bu(r)),this._eventDispatcher.emitOutgoingEvent(new To(!r,r))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new La)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new _u)}_onConfigurationChanged(r,c){let _=null;if(-1!==this._viewportStartLine){const Ie=new sn.L(this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine));_=this.coordinatesConverter.convertViewPositionToModelPosition(Ie)}let y=!1;const A=this._configuration.options,ie=A.get(44),he=A.get(125),ye=A.get(132),Le=A.get(124);if(this._lines.setWrappingSettings(ie,he,ye.wrappingColumn,Le)&&(r.emitViewEvent(new Ga),r.emitViewEvent(new Ur),r.emitViewEvent(new zr(null)),this._cursor.onLineMappingChanged(r),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),0!==this.viewLayout.getCurrentScrollTop()&&(y=!0),this._updateConfigurationViewLineCount.schedule()),c.hasChanged(81)&&(this._decorations.reset(),r.emitViewEvent(new zr(null))),r.emitViewEvent(new xl(c)),this.viewLayout.onConfigurationChanged(c),y&&_){const Ie=this.coordinatesConverter.convertModelPositionToViewPosition(_),ze=this.viewLayout.getVerticalOffsetForLineNumber(Ie.lineNumber);this.viewLayout.setScrollPosition({scrollTop:ze+this._viewportStartLineDelta},1)}ko.LM.shouldRecreate(c)&&(this.cursorConfig=new ko.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(r=>{try{const c=this._eventDispatcher.beginEmitViewEvents();let _=!1,y=!1;const A=r.changes,ie=r instanceof ir.dQ?r.versionId:null,he=this._lines.createLineBreaksComputer();for(const Ie of A)switch(Ie.changeType){case 4:for(let ze=0;ze<Ie.detail.length;ze++){const qe=Ie.detail[ze];let ot=Ie.injectedTexts[ze];ot&&(ot=ot.filter(bt=>!bt.ownerId||bt.ownerId===this._editorId)),he.addRequest(qe,ot,null)}break;case 2:{let ze=null;Ie.injectedText&&(ze=Ie.injectedText.filter(qe=>!qe.ownerId||qe.ownerId===this._editorId)),he.addRequest(Ie.detail,ze,null);break}}const ye=he.finalize(),Le=new f.H9(ye);for(const Ie of A)switch(Ie.changeType){case 1:this._lines.onModelFlushed(),c.emitViewEvent(new Ga),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),_=!0;break;case 3:{const ze=this._lines.onModelLinesDeleted(ie,Ie.fromLineNumber,Ie.toLineNumber);null!==ze&&(c.emitViewEvent(ze),this.viewLayout.onLinesDeleted(ze.fromLineNumber,ze.toLineNumber)),_=!0;break}case 4:{const ze=Le.takeCount(Ie.detail.length),qe=this._lines.onModelLinesInserted(ie,Ie.fromLineNumber,Ie.toLineNumber,ze);null!==qe&&(c.emitViewEvent(qe),this.viewLayout.onLinesInserted(qe.fromLineNumber,qe.toLineNumber)),_=!0;break}case 2:{const ze=Le.dequeue(),[qe,ot,bt,xt]=this._lines.onModelLineChanged(ie,Ie.lineNumber,ze);y=qe,ot&&c.emitViewEvent(ot),bt&&(c.emitViewEvent(bt),this.viewLayout.onLinesInserted(bt.fromLineNumber,bt.toLineNumber)),xt&&(c.emitViewEvent(xt),this.viewLayout.onLinesDeleted(xt.fromLineNumber,xt.toLineNumber));break}}null!==ie&&this._lines.acceptVersionId(ie),this.viewLayout.onHeightMaybeChanged(),!_&&y&&(c.emitViewEvent(new Ur),c.emitViewEvent(new zr(null)),this._cursor.onLineMappingChanged(c),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}if(this._viewportStartLine=-1,this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&this._viewportStartLineTrackedRange){const c=this.model._getTrackedRange(this._viewportStartLineTrackedRange);if(c){const _=this.coordinatesConverter.convertModelPositionToViewPosition(c.getStartPosition()),y=this.viewLayout.getVerticalOffsetForLineNumber(_.lineNumber);this.viewLayout.setScrollPosition({scrollTop:y+this._viewportStartLineDelta},1)}}try{const c=this._eventDispatcher.beginEmitViewEvents();this._cursor.onModelContentChanged(c,r)}finally{this._eventDispatcher.endEmitViewEvents()}this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeTokens(r=>{const c=[];for(let _=0,y=r.ranges.length;_<y;_++){const A=r.ranges[_],ie=this.coordinatesConverter.convertModelPositionToViewPosition(new sn.L(A.fromLineNumber,1)).lineNumber,he=this.coordinatesConverter.convertModelPositionToViewPosition(new sn.L(A.toLineNumber,this.model.getLineMaxColumn(A.toLineNumber))).lineNumber;c[_]={fromLineNumber:ie,toLineNumber:he}}this._eventDispatcher.emitSingleViewEvent(new Es(c)),r.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeLanguageConfiguration(r=>{this._eventDispatcher.emitSingleViewEvent(new rd),this.cursorConfig=new ko.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeLanguage(r=>{this.cursorConfig=new ko.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeOptions(r=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const c=this._eventDispatcher.beginEmitViewEvents();c.emitViewEvent(new Ga),c.emitViewEvent(new Ur),c.emitViewEvent(new zr(null)),this._cursor.onLineMappingChanged(c),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new ko.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeDecorations(r=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new zr(r))}))}setHiddenAreas(r){let c=!1;try{const _=this._eventDispatcher.beginEmitViewEvents();c=this._lines.setHiddenAreas(r),c&&(_.emitViewEvent(new Ga),_.emitViewEvent(new Ur),_.emitViewEvent(new zr(null)),this._cursor.onLineMappingChanged(_),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),c&&this._eventDispatcher.emitOutgoingEvent(new es)}getVisibleRangesPlusViewportAboveBelow(){const r=this._configuration.options.get(131),c=this._configuration.options.get(59),_=Math.max(20,Math.round(r.height/c)),y=this.viewLayout.getLinesViewportData(),A=Math.max(1,y.completelyVisibleStartLineNumber-_),ie=Math.min(this.getLineCount(),y.completelyVisibleEndLineNumber+_);return this._toModelVisibleRanges(new hn.e(A,this.getLineMinColumn(A),ie,this.getLineMaxColumn(ie)))}getVisibleRanges(){const r=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(r)}_toModelVisibleRanges(r){const c=this.coordinatesConverter.convertViewRangeToModelRange(r),_=this._lines.getHiddenAreas();if(0===_.length)return[c];const y=[];let A=0,ie=c.startLineNumber,he=c.startColumn;const ye=c.endLineNumber,Le=c.endColumn;for(let Ie=0,ze=_.length;Ie<ze;Ie++){const qe=_[Ie].startLineNumber,ot=_[Ie].endLineNumber;ot<ie||qe>ye||(ie<qe&&(y[A++]=new hn.e(ie,he,qe-1,this.model.getLineMaxColumn(qe-1))),ie=ot+1,he=1)}return(ie<ye||ie===ye&&he<Le)&&(y[A++]=new hn.e(ie,he,ye,Le)),y}getCompletelyVisibleViewRange(){const r=this.viewLayout.getLinesViewportData(),c=r.completelyVisibleStartLineNumber,_=r.completelyVisibleEndLineNumber;return new hn.e(c,this.getLineMinColumn(c),_,this.getLineMaxColumn(_))}getCompletelyVisibleViewRangeAtScrollTop(r){const c=this.viewLayout.getLinesViewportDataAtScrollTop(r),_=c.completelyVisibleStartLineNumber,y=c.completelyVisibleEndLineNumber;return new hn.e(_,this.getLineMinColumn(_),y,this.getLineMaxColumn(y))}saveState(){const r=this.viewLayout.saveState(),c=r.scrollTop,_=this.viewLayout.getLineNumberAtVerticalOffset(c),y=this.coordinatesConverter.convertViewPositionToModelPosition(new sn.L(_,this.getLineMinColumn(_))),A=this.viewLayout.getVerticalOffsetForLineNumber(_)-c;return{scrollLeft:r.scrollLeft,firstPosition:y,firstPositionDeltaTop:A}}reduceRestoreState(r){if(void 0===r.firstPosition)return this._reduceRestoreStateCompatibility(r);const c=this.model.validatePosition(r.firstPosition),_=this.coordinatesConverter.convertModelPositionToViewPosition(c),y=this.viewLayout.getVerticalOffsetForLineNumber(_.lineNumber)-r.firstPositionDeltaTop;return{scrollLeft:r.scrollLeft,scrollTop:y}}_reduceRestoreStateCompatibility(r){return{scrollLeft:r.scrollLeft,scrollTop:r.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(r,c,_){this._viewportStartLine=r;const y=this.coordinatesConverter.convertViewPositionToModelPosition(new sn.L(r,this.getLineMinColumn(r)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new hn.e(y.lineNumber,y.column,y.lineNumber,y.column),1);const A=this.viewLayout.getVerticalOffsetForLineNumber(r),ie=this.viewLayout.getCurrentScrollTop();this._viewportStartLineDelta=ie-A}getActiveIndentGuide(r,c,_){return this._lines.getActiveIndentGuide(r,c,_)}getLinesIndentGuides(r,c){return this._lines.getViewLinesIndentGuides(r,c)}getBracketGuidesInRangeByLine(r,c,_,y){return this._lines.getViewLinesBracketGuides(r,c,_,y)}getLineContent(r){return this._lines.getViewLineContent(r)}getLineLength(r){return this._lines.getViewLineLength(r)}getLineMinColumn(r){return this._lines.getViewLineMinColumn(r)}getLineMaxColumn(r){return this._lines.getViewLineMaxColumn(r)}getLineFirstNonWhitespaceColumn(r){const c=wn.LC(this.getLineContent(r));return-1===c?0:c+1}getLineLastNonWhitespaceColumn(r){const c=wn.ow(this.getLineContent(r));return-1===c?0:c+2}getDecorationsInViewport(r){return this._decorations.getDecorationsViewportData(r).decorations}getInjectedTextAt(r){return this._lines.getInjectedTextAt(r)}getViewLineRenderingData(r,c){const _=this.model.mightContainRTL(),y=this.model.mightContainNonBasicASCII(),A=this.getTabSize(),ie=this._lines.getViewLineData(c);let ye=this._decorations.getDecorationsViewportData(r).inlineDecorations[c-r.startLineNumber];return ie.inlineDecorations&&(ye=[...ye,...ie.inlineDecorations.map(Le=>Le.toInlineDecoration(c))]),new Ce.wA(ie.minColumn,ie.maxColumn,ie.content,ie.continuesWithWrappedLine,_,y,ie.tokens,ye,A,ie.startVisibleColumn)}getViewLineData(r){return this._lines.getViewLineData(r)}getMinimapLinesRenderingData(r,c,_){const y=this._lines.getViewLinesData(r,c,_);return new Ce.ud(this.getTabSize(),y)}getAllOverviewRulerDecorations(r){const c=this.model.getOverviewRulerDecorations(this._editorId,(0,$.$J)(this._configuration.options)),_=new xu;for(const y of c){const A=y.options,ie=A.overviewRuler;if(!ie)continue;const he=ie.position;if(0===he)continue;const ye=ie.getColor(r.value),Le=this.coordinatesConverter.getViewLineNumberOfModelPosition(y.range.startLineNumber,y.range.startColumn),Ie=this.coordinatesConverter.getViewLineNumberOfModelPosition(y.range.endLineNumber,y.range.endColumn);_.accept(ye,A.zIndex,Le,Ie,he)}return _.asArray}_invalidateDecorationsColorCache(){const r=this.model.getOverviewRulerDecorations();for(const c of r){const _=c.options.overviewRuler;_&&_.invalidateCachedColor();const y=c.options.minimap;y&&y.invalidateCachedColor()}}getValueInRange(r,c){const _=this.coordinatesConverter.convertViewRangeToModelRange(r);return this.model.getValueInRange(_,c)}deduceModelPositionRelativeToViewPosition(r,c,_){const y=this.coordinatesConverter.convertViewPositionToModelPosition(r);2===this.model.getEOL().length&&(c<0?c-=_:c+=_);const ie=this.model.getOffsetAt(y)+c;return this.model.getPositionAt(ie)}getPlainTextToCopy(r,c,_){const y=_?"\r\n":this.model.getEOL();(r=r.slice(0)).sort(hn.e.compareRangesUsingStarts);let A=!1,ie=!1;for(const ye of r)ye.isEmpty()?A=!0:ie=!0;if(!ie){if(!c)return"";const ye=r.map(Ie=>Ie.startLineNumber);let Le="";for(let Ie=0;Ie<ye.length;Ie++)Ie>0&&ye[Ie-1]===ye[Ie]||(Le+=this.model.getLineContent(ye[Ie])+y);return Le}if(A&&c){const ye=[];let Le=0;for(const Ie of r){const ze=Ie.startLineNumber;Ie.isEmpty()?ze!==Le&&ye.push(this.model.getLineContent(ze)):ye.push(this.model.getValueInRange(Ie,_?2:0)),Le=ze}return 1===ye.length?ye[0]:ye}const he=[];for(const ye of r)ye.isEmpty()||he.push(this.model.getValueInRange(ye,_?2:0));return 1===he.length?he[0]:he}getRichTextToCopy(r,c){const _=this.model.getLanguageId();if(_===Ya.bd||1!==r.length)return null;let y=r[0];if(y.isEmpty()){if(!c)return null;const Ie=y.startLineNumber;y=new hn.e(Ie,this.model.getLineMinColumn(Ie),Ie,this.model.getLineMaxColumn(Ie))}const A=this._configuration.options.get(44),ie=this._getColorMap();let Le;return/[:;\\\/<>]/.test(A.fontFamily)||A.fontFamily===$.hL.fontFamily?Le=$.hL.fontFamily:(Le=A.fontFamily,Le=Le.replace(/"/g,"'"),/[,']/.test(Le)||/[+ ]/.test(Le)&&(Le=`'${Le}'`),Le=`${Le}, ${$.hL.fontFamily}`),{mode:_,html:`<div style="color: ${ie[1]};background-color: ${ie[2]};font-family: ${Le};font-weight: ${A.fontWeight};font-size: ${A.fontSize}px;line-height: ${A.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(y,ie)+"</div>"}}_getHTMLToCopy(r,c){const _=r.startLineNumber,y=r.startColumn,A=r.endLineNumber,ie=r.endColumn,he=this.getTabSize();let ye="";for(let Le=_;Le<=A;Le++){const Ie=this.model.getLineTokens(Le),ze=Ie.getLineContent(),qe=Le===_?y-1:0,ot=Le===A?ie-1:ze.length;ye+=""===ze?"<br>":(0,fc.Fq)(ze,Ie.inflate(),c,qe,ot,he,z.ED)}return ye}_getColorMap(){const r=Li.RW.getColorMap(),c=["#000000"];if(r)for(let _=1,y=r.length;_<y;_++)c[_]=Nn.Il.Format.CSS.formatHex(r[_]);return c}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(r,c,_){return this._withViewEventsCollector(y=>this._cursor.setStates(y,r,c,_))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(r){this._cursor.setCursorColumnSelectData(r)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(r){this._cursor.setPrevEditOperationType(r)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(r,c,_=0){this._withViewEventsCollector(y=>this._cursor.setSelections(y,r,c,_))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(r){this._withViewEventsCollector(c=>this._cursor.restoreState(c,r))}_executeCursorEdit(r){this._cursor.context.cursorConfig.readOnly?this._eventDispatcher.emitOutgoingEvent(new ad):this._withViewEventsCollector(r)}executeEdits(r,c,_){this._executeCursorEdit(y=>this._cursor.executeEdits(y,r,c,_))}startComposition(){this._cursor.setIsDoingComposition(!0),this._executeCursorEdit(r=>this._cursor.startComposition(r))}endComposition(r){this._cursor.setIsDoingComposition(!1),this._executeCursorEdit(c=>this._cursor.endComposition(c,r))}type(r,c){this._executeCursorEdit(_=>this._cursor.type(_,r,c))}compositionType(r,c,_,y,A){this._executeCursorEdit(ie=>this._cursor.compositionType(ie,r,c,_,y,A))}paste(r,c,_,y){this._executeCursorEdit(A=>this._cursor.paste(A,r,c,_,y))}cut(r){this._executeCursorEdit(c=>this._cursor.cut(c,r))}executeCommand(r,c){this._executeCursorEdit(_=>this._cursor.executeCommand(_,r,c))}executeCommands(r,c){this._executeCursorEdit(_=>this._cursor.executeCommands(_,r,c))}revealPrimaryCursor(r,c,_=!1){this._withViewEventsCollector(y=>this._cursor.revealPrimary(y,r,_,0,c,0))}revealTopMostCursor(r){const c=this._cursor.getTopMostViewPosition(),_=new hn.e(c.lineNumber,c.column,c.lineNumber,c.column);this._withViewEventsCollector(y=>y.emitViewEvent(new cs(r,!1,_,null,0,!0,0)))}revealBottomMostCursor(r){const c=this._cursor.getBottomMostViewPosition(),_=new hn.e(c.lineNumber,c.column,c.lineNumber,c.column);this._withViewEventsCollector(y=>y.emitViewEvent(new cs(r,!1,_,null,0,!0,0)))}revealRange(r,c,_,y,A){this._withViewEventsCollector(ie=>ie.emitViewEvent(new cs(r,!1,_,null,y,c,A)))}changeWhitespace(r){this.viewLayout.changeWhitespace(r)&&(this._eventDispatcher.emitSingleViewEvent(new Da),this._eventDispatcher.emitOutgoingEvent(new es))}_withViewEventsCollector(r){try{return r(this._eventDispatcher.beginEmitViewEvents())}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(r,c){return this._lines.normalizePosition(r,c)}getLineIndentColumn(r){return this._lines.getLineIndentColumn(r)}}class xu{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(r,c,_,y,A){const ie=this._asMap[r];if(ie){const he=ie.data,Le=he[he.length-1];if(he[he.length-3]===A&&Le+1>=_)return void(y>Le&&(he[he.length-1]=y));he.push(A,_,y)}else{const he=new Ce.SQ(r,c,[A,_,y]);this._asMap[r]=he,this.asArray.push(he)}}}var gd=m(10467),md=m(6461),Nr=m(43569),pd=m(9771),_d=m(8135),Cd=m(59242);class Il{constructor(r,c,_,y,A){this.injectionOffsets=r,this.injectionOptions=c,this.breakOffsets=_,this.breakOffsetsVisibleColumn=y,this.wrappedTextIndentLength=A}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(r){return r>0?this.wrappedTextIndentLength:0}getLineLength(r){let y=this.breakOffsets[r]-(r>0?this.breakOffsets[r-1]:0);return r>0&&(y+=this.wrappedTextIndentLength),y}getMaxOutputOffset(r){return this.getLineLength(r)}translateToInputOffset(r,c){r>0&&(c=Math.max(0,c-this.wrappedTextIndentLength));let y=0===r?c:this.breakOffsets[r-1]+c;if(null!==this.injectionOffsets)for(let A=0;A<this.injectionOffsets.length&&y>this.injectionOffsets[A];A++)y<this.injectionOffsets[A]+this.injectionOptions[A].content.length?y=this.injectionOffsets[A]:y-=this.injectionOptions[A].content.length;return y}translateToOutputPosition(r,c=2){let _=r;if(null!==this.injectionOffsets)for(let y=0;y<this.injectionOffsets.length&&!(r<this.injectionOffsets[y]||1!==c&&r===this.injectionOffsets[y]);y++)_+=this.injectionOptions[y].content.length;return this.offsetInInputWithInjectionsToOutputPosition(_,c)}offsetInInputWithInjectionsToOutputPosition(r,c=2){let _=0,y=this.breakOffsets.length-1,A=0,ie=0;for(;_<=y;){A=_+(y-_)/2|0;const ye=this.breakOffsets[A];if(ie=A>0?this.breakOffsets[A-1]:0,0===c)if(r<=ie)y=A-1;else{if(!(r>ye))break;_=A+1}else if(r<ie)y=A-1;else{if(!(r>=ye))break;_=A+1}}let he=r-ie;return A>0&&(he+=this.wrappedTextIndentLength),new vc(A,he)}normalizeOutputPosition(r,c,_){if(null!==this.injectionOffsets){const y=this.outputPositionToOffsetInInputWithInjections(r,c),A=this.normalizeOffsetInInputWithInjectionsAroundInjections(y,_);if(A!==y)return this.offsetInInputWithInjectionsToOutputPosition(A,_)}if(0===_){if(r>0&&c===this.getMinOutputOffset(r))return new vc(r-1,this.getMaxOutputOffset(r-1))}else if(1===_&&r<this.getOutputLineCount()-1&&c===this.getMaxOutputOffset(r))return new vc(r+1,this.getMinOutputOffset(r+1));return new vc(r,c)}outputPositionToOffsetInInputWithInjections(r,c){return r>0&&(c=Math.max(0,c-this.wrappedTextIndentLength)),(r>0?this.breakOffsets[r-1]:0)+c}normalizeOffsetInInputWithInjectionsAroundInjections(r,c){const _=this.getInjectedTextAtOffset(r);if(!_)return r;if(2===c){if(r===_.offsetInInputWithInjections+_.length&&kl(this.injectionOptions[_.injectedTextIndex].cursorStops))return _.offsetInInputWithInjections+_.length;{let y=_.offsetInInputWithInjections;if(bd(this.injectionOptions[_.injectedTextIndex].cursorStops))return y;let A=_.injectedTextIndex-1;for(;A>=0&&this.injectionOffsets[A]===this.injectionOffsets[_.injectedTextIndex]&&!kl(this.injectionOptions[A].cursorStops)&&(y-=this.injectionOptions[A].content.length,!bd(this.injectionOptions[A].cursorStops));)A--;return y}}if(1===c){let y=_.offsetInInputWithInjections+_.length,A=_.injectedTextIndex;for(;A+1<this.injectionOffsets.length&&this.injectionOffsets[A+1]===this.injectionOffsets[A];)y+=this.injectionOptions[A+1].content.length,A++;return y}if(0===c){let y=_.offsetInInputWithInjections,A=_.injectedTextIndex;for(;A-1>=0&&this.injectionOffsets[A-1]===this.injectionOffsets[A];)y-=this.injectionOptions[A-1].content.length,A--;return y}(0,js.vE)(c)}getInjectedText(r,c){const _=this.outputPositionToOffsetInInputWithInjections(r,c),y=this.getInjectedTextAtOffset(_);return y?{options:this.injectionOptions[y.injectedTextIndex]}:null}getInjectedTextAtOffset(r){const c=this.injectionOffsets,_=this.injectionOptions;if(null!==c){let y=0;for(let A=0;A<c.length;A++){const ie=_[A].content.length,he=c[A]+y,ye=c[A]+y+ie;if(he>r)break;if(r<=ye)return{injectedTextIndex:A,offsetInInputWithInjections:he,length:ie};y+=ie}}}}function kl(Te){return null==Te||Te===Zt.RM.Right||Te===Zt.RM.Both}function bd(Te){return null==Te||Te===Zt.RM.Left||Te===Zt.RM.Both}class vc{constructor(r,c){this.outputLineIndex=r,this.outputOffset=c}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(r){return new sn.L(r+this.outputLineIndex,this.outputOffset+1)}}class wc{constructor(r,c){this.classifier=new Wh(r,c)}static create(r){return new wc(r.get(120),r.get(119))}createLineBreaksComputer(r,c,_,y){const A=[],ie=[],he=[];return{addRequest:(ye,Le,Ie)=>{A.push(ye),ie.push(Le),he.push(Ie)},finalize:()=>{const ye=r.typicalFullwidthCharacterWidth/r.typicalHalfwidthCharacterWidth,Le=[];for(let Ie=0,ze=A.length;Ie<ze;Ie++){const qe=ie[Ie],ot=he[Ie];Le[Ie]=!ot||ot.injectionOptions||qe?Tl(this.classifier,A[Ie],qe,c,_,ye,y):Lu(this.classifier,ot,A[Ie],c,_,ye,y)}return Na.length=0,vd.length=0,Le}}}}class Wh extends Cd.N{constructor(r,c){super(0);for(let _=0;_<r.length;_++)this.set(r.charCodeAt(_),1);for(let _=0;_<c.length;_++)this.set(c.charCodeAt(_),2)}get(r){return r>=0&&r<256?this._asciiMap[r]:r>=12352&&r<=12543||r>=13312&&r<=19903||r>=19968&&r<=40959?3:this._map.get(r)||this._defaultValue}}let Na=[],vd=[];function Lu(Te,r,c,_,y,A,ie){if(-1===y)return null;const he=c.length;if(he<=1)return null;const ye=r.breakOffsets,Le=r.breakOffsetsVisibleColumn,Ie=el(c,_,y,A,ie),ze=y-Ie,qe=Na,ot=vd;let bt=0,xt=0,Nt=0,tn=y;const ln=ye.length;let $t=0;if($t>=0){let On=Math.abs(Le[$t]-tn);for(;$t+1<ln;){const In=Math.abs(Le[$t+1]-tn);if(In>=On)break;On=In,$t++}}for(;$t<ln;){let On=$t<0?0:ye[$t],In=$t<0?0:Le[$t];xt>On&&(On=xt,In=Nt);let Rn=0,Fn=0,Dn=0,Cn=0;if(In<=tn){let ri=In,_o=0===On?0:c.charCodeAt(On-1),Co=0===On?0:Te.get(_o),ts=!0;for(let qi=On;qi<he;qi++){const ds=qi,Qo=c.charCodeAt(qi);let Zn,Ms;if(wn.ZG(Qo)?(qi++,Zn=0,Ms=2):(Zn=Te.get(Qo),Ms=aa(Qo,ri,_,A)),ds>xt&&yc(0,Co,Qo,Zn)&&(Rn=ds,Fn=ri),ri+=Ms,ri>tn){ds>xt?(Dn=ds,Cn=ri-Ms):(Dn=qi+1,Cn=ri),ri-Fn>ze&&(Rn=0),ts=!1;break}_o=Qo,Co=Zn}if(ts){bt>0&&(qe[bt]=ye[ye.length-1],ot[bt]=Le[ye.length-1],bt++);break}}if(0===Rn){let ri=In,_o=c.charCodeAt(On),Co=Te.get(_o),ts=!1;for(let qi=On-1;qi>=xt;qi--){const ds=qi+1,Qo=c.charCodeAt(qi);if(9===Qo){ts=!0;break}let Zn,Ms;if(wn.YK(Qo)?(qi--,Zn=0,Ms=2):(Zn=Te.get(Qo),Ms=wn.K7(Qo)?A:1),ri<=tn){if(0===Dn&&(Dn=ds,Cn=ri),ri<=tn-ze)break;if(yc(0,Zn,_o,Co)){Rn=ds,Fn=ri;break}}ri-=Ms,_o=Qo,Co=Zn}if(0!==Rn){const qi=ze-(Cn-Fn);if(qi<=_){const ds=c.charCodeAt(Dn);let Qo;Qo=wn.ZG(ds)?2:aa(ds,Cn,_,A),qi-Qo<0&&(Rn=0)}}if(ts){$t--;continue}}if(0===Rn&&(Rn=Dn,Fn=Cn),Rn<=xt){const ri=c.charCodeAt(xt);wn.ZG(ri)?(Rn=xt+2,Fn=Nt+2):(Rn=xt+1,Fn=Nt+aa(ri,Nt,_,A))}for(xt=Rn,qe[bt]=Rn,Nt=Fn,ot[bt]=Fn,bt++,tn=Fn+ze;$t<0||$t<ln&&Le[$t]<Fn;)$t++;let Mi=Math.abs(Le[$t]-tn);for(;$t+1<ln;){const ri=Math.abs(Le[$t+1]-tn);if(ri>=Mi)break;Mi=ri,$t++}}return 0===bt?null:(qe.length=bt,ot.length=bt,Na=r.breakOffsets,vd=r.breakOffsetsVisibleColumn,r.breakOffsets=qe,r.breakOffsetsVisibleColumn=ot,r.wrappedTextIndentLength=Ie,r)}function Tl(Te,r,c,_,y,A,ie){const he=ir.gk.applyInjectedText(r,c);let ye,Le;if(c&&c.length>0?(ye=c.map(Fn=>Fn.options),Le=c.map(Fn=>Fn.column-1)):(ye=null,Le=null),-1===y)return ye?new Il(Le,ye,[he.length],[],0):null;const Ie=he.length;if(Ie<=1)return ye?new Il(Le,ye,[he.length],[],0):null;const ze=el(he,_,y,A,ie),qe=y-ze,ot=[],bt=[];let xt=0,Nt=0,tn=0,ln=y,$t=he.charCodeAt(0),On=Te.get($t),In=aa($t,0,_,A),Rn=1;wn.ZG($t)&&(In+=1,$t=he.charCodeAt(1),On=Te.get($t),Rn++);for(let Fn=Rn;Fn<Ie;Fn++){const Dn=Fn,Cn=he.charCodeAt(Fn);let Mi,ri;wn.ZG(Cn)?(Fn++,Mi=0,ri=2):(Mi=Te.get(Cn),ri=aa(Cn,In,_,A)),yc(0,On,Cn,Mi)&&(Nt=Dn,tn=In),In+=ri,In>ln&&((0===Nt||In-tn>qe)&&(Nt=Dn,tn=In-ri),ot[xt]=Nt,bt[xt]=tn,xt++,ln=tn+qe,Nt=0),$t=Cn,On=Mi}return 0!==xt||c&&0!==c.length?(ot[xt]=Ie,bt[xt]=In,new Il(Le,ye,ot,bt,ze)):null}function aa(Te,r,c,_){return 9===Te?c-r%c:wn.K7(Te)||Te<32?_:1}function Ia(Te,r){return r-Te%r}function yc(Te,r,c,_){return 32!==c&&(2===r||3===r&&2!==_||1===_||3===_&&1!==r)}function el(Te,r,c,_,y){let A=0;if(0!==y){const ie=wn.LC(Te);if(-1!==ie){for(let ye=0;ye<ie;ye++)A+=9===Te.charCodeAt(ye)?Ia(A,r):1;const he=3===y?2:2===y?1:0;for(let ye=0;ye<he;ye++)A+=Ia(A,r);A+_>c&&(A=0)}}return A}var tl;const Du=null===(tl=window.trustedTypes)||void 0===tl?void 0:tl.createPolicy("domLineBreaksComputer",{createHTML:Te=>Te});class Eu{static create(){return new Eu}constructor(){}createLineBreaksComputer(r,c,_,y){const A=[],ie=[];return{addRequest:(he,ye,Le)=>{A.push(he),ie.push(ye)},finalize:()=>function(Te,r,c,_,y,A){var ie;function he(Dn){const Cn=A[Dn];if(Cn){const Mi=ir.gk.applyInjectedText(Te[Dn],Cn),ri=Cn.map(Co=>Co.options),_o=Cn.map(Co=>Co.column-1);return new Il(_o,ri,[Mi.length],[],0)}return null}if(-1===_){const Dn=[];for(let Cn=0,Mi=Te.length;Cn<Mi;Cn++)Dn[Cn]=he(Cn);return Dn}const ye=Math.round(_*r.typicalHalfwidthCharacterWidth),Ie=Math.round(c*(3===y?2:2===y?1:0)),ze=Math.ceil(r.spaceWidth*Ie),qe=document.createElement("div");(0,vn.N)(qe,r);const ot=(0,Yi.l$)(1e4),bt=[],xt=[],Nt=[],tn=[],ln=[];for(let Dn=0;Dn<Te.length;Dn++){const Cn=ir.gk.applyInjectedText(Te[Dn],A[Dn]);let Mi=0,ri=0,_o=ye;if(0!==y)if(Mi=wn.LC(Cn),-1===Mi)Mi=0;else{for(let ds=0;ds<Mi;ds++)ri+=9===Cn.charCodeAt(ds)?c-ri%c:1;const qi=Math.ceil(r.spaceWidth*ri);qi+r.typicalFullwidthCharacterWidth>ye?(Mi=0,ri=0):_o=ye-qi}const Co=Cn.substr(Mi),ts=Zo(Co,ri,c,_o,ot,ze);bt[Dn]=Mi,xt[Dn]=ri,Nt[Dn]=Co,tn[Dn]=ts[0],ln[Dn]=ts[1]}const $t=ot.build(),On=null!==(ie=null==Du?void 0:Du.createHTML($t))&&void 0!==ie?ie:$t;qe.innerHTML=On,qe.style.position="absolute",qe.style.top="10000",qe.style.wordWrap="break-word",document.body.appendChild(qe);const In=document.createRange(),Rn=Array.prototype.slice.call(qe.children,0),Fn=[];for(let Dn=0;Dn<Te.length;Dn++){const Mi=Go(In,Rn[Dn],Nt[Dn],tn[Dn]);if(null===Mi){Fn[Dn]=he(Dn);continue}const ri=bt[Dn],_o=xt[Dn]+Ie,Co=ln[Dn],ts=[];for(let Zn=0,Ms=Mi.length;Zn<Ms;Zn++)ts[Zn]=Co[Mi[Zn]];if(0!==ri)for(let Zn=0,Ms=Mi.length;Zn<Ms;Zn++)Mi[Zn]+=ri;let qi,ds;const Qo=A[Dn];Qo?(qi=Qo.map(Zn=>Zn.options),ds=Qo.map(Zn=>Zn.column-1)):(qi=null,ds=null),Fn[Dn]=new Il(ds,qi,Mi,ts,_o)}return document.body.removeChild(qe),Fn}(A,r,c,_,y,ie)}}}function Zo(Te,r,c,_,y,A){if(0!==A){const qe=String(A);y.appendASCIIString('<div style="text-indent: -'),y.appendASCIIString(qe),y.appendASCIIString("px; padding-left: "),y.appendASCIIString(qe),y.appendASCIIString("px; box-sizing: border-box; width:")}else y.appendASCIIString('<div style="width:');y.appendASCIIString(String(_)),y.appendASCIIString('px;">');const ie=Te.length;let he=r,ye=0;const Le=[],Ie=[];let ze=0<ie?Te.charCodeAt(0):0;y.appendASCIIString("<span>");for(let qe=0;qe<ie;qe++){0!==qe&&qe%16384==0&&y.appendASCIIString("</span><span>"),Le[qe]=ye,Ie[qe]=he;const ot=ze;ze=qe+1<ie?Te.charCodeAt(qe+1):0;let bt=1,xt=1;switch(ot){case 9:bt=c-he%c,xt=bt;for(let Nt=1;Nt<=bt;Nt++)Nt<bt?y.write1(160):y.appendASCII(32);break;case 32:32===ze?y.write1(160):y.appendASCII(32);break;case 60:y.appendASCIIString("&lt;");break;case 62:y.appendASCIIString("&gt;");break;case 38:y.appendASCIIString("&amp;");break;case 0:y.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:y.write1(65533);break;default:wn.K7(ot)&&xt++,y.write1(ot<32?9216+ot:ot)}ye+=bt,he+=xt}return y.appendASCIIString("</span>"),Le[Te.length]=ye,Ie[Te.length]=he,y.appendASCIIString("</div>"),[Le,Ie]}function Go(Te,r,c,_){if(c.length<=1)return null;const y=Array.prototype.slice.call(r.children,0),A=[];try{Mu(Te,y,_,0,null,c.length-1,null,A)}catch(ie){return console.log(ie),null}return 0===A.length?null:(A.push(c.length),A)}function Mu(Te,r,c,_,y,A,ie,he){if(_===A||(y=y||Qe(Te,r,c[_],c[_+1]),ie=ie||Qe(Te,r,c[A],c[A+1]),Math.abs(y[0].top-ie[0].top)<=.1))return;if(_+1===A)return void he.push(A);const ye=_+(A-_)/2|0,Le=Qe(Te,r,c[ye],c[ye+1]);Mu(Te,r,c,_,y,ye,Le,he),Mu(Te,r,c,ye,Le,A,ie,he)}function Qe(Te,r,c,_){return Te.setStart(r[c/16384|0].firstChild,c%16384),Te.setEnd(r[_/16384|0].firstChild,_%16384),Te.getClientRects()}var ci=m(34397),Ct=m(92119),De=m(3494),Xr=function(Te,r){return function(c,_){r(c,_,Te)}};let Nu=0;class nl{constructor(r,c,_,y,A){this.model=r,this.viewModel=c,this.view=_,this.hasRealView=y,this.listenersToRemove=A}dispose(){(0,C.B9)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let la=class vp extends C.JT{constructor(r,c,_,y,A,ie,he,ye,Le,Ie,ze,qe){super(),this.languageConfigurationService=ze,this._onDidDispose=this._register(new S.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new S.Q5),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new S.Q5),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new S.Q5),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new S.Q5),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new S.Q5),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeConfiguration=this._register(new S.Q5),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new S.Q5),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new S.Q5),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new S.Q5),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new S.Q5),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new S.Q5),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new As),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new As),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new S.Q5),this.onWillType=this._onWillType.event,this._onDidType=this._register(new S.Q5),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new S.Q5),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new S.Q5),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new S.Q5),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new S.Q5),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new S.Q5),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new S.Q5),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new S.Q5),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new S.Q5),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onContextMenu=this._register(new S.Q5),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new S.Q5),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new S.Q5),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new S.Q5),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new S.Q5),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new S.Q5),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new S.Q5),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new S.Q5),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new S.Q5),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new S.Q5),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._bannerDomNode=null;const ot=Object.assign({},c);let bt;this._domElement=r,this._overflowWidgetsDomNode=ot.overflowWidgetsDomNode,delete ot.overflowWidgetsDomNode,this._id=++Nu,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=_.telemetryData,this._configuration=this._register(this._createConfiguration(_.isSimpleWidget||!1,ot,Ie)),this._register(this._configuration.onDidChange(xt=>{this._onDidChangeConfiguration.fire(xt);const Nt=this._configuration.options;if(xt.hasChanged(131)){const tn=Nt.get(131);this._onDidLayoutChange.fire(tn)}})),this._contextKeyService=this._register(he.createScoped(this._domElement)),this._notificationService=Le,this._codeEditorService=A,this._commandService=ie,this._themeService=ye,this._register(new Sc(this,this._contextKeyService)),this._register(new Iu(this,this._contextKeyService,qe)),this._instantiationService=y.createChild(new pd.y([md.i6,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new ku(r),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={},bt=Array.isArray(_.contributions)?_.contributions:g.Uc.getEditorContributions();for(const xt of bt)if(this._contributions[xt.id])(0,T.dL)(new Error(`Cannot have two contributions with the same id ${xt.id}`));else try{const Nt=this._instantiationService.createInstance(xt.ctor,this);this._contributions[xt.id]=Nt}catch(Nt){(0,T.dL)(Nt)}g.Uc.getEditorActions().forEach(xt=>{if(this._actions[xt.id])return void(0,T.dL)(new Error(`Cannot have two actions with the same id ${xt.id}`));const Nt=new Dl.p(xt.id,xt.label,xt.alias,(0,js.f6)(xt.precondition),()=>this._instantiationService.invokeFunction(tn=>Promise.resolve(xt.runEditorCommand(tn,this,null))),this._contextKeyService);this._actions[Nt.id]=Nt}),this._codeEditorService.addCodeEditor(this)}get isSimpleWidget(){return this._configuration.isSimpleWidget}_createConfiguration(r,c,_){return new pe(r,c,this._domElement,_)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return Qa.g.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const r=Object.keys(this._contributions);for(let c=0,_=r.length;c<_;c++)this._contributions[r[c]].dispose();this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(r){return this._instantiationService.invokeFunction(r)}updateOptions(r){this._configuration.updateOptions(r||{})}getOptions(){return this._configuration.options}getOption(r){return this._configuration.options.get(r)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(r){return this._modelData?ci.w.getWordAtPosition(this._modelData.model,this._configuration.options.get(117),r):null}getValue(r=null){if(!this._modelData)return"";let _=0;return r&&r.lineEnding&&"\n"===r.lineEnding?_=1:r&&r.lineEnding&&"\r\n"===r.lineEnding&&(_=2),this._modelData.model.getValue(_,!(!r||!r.preserveBOM))}setValue(r){!this._modelData||this._modelData.model.setValue(r)}getModel(){return this._modelData?this._modelData.model:null}setModel(r=null){const c=r;if(null===this._modelData&&null===c||this._modelData&&this._modelData.model===c)return;const _=this.hasTextFocus(),y=this._detachModel();this._attachModel(c),_&&this.hasModel()&&this.focus();const A={oldModelUrl:y?y.uri:null,newModelUrl:c?c.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(A),this._postDetachModelCleanup(y)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let r in this._decorationTypeSubtypes){const c=this._decorationTypeSubtypes[r];for(let _ in c)this._removeDecorationType(r+"-"+_)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetForPosition(r,c,_){const y=r.model.validatePosition({lineNumber:c,column:_}),A=r.viewModel.coordinatesConverter.convertModelPositionToViewPosition(y);return r.viewModel.viewLayout.getVerticalOffsetForLineNumber(A.lineNumber)}getTopForLineNumber(r){return this._modelData?vp._getVerticalOffsetForPosition(this._modelData,r,1):-1}getTopForPosition(r,c){return this._modelData?vp._getVerticalOffsetForPosition(this._modelData,r,c):-1}setHiddenAreas(r){this._modelData&&this._modelData.viewModel.setHiddenAreas(r.map(c=>hn.e.lift(c)))}getVisibleColumnFromPosition(r){if(!this._modelData)return r.column;const c=this._modelData.model.validatePosition(r),_=this._modelData.model.getOptions().tabSize;return _n.i.visibleColumnFromColumn(this._modelData.model.getLineContent(c.lineNumber),c.column,_)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(r,c="api"){if(this._modelData){if(!sn.L.isIPosition(r))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(c,[{selectionStartLineNumber:r.lineNumber,selectionStartColumn:r.column,positionLineNumber:r.lineNumber,positionColumn:r.column}])}}_sendRevealRange(r,c,_,y){if(!this._modelData)return;if(!hn.e.isIRange(r))throw new Error("Invalid arguments");const A=this._modelData.model.validateRange(r),ie=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(A);this._modelData.viewModel.revealRange("api",_,ie,c,y)}revealLine(r,c=0){this._revealLine(r,0,c)}revealLineInCenter(r,c=0){this._revealLine(r,1,c)}revealLineInCenterIfOutsideViewport(r,c=0){this._revealLine(r,2,c)}revealLineNearTop(r,c=0){this._revealLine(r,5,c)}_revealLine(r,c,_){if("number"!=typeof r)throw new Error("Invalid arguments");this._sendRevealRange(new hn.e(r,1,r,1),c,!1,_)}revealPosition(r,c=0){this._revealPosition(r,0,!0,c)}revealPositionInCenter(r,c=0){this._revealPosition(r,1,!0,c)}revealPositionInCenterIfOutsideViewport(r,c=0){this._revealPosition(r,2,!0,c)}revealPositionNearTop(r,c=0){this._revealPosition(r,5,!0,c)}_revealPosition(r,c,_,y){if(!sn.L.isIPosition(r))throw new Error("Invalid arguments");this._sendRevealRange(new hn.e(r.lineNumber,r.column,r.lineNumber,r.column),c,_,y)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(r,c="api"){const _=re.Y.isISelection(r),y=hn.e.isIRange(r);if(!_&&!y)throw new Error("Invalid arguments");_?this._setSelectionImpl(r,c):y&&this._setSelectionImpl({selectionStartLineNumber:r.startLineNumber,selectionStartColumn:r.startColumn,positionLineNumber:r.endLineNumber,positionColumn:r.endColumn},c)}_setSelectionImpl(r,c){if(!this._modelData)return;const _=new re.Y(r.selectionStartLineNumber,r.selectionStartColumn,r.positionLineNumber,r.positionColumn);this._modelData.viewModel.setSelections(c,[_])}revealLines(r,c,_=0){this._revealLines(r,c,0,_)}revealLinesInCenter(r,c,_=0){this._revealLines(r,c,1,_)}revealLinesInCenterIfOutsideViewport(r,c,_=0){this._revealLines(r,c,2,_)}revealLinesNearTop(r,c,_=0){this._revealLines(r,c,5,_)}_revealLines(r,c,_,y){if("number"!=typeof r||"number"!=typeof c)throw new Error("Invalid arguments");this._sendRevealRange(new hn.e(r,1,c,1),_,!1,y)}revealRange(r,c=0,_=!1,y=!0){this._revealRange(r,_?1:0,y,c)}revealRangeInCenter(r,c=0){this._revealRange(r,1,!0,c)}revealRangeInCenterIfOutsideViewport(r,c=0){this._revealRange(r,2,!0,c)}revealRangeNearTop(r,c=0){this._revealRange(r,5,!0,c)}revealRangeNearTopIfOutsideViewport(r,c=0){this._revealRange(r,6,!0,c)}revealRangeAtTop(r,c=0){this._revealRange(r,3,!0,c)}_revealRange(r,c,_,y){if(!hn.e.isIRange(r))throw new Error("Invalid arguments");this._sendRevealRange(hn.e.lift(r),c,_,y)}setSelections(r,c="api",_=0){if(this._modelData){if(!r||0===r.length)throw new Error("Invalid arguments");for(let y=0,A=r.length;y<A;y++)if(!re.Y.isISelection(r[y]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(c,r,_)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(r,c=1){if(this._modelData){if("number"!=typeof r)throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:r},c)}}setScrollTop(r,c=1){if(this._modelData){if("number"!=typeof r)throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:r},c)}}setScrollPosition(r,c=1){!this._modelData||this._modelData.viewModel.viewLayout.setScrollPosition(r,c)}saveViewState(){if(!this._modelData)return null;const r={},c=Object.keys(this._contributions);for(const A of c){const ie=this._contributions[A];"function"==typeof ie.saveViewState&&(r[A]=ie.saveViewState())}return{cursorState:this._modelData.viewModel.saveCursorState(),viewState:this._modelData.viewModel.saveState(),contributionsState:r}}restoreViewState(r){if(!this._modelData||!this._modelData.hasRealView)return;const c=r;if(c&&c.cursorState&&c.viewState){const _=c.cursorState;Array.isArray(_)?_.length>0&&this._modelData.viewModel.restoreCursorState(_):this._modelData.viewModel.restoreCursorState([_]);const y=c.contributionsState||{},A=Object.keys(this._contributions);for(let he=0,ye=A.length;he<ye;he++){const Le=A[he],Ie=this._contributions[Le];"function"==typeof Ie.restoreViewState&&Ie.restoreViewState(y[Le])}const ie=this._modelData.viewModel.reduceRestoreState(c.viewState);this._modelData.view.restoreState(ie)}}getContribution(r){return this._contributions[r]||null}getActions(){const r=[],c=Object.keys(this._actions);for(let _=0,y=c.length;_<y;_++)r.push(this._actions[c[_]]);return r}getSupportedActions(){let r=this.getActions();return r=r.filter(c=>c.isSupported()),r}getAction(r){return this._actions[r]||null}trigger(r,c,_){switch(_=_||{},c){case"compositionStart":return void this._startComposition();case"compositionEnd":return void this._endComposition(r);case"type":return void this._type(r,_.text||"");case"replacePreviousChar":return void this._compositionType(r,_.text||"",_.replaceCharCnt||0,0,0);case"compositionType":return void this._compositionType(r,_.text||"",_.replacePrevCharCnt||0,_.replaceNextCharCnt||0,_.positionDelta||0);case"paste":return void this._paste(r,_.text||"",_.pasteOnNewLine||!1,_.multicursorText||null,_.mode||null);case"cut":return void this._cut(r)}const y=this.getAction(c);y?Promise.resolve(y.run()).then(void 0,T.dL):!this._modelData||this._triggerEditorCommand(r,c,_)||this._triggerCommand(c,_)}_triggerCommand(r,c){this._commandService.executeCommand(r,c)}_startComposition(){!this._modelData||(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(r){!this._modelData||(this._modelData.viewModel.endComposition(r),this._onDidCompositionEnd.fire())}_type(r,c){!this._modelData||0===c.length||("keyboard"===r&&this._onWillType.fire(c),this._modelData.viewModel.type(c,r),"keyboard"===r&&this._onDidType.fire(c))}_compositionType(r,c,_,y,A){!this._modelData||this._modelData.viewModel.compositionType(c,_,y,A,r)}_paste(r,c,_,y,A){if(!this._modelData||0===c.length)return;const ie=this._modelData.viewModel.getSelection().getStartPosition();this._modelData.viewModel.paste(c,_,y,r);const he=this._modelData.viewModel.getSelection().getStartPosition();"keyboard"===r&&this._onDidPaste.fire({range:new hn.e(ie.lineNumber,ie.column,he.lineNumber,he.column),languageId:A})}_cut(r){!this._modelData||this._modelData.viewModel.cut(r)}_triggerEditorCommand(r,c,_){const y=g.Uc.getEditorCommand(c);return!!y&&((_=_||{}).source=r,this._instantiationService.invokeFunction(A=>{Promise.resolve(y.runEditorCommand(A,this,_)).then(void 0,T.dL)}),!0)}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!(!this._modelData||this._configuration.options.get(81)||(this._modelData.model.pushStackElement(),0))}popUndoStop(){return!(!this._modelData||this._configuration.options.get(81)||(this._modelData.model.popStackElement(),0))}executeEdits(r,c,_){if(!this._modelData||this._configuration.options.get(81))return!1;let y;return y=_?Array.isArray(_)?()=>_:_:()=>null,this._modelData.viewModel.executeEdits(r,c,y),!0}executeCommand(r,c){!this._modelData||this._modelData.viewModel.executeCommand(c,r)}executeCommands(r,c){!this._modelData||this._modelData.viewModel.executeCommands(c,r)}changeDecorations(r){return this._modelData?this._modelData.model.changeDecorations(r,this._id):null}getLineDecorations(r){return this._modelData?this._modelData.model.getLineDecorations(r,this._id,(0,$.$J)(this._configuration.options)):null}getDecorationsInRange(r){return this._modelData?this._modelData.model.getDecorationsInRange(r,this._id,(0,$.$J)(this._configuration.options)):null}deltaDecorations(r,c){return this._modelData?0===r.length&&0===c.length?r:this._modelData.model.deltaDecorations(r,c,this._id):[]}removeDecorations(r){const c=this._decorationTypeKeysToIds[r];c&&this.deltaDecorations(c,[]),this._decorationTypeKeysToIds.hasOwnProperty(r)&&delete this._decorationTypeKeysToIds[r],this._decorationTypeSubtypes.hasOwnProperty(r)&&delete this._decorationTypeSubtypes[r]}getLayoutInfo(){return this._configuration.options.get(131)}createOverviewRuler(r){return this._modelData&&this._modelData.hasRealView?this._modelData.view.createOverviewRuler(r):null}getContainerDomNode(){return this._domElement}getDomNode(){return this._modelData&&this._modelData.hasRealView?this._modelData.view.domNode.domNode:null}delegateVerticalScrollbarMouseDown(r){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarMouseDown(r)}layout(r){this._configuration.observeContainer(r),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!(!this._modelData||!this._modelData.hasRealView)&&this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(r){const c={widget:r,position:r.getPosition()};this._contentWidgets.hasOwnProperty(r.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[r.getId()]=c,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(c)}layoutContentWidget(r){const c=r.getId();if(this._contentWidgets.hasOwnProperty(c)){const _=this._contentWidgets[c];_.position=r.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(_)}}removeContentWidget(r){const c=r.getId();if(this._contentWidgets.hasOwnProperty(c)){const _=this._contentWidgets[c];delete this._contentWidgets[c],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(_)}}addOverlayWidget(r){const c={widget:r,position:r.getPosition()};this._overlayWidgets.hasOwnProperty(r.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[r.getId()]=c,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(c)}layoutOverlayWidget(r){const c=r.getId();if(this._overlayWidgets.hasOwnProperty(c)){const _=this._overlayWidgets[c];_.position=r.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(_)}}removeOverlayWidget(r){const c=r.getId();if(this._overlayWidgets.hasOwnProperty(c)){const _=this._overlayWidgets[c];delete this._overlayWidgets[c],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(_)}}changeViewZones(r){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(r)}getTargetAtClientPoint(r,c){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getTargetAtClientPoint(r,c):null}getScrolledVisiblePosition(r){if(!this._modelData||!this._modelData.hasRealView)return null;const c=this._modelData.model.validatePosition(r),_=this._configuration.options,y=_.get(131);return{top:vp._getVerticalOffsetForPosition(this._modelData,c.lineNumber,c.column)-this.getScrollTop(),left:this._modelData.view.getOffsetForColumn(c.lineNumber,c.column)+y.glyphMarginWidth+y.lineNumbersWidth+y.decorationsWidth-this.getScrollLeft(),height:_.get(59)}}getOffsetForColumn(r,c){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getOffsetForColumn(r,c):-1}render(r=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,r)}setAriaOptions(r){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(r)}applyFontInfo(r){(0,vn.N)(r,this._configuration.options.get(44))}setBanner(r,c){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=r,this._configuration.setReservedHeight(r?c:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(r){if(!r)return void(this._modelData=null);const c=[];this._domElement.setAttribute("data-mode-id",r.getLanguageId()),this._configuration.setIsDominatedByLongLines(r.isDominatedByLongLines()),this._configuration.setModelLineCount(r.getLineCount()),r.onBeforeAttached();const _=new Su(this._id,this._configuration,r,Eu.create(),wc.create(this._configuration.options),ie=>F.jL(ie),this.languageConfigurationService,this._themeService);c.push(r.onDidChangeDecorations(ie=>this._onDidChangeModelDecorations.fire(ie))),c.push(r.onDidChangeLanguage(ie=>{this._domElement.setAttribute("data-mode-id",r.getLanguageId()),this._onDidChangeModelLanguage.fire(ie)})),c.push(r.onDidChangeLanguageConfiguration(ie=>this._onDidChangeModelLanguageConfiguration.fire(ie))),c.push(r.onDidChangeContent(ie=>this._onDidChangeModelContent.fire(ie))),c.push(r.onDidChangeOptions(ie=>this._onDidChangeModelOptions.fire(ie))),c.push(r.onWillDispose(()=>this.setModel(null))),c.push(_.onEvent(ie=>{switch(ie.kind){case 0:this._onDidContentSizeChange.fire(ie);break;case 1:this._editorTextFocus.setValue(ie.hasFocus);break;case 2:this._onDidScrollChange.fire(ie);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{ie.reachedMaxCursorCount&&this._notificationService.warn(O.N("cursors.maximum","The number of cursors has been limited to {0}.",ld.MAX_CURSOR_COUNT));const he=[];for(let Ie=0,ze=ie.selections.length;Ie<ze;Ie++)he[Ie]=ie.selections[Ie].getPosition();const ye={position:he[0],secondaryPositions:he.slice(1),reason:ie.reason,source:ie.source};this._onDidChangeCursorPosition.fire(ye);const Le={selection:ie.selections[0],secondarySelections:ie.selections.slice(1),modelVersionId:ie.modelVersionId,oldSelections:ie.oldSelections,oldModelVersionId:ie.oldModelVersionId,source:ie.source,reason:ie.reason};this._onDidChangeCursorSelection.fire(Le);break}}}));const[y,A]=this._createView(_);if(A){this._domElement.appendChild(y.domNode.domNode);let ie=Object.keys(this._contentWidgets);for(let he=0,ye=ie.length;he<ye;he++)y.addContentWidget(this._contentWidgets[ie[he]]);ie=Object.keys(this._overlayWidgets);for(let he=0,ye=ie.length;he<ye;he++)y.addOverlayWidget(this._overlayWidgets[ie[he]]);y.render(!1,!0),y.domNode.domNode.setAttribute("data-uri",r.uri.toString())}this._modelData=new nl(r,_,y,A,c)}_createView(r){let c;c=this.isSimpleWidget?{paste:(A,ie,he,ye)=>{this._paste("keyboard",A,ie,he,ye)},type:A=>{this._type("keyboard",A)},compositionType:(A,ie,he,ye)=>{this._compositionType("keyboard",A,ie,he,ye)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:{paste:(A,ie,he,ye)=>{this._commandService.executeCommand("paste",{text:A,pasteOnNewLine:ie,multicursorText:he,mode:ye})},type:A=>{this._commandService.executeCommand("type",{text:A})},compositionType:(A,ie,he,ye)=>{he||ye?this._commandService.executeCommand("compositionType",{text:A,replacePrevCharCnt:ie,replaceNextCharCnt:he,positionDelta:ye}):this._commandService.executeCommand("replacePreviousChar",{text:A,replaceCharCnt:ie})},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const _=new bi(r.coordinatesConverter);return _.onKeyDown=A=>this._onKeyDown.fire(A),_.onKeyUp=A=>this._onKeyUp.fire(A),_.onContextMenu=A=>this._onContextMenu.fire(A),_.onMouseMove=A=>this._onMouseMove.fire(A),_.onMouseLeave=A=>this._onMouseLeave.fire(A),_.onMouseDown=A=>this._onMouseDown.fire(A),_.onMouseUp=A=>this._onMouseUp.fire(A),_.onMouseDrag=A=>this._onMouseDrag.fire(A),_.onMouseDrop=A=>this._onMouseDrop.fire(A),_.onMouseDropCanceled=A=>this._onMouseDropCanceled.fire(A),_.onMouseWheel=A=>this._onMouseWheel.fire(A),[new dc(c,this._configuration,this._themeService.getColorTheme(),r,_,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(r){r&&r.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const r=this._modelData.model,c=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),c&&this._domElement.contains(c)&&this._domElement.removeChild(c),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),r}_removeDecorationType(r){this._codeEditorService.removeDecorationType(r)}hasModel(){return null!==this._modelData}};la=function(Te,r,c,_){var ie,y=arguments.length,A=y<3?r:null===_?_=Object.getOwnPropertyDescriptor(r,c):_;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)A=Reflect.decorate(Te,r,c,_);else for(var he=Te.length-1;he>=0;he--)(ie=Te[he])&&(A=(y<3?ie(A):y>3?ie(r,c,A):ie(r,c))||A);return y>3&&A&&Object.defineProperty(r,c,A),A}([Xr(3,Nr.TG),Xr(4,X.$),Xr(5,gd.Hy),Xr(6,md.i6),Xr(7,En.XE),Xr(8,_d.lT),Xr(9,oe.F),Xr(10,Ct.c_),Xr(11,De.p)],la);class As extends C.JT{constructor(){super(),this._onDidChangeToTrue=this._register(new S.Q5),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new S.Q5),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(r){const c=r?2:1;this._value!==c&&(this._value=c,2===this._value?this._onDidChangeToTrue.fire():1===this._value&&this._onDidChangeToFalse.fire())}}class Sc extends C.JT{constructor(r,c){super(),this._editor=r,c.createKey("editorId",r.getId()),this._editorSimpleInput=lo.u.editorSimpleInput.bindTo(c),this._editorFocus=lo.u.focus.bindTo(c),this._textInputFocus=lo.u.textInputFocus.bindTo(c),this._editorTextFocus=lo.u.editorTextFocus.bindTo(c),this._editorTabMovesFocus=lo.u.tabMovesFocus.bindTo(c),this._editorReadonly=lo.u.readOnly.bindTo(c),this._inDiffEditor=lo.u.inDiffEditor.bindTo(c),this._editorColumnSelection=lo.u.columnSelection.bindTo(c),this._hasMultipleSelections=lo.u.hasMultipleSelections.bindTo(c),this._hasNonEmptySelection=lo.u.hasNonEmptySelection.bindTo(c),this._canUndo=lo.u.canUndo.bindTo(c),this._canRedo=lo.u.canRedo.bindTo(c),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const r=this._editor.getOptions();this._editorTabMovesFocus.set(r.get(130)),this._editorReadonly.set(r.get(81)),this._inDiffEditor.set(r.get(54)),this._editorColumnSelection.set(r.get(18))}_updateFromSelection(){const r=this._editor.getSelections();r?(this._hasMultipleSelections.set(r.length>1),this._hasNonEmptySelection.set(r.some(c=>!c.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const r=this._editor.getModel();this._canUndo.set(Boolean(r&&r.canUndo())),this._canRedo.set(Boolean(r&&r.canRedo()))}}class Iu extends C.JT{constructor(r,c,_){super(),this._editor=r,this._contextKeyService=c,this._languageFeaturesService=_,this._langId=lo.u.languageId.bindTo(c),this._hasCompletionItemProvider=lo.u.hasCompletionItemProvider.bindTo(c),this._hasCodeActionsProvider=lo.u.hasCodeActionsProvider.bindTo(c),this._hasCodeLensProvider=lo.u.hasCodeLensProvider.bindTo(c),this._hasDefinitionProvider=lo.u.hasDefinitionProvider.bindTo(c),this._hasDeclarationProvider=lo.u.hasDeclarationProvider.bindTo(c),this._hasImplementationProvider=lo.u.hasImplementationProvider.bindTo(c),this._hasTypeDefinitionProvider=lo.u.hasTypeDefinitionProvider.bindTo(c),this._hasHoverProvider=lo.u.hasHoverProvider.bindTo(c),this._hasDocumentHighlightProvider=lo.u.hasDocumentHighlightProvider.bindTo(c),this._hasDocumentSymbolProvider=lo.u.hasDocumentSymbolProvider.bindTo(c),this._hasReferenceProvider=lo.u.hasReferenceProvider.bindTo(c),this._hasRenameProvider=lo.u.hasRenameProvider.bindTo(c),this._hasSignatureHelpProvider=lo.u.hasSignatureHelpProvider.bindTo(c),this._hasInlayHintsProvider=lo.u.hasInlayHintsProvider.bindTo(c),this._hasDocumentFormattingProvider=lo.u.hasDocumentFormattingProvider.bindTo(c),this._hasDocumentSelectionFormattingProvider=lo.u.hasDocumentSelectionFormattingProvider.bindTo(c),this._hasMultipleDocumentFormattingProvider=lo.u.hasMultipleDocumentFormattingProvider.bindTo(c),this._hasMultipleDocumentSelectionFormattingProvider=lo.u.hasMultipleDocumentSelectionFormattingProvider.bindTo(c),this._isInWalkThrough=lo.u.isInWalkThroughSnippet.bindTo(c);const y=()=>this._update();this._register(r.onDidChangeModel(y)),this._register(r.onDidChangeModelLanguage(y)),this._register(_.completionProvider.onDidChange(y)),this._register(_.codeActionProvider.onDidChange(y)),this._register(_.codeLensProvider.onDidChange(y)),this._register(_.definitionProvider.onDidChange(y)),this._register(_.declarationProvider.onDidChange(y)),this._register(_.implementationProvider.onDidChange(y)),this._register(_.typeDefinitionProvider.onDidChange(y)),this._register(_.hoverProvider.onDidChange(y)),this._register(_.documentHighlightProvider.onDidChange(y)),this._register(_.documentSymbolProvider.onDidChange(y)),this._register(_.referenceProvider.onDidChange(y)),this._register(_.renameProvider.onDidChange(y)),this._register(_.documentFormattingEditProvider.onDidChange(y)),this._register(_.documentRangeFormattingEditProvider.onDidChange(y)),this._register(_.signatureHelpProvider.onDidChange(y)),this._register(_.inlayHintsProvider.onDidChange(y)),y()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const r=this._editor.getModel();r?this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(r.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(r)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(r)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(r)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(r)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(r)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(r)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(r)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(r)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(r)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(r)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(r)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(r)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(r)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(r)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(r)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(r)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(r)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(r).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(r).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(r).length>1),this._isInWalkThrough.set(r.uri.scheme===b.lg.walkThroughSnippet)}):this.reset()}}class ku extends C.JT{constructor(r){super(),this._onChange=this._register(new S.Q5),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(F.go(r)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}const Vh=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),Bn=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function Tt(Te){return Vh+encodeURIComponent(Te.toString())+Bn}const ca=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),di=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');(0,En.Ic)((Te,r)=>{const c=Te.getColor(ao.b6y);c&&r.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${c}; }`);const _=Te.getColor(ao.lXJ);_&&r.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${Tt(_)}") repeat-x bottom left; }`);const y=Te.getColor(ao.L_H);y&&r.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${y}; }`);const A=Te.getColor(ao.pW3);A&&r.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${A}; }`);const ie=Te.getColor(ao.uoC);ie&&r.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${Tt(ie)}") repeat-x bottom left; }`);const he=Te.getColor(ao.gpD);he&&r.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${he}; }`);const ye=Te.getColor(ao.T83);ye&&r.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${ye}; }`);const Le=Te.getColor(ao.c63);Le&&r.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${Tt(Le)}") repeat-x bottom left; }`);const Ie=Te.getColor(ao.few);Ie&&r.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${Ie}; }`);const ze=Te.getColor(ao.fEB);ze&&r.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${ze}; }`);const qe=Te.getColor(ao.Dut);qe&&r.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${function(Te){return ca+encodeURIComponent(Te.toString())+di}(qe)}") no-repeat bottom left; }`);const ot=Te.getColor(Kt.zu);ot&&r.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${ot.rgba.a}; }`);const bt=Te.getColor(Kt.kp);bt&&r.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${bt}; }`);const xt=Te.getColor(ao.NOs)||"inherit";r.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${xt}}`)})},87155:(Be,Me,m)=>{m.d(Me,{p:()=>cn}),m(13401);var le,g=m(12918),Y=m(86678),B=m(81718),E=m(54789),i=m(89983),O=m(71040),F=m(40189),T=m(6809),S=m(78622),C=m(57623),b=m(17703),f=(m(58964),m(60291)),N=m(6491),z=m(50955),D=m(44346),I=m(52925),Z=m(5928),P=m(67947),k=m(79695),$=m(19362),j=m(42483),G=m(6461),oe=m(98275),de=m(53323),fe=m(78968),pe=m(80974),we=m(80810);class X{constructor(Ae,Xe,dt,Mt){this.originalLineStart=Ae,this.originalLineEnd=Xe,this.modifiedLineStart=dt,this.modifiedLineEnd=Mt}getType(){return 0===this.originalLineStart?1:0===this.modifiedLineStart?2:0}}class re{constructor(Ae){this.entries=Ae}}const ce=(0,pe.q5)("diff-review-insert",fe.lA.add,g.N("diffReviewInsertIcon","Icon for 'Insert' in diff review.")),ve=(0,pe.q5)("diff-review-remove",fe.lA.remove,g.N("diffReviewRemoveIcon","Icon for 'Remove' in diff review.")),ke=(0,pe.q5)("diff-review-close",fe.lA.close,g.N("diffReviewCloseIcon","Icon for 'Close' in diff review."));let Ve=class fu extends F.JT{constructor(Ae,Xe){super(),this._languageService=Xe,this._width=0,this._diffEditor=Ae,this._isVisible=!1,this.shadow=(0,B.X)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,B.X)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new f.o(this.actionBarContainer.domNode)),this._actionBar.push(new z.aU("diffreview.close",g.N("label.close","Close"),"close-diff-review "+de.kS.asClassName(ke),!0,()=>function(Ht,Ae,Xe,dt){return new(Xe||(Xe=Promise))(function(Vt,jt){function rn(yn){try{vn(dt.next(yn))}catch(Sn){jt(Sn)}}function wn(yn){try{vn(dt.throw(yn))}catch(Sn){jt(Sn)}}function vn(yn){yn.done?Vt(yn.value):function(Vt){return Vt instanceof Xe?Vt:new Xe(function(jt){jt(Vt)})}(yn.value).then(rn,wn)}vn((dt=dt.apply(Ht,Ae||[])).next())})}(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=(0,B.X)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=(0,B.X)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new N.s$(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(Ae.onDidUpdateDiff(()=>{!this._isVisible||(this._diffs=this._compute(),this._render())})),this._register(Ae.getModifiedEditor().onDidChangeCursorPosition(()=>{!this._isVisible||this._render()})),this._register(Y.mu(this.domNode.domNode,"click",dt=>{dt.preventDefault();const Mt=Y.Fx(dt.target,"diff-review-row");Mt&&this._goToRow(Mt)})),this._register(Y.mu(this.domNode.domNode,"keydown",dt=>{(dt.equals(18)||dt.equals(2066)||dt.equals(530))&&(dt.preventDefault(),this._goToRow(this._getNextRow())),(dt.equals(16)||dt.equals(2064)||dt.equals(528))&&(dt.preventDefault(),this._goToRow(this._getPrevRow())),(dt.equals(9)||dt.equals(2057)||dt.equals(521)||dt.equals(1033))&&(dt.preventDefault(),this.hide()),(dt.equals(10)||dt.equals(3))&&(dt.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let Ae=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let dt=-1;for(let Mt=0,Vt=this._diffs.length;Mt<Vt;Mt++)if(this._diffs[Mt]===this._currentDiff){dt=Mt;break}Ae=this._diffs.length+dt-1}else Ae=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;Ae%=this._diffs.length;const Xe=this._diffs[Ae].entries;this._diffEditor.setPosition(new P.L(Xe[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:Xe[0].modifiedLineStart,endColumn:1073741824,endLineNumber:Xe[Xe.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let Ae=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let dt=-1;for(let Mt=0,Vt=this._diffs.length;Mt<Vt;Mt++)if(this._diffs[Mt]===this._currentDiff){dt=Mt;break}Ae=dt+1}else Ae=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;Ae%=this._diffs.length;const Xe=this._diffs[Ae].entries;this._diffEditor.setPosition(new P.L(Xe[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:Xe[0].modifiedLineStart,endColumn:1073741824,endLineNumber:Xe[Xe.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let Ae=-1;const Xe=this._getCurrentFocusedRow();if(Xe){const dt=parseInt(Xe.getAttribute("data-line"),10);isNaN(dt)||(Ae=dt)}this.hide(),-1!==Ae&&(this._diffEditor.setPosition(new P.L(Ae,1)),this._diffEditor.revealPosition(new P.L(Ae,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){const Ae=this._getCurrentFocusedRow();return Ae?Ae.previousElementSibling?Ae.previousElementSibling:Ae:this._getFirstRow()}_getNextRow(){const Ae=this._getCurrentFocusedRow();return Ae?Ae.nextElementSibling?Ae.nextElementSibling:Ae:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){const Ae=document.activeElement;return Ae&&/diff-review-row/.test(Ae.className)?Ae:null}_goToRow(Ae){const Xe=this._getCurrentFocusedRow();Ae.tabIndex=0,Ae.focus(),Xe&&Xe!==Ae&&(Xe.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(Ae,Xe,dt){this._width=Xe,this.shadow.setTop(Ae-6),this.shadow.setWidth(Xe),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(Ae),this.domNode.setWidth(Xe),this.domNode.setHeight(dt),this._content.setHeight(dt),this._content.setWidth(Xe),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const Ae=this._diffEditor.getLineChanges();if(!Ae||0===Ae.length)return[];const Xe=this._diffEditor.getOriginalEditor().getModel(),dt=this._diffEditor.getModifiedEditor().getModel();return Xe&&dt?fu._mergeAdjacent(Ae,Xe.getLineCount(),dt.getLineCount()):[]}static _mergeAdjacent(Ae,Xe,dt){if(!Ae||0===Ae.length)return[];const Mt=[];let Vt=0;for(let vn=0,yn=Ae.length;vn<yn;vn++){const Sn=Ae[vn],xn=Sn.originalStartLineNumber,Kt=Sn.originalEndLineNumber,En=Sn.modifiedStartLineNumber,Mn=Sn.modifiedEndLineNumber,Hn=[];let Jn=0;{const mi=0===Kt?xn:xn-1,Li=0===Mn?En:En-1;let Nn=1,Ni=1;if(vn>0){const kn=Ae[vn-1];Nn=0===kn.originalEndLineNumber?kn.originalStartLineNumber+1:kn.originalEndLineNumber+1,Ni=0===kn.modifiedEndLineNumber?kn.modifiedStartLineNumber+1:kn.modifiedEndLineNumber+1}let ai=mi-3+1,pi=Li-3+1;if(ai<Nn){const kn=Nn-ai;ai+=kn,pi+=kn}if(pi<Ni){const kn=Ni-pi;ai+=kn,pi+=kn}Hn[Jn++]=new X(ai,mi,pi,Li)}0!==Kt&&(Hn[Jn++]=new X(xn,Kt,0,0)),0!==Mn&&(Hn[Jn++]=new X(0,0,En,Mn));{const mi=0===Kt?xn+1:Kt+1,Li=0===Mn?En+1:Mn+1;let Nn=Xe,Ni=dt;if(vn+1<yn){const kn=Ae[vn+1];Nn=0===kn.originalEndLineNumber?kn.originalStartLineNumber:kn.originalStartLineNumber-1,Ni=0===kn.modifiedEndLineNumber?kn.modifiedStartLineNumber:kn.modifiedStartLineNumber-1}let ai=mi+3-1,pi=Li+3-1;if(ai>Nn){const kn=Nn-ai;ai+=kn,pi+=kn}if(pi>Ni){const kn=Ni-pi;ai+=kn,pi+=kn}Hn[Jn++]=new X(mi,ai,Li,pi)}Mt[Vt++]=new re(Hn)}let jt=Mt[0].entries;const rn=[];let wn=0;for(let vn=1,yn=Mt.length;vn<yn;vn++){const Sn=Mt[vn].entries,xn=jt[jt.length-1],Kt=Sn[0];0===xn.getType()&&0===Kt.getType()&&Kt.originalLineStart<=xn.originalLineEnd?(jt[jt.length-1]=new X(xn.originalLineStart,Kt.originalLineEnd,xn.modifiedLineStart,Kt.modifiedLineEnd),jt=jt.concat(Sn.slice(1))):(rn[wn++]=new re(jt),jt=Sn)}return rn[wn++]=new re(jt),rn}_findDiffIndex(Ae){const Xe=Ae.lineNumber;for(let dt=0,Mt=this._diffs.length;dt<Mt;dt++){const Vt=this._diffs[dt].entries;if(Xe<=Vt[Vt.length-1].modifiedLineEnd)return dt}return 0}_render(){const Ae=this._diffEditor.getOriginalEditor().getOptions(),Xe=this._diffEditor.getModifiedEditor().getOptions(),dt=this._diffEditor.getOriginalEditor().getModel(),Mt=this._diffEditor.getModifiedEditor().getModel(),Vt=dt.getOptions(),jt=Mt.getOptions();if(!this._isVisible||!dt||!Mt)return Y.PO(this._content.domNode),this._currentDiff=null,void this.scrollbar.scanDomNode();this._diffEditor.updateOptions({readOnly:!0});const rn=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[rn]===this._currentDiff)return;this._currentDiff=this._diffs[rn];const wn=this._diffs[rn].entries,vn=document.createElement("div");vn.className="diff-review-table",vn.setAttribute("role","list"),vn.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),(0,T.N)(vn,Xe.get(44));let yn=0,Sn=0,xn=0,Kt=0;for(let pi=0,kn=wn.length;pi<kn;pi++){const _i=wn[pi],Ti=_i.originalLineStart,bi=_i.originalLineEnd,Yi=_i.modifiedLineStart,zn=_i.modifiedLineEnd;0!==Ti&&(0===yn||Ti<yn)&&(yn=Ti),0!==bi&&(0===Sn||bi>Sn)&&(Sn=bi),0!==Yi&&(0===xn||Yi<xn)&&(xn=Yi),0!==zn&&(0===Kt||zn>Kt)&&(Kt=zn)}const En=document.createElement("div");En.className="diff-review-row";const Mn=document.createElement("div");Mn.className="diff-review-cell diff-review-summary";const Hn=Sn-yn+1,Jn=Kt-xn+1;Mn.appendChild(document.createTextNode(`${rn+1}/${this._diffs.length}: @@ -${yn},${Hn} +${xn},${Jn} @@`)),En.setAttribute("data-line",String(xn));const mi=pi=>0===pi?g.N("no_lines_changed","no lines changed"):1===pi?g.N("one_line_changed","1 line changed"):g.N("more_lines_changed","{0} lines changed",pi),Li=mi(Hn),Nn=mi(Jn);En.setAttribute("aria-label",g.N({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",rn+1,this._diffs.length,yn,Li,xn,Nn)),En.appendChild(Mn),En.setAttribute("role","listitem"),vn.appendChild(En);const Ni=Xe.get(59);let ai=xn;for(let pi=0,kn=wn.length;pi<kn;pi++){const _i=wn[pi];fu._renderSection(vn,_i,ai,Ni,this._width,Ae,dt,Vt,Xe,Mt,jt,this._languageService.languageIdCodec),0!==_i.modifiedLineStart&&(ai=_i.modifiedLineEnd)}Y.PO(this._content.domNode),this._content.domNode.appendChild(vn),this.scrollbar.scanDomNode()}static _renderSection(Ae,Xe,dt,Mt,Vt,jt,rn,wn,vn,yn,Sn,xn){const Kt=Xe.getType();let En="diff-review-row",Mn="",Jn=null;switch(Kt){case 1:En="diff-review-row line-insert",Mn=" char-insert",Jn=ce;break;case 2:En="diff-review-row line-delete",Mn=" char-delete",Jn=ve}const mi=Xe.originalLineStart,Nn=Xe.modifiedLineStart,ai=Math.max(Xe.modifiedLineEnd-Nn,Xe.originalLineEnd-mi),pi=jt.get(131),kn=pi.glyphMarginWidth+pi.lineNumbersWidth,_i=vn.get(131),Ti=10+_i.glyphMarginWidth+_i.lineNumbersWidth;for(let bi=0;bi<=ai;bi++){const Yi=0===mi?0:mi+bi,zn=0===Nn?0:Nn+bi,Ii=document.createElement("div");Ii.style.minWidth=Vt+"px",Ii.className=En,Ii.setAttribute("role","listitem"),0!==zn&&(dt=zn),Ii.setAttribute("data-line",String(dt));const so=document.createElement("div");so.className="diff-review-cell",so.style.height=`${Mt}px`,Ii.appendChild(so);const ei=document.createElement("span");ei.style.width=kn+"px",ei.style.minWidth=kn+"px",ei.className="diff-review-line-number"+Mn,0!==Yi?ei.appendChild(document.createTextNode(String(Yi))):ei.innerText="\xa0",so.appendChild(ei);const go=document.createElement("span");go.style.width=Ti+"px",go.style.minWidth=Ti+"px",go.style.paddingRight="10px",go.className="diff-review-line-number"+Mn,0!==zn?go.appendChild(document.createTextNode(String(zn))):go.innerText="\xa0",so.appendChild(go);const Di=document.createElement("span");if(Di.className="diff-review-spacer",Jn){const vo=document.createElement("span");vo.className=de.kS.asClassName(Jn),vo.innerText="\xa0\xa0",Di.appendChild(vo)}else Di.innerText="\xa0\xa0";let Mo;if(so.appendChild(Di),0!==zn){let vo=this._renderLine(yn,vn,Sn.tabSize,zn,xn);fu._ttPolicy&&(vo=fu._ttPolicy.createHTML(vo)),so.insertAdjacentHTML("beforeend",vo),Mo=yn.getLineContent(zn)}else{let vo=this._renderLine(rn,jt,wn.tabSize,Yi,xn);fu._ttPolicy&&(vo=fu._ttPolicy.createHTML(vo)),so.insertAdjacentHTML("beforeend",vo),Mo=rn.getLineContent(Yi)}0===Mo.length&&(Mo=g.N("blankLine","blank"));let bo="";switch(Kt){case 0:bo=Yi===zn?g.N({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",Mo,Yi):g.N("equalLine","{0} original line {1} modified line {2}",Mo,Yi,zn);break;case 1:bo=g.N("insertLine","+ {0} modified line {1}",Mo,zn);break;case 2:bo=g.N("deleteLine","- {0} original line {1}",Mo,Yi)}Ii.setAttribute("aria-label",bo),Ae.appendChild(Ii)}}static _renderLine(Ae,Xe,dt,Mt,Vt){const jt=Ae.getLineContent(Mt),rn=Xe.get(44),wn=Z.A.createEmpty(jt,Vt),vn=j.wA.isBasicASCII(jt,Ae.mightContainNonBasicASCII()),yn=j.wA.containsRTL(jt,vn,Ae.mightContainRTL());return(0,$.tF)(new $.IJ(rn.isMonospace&&!Xe.get(29),rn.canUseHalfwidthRightwardsArrow,jt,!1,vn,yn,0,wn,[],dt,0,rn.spaceWidth,rn.middotWidth,rn.wsmiddotWidth,Xe.get(105),Xe.get(88),Xe.get(83),Xe.get(45)!==I.n0.OFF,null)).html}};var Ae;function _e(Ht){const Ae=Ht.get(C.$),Xe=Ae.listDiffEditors(),dt=Ae.getActiveCodeEditor();if(!dt)return null;for(let Mt=0,Vt=Xe.length;Mt<Vt;Mt++){const jt=Xe[Mt];if(jt.getModifiedEditor().getId()===dt.getId()||jt.getOriginalEditor().getId()===dt.getId())return jt}return null}Ve._ttPolicy=null===(le=window.trustedTypes)||void 0===le?void 0:le.createPolicy("diffReview",{createHTML:Ht=>Ht}),Ve=function(Ht,Ae,Xe,dt){var jt,Mt=arguments.length,Vt=Mt<3?Ae:null===dt?dt=Object.getOwnPropertyDescriptor(Ae,Xe):dt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Vt=Reflect.decorate(Ht,Ae,Xe,dt);else for(var rn=Ht.length-1;rn>=0;rn--)(jt=Ht[rn])&&(Vt=(Mt<3?jt(Vt):Mt>3?jt(Ae,Xe,Vt):jt(Ae,Xe))||Vt);return Mt>3&&Vt&&Object.defineProperty(Ae,Xe,Vt),Vt}([(1,Ae=we.O,function(Xe,dt){Ae(Xe,dt,1)})],Ve),(0,de.Ic)((Ht,Ae)=>{const Xe=Ht.getColor(k.hw);Xe&&Ae.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${Xe}; }`);const dt=Ht.getColor(oe._wn);dt&&Ae.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${dt} 0 -6px 6px -6px inset; }`)}),(0,D.Qr)(class extends D.R6{constructor(){super({id:"editor.action.diffReview.next",label:g.N("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:G.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(Ae,Xe){const dt=_e(Ae);dt&&dt.diffReviewNext()}}),(0,D.Qr)(class extends D.R6{constructor(){super({id:"editor.action.diffReview.prev",label:g.N("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:G.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})}run(Ae,Xe){const dt=_e(Ae);dt&&dt.diffReviewPrev()}});var Re=m(1873),et=m(53269),Ze=m(3760),Pe=m(45023),rt=m(78339),ut=m(31321),nt=m(82287),Se=m(43569),Ne=m(9771),at=m(8135),_t=m(9719),zt=function(Ht,Ae,Xe,dt){return new(Xe||(Xe=Promise))(function(Vt,jt){function rn(yn){try{vn(dt.next(yn))}catch(Sn){jt(Sn)}}function wn(yn){try{vn(dt.throw(yn))}catch(Sn){jt(Sn)}}function vn(yn){yn.done?Vt(yn.value):function(Vt){return Vt instanceof Xe?Vt:new Xe(function(jt){jt(Vt)})}(yn.value).then(rn,wn)}vn((dt=dt.apply(Ht,Ae||[])).next())})};class pn extends F.JT{constructor(Ae,Xe,dt,Mt,Vt,jt){super(),this._viewZoneId=Ae,this._marginDomNode=Xe,this.editor=dt,this.diff=Mt,this._contextMenuService=Vt,this._clipboardService=jt,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=fe.lA.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const rn=dt.getOption(59),wn=dt.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${rn}px`,this._diffActions.style.lineHeight=`${rn}px`,this._marginDomNode.appendChild(this._diffActions);const vn=[],yn=0===Mt.modifiedEndLineNumber;vn.push(new z.aU("diff.clipboard.copyDeletedContent",yn?Mt.originalEndLineNumber>Mt.modifiedStartLineNumber?g.N("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):g.N("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):Mt.originalEndLineNumber>Mt.modifiedStartLineNumber?g.N("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):g.N("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,()=>zt(this,void 0,void 0,function*(){const Mn=new Re.e(Mt.originalStartLineNumber,1,Mt.originalEndLineNumber+1,1),Hn=Mt.originalModel.getValueInRange(Mn);yield this._clipboardService.writeText(Hn)})));let xn,Sn=0;Mt.originalEndLineNumber>Mt.modifiedStartLineNumber&&(xn=new z.aU("diff.clipboard.copyDeletedLineContent",yn?g.N("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",Mt.originalStartLineNumber):g.N("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",Mt.originalStartLineNumber),void 0,!0,()=>zt(this,void 0,void 0,function*(){const Mn=Mt.originalModel.getLineContent(Mt.originalStartLineNumber+Sn);if(""===Mn){const Hn=Mt.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(0===Hn?"\n":"\r\n")}else yield this._clipboardService.writeText(Mn)})),vn.push(xn)),dt.getOption(81)||vn.push(new z.aU("diff.inline.revertChange",g.N("diff.inline.revertChange.label","Revert this change"),void 0,!0,()=>zt(this,void 0,void 0,function*(){const Mn=new Re.e(Mt.originalStartLineNumber,1,Mt.originalEndLineNumber,Mt.originalModel.getLineMaxColumn(Mt.originalEndLineNumber)),Hn=Mt.originalModel.getValueInRange(Mn);if(0===Mt.modifiedEndLineNumber){const Jn=dt.getModel().getLineMaxColumn(Mt.modifiedStartLineNumber);dt.executeEdits("diffEditor",[{range:new Re.e(Mt.modifiedStartLineNumber,Jn,Mt.modifiedStartLineNumber,Jn),text:wn+Hn}])}else{const Jn=dt.getModel().getLineMaxColumn(Mt.modifiedEndLineNumber);dt.executeEdits("diffEditor",[{range:new Re.e(Mt.modifiedStartLineNumber,1,Mt.modifiedEndLineNumber,Jn),text:Hn}])}})));const En=(Mn,Hn)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:Mn,y:Hn}),getActions:()=>(xn&&(xn.label=yn?g.N("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",Mt.originalStartLineNumber+Sn):g.N("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",Mt.originalStartLineNumber+Sn)),vn),autoSelectFirstItem:!0})};this._register(Y.mu(this._diffActions,"mousedown",Mn=>{const{top:Hn,height:Jn}=Y.i(this._diffActions),mi=Math.floor(rn/3);Mn.preventDefault(),En(Mn.posx,Hn+Jn+mi)})),this._register(dt.onMouseMove(Mn=>{8!==Mn.target.type&&5!==Mn.target.type||Mn.target.detail.viewZoneId!==this._viewZoneId?this.visibility=!1:(this.visibility=!0,Sn=this._updateLightBulbPosition(this._marginDomNode,Mn.event.browserEvent.y,rn))})),this._register(dt.onMouseDown(Mn=>{!Mn.event.rightButton||(8===Mn.target.type||5===Mn.target.type)&&Mn.target.detail.viewZoneId===this._viewZoneId&&(Mn.event.preventDefault(),Sn=this._updateLightBulbPosition(this._marginDomNode,Mn.event.browserEvent.y,rn),En(Mn.event.posx,Mn.event.posy+rn))}))}get visibility(){return this._visibility}set visibility(Ae){this._visibility!==Ae&&(this._visibility=Ae,this._diffActions.style.visibility=Ae?"visible":"hidden")}_updateLightBulbPosition(Ae,Xe,dt){const{top:Mt}=Y.i(Ae),jt=Math.floor((Xe-Mt)/dt);if(this._diffActions.style.top=jt*dt+"px",this.diff.viewLineCounts){let wn=0;for(let vn=0;vn<this.diff.viewLineCounts.length;vn++)if(wn+=this.diff.viewLineCounts[vn],jt<wn)return vn}return jt}}var St,mt=m(37323),Rt=m(13226),Bt=m(24763),Wt=m(1607),fn=m(2450),Dt=function(Ht,Ae){return function(Xe,dt){Ae(Xe,dt,Ht)}};class un{constructor(Ae,Xe){this._contextMenuService=Ae,this._clipboardService=Xe,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(Ae){return Ae.filter(Xe=>!this._zonesMap[String(Xe.id)])}clean(Ae){this._zones.length>0&&Ae.changeViewZones(Xe=>{for(const dt of this._zones)Xe.removeZone(dt)}),this._zones=[],this._zonesMap={},this._decorations=Ae.deltaDecorations(this._decorations,[])}apply(Ae,Xe,dt,Mt){const Vt=Mt?S.Z.capture(Ae):null;Ae.changeViewZones(jt=>{var rn;for(const wn of this._zones)jt.removeZone(wn);for(const wn of this._inlineDiffMargins)wn.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let wn=0,vn=dt.zones.length;wn<vn;wn++){const yn=dt.zones[wn];yn.suppressMouseDown=!0;const Sn=jt.addZone(yn);this._zones.push(Sn),this._zonesMap[String(Sn)]=!0,dt.zones[wn].diff&&yn.marginDomNode&&(yn.suppressMouseDown=!1,0!==(null===(rn=dt.zones[wn].diff)||void 0===rn?void 0:rn.originalModel.getValueLength())&&this._inlineDiffMargins.push(new pn(Sn,yn.marginDomNode,Ae,dt.zones[wn].diff,this._contextMenuService,this._clipboardService)))}}),Vt&&Vt.restore(Ae),this._decorations=Ae.deltaDecorations(this._decorations,dt.decorations),Xe&&Xe.setZones(dt.overviewZones)}}let Ln=0;const sn=(0,pe.q5)("diff-insert",fe.lA.add,g.N("diffInsertIcon","Line decoration for inserts in the diff editor.")),hn=(0,pe.q5)("diff-remove",fe.lA.remove,g.N("diffRemoveIcon","Line decoration for removals in the diff editor.")),_n=null===(St=window.trustedTypes)||void 0===St?void 0:St.createPolicy("diffEditorWidget",{createHTML:Ht=>Ht});let cn=class Hs extends F.JT{constructor(Ae,Xe,dt,Mt,Vt,jt,rn,wn,vn,yn,Sn,xn){super(),this._editorProgressService=xn,this._onDidDispose=this._register(new O.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new O.Q5),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new O.Q5),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=Vt,this._codeEditorService=wn,this._contextKeyService=this._register(jt.createScoped(Ae)),this._instantiationService=rn.createChild(new Ne.y([G.i6,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=vn,this._notificationService=yn,this._id=++Ln,this._state=0,this._updatingDiffProgress=null,this._domElement=Ae,this._options=en(Xe=Xe||{},{enableSplitViewResizing:!0,renderSideBySide:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit"}),this._contextKeyService.createKey("isInEmbeddedDiffEditor",void 0!==Xe.isInEmbeddedEditor&&Xe.isInEmbeddedEditor),this._updateDecorationsRunner=this._register(new i.pY(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=Hs._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=(0,B.X)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(Y.mu(this._overviewDomElement,"mousedown",En=>{this._modifiedEditor.delegateVerticalScrollbarMouseDown(En)})),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new un(Sn,Mt),this._modifiedEditorState=new un(Sn,Mt),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new Wt.I(this._containerDomElement,Xe.dimension)),this._register(this._elementSizeObserver.onDidChange(()=>this._onDidContainerSizeChanged())),Xe.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(Xe,dt.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(Xe,dt.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=rn.createInstance(Ve,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._setStrategy(this._options.renderSideBySide?new qt(this._createDataSource(),this._options.enableSplitViewResizing):new ni(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(vn.onDidColorThemeChange(En=>{this._strategy&&this._strategy.applyColors(En)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=Hs._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)}));const Kt=D.Uc.getDiffEditorContributions();for(const En of Kt)try{this._register(rn.createInstance(En.ctor,this))}catch(Mn){(0,Rt.dL)(Mn)}this._codeEditorService.addDiffEditor(this)}_setState(Ae){this._state!==Ae&&(this._state=Ae,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),1===this._state&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(Ae,Xe){let dt="monaco-diff-editor monaco-editor-background ";return Xe&&(dt+="side-by-side "),dt+=(0,de.m6)(Ae.type),dt}_recreateOverviewRulers(){!this._options.renderOverviewRuler||(this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(Ae,Xe){const dt=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(Ae),Xe);this._register(dt.onDidScrollChange(Vt=>{this._isHandlingScrollEvent||!Vt.scrollTopChanged&&!Vt.scrollLeftChanged&&!Vt.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:Vt.scrollLeft,scrollTop:Vt.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(dt.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(dt.onDidChangeConfiguration(Vt=>{!dt.getModel()||(Vt.hasChanged(44)&&this._updateDecorationsRunner.schedule(),Vt.hasChanged(132)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(dt.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(dt.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const Mt=this._contextKeyService.createKey("isInDiffLeftEditor",dt.hasWidgetFocus());return this._register(dt.onDidFocusEditorWidget(()=>Mt.set(!0))),this._register(dt.onDidBlurEditorWidget(()=>Mt.set(!1))),this._register(dt.onDidContentSizeChange(Vt=>{const jt=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+Hs.ONE_OVERVIEW_WIDTH,rn=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:rn,contentWidth:jt,contentHeightChanged:Vt.contentHeightChanged,contentWidthChanged:Vt.contentWidthChanged})})),dt}_createRightHandSideEditor(Ae,Xe){const dt=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(Ae),Xe);this._register(dt.onDidScrollChange(Vt=>{this._isHandlingScrollEvent||!Vt.scrollTopChanged&&!Vt.scrollLeftChanged&&!Vt.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:Vt.scrollLeft,scrollTop:Vt.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(dt.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(dt.onDidChangeConfiguration(Vt=>{!dt.getModel()||(Vt.hasChanged(44)&&this._updateDecorationsRunner.schedule(),Vt.hasChanged(132)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(dt.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(dt.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(dt.onDidChangeModelOptions(Vt=>{Vt.tabSize&&this._updateDecorationsRunner.schedule()}));const Mt=this._contextKeyService.createKey("isInDiffRightEditor",dt.hasWidgetFocus());return this._register(dt.onDidFocusEditorWidget(()=>Mt.set(!0))),this._register(dt.onDidBlurEditorWidget(()=>Mt.set(!1))),this._register(dt.onDidContentSizeChange(Vt=>{const jt=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+Hs.ONE_OVERVIEW_WIDTH,rn=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:rn,contentWidth:jt,contentHeightChanged:Vt.contentHeightChanged,contentWidthChanged:Vt.contentWidthChanged})})),dt}_createInnerEditor(Ae,Xe,dt,Mt){return Ae.createInstance(b.Gm,Xe,dt,Mt)}dispose(){this._codeEditorService.removeDiffEditor(this),-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return Ze.g.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(Ae){const Xe=en(Ae,this._options),dt=function(Ht,Ae){return{enableSplitViewResizing:Ht.enableSplitViewResizing!==Ae.enableSplitViewResizing,renderSideBySide:Ht.renderSideBySide!==Ae.renderSideBySide,maxComputationTime:Ht.maxComputationTime!==Ae.maxComputationTime,maxFileSize:Ht.maxFileSize!==Ae.maxFileSize,ignoreTrimWhitespace:Ht.ignoreTrimWhitespace!==Ae.ignoreTrimWhitespace,renderIndicators:Ht.renderIndicators!==Ae.renderIndicators,originalEditable:Ht.originalEditable!==Ae.originalEditable,diffCodeLens:Ht.diffCodeLens!==Ae.diffCodeLens,renderOverviewRuler:Ht.renderOverviewRuler!==Ae.renderOverviewRuler,diffWordWrap:Ht.diffWordWrap!==Ae.diffWordWrap}}(this._options,Xe);this._options=Xe;const Vt=this._isVisible&&(dt.maxComputationTime||dt.maxFileSize);dt.ignoreTrimWhitespace||dt.renderIndicators?this._beginUpdateDecorations():Vt&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(Ae)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(Ae)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing),dt.renderSideBySide&&(this._setStrategy(this._options.renderSideBySide?new qt(this._createDataSource(),this._options.enableSplitViewResizing):new ni(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=Hs._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),dt.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(Ae){if(Ae&&(!Ae.original||!Ae.modified))throw new Error(Ae.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._originalEditor.setModel(Ae?Ae.original:null),this._modifiedEditor.setModel(Ae?Ae.modified:null),this._updateDecorationsRunner.cancel(),Ae&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),Ae&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getContainerDomNode(){return this._domElement}getVisibleColumnFromPosition(Ae){return this._modifiedEditor.getVisibleColumnFromPosition(Ae)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(Ae,Xe="api"){this._modifiedEditor.setPosition(Ae,Xe)}revealLine(Ae,Xe=0){this._modifiedEditor.revealLine(Ae,Xe)}revealLineInCenter(Ae,Xe=0){this._modifiedEditor.revealLineInCenter(Ae,Xe)}revealLineInCenterIfOutsideViewport(Ae,Xe=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(Ae,Xe)}revealLineNearTop(Ae,Xe=0){this._modifiedEditor.revealLineNearTop(Ae,Xe)}revealPosition(Ae,Xe=0){this._modifiedEditor.revealPosition(Ae,Xe)}revealPositionInCenter(Ae,Xe=0){this._modifiedEditor.revealPositionInCenter(Ae,Xe)}revealPositionInCenterIfOutsideViewport(Ae,Xe=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(Ae,Xe)}revealPositionNearTop(Ae,Xe=0){this._modifiedEditor.revealPositionNearTop(Ae,Xe)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(Ae,Xe="api"){this._modifiedEditor.setSelection(Ae,Xe)}setSelections(Ae,Xe="api"){this._modifiedEditor.setSelections(Ae,Xe)}revealLines(Ae,Xe,dt=0){this._modifiedEditor.revealLines(Ae,Xe,dt)}revealLinesInCenter(Ae,Xe,dt=0){this._modifiedEditor.revealLinesInCenter(Ae,Xe,dt)}revealLinesInCenterIfOutsideViewport(Ae,Xe,dt=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(Ae,Xe,dt)}revealLinesNearTop(Ae,Xe,dt=0){this._modifiedEditor.revealLinesNearTop(Ae,Xe,dt)}revealRange(Ae,Xe=0,dt=!1,Mt=!0){this._modifiedEditor.revealRange(Ae,Xe,dt,Mt)}revealRangeInCenter(Ae,Xe=0){this._modifiedEditor.revealRangeInCenter(Ae,Xe)}revealRangeInCenterIfOutsideViewport(Ae,Xe=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(Ae,Xe)}revealRangeNearTop(Ae,Xe=0){this._modifiedEditor.revealRangeNearTop(Ae,Xe)}revealRangeNearTopIfOutsideViewport(Ae,Xe=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(Ae,Xe)}revealRangeAtTop(Ae,Xe=0){this._modifiedEditor.revealRangeAtTop(Ae,Xe)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){return{original:this._originalEditor.saveViewState(),modified:this._modifiedEditor.saveViewState()}}restoreViewState(Ae){if(Ae&&Ae.original&&Ae.modified){const Xe=Ae;this._originalEditor.restoreViewState(Xe.original),this._modifiedEditor.restoreViewState(Xe.modified)}}layout(Ae){this._elementSizeObserver.observe(Ae)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(Ae,Xe,dt){this._modifiedEditor.trigger(Ae,Xe,dt)}changeDecorations(Ae){return this._modifiedEditor.changeDecorations(Ae)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const Ae=this._elementSizeObserver.getHeight(),Xe=this._getReviewHeight(),dt=Hs.ENTIRE_DIFF_OVERVIEW_WIDTH-2*Hs.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:Hs.ONE_OVERVIEW_WIDTH,right:dt+Hs.ONE_OVERVIEW_WIDTH,height:Ae-Xe}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:Hs.ONE_OVERVIEW_WIDTH,height:Ae-Xe}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),Hs.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(Ae,Xe){return!Ae&&!Xe||!(!Ae||!Xe)&&Ae.toString()===Xe.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const Ae=this._originalEditor.getModel(),Xe=this._modifiedEditor.getModel();if(!Ae||!Xe)return;this._diffComputationToken++;const dt=this._diffComputationToken,Mt=1024*this._options.maxFileSize*1024,Vt=jt=>{const rn=jt.getValueLength();return 0===Mt||rn<=Mt};Vt(Ae)&&Vt(Xe)?(this._setState(1),this._editorWorkerService.computeDiff(Ae.uri,Xe.uri,this._options.ignoreTrimWhitespace,this._options.maxComputationTime).then(jt=>{dt===this._diffComputationToken&&Ae===this._originalEditor.getModel()&&Xe===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=jt,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},jt=>{dt===this._diffComputationToken&&Ae===this._originalEditor.getModel()&&Xe===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})):(!Hs._equals(Ae.uri,this._lastOriginalWarning)||!Hs._equals(Xe.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=Ae.uri,this._lastModifiedWarning=Xe.uri,this._notificationService.warn(g.N("diff.tooLarge","Cannot compare files because one file is too large.")))}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const Ae=this._diffComputationResult?this._diffComputationResult.changes:[],Xe=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),dt=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),Mt=this._strategy.getEditorsDiffDecorations(Ae,this._options.ignoreTrimWhitespace,this._options.renderIndicators,Xe,dt);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,Mt.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,Mt.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(Ae){const Xe=Object.assign({},Ae);return Xe.inDiffEditor=!0,Xe.automaticLayout=!1,Xe.scrollbar=Object.assign({},Xe.scrollbar||{}),Xe.scrollbar.vertical="visible",Xe.folding=!1,Xe.codeLens=this._options.diffCodeLens,Xe.fixedOverflowWidgets=!0,Xe.minimap=Object.assign({},Xe.minimap||{}),Xe.minimap.enabled=!1,Xe}_adjustOptionsForLeftHandSide(Ae){const Xe=this._adjustOptionsForSubEditor(Ae);return this._options.renderSideBySide?Xe.wordWrapOverride1=this._options.diffWordWrap:(Xe.wordWrapOverride1="off",Xe.wordWrapOverride2="off"),Ae.originalAriaLabel&&(Xe.ariaLabel=Ae.originalAriaLabel),Xe.readOnly=!this._options.originalEditable,Xe.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},Xe),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(Ae){const Xe=this._adjustOptionsForSubEditor(Ae);return Ae.modifiedAriaLabel&&(Xe.ariaLabel=Ae.modifiedAriaLabel),Xe.wordWrapOverride1=this._options.diffWordWrap,Xe.revealHorizontalRightPadding=I.BH.revealHorizontalRightPadding.defaultValue+Hs.ENTIRE_DIFF_OVERVIEW_WIDTH,Xe.scrollbar.verticalHasArrows=!1,Xe.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},Xe),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const Ae=this._elementSizeObserver.getWidth(),Xe=this._elementSizeObserver.getHeight(),dt=this._getReviewHeight(),Mt=this._strategy.layout();this._originalDomNode.style.width=Mt+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=Ae-Mt+"px",this._modifiedDomNode.style.left=Mt+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=Xe-dt+"px",this._overviewDomElement.style.width=Hs.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=Ae-Hs.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(Hs.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:Mt,height:Xe-dt}),this._modifiedEditor.layout({width:Ae-Mt-(this._options.renderOverviewRuler?Hs.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:Xe-dt}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(Xe-dt,Ae,dt),this._layoutOverviewViewport()}_layoutOverviewViewport(){const Ae=this._computeOverviewViewport();Ae?(this._overviewViewportDomElement.setTop(Ae.top),this._overviewViewportDomElement.setHeight(Ae.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const Ae=this._modifiedEditor.getLayoutInfo();if(!Ae)return null;const Xe=this._modifiedEditor.getScrollTop(),dt=this._modifiedEditor.getScrollHeight(),Mt=Math.max(0,Ae.height),Vt=Math.max(0,Mt-0),jt=dt>0?Vt/dt:0;return{height:Math.max(0,Math.floor(Ae.height*jt)),top:Math.floor(Xe*jt)}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(Ae){this._strategy&&this._strategy.dispose(),this._strategy=Ae,Ae.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(Ae,Xe){const dt=this._diffComputationResult?this._diffComputationResult.changes:[];if(0===dt.length||Ae<Xe(dt[0]))return null;let Mt=0,Vt=dt.length-1;for(;Mt<Vt;){const jt=Math.floor((Mt+Vt)/2),rn=Xe(dt[jt]),wn=jt+1<=Vt?Xe(dt[jt+1]):1073741824;Ae<rn?Vt=jt-1:Ae>=wn?Mt=jt+1:(Mt=jt,Vt=jt)}return dt[Mt]}_getEquivalentLineForOriginalLineNumber(Ae){const Xe=this._getLineChangeAtOrBeforeLineNumber(Ae,wn=>wn.originalStartLineNumber);if(!Xe)return Ae;const Mt=Xe.modifiedStartLineNumber+(Xe.modifiedEndLineNumber>0?-1:0),Vt=Xe.originalEndLineNumber>0?Xe.originalEndLineNumber-Xe.originalStartLineNumber+1:0,jt=Xe.modifiedEndLineNumber>0?Xe.modifiedEndLineNumber-Xe.modifiedStartLineNumber+1:0,rn=Ae-(Xe.originalStartLineNumber+(Xe.originalEndLineNumber>0?-1:0));return rn<=Vt?Mt+Math.min(rn,jt):Mt+jt-Vt+rn}_getEquivalentLineForModifiedLineNumber(Ae){const Xe=this._getLineChangeAtOrBeforeLineNumber(Ae,wn=>wn.modifiedStartLineNumber);if(!Xe)return Ae;const dt=Xe.originalStartLineNumber+(Xe.originalEndLineNumber>0?-1:0),Vt=Xe.originalEndLineNumber>0?Xe.originalEndLineNumber-Xe.originalStartLineNumber+1:0,jt=Xe.modifiedEndLineNumber>0?Xe.modifiedEndLineNumber-Xe.modifiedStartLineNumber+1:0,rn=Ae-(Xe.modifiedStartLineNumber+(Xe.modifiedEndLineNumber>0?-1:0));return rn<=jt?dt+Math.min(rn,Vt):dt+Vt-jt+rn}getDiffLineInformationForOriginal(Ae){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(Ae)}:null}getDiffLineInformationForModified(Ae){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(Ae)}:null}};cn.ONE_OVERVIEW_WIDTH=15,cn.ENTIRE_DIFF_OVERVIEW_WIDTH=30,cn.UPDATE_DIFF_DECORATIONS_DELAY=200,cn=function(Ht,Ae,Xe,dt){var jt,Mt=arguments.length,Vt=Mt<3?Ae:null===dt?dt=Object.getOwnPropertyDescriptor(Ae,Xe):dt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Vt=Reflect.decorate(Ht,Ae,Xe,dt);else for(var rn=Ht.length-1;rn>=0;rn--)(jt=Ht[rn])&&(Vt=(Mt<3?jt(Vt):Mt>3?jt(Ae,Xe,Vt):jt(Ae,Xe))||Vt);return Mt>3&&Vt&&Object.defineProperty(Ae,Xe,Vt),Vt}([Dt(3,mt.p),Dt(4,rt.p),Dt(5,G.i6),Dt(6,Se.TG),Dt(7,C.$),Dt(8,de.XE),Dt(9,at.lT),Dt(10,_t.i),Dt(11,Bt.ek)],cn);class At extends F.JT{constructor(Ae){super(),this._dataSource=Ae,this._insertColor=null,this._removeColor=null}applyColors(Ae){const Xe=Ae.getColor(oe.P6Y)||(Ae.getColor(oe.ypS)||oe.CzK).transparent(2),dt=Ae.getColor(oe.F9q)||(Ae.getColor(oe.P4M)||oe.keg).transparent(2),Mt=!Xe.equals(this._insertColor)||!dt.equals(this._removeColor);return this._insertColor=Xe,this._removeColor=dt,Mt}getEditorsDiffDecorations(Ae,Xe,dt,Mt,Vt){Vt=Vt.sort((vn,yn)=>vn.afterLineNumber-yn.afterLineNumber),Mt=Mt.sort((vn,yn)=>vn.afterLineNumber-yn.afterLineNumber);const jt=this._getViewZones(Ae,Mt,Vt,dt),rn=this._getOriginalEditorDecorations(jt,Ae,Xe,dt),wn=this._getModifiedEditorDecorations(jt,Ae,Xe,dt);return{original:{decorations:rn.decorations,overviewZones:rn.overviewZones,zones:jt.original},modified:{decorations:wn.decorations,overviewZones:wn.overviewZones,zones:jt.modified}}}}class Ei{constructor(Ae){this._source=Ae,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this.current=this._index<this._source.length?this._source[this._index]:null}}class Yt{constructor(Ae,Xe,dt,Mt,Vt){this._lineChanges=Ae,this._originalForeignVZ=Xe,this._modifiedForeignVZ=dt,this._originalEditor=Mt,this._modifiedEditor=Vt}static _getViewLineCount(Ae,Xe,dt){const Mt=Ae.getModel(),Vt=Ae._getViewModel();if(Mt&&Vt){const jt=Lt(Mt,Vt,Xe,dt);return jt.endLineNumber-jt.startLineNumber+1}return dt-Xe+1}getViewZones(){const Ae=this._originalEditor.getOption(59),Xe=this._modifiedEditor.getOption(59),dt=-1!==this._originalEditor.getOption(132).wrappingColumn,Mt=-1!==this._modifiedEditor.getOption(132).wrappingColumn,Vt=dt||Mt,jt=this._originalEditor.getModel(),rn=this._originalEditor._getViewModel().coordinatesConverter,wn=this._modifiedEditor._getViewModel().coordinatesConverter,vn_original=[],vn_modified=[];let yn=0,Sn=0,xn=0,Kt=0,En=0,Mn=0;const Hn=(ai,pi)=>ai.afterLineNumber-pi.afterLineNumber,Jn=(ai,pi)=>{if(null===pi.domNode&&ai.length>0){const kn=ai[ai.length-1];if(kn.afterLineNumber===pi.afterLineNumber&&null===kn.domNode)return void(kn.heightInLines+=pi.heightInLines)}ai.push(pi)},mi=new Ei(this._modifiedForeignVZ),Li=new Ei(this._originalForeignVZ);let Nn=1,Ni=1;for(let ai=0,pi=this._lineChanges.length;ai<=pi;ai++){const kn=ai<pi?this._lineChanges[ai]:null;null!==kn?(xn=kn.originalStartLineNumber+(kn.originalEndLineNumber>0?-1:0),Kt=kn.modifiedStartLineNumber+(kn.modifiedEndLineNumber>0?-1:0),Sn=kn.originalEndLineNumber>0?Yt._getViewLineCount(this._originalEditor,kn.originalStartLineNumber,kn.originalEndLineNumber):0,yn=kn.modifiedEndLineNumber>0?Yt._getViewLineCount(this._modifiedEditor,kn.modifiedStartLineNumber,kn.modifiedEndLineNumber):0,En=Math.max(kn.originalStartLineNumber,kn.originalEndLineNumber),Mn=Math.max(kn.modifiedStartLineNumber,kn.modifiedEndLineNumber)):(xn+=1e7+Sn,Kt+=1e7+yn,En=xn,Mn=Kt);let _i=[],Ti=[];if(Vt){let zn;zn=kn?kn.originalEndLineNumber>0?kn.originalStartLineNumber-Nn:kn.modifiedStartLineNumber-Ni:jt.getLineCount()-Nn+1;for(let Ii=0;Ii<zn;Ii++){const so=Nn+Ii,ei=Ni+Ii,go=rn.getModelLineViewLineCount(so),Di=wn.getModelLineViewLineCount(ei);go<Di?_i.push({afterLineNumber:so,heightInLines:Di-go,domNode:null,marginDomNode:null}):go>Di&&Ti.push({afterLineNumber:ei,heightInLines:go-Di,domNode:null,marginDomNode:null})}kn&&(Nn=(kn.originalEndLineNumber>0?kn.originalEndLineNumber:kn.originalStartLineNumber)+1,Ni=(kn.modifiedEndLineNumber>0?kn.modifiedEndLineNumber:kn.modifiedStartLineNumber)+1)}for(;mi.current&&mi.current.afterLineNumber<=Mn;){let zn;zn=mi.current.afterLineNumber<=Kt?xn-Kt+mi.current.afterLineNumber:En;let Ii=null;kn&&kn.modifiedStartLineNumber<=mi.current.afterLineNumber&&mi.current.afterLineNumber<=kn.modifiedEndLineNumber&&(Ii=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),_i.push({afterLineNumber:zn,heightInLines:mi.current.height/Xe,domNode:null,marginDomNode:Ii}),mi.advance()}for(;Li.current&&Li.current.afterLineNumber<=En;){let zn;zn=Li.current.afterLineNumber<=xn?Kt-xn+Li.current.afterLineNumber:Mn,Ti.push({afterLineNumber:zn,heightInLines:Li.current.height/Ae,domNode:null}),Li.advance()}if(null!==kn&&Bi(kn)){const zn=this._produceOriginalFromDiff(kn,Sn,yn);zn&&_i.push(zn)}if(null!==kn&&yi(kn)){const zn=this._produceModifiedFromDiff(kn,Sn,yn);zn&&Ti.push(zn)}let bi=0,Yi=0;for(_i=_i.sort(Hn),Ti=Ti.sort(Hn);bi<_i.length&&Yi<Ti.length;){const zn=_i[bi],Ii=Ti[Yi],so=zn.afterLineNumber-xn,ei=Ii.afterLineNumber-Kt;so<ei?(Jn(vn_original,zn),bi++):ei<so?(Jn(vn_modified,Ii),Yi++):zn.shouldNotShrink?(Jn(vn_original,zn),bi++):Ii.shouldNotShrink?(Jn(vn_modified,Ii),Yi++):zn.heightInLines>=Ii.heightInLines?(zn.heightInLines-=Ii.heightInLines,Yi++):(Ii.heightInLines-=zn.heightInLines,bi++)}for(;bi<_i.length;)Jn(vn_original,_i[bi]),bi++;for(;Yi<Ti.length;)Jn(vn_modified,Ti[Yi]),Yi++}return{original:Yt._ensureDomNodes(vn_original),modified:Yt._ensureDomNodes(vn_modified)}}static _ensureDomNodes(Ae){return Ae.map(Xe=>(Xe.domNode||(Xe.domNode=yt()),Xe))}}function He(Ht,Ae,Xe,dt,Mt){return{range:new Re.e(Ht,Ae,Xe,dt),options:Mt}}const $e={charDelete:Pe.qx.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:Pe.qx.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:Pe.qx.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:Pe.qx.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:Pe.qx.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"gutter-insert",isWholeLine:!0}),lineInsertWithSign:Pe.qx.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+de.kS.asClassName(sn),marginClassName:"gutter-insert",isWholeLine:!0}),lineDelete:Pe.qx.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteWithSign:Pe.qx.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+de.kS.asClassName(hn),marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteMargin:Pe.qx.register({description:"diff-editor-line-delete-margin",marginClassName:"gutter-delete"})};let qt=(()=>{class Ht extends At{constructor(Xe,dt){super(Xe),this._disableSash=!1===dt,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new E.g(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(Mt=>this._onSashDrag(Mt)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(Xe){const dt=!1===Xe;this._disableSash!==dt&&(this._disableSash=dt,this._sash.state=this._disableSash?0:3)}layout(Xe=this._sashRatio){const Mt=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?cn.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let Vt=Math.floor((Xe||.5)*Mt);const jt=Math.floor(.5*Mt);return Vt=this._disableSash?jt:Vt||jt,Mt>2*Ht.MINIMUM_EDITOR_WIDTH?(Vt<Ht.MINIMUM_EDITOR_WIDTH&&(Vt=Ht.MINIMUM_EDITOR_WIDTH),Vt>Mt-Ht.MINIMUM_EDITOR_WIDTH&&(Vt=Mt-Ht.MINIMUM_EDITOR_WIDTH)):Vt=jt,this._sashPosition!==Vt&&(this._sashPosition=Vt),this._sash.layout(),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(Xe){const Mt=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?cn.ENTIRE_DIFF_OVERVIEW_WIDTH:0),Vt=this.layout((this._startSashPosition+(Xe.currentX-Xe.startX))/Mt);this._sashRatio=Vt/Mt,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(Xe){return 0}getVerticalSashLeft(Xe){return this._sashPosition}getVerticalSashHeight(Xe){return this._dataSource.getHeight()}_getViewZones(Xe,dt,Mt){const Vt=this._dataSource.getOriginalEditor(),jt=this._dataSource.getModifiedEditor();return new mn(Xe,dt,Mt,Vt,jt).getViewZones()}_getOriginalEditorDecorations(Xe,dt,Mt,Vt){const jt=this._dataSource.getOriginalEditor(),rn=String(this._removeColor),wn={decorations:[],overviewZones:[]},vn=jt.getModel(),yn=jt._getViewModel();for(const Sn of dt)if(yi(Sn)){wn.decorations.push({range:new Re.e(Sn.originalStartLineNumber,1,Sn.originalEndLineNumber,1073741824),options:Vt?$e.lineDeleteWithSign:$e.lineDelete}),(!Bi(Sn)||!Sn.charChanges)&&wn.decorations.push(He(Sn.originalStartLineNumber,1,Sn.originalEndLineNumber,1073741824,$e.charDeleteWholeLine));const xn=Lt(vn,yn,Sn.originalStartLineNumber,Sn.originalEndLineNumber);if(wn.overviewZones.push(new ut.EY(xn.startLineNumber,xn.endLineNumber,0,rn)),Sn.charChanges)for(const Kt of Sn.charChanges)if(yi(Kt))if(Mt)for(let En=Kt.originalStartLineNumber;En<=Kt.originalEndLineNumber;En++){let Mn,Hn;Mn=En===Kt.originalStartLineNumber?Kt.originalStartColumn:vn.getLineFirstNonWhitespaceColumn(En),Hn=En===Kt.originalEndLineNumber?Kt.originalEndColumn:vn.getLineLastNonWhitespaceColumn(En),wn.decorations.push(He(En,Mn,En,Hn,$e.charDelete))}else wn.decorations.push(He(Kt.originalStartLineNumber,Kt.originalStartColumn,Kt.originalEndLineNumber,Kt.originalEndColumn,$e.charDelete))}return wn}_getModifiedEditorDecorations(Xe,dt,Mt,Vt){const jt=this._dataSource.getModifiedEditor(),rn=String(this._insertColor),wn={decorations:[],overviewZones:[]},vn=jt.getModel(),yn=jt._getViewModel();for(const Sn of dt)if(Bi(Sn)){wn.decorations.push({range:new Re.e(Sn.modifiedStartLineNumber,1,Sn.modifiedEndLineNumber,1073741824),options:Vt?$e.lineInsertWithSign:$e.lineInsert}),(!yi(Sn)||!Sn.charChanges)&&wn.decorations.push(He(Sn.modifiedStartLineNumber,1,Sn.modifiedEndLineNumber,1073741824,$e.charInsertWholeLine));const xn=Lt(vn,yn,Sn.modifiedStartLineNumber,Sn.modifiedEndLineNumber);if(wn.overviewZones.push(new ut.EY(xn.startLineNumber,xn.endLineNumber,0,rn)),Sn.charChanges)for(const Kt of Sn.charChanges)if(Bi(Kt))if(Mt)for(let En=Kt.modifiedStartLineNumber;En<=Kt.modifiedEndLineNumber;En++){let Mn,Hn;Mn=En===Kt.modifiedStartLineNumber?Kt.modifiedStartColumn:vn.getLineFirstNonWhitespaceColumn(En),Hn=En===Kt.modifiedEndLineNumber?Kt.modifiedEndColumn:vn.getLineLastNonWhitespaceColumn(En),wn.decorations.push(He(En,Mn,En,Hn,$e.charInsert))}else wn.decorations.push(He(Kt.modifiedStartLineNumber,Kt.modifiedStartColumn,Kt.modifiedEndLineNumber,Kt.modifiedEndColumn,$e.charInsert))}return wn}}return Ht.MINIMUM_EDITOR_WIDTH=100,Ht})();class mn extends Yt{constructor(Ae,Xe,dt,Mt,Vt){super(Ae,Xe,dt,Mt,Vt)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(Ae,Xe,dt){return dt>Xe?{afterLineNumber:Math.max(Ae.originalStartLineNumber,Ae.originalEndLineNumber),heightInLines:dt-Xe,domNode:null}:null}_produceModifiedFromDiff(Ae,Xe,dt){return Xe>dt?{afterLineNumber:Math.max(Ae.modifiedStartLineNumber,Ae.modifiedEndLineNumber),heightInLines:Xe-dt,domNode:null}:null}}class ni extends At{constructor(Ae,Xe){super(Ae),this._decorationsLeft=Ae.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(Ae.getOriginalEditor().onDidLayoutChange(dt=>{this._decorationsLeft!==dt.decorationsLeft&&(this._decorationsLeft=dt.decorationsLeft,Ae.relayoutEditors())}))}setEnableSplitViewResizing(Ae){}_getViewZones(Ae,Xe,dt,Mt){const Vt=this._dataSource.getOriginalEditor(),jt=this._dataSource.getModifiedEditor();return new fi(Ae,Xe,dt,Vt,jt,Mt).getViewZones()}_getOriginalEditorDecorations(Ae,Xe,dt,Mt){const Vt=String(this._removeColor),jt={decorations:[],overviewZones:[]},rn=this._dataSource.getOriginalEditor(),wn=rn.getModel(),vn=rn._getViewModel();let yn=0;for(const Sn of Xe)if(yi(Sn)){for(jt.decorations.push({range:new Re.e(Sn.originalStartLineNumber,1,Sn.originalEndLineNumber,1073741824),options:$e.lineDeleteMargin});yn<Ae.modified.length;){const En=Ae.modified[yn];if(En.diff&&En.diff.originalStartLineNumber>=Sn.originalStartLineNumber)break;yn++}let xn=0;if(yn<Ae.modified.length){const En=Ae.modified[yn];En.diff&&En.diff.originalStartLineNumber===Sn.originalStartLineNumber&&En.diff.originalEndLineNumber===Sn.originalEndLineNumber&&En.diff.modifiedStartLineNumber===Sn.modifiedStartLineNumber&&En.diff.modifiedEndLineNumber===Sn.modifiedEndLineNumber&&(xn=En.heightInLines)}const Kt=Lt(wn,vn,Sn.originalStartLineNumber,Sn.originalEndLineNumber);jt.overviewZones.push(new ut.EY(Kt.startLineNumber,Kt.endLineNumber,xn,Vt))}return jt}_getModifiedEditorDecorations(Ae,Xe,dt,Mt){const Vt=this._dataSource.getModifiedEditor(),jt=String(this._insertColor),rn={decorations:[],overviewZones:[]},wn=Vt.getModel(),vn=Vt._getViewModel();for(const yn of Xe)if(Bi(yn)){rn.decorations.push({range:new Re.e(yn.modifiedStartLineNumber,1,yn.modifiedEndLineNumber,1073741824),options:Mt?$e.lineInsertWithSign:$e.lineInsert});const Sn=Lt(wn,vn,yn.modifiedStartLineNumber,yn.modifiedEndLineNumber);if(rn.overviewZones.push(new ut.EY(Sn.startLineNumber,Sn.endLineNumber,0,jt)),yn.charChanges){for(const xn of yn.charChanges)if(Bi(xn))if(dt)for(let Kt=xn.modifiedStartLineNumber;Kt<=xn.modifiedEndLineNumber;Kt++){let En,Mn;En=Kt===xn.modifiedStartLineNumber?xn.modifiedStartColumn:wn.getLineFirstNonWhitespaceColumn(Kt),Mn=Kt===xn.modifiedEndLineNumber?xn.modifiedEndColumn:wn.getLineLastNonWhitespaceColumn(Kt),rn.decorations.push(He(Kt,En,Kt,Mn,$e.charInsert))}else rn.decorations.push(He(xn.modifiedStartLineNumber,xn.modifiedStartColumn,xn.modifiedEndLineNumber,xn.modifiedEndColumn,$e.charInsert))}else rn.decorations.push(He(yn.modifiedStartLineNumber,1,yn.modifiedEndLineNumber,1073741824,$e.charInsertWholeLine))}return rn}layout(){return Math.max(5,this._decorationsLeft)}}class fi extends Yt{constructor(Ae,Xe,dt,Mt,Vt,jt){super(Ae,Xe,dt,Mt,Vt),this._originalModel=Mt.getModel(),this._renderIndicators=jt,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const Ae=super.getViewZones();return this._finalize(Ae),Ae}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const Ae=document.createElement("div");return Ae.className="inline-added-margin-view-zone",Ae}_produceOriginalFromDiff(Ae,Xe,dt){const Mt=document.createElement("div");return Mt.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(Ae.originalStartLineNumber,Ae.originalEndLineNumber),heightInLines:dt,domNode:document.createElement("div"),marginDomNode:Mt}}_produceModifiedFromDiff(Ae,Xe,dt){const Mt=document.createElement("div");Mt.className=`view-lines line-delete ${fn.S}`;const Vt=document.createElement("div");Vt.className="inline-deleted-margin-view-zone";const jt={shouldNotShrink:!0,afterLineNumber:0===Ae.modifiedEndLineNumber?Ae.modifiedStartLineNumber:Ae.modifiedStartLineNumber-1,heightInLines:Xe,minWidthInPx:0,domNode:Mt,marginDomNode:Vt,diff:{originalStartLineNumber:Ae.originalStartLineNumber,originalEndLineNumber:Ae.originalEndLineNumber,modifiedStartLineNumber:Ae.modifiedStartLineNumber,modifiedEndLineNumber:Ae.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let rn=Ae.originalStartLineNumber;rn<=Ae.originalEndLineNumber;rn++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(rn),null,null);return this._pendingLineChange.push(Ae),this._pendingViewZones.push(jt),jt}_finalize(Ae){const Xe=this._modifiedEditor.getOptions(),dt=this._modifiedEditor.getModel().getOptions().tabSize,Mt=Xe.get(44),Vt=Xe.get(29),jt=Mt.typicalHalfwidthCharacterWidth,rn=Xe.get(93),wn=this._originalModel.mightContainNonBasicASCII(),vn=this._originalModel.mightContainRTL(),yn=Xe.get(59),xn=Xe.get(131).decorationsWidth,Kt=Xe.get(105),En=Xe.get(88),Mn=Xe.get(83),Hn=Xe.get(45),Jn=this._lineBreaksComputer.finalize();let mi=0;for(let Li=0;Li<this._pendingLineChange.length;Li++){const Nn=this._pendingLineChange[Li],Ni=this._pendingViewZones[Li],ai=Ni.domNode;(0,T.N)(ai,Mt);const pi=Ni.marginDomNode;(0,T.N)(pi,Mt);const kn=[];if(Nn.charChanges)for(const ei of Nn.charChanges)yi(ei)&&kn.push(new j.$t(new Re.e(ei.originalStartLineNumber,ei.originalStartColumn,ei.originalEndLineNumber,ei.originalEndColumn),"char-delete",0));const _i=kn.length>0,Ti=(0,et.l$)(1e4);let bi=0,Yi=0,zn=null;for(let ei=Nn.originalStartLineNumber;ei<=Nn.originalEndLineNumber;ei++){const go=ei-Nn.originalStartLineNumber,Di=this._originalModel.getLineTokens(ei),Mo=Di.getLineContent(),bo=Jn[mi++],vo=nt.Kp.filter(kn,ei,1,Mo.length+1);if(bo){let Ro=0;for(const No of bo.breakOffsets){const ys=Di.sliceAndInflate(Ro,No,0),ks=Mo.substring(Ro,No);bi=Math.max(bi,this._renderOriginalLine(Yi++,ks,ys,nt.Kp.extractWrapped(vo,Ro,No),_i,wn,vn,Mt,Vt,yn,xn,Kt,En,Mn,Hn,dt,Ti,pi)),Ro=No}for(zn||(zn=[]);zn.length<go;)zn[zn.length]=1;zn[go]=bo.breakOffsets.length,Ni.heightInLines+=bo.breakOffsets.length-1;const zs=document.createElement("div");zs.className="gutter-delete",Ae.original.push({afterLineNumber:ei,afterColumn:0,heightInLines:bo.breakOffsets.length-1,domNode:yt(),marginDomNode:zs})}else bi=Math.max(bi,this._renderOriginalLine(Yi++,Mo,Di,vo,_i,wn,vn,Mt,Vt,yn,xn,Kt,En,Mn,Hn,dt,Ti,pi))}bi+=rn;const Ii=Ti.build(),so=_n?_n.createHTML(Ii):Ii;if(ai.innerHTML=so,Ni.minWidthInPx=bi*jt,zn){const ei=Nn.originalEndLineNumber-Nn.originalStartLineNumber;for(;zn.length<=ei;)zn[zn.length]=1}Ni.diff.viewLineCounts=zn}Ae.original.sort((Li,Nn)=>Li.afterLineNumber-Nn.afterLineNumber)}_renderOriginalLine(Ae,Xe,dt,Mt,Vt,jt,rn,wn,vn,yn,Sn,xn,Kt,En,Mn,Hn,Jn,mi){Jn.appendASCIIString('<div class="view-line'),Vt||Jn.appendASCIIString(" char-delete"),Jn.appendASCIIString('" style="top:'),Jn.appendASCIIString(String(Ae*yn)),Jn.appendASCIIString('px;width:1000000px;">');const Li=j.wA.isBasicASCII(Xe,jt),Nn=j.wA.containsRTL(Xe,Li,rn),Ni=(0,$.d1)(new $.IJ(wn.isMonospace&&!vn,wn.canUseHalfwidthRightwardsArrow,Xe,!1,Li,Nn,0,dt,Mt,Hn,0,wn.spaceWidth,wn.middotWidth,wn.wsmiddotWidth,xn,Kt,En,Mn!==I.n0.OFF,null),Jn);if(Jn.appendASCIIString("</div>"),this._renderIndicators){const ai=document.createElement("div");ai.className=`delete-sign ${de.kS.asClassName(hn)}`,ai.setAttribute("style",`position:absolute;top:${Ae*yn}px;width:${Sn}px;height:${yn}px;right:0;`),mi.appendChild(ai)}return Ni.characterMapping.getAbsoluteOffset(Ni.characterMapping.length)}}function wi(Ht,Ae){return(0,I.NY)(Ht,Ae,["off","on","inherit"])}function Bi(Ht){return Ht.modifiedEndLineNumber>0}function yi(Ht){return Ht.originalEndLineNumber>0}function yt(){const Ht=document.createElement("div");return Ht.className="diagonal-fill",Ht}function Lt(Ht,Ae,Xe,dt){const Mt=Ht.getLineCount();return Xe=Math.min(Mt,Math.max(1,Xe)),dt=Math.min(Mt,Math.max(1,dt)),Ae.coordinatesConverter.convertModelRangeToViewRange(new Re.e(Xe,Ht.getLineMinColumn(Xe),dt,Ht.getLineMaxColumn(dt)))}function en(Ht,Ae){return{enableSplitViewResizing:(0,I.O7)(Ht.enableSplitViewResizing,Ae.enableSplitViewResizing),renderSideBySide:(0,I.O7)(Ht.renderSideBySide,Ae.renderSideBySide),maxComputationTime:(0,I.Zc)(Ht.maxComputationTime,Ae.maxComputationTime,0,1073741824),maxFileSize:(0,I.Zc)(Ht.maxFileSize,Ae.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,I.O7)(Ht.ignoreTrimWhitespace,Ae.ignoreTrimWhitespace),renderIndicators:(0,I.O7)(Ht.renderIndicators,Ae.renderIndicators),originalEditable:(0,I.O7)(Ht.originalEditable,Ae.originalEditable),diffCodeLens:(0,I.O7)(Ht.diffCodeLens,Ae.diffCodeLens),renderOverviewRuler:(0,I.O7)(Ht.renderOverviewRuler,Ae.renderOverviewRuler),diffWordWrap:wi(Ht.diffWordWrap,Ae.diffWordWrap)}}(0,de.Ic)((Ht,Ae)=>{const Xe=Ht.getColor(oe.ypS);Xe&&Ae.addRule(`.monaco-editor .char-insert, .monaco-diff-editor .char-insert { background-color: ${Xe}; }`);const dt=Ht.getColor(oe.hzo)||Xe;dt&&Ae.addRule(`.monaco-editor .line-insert, .monaco-diff-editor .line-insert { background-color: ${dt}; }`);const Mt=Ht.getColor(oe.j51)||dt;Mt&&(Ae.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${Mt}; }`),Ae.addRule(`.monaco-editor .gutter-insert, .monaco-diff-editor .gutter-insert { background-color: ${Mt}; }`));const Vt=Ht.getColor(oe.P4M);Vt&&Ae.addRule(`.monaco-editor .char-delete, .monaco-diff-editor .char-delete { background-color: ${Vt}; }`);const jt=Ht.getColor(oe.xi6)||Vt;jt&&Ae.addRule(`.monaco-editor .line-delete, .monaco-diff-editor .line-delete { background-color: ${jt}; }`);const rn=Ht.getColor(oe.zOm)||jt;rn&&(Ae.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${rn}; }`),Ae.addRule(`.monaco-editor .gutter-delete, .monaco-diff-editor .gutter-delete { background-color: ${rn}; }`));const wn=Ht.getColor(oe.XL$);wn&&Ae.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${"hc"===Ht.type?"dashed":"solid"} ${wn}; }`);const vn=Ht.getColor(oe.mHy);vn&&Ae.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${"hc"===Ht.type?"dashed":"solid"} ${vn}; }`);const yn=Ht.getColor(oe._wn);yn&&Ae.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${yn}; }`);const Sn=Ht.getColor(oe.LLc);Sn&&Ae.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${Sn}; }`);const xn=Ht.getColor(oe.etL);xn&&Ae.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport {\n\t\t\t\tbackground: ${xn};\n\t\t\t}\n\t\t`);const Kt=Ht.getColor(oe.ABB);Kt&&Ae.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport:hover {\n\t\t\t\tbackground: ${Kt};\n\t\t\t}\n\t\t`);const En=Ht.getColor(oe.ynu);En&&Ae.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport:active {\n\t\t\t\tbackground: ${En};\n\t\t\t}\n\t\t`);const Mn=Ht.getColor(oe.L_t);Ae.addRule(`\n\t.monaco-editor .diagonal-fill {\n\t\tbackground-image: linear-gradient(\n\t\t\t-45deg,\n\t\t\t${Mn} 12.5%,\n\t\t\t#0000 12.5%, #0000 50%,\n\t\t\t${Mn} 50%, ${Mn} 62.5%,\n\t\t\t#0000 62.5%, #0000 100%\n\t\t);\n\t\tbackground-size: 8px 8px;\n\t}\n\t`)})},37313:(Be,Me,m)=>{m.d(Me,{F:()=>O});var M=m(59126),g=m(71040),Y=m(40189),B=m(60842),E=m(1873);const i={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class O extends Y.JT{constructor(T,S={}){super(),this._onDidUpdate=this._register(new g.Q5),this._editor=T,this._options=B.jB(S,i,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(C=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(C=>{this.revealFirst=!0})),this._init()}_init(){this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&null!==this._editor.getLineChanges()&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(T){this.ranges=[],T&&T.forEach(S=>{!this._options.ignoreCharChanges&&S.charChanges?S.charChanges.forEach(C=>{this.ranges.push({rhs:!0,range:new E.e(C.modifiedStartLineNumber,C.modifiedStartColumn,C.modifiedEndLineNumber,C.modifiedEndColumn)})}):this.ranges.push(0===S.modifiedEndLineNumber?{rhs:!0,range:new E.e(S.modifiedStartLineNumber,1,S.modifiedStartLineNumber+1,1)}:{rhs:!0,range:new E.e(S.modifiedStartLineNumber,1,S.modifiedEndLineNumber+1,1)})}),this.ranges.sort((S,C)=>E.e.compareRangesUsingStarts(S.range,C.range)),this._onDidUpdate.fire(this)}_initIdx(T){let S=!1;const C=this._editor.getPosition();if(C){for(let b=0,L=this.ranges.length;b<L&&!S;b++)C.isBeforeOrEqual(this.ranges[b].range.getStartPosition())&&(this.nextIdx=b+(T?0:-1),S=!0);S||(this.nextIdx=T?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}else this.nextIdx=0}_move(T,S){if(M.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;-1===this.nextIdx?this._initIdx(T):T?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));const C=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{const b=C.range.getStartPosition();this._editor.setPosition(b),this._editor.revealRangeInCenter(C.range,S)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(T=0){this._move(!0,T)}previous(T=0){this._move(!1,T)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}},49317:(Be,Me,m)=>{m.d(Me,{T4:()=>g,OY:()=>Y,Sj:()=>B,Uo:()=>E,hP:()=>i});var M=m(60745);class g{constructor(F,T,S=!1){this._range=F,this._text=T,this.insertsAutoWhitespace=S}getEditOperations(F,T){T.addTrackedEditOperation(this._range,this._text)}computeCursorState(F,T){const C=T.getInverseEditOperations()[0].range;return M.Y.fromPositions(C.getEndPosition())}}class Y{constructor(F,T){this._range=F,this._text=T}getEditOperations(F,T){T.addTrackedEditOperation(this._range,this._text)}computeCursorState(F,T){const C=T.getInverseEditOperations()[0].range;return M.Y.fromRange(C,0)}}class B{constructor(F,T,S=!1){this._range=F,this._text=T,this.insertsAutoWhitespace=S}getEditOperations(F,T){T.addTrackedEditOperation(this._range,this._text)}computeCursorState(F,T){const C=T.getInverseEditOperations()[0].range;return M.Y.fromPositions(C.getStartPosition())}}class E{constructor(F,T,S,C,b=!1){this._range=F,this._text=T,this._columnDeltaOffset=C,this._lineNumberDeltaOffset=S,this.insertsAutoWhitespace=b}getEditOperations(F,T){T.addTrackedEditOperation(this._range,this._text)}computeCursorState(F,T){const C=T.getInverseEditOperations()[0].range;return M.Y.fromPositions(C.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}class i{constructor(F,T,S,C=!1){this._range=F,this._text=T,this._initialSelection=S,this._forceMoveMarkers=C,this._selectionId=null}getEditOperations(F,T){T.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=T.trackSelection(this._initialSelection)}computeCursorState(F,T){return T.getTrackedSelection(this._selectionId)}}},51788:(Be,Me,m)=>{m.d(Me,{U:()=>F});var M=m(74243),g=m(90784),Y=m(1873),B=m(60745),E=m(92119);const i=Object.create(null);function O(T,S){if(S<=0)return"";i[T]||(i[T]=["",T]);const C=i[T];for(let b=C.length;b<=S;b++)C[b]=C[b-1]+T;return C[S]}class F{constructor(S,C){this._opts=C,this._selection=S,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(S,C,b,L,f){const N=g.i.visibleColumnFromColumn(S,C,b);if(f){const z=O(" ",L);return O(z,g.i.prevIndentTabStop(N,L)/L)}return O("\t",g.i.prevRenderTabStop(N,b)/b)}static shiftIndent(S,C,b,L,f){const N=g.i.visibleColumnFromColumn(S,C,b);if(f){const z=O(" ",L);return O(z,g.i.nextIndentTabStop(N,L)/L)}return O("\t",g.i.nextRenderTabStop(N,b)/b)}_addEditOperation(S,C,b){this._useLastEditRangeForCursorEndPosition?S.addTrackedEditOperation(C,b):S.addEditOperation(C,b)}getEditOperations(S,C){const b=this._selection.startLineNumber;let L=this._selection.endLineNumber;1===this._selection.endColumn&&b!==L&&(L-=1);const{tabSize:f,indentSize:N,insertSpaces:z}=this._opts,D=b===L;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(S.getLineContent(b))&&(this._useLastEditRangeForCursorEndPosition=!0);let I=0,Z=0;for(let P=b;P<=L;P++,I=Z){Z=0;const k=S.getLineContent(P);let j,$=M.LC(k);if((!this._opts.isUnshift||0!==k.length&&0!==$)&&(D||this._opts.isUnshift||0!==k.length)){if(-1===$&&($=k.length),P>1&&g.i.visibleColumnFromColumn(k,$+1,f)%N!=0&&S.isCheapToTokenize(P-1)){const oe=E.zu.getEnterAction(this._opts.autoIndent,S,new Y.e(P-1,S.getLineMaxColumn(P-1),P-1,S.getLineMaxColumn(P-1)));if(oe){if(Z=I,oe.appendText)for(let de=0,fe=oe.appendText.length;de<fe&&Z<N&&32===oe.appendText.charCodeAt(de);de++)Z++;oe.removeText&&(Z=Math.max(0,Z-oe.removeText));for(let de=0;de<Z&&0!==$&&32===k.charCodeAt($-1);de++)$--}}this._opts.isUnshift&&0===$||(j=this._opts.isUnshift?F.unshiftIndent(k,$+1,f,N,z):F.shiftIndent(k,$+1,f,N,z),this._addEditOperation(C,new Y.e(P,1,P,$+1),j),P===b&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=$+1))}}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&0===S.getLineLength(b)&&(this._useLastEditRangeForCursorEndPosition=!0);const I=z?O(" ",N):"\t";for(let Z=b;Z<=L;Z++){const P=S.getLineContent(Z);let k=M.LC(P);if((!this._opts.isUnshift||0!==P.length&&0!==k)&&(D||this._opts.isUnshift||0!==P.length)&&(-1===k&&(k=P.length),!this._opts.isUnshift||0!==k))if(this._opts.isUnshift){k=Math.min(k,N);for(let $=0;$<k;$++)if(9===P.charCodeAt($)){k=$+1;break}this._addEditOperation(C,new Y.e(Z,1,Z,k+1),"")}else this._addEditOperation(C,new Y.e(Z,1,Z,1),I),Z===b&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=1===this._selection.startColumn)}}this._selectionId=C.trackSelection(this._selection)}computeCursorState(S,C){if(this._useLastEditRangeForCursorEndPosition){const L=C.getInverseEditOperations()[0];return new B.Y(L.range.endLineNumber,L.range.endColumn,L.range.endLineNumber,L.range.endColumn)}const b=C.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const L=this._selection.startColumn;return b.startColumn<=L?b:0===b.getDirection()?new B.Y(b.startLineNumber,L,b.endLineNumber,b.endColumn):new B.Y(b.endLineNumber,b.endColumn,b.startLineNumber,L)}return b}}},52925:(Be,Me,m)=>{m.d(Me,{y0:()=>O,Bb:()=>F,LJ:()=>T,rk:()=>C,O7:()=>N,Zc:()=>D,NY:()=>k,d2:()=>pe,n0:()=>le,gk:()=>ke,$J:()=>nt,Av:()=>_t,qt:()=>zt,hL:()=>_n,Bc:()=>cn,BH:()=>Ei});var M=m(12918),g=m(70700),Y=m(54745),B=m(89822),E=m(60842),i=m(27870);const O=8;class F{constructor(He){this._values=He}hasChanged(He){return this._values[He]}}class T{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class S{constructor(He,$e,qt,mn){this.id=He,this.name=$e,this.defaultValue=qt,this.schema=mn}applyUpdate(He,$e){return b(He,$e)}compute(He,$e,qt){return qt}}class C{constructor(He,$e){this.newValue=He,this.didChange=$e}}function b(Yt,He){if("object"!=typeof Yt||"object"!=typeof He||!Yt||!He)return new C(He,Yt!==He);if(Array.isArray(Yt)||Array.isArray(He)){const qt=Array.isArray(Yt)&&Array.isArray(He)&&B.fS(Yt,He);return new C(He,qt)}let $e=!1;for(const qt in He)if(He.hasOwnProperty(qt)){const mn=b(Yt[qt],He[qt]);mn.didChange&&(Yt[qt]=mn.newValue,$e=!0)}return new C(Yt,$e)}class L{constructor(He){this.schema=void 0,this.id=He,this.name="_never_",this.defaultValue=void 0}applyUpdate(He,$e){return b(He,$e)}validate(He){return this.defaultValue}}class f{constructor(He,$e,qt,mn){this.id=He,this.name=$e,this.defaultValue=qt,this.schema=mn}applyUpdate(He,$e){return b(He,$e)}validate(He){return void 0===He?this.defaultValue:He}compute(He,$e,qt){return qt}}function N(Yt,He){return void 0===Yt?He:"false"!==Yt&&Boolean(Yt)}class z extends f{constructor(He,$e,qt,mn){void 0!==mn&&(mn.type="boolean",mn.default=qt),super(He,$e,qt,mn)}validate(He){return N(He,this.defaultValue)}}function D(Yt,He,$e,qt){if(void 0===Yt)return He;let mn=parseInt(Yt,10);return isNaN(mn)?He:(mn=Math.max($e,mn),mn=Math.min(qt,mn),0|mn)}class I extends f{constructor(He,$e,qt,mn,ni,fi){void 0!==fi&&(fi.type="integer",fi.default=qt,fi.minimum=mn,fi.maximum=ni),super(He,$e,qt,fi),this.minimum=mn,this.maximum=ni}static clampedInt(He,$e,qt,mn){return D(He,$e,qt,mn)}validate(He){return I.clampedInt(He,this.defaultValue,this.minimum,this.maximum)}}class Z extends f{constructor(He,$e,qt,mn,ni){void 0!==ni&&(ni.type="number",ni.default=qt),super(He,$e,qt,ni),this.validationFn=mn}static clamp(He,$e,qt){return He<$e?$e:He>qt?qt:He}static float(He,$e){if("number"==typeof He)return He;if(void 0===He)return $e;const qt=parseFloat(He);return isNaN(qt)?$e:qt}validate(He){return this.validationFn(Z.float(He,this.defaultValue))}}class P extends f{static string(He,$e){return"string"!=typeof He?$e:He}constructor(He,$e,qt,mn){void 0!==mn&&(mn.type="string",mn.default=qt),super(He,$e,qt,mn)}validate(He){return P.string(He,this.defaultValue)}}function k(Yt,He,$e){return"string"!=typeof Yt||-1===$e.indexOf(Yt)?He:Yt}class $ extends f{constructor(He,$e,qt,mn,ni){void 0!==ni&&(ni.type="string",ni.enum=mn,ni.default=qt),super(He,$e,qt,ni),this._allowedValues=mn}validate(He){return k(He,this.defaultValue,this._allowedValues)}}class j extends S{constructor(He,$e,qt,mn,ni,fi,wi){void 0!==wi&&(wi.type="string",wi.enum=ni,wi.default=mn),super(He,$e,qt,wi),this._allowedValues=ni,this._convert=fi}validate(He){return"string"!=typeof He||-1===this._allowedValues.indexOf(He)?this.defaultValue:this._convert(He)}}var pe=(()=>{return(Yt=pe||(pe={}))[Yt.Line=1]="Line",Yt[Yt.Block=2]="Block",Yt[Yt.Underline=3]="Underline",Yt[Yt.LineThin=4]="LineThin",Yt[Yt.BlockOutline=5]="BlockOutline",Yt[Yt.UnderlineThin=6]="UnderlineThin",pe;var Yt})();let le=(()=>{class Yt extends S{constructor(){super(45,"fontLigatures",Yt.OFF,{anyOf:[{type:"boolean",description:M.N("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:M.N("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:M.N("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate($e){return void 0===$e?this.defaultValue:"string"==typeof $e?"false"===$e?Yt.OFF:"true"===$e?Yt.ON:$e:Boolean($e)?Yt.ON:Yt.OFF}}return Yt.OFF='"liga" off, "calt" off',Yt.ON='"liga" on, "calt" on',Yt})(),re=(()=>{class Yt extends S{constructor(){super(47,"fontWeight",_n.fontWeight,{anyOf:[{type:"number",minimum:Yt.MINIMUM_VALUE,maximum:Yt.MAXIMUM_VALUE,errorMessage:M.N("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:Yt.SUGGESTION_VALUES}],default:_n.fontWeight,description:M.N("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate($e){return"normal"===$e||"bold"===$e?$e:String(I.clampedInt($e,_n.fontWeight,Yt.MINIMUM_VALUE,Yt.MAXIMUM_VALUE))}}return Yt.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],Yt.MINIMUM_VALUE=1,Yt.MAXIMUM_VALUE=1e3,Yt})();class ke extends L{constructor(){super(131)}compute(He,$e,qt){return ke.computeLayout($e,{memory:He.memory,outerWidth:He.outerWidth,outerHeight:He.outerHeight,isDominatedByLongLines:He.isDominatedByLongLines,lineHeight:He.fontInfo.lineHeight,viewLineCount:He.viewLineCount,lineNumbersDigitCount:He.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:He.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:He.fontInfo.maxDigitWidth,pixelRatio:He.pixelRatio})}static computeContainedMinimapLineCount(He){const $e=He.height/He.lineHeight,qt=He.scrollBeyondLastLine?$e-1:0,mn=(He.viewLineCount+qt)/(He.pixelRatio*He.height);return{typicalViewportLineCount:$e,extraLinesBeyondLastLine:qt,desiredRatio:mn,minimapLineCount:Math.floor(He.viewLineCount/mn)}}static _computeMinimapLayout(He,$e){const qt=He.outerWidth,mn=He.outerHeight,ni=He.pixelRatio;if(!He.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(ni*mn),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:mn};const fi=$e.stableMinimapLayoutInput,wi=fi&&He.outerHeight===fi.outerHeight&&He.lineHeight===fi.lineHeight&&He.typicalHalfwidthCharacterWidth===fi.typicalHalfwidthCharacterWidth&&He.pixelRatio===fi.pixelRatio&&He.scrollBeyondLastLine===fi.scrollBeyondLastLine&&He.minimap.enabled===fi.minimap.enabled&&He.minimap.side===fi.minimap.side&&He.minimap.size===fi.minimap.size&&He.minimap.showSlider===fi.minimap.showSlider&&He.minimap.renderCharacters===fi.minimap.renderCharacters&&He.minimap.maxColumn===fi.minimap.maxColumn&&He.minimap.scale===fi.minimap.scale&&He.verticalScrollbarWidth===fi.verticalScrollbarWidth&&He.isViewportWrapping===fi.isViewportWrapping,Bi=He.lineHeight,yi=He.typicalHalfwidthCharacterWidth,yt=He.scrollBeyondLastLine,Lt=He.minimap.renderCharacters;let en=ni>=2?Math.round(2*He.minimap.scale):He.minimap.scale;const Vn=He.minimap.maxColumn,Ht=He.minimap.size,Ae=He.minimap.side,Xe=He.verticalScrollbarWidth,dt=He.viewLineCount,Mt=He.remainingWidth,Vt=He.isViewportWrapping,jt=Lt?2:3;let rn=Math.floor(ni*mn);const wn=rn/ni;let vn=!1,yn=!1,Sn=jt*en,xn=en/ni,Kt=1;if("fill"===Ht||"fit"===Ht){const{typicalViewportLineCount:Nn,extraLinesBeyondLastLine:Ni,desiredRatio:ai,minimapLineCount:pi}=ke.computeContainedMinimapLineCount({viewLineCount:dt,scrollBeyondLastLine:yt,height:mn,lineHeight:Bi,pixelRatio:ni});if(dt/pi>1)vn=!0,yn=!0,en=1,Sn=1,xn=en/ni;else{let _i=!1,Ti=en+1;if("fit"===Ht){const bi=Math.ceil((dt+Ni)*Sn);Vt&&wi&&Mt<=$e.stableFitRemainingWidth?(_i=!0,Ti=$e.stableFitMaxMinimapScale):_i=bi>rn}if("fill"===Ht||_i){vn=!0;const bi=en;Sn=Math.min(Bi*ni,Math.max(1,Math.floor(1/ai))),Vt&&wi&&Mt<=$e.stableFitRemainingWidth&&(Ti=$e.stableFitMaxMinimapScale),en=Math.min(Ti,Math.max(1,Math.floor(Sn/jt))),en>bi&&(Kt=Math.min(2,en/bi)),xn=en/ni/Kt,rn=Math.ceil(Math.max(Nn,dt+Ni)*Sn),Vt?($e.stableMinimapLayoutInput=He,$e.stableFitRemainingWidth=Mt,$e.stableFitMaxMinimapScale=en):($e.stableMinimapLayoutInput=null,$e.stableFitRemainingWidth=0)}}}const En=Math.floor(Vn*xn),Mn=Math.min(En,Math.max(0,Math.floor((Mt-Xe-2)*xn/(yi+xn)))+O);let Hn=Math.floor(ni*Mn);const Jn=Hn/ni;return Hn=Math.floor(Hn*Kt),{renderMinimap:Lt?1:2,minimapLeft:"left"===Ae?0:qt-Mn-Xe,minimapWidth:Mn,minimapHeightIsEditorHeight:vn,minimapIsSampling:yn,minimapScale:en,minimapLineHeight:Sn,minimapCanvasInnerWidth:Hn,minimapCanvasInnerHeight:rn,minimapCanvasOuterWidth:Jn,minimapCanvasOuterHeight:wn}}static computeLayout(He,$e){const qt=0|$e.outerWidth,mn=0|$e.outerHeight,ni=0|$e.lineHeight,fi=0|$e.lineNumbersDigitCount,wi=$e.typicalHalfwidthCharacterWidth,Bi=$e.maxDigitWidth,yi=$e.pixelRatio,yt=$e.viewLineCount,Lt=He.get(123),en="inherit"===Lt?He.get(122):Lt,Vn="inherit"===en?He.get(118):en,Ht=He.get(121),Ae=He.get(2),Xe=$e.isDominatedByLongLines,dt=He.get(50),Mt=0!==He.get(60).renderType,Vt=He.get(61),jt=He.get(94),rn=He.get(65),wn=He.get(92),vn=wn.verticalScrollbarSize,yn=wn.verticalHasArrows,Sn=wn.arrowSize,xn=wn.horizontalScrollbarSize,Kt=He.get(58),En=He.get(37);let Mn;if("string"==typeof Kt&&/^\d+(\.\d+)?ch$/.test(Kt)){const Ii=parseFloat(Kt.substr(0,Kt.length-2));Mn=I.clampedInt(Ii*wi,0,0,1e3)}else Mn=I.clampedInt(Kt,0,0,1e3);En&&(Mn+=16);let Hn=0;if(Mt){const Ii=Math.max(fi,Vt);Hn=Math.round(Ii*Bi)}let Jn=0;dt&&(Jn=ni);let mi=0,Li=mi+Jn,Nn=Li+Hn,Ni=Nn+Mn;const ai=qt-Jn-Hn-Mn;let pi=!1,kn=!1,_i=-1;2!==Ae&&("inherit"===en&&Xe?(pi=!0,kn=!0):"on"===Vn||"bounded"===Vn?kn=!0:"wordWrapColumn"===Vn&&(_i=Ht));const Ti=ke._computeMinimapLayout({outerWidth:qt,outerHeight:mn,lineHeight:ni,typicalHalfwidthCharacterWidth:wi,pixelRatio:yi,scrollBeyondLastLine:jt,minimap:rn,verticalScrollbarWidth:vn,viewLineCount:yt,remainingWidth:ai,isViewportWrapping:kn},$e.memory||new T);0!==Ti.renderMinimap&&0===Ti.minimapLeft&&(mi+=Ti.minimapWidth,Li+=Ti.minimapWidth,Nn+=Ti.minimapWidth,Ni+=Ti.minimapWidth);const bi=ai-Ti.minimapWidth,Yi=Math.max(1,Math.floor((bi-vn-2)/wi)),zn=yn?Sn:0;return kn&&(_i=Math.max(1,Yi),"bounded"===Vn&&(_i=Math.min(_i,Ht))),{width:qt,height:mn,glyphMarginLeft:mi,glyphMarginWidth:Jn,lineNumbersLeft:Li,lineNumbersWidth:Hn,decorationsLeft:Nn,decorationsWidth:Mn,contentLeft:Ni,contentWidth:bi,minimap:Ti,viewportColumn:Yi,isWordWrapMinified:pi,isViewportWrapping:kn,wrappingColumn:_i,verticalScrollbarWidth:vn,horizontalScrollbarHeight:xn,overviewRuler:{top:zn,width:vn,height:mn-2*zn,right:0}}}}function nt(Yt){const He=Yt.get(87);return"editable"===He?Yt.get(81):"on"!==He}function Ne(Yt,He){if("string"!=typeof Yt)return He;switch(Yt){case"hidden":return 2;case"visible":return 3;default:return 1}}const _t="inUntrustedWorkspace",zt={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};function Wt(Yt,He,$e){const qt=$e.indexOf(Yt);return-1===qt?He:$e[qt]}const _n={fontFamily:g.dz?"Menlo, Monaco, 'Courier New', monospace":g.IJ?"'Droid Sans Mono', 'monospace', monospace":"Consolas, 'Courier New', monospace",fontWeight:"normal",fontSize:g.dz?12:14,lineHeight:0,letterSpacing:0},cn=[];function At(Yt){return cn[Yt.id]=Yt,Yt}const Ei={acceptSuggestionOnCommitCharacter:At(new z(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:M.N("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:At(new $(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",M.N("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:M.N("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:At(new class extends S{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[M.N("accessibilitySupport.auto","The editor will use platform APIs to detect when a Screen Reader is attached."),M.N("accessibilitySupport.on","The editor will be permanently optimized for usage with a Screen Reader. Word wrapping will be disabled."),M.N("accessibilitySupport.off","The editor will never be optimized for usage with a Screen Reader.")],default:"auto",description:M.N("accessibilitySupport","Controls whether the editor should run in a mode where it is optimized for screen readers. Setting to on will disable word wrapping.")})}validate(He){switch(He){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(He,$e,qt){return 0===qt?He.accessibilitySupport:qt}}),accessibilityPageSize:At(new I(3,"accessibilityPageSize",10,1,1073741824,{description:M.N("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default.")})),ariaLabel:At(new P(4,"ariaLabel",M.N("editorViewAccessibleLabel","Editor content"))),autoClosingBrackets:At(new $(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",M.N("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),M.N("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:M.N("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingDelete:At(new $(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",M.N("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:M.N("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:At(new $(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",M.N("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:M.N("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:At(new $(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",M.N("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),M.N("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:M.N("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:At(new j(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],function(Yt){switch(Yt){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}},{enumDescriptions:[M.N("editor.autoIndent.none","The editor will not insert indentation automatically."),M.N("editor.autoIndent.keep","The editor will keep the current line's indentation."),M.N("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),M.N("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),M.N("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:M.N("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:At(new z(10,"automaticLayout",!1)),autoSurround:At(new $(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[M.N("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),M.N("editor.autoSurround.quotes","Surround with quotes but not brackets."),M.N("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:M.N("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:At(new class extends S{constructor(){const He={enabled:i.D.bracketPairColorizationOptions.enabled};super(12,"bracketPairColorization",He,{"editor.bracketPairColorization.enabled":{type:"boolean",default:He.enabled,description:M.N("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use 'workbench.colorCustomizations' to override the bracket highlight colors.")}})}validate(He){return He&&"object"==typeof He?{enabled:N(He.enabled,this.defaultValue.enabled)}:this.defaultValue}}),bracketPairGuides:At(new class extends S{constructor(){const He={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(13,"guides",He,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[M.N("editor.guides.bracketPairs.true","Enables bracket pair guides."),M.N("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),M.N("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:He.bracketPairs,description:M.N("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[M.N("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),M.N("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),M.N("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:He.bracketPairsHorizontal,description:M.N("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:He.highlightActiveBracketPair,description:M.N("editor.guides.highlightActiveBracketPair","Controls whether the editor should highlight the active bracket pair.")},"editor.guides.indentation":{type:"boolean",default:He.indentation,description:M.N("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:"boolean",default:He.highlightActiveIndentation,description:M.N("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(He){if(!He||"object"!=typeof He)return this.defaultValue;const $e=He;return{bracketPairs:Wt($e.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:Wt($e.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:N($e.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:N($e.indentation,this.defaultValue.indentation),highlightActiveIndentation:N($e.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation)}}}),stickyTabStops:At(new z(104,"stickyTabStops",!1,{description:M.N("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:At(new z(14,"codeLens",!0,{description:M.N("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:At(new P(15,"codeLensFontFamily","",{description:M.N("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:At(new I(16,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:M.N("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to `0`, 90% of `#editor.fontSize#` is used.")})),colorDecorators:At(new z(17,"colorDecorators",!0,{description:M.N("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),columnSelection:At(new z(18,"columnSelection",!1,{description:M.N("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:At(new class extends S{constructor(){const He={insertSpace:!0,ignoreEmptyLines:!0};super(19,"comments",He,{"editor.comments.insertSpace":{type:"boolean",default:He.insertSpace,description:M.N("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:He.ignoreEmptyLines,description:M.N("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(He){if(!He||"object"!=typeof He)return this.defaultValue;const $e=He;return{insertSpace:N($e.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:N($e.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}),contextmenu:At(new z(20,"contextmenu",!0)),copyWithSyntaxHighlighting:At(new z(21,"copyWithSyntaxHighlighting",!0,{description:M.N("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:At(new j(22,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],function(Yt){switch(Yt){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}},{description:M.N("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:At(new z(23,"cursorSmoothCaretAnimation",!1,{description:M.N("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:At(new j(24,"cursorStyle",pe.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],function(Yt){switch(Yt){case"line":return pe.Line;case"block":return pe.Block;case"underline":return pe.Underline;case"line-thin":return pe.LineThin;case"block-outline":return pe.BlockOutline;case"underline-thin":return pe.UnderlineThin}},{description:M.N("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:At(new I(25,"cursorSurroundingLines",0,0,1073741824,{description:M.N("cursorSurroundingLines","Controls the minimal number of visible leading and trailing lines surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:At(new $(26,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[M.N("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),M.N("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],description:M.N("cursorSurroundingLinesStyle","Controls when `cursorSurroundingLines` should be enforced.")})),cursorWidth:At(new I(27,"cursorWidth",0,0,1073741824,{markdownDescription:M.N("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:At(new z(28,"disableLayerHinting",!1)),disableMonospaceOptimizations:At(new z(29,"disableMonospaceOptimizations",!1)),domReadOnly:At(new z(30,"domReadOnly",!1)),dragAndDrop:At(new z(31,"dragAndDrop",!0,{description:M.N("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:At(new class extends z{constructor(){super(32,"emptySelectionClipboard",!0,{description:M.N("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(He,$e,qt){return qt&&He.emptySelectionClipboard}}),extraEditorClassName:At(new P(33,"extraEditorClassName","")),fastScrollSensitivity:At(new Z(34,"fastScrollSensitivity",5,Yt=>Yt<=0?5:Yt,{markdownDescription:M.N("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:At(new class extends S{constructor(){const He={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(35,"find",He,{"editor.find.cursorMoveOnType":{type:"boolean",default:He.cursorMoveOnType,description:M.N("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:He.seedSearchStringFromSelection,enumDescriptions:[M.N("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),M.N("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),M.N("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:M.N("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:He.autoFindInSelection,enumDescriptions:[M.N("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),M.N("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),M.N("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:M.N("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:He.globalFindClipboard,description:M.N("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:g.dz},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:He.addExtraSpaceOnTop,description:M.N("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:He.loop,description:M.N("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(He){if(!He||"object"!=typeof He)return this.defaultValue;const $e=He;return{cursorMoveOnType:N($e.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:"boolean"==typeof He.seedSearchStringFromSelection?He.seedSearchStringFromSelection?"always":"never":k($e.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:"boolean"==typeof He.autoFindInSelection?He.autoFindInSelection?"always":"never":k($e.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:N($e.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:N($e.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:N($e.loop,this.defaultValue.loop)}}}),fixedOverflowWidgets:At(new z(36,"fixedOverflowWidgets",!1)),folding:At(new z(37,"folding",!0,{description:M.N("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:At(new $(38,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[M.N("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),M.N("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:M.N("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:At(new z(39,"foldingHighlight",!0,{description:M.N("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:At(new z(40,"foldingImportsByDefault",!1,{description:M.N("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:At(new I(41,"foldingMaximumRegions",5e3,10,65e3,{description:M.N("foldingMaximumRegions","The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:At(new z(42,"unfoldOnClickAfterEndOfLine",!1,{description:M.N("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:At(new P(43,"fontFamily",_n.fontFamily,{description:M.N("fontFamily","Controls the font family.")})),fontInfo:At(new class extends L{constructor(){super(44)}compute(He,$e,qt){return He.fontInfo}}),fontLigatures2:At(new le),fontSize:At(new class extends f{constructor(){super(46,"fontSize",_n.fontSize,{type:"number",minimum:6,maximum:100,default:_n.fontSize,description:M.N("fontSize","Controls the font size in pixels.")})}validate(He){const $e=Z.float(He,this.defaultValue);return 0===$e?_n.fontSize:Z.clamp($e,6,100)}compute(He,$e,qt){return He.fontInfo.fontSize}}),fontWeight:At(new re),formatOnPaste:At(new z(48,"formatOnPaste",!1,{description:M.N("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:At(new z(49,"formatOnType",!1,{description:M.N("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:At(new z(50,"glyphMargin",!0,{description:M.N("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:At(new class extends S{constructor(){const He={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},$e={type:"string",enum:["peek","gotoAndPeek","goto"],default:He.multiple,enumDescriptions:[M.N("editor.gotoLocation.multiple.peek","Show peek view of the results (default)"),M.N("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a peek view"),M.N("editor.gotoLocation.multiple.goto","Go to the primary result and enable peek-less navigation to others")]},qt=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(51,"gotoLocation",He,{"editor.gotoLocation.multiple":{deprecationMessage:M.N("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Object.assign({description:M.N("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},$e),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:M.N("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},$e),"editor.gotoLocation.multipleDeclarations":Object.assign({description:M.N("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},$e),"editor.gotoLocation.multipleImplementations":Object.assign({description:M.N("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},$e),"editor.gotoLocation.multipleReferences":Object.assign({description:M.N("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},$e),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:He.alternativeDefinitionCommand,enum:qt,description:M.N("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:He.alternativeTypeDefinitionCommand,enum:qt,description:M.N("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:He.alternativeDeclarationCommand,enum:qt,description:M.N("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:He.alternativeImplementationCommand,enum:qt,description:M.N("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:He.alternativeReferenceCommand,enum:qt,description:M.N("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(He){var $e,qt,mn,ni,fi;if(!He||"object"!=typeof He)return this.defaultValue;const wi=He;return{multiple:k(wi.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:null!==($e=wi.multipleDefinitions)&&void 0!==$e?$e:k(wi.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:null!==(qt=wi.multipleTypeDefinitions)&&void 0!==qt?qt:k(wi.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:null!==(mn=wi.multipleDeclarations)&&void 0!==mn?mn:k(wi.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:null!==(ni=wi.multipleImplementations)&&void 0!==ni?ni:k(wi.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:null!==(fi=wi.multipleReferences)&&void 0!==fi?fi:k(wi.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:P.string(wi.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:P.string(wi.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:P.string(wi.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:P.string(wi.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:P.string(wi.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}),hideCursorInOverviewRuler:At(new z(52,"hideCursorInOverviewRuler",!1,{description:M.N("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:At(new class extends S{constructor(){const He={enabled:!0,delay:300,sticky:!0,above:!0};super(53,"hover",He,{"editor.hover.enabled":{type:"boolean",default:He.enabled,description:M.N("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:He.delay,minimum:0,maximum:1e4,description:M.N("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:He.sticky,description:M.N("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.above":{type:"boolean",default:He.above,description:M.N("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(He){if(!He||"object"!=typeof He)return this.defaultValue;const $e=He;return{enabled:N($e.enabled,this.defaultValue.enabled),delay:I.clampedInt($e.delay,this.defaultValue.delay,0,1e4),sticky:N($e.sticky,this.defaultValue.sticky),above:N($e.above,this.defaultValue.above)}}}),inDiffEditor:At(new z(54,"inDiffEditor",!1)),letterSpacing:At(new Z(56,"letterSpacing",_n.letterSpacing,Yt=>Z.clamp(Yt,-5,20),{description:M.N("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:At(new class extends S{constructor(){const He={enabled:!0};super(57,"lightbulb",He,{"editor.lightbulb.enabled":{type:"boolean",default:He.enabled,description:M.N("codeActions","Enables the code action lightbulb in the editor.")}})}validate(He){return He&&"object"==typeof He?{enabled:N(He.enabled,this.defaultValue.enabled)}:this.defaultValue}}),lineDecorationsWidth:At(new f(58,"lineDecorationsWidth",10)),lineHeight:At(new class extends Z{constructor(){super(59,"lineHeight",_n.lineHeight,He=>Z.clamp(He,0,150),{markdownDescription:M.N("lineHeight","Controls the line height. \n - Use 0 to automatically compute the line height from the font size.\n - Values between 0 and 8 will be used as a multiplier with the font size.\n - Values greater than or equal to 8 will be used as effective values.")})}compute(He,$e,qt){return He.fontInfo.lineHeight}}),lineNumbers:At(new class extends S{constructor(){super(60,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[M.N("lineNumbers.off","Line numbers are not rendered."),M.N("lineNumbers.on","Line numbers are rendered as absolute number."),M.N("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),M.N("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:M.N("lineNumbers","Controls the display of line numbers.")})}validate(He){let $e=this.defaultValue.renderType,qt=this.defaultValue.renderFn;return void 0!==He&&("function"==typeof He?($e=4,qt=He):$e="interval"===He?3:"relative"===He?2:"on"===He?1:0),{renderType:$e,renderFn:qt}}}),lineNumbersMinChars:At(new I(61,"lineNumbersMinChars",5,1,300)),linkedEditing:At(new z(62,"linkedEditing",!1,{description:M.N("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols, e.g. HTML tags, are updated while editing.")})),links:At(new z(63,"links",!0,{description:M.N("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:At(new $(64,"matchBrackets","always",["always","near","never"],{description:M.N("matchBrackets","Highlight matching brackets.")})),minimap:At(new class extends S{constructor(){const He={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(65,"minimap",He,{"editor.minimap.enabled":{type:"boolean",default:He.enabled,description:M.N("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[M.N("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),M.N("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),M.N("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:He.size,description:M.N("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:He.side,description:M.N("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:He.showSlider,description:M.N("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:He.scale,minimum:1,maximum:3,enum:[1,2,3],description:M.N("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:He.renderCharacters,description:M.N("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:He.maxColumn,description:M.N("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(He){if(!He||"object"!=typeof He)return this.defaultValue;const $e=He;return{enabled:N($e.enabled,this.defaultValue.enabled),size:k($e.size,this.defaultValue.size,["proportional","fill","fit"]),side:k($e.side,this.defaultValue.side,["right","left"]),showSlider:k($e.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:N($e.renderCharacters,this.defaultValue.renderCharacters),scale:I.clampedInt($e.scale,1,1,3),maxColumn:I.clampedInt($e.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}),mouseStyle:At(new $(66,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:At(new Z(67,"mouseWheelScrollSensitivity",1,Yt=>0===Yt?1:Yt,{markdownDescription:M.N("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:At(new z(68,"mouseWheelZoom",!1,{markdownDescription:M.N("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:At(new z(69,"multiCursorMergeOverlapping",!0,{description:M.N("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:At(new j(70,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],function(Yt){return"ctrlCmd"===Yt?g.dz?"metaKey":"ctrlKey":"altKey"},{markdownEnumDescriptions:[M.N("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),M.N("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:M.N({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the multicursor modifier. [Read more](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:At(new $(71,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[M.N("multiCursorPaste.spread","Each cursor pastes a single line of the text."),M.N("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:M.N("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),occurrencesHighlight:At(new z(72,"occurrencesHighlight",!0,{description:M.N("occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:At(new z(73,"overviewRulerBorder",!0,{description:M.N("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:At(new I(74,"overviewRulerLanes",3,0,3)),padding:At(new class extends S{constructor(){super(75,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:M.N("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:M.N("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(He){if(!He||"object"!=typeof He)return this.defaultValue;const $e=He;return{top:I.clampedInt($e.top,0,0,1e3),bottom:I.clampedInt($e.bottom,0,0,1e3)}}}),parameterHints:At(new class extends S{constructor(){const He={enabled:!0,cycle:!1};super(76,"parameterHints",He,{"editor.parameterHints.enabled":{type:"boolean",default:He.enabled,description:M.N("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:He.cycle,description:M.N("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(He){if(!He||"object"!=typeof He)return this.defaultValue;const $e=He;return{enabled:N($e.enabled,this.defaultValue.enabled),cycle:N($e.cycle,this.defaultValue.cycle)}}}),peekWidgetDefaultFocus:At(new $(77,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[M.N("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),M.N("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:M.N("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:At(new z(78,"definitionLinkOpensInPeek",!1,{description:M.N("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:At(new class extends S{constructor(){const He={other:!0,comments:!1,strings:!1};super(79,"quickSuggestions",He,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:He.strings,description:M.N("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{type:"boolean",default:He.comments,description:M.N("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{type:"boolean",default:He.other,description:M.N("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}}}],default:He,description:M.N("quickSuggestions","Controls whether suggestions should automatically show up while typing.")}),this.defaultValue=He}validate(He){if("boolean"==typeof He)return He;if(He&&"object"==typeof He){const $e=He,qt={other:N($e.other,this.defaultValue.other),comments:N($e.comments,this.defaultValue.comments),strings:N($e.strings,this.defaultValue.strings)};return!!(qt.other&&qt.comments&&qt.strings)||!!(qt.other||qt.comments||qt.strings)&&qt}return this.defaultValue}}),quickSuggestionsDelay:At(new I(80,"quickSuggestionsDelay",10,0,1073741824,{description:M.N("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:At(new z(81,"readOnly",!1)),renameOnType:At(new z(82,"renameOnType",!1,{description:M.N("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:M.N("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:At(new z(83,"renderControlCharacters",!0,{description:M.N("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:At(new z(84,"renderFinalNewline",!0,{description:M.N("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:At(new $(85,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",M.N("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:M.N("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:At(new z(86,"renderLineHighlightOnlyWhenFocus",!1,{description:M.N("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:At(new $(87,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:At(new $(88,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",M.N("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),M.N("renderWhitespace.selection","Render whitespace characters only on selected text."),M.N("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:M.N("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:At(new I(89,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:At(new z(90,"roundedSelection",!0,{description:M.N("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:At(new class extends S{constructor(){const He=[],$e={type:"number",description:M.N("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(91,"rulers",He,{type:"array",items:{anyOf:[$e,{type:["object"],properties:{column:$e,color:{type:"string",description:M.N("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:He,description:M.N("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(He){if(Array.isArray(He)){const $e=[];for(let qt of He)if("number"==typeof qt)$e.push({column:I.clampedInt(qt,0,0,1e4),color:null});else if(qt&&"object"==typeof qt){const mn=qt;$e.push({column:I.clampedInt(mn.column,0,0,1e4),color:mn.color})}return $e.sort((qt,mn)=>qt.column-mn.column),$e}return this.defaultValue}}),scrollbar:At(new class extends S{constructor(){const He={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(92,"scrollbar",He,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[M.N("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),M.N("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),M.N("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:M.N("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[M.N("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),M.N("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),M.N("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:M.N("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:He.verticalScrollbarSize,description:M.N("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:He.horizontalScrollbarSize,description:M.N("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:He.scrollByPage,description:M.N("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")}})}validate(He){if(!He||"object"!=typeof He)return this.defaultValue;const $e=He,qt=I.clampedInt($e.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),mn=I.clampedInt($e.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:I.clampedInt($e.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:Ne($e.vertical,this.defaultValue.vertical),horizontal:Ne($e.horizontal,this.defaultValue.horizontal),useShadows:N($e.useShadows,this.defaultValue.useShadows),verticalHasArrows:N($e.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:N($e.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:N($e.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:N($e.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:qt,horizontalSliderSize:I.clampedInt($e.horizontalSliderSize,qt,0,1e3),verticalScrollbarSize:mn,verticalSliderSize:I.clampedInt($e.verticalSliderSize,mn,0,1e3),scrollByPage:N($e.scrollByPage,this.defaultValue.scrollByPage)}}}),scrollBeyondLastColumn:At(new I(93,"scrollBeyondLastColumn",5,0,1073741824,{description:M.N("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:At(new z(94,"scrollBeyondLastLine",!0,{description:M.N("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:At(new z(95,"scrollPredominantAxis",!0,{description:M.N("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:At(new z(96,"selectionClipboard",!0,{description:M.N("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:g.IJ})),selectionHighlight:At(new z(97,"selectionHighlight",!0,{description:M.N("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:At(new z(98,"selectOnLineNumbers",!0)),showFoldingControls:At(new $(99,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[M.N("showFoldingControls.always","Always show the folding controls."),M.N("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:M.N("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:At(new z(100,"showUnused",!0,{description:M.N("showUnused","Controls fading out of unused code.")})),showDeprecated:At(new z(126,"showDeprecated",!0,{description:M.N("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:At(new class extends S{constructor(){const He={enabled:!0,fontSize:0,fontFamily:""};super(127,"inlayHints",He,{"editor.inlayHints.enabled":{type:"boolean",default:He.enabled,description:M.N("inlayHints.enable","Enables the inlay hints in the editor.")},"editor.inlayHints.fontSize":{type:"number",default:He.fontSize,markdownDescription:M.N("inlayHints.fontSize","Controls font size of inlay hints in the editor. A default of 90% of `#editor.fontSize#` is used when the configured value is less than `5` or greater than the editor font size.")},"editor.inlayHints.fontFamily":{type:"string",default:He.fontFamily,markdownDescription:M.N("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the `#editor.fontFamily#` is used.")}})}validate(He){if(!He||"object"!=typeof He)return this.defaultValue;const $e=He;return{enabled:N($e.enabled,this.defaultValue.enabled),fontSize:I.clampedInt($e.fontSize,this.defaultValue.fontSize,0,100),fontFamily:P.string($e.fontFamily,this.defaultValue.fontFamily)}}}),snippetSuggestions:At(new $(101,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[M.N("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),M.N("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),M.N("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),M.N("snippetSuggestions.none","Do not show snippet suggestions.")],description:M.N("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:At(new class extends S{constructor(){super(102,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:M.N("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"}})}validate(He){return He&&"object"==typeof He?{selectLeadingAndTrailingWhitespace:N(He.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}:this.defaultValue}}),smoothScrolling:At(new z(103,"smoothScrolling",!1,{description:M.N("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:At(new I(105,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:At(new class extends S{constructor(){const He={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(106,"suggest",He,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[M.N("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),M.N("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:He.insertMode,description:M.N("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:He.filterGraceful,description:M.N("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:He.localityBonus,description:M.N("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:He.shareSuggestSelections,markdownDescription:M.N("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:He.snippetsPreventQuickSuggestions,description:M.N("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:He.showIcons,description:M.N("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:He.showStatusBar,description:M.N("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:He.preview,description:M.N("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:He.showInlineDetails,description:M.N("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:M.N("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:M.N("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:M.N("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:M.N("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:M.N("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:M.N("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:M.N("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:M.N("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:M.N("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:M.N("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:M.N("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:M.N("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:M.N("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:M.N("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:M.N("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:M.N("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:M.N("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:M.N("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:M.N("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:M.N("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:M.N("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:M.N("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:M.N("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:M.N("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:M.N("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:M.N("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:M.N("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:M.N("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:M.N("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:M.N("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:M.N("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(He){if(!He||"object"!=typeof He)return this.defaultValue;const $e=He;return{insertMode:k($e.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:N($e.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:N($e.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:N($e.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:N($e.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:N($e.showIcons,this.defaultValue.showIcons),showStatusBar:N($e.showStatusBar,this.defaultValue.showStatusBar),preview:N($e.preview,this.defaultValue.preview),previewMode:k($e.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:N($e.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:N($e.showMethods,this.defaultValue.showMethods),showFunctions:N($e.showFunctions,this.defaultValue.showFunctions),showConstructors:N($e.showConstructors,this.defaultValue.showConstructors),showDeprecated:N($e.showDeprecated,this.defaultValue.showDeprecated),showFields:N($e.showFields,this.defaultValue.showFields),showVariables:N($e.showVariables,this.defaultValue.showVariables),showClasses:N($e.showClasses,this.defaultValue.showClasses),showStructs:N($e.showStructs,this.defaultValue.showStructs),showInterfaces:N($e.showInterfaces,this.defaultValue.showInterfaces),showModules:N($e.showModules,this.defaultValue.showModules),showProperties:N($e.showProperties,this.defaultValue.showProperties),showEvents:N($e.showEvents,this.defaultValue.showEvents),showOperators:N($e.showOperators,this.defaultValue.showOperators),showUnits:N($e.showUnits,this.defaultValue.showUnits),showValues:N($e.showValues,this.defaultValue.showValues),showConstants:N($e.showConstants,this.defaultValue.showConstants),showEnums:N($e.showEnums,this.defaultValue.showEnums),showEnumMembers:N($e.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:N($e.showKeywords,this.defaultValue.showKeywords),showWords:N($e.showWords,this.defaultValue.showWords),showColors:N($e.showColors,this.defaultValue.showColors),showFiles:N($e.showFiles,this.defaultValue.showFiles),showReferences:N($e.showReferences,this.defaultValue.showReferences),showFolders:N($e.showFolders,this.defaultValue.showFolders),showTypeParameters:N($e.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:N($e.showSnippets,this.defaultValue.showSnippets),showUsers:N($e.showUsers,this.defaultValue.showUsers),showIssues:N($e.showIssues,this.defaultValue.showIssues)}}}),inlineSuggest:At(new class extends S{constructor(){const He={enabled:!0,mode:"subwordSmart"};super(55,"inlineSuggest",He,{"editor.inlineSuggest.enabled":{type:"boolean",default:He.enabled,description:M.N("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")}})}validate(He){if(!He||"object"!=typeof He)return this.defaultValue;const $e=He;return{enabled:N($e.enabled,this.defaultValue.enabled),mode:k($e.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}}}),suggestFontSize:At(new I(107,"suggestFontSize",0,0,1e3,{markdownDescription:M.N("suggestFontSize","Font size for the suggest widget. When set to `0`, the value of `#editor.fontSize#` is used.")})),suggestLineHeight:At(new I(108,"suggestLineHeight",0,0,1e3,{markdownDescription:M.N("suggestLineHeight","Line height for the suggest widget. When set to `0`, the value of `#editor.lineHeight#` is used. The minimum value is 8.")})),suggestOnTriggerCharacters:At(new z(109,"suggestOnTriggerCharacters",!0,{description:M.N("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:At(new $(110,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[M.N("suggestSelection.first","Always select the first suggestion."),M.N("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),M.N("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:M.N("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:At(new $(111,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[M.N("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),M.N("tabCompletion.off","Disable tab completions."),M.N("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:M.N("tabCompletion","Enables tab completions.")})),tabIndex:At(new I(112,"tabIndex",0,-1,1073741824)),unicodeHighlight:At(new class extends S{constructor(){const He={nonBasicASCII:_t,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:_t,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(113,"unicodeHighlight",He,{[zt.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,_t],default:He.nonBasicASCII,description:M.N("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[zt.invisibleCharacters]:{restricted:!0,type:"boolean",default:He.invisibleCharacters,description:M.N("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")},[zt.ambiguousCharacters]:{restricted:!0,type:"boolean",default:He.ambiguousCharacters,description:M.N("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[zt.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,_t],default:He.includeComments,description:M.N("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to unicode highlighting.")},[zt.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,_t],default:He.includeStrings,description:M.N("unicodeHighlight.includeStrings","Controls whether characters in strings should also be subject to unicode highlighting.")},[zt.allowedCharacters]:{restricted:!0,type:"object",default:He.allowedCharacters,description:M.N("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},[zt.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:He.allowedLocales,description:M.N("unicodeHighlight.allowedLocales","Unicode characters that are common in allowed locales are not being highlighted.")}})}applyUpdate(He,$e){let qt=!1;$e.allowedCharacters&&(E.fS(He.allowedCharacters,$e.allowedCharacters)||(He=Object.assign(Object.assign({},He),{allowedCharacters:$e.allowedCharacters}),qt=!0)),$e.allowedLocales&&(E.fS(He.allowedLocales,$e.allowedLocales)||(He=Object.assign(Object.assign({},He),{allowedLocales:$e.allowedLocales}),qt=!0));const mn=super.applyUpdate(He,$e);return qt?new C(mn.newValue,!0):mn}validate(He){if(!He||"object"!=typeof He)return this.defaultValue;const $e=He;return{nonBasicASCII:Wt($e.nonBasicASCII,_t,[!0,!1,_t]),invisibleCharacters:N($e.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:N($e.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:Wt($e.includeComments,_t,[!0,!1,_t]),includeStrings:Wt($e.includeStrings,_t,[!0,!1,_t]),allowedCharacters:this.validateBooleanMap(He.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(He.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(He,$e){if("object"!=typeof He||!He)return $e;const qt={};for(const[mn,ni]of Object.entries(He))!0===ni&&(qt[mn]=!0);return qt}}),unusualLineTerminators:At(new $(114,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[M.N("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),M.N("unusualLineTerminators.off","Unusual line terminators are ignored."),M.N("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:M.N("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:At(new z(115,"useShadowDOM",!0)),useTabStops:At(new z(116,"useTabStops",!0,{description:M.N("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordSeparators:At(new P(117,"wordSeparators",Y.vu,{description:M.N("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:At(new $(118,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[M.N("wordWrap.off","Lines will never wrap."),M.N("wordWrap.on","Lines will wrap at the viewport width."),M.N({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),M.N({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:M.N({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:At(new P(119,"wordWrapBreakAfterCharacters"," \t})]?|/&.,;\xa2\xb0\u2032\u2033\u2030\u2103\u3001\u3002\uff61\uff64\uffe0\uff0c\uff0e\uff1a\uff1b\uff1f\uff01\uff05\u30fb\uff65\u309d\u309e\u30fd\u30fe\u30fc\u30a1\u30a3\u30a5\u30a7\u30a9\u30c3\u30e3\u30e5\u30e7\u30ee\u30f5\u30f6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308e\u3095\u3096\u31f0\u31f1\u31f2\u31f3\u31f4\u31f5\u31f6\u31f7\u31f8\u31f9\u31fa\u31fb\u31fc\u31fd\u31fe\u31ff\u3005\u303b\uff67\uff68\uff69\uff6a\uff6b\uff6c\uff6d\uff6e\uff6f\uff70\u201d\u3009\u300b\u300d\u300f\u3011\u3015\uff09\uff3d\uff5d\uff63")),wordWrapBreakBeforeCharacters:At(new P(120,"wordWrapBreakBeforeCharacters","([{\u2018\u201c\u3008\u300a\u300c\u300e\u3010\u3014\uff08\uff3b\uff5b\uff62\xa3\xa5\uff04\uffe1\uffe5+\uff0b")),wordWrapColumn:At(new I(121,"wordWrapColumn",80,1,1073741824,{markdownDescription:M.N({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:At(new $(122,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:At(new $(123,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:At(new j(124,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],function(Yt){switch(Yt){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}},{enumDescriptions:[M.N("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),M.N("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),M.N("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),M.N("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:M.N("wrappingIndent","Controls the indentation of wrapped lines.")})),wrappingStrategy:At(new $(125,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[M.N("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),M.N("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],description:M.N("wrappingStrategy","Controls the algorithm that computes wrapping points.")})),editorClassName:At(new class extends L{constructor(){super(128)}compute(He,$e,qt){const mn=["monaco-editor"];return $e.get(33)&&mn.push($e.get(33)),He.extraEditorClassName&&mn.push(He.extraEditorClassName),"default"===$e.get(66)?mn.push("mouse-default"):"copy"===$e.get(66)&&mn.push("mouse-copy"),$e.get(100)&&mn.push("showUnused"),$e.get(126)&&mn.push("showDeprecated"),mn.join(" ")}}),pixelRatio:At(new class extends L{constructor(){super(129)}compute(He,$e,qt){return He.pixelRatio}}),tabFocusMode:At(new class extends L{constructor(){super(130)}compute(He,$e,qt){return!!$e.get(81)||He.tabFocusMode}}),layoutInfo:At(new ke),wrappingInfo:At(new class extends L{constructor(){super(132)}compute(He,$e,qt){const mn=$e.get(131);return{isDominatedByLongLines:He.isDominatedByLongLines,isWordWrapMinified:mn.isWordWrapMinified,isViewportWrapping:mn.isViewportWrapping,wrappingColumn:mn.wrappingColumn}}})}},86627:(Be,Me,m)=>{m.d(Me,{C:()=>g});var M=m(71040);const g=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new M.Q5,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(Y){Y=Math.min(Math.max(-5,Y),20),this._zoomLevel!==Y&&(this._zoomLevel=Y,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}},11358:(Be,Me,m)=>{m.d(Me,{E4:()=>E,pR:()=>O});var M=m(70700),g=m(86627);const Y=M.dz?1.5:1.35;class E{constructor(T){this._bareFontInfoBrand=void 0,this.pixelRatio=T.pixelRatio,this.fontFamily=String(T.fontFamily),this.fontWeight=String(T.fontWeight),this.fontSize=T.fontSize,this.fontFeatureSettings=T.fontFeatureSettings,this.lineHeight=0|T.lineHeight,this.letterSpacing=T.letterSpacing}static createFromValidatedSettings(T,S,C){const b=T.get(43),L=T.get(47),f=T.get(46),N=T.get(45),z=T.get(59),D=T.get(56);return E._create(b,L,f,N,z,D,S,C)}static _create(T,S,C,b,L,f,N,z){0===L?L=Y*C:L<8&&(L*=C),(L=Math.round(L))<8&&(L=8);const D=1+(z?0:.1*g.C.getZoomLevel());return new E({pixelRatio:N,fontFamily:T,fontWeight:S,fontSize:C*=D,fontFeatureSettings:b,lineHeight:L*=D,letterSpacing:f})}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(T){const S=E._wrapInQuotes(this.fontFamily);return T&&this.fontFamily!==T?`${S}, ${T}`:S}static _wrapInQuotes(T){return/[,"']/.test(T)?T:/[+ ]/.test(T)?`"${T}"`:T}}class O extends E{constructor(T,S){super(T),this._editorStylingBrand=void 0,this.version=1,this.isTrusted=S,this.isMonospace=T.isMonospace,this.typicalHalfwidthCharacterWidth=T.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=T.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=T.canUseHalfwidthRightwardsArrow,this.spaceWidth=T.spaceWidth,this.middotWidth=T.middotWidth,this.wsmiddotWidth=T.wsmiddotWidth,this.maxDigitWidth=T.maxDigitWidth}equals(T){return this.fontFamily===T.fontFamily&&this.fontWeight===T.fontWeight&&this.fontSize===T.fontSize&&this.fontFeatureSettings===T.fontFeatureSettings&&this.lineHeight===T.lineHeight&&this.letterSpacing===T.letterSpacing&&this.typicalHalfwidthCharacterWidth===T.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===T.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===T.canUseHalfwidthRightwardsArrow&&this.spaceWidth===T.spaceWidth&&this.middotWidth===T.middotWidth&&this.wsmiddotWidth===T.wsmiddotWidth&&this.maxDigitWidth===T.maxDigitWidth}}},59242:(Be,Me,m)=>{m.d(Me,{N:()=>g,q:()=>Y});var M=m(68733);class g{constructor(E){const i=(0,M.K)(E);this._defaultValue=i,this._asciiMap=g._createAsciiMap(i),this._map=new Map}static _createAsciiMap(E){const i=new Uint8Array(256);for(let O=0;O<256;O++)i[O]=E;return i}set(E,i){const O=(0,M.K)(i);E>=0&&E<256?this._asciiMap[E]=O:this._map.set(E,O)}get(E){return E>=0&&E<256?this._asciiMap[E]:this._map.get(E)||this._defaultValue}}class Y{constructor(){this._actual=new g(0)}add(E){this._actual.set(E,1)}has(E){return 1===this._actual.get(E)}}},90784:(Be,Me,m)=>{m.d(Me,{i:()=>g});var M=m(74243);class g{static _nextVisibleColumn(B,E,i){return 9===B?g.nextRenderTabStop(E,i):M.K7(B)||M.C8(B)?E+2:E+1}static visibleColumnFromColumn(B,E,i){const O=Math.min(E-1,B.length),F=B.substring(0,O),T=new M.W1(F);let S=0;for(;!T.eol();){const C=M.ZH(F,O,T.offset);T.nextGraphemeLength(),S=this._nextVisibleColumn(C,S,i)}return S}static columnFromVisibleColumn(B,E,i){if(E<=0)return 1;const O=B.length,F=new M.W1(B);let T=0,S=1;for(;!F.eol();){const C=M.ZH(B,O,F.offset);F.nextGraphemeLength();const b=this._nextVisibleColumn(C,T,i),L=F.offset+1;if(b>=E)return b-E<E-T?L:S;T=b,S=L}return O+1}static nextRenderTabStop(B,E){return B+E-B%E}static nextIndentTabStop(B,E){return B+E-B%E}static prevRenderTabStop(B,E){return Math.max(0,B-1-(B-1)%E)}static prevIndentTabStop(B,E){return Math.max(0,B-1-(B-1)%E)}}},19420:(Be,Me,m)=>{m.d(Me,{h:()=>g});var M=m(1873);class g{static insert(B,E){return{range:new M.e(B.lineNumber,B.column,B.lineNumber,B.column),text:E,forceMoveMarkers:!0}}static delete(B){return{range:B,text:null}}static replace(B,E){return{range:B,text:E}}static replaceMove(B,E){return{range:B,text:E,forceMoveMarkers:!0}}}},79695:(Be,Me,m)=>{m.d(Me,{Kh:()=>E,Mm:()=>i,n0:()=>C,fY:()=>b,tR:()=>f,Ym:()=>N,hw:()=>z,DD:()=>I,zk:()=>Z,TC:()=>k,Dl:()=>$,zw:()=>j,e_:()=>G,kp:()=>de,zu:()=>fe,x3:()=>pe,N5:()=>we,IO:()=>ge,m9:()=>q,lK:()=>le,Re:()=>ee,eS:()=>X,zJ:()=>re,Vs:()=>ce,CE:()=>ve,UP:()=>ke,r0:()=>Ve,m1:()=>Ue,ts:()=>ue,oV:()=>_e,m$:()=>Re,DS:()=>et,lS:()=>Ze,Jn:()=>Pe,YF:()=>rt,Qb:()=>ut,m3:()=>nt,To:()=>Se,L7:()=>Ne,HV:()=>at,f9:()=>_t});var M=m(12918),g=m(81897),Y=m(98275),B=m(53323);const E=(0,Y.P6G)("editor.lineHighlightBackground",{dark:null,light:null,hc:null},M.N("lineHighlight","Background color for the highlight of line at the cursor position.")),i=(0,Y.P6G)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},M.N("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),O=(0,Y.P6G)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},M.N("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),F=(0,Y.P6G)("editor.rangeHighlightBorder",{dark:null,light:null,hc:Y.xL1},M.N("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),T=(0,Y.P6G)("editor.symbolHighlightBackground",{dark:Y.MUv,light:Y.MUv,hc:null},M.N("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),S=(0,Y.P6G)("editor.symbolHighlightBorder",{dark:null,light:null,hc:Y.xL1},M.N("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),C=(0,Y.P6G)("editorCursor.foreground",{dark:"#AEAFAD",light:g.Il.black,hc:g.Il.white},M.N("caret","Color of the editor cursor.")),b=(0,Y.P6G)("editorCursor.background",null,M.N("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),L=(0,Y.P6G)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},M.N("editorWhitespaces","Color of whitespace characters in the editor.")),f=(0,Y.P6G)("editorIndentGuide.background",{dark:L,light:L,hc:L},M.N("editorIndentGuides","Color of the editor indentation guides.")),N=(0,Y.P6G)("editorIndentGuide.activeBackground",{dark:L,light:L,hc:L},M.N("editorActiveIndentGuide","Color of the active editor indentation guides.")),z=(0,Y.P6G)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:g.Il.white},M.N("editorLineNumbers","Color of editor line numbers.")),D=(0,Y.P6G)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:Y.xL1},M.N("editorActiveLineNumber","Color of editor active line number"),!1,M.N("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),I=(0,Y.P6G)("editorLineNumber.activeForeground",{dark:D,light:D,hc:D},M.N("editorActiveLineNumber","Color of editor active line number")),Z=(0,Y.P6G)("editorRuler.foreground",{dark:"#5A5A5A",light:g.Il.lightgrey,hc:g.Il.white},M.N("editorRuler","Color of the editor rulers.")),k=((0,Y.P6G)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hc:"#999999"},M.N("editorCodeLensForeground","Foreground color of editor CodeLens")),(0,Y.P6G)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},M.N("editorBracketMatchBackground","Background color behind matching brackets"))),$=(0,Y.P6G)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:Y.lRK},M.N("editorBracketMatchBorder","Color for matching brackets boxes")),j=(0,Y.P6G)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},M.N("editorOverviewRulerBorder","Color of the overview ruler border.")),G=(0,Y.P6G)("editorOverviewRuler.background",null,M.N("editorOverviewRulerBackground","Background color of the editor overview ruler. Only used when the minimap is enabled and placed on the right side of the editor.")),oe=(0,Y.P6G)("editorGutter.background",{dark:Y.cvW,light:Y.cvW,hc:Y.cvW},M.N("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),de=(0,Y.P6G)("editorUnnecessaryCode.border",{dark:null,light:null,hc:g.Il.fromHex("#fff").transparent(.8)},M.N("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),fe=(0,Y.P6G)("editorUnnecessaryCode.opacity",{dark:g.Il.fromHex("#000a"),light:g.Il.fromHex("#0007"),hc:null},M.N("unnecessaryCodeOpacity","Opacity of unnecessary (unused) source code in the editor. For example, \"#000000c0\" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.")),pe=(0,Y.P6G)("editorGhostText.border",{dark:null,light:null,hc:g.Il.fromHex("#fff").transparent(.8)},M.N("editorGhostTextBorder","Border color of ghost text in the editor.")),we=(0,Y.P6G)("editorGhostText.foreground",{dark:g.Il.fromHex("#ffffff56"),light:g.Il.fromHex("#0007"),hc:null},M.N("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),ge=(0,Y.P6G)("editorGhostText.background",{dark:null,light:null,hc:null},M.N("editorGhostTextBackground","Background color of the ghost text in the editor.")),Q=new g.Il(new g.VS(0,122,204,.6)),q=(0,Y.P6G)("editorOverviewRuler.rangeHighlightForeground",{dark:Q,light:Q,hc:Q},M.N("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),le=(0,Y.P6G)("editorOverviewRuler.errorForeground",{dark:new g.Il(new g.VS(255,18,18,.7)),light:new g.Il(new g.VS(255,18,18,.7)),hc:new g.Il(new g.VS(255,50,50,1))},M.N("overviewRuleError","Overview ruler marker color for errors.")),ee=(0,Y.P6G)("editorOverviewRuler.warningForeground",{dark:Y.uoC,light:Y.uoC,hc:Y.pW3},M.N("overviewRuleWarning","Overview ruler marker color for warnings.")),X=(0,Y.P6G)("editorOverviewRuler.infoForeground",{dark:Y.c63,light:Y.c63,hc:Y.T83},M.N("overviewRuleInfo","Overview ruler marker color for infos.")),re=(0,Y.P6G)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hc:"#FFD700"},M.N("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),ce=(0,Y.P6G)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hc:"#DA70D6"},M.N("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),ve=(0,Y.P6G)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hc:"#87CEFA"},M.N("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),ke=(0,Y.P6G)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},M.N("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),Ve=(0,Y.P6G)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},M.N("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),Ue=(0,Y.P6G)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},M.N("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),ue=(0,Y.P6G)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new g.Il(new g.VS(255,18,18,.8)),light:new g.Il(new g.VS(255,18,18,.8)),hc:new g.Il(new g.VS(255,50,50,1))},M.N("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),_e=(0,Y.P6G)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},M.N("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),Re=(0,Y.P6G)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},M.N("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),et=(0,Y.P6G)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},M.N("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),Ze=(0,Y.P6G)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},M.N("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),Pe=(0,Y.P6G)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},M.N("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),rt=(0,Y.P6G)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},M.N("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),ut=(0,Y.P6G)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},M.N("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),nt=(0,Y.P6G)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},M.N("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),Se=(0,Y.P6G)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},M.N("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),Ne=(0,Y.P6G)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},M.N("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),at=(0,Y.P6G)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},M.N("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),_t=(0,Y.P6G)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},M.N("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides."));(0,Y.P6G)("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hc:"#ff0000"},M.N("editorUnicodeHighlight.border","Border color used to highlight unicode characters.")),(0,B.Ic)((pn,mt)=>{const Rt=pn.getColor(Y.cvW);Rt&&mt.addRule(`.monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: ${Rt}; }`);const Bt=pn.getColor(Y.NOs);Bt&&mt.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${Bt}; }`);const Wt=pn.getColor(oe);Wt&&mt.addRule(`.monaco-editor .margin { background-color: ${Wt}; }`);const fn=pn.getColor(O);fn&&mt.addRule(`.monaco-editor .rangeHighlight { background-color: ${fn}; }`);const Ye=pn.getColor(F);Ye&&mt.addRule(`.monaco-editor .rangeHighlight { border: 1px ${"hc"===pn.type?"dotted":"solid"} ${Ye}; }`);const Dt=pn.getColor(T);Dt&&mt.addRule(`.monaco-editor .symbolHighlight { background-color: ${Dt}; }`);const St=pn.getColor(S);St&&mt.addRule(`.monaco-editor .symbolHighlight { border: 1px ${"hc"===pn.type?"dotted":"solid"} ${St}; }`);const un=pn.getColor(L);un&&(mt.addRule(`.monaco-editor .mtkw { color: ${un} !important; }`),mt.addRule(`.monaco-editor .mtkz { color: ${un} !important; }`))})},34048:(Be,Me,m)=>{function M(g){let Y=0,B=0,E=0,i=0;for(let O=0,F=g.length;O<F;O++){const T=g.charCodeAt(O);13===T?(0===Y&&(B=O),Y++,O+1<F&&10===g.charCodeAt(O+1)?(i|=2,O++):i|=3,E=O+1):10===T&&(i|=1,0===Y&&(B=O),Y++,E=O+1)}return 0===Y&&(B=g.length),[Y,B,g.length-E,i]}m.d(Me,{Q:()=>M})},66200:(Be,Me,m)=>{m.d(Me,{x:()=>Y});var M=m(74243);function Y(B,E,i){let O=M.LC(B);return-1===O&&(O=B.length),function(B,E,i){let O=0;for(let T=0;T<B.length;T++)"\t"===B.charAt(T)?O+=E:O++;let F="";if(!i){const T=Math.floor(O/E);O%=E;for(let S=0;S<T;S++)F+="\t"}for(let T=0;T<O;T++)F+=" ";return F}(B.substring(0,O),E,i)+B.substring(O)}},67947:(Be,Me,m)=>{m.d(Me,{L:()=>M});class M{constructor(Y,B){this.lineNumber=Y,this.column=B}with(Y=this.lineNumber,B=this.column){return Y===this.lineNumber&&B===this.column?this:new M(Y,B)}delta(Y=0,B=0){return this.with(this.lineNumber+Y,this.column+B)}equals(Y){return M.equals(this,Y)}static equals(Y,B){return!Y&&!B||!!Y&&!!B&&Y.lineNumber===B.lineNumber&&Y.column===B.column}isBefore(Y){return M.isBefore(this,Y)}static isBefore(Y,B){return Y.lineNumber<B.lineNumber||!(B.lineNumber<Y.lineNumber)&&Y.column<B.column}isBeforeOrEqual(Y){return M.isBeforeOrEqual(this,Y)}static isBeforeOrEqual(Y,B){return Y.lineNumber<B.lineNumber||!(B.lineNumber<Y.lineNumber)&&Y.column<=B.column}static compare(Y,B){const E=0|Y.lineNumber,i=0|B.lineNumber;return E===i?(0|Y.column)-(0|B.column):E-i}clone(){return new M(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(Y){return new M(Y.lineNumber,Y.column)}static isIPosition(Y){return Y&&"number"==typeof Y.lineNumber&&"number"==typeof Y.column}}},1873:(Be,Me,m)=>{m.d(Me,{e:()=>g});var M=m(67947);class g{constructor(B,E,i,O){B>i||B===i&&E>O?(this.startLineNumber=i,this.startColumn=O,this.endLineNumber=B,this.endColumn=E):(this.startLineNumber=B,this.startColumn=E,this.endLineNumber=i,this.endColumn=O)}isEmpty(){return g.isEmpty(this)}static isEmpty(B){return B.startLineNumber===B.endLineNumber&&B.startColumn===B.endColumn}containsPosition(B){return g.containsPosition(this,B)}static containsPosition(B,E){return!(E.lineNumber<B.startLineNumber||E.lineNumber>B.endLineNumber||E.lineNumber===B.startLineNumber&&E.column<B.startColumn||E.lineNumber===B.endLineNumber&&E.column>B.endColumn)}static strictContainsPosition(B,E){return!(E.lineNumber<B.startLineNumber||E.lineNumber>B.endLineNumber||E.lineNumber===B.startLineNumber&&E.column<=B.startColumn||E.lineNumber===B.endLineNumber&&E.column>=B.endColumn)}containsRange(B){return g.containsRange(this,B)}static containsRange(B,E){return!(E.startLineNumber<B.startLineNumber||E.endLineNumber<B.startLineNumber||E.startLineNumber>B.endLineNumber||E.endLineNumber>B.endLineNumber||E.startLineNumber===B.startLineNumber&&E.startColumn<B.startColumn||E.endLineNumber===B.endLineNumber&&E.endColumn>B.endColumn)}strictContainsRange(B){return g.strictContainsRange(this,B)}static strictContainsRange(B,E){return!(E.startLineNumber<B.startLineNumber||E.endLineNumber<B.startLineNumber||E.startLineNumber>B.endLineNumber||E.endLineNumber>B.endLineNumber||E.startLineNumber===B.startLineNumber&&E.startColumn<=B.startColumn||E.endLineNumber===B.endLineNumber&&E.endColumn>=B.endColumn)}plusRange(B){return g.plusRange(this,B)}static plusRange(B,E){let i,O,F,T;return E.startLineNumber<B.startLineNumber?(i=E.startLineNumber,O=E.startColumn):E.startLineNumber===B.startLineNumber?(i=E.startLineNumber,O=Math.min(E.startColumn,B.startColumn)):(i=B.startLineNumber,O=B.startColumn),E.endLineNumber>B.endLineNumber?(F=E.endLineNumber,T=E.endColumn):E.endLineNumber===B.endLineNumber?(F=E.endLineNumber,T=Math.max(E.endColumn,B.endColumn)):(F=B.endLineNumber,T=B.endColumn),new g(i,O,F,T)}intersectRanges(B){return g.intersectRanges(this,B)}static intersectRanges(B,E){let i=B.startLineNumber,O=B.startColumn,F=B.endLineNumber,T=B.endColumn,S=E.startLineNumber,C=E.startColumn,b=E.endLineNumber,L=E.endColumn;return i<S?(i=S,O=C):i===S&&(O=Math.max(O,C)),F>b?(F=b,T=L):F===b&&(T=Math.min(T,L)),i>F||i===F&&O>T?null:new g(i,O,F,T)}equalsRange(B){return g.equalsRange(this,B)}static equalsRange(B,E){return!!B&&!!E&&B.startLineNumber===E.startLineNumber&&B.startColumn===E.startColumn&&B.endLineNumber===E.endLineNumber&&B.endColumn===E.endColumn}getEndPosition(){return g.getEndPosition(this)}static getEndPosition(B){return new M.L(B.endLineNumber,B.endColumn)}getStartPosition(){return g.getStartPosition(this)}static getStartPosition(B){return new M.L(B.startLineNumber,B.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(B,E){return new g(this.startLineNumber,this.startColumn,B,E)}setStartPosition(B,E){return new g(B,E,this.endLineNumber,this.endColumn)}collapseToStart(){return g.collapseToStart(this)}static collapseToStart(B){return new g(B.startLineNumber,B.startColumn,B.startLineNumber,B.startColumn)}static fromPositions(B,E=B){return new g(B.lineNumber,B.column,E.lineNumber,E.column)}static lift(B){return B?new g(B.startLineNumber,B.startColumn,B.endLineNumber,B.endColumn):null}static isIRange(B){return B&&"number"==typeof B.startLineNumber&&"number"==typeof B.startColumn&&"number"==typeof B.endLineNumber&&"number"==typeof B.endColumn}static areIntersectingOrTouching(B,E){return!(B.endLineNumber<E.startLineNumber||B.endLineNumber===E.startLineNumber&&B.endColumn<E.startColumn||E.endLineNumber<B.startLineNumber||E.endLineNumber===B.startLineNumber&&E.endColumn<B.startColumn)}static areIntersecting(B,E){return!(B.endLineNumber<E.startLineNumber||B.endLineNumber===E.startLineNumber&&B.endColumn<=E.startColumn||E.endLineNumber<B.startLineNumber||E.endLineNumber===B.startLineNumber&&E.endColumn<=B.startColumn)}static compareRangesUsingStarts(B,E){if(B&&E){const F=0|B.startLineNumber,T=0|E.startLineNumber;if(F===T){const S=0|B.startColumn,C=0|E.startColumn;if(S===C){const b=0|B.endLineNumber,L=0|E.endLineNumber;return b===L?(0|B.endColumn)-(0|E.endColumn):b-L}return S-C}return F-T}return(B?1:0)-(E?1:0)}static compareRangesUsingEnds(B,E){return B.endLineNumber===E.endLineNumber?B.endColumn===E.endColumn?B.startLineNumber===E.startLineNumber?B.startColumn-E.startColumn:B.startLineNumber-E.startLineNumber:B.endColumn-E.endColumn:B.endLineNumber-E.endLineNumber}static spansMultipleLines(B){return B.endLineNumber>B.startLineNumber}toJSON(){return this}}},60745:(Be,Me,m)=>{m.d(Me,{Y:()=>Y});var M=m(67947),g=m(1873);class Y extends g.e{constructor(E,i,O,F){super(E,i,O,F),this.selectionStartLineNumber=E,this.selectionStartColumn=i,this.positionLineNumber=O,this.positionColumn=F}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(E){return Y.selectionsEqual(this,E)}static selectionsEqual(E,i){return E.selectionStartLineNumber===i.selectionStartLineNumber&&E.selectionStartColumn===i.selectionStartColumn&&E.positionLineNumber===i.positionLineNumber&&E.positionColumn===i.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(E,i){return 0===this.getDirection()?new Y(this.startLineNumber,this.startColumn,E,i):new Y(E,i,this.startLineNumber,this.startColumn)}getPosition(){return new M.L(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new M.L(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(E,i){return 0===this.getDirection()?new Y(E,i,this.endLineNumber,this.endColumn):new Y(this.endLineNumber,this.endColumn,E,i)}static fromPositions(E,i=E){return new Y(E.lineNumber,E.column,i.lineNumber,i.column)}static fromRange(E,i){return 0===i?new Y(E.startLineNumber,E.startColumn,E.endLineNumber,E.endColumn):new Y(E.endLineNumber,E.endColumn,E.startLineNumber,E.startColumn)}static liftSelection(E){return new Y(E.selectionStartLineNumber,E.selectionStartColumn,E.positionLineNumber,E.positionColumn)}static selectionsArrEqual(E,i){if(E&&!i||!E&&i)return!1;if(!E&&!i)return!0;if(E.length!==i.length)return!1;for(let O=0,F=E.length;O<F;O++)if(!this.selectionsEqual(E[O],i[O]))return!1;return!0}static isISelection(E){return E&&"number"==typeof E.selectionStartLineNumber&&"number"==typeof E.selectionStartColumn&&"number"==typeof E.positionLineNumber&&"number"==typeof E.positionColumn}static createWithDirection(E,i,O,F,T){return 0===T?new Y(E,i,O,F):new Y(O,F,E,i)}}},53269:(Be,Me,m)=>{m.d(Me,{oe:()=>T,lZ:()=>S,l$:()=>C,kH:()=>b});var M=m(74243),g=m(70700),Y=m(90386);let B,i,F;function E(){return B||(B=new TextDecoder("UTF-16LE")),B}function T(){return F||(F=g.r()?E():(i||(i=new TextDecoder("UTF-16BE")),i)),F}const S="undefined"!=typeof TextDecoder;let C,b;function f(D,I,Z){const P=[];let k=0;for(let $=0;$<Z;$++){const j=Y.mP(D,I);I+=2,P[k++]=String.fromCharCode(j)}return P.join("")}S?(C=D=>new N(D),b=function(D,I,Z){const P=new Uint16Array(D.buffer,I,Z);return Z>0&&(65279===P[0]||65534===P[0])?f(D,I,Z):E().decode(P)}):(C=D=>new z,b=f);class N{constructor(I){this._capacity=0|I,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return null!==this._completedStrings?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(0===this._bufferLength)return"";const I=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return T().decode(I)}_flushBuffer(){const I=this._buildBuffer();this._bufferLength=0,null===this._completedStrings?this._completedStrings=[I]:this._completedStrings[this._completedStrings.length]=I}write1(I){const Z=this._capacity-this._bufferLength;Z<=1&&(0===Z||M.ZG(I))&&this._flushBuffer(),this._buffer[this._bufferLength++]=I}appendASCII(I){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=I}appendASCIIString(I){const Z=I.length;if(this._bufferLength+Z>=this._capacity)return this._flushBuffer(),void(this._completedStrings[this._completedStrings.length]=I);for(let P=0;P<Z;P++)this._buffer[this._bufferLength++]=I.charCodeAt(P)}}class z{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(I){this._pieces[this._piecesLen++]=String.fromCharCode(I)}appendASCII(I){this._pieces[this._piecesLen++]=String.fromCharCode(I)}appendASCIIString(I){this._pieces[this._piecesLen++]=I}}},64978:(Be,Me,m)=>{m.d(Me,{q:()=>B,b:()=>E});var M=m(90386),g=m(53269);function Y(O){return O.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class B{constructor(F,T,S,C){this.oldPosition=F,this.oldText=T,this.newPosition=S,this.newText=C}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return 0===this.oldText.length?`(insert@${this.oldPosition} "${Y(this.newText)}")`:0===this.newText.length?`(delete@${this.oldPosition} "${Y(this.oldText)}")`:`(replace@${this.oldPosition} "${Y(this.oldText)}" with "${Y(this.newText)}")`}static _writeStringSize(F){return 4+2*F.length}static _writeString(F,T,S){const C=T.length;M.T4(F,C,S),S+=4;for(let b=0;b<C;b++)M.oq(F,T.charCodeAt(b),S),S+=2;return S}static _readString(F,T){const S=M.Ag(F,T);return(0,g.kH)(F,T+=4,S)}writeSize(){return 8+B._writeStringSize(this.oldText)+B._writeStringSize(this.newText)}write(F,T){return M.T4(F,this.oldPosition,T),M.T4(F,this.newPosition,T+=4),T=B._writeString(F,this.oldText,T+=4),B._writeString(F,this.newText,T)}static read(F,T,S){const C=M.Ag(F,T),b=M.Ag(F,T+=4),L=B._readString(F,T+=4);T+=B._writeStringSize(L);const f=B._readString(F,T);return T+=B._writeStringSize(f),S.push(new B(C,L,b,f)),T}}function E(O,F){return null===O||0===O.length?F:new i(O,F).compress()}class i{constructor(F,T){this._prevEdits=F,this._currEdits=T,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let F=0,T=0,S=this._getPrev(F),C=this._getCurr(T);for(;F<this._prevLen||T<this._currLen;){if(null===S){this._acceptCurr(C),C=this._getCurr(++T);continue}if(null===C){this._acceptPrev(S),S=this._getPrev(++F);continue}if(C.oldEnd<=S.newPosition){this._acceptCurr(C),C=this._getCurr(++T);continue}if(S.newEnd<=C.oldPosition){this._acceptPrev(S),S=this._getPrev(++F);continue}if(C.oldPosition<S.newPosition){const[z,D]=i._splitCurr(C,S.newPosition-C.oldPosition);this._acceptCurr(z),C=D;continue}if(S.newPosition<C.oldPosition){const[z,D]=i._splitPrev(S,C.oldPosition-S.newPosition);this._acceptPrev(z),S=D;continue}let f,N;if(C.oldEnd===S.newEnd)f=S,N=C,S=this._getPrev(++F),C=this._getCurr(++T);else if(C.oldEnd<S.newEnd){const[z,D]=i._splitPrev(S,C.oldLength);f=z,N=C,S=D,C=this._getCurr(++T)}else{const[z,D]=i._splitCurr(C,S.newLength);f=S,N=z,S=this._getPrev(++F),C=D}this._result[this._resultLen++]=new B(f.oldPosition,f.oldText,N.newPosition,N.newText),this._prevDeltaOffset+=f.newLength-f.oldLength,this._currDeltaOffset+=N.newLength-N.oldLength}const b=i._merge(this._result);return i._removeNoOps(b)}_acceptCurr(F){this._result[this._resultLen++]=i._rebaseCurr(this._prevDeltaOffset,F),this._currDeltaOffset+=F.newLength-F.oldLength}_getCurr(F){return F<this._currLen?this._currEdits[F]:null}_acceptPrev(F){this._result[this._resultLen++]=i._rebasePrev(this._currDeltaOffset,F),this._prevDeltaOffset+=F.newLength-F.oldLength}_getPrev(F){return F<this._prevLen?this._prevEdits[F]:null}static _rebaseCurr(F,T){return new B(T.oldPosition-F,T.oldText,T.newPosition,T.newText)}static _rebasePrev(F,T){return new B(T.oldPosition,T.oldText,T.newPosition+F,T.newText)}static _splitPrev(F,T){const S=F.newText.substr(0,T),C=F.newText.substr(T);return[new B(F.oldPosition,F.oldText,F.newPosition,S),new B(F.oldEnd,"",F.newPosition+T,C)]}static _splitCurr(F,T){const S=F.oldText.substr(0,T),C=F.oldText.substr(T);return[new B(F.oldPosition,S,F.newPosition,F.newText),new B(F.oldPosition+T,C,F.newEnd,"")]}static _merge(F){if(0===F.length)return F;const T=[];let S=0,C=F[0];for(let b=1;b<F.length;b++){const L=F[b];C.oldEnd===L.oldPosition?C=new B(C.oldPosition,C.oldText+L.oldText,C.newPosition,C.newText+L.newText):(T[S++]=C,C=L)}return T[S++]=C,T}static _removeNoOps(F){if(0===F.length)return F;const T=[];let S=0;for(let C=0;C<F.length;C++){const b=F[C];b.oldText!==b.newText&&(T[S++]=b)}return T}}},27870:(Be,Me,m)=>{m.d(Me,{D:()=>M});const M={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!1}}},81346:(Be,Me,m)=>{m.d(Me,{u:()=>B});var M=m(59242);class g extends M.N{constructor(i){super(0);for(let O=0,F=i.length;O<F;O++)this.set(i.charCodeAt(O),2);this.set(32,1),this.set(9,1)}}const B=function(E){const i={};return O=>(i.hasOwnProperty(O)||(i[O]=(E=>new g(E))(O)),i[O])}()},54745:(Be,Me,m)=>{m.d(Me,{vu:()=>M,Af:()=>Y,eq:()=>B,t2:()=>i});const M="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?",Y=function(F=""){let T="(-?\\d*\\.\\d\\w*)|([^";for(const S of M)F.indexOf(S)>=0||(T+="\\"+S);return T+="\\s]+)",new RegExp(T,"g")}();function B(F){let T=Y;if(F&&F instanceof RegExp)if(F.global)T=F;else{let S="g";F.ignoreCase&&(S+="i"),F.multiline&&(S+="m"),F.unicode&&(S+="u"),T=new RegExp(F.source,S)}return T.lastIndex=0,T}const E={maxLen:1e3,windowSize:15,timeBudget:150};function i(F,T,S,C,b=E){if(S.length>b.maxLen){let D=F-b.maxLen/2;return D<0?D=0:C+=D,i(F,T,S=S.substring(D,F+b.maxLen/2),C,b)}const L=Date.now(),f=F-1-C;let N=-1,z=null;for(let D=1;!(Date.now()-L>=b.timeBudget);D++){const I=f-b.windowSize*D;T.lastIndex=Math.max(0,I);const Z=O(T,S,f,N);if(!Z&&z||(z=Z,I<=0))break;N=I}if(z){const D={word:z[0],startColumn:C+1+z.index,endColumn:C+1+z.index+z[0].length};return T.lastIndex=0,D}return null}function O(F,T,S,C){let b;for(;b=F.exec(T);){const L=b.index||0;if(L<=S&&F.lastIndex>=S)return b;if(C>0&&L>C)return null}return null}},56660:(Be,Me,m)=>{m.d(Me,{l:()=>g});var M=m(90784);class g{static whitespaceVisibleColumn(B,E,i){const O=B.length;let F=0,T=-1,S=-1;for(let C=0;C<O;C++){if(C===E)return[T,S,F];switch(F%i==0&&(T=C,S=F),B.charCodeAt(C)){case 32:F+=1;break;case 9:F=M.i.nextRenderTabStop(F,i);break;default:return[-1,-1,-1]}}return E===O?[T,S,F]:[-1,-1,-1]}static atomicPosition(B,E,i,O){const F=B.length,[T,S,C]=g.whitespaceVisibleColumn(B,E,i);if(-1===C)return-1;let b;switch(O){case 0:b=!0;break;case 1:b=!1;break;case 2:if(C%i==0)return E;b=C%i<=i/2}if(b){if(-1===T)return-1;let N=S;for(let z=T;z<F;++z){if(N===S+i)return T;switch(B.charCodeAt(z)){case 32:N+=1;break;case 9:N=M.i.nextRenderTabStop(N,i);break;default:return-1}}return N===S+i?T:-1}const L=M.i.nextRenderTabStop(C,i);let f=C;for(let N=E;N<F;N++){if(f===L)return N;switch(B.charCodeAt(N)){case 32:f+=1;break;case 9:f=M.i.nextRenderTabStop(f,i);break;default:return-1}}return f===L?F:-1}}},17666:(Be,Me,m)=>{m.d(Me,{A:()=>F});var M=m(74243),g=m(49317),Y=m(35590),B=m(90784),E=m(98596),i=m(1873),O=m(67947);class F{static deleteRight(S,C,b,L){const f=[];let N=3!==S;for(let z=0,D=L.length;z<D;z++){const I=L[z];let Z=I;if(Z.isEmpty()){const P=I.getPosition(),k=E.o.right(C,b,P);Z=new i.e(k.lineNumber,k.column,P.lineNumber,P.column)}Z.isEmpty()?f[z]=null:(Z.startLineNumber!==Z.endLineNumber&&(N=!0),f[z]=new g.T4(Z,""))}return[N,f]}static isAutoClosingPairDelete(S,C,b,L,f,N,z){if("never"===C&&"never"===b||"never"===S)return!1;for(let D=0,I=N.length;D<I;D++){const Z=N[D],P=Z.getPosition();if(!Z.isEmpty())return!1;const k=f.getLineContent(P.lineNumber);if(P.column<2||P.column>=k.length+1)return!1;const $=k.charAt(P.column-2),j=L.get($);if(!j)return!1;if((0,Y.LN)($)){if("never"===b)return!1}else if("never"===C)return!1;const G=k.charAt(P.column-1);let oe=!1;for(const de of j)de.open===$&&de.close===G&&(oe=!0);if(!oe)return!1;if("auto"===S){let de=!1;for(let fe=0,pe=z.length;fe<pe;fe++){const we=z[fe];if(P.lineNumber===we.startLineNumber&&P.column===we.startColumn){de=!0;break}}if(!de)return!1}}return!0}static _runAutoClosingPairDelete(S,C,b){const L=[];for(let f=0,N=b.length;f<N;f++){const z=b[f].getPosition(),D=new i.e(z.lineNumber,z.column-1,z.lineNumber,z.column+1);L[f]=new g.T4(D,"")}return[!0,L]}static deleteLeft(S,C,b,L,f){if(this.isAutoClosingPairDelete(C.autoClosingDelete,C.autoClosingBrackets,C.autoClosingQuotes,C.autoClosingPairs.autoClosingPairsOpenByEnd,b,L,f))return this._runAutoClosingPairDelete(C,b,L);const N=[];let z=2!==S;for(let D=0,I=L.length;D<I;D++){const Z=F.getDeleteRange(L[D],b,C);Z.isEmpty()?N[D]=null:(Z.startLineNumber!==Z.endLineNumber&&(z=!0),N[D]=new g.T4(Z,""))}return[z,N]}static getDeleteRange(S,C,b){if(!S.isEmpty())return S;const L=S.getPosition();if(b.useTabStops&&L.column>1){const f=C.getLineContent(L.lineNumber),N=M.LC(f);if(L.column<=(-1===N?f.length+1:N+1)){const D=b.visibleColumnFromColumn(C,L),I=B.i.prevIndentTabStop(D,b.indentSize),Z=b.columnFromVisibleColumn(C,L.lineNumber,I);return new i.e(L.lineNumber,Z,L.lineNumber,L.column)}}return i.e.fromPositions(F.getPositionAfterDeleteLeft(L,C),L)}static getPositionAfterDeleteLeft(S,C){if(S.column>1){const b=M.oH(S.column-1,C.getLineContent(S.lineNumber));return S.with(void 0,b+1)}if(S.lineNumber>1){const b=S.lineNumber-1;return new O.L(b,C.getLineMaxColumn(b))}return S}static cut(S,C,b){const L=[];let f=null;b.sort((N,z)=>O.L.compare(N.getStartPosition(),z.getEndPosition()));for(let N=0,z=b.length;N<z;N++){const D=b[N];if(D.isEmpty())if(S.emptySelectionClipboard){const I=D.getPosition();let Z,P,k,$;I.lineNumber<C.getLineCount()?(Z=I.lineNumber,P=1,k=I.lineNumber+1,$=1):I.lineNumber>1&&(null==f?void 0:f.endLineNumber)!==I.lineNumber?(Z=I.lineNumber-1,P=C.getLineMaxColumn(I.lineNumber-1),k=I.lineNumber,$=C.getLineMaxColumn(I.lineNumber)):(Z=I.lineNumber,P=1,k=I.lineNumber,$=C.getLineMaxColumn(I.lineNumber));const j=new i.e(Z,P,k,$);f=j,L[N]=j.isEmpty()?null:new g.T4(j,"")}else L[N]=null;else L[N]=new g.T4(D,"")}return new Y.Tp(0,L,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}},71015:(Be,Me,m)=>{m.d(Me,{P:()=>O,N:()=>F});var F,T,M=m(99770),g=m(35590),Y=m(98596),B=m(34397),E=m(67947),i=m(1873);class O{static addCursorDown(S,C,b){const L=[];let f=0;for(let N=0,z=C.length;N<z;N++){const D=C[N];L[f++]=new g.Vi(D.modelState,D.viewState),L[f++]=b?g.Vi.fromModelState(Y.o.translateDown(S.cursorConfig,S.model,D.modelState)):g.Vi.fromViewState(Y.o.translateDown(S.cursorConfig,S,D.viewState))}return L}static addCursorUp(S,C,b){const L=[];let f=0;for(let N=0,z=C.length;N<z;N++){const D=C[N];L[f++]=new g.Vi(D.modelState,D.viewState),L[f++]=b?g.Vi.fromModelState(Y.o.translateUp(S.cursorConfig,S.model,D.modelState)):g.Vi.fromViewState(Y.o.translateUp(S.cursorConfig,S,D.viewState))}return L}static moveToBeginningOfLine(S,C,b){let L=[];for(let f=0,N=C.length;f<N;f++)L[f]=this._moveToLineStart(S,C[f],b);return L}static _moveToLineStart(S,C,b){const L=C.viewState.position.column,N=L===C.modelState.position.column,D=S.getLineFirstNonWhitespaceColumn(C.viewState.position.lineNumber);return N||L===D?this._moveToLineStartByModel(S,C,b):this._moveToLineStartByView(S,C,b)}static _moveToLineStartByView(S,C,b){return g.Vi.fromViewState(Y.o.moveToBeginningOfLine(S.cursorConfig,S,C.viewState,b))}static _moveToLineStartByModel(S,C,b){return g.Vi.fromModelState(Y.o.moveToBeginningOfLine(S.cursorConfig,S.model,C.modelState,b))}static moveToEndOfLine(S,C,b,L){const f=[];for(let N=0,z=C.length;N<z;N++)f[N]=this._moveToLineEnd(S,C[N],b,L);return f}static _moveToLineEnd(S,C,b,L){const f=C.viewState.position,N=S.getLineMaxColumn(f.lineNumber),z=f.column===N,D=C.modelState.position,I=S.model.getLineMaxColumn(D.lineNumber);return z||N-f.column==I-D.column?this._moveToLineEndByModel(S,C,b,L):this._moveToLineEndByView(S,C,b,L)}static _moveToLineEndByView(S,C,b,L){return g.Vi.fromViewState(Y.o.moveToEndOfLine(S.cursorConfig,S,C.viewState,b,L))}static _moveToLineEndByModel(S,C,b,L){return g.Vi.fromModelState(Y.o.moveToEndOfLine(S.cursorConfig,S.model,C.modelState,b,L))}static expandLineSelection(S,C){const b=[];for(let L=0,f=C.length;L<f;L++){const N=C[L],z=N.modelState.selection.startLineNumber,D=S.model.getLineCount();let Z,I=N.modelState.selection.endLineNumber;I===D?Z=S.model.getLineMaxColumn(D):(I++,Z=1),b[L]=g.Vi.fromModelState(new g.rS(new i.e(z,1,z,1),0,new E.L(I,Z),0))}return b}static moveToBeginningOfBuffer(S,C,b){const L=[];for(let f=0,N=C.length;f<N;f++)L[f]=g.Vi.fromModelState(Y.o.moveToBeginningOfBuffer(S.cursorConfig,S.model,C[f].modelState,b));return L}static moveToEndOfBuffer(S,C,b){const L=[];for(let f=0,N=C.length;f<N;f++)L[f]=g.Vi.fromModelState(Y.o.moveToEndOfBuffer(S.cursorConfig,S.model,C[f].modelState,b));return L}static selectAll(S,C){const b=S.model.getLineCount(),L=S.model.getLineMaxColumn(b);return g.Vi.fromModelState(new g.rS(new i.e(1,1,1,1),0,new E.L(b,L),0))}static line(S,C,b,L,f){const N=S.model.validatePosition(L),z=f?S.coordinatesConverter.validateViewPosition(new E.L(f.lineNumber,f.column),N):S.coordinatesConverter.convertModelPositionToViewPosition(N);if(!b||!C.modelState.hasSelection()){const I=S.model.getLineCount();let Z=N.lineNumber+1,P=1;return Z>I&&(Z=I,P=S.model.getLineMaxColumn(Z)),g.Vi.fromModelState(new g.rS(new i.e(N.lineNumber,1,Z,P),0,new E.L(Z,P),0))}const D=C.modelState.selectionStart.getStartPosition().lineNumber;if(N.lineNumber<D)return g.Vi.fromViewState(C.viewState.move(C.modelState.hasSelection(),z.lineNumber,1,0));if(N.lineNumber>D){const I=S.getLineCount();let Z=z.lineNumber+1,P=1;return Z>I&&(Z=I,P=S.getLineMaxColumn(Z)),g.Vi.fromViewState(C.viewState.move(C.modelState.hasSelection(),Z,P,0))}{const I=C.modelState.selectionStart.getEndPosition();return g.Vi.fromModelState(C.modelState.move(C.modelState.hasSelection(),I.lineNumber,I.column,0))}}static word(S,C,b,L){const f=S.model.validatePosition(L);return g.Vi.fromModelState(B.w.word(S.cursorConfig,S.model,C.modelState,b,f))}static cancelSelection(S,C){if(!C.modelState.hasSelection())return new g.Vi(C.modelState,C.viewState);const b=C.viewState.position.lineNumber,L=C.viewState.position.column;return g.Vi.fromViewState(new g.rS(new i.e(b,L,b,L),0,new E.L(b,L),0))}static moveTo(S,C,b,L,f){const N=S.model.validatePosition(L),z=f?S.coordinatesConverter.validateViewPosition(new E.L(f.lineNumber,f.column),N):S.coordinatesConverter.convertModelPositionToViewPosition(N);return g.Vi.fromViewState(C.viewState.move(b,z.lineNumber,z.column,0))}static simpleMove(S,C,b,L,f,N){switch(b){case 0:return 4===N?this._moveHalfLineLeft(S,C,L):this._moveLeft(S,C,L,f);case 1:return 4===N?this._moveHalfLineRight(S,C,L):this._moveRight(S,C,L,f);case 2:return 2===N?this._moveUpByViewLines(S,C,L,f):this._moveUpByModelLines(S,C,L,f);case 3:return 2===N?this._moveDownByViewLines(S,C,L,f):this._moveDownByModelLines(S,C,L,f);case 4:return C.map(2===N?z=>g.Vi.fromViewState(Y.o.moveToPrevBlankLine(S.cursorConfig,S,z.viewState,L)):z=>g.Vi.fromModelState(Y.o.moveToPrevBlankLine(S.cursorConfig,S.model,z.modelState,L)));case 5:return C.map(2===N?z=>g.Vi.fromViewState(Y.o.moveToNextBlankLine(S.cursorConfig,S,z.viewState,L)):z=>g.Vi.fromModelState(Y.o.moveToNextBlankLine(S.cursorConfig,S.model,z.modelState,L)));case 6:return this._moveToViewMinColumn(S,C,L);case 7:return this._moveToViewFirstNonWhitespaceColumn(S,C,L);case 8:return this._moveToViewCenterColumn(S,C,L);case 9:return this._moveToViewMaxColumn(S,C,L);case 10:return this._moveToViewLastNonWhitespaceColumn(S,C,L);default:return null}}static viewportMove(S,C,b,L,f){const N=S.getCompletelyVisibleViewRange(),z=S.coordinatesConverter.convertViewRangeToModelRange(N);switch(b){case 11:{const D=this._firstLineNumberInRange(S.model,z,f),I=S.model.getLineFirstNonWhitespaceColumn(D);return[this._moveToModelPosition(S,C[0],L,D,I)]}case 13:{const D=this._lastLineNumberInRange(S.model,z,f),I=S.model.getLineFirstNonWhitespaceColumn(D);return[this._moveToModelPosition(S,C[0],L,D,I)]}case 12:{const D=Math.round((z.startLineNumber+z.endLineNumber)/2),I=S.model.getLineFirstNonWhitespaceColumn(D);return[this._moveToModelPosition(S,C[0],L,D,I)]}case 14:{const D=[];for(let I=0,Z=C.length;I<Z;I++)D[I]=this.findPositionInViewportIfOutside(S,C[I],N,L);return D}default:return null}}static findPositionInViewportIfOutside(S,C,b,L){const f=C.viewState.position.lineNumber;if(b.startLineNumber<=f&&f<=b.endLineNumber-1)return new g.Vi(C.modelState,C.viewState);{let N;N=f>b.endLineNumber-1?b.endLineNumber-1:f<b.startLineNumber?b.startLineNumber:f;const z=Y.o.vertical(S.cursorConfig,S,f,C.viewState.position.column,C.viewState.leftoverVisibleColumns,N,!1);return g.Vi.fromViewState(C.viewState.move(L,z.lineNumber,z.column,z.leftoverVisibleColumns))}}static _firstLineNumberInRange(S,C,b){let L=C.startLineNumber;return C.startColumn!==S.getLineMinColumn(L)&&L++,Math.min(C.endLineNumber,L+b-1)}static _lastLineNumberInRange(S,C,b){let L=C.startLineNumber;return C.startColumn!==S.getLineMinColumn(L)&&L++,Math.max(L,C.endLineNumber-b+1)}static _moveLeft(S,C,b,L){return C.map(f=>g.Vi.fromViewState(Y.o.moveLeft(S.cursorConfig,S,f.viewState,b,L)))}static _moveHalfLineLeft(S,C,b){const L=[];for(let f=0,N=C.length;f<N;f++){const z=C[f],I=Math.round(S.getLineContent(z.viewState.position.lineNumber).length/2);L[f]=g.Vi.fromViewState(Y.o.moveLeft(S.cursorConfig,S,z.viewState,b,I))}return L}static _moveRight(S,C,b,L){return C.map(f=>g.Vi.fromViewState(Y.o.moveRight(S.cursorConfig,S,f.viewState,b,L)))}static _moveHalfLineRight(S,C,b){const L=[];for(let f=0,N=C.length;f<N;f++){const z=C[f],I=Math.round(S.getLineContent(z.viewState.position.lineNumber).length/2);L[f]=g.Vi.fromViewState(Y.o.moveRight(S.cursorConfig,S,z.viewState,b,I))}return L}static _moveDownByViewLines(S,C,b,L){const f=[];for(let N=0,z=C.length;N<z;N++)f[N]=g.Vi.fromViewState(Y.o.moveDown(S.cursorConfig,S,C[N].viewState,b,L));return f}static _moveDownByModelLines(S,C,b,L){const f=[];for(let N=0,z=C.length;N<z;N++)f[N]=g.Vi.fromModelState(Y.o.moveDown(S.cursorConfig,S.model,C[N].modelState,b,L));return f}static _moveUpByViewLines(S,C,b,L){const f=[];for(let N=0,z=C.length;N<z;N++)f[N]=g.Vi.fromViewState(Y.o.moveUp(S.cursorConfig,S,C[N].viewState,b,L));return f}static _moveUpByModelLines(S,C,b,L){const f=[];for(let N=0,z=C.length;N<z;N++)f[N]=g.Vi.fromModelState(Y.o.moveUp(S.cursorConfig,S.model,C[N].modelState,b,L));return f}static _moveToViewPosition(S,C,b,L,f){return g.Vi.fromViewState(C.viewState.move(b,L,f,0))}static _moveToModelPosition(S,C,b,L,f){return g.Vi.fromModelState(C.modelState.move(b,L,f,0))}static _moveToViewMinColumn(S,C,b){const L=[];for(let f=0,N=C.length;f<N;f++){const z=C[f],D=z.viewState.position.lineNumber,I=S.getLineMinColumn(D);L[f]=this._moveToViewPosition(S,z,b,D,I)}return L}static _moveToViewFirstNonWhitespaceColumn(S,C,b){const L=[];for(let f=0,N=C.length;f<N;f++){const z=C[f],D=z.viewState.position.lineNumber,I=S.getLineFirstNonWhitespaceColumn(D);L[f]=this._moveToViewPosition(S,z,b,D,I)}return L}static _moveToViewCenterColumn(S,C,b){const L=[];for(let f=0,N=C.length;f<N;f++){const z=C[f],D=z.viewState.position.lineNumber,I=Math.round((S.getLineMaxColumn(D)+S.getLineMinColumn(D))/2);L[f]=this._moveToViewPosition(S,z,b,D,I)}return L}static _moveToViewMaxColumn(S,C,b){const L=[];for(let f=0,N=C.length;f<N;f++){const z=C[f],D=z.viewState.position.lineNumber,I=S.getLineMaxColumn(D);L[f]=this._moveToViewPosition(S,z,b,D,I)}return L}static _moveToViewLastNonWhitespaceColumn(S,C,b){const L=[];for(let f=0,N=C.length;f<N;f++){const z=C[f],D=z.viewState.position.lineNumber,I=S.getLineLastNonWhitespaceColumn(D);L[f]=this._moveToViewPosition(S,z,b,D,I)}return L}}(T=F||(F={})).description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory logical position value providing where to move the cursor.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',\n\t\t\t\t\t\t'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'\n\t\t\t\t\t\t'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'\n\t\t\t\t\t\t'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'character', 'halfLine'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'select': If 'true' makes the selection. Default is 'false'.\n\t\t\t\t",constraint:function(b){if(!M.Kn(b))return!1;const L=b;return!(!M.HD(L.to)||!M.o8(L.select)&&!M.jn(L.select)||!M.o8(L.by)&&!M.HD(L.by)||!M.o8(L.value)&&!M.hj(L.value))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},T.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},T.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"},T.parse=function(b){if(!b.to)return null;let L;switch(b.to){case T.RawDirection.Left:L=0;break;case T.RawDirection.Right:L=1;break;case T.RawDirection.Up:L=2;break;case T.RawDirection.Down:L=3;break;case T.RawDirection.PrevBlankLine:L=4;break;case T.RawDirection.NextBlankLine:L=5;break;case T.RawDirection.WrappedLineStart:L=6;break;case T.RawDirection.WrappedLineFirstNonWhitespaceCharacter:L=7;break;case T.RawDirection.WrappedLineColumnCenter:L=8;break;case T.RawDirection.WrappedLineEnd:L=9;break;case T.RawDirection.WrappedLineLastNonWhitespaceCharacter:L=10;break;case T.RawDirection.ViewPortTop:L=11;break;case T.RawDirection.ViewPortBottom:L=13;break;case T.RawDirection.ViewPortCenter:L=12;break;case T.RawDirection.ViewPortIfOutside:L=14;break;default:return null}let f=0;switch(b.by){case T.RawUnit.Line:f=1;break;case T.RawUnit.WrappedLine:f=2;break;case T.RawUnit.Character:f=3;break;case T.RawUnit.HalfLine:f=4}return{direction:L,unit:f,select:!!b.select,value:b.value||1}}},98596:(Be,Me,m)=>{m.d(Me,{o:()=>F});var M=m(35590),g=m(90784),Y=m(67947),B=m(1873),E=m(74243),i=m(56660);class O{constructor(S,C,b){this._cursorPositionBrand=void 0,this.lineNumber=S,this.column=C,this.leftoverVisibleColumns=b}}class F{static leftPosition(S,C){if(C.column>S.getLineMinColumn(C.lineNumber))return C.delta(void 0,-E.HO(S.getLineContent(C.lineNumber),C.column-1));if(C.lineNumber>1){const b=C.lineNumber-1;return new Y.L(b,S.getLineMaxColumn(b))}return C}static leftPositionAtomicSoftTabs(S,C,b){if(C.column<=S.getLineIndentColumn(C.lineNumber)){const L=S.getLineMinColumn(C.lineNumber),f=S.getLineContent(C.lineNumber),N=i.l.atomicPosition(f,C.column-1,b,0);if(-1!==N&&N+1>=L)return new Y.L(C.lineNumber,N+1)}return this.leftPosition(S,C)}static left(S,C,b){const L=S.stickyTabStops?F.leftPositionAtomicSoftTabs(C,b,S.tabSize):F.leftPosition(C,b);return new O(L.lineNumber,L.column,0)}static moveLeft(S,C,b,L,f){let N,z;if(b.hasSelection()&&!L)N=b.selection.startLineNumber,z=b.selection.startColumn;else{const D=b.position.delta(void 0,-(f-1)),I=C.normalizePosition(F.clipPositionColumn(D,C),0),Z=F.left(S,C,I);N=Z.lineNumber,z=Z.column}return b.move(L,N,z,0)}static clipPositionColumn(S,C){return new Y.L(S.lineNumber,F.clipRange(S.column,C.getLineMinColumn(S.lineNumber),C.getLineMaxColumn(S.lineNumber)))}static clipRange(S,C,b){return S<C?C:S>b?b:S}static rightPosition(S,C,b){return b<S.getLineMaxColumn(C)?b+=E.vH(S.getLineContent(C),b-1):C<S.getLineCount()&&(b=S.getLineMinColumn(C+=1)),new Y.L(C,b)}static rightPositionAtomicSoftTabs(S,C,b,L,f){if(b<S.getLineIndentColumn(C)){const N=S.getLineContent(C),z=i.l.atomicPosition(N,b-1,L,1);if(-1!==z)return new Y.L(C,z+1)}return this.rightPosition(S,C,b)}static right(S,C,b){const L=S.stickyTabStops?F.rightPositionAtomicSoftTabs(C,b.lineNumber,b.column,S.tabSize,S.indentSize):F.rightPosition(C,b.lineNumber,b.column);return new O(L.lineNumber,L.column,0)}static moveRight(S,C,b,L,f){let N,z;if(b.hasSelection()&&!L)N=b.selection.endLineNumber,z=b.selection.endColumn;else{const D=b.position.delta(void 0,f-1),I=C.normalizePosition(F.clipPositionColumn(D,C),1),Z=F.right(S,C,I);N=Z.lineNumber,z=Z.column}return b.move(L,N,z,0)}static vertical(S,C,b,L,f,N,z,D){const I=g.i.visibleColumnFromColumn(C.getLineContent(b),L,S.tabSize)+f,Z=C.getLineCount(),P=1===b&&1===L,k=b===Z&&L===C.getLineMaxColumn(b),$=N<b?P:k;if((b=N)<1?(b=1,L=z?C.getLineMinColumn(b):Math.min(C.getLineMaxColumn(b),L)):b>Z?(b=Z,L=z?C.getLineMaxColumn(b):Math.min(C.getLineMaxColumn(b),L)):L=S.columnFromVisibleColumn(C,b,I),f=$?0:I-g.i.visibleColumnFromColumn(C.getLineContent(b),L,S.tabSize),void 0!==D){const j=new Y.L(b,L),G=C.normalizePosition(j,D);f+=L-G.column,b=G.lineNumber,L=G.column}return new O(b,L,f)}static down(S,C,b,L,f,N,z){return this.vertical(S,C,b,L,f,b+N,z,1)}static moveDown(S,C,b,L,f){let N,z;b.hasSelection()&&!L?(N=b.selection.endLineNumber,z=b.selection.endColumn):(N=b.position.lineNumber,z=b.position.column);const D=F.down(S,C,N,z,b.leftoverVisibleColumns,f,!0);return b.move(L,D.lineNumber,D.column,D.leftoverVisibleColumns)}static translateDown(S,C,b){const L=b.selection,f=F.down(S,C,L.selectionStartLineNumber,L.selectionStartColumn,b.selectionStartLeftoverVisibleColumns,1,!1),N=F.down(S,C,L.positionLineNumber,L.positionColumn,b.leftoverVisibleColumns,1,!1);return new M.rS(new B.e(f.lineNumber,f.column,f.lineNumber,f.column),f.leftoverVisibleColumns,new Y.L(N.lineNumber,N.column),N.leftoverVisibleColumns)}static up(S,C,b,L,f,N,z){return this.vertical(S,C,b,L,f,b-N,z,0)}static moveUp(S,C,b,L,f){let N,z;b.hasSelection()&&!L?(N=b.selection.startLineNumber,z=b.selection.startColumn):(N=b.position.lineNumber,z=b.position.column);const D=F.up(S,C,N,z,b.leftoverVisibleColumns,f,!0);return b.move(L,D.lineNumber,D.column,D.leftoverVisibleColumns)}static translateUp(S,C,b){const L=b.selection,f=F.up(S,C,L.selectionStartLineNumber,L.selectionStartColumn,b.selectionStartLeftoverVisibleColumns,1,!1),N=F.up(S,C,L.positionLineNumber,L.positionColumn,b.leftoverVisibleColumns,1,!1);return new M.rS(new B.e(f.lineNumber,f.column,f.lineNumber,f.column),f.leftoverVisibleColumns,new Y.L(N.lineNumber,N.column),N.leftoverVisibleColumns)}static _isBlankLine(S,C){return 0===S.getLineFirstNonWhitespaceColumn(C)}static moveToPrevBlankLine(S,C,b,L){let f=b.position.lineNumber;for(;f>1&&this._isBlankLine(C,f);)f--;for(;f>1&&!this._isBlankLine(C,f);)f--;return b.move(L,f,C.getLineMinColumn(f),0)}static moveToNextBlankLine(S,C,b,L){const f=C.getLineCount();let N=b.position.lineNumber;for(;N<f&&this._isBlankLine(C,N);)N++;for(;N<f&&!this._isBlankLine(C,N);)N++;return b.move(L,N,C.getLineMinColumn(N),0)}static moveToBeginningOfLine(S,C,b,L){const f=b.position.lineNumber,N=C.getLineMinColumn(f),z=C.getLineFirstNonWhitespaceColumn(f)||N;let D;return D=b.position.column===z?N:z,b.move(L,f,D,0)}static moveToEndOfLine(S,C,b,L,f){const N=b.position.lineNumber,z=C.getLineMaxColumn(N);return b.move(L,N,z,f?1073741824-z:0)}static moveToBeginningOfBuffer(S,C,b,L){return b.move(L,1,1,0)}static moveToEndOfBuffer(S,C,b,L){const f=C.getLineCount(),N=C.getLineMaxColumn(f);return b.move(L,f,N,0)}}},8418:(Be,Me,m)=>{m.d(Me,{u:()=>f,g:()=>N});var M=m(13226),g=m(74243),Y=m(49317),B=m(51788),E=m(1873),i=m(60745);class O{constructor(k,$,j){this._range=k,this._charBeforeSelection=$,this._charAfterSelection=j}getEditOperations(k,$){$.addTrackedEditOperation(new E.e(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),$.addTrackedEditOperation(new E.e(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(k,$){const j=$.getInverseEditOperations(),G=j[0].range,oe=j[1].range;return new i.Y(G.endLineNumber,G.endColumn,oe.endLineNumber,oe.endColumn-this._charAfterSelection.length)}}var F=m(35590),T=m(81346),S=m(67947),C=m(70950),b=m(92119),L=m(20595);class f{static indent(k,$,j){if(null===$||null===j)return[];const G=[];for(let oe=0,de=j.length;oe<de;oe++)G[oe]=new B.U(j[oe],{isUnshift:!1,tabSize:k.tabSize,indentSize:k.indentSize,insertSpaces:k.insertSpaces,useTabStops:k.useTabStops,autoIndent:k.autoIndent});return G}static outdent(k,$,j){const G=[];for(let oe=0,de=j.length;oe<de;oe++)G[oe]=new B.U(j[oe],{isUnshift:!0,tabSize:k.tabSize,indentSize:k.indentSize,insertSpaces:k.insertSpaces,useTabStops:k.useTabStops,autoIndent:k.autoIndent});return G}static shiftIndent(k,$,j){return B.U.shiftIndent($,$.length+(j=j||1),k.tabSize,k.indentSize,k.insertSpaces)}static unshiftIndent(k,$,j){return B.U.unshiftIndent($,$.length+(j=j||1),k.tabSize,k.indentSize,k.insertSpaces)}static _distributedPaste(k,$,j,G){const oe=[];for(let de=0,fe=j.length;de<fe;de++)oe[de]=new Y.T4(j[de],G[de]);return new F.Tp(0,oe,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(k,$,j,G,oe){const de=[];for(let fe=0,pe=j.length;fe<pe;fe++){const we=j[fe],ge=we.getPosition();if(oe&&!we.isEmpty()&&(oe=!1),oe&&G.indexOf("\n")!==G.length-1&&(oe=!1),oe){const Q=new E.e(ge.lineNumber,1,ge.lineNumber,1);de[fe]=new Y.hP(Q,G,we,!0)}else de[fe]=new Y.T4(we,G)}return new F.Tp(0,de,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(k,$,j,G,oe){if(G||1===$.length)return null;if(oe&&oe.length===$.length)return oe;if("spread"===k.multiCursorPaste){10===j.charCodeAt(j.length-1)&&(j=j.substr(0,j.length-1)),13===j.charCodeAt(j.length-1)&&(j=j.substr(0,j.length-1));const de=g.uq(j);if(de.length===$.length)return de}return null}static paste(k,$,j,G,oe,de){const fe=this._distributePasteToCursors(k,j,G,oe,de);return fe?(j=j.sort(E.e.compareRangesUsingStarts),this._distributedPaste(k,$,j,fe)):this._simplePaste(k,$,j,G,oe)}static _goodIndentForLine(k,$,j){let G=null,oe="";const de=b.zu.getInheritIndentForLine(k.autoIndent,$,j,!1);if(de)G=de.action,oe=de.indentation;else if(j>1){let fe;for(fe=j-1;fe>=1;fe--){const ge=$.getLineContent(fe);if(g.ow(ge)>=0)break}if(fe<1)return null;const pe=$.getLineMaxColumn(fe),we=b.zu.getEnterAction(k.autoIndent,$,new E.e(fe,pe,fe,pe));we&&(oe=we.indentation+we.appendText)}return G&&(G===C.wU.Indent&&(oe=f.shiftIndent(k,oe)),G===C.wU.Outdent&&(oe=f.unshiftIndent(k,oe)),oe=k.normalizeIndentation(oe)),oe||null}static _replaceJumpToNextIndent(k,$,j,G){let oe="";const de=j.getStartPosition();if(k.insertSpaces){const fe=k.visibleColumnFromColumn($,de),pe=k.indentSize,we=pe-fe%pe;for(let ge=0;ge<we;ge++)oe+=" "}else oe="\t";return new Y.T4(j,oe,G)}static tab(k,$,j){const G=[];for(let oe=0,de=j.length;oe<de;oe++){const fe=j[oe];if(fe.isEmpty()){const pe=$.getLineContent(fe.startLineNumber);if(/^\s*$/.test(pe)&&$.isCheapToTokenize(fe.startLineNumber)){let we=this._goodIndentForLine(k,$,fe.startLineNumber);we=we||"\t";const ge=k.normalizeIndentation(we);if(!pe.startsWith(ge)){G[oe]=new Y.T4(new E.e(fe.startLineNumber,1,fe.startLineNumber,pe.length+1),ge,!0);continue}}G[oe]=this._replaceJumpToNextIndent(k,$,fe,!0)}else{if(fe.startLineNumber===fe.endLineNumber){const pe=$.getLineMaxColumn(fe.startLineNumber);if(1!==fe.startColumn||fe.endColumn!==pe){G[oe]=this._replaceJumpToNextIndent(k,$,fe,!1);continue}}G[oe]=new B.U(fe,{isUnshift:!1,tabSize:k.tabSize,indentSize:k.indentSize,insertSpaces:k.insertSpaces,useTabStops:k.useTabStops,autoIndent:k.autoIndent})}}return G}static compositionType(k,$,j,G,oe,de,fe,pe){const we=G.map(ge=>this._compositionType(j,ge,oe,de,fe,pe));return new F.Tp(4,we,{shouldPushStackElementBefore:D(k,4),shouldPushStackElementAfter:!1})}static _compositionType(k,$,j,G,oe,de){if(!$.isEmpty())return null;const fe=$.getPosition(),pe=Math.max(1,fe.column-G),we=Math.min(k.getLineMaxColumn(fe.lineNumber),fe.column+oe),ge=new E.e(fe.lineNumber,pe,fe.lineNumber,we);return k.getValueInRange(ge)===j&&0===de?null:new Y.Uo(ge,j,0,de)}static _typeCommand(k,$,j){return j?new Y.Sj(k,$,!0):new Y.T4(k,$,!0)}static _enter(k,$,j,G){if(0===k.autoIndent)return f._typeCommand(G,"\n",j);if(!$.isCheapToTokenize(G.getStartPosition().lineNumber)||1===k.autoIndent){const pe=$.getLineContent(G.startLineNumber),we=g.V8(pe).substring(0,G.startColumn-1);return f._typeCommand(G,"\n"+k.normalizeIndentation(we),j)}const oe=b.zu.getEnterAction(k.autoIndent,$,G);if(oe){if(oe.indentAction===C.wU.None)return f._typeCommand(G,"\n"+k.normalizeIndentation(oe.indentation+oe.appendText),j);if(oe.indentAction===C.wU.Indent)return f._typeCommand(G,"\n"+k.normalizeIndentation(oe.indentation+oe.appendText),j);if(oe.indentAction===C.wU.IndentOutdent){const pe=k.normalizeIndentation(oe.indentation),we=k.normalizeIndentation(oe.indentation+oe.appendText),ge="\n"+we+"\n"+pe;return j?new Y.Sj(G,ge,!0):new Y.Uo(G,ge,-1,we.length-pe.length,!0)}if(oe.indentAction===C.wU.Outdent){const pe=f.unshiftIndent(k,oe.indentation);return f._typeCommand(G,"\n"+k.normalizeIndentation(pe+oe.appendText),j)}}const de=$.getLineContent(G.startLineNumber),fe=g.V8(de).substring(0,G.startColumn-1);if(k.autoIndent>=4){const pe=b.zu.getIndentForEnter(k.autoIndent,$,G,{unshiftIndent:we=>f.unshiftIndent(k,we),shiftIndent:we=>f.shiftIndent(k,we),normalizeIndentation:we=>k.normalizeIndentation(we)});if(pe){let we=k.visibleColumnFromColumn($,G.getEndPosition());const ge=G.endColumn,Q=$.getLineContent(G.endLineNumber),q=g.LC(Q);if(G=G.setEndPosition(G.endLineNumber,q>=0?Math.max(G.endColumn,q+1):$.getLineMaxColumn(G.endLineNumber)),j)return new Y.Sj(G,"\n"+k.normalizeIndentation(pe.afterEnter),!0);{let le=0;return ge<=q+1&&(k.insertSpaces||(we=Math.ceil(we/k.indentSize)),le=Math.min(we+1-k.normalizeIndentation(pe.afterEnter).length-1,0)),new Y.Uo(G,"\n"+k.normalizeIndentation(pe.afterEnter),0,le,!0)}}}return f._typeCommand(G,"\n"+k.normalizeIndentation(fe),j)}static _isAutoIndentType(k,$,j){if(k.autoIndent<4)return!1;for(let G=0,oe=j.length;G<oe;G++)if(!$.isCheapToTokenize(j[G].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(k,$,j,G){const oe=b.zu.getIndentationAtPosition($,j.startLineNumber,j.startColumn),de=b.zu.getIndentActionForType(k.autoIndent,$,j,G,{shiftIndent:fe=>f.shiftIndent(k,fe),unshiftIndent:fe=>f.unshiftIndent(k,fe)});if(null===de)return null;if(de!==k.normalizeIndentation(oe)){const fe=$.getLineFirstNonWhitespaceColumn(j.startLineNumber);return f._typeCommand(new E.e(j.startLineNumber,1,j.endLineNumber,j.endColumn),0===fe?k.normalizeIndentation(de)+G:k.normalizeIndentation(de)+$.getLineContent(j.startLineNumber).substring(fe-1,j.startColumn-1)+G,!1)}return null}static _isAutoClosingOvertype(k,$,j,G,oe){if("never"===k.autoClosingOvertype||!k.autoClosingPairs.autoClosingPairsCloseSingleChar.has(oe))return!1;for(let de=0,fe=j.length;de<fe;de++){const pe=j[de];if(!pe.isEmpty())return!1;const we=pe.getPosition(),ge=$.getLineContent(we.lineNumber);if(ge.charAt(we.column-1)!==oe)return!1;const q=(0,F.LN)(oe);if(92===(we.column>2?ge.charCodeAt(we.column-2):0)&&q)return!1;if("auto"===k.autoClosingOvertype){let ee=!1;for(let X=0,re=G.length;X<re;X++){const ce=G[X];if(we.lineNumber===ce.startLineNumber&&we.column===ce.startColumn){ee=!0;break}}if(!ee)return!1}}return!0}static _runAutoClosingOvertype(k,$,j,G,oe){const de=[];for(let fe=0,pe=G.length;fe<pe;fe++){const ge=G[fe].getPosition(),Q=new E.e(ge.lineNumber,ge.column,ge.lineNumber,ge.column+1);de[fe]=new Y.T4(Q,oe)}return new F.Tp(4,de,{shouldPushStackElementBefore:D(k,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(k,$){const j=$.charAt(0),G=k.autoClosingPairs.autoClosingPairsOpenByStart.get(j)||[],oe=k.autoClosingPairs.autoClosingPairsCloseByStart.get(j)||[],de=G.some(pe=>$.startsWith(pe.open)),fe=oe.some(pe=>$.startsWith(pe.close));return!de&&fe}static _findAutoClosingPairOpen(k,$,j,G){const oe=k.autoClosingPairs.autoClosingPairsOpenByEnd.get(G);if(!oe)return null;let de=null;for(const fe of oe)if(null===de||fe.open.length>de.open.length){let pe=!0;for(const we of j)if($.getValueInRange(new E.e(we.lineNumber,we.column-fe.open.length+1,we.lineNumber,we.column))+G!==fe.open){pe=!1;break}pe&&(de=fe)}return de}static _findContainedAutoClosingPair(k,$){if($.open.length<=1)return null;const j=$.close.charAt($.close.length-1),G=k.autoClosingPairs.autoClosingPairsCloseByEnd.get(j)||[];let oe=null;for(const de of G)de.open!==$.open&&$.open.includes(de.open)&&$.close.endsWith(de.close)&&(!oe||de.open.length>oe.open.length)&&(oe=de);return oe}static _getAutoClosingPairClose(k,$,j,G,oe){const de=(0,F.LN)(G),fe=de?k.autoClosingQuotes:k.autoClosingBrackets,pe=de?k.shouldAutoCloseBefore.quote:k.shouldAutoCloseBefore.bracket;if("never"===fe)return null;for(const ee of j)if(!ee.isEmpty())return null;const we=j.map(ee=>{const X=ee.getPosition();return oe?{lineNumber:X.lineNumber,beforeColumn:X.column-G.length,afterColumn:X.column}:{lineNumber:X.lineNumber,beforeColumn:X.column,afterColumn:X.column}}),ge=this._findAutoClosingPairOpen(k,$,we.map(ee=>new S.L(ee.lineNumber,ee.beforeColumn)),G);if(!ge)return null;const Q=this._findContainedAutoClosingPair(k,ge),q=Q?Q.close:"";let le=!0;for(const ee of we){const{lineNumber:X,beforeColumn:re,afterColumn:ce}=ee,ve=$.getLineContent(X),ke=ve.substring(0,re-1),Ve=ve.substring(ce-1);if(Ve.startsWith(q)||(le=!1),Ve.length>0){const Re=Ve.charAt(0);if(!f._isBeforeClosingBrace(k,Ve)&&!pe(Re))return null}if(1===ge.open.length&&("'"===G||'"'===G)&&"always"!==fe){const Re=(0,T.u)(k.wordSeparators);if(ke.length>0){const et=ke.charCodeAt(ke.length-1);if(0===Re.get(et))return null}}if(!$.isCheapToTokenize(X))return null;$.forceTokenization(X);const Ue=$.getLineTokens(X),ue=(0,L.wH)(Ue,re-1);if(!ge.shouldAutoClose(ue,re-ue.firstCharOffset))return null;const _e=ge.findNeutralCharacter();if(_e){const Re=$.getTokenTypeIfInsertingCharacter(X,re,_e);if(!ge.isOK(Re))return null}}return le?ge.close.substring(0,ge.close.length-q.length):ge.close}static _runAutoClosingOpenCharType(k,$,j,G,oe,de,fe){const pe=[];for(let we=0,ge=G.length;we<ge;we++)pe[we]=new N(G[we],oe,!de,fe);return new F.Tp(4,pe,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(k,$){return(0,F.LN)($)?"quotes"===k.autoSurround||"languageDefined"===k.autoSurround:"brackets"===k.autoSurround||"languageDefined"===k.autoSurround}static _isSurroundSelectionType(k,$,j,G){if(!f._shouldSurroundChar(k,G)||!k.surroundingPairs.hasOwnProperty(G))return!1;const oe=(0,F.LN)(G);for(let de=0,fe=j.length;de<fe;de++){const pe=j[de];if(pe.isEmpty())return!1;let we=!0;for(let ge=pe.startLineNumber;ge<=pe.endLineNumber;ge++){const Q=$.getLineContent(ge),ee=Q.substring(ge===pe.startLineNumber?pe.startColumn-1:0,ge===pe.endLineNumber?pe.endColumn-1:Q.length);if(/[^ \t]/.test(ee)){we=!1;break}}if(we)return!1;if(oe&&pe.startLineNumber===pe.endLineNumber&&pe.startColumn+1===pe.endColumn){const ge=$.getValueInRange(pe);if((0,F.LN)(ge))return!1}}return!0}static _runSurroundSelectionType(k,$,j,G,oe){const de=[];for(let fe=0,pe=G.length;fe<pe;fe++)de[fe]=new O(G[fe],oe,$.surroundingPairs[oe]);return new F.Tp(0,de,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(k,$,j){return!(1!==j.length||!$.isCheapToTokenize(j[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(k,$,j,G,oe){if(!$.electricChars.hasOwnProperty(oe)||!G.isEmpty())return null;const de=G.getPosition();j.forceTokenization(de.lineNumber);const fe=j.getLineTokens(de.lineNumber);let pe;try{pe=$.onElectricCharacter(oe,fe,de.column)}catch(we){return(0,M.dL)(we),null}if(!pe)return null;if(pe.matchOpenBracket){const we=(fe.getLineContent()+oe).lastIndexOf(pe.matchOpenBracket)+1,ge=j.bracketPairs.findMatchingBracketUp(pe.matchOpenBracket,{lineNumber:de.lineNumber,column:we},500);if(ge){if(ge.startLineNumber===de.lineNumber)return null;const Q=j.getLineContent(ge.startLineNumber),q=g.V8(Q),le=$.normalizeIndentation(q),ee=j.getLineContent(de.lineNumber),X=j.getLineFirstNonWhitespaceColumn(de.lineNumber)||de.column,ce=le+ee.substring(X-1,de.column-1)+oe,ve=new E.e(de.lineNumber,1,de.lineNumber,de.column),ke=new Y.T4(ve,ce);return new F.Tp(z(ce,k),[ke],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(k,$,j,G,oe,de){if(!G||i.Y.selectionsArrEqual(G,oe))return null;let fe=null;for(const we of oe){if(!we.isEmpty())return null;const ge=we.getPosition(),Q=j.getValueInRange(new E.e(ge.lineNumber,ge.column-1,ge.lineNumber,ge.column));if(null===fe)fe=Q;else if(fe!==Q)return null}if(!fe)return null;if(this._isAutoClosingOvertype($,j,oe,de,fe)){const we=oe.map(ge=>new Y.T4(new E.e(ge.positionLineNumber,ge.positionColumn,ge.positionLineNumber,ge.positionColumn+1),"",!1));return new F.Tp(4,we,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const pe=this._getAutoClosingPairClose($,j,oe,fe,!0);return null!==pe?this._runAutoClosingOpenCharType(k,$,j,oe,fe,!0,pe):null}static typeWithInterceptors(k,$,j,G,oe,de,fe){if(!k&&"\n"===fe){const ge=[];for(let Q=0,q=oe.length;Q<q;Q++)ge[Q]=f._enter(j,G,!1,oe[Q]);return new F.Tp(4,ge,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!k&&this._isAutoIndentType(j,G,oe)){const ge=[];let Q=!1;for(let q=0,le=oe.length;q<le;q++)if(ge[q]=this._runAutoIndentType(j,G,oe[q],fe),!ge[q]){Q=!0;break}if(!Q)return new F.Tp(4,ge,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!k&&this._isAutoClosingOvertype(j,G,oe,de,fe))return this._runAutoClosingOvertype($,j,G,oe,fe);if(!k){const ge=this._getAutoClosingPairClose(j,G,oe,fe,!1);if(ge)return this._runAutoClosingOpenCharType($,j,G,oe,fe,!1,ge)}if(this._isSurroundSelectionType(j,G,oe,fe))return this._runSurroundSelectionType($,j,G,oe,fe);if(!k&&this._isTypeInterceptorElectricChar(j,G,oe)){const ge=this._typeInterceptorElectricChar($,j,G,oe[0],fe);if(ge)return ge}const pe=[];for(let ge=0,Q=oe.length;ge<Q;ge++)pe[ge]=new Y.T4(oe[ge],fe);const we=z(fe,$);return new F.Tp(we,pe,{shouldPushStackElementBefore:D($,we),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(k,$,j,G,oe){const de=[];for(let pe=0,we=G.length;pe<we;pe++)de[pe]=new Y.T4(G[pe],oe);const fe=z(oe,k);return new F.Tp(fe,de,{shouldPushStackElementBefore:D(k,fe),shouldPushStackElementAfter:!1})}static lineInsertBefore(k,$,j){if(null===$||null===j)return[];const G=[];for(let oe=0,de=j.length;oe<de;oe++){let fe=j[oe].positionLineNumber;if(1===fe)G[oe]=new Y.Sj(new E.e(1,1,1,1),"\n");else{fe--;const pe=$.getLineMaxColumn(fe);G[oe]=this._enter(k,$,!1,new E.e(fe,pe,fe,pe))}}return G}static lineInsertAfter(k,$,j){if(null===$||null===j)return[];const G=[];for(let oe=0,de=j.length;oe<de;oe++){const fe=j[oe].positionLineNumber,pe=$.getLineMaxColumn(fe);G[oe]=this._enter(k,$,!1,new E.e(fe,pe,fe,pe))}return G}static lineBreakInsert(k,$,j){const G=[];for(let oe=0,de=j.length;oe<de;oe++)G[oe]=this._enter(k,$,!0,j[oe]);return G}}class N extends Y.Uo{constructor(k,$,j,G){super(k,(j?$:"")+G,0,-G.length),this._openCharacter=$,this._closeCharacter=G,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(k,$){const G=$.getInverseEditOperations()[0].range;return this.closeCharacterRange=new E.e(G.startLineNumber,G.endColumn-this._closeCharacter.length,G.endLineNumber,G.endColumn),this.enclosingRange=new E.e(G.startLineNumber,G.endColumn-this._openCharacter.length-this._closeCharacter.length,G.endLineNumber,G.endColumn),super.computeCursorState(k,$)}}function z(P,k){return" "===P?5===k||6===k?6:5:4}function D(P,k){return!(!Z(P)||Z(k))||5!==P&&I(P)!==I(k)}function I(P){return 6===P||5===P?"space":P}function Z(P){return 4===P||5===P||6===P}},34397:(Be,Me,m)=>{m.d(Me,{w:()=>O,L:()=>F});var M=m(74243),g=m(35590),Y=m(17666),B=m(81346),E=m(67947),i=m(1873);class O{static _createWord(C,b,L,f,N){return{start:f,end:N,wordType:b,nextCharClass:L}}static _findPreviousWordOnLine(C,b,L){const f=b.getLineContent(L.lineNumber);return this._doFindPreviousWordOnLine(f,C,L)}static _doFindPreviousWordOnLine(C,b,L){let f=0;for(let N=L.column-2;N>=0;N--){const z=C.charCodeAt(N),D=b.get(z);if(0===D){if(2===f)return this._createWord(C,f,D,N+1,this._findEndOfWord(C,b,f,N+1));f=1}else if(2===D){if(1===f)return this._createWord(C,f,D,N+1,this._findEndOfWord(C,b,f,N+1));f=2}else if(1===D&&0!==f)return this._createWord(C,f,D,N+1,this._findEndOfWord(C,b,f,N+1))}return 0!==f?this._createWord(C,f,1,0,this._findEndOfWord(C,b,f,0)):null}static _findEndOfWord(C,b,L,f){const N=C.length;for(let z=f;z<N;z++){const D=C.charCodeAt(z),I=b.get(D);if(1===I||1===L&&2===I||2===L&&0===I)return z}return N}static _findNextWordOnLine(C,b,L){const f=b.getLineContent(L.lineNumber);return this._doFindNextWordOnLine(f,C,L)}static _doFindNextWordOnLine(C,b,L){let f=0;const N=C.length;for(let z=L.column-1;z<N;z++){const D=C.charCodeAt(z),I=b.get(D);if(0===I){if(2===f)return this._createWord(C,f,I,this._findStartOfWord(C,b,f,z-1),z);f=1}else if(2===I){if(1===f)return this._createWord(C,f,I,this._findStartOfWord(C,b,f,z-1),z);f=2}else if(1===I&&0!==f)return this._createWord(C,f,I,this._findStartOfWord(C,b,f,z-1),z)}return 0!==f?this._createWord(C,f,1,this._findStartOfWord(C,b,f,N-1),N):null}static _findStartOfWord(C,b,L,f){for(let N=f;N>=0;N--){const z=C.charCodeAt(N),D=b.get(z);if(1===D||1===L&&2===D||2===L&&0===D)return N+1}return 0}static moveWordLeft(C,b,L,f){let N=L.lineNumber,z=L.column;1===z&&N>1&&(N-=1,z=b.getLineMaxColumn(N));let D=O._findPreviousWordOnLine(C,b,new E.L(N,z));if(0===f)return new E.L(N,D?D.start+1:1);if(1===f)return D&&2===D.wordType&&D.end-D.start==1&&0===D.nextCharClass&&(D=O._findPreviousWordOnLine(C,b,new E.L(N,D.start+1))),new E.L(N,D?D.start+1:1);if(3===f){for(;D&&2===D.wordType;)D=O._findPreviousWordOnLine(C,b,new E.L(N,D.start+1));return new E.L(N,D?D.start+1:1)}return D&&z<=D.end+1&&(D=O._findPreviousWordOnLine(C,b,new E.L(N,D.start+1))),new E.L(N,D?D.end+1:1)}static _moveWordPartLeft(C,b){const L=b.lineNumber,f=C.getLineMaxColumn(L);if(1===b.column)return L>1?new E.L(L-1,C.getLineMaxColumn(L-1)):b;const N=C.getLineContent(L);for(let z=b.column-1;z>1;z--){const D=N.charCodeAt(z-2),I=N.charCodeAt(z-1);if(95===D&&95!==I)return new E.L(L,z);if(M.mK(D)&&M.df(I))return new E.L(L,z);if(M.df(D)&&M.df(I)&&z+1<f){const Z=N.charCodeAt(z);if(M.mK(Z))return new E.L(L,z)}}return new E.L(L,1)}static moveWordRight(C,b,L,f){let N=L.lineNumber,z=L.column,D=!1;z===b.getLineMaxColumn(N)&&N<b.getLineCount()&&(D=!0,N+=1,z=1);let I=O._findNextWordOnLine(C,b,new E.L(N,z));if(2===f)I&&2===I.wordType&&I.end-I.start==1&&0===I.nextCharClass&&(I=O._findNextWordOnLine(C,b,new E.L(N,I.end+1))),z=I?I.end+1:b.getLineMaxColumn(N);else if(3===f){for(D&&(z=0);I&&(2===I.wordType||I.start+1<=z);)I=O._findNextWordOnLine(C,b,new E.L(N,I.end+1));z=I?I.start+1:b.getLineMaxColumn(N)}else I&&!D&&z>=I.start+1&&(I=O._findNextWordOnLine(C,b,new E.L(N,I.end+1))),z=I?I.start+1:b.getLineMaxColumn(N);return new E.L(N,z)}static _moveWordPartRight(C,b){const L=b.lineNumber,f=C.getLineMaxColumn(L);if(b.column===f)return L<C.getLineCount()?new E.L(L+1,1):b;const N=C.getLineContent(L);for(let z=b.column+1;z<f;z++){const D=N.charCodeAt(z-2),I=N.charCodeAt(z-1);if(95!==D&&95===I)return new E.L(L,z);if(M.mK(D)&&M.df(I))return new E.L(L,z);if(M.df(D)&&M.df(I)&&z+1<f){const Z=N.charCodeAt(z);if(M.mK(Z))return new E.L(L,z)}}return new E.L(L,f)}static _deleteWordLeftWhitespace(C,b){const L=C.getLineContent(b.lineNumber),f=b.column-2,N=M.ow(L,f);return N+1<f?new i.e(b.lineNumber,N+2,b.lineNumber,b.column):null}static deleteWordLeft(C,b){const L=C.wordSeparators,f=C.model,N=C.selection,z=C.whitespaceHeuristics;if(!N.isEmpty())return N;if(Y.A.isAutoClosingPairDelete(C.autoClosingDelete,C.autoClosingBrackets,C.autoClosingQuotes,C.autoClosingPairs.autoClosingPairsOpenByEnd,C.model,[C.selection],C.autoClosedCharacters)){const k=C.selection.getPosition();return new i.e(k.lineNumber,k.column-1,k.lineNumber,k.column+1)}const D=new E.L(N.positionLineNumber,N.positionColumn);let I=D.lineNumber,Z=D.column;if(1===I&&1===Z)return null;if(z){const k=this._deleteWordLeftWhitespace(f,D);if(k)return k}let P=O._findPreviousWordOnLine(L,f,D);return 0===b?P?Z=P.start+1:Z>1?Z=1:(I--,Z=f.getLineMaxColumn(I)):(P&&Z<=P.end+1&&(P=O._findPreviousWordOnLine(L,f,new E.L(I,P.start+1))),P?Z=P.end+1:Z>1?Z=1:(I--,Z=f.getLineMaxColumn(I))),new i.e(I,Z,D.lineNumber,D.column)}static deleteInsideWord(C,b,L){if(!L.isEmpty())return L;const f=new E.L(L.positionLineNumber,L.positionColumn);return this._deleteInsideWordWhitespace(b,f)||this._deleteInsideWordDetermineDeleteRange(C,b,f)}static _charAtIsWhitespace(C,b){const L=C.charCodeAt(b);return 32===L||9===L}static _deleteInsideWordWhitespace(C,b){const L=C.getLineContent(b.lineNumber),f=L.length;if(0===f)return null;let N=Math.max(b.column-2,0);if(!this._charAtIsWhitespace(L,N))return null;let z=Math.min(b.column-1,f-1);if(!this._charAtIsWhitespace(L,z))return null;for(;N>0&&this._charAtIsWhitespace(L,N-1);)N--;for(;z+1<f&&this._charAtIsWhitespace(L,z+1);)z++;return new i.e(b.lineNumber,N+1,b.lineNumber,z+2)}static _deleteInsideWordDetermineDeleteRange(C,b,L){const f=b.getLineContent(L.lineNumber),N=f.length;if(0===N)return L.lineNumber>1?new i.e(L.lineNumber-1,b.getLineMaxColumn(L.lineNumber-1),L.lineNumber,1):L.lineNumber<b.getLineCount()?new i.e(L.lineNumber,1,L.lineNumber+1,1):new i.e(L.lineNumber,1,L.lineNumber,1);const z=k=>k.start+1<=L.column&&L.column<=k.end+1,D=(k,$)=>(k=Math.min(k,L.column),$=Math.max($,L.column),new i.e(L.lineNumber,k,L.lineNumber,$)),I=k=>{let $=k.start+1,j=k.end+1,G=!1;for(;j-1<N&&this._charAtIsWhitespace(f,j-1);)G=!0,j++;if(!G)for(;$>1&&this._charAtIsWhitespace(f,$-2);)$--;return D($,j)},Z=O._findPreviousWordOnLine(C,b,L);if(Z&&z(Z))return I(Z);const P=O._findNextWordOnLine(C,b,L);return P&&z(P)?I(P):Z&&P?D(Z.end+1,P.start+1):Z?D(Z.start+1,Z.end+1):P?D(P.start+1,P.end+1):D(1,N+1)}static _deleteWordPartLeft(C,b){if(!b.isEmpty())return b;const L=b.getPosition(),f=O._moveWordPartLeft(C,L);return new i.e(L.lineNumber,L.column,f.lineNumber,f.column)}static _findFirstNonWhitespaceChar(C,b){const L=C.length;for(let f=b;f<L;f++){const N=C.charAt(f);if(" "!==N&&"\t"!==N)return f}return L}static _deleteWordRightWhitespace(C,b){const L=C.getLineContent(b.lineNumber),f=b.column-1,N=this._findFirstNonWhitespaceChar(L,f);return f+1<N?new i.e(b.lineNumber,b.column,b.lineNumber,N+1):null}static deleteWordRight(C,b){const L=C.wordSeparators,f=C.model,N=C.selection,z=C.whitespaceHeuristics;if(!N.isEmpty())return N;const D=new E.L(N.positionLineNumber,N.positionColumn);let I=D.lineNumber,Z=D.column;const P=f.getLineCount(),k=f.getLineMaxColumn(I);if(I===P&&Z===k)return null;if(z){const j=this._deleteWordRightWhitespace(f,D);if(j)return j}let $=O._findNextWordOnLine(L,f,D);return 2===b?$?Z=$.end+1:Z<k||I===P?Z=k:(I++,$=O._findNextWordOnLine(L,f,new E.L(I,1)),Z=$?$.start+1:f.getLineMaxColumn(I)):($&&Z>=$.start+1&&($=O._findNextWordOnLine(L,f,new E.L(I,$.end+1))),$?Z=$.start+1:Z<k||I===P?Z=k:(I++,$=O._findNextWordOnLine(L,f,new E.L(I,1)),Z=$?$.start+1:f.getLineMaxColumn(I))),new i.e(I,Z,D.lineNumber,D.column)}static _deleteWordPartRight(C,b){if(!b.isEmpty())return b;const L=b.getPosition(),f=O._moveWordPartRight(C,L);return new i.e(L.lineNumber,L.column,f.lineNumber,f.column)}static _createWordAtPosition(C,b,L){const f=new i.e(b,L.start+1,b,L.end+1);return{word:C.getValueInRange(f),startColumn:f.startColumn,endColumn:f.endColumn}}static getWordAtPosition(C,b,L){const f=(0,B.u)(b),N=O._findPreviousWordOnLine(f,C,L);if(N&&1===N.wordType&&N.start<=L.column-1&&L.column-1<=N.end)return O._createWordAtPosition(C,L.lineNumber,N);const z=O._findNextWordOnLine(f,C,L);return z&&1===z.wordType&&z.start<=L.column-1&&L.column-1<=z.end?O._createWordAtPosition(C,L.lineNumber,z):null}static word(C,b,L,f,N){const z=(0,B.u)(C.wordSeparators),D=O._findPreviousWordOnLine(z,b,N),I=O._findNextWordOnLine(z,b,N);if(!f){let j,G;return D&&1===D.wordType&&D.start<=N.column-1&&N.column-1<=D.end?(j=D.start+1,G=D.end+1):I&&1===I.wordType&&I.start<=N.column-1&&N.column-1<=I.end?(j=I.start+1,G=I.end+1):(j=D?D.end+1:1,G=I?I.start+1:b.getLineMaxColumn(N.lineNumber)),new g.rS(new i.e(N.lineNumber,j,N.lineNumber,G),0,new E.L(N.lineNumber,G),0)}let Z,P;D&&1===D.wordType&&D.start<N.column-1&&N.column-1<D.end?(Z=D.start+1,P=D.end+1):I&&1===I.wordType&&I.start<N.column-1&&N.column-1<I.end?(Z=I.start+1,P=I.end+1):(Z=N.column,P=N.column);const k=N.lineNumber;let $;if(L.selectionStart.containsPosition(N))$=L.selectionStart.endColumn;else if(N.isBeforeOrEqual(L.selectionStart.getStartPosition())){$=Z;const j=new E.L(k,$);L.selectionStart.containsPosition(j)&&($=L.selectionStart.endColumn)}else{$=P;const j=new E.L(k,$);L.selectionStart.containsPosition(j)&&($=L.selectionStart.startColumn)}return L.move(!0,k,$,0)}}class F extends O{static deleteWordPartLeft(C){const b=T([O.deleteWordLeft(C,0),O.deleteWordLeft(C,2),O._deleteWordPartLeft(C.model,C.selection)]);return b.sort(i.e.compareRangesUsingEnds),b[2]}static deleteWordPartRight(C){const b=T([O.deleteWordRight(C,0),O.deleteWordRight(C,2),O._deleteWordPartRight(C.model,C.selection)]);return b.sort(i.e.compareRangesUsingStarts),b[0]}static moveWordPartLeft(C,b,L){const f=T([O.moveWordLeft(C,b,L,0),O.moveWordLeft(C,b,L,2),O._moveWordPartLeft(b,L)]);return f.sort(E.L.compare),f[2]}static moveWordPartRight(C,b,L){const f=T([O.moveWordRight(C,b,L,0),O.moveWordRight(C,b,L,2),O._moveWordPartRight(b,L)]);return f.sort(E.L.compare),f[0]}}function T(S){return S.filter(C=>Boolean(C))}},35590:(Be,Me,m)=>{m.d(Me,{LM:()=>S,Vi:()=>C,rS:()=>f,Tp:()=>N,LN:()=>z});var M=m(67947),g=m(1873),Y=m(60745),B=m(20595),E=m(90784),i=m(66200);const O=()=>!0,F=()=>!1,T=D=>" "===D||"\t"===D;class S{constructor(I,Z,P,k){this.languageConfigurationService=k,this._cursorMoveConfigurationBrand=void 0,this._languageId=I;const $=P.options,j=$.get(131);this.readOnly=$.get(81),this.tabSize=Z.tabSize,this.indentSize=Z.indentSize,this.insertSpaces=Z.insertSpaces,this.stickyTabStops=$.get(104),this.lineHeight=$.get(59),this.pageSize=Math.max(1,Math.floor(j.height/this.lineHeight)-2),this.useTabStops=$.get(116),this.wordSeparators=$.get(117),this.emptySelectionClipboard=$.get(32),this.copyWithSyntaxHighlighting=$.get(21),this.multiCursorMergeOverlapping=$.get(69),this.multiCursorPaste=$.get(71),this.autoClosingBrackets=$.get(5),this.autoClosingQuotes=$.get(8),this.autoClosingDelete=$.get(6),this.autoClosingOvertype=$.get(7),this.autoSurround=$.get(11),this.autoIndent=$.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(I,this.autoClosingQuotes),bracket:this._getShouldAutoClose(I,this.autoClosingBrackets)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(I).getAutoClosingPairs();const G=this.languageConfigurationService.getLanguageConfiguration(I).getSurroundingPairs();if(G)for(const oe of G)this.surroundingPairs[oe.open]=oe.close}static shouldRecreate(I){return I.hasChanged(131)||I.hasChanged(117)||I.hasChanged(32)||I.hasChanged(69)||I.hasChanged(71)||I.hasChanged(5)||I.hasChanged(8)||I.hasChanged(6)||I.hasChanged(7)||I.hasChanged(11)||I.hasChanged(116)||I.hasChanged(59)||I.hasChanged(81)}get electricChars(){var I;if(!this._electricChars){this._electricChars={};const Z=null===(I=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)||void 0===I?void 0:I.getElectricCharacters();if(Z)for(const P of Z)this._electricChars[P]=!0}return this._electricChars}onElectricCharacter(I,Z,P){const k=(0,B.wH)(Z,P-1),$=this.languageConfigurationService.getLanguageConfiguration(k.languageId).electricCharacter;return $?$.onElectricCharacter(I,k,P-k.firstCharOffset):null}normalizeIndentation(I){return(0,i.x)(I,this.indentSize,this.insertSpaces)}_getShouldAutoClose(I,Z){switch(Z){case"beforeWhitespace":return T;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(I);case"always":return O;case"never":return F}}_getLanguageDefinedShouldAutoClose(I){const Z=this.languageConfigurationService.getLanguageConfiguration(I).getAutoCloseBeforeSet();return P=>-1!==Z.indexOf(P)}visibleColumnFromColumn(I,Z){return E.i.visibleColumnFromColumn(I.getLineContent(Z.lineNumber),Z.column,this.tabSize)}columnFromVisibleColumn(I,Z,P){const k=E.i.columnFromVisibleColumn(I.getLineContent(Z),P,this.tabSize),$=I.getLineMinColumn(Z);if(k<$)return $;const j=I.getLineMaxColumn(Z);return k>j?j:k}}class C{constructor(I,Z){this._cursorStateBrand=void 0,this.modelState=I,this.viewState=Z}static fromModelState(I){return new b(I)}static fromViewState(I){return new L(I)}static fromModelSelection(I){const Z=Y.Y.liftSelection(I),P=new f(g.e.fromPositions(Z.getSelectionStart()),0,Z.getPosition(),0);return C.fromModelState(P)}static fromModelSelections(I){const Z=[];for(let P=0,k=I.length;P<k;P++)Z[P]=this.fromModelSelection(I[P]);return Z}equals(I){return this.viewState.equals(I.viewState)&&this.modelState.equals(I.modelState)}}class b{constructor(I){this.modelState=I,this.viewState=null}}class L{constructor(I){this.modelState=null,this.viewState=I}}class f{constructor(I,Z,P,k){this._singleCursorStateBrand=void 0,this.selectionStart=I,this.selectionStartLeftoverVisibleColumns=Z,this.position=P,this.leftoverVisibleColumns=k,this.selection=f._computeSelection(this.selectionStart,this.position)}equals(I){return this.selectionStartLeftoverVisibleColumns===I.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===I.leftoverVisibleColumns&&this.position.equals(I.position)&&this.selectionStart.equalsRange(I.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(I,Z,P,k){return I?new f(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new M.L(Z,P),k):new f(new g.e(Z,P,Z,P),k,new M.L(Z,P),k)}static _computeSelection(I,Z){return I.isEmpty()||!Z.isBeforeOrEqual(I.getStartPosition())?Y.Y.fromPositions(I.getStartPosition(),Z):Y.Y.fromPositions(I.getEndPosition(),Z)}}class N{constructor(I,Z,P){this._editOperationResultBrand=void 0,this.type=I,this.commands=Z,this.shouldPushStackElementBefore=P.shouldPushStackElementBefore,this.shouldPushStackElementAfter=P.shouldPushStackElementAfter}}function z(D){return"'"===D||'"'===D||"`"===D}},47804:(Be,Me,m)=>{m.d(Me,{p:()=>M});class M{constructor(Y,B,E,i,O,F){this.id=Y,this.label=B,this.alias=E,this._precondition=i,this._run=O,this._contextKeyService=F}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}},3760:(Be,Me,m)=>{m.d(Me,{g:()=>M});const M={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}},20296:(Be,Me,m)=>{m.d(Me,{u:()=>Y});var Y,B,M=m(12918),g=m(6461);(B=Y||(Y={})).editorSimpleInput=new g.uy("editorSimpleInput",!1,!0),B.editorTextFocus=new g.uy("editorTextFocus",!1,M.N("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),B.focus=new g.uy("editorFocus",!1,M.N("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),B.textInputFocus=new g.uy("textInputFocus",!1,M.N("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),B.readOnly=new g.uy("editorReadonly",!1,M.N("editorReadonly","Whether the editor is read only")),B.inDiffEditor=new g.uy("inDiffEditor",!1,M.N("inDiffEditor","Whether the context is a diff editor")),B.columnSelection=new g.uy("editorColumnSelection",!1,M.N("editorColumnSelection","Whether `editor.columnSelection` is enabled")),B.writable=B.readOnly.toNegated(),B.hasNonEmptySelection=new g.uy("editorHasSelection",!1,M.N("editorHasSelection","Whether the editor has text selected")),B.hasOnlyEmptySelection=B.hasNonEmptySelection.toNegated(),B.hasMultipleSelections=new g.uy("editorHasMultipleSelections",!1,M.N("editorHasMultipleSelections","Whether the editor has multiple selections")),B.hasSingleSelection=B.hasMultipleSelections.toNegated(),B.tabMovesFocus=new g.uy("editorTabMovesFocus",!1,M.N("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),B.tabDoesNotMoveFocus=B.tabMovesFocus.toNegated(),B.isInWalkThroughSnippet=new g.uy("isInEmbeddedEditor",!1,!0),B.canUndo=new g.uy("canUndo",!1,!0),B.canRedo=new g.uy("canRedo",!1,!0),B.hoverVisible=new g.uy("editorHoverVisible",!1,M.N("editorHoverVisible","Whether the editor hover is visible")),B.inCompositeEditor=new g.uy("inCompositeEditor",void 0,M.N("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),B.notInCompositeEditor=B.inCompositeEditor.toNegated(),B.languageId=new g.uy("editorLangId","",M.N("editorLangId","The language identifier of the editor")),B.hasCompletionItemProvider=new g.uy("editorHasCompletionItemProvider",!1,M.N("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),B.hasCodeActionsProvider=new g.uy("editorHasCodeActionsProvider",!1,M.N("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),B.hasCodeLensProvider=new g.uy("editorHasCodeLensProvider",!1,M.N("editorHasCodeLensProvider","Whether the editor has a code lens provider")),B.hasDefinitionProvider=new g.uy("editorHasDefinitionProvider",!1,M.N("editorHasDefinitionProvider","Whether the editor has a definition provider")),B.hasDeclarationProvider=new g.uy("editorHasDeclarationProvider",!1,M.N("editorHasDeclarationProvider","Whether the editor has a declaration provider")),B.hasImplementationProvider=new g.uy("editorHasImplementationProvider",!1,M.N("editorHasImplementationProvider","Whether the editor has an implementation provider")),B.hasTypeDefinitionProvider=new g.uy("editorHasTypeDefinitionProvider",!1,M.N("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),B.hasHoverProvider=new g.uy("editorHasHoverProvider",!1,M.N("editorHasHoverProvider","Whether the editor has a hover provider")),B.hasDocumentHighlightProvider=new g.uy("editorHasDocumentHighlightProvider",!1,M.N("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),B.hasDocumentSymbolProvider=new g.uy("editorHasDocumentSymbolProvider",!1,M.N("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),B.hasReferenceProvider=new g.uy("editorHasReferenceProvider",!1,M.N("editorHasReferenceProvider","Whether the editor has a reference provider")),B.hasRenameProvider=new g.uy("editorHasRenameProvider",!1,M.N("editorHasRenameProvider","Whether the editor has a rename provider")),B.hasSignatureHelpProvider=new g.uy("editorHasSignatureHelpProvider",!1,M.N("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),B.hasInlayHintsProvider=new g.uy("editorHasInlayHintsProvider",!1,M.N("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),B.hasDocumentFormattingProvider=new g.uy("editorHasDocumentFormattingProvider",!1,M.N("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),B.hasDocumentSelectionFormattingProvider=new g.uy("editorHasDocumentSelectionFormattingProvider",!1,M.N("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),B.hasMultipleDocumentFormattingProvider=new g.uy("editorHasMultipleDocumentFormattingProvider",!1,M.N("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),B.hasMultipleDocumentSelectionFormattingProvider=new g.uy("editorHasMultipleDocumentSelectionFormattingProvider",!1,M.N("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))},33979:(Be,Me,m)=>{m.d(Me,{mY:()=>P,gX:()=>L,MY:()=>z,DI:()=>b,AD:()=>Z,gl:()=>k,bw:()=>f,WW:()=>N,uZ:()=>I,WU:()=>S,NX:()=>T,RW:()=>$,hG:()=>C,vx:()=>D});var M=m(85459),g=m(1873),Y=m(71040),B=m(40189),E=function(j,G,oe,de){return new(oe||(oe=Promise))(function(pe,we){function ge(le){try{q(de.next(le))}catch(ee){we(ee)}}function Q(le){try{q(de.throw(le))}catch(ee){we(ee)}}function q(le){le.done?pe(le.value):function(pe){return pe instanceof oe?pe:new oe(function(we){we(pe)})}(le.value).then(ge,Q)}q((de=de.apply(j,G||[])).next())})};class O extends B.JT{constructor(G,oe,de){super(),this._registry=G,this._languageId=oe,this._factory=de,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}get isResolved(){return this._isResolved}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return E(this,void 0,void 0,function*(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise})}_create(){return E(this,void 0,void 0,function*(){const G=yield Promise.resolve(this._factory.createTokenizationSupport());this._isResolved=!0,G&&!this._isDisposed&&this._register(this._registry.register(this._languageId,G))})}}var L,F=m(78968);class T{static getLanguageId(G){return(255&G)>>>0}static getTokenType(G){return(768&G)>>>8}static getFontStyle(G){return(15360&G)>>>10}static getForeground(G){return(8372224&G)>>>14}static getBackground(G){return(4286578688&G)>>>23}static getClassNameFromMetadata(G){let de="mtk"+this.getForeground(G);const fe=this.getFontStyle(G);return 1&fe&&(de+=" mtki"),2&fe&&(de+=" mtkb"),4&fe&&(de+=" mtku"),8&fe&&(de+=" mtks"),de}static getInlineStyleFromMetadata(G,oe){const de=this.getForeground(G),fe=this.getFontStyle(G);let pe=`color: ${oe[de]};`;1&fe&&(pe+="font-style: italic;"),2&fe&&(pe+="font-weight: bold;");let we="";return 4&fe&&(we+=" underline"),8&fe&&(we+=" line-through"),we&&(pe+=`text-decoration:${we};`),pe}static getPresentationFromMetadata(G){const oe=this.getForeground(G),de=this.getFontStyle(G);return{foreground:oe,italic:Boolean(1&de),bold:Boolean(2&de),underline:Boolean(4&de),strikethrough:Boolean(8&de)}}}class S{constructor(G,oe,de){this._tokenBrand=void 0,this.offset=G,this.type=oe,this.language=de}toString(){return"("+this.offset+", "+this.type+")"}}class C{constructor(G,oe){this._tokenizationResultBrand=void 0,this.tokens=G,this.endState=oe}}class b{constructor(G,oe){this._encodedTokenizationResultBrand=void 0,this.tokens=G,this.endState=oe}}!function(j){const G=new Map;G.set(0,F.lA.symbolMethod),G.set(1,F.lA.symbolFunction),G.set(2,F.lA.symbolConstructor),G.set(3,F.lA.symbolField),G.set(4,F.lA.symbolVariable),G.set(5,F.lA.symbolClass),G.set(6,F.lA.symbolStruct),G.set(7,F.lA.symbolInterface),G.set(8,F.lA.symbolModule),G.set(9,F.lA.symbolProperty),G.set(10,F.lA.symbolEvent),G.set(11,F.lA.symbolOperator),G.set(12,F.lA.symbolUnit),G.set(13,F.lA.symbolValue),G.set(15,F.lA.symbolEnum),G.set(14,F.lA.symbolConstant),G.set(15,F.lA.symbolEnum),G.set(16,F.lA.symbolEnumMember),G.set(17,F.lA.symbolKeyword),G.set(27,F.lA.symbolSnippet),G.set(18,F.lA.symbolText),G.set(19,F.lA.symbolColor),G.set(20,F.lA.symbolFile),G.set(21,F.lA.symbolReference),G.set(22,F.lA.symbolCustomColor),G.set(23,F.lA.symbolFolder),G.set(24,F.lA.symbolTypeParameter),G.set(25,F.lA.account),G.set(26,F.lA.issues),j.toIcon=function(pe){let we=G.get(pe);return we||(console.info("No codicon found for CompletionItemKind "+pe),we=F.lA.symbolProperty),we};const de=new Map;de.set("method",0),de.set("function",1),de.set("constructor",2),de.set("field",3),de.set("variable",4),de.set("class",5),de.set("struct",6),de.set("interface",7),de.set("module",8),de.set("property",9),de.set("event",10),de.set("operator",11),de.set("unit",12),de.set("value",13),de.set("constant",14),de.set("enum",15),de.set("enum-member",16),de.set("enumMember",16),de.set("keyword",17),de.set("snippet",27),de.set("text",18),de.set("color",19),de.set("file",20),de.set("reference",21),de.set("customcolor",22),de.set("folder",23),de.set("type-parameter",24),de.set("typeParameter",24),de.set("account",25),de.set("issue",26),j.fromString=function(pe,we){let ge=de.get(pe);return void 0===ge&&!we&&(ge=9),ge}}(L||(L={}));var I,P,f=(()=>{return(j=f||(f={}))[j.Automatic=0]="Automatic",j[j.Explicit=1]="Explicit",f;var j})(),N=(()=>{return(j=N||(N={}))[j.Invoke=1]="Invoke",j[j.TriggerCharacter=2]="TriggerCharacter",j[j.ContentChange=3]="ContentChange",N;var j})(),z=(()=>{return(j=z||(z={}))[j.Text=0]="Text",j[j.Read=1]="Read",j[j.Write=2]="Write",z;var j})();function D(j){return j&&M.o.isUri(j.uri)&&g.e.isIRange(j.range)&&(g.e.isIRange(j.originSelectionRange)||g.e.isIRange(j.targetSelectionRange))}!function(j){const G=new Map;G.set(0,F.lA.symbolFile),G.set(1,F.lA.symbolModule),G.set(2,F.lA.symbolNamespace),G.set(3,F.lA.symbolPackage),G.set(4,F.lA.symbolClass),G.set(5,F.lA.symbolMethod),G.set(6,F.lA.symbolProperty),G.set(7,F.lA.symbolField),G.set(8,F.lA.symbolConstructor),G.set(9,F.lA.symbolEnum),G.set(10,F.lA.symbolInterface),G.set(11,F.lA.symbolFunction),G.set(12,F.lA.symbolVariable),G.set(13,F.lA.symbolConstant),G.set(14,F.lA.symbolString),G.set(15,F.lA.symbolNumber),G.set(16,F.lA.symbolBoolean),G.set(17,F.lA.symbolArray),G.set(18,F.lA.symbolObject),G.set(19,F.lA.symbolKey),G.set(20,F.lA.symbolNull),G.set(21,F.lA.symbolEnumMember),G.set(22,F.lA.symbolStruct),G.set(23,F.lA.symbolEvent),G.set(24,F.lA.symbolOperator),G.set(25,F.lA.symbolTypeParameter),j.toIcon=function(de){let fe=G.get(de);return fe||(console.info("No codicon found for SymbolKind "+de),fe=F.lA.symbolProperty),fe}}(I||(I={}));class Z{constructor(G){this.value=G}}Z.Comment=new Z("comment"),Z.Imports=new Z("imports"),Z.Region=new Z("region"),(P||(P={})).is=function(oe){return!(!oe||"object"!=typeof oe)&&"string"==typeof oe.id&&"string"==typeof oe.title};var k=(()=>{return(j=k||(k={}))[j.Type=1]="Type",j[j.Parameter=2]="Parameter",k;var j})();const $=new class{constructor(){this._map=new Map,this._factories=new Map,this._onDidChange=new Y.Q5,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(G){this._onDidChange.fire({changedLanguages:G,changedColorMap:!1})}register(G,oe){return this._map.set(G,oe),this.fire([G]),(0,B.OF)(()=>{this._map.get(G)===oe&&(this._map.delete(G),this.fire([G]))})}registerFactory(G,oe){var de;null===(de=this._factories.get(G))||void 0===de||de.dispose();const fe=new O(this,G,oe);return this._factories.set(G,fe),(0,B.OF)(()=>{const pe=this._factories.get(G);!pe||pe!==fe||(this._factories.delete(G),pe.dispose())})}getOrCreate(G){return E(this,void 0,void 0,function*(){const oe=this.get(G);if(oe)return oe;const de=this._factories.get(G);return!de||de.isResolved?null:(yield de.resolve(),this.get(G))})}get(G){return this._map.get(G)||null}isResolved(G){if(this.get(G))return!0;const de=this._factories.get(G);return!(de&&!de.isResolved)}setColorMap(G){this._colorMap=G,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}},80810:(Be,Me,m)=>{m.d(Me,{O:()=>g});const g=(0,m(43569).yh)("languageService")},70950:(Be,Me,m)=>{m.d(Me,{wU:()=>M,V6:()=>g,c$:()=>Y});var M=(()=>{return(E=M||(M={}))[E.None=0]="None",E[E.Indent=1]="Indent",E[E.IndentOutdent=2]="IndentOutdent",E[E.Outdent=3]="Outdent",M;var E})();class g{constructor(i){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=i.open,this.close=i.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(i.notIn))for(let O=0,F=i.notIn.length;O<F;O++)switch(i.notIn[O]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1}}isOK(i){switch(i){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(i,O){if(0===i.getTokenCount())return!0;const F=i.findTokenIndexAtOffset(O-2),T=i.getStandardTokenType(F);return this.isOK(T)}_findNeutralCharacterInRange(i,O){for(let F=i;F<=O;F++){const T=String.fromCharCode(F);if(!this.open.includes(T)&&!this.close.includes(T))return T}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}class Y{constructor(i){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const O of i)B(this.autoClosingPairsOpenByStart,O.open.charAt(0),O),B(this.autoClosingPairsOpenByEnd,O.open.charAt(O.open.length-1),O),B(this.autoClosingPairsCloseByStart,O.close.charAt(0),O),B(this.autoClosingPairsCloseByEnd,O.close.charAt(O.close.length-1),O),1===O.close.length&&1===O.open.length&&B(this.autoClosingPairsCloseSingleChar,O.close,O)}}function B(E,i,O){E.has(i)?E.get(i).push(O):E.set(i,[O])}},92119:(Be,Me,m)=>{m.d(Me,{c_:()=>j,zu:()=>Q});var M=m(71040),g=m(40189),Y=m(74243),B=m(54745),E=m(70950),i=m(20595);let O=(()=>{class re{constructor(ve){if(this._autoClosingPairs=ve.autoClosingPairs?ve.autoClosingPairs.map(ke=>new E.V6(ke)):ve.brackets?ve.brackets.map(ke=>new E.V6({open:ke[0],close:ke[1]})):[],this._colorizedBracketPairs=ve.colorizedBracketPairs?F(ve.colorizedBracketPairs.map(ke=>[ke[0],ke[1]])):ve.brackets?F(ve.brackets.map(ke=>[ke[0],ke[1]]).filter(ke=>!("<"===ke[0]&&">"===ke[1]))):[],ve.__electricCharacterSupport&&ve.__electricCharacterSupport.docComment){const ke=ve.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new E.V6({open:ke.open,close:ke.close||""}))}this._autoCloseBefore="string"==typeof ve.autoCloseBefore?ve.autoCloseBefore:re.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=ve.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}getSurroundingPairs(){return this._surroundingPairs}getColorizedBrackets(){return this._colorizedBracketPairs}}return re.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=";:.,=}])> \n\t",re})();function F(re){return re.filter(([ce,ve])=>""!==ce&&""!==ve)}var T=m(89822),S=m(29675);class C{constructor(ce){this._richEditBrackets=ce}getElectricCharacters(){const ce=[];if(this._richEditBrackets)for(const ve of this._richEditBrackets.brackets)for(const ke of ve.close){const Ve=ke.charAt(ke.length-1);ce.push(Ve)}return(0,T.EB)(ce)}onElectricCharacter(ce,ve,ke){if(!this._richEditBrackets||0===this._richEditBrackets.brackets.length)return null;const Ve=ve.findTokenIndexAtOffset(ke-1);if((0,i.Bu)(ve.getStandardTokenType(Ve)))return null;const Ue=this._richEditBrackets.reversedRegex,ue=ve.getLineContent().substring(0,ke-1)+ce,_e=S.Vr.findPrevBracketInRange(Ue,1,ue,0,ue.length);if(!_e)return null;const Re=ue.substring(_e.startColumn-1,_e.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[Re])return null;const Ze=ve.getActualLineContentBefore(_e.startColumn-1);return/^\s*$/.test(Ze)?{matchOpenBracket:Re}:null}}function b(re){return re.global&&(re.lastIndex=0),!0}class L{constructor(ce){this._indentationRules=ce}shouldIncrease(ce){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&b(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(ce))}shouldDecrease(ce){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&b(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(ce))}shouldIndentNextLine(ce){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&b(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(ce))}shouldIgnore(ce){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&b(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(ce))}getIndentMetadata(ce){let ve=0;return this.shouldIncrease(ce)&&(ve+=1),this.shouldDecrease(ce)&&(ve+=2),this.shouldIndentNextLine(ce)&&(ve+=4),this.shouldIgnore(ce)&&(ve+=8),ve}}var f=m(13226);class N{constructor(ce){(ce=ce||{}).brackets=ce.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],ce.brackets.forEach(ve=>{const ke=N._createOpenBracketRegExp(ve[0]),Ve=N._createCloseBracketRegExp(ve[1]);ke&&Ve&&this._brackets.push({open:ve[0],openRegExp:ke,close:ve[1],closeRegExp:Ve})}),this._regExpRules=ce.onEnterRules||[]}onEnter(ce,ve,ke,Ve){if(ce>=3)for(let Ue=0,ue=this._regExpRules.length;Ue<ue;Ue++){const _e=this._regExpRules[Ue];if([{reg:_e.beforeText,text:ke},{reg:_e.afterText,text:Ve},{reg:_e.previousLineText,text:ve}].every(et=>!et.reg||(et.reg.lastIndex=0,et.reg.test(et.text))))return _e.action}if(ce>=2&&ke.length>0&&Ve.length>0)for(let Ue=0,ue=this._brackets.length;Ue<ue;Ue++){const _e=this._brackets[Ue];if(_e.openRegExp.test(ke)&&_e.closeRegExp.test(Ve))return{indentAction:E.wU.IndentOutdent}}if(ce>=2&&ke.length>0)for(let Ue=0,ue=this._brackets.length;Ue<ue;Ue++)if(this._brackets[Ue].openRegExp.test(ke))return{indentAction:E.wU.Indent};return null}static _createOpenBracketRegExp(ce){let ve=Y.ec(ce);return/\B/.test(ve.charAt(0))||(ve="\\b"+ve),ve+="\\s*$",N._safeRegExp(ve)}static _createCloseBracketRegExp(ce){let ve=Y.ec(ce);return/\B/.test(ve.charAt(ve.length-1))||(ve+="\\b"),ve="^\\s*"+ve,N._safeRegExp(ve)}static _safeRegExp(ce){try{return new RegExp(ce)}catch(ve){return(0,f.dL)(ve),null}}}var z=m(43569),D=m(13011),I=m(80810),Z=m(26033),k=function(re,ce){return function(ve,ke){ce(ve,ke,re)}};class ${constructor(ce){this.languageId=ce}affects(ce){return!this.languageId||this.languageId===ce}}const j=(0,z.yh)("languageConfigurationService");let G=class extends g.JT{constructor(ce,ve){super(),this.configurationService=ce,this.languageService=ve,this.onDidChangeEmitter=this._register(new M.Q5),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const ke=new Set(Object.values(de));this._register(this.configurationService.onDidChangeConfiguration(Ve=>{const Ue=Ve.change.keys.some(_e=>ke.has(_e)),ue=Ve.change.overrides.filter(([_e,Re])=>Re.some(et=>ke.has(et))).map(([_e])=>_e);if(Ue)this.configurations.clear(),this.onDidChangeEmitter.fire(new $(void 0));else for(const _e of ue)this.languageService.isRegisteredLanguageId(_e)&&(this.configurations.delete(_e),this.onDidChangeEmitter.fire(new $(_e)))})),this._register(Q.onDidChange(Ve=>{this.configurations.delete(Ve.languageId),this.onDidChangeEmitter.fire(new $(Ve.languageId))}))}getLanguageConfiguration(ce){let ve=this.configurations.get(ce);return ve||(ve=function(re,ce,ve){let ke=Q.getLanguageConfiguration(re);if(!ke){if(!ve.isRegisteredLanguageId(re))throw new Error(`Language id "${re}" is not configured nor known`);ke=new X(re,{})}const Ve=function(re,ce){const ve=ce.getValue(de.brackets,{overrideIdentifier:re}),ke=ce.getValue(de.colorizedBracketPairs,{overrideIdentifier:re});return{brackets:pe(ve),colorizedBracketPairs:pe(ke)}}(ke.languageId,ce),Ue=le([ke.underlyingConfig,Ve]);return new X(ke.languageId,Ue)}(ce,this.configurationService,this.languageService),this.configurations.set(ce,ve)),ve}};G=function(re,ce,ve,ke){var ue,Ve=arguments.length,Ue=Ve<3?ce:null===ke?ke=Object.getOwnPropertyDescriptor(ce,ve):ke;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ue=Reflect.decorate(re,ce,ve,ke);else for(var _e=re.length-1;_e>=0;_e--)(ue=re[_e])&&(Ue=(Ve<3?ue(Ue):Ve>3?ue(ce,ve,Ue):ue(ce,ve))||Ue);return Ve>3&&Ue&&Object.defineProperty(ce,ve,Ue),Ue}([k(0,D.Ui),k(1,I.O)],G);const de={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function pe(re){if(Array.isArray(re))return re.map(ce=>{if(Array.isArray(ce)&&2===ce.length)return[ce[0],ce[1]]}).filter(ce=>!!ce)}class we{constructor(ce){this.languageId=ce}}const Q=new class{constructor(){this._entries=new Map,this._onDidChange=new M.Q5,this.onDidChange=this._onDidChange.event}register(ce,ve,ke=0){let Ve=this._entries.get(ce);Ve||(Ve=new q(ce),this._entries.set(ce,Ve));const Ue=Ve.register(ve,ke);return this._onDidChange.fire(new we(ce)),(0,g.OF)(()=>{Ue.dispose(),this._onDidChange.fire(new we(ce))})}getLanguageConfiguration(ce){const ve=this._entries.get(ce);return(null==ve?void 0:ve.getResolvedConfiguration())||null}getComments(ce){const ve=this.getLanguageConfiguration(ce);return ve&&ve.comments||null}getIndentRulesSupport(ce){const ve=this.getLanguageConfiguration(ce);return ve&&ve.indentRulesSupport||null}getPrecedingValidLine(ce,ve,ke){const Ve=ce.getLanguageIdAtPosition(ve,0);if(ve>1){let Ue,ue=-1;for(Ue=ve-1;Ue>=1;Ue--){if(ce.getLanguageIdAtPosition(Ue,0)!==Ve)return ue;const _e=ce.getLineContent(Ue);if(!ke.shouldIgnore(_e)&&!/^\s+$/.test(_e)&&""!==_e)return Ue;ue=Ue}}return-1}getInheritIndentForLine(ce,ve,ke,Ve=!0){if(ce<4)return null;const Ue=this.getIndentRulesSupport(ve.getLanguageId());if(!Ue)return null;if(ke<=1)return{indentation:"",action:null};const ue=this.getPrecedingValidLine(ve,ke,Ue);if(ue<0)return null;if(ue<1)return{indentation:"",action:null};const _e=ve.getLineContent(ue);if(Ue.shouldIncrease(_e)||Ue.shouldIndentNextLine(_e))return{indentation:Y.V8(_e),action:E.wU.Indent,line:ue};if(Ue.shouldDecrease(_e))return{indentation:Y.V8(_e),action:null,line:ue};{if(1===ue)return{indentation:Y.V8(ve.getLineContent(ue)),action:null,line:ue};const Re=ue-1,et=Ue.getIndentMetadata(ve.getLineContent(Re));if(!(3&et)&&4&et){let Ze=0;for(let Pe=Re-1;Pe>0;Pe--)if(!Ue.shouldIndentNextLine(ve.getLineContent(Pe))){Ze=Pe;break}return{indentation:Y.V8(ve.getLineContent(Ze+1)),action:null,line:Ze+1}}if(Ve)return{indentation:Y.V8(ve.getLineContent(ue)),action:null,line:ue};for(let Ze=ue;Ze>0;Ze--){const Pe=ve.getLineContent(Ze);if(Ue.shouldIncrease(Pe))return{indentation:Y.V8(Pe),action:E.wU.Indent,line:Ze};if(Ue.shouldIndentNextLine(Pe)){let rt=0;for(let ut=Ze-1;ut>0;ut--)if(!Ue.shouldIndentNextLine(ve.getLineContent(Ze))){rt=ut;break}return{indentation:Y.V8(ve.getLineContent(rt+1)),action:null,line:rt+1}}if(Ue.shouldDecrease(Pe))return{indentation:Y.V8(Pe),action:null,line:Ze}}return{indentation:Y.V8(ve.getLineContent(1)),action:null,line:1}}}getGoodIndentForLine(ce,ve,ke,Ve,Ue){if(ce<4)return null;const ue=this.getLanguageConfiguration(ke);if(!ue)return null;const _e=this.getIndentRulesSupport(ke);if(!_e)return null;const Re=this.getInheritIndentForLine(ce,ve,Ve),et=ve.getLineContent(Ve);if(Re){const Ze=Re.line;if(void 0!==Ze){const Pe=ue.onEnter(ce,"",ve.getLineContent(Ze),"");if(Pe){let rt=Y.V8(ve.getLineContent(Ze));return Pe.removeText&&(rt=rt.substring(0,rt.length-Pe.removeText)),Pe.indentAction===E.wU.Indent||Pe.indentAction===E.wU.IndentOutdent?rt=Ue.shiftIndent(rt):Pe.indentAction===E.wU.Outdent&&(rt=Ue.unshiftIndent(rt)),_e.shouldDecrease(et)&&(rt=Ue.unshiftIndent(rt)),Pe.appendText&&(rt+=Pe.appendText),Y.V8(rt)}}return _e.shouldDecrease(et)?Re.action===E.wU.Indent?Re.indentation:Ue.unshiftIndent(Re.indentation):Re.action===E.wU.Indent?Ue.shiftIndent(Re.indentation):Re.indentation}return null}getIndentForEnter(ce,ve,ke,Ve){if(ce<4)return null;ve.forceTokenization(ke.startLineNumber);const Ue=ve.getLineTokens(ke.startLineNumber),ue=(0,i.wH)(Ue,ke.startColumn-1),_e=ue.getLineContent();let et,Ze,Re=!1;ue.firstCharOffset>0&&Ue.getLanguageId(0)!==ue.languageId?(Re=!0,et=_e.substr(0,ke.startColumn-1-ue.firstCharOffset)):et=Ue.getLineContent().substring(0,ke.startColumn-1),Ze=ke.isEmpty()?_e.substr(ke.startColumn-1-ue.firstCharOffset):this.getScopedLineTokens(ve,ke.endLineNumber,ke.endColumn).getLineContent().substr(ke.endColumn-1-ue.firstCharOffset);const Pe=this.getIndentRulesSupport(ue.languageId);if(!Pe)return null;const rt=et,ut=Y.V8(et),nt={getLineTokens:_t=>ve.getLineTokens(_t),getLanguageId:()=>ve.getLanguageId(),getLanguageIdAtPosition:(_t,zt)=>ve.getLanguageIdAtPosition(_t,zt),getLineContent:_t=>_t===ke.startLineNumber?rt:ve.getLineContent(_t)},Se=Y.V8(Ue.getLineContent()),Ne=this.getInheritIndentForLine(ce,nt,ke.startLineNumber+1);if(!Ne){const _t=Re?Se:ut;return{beforeEnter:_t,afterEnter:_t}}let at=Re?Se:Ne.indentation;return Ne.action===E.wU.Indent&&(at=Ve.shiftIndent(at)),Pe.shouldDecrease(Ze)&&(at=Ve.unshiftIndent(at)),{beforeEnter:Re?Se:ut,afterEnter:at}}getIndentActionForType(ce,ve,ke,Ve,Ue){if(ce<4)return null;const ue=this.getScopedLineTokens(ve,ke.startLineNumber,ke.startColumn);if(ue.firstCharOffset)return null;const _e=this.getIndentRulesSupport(ue.languageId);if(!_e)return null;const Re=ue.getLineContent(),et=Re.substr(0,ke.startColumn-1-ue.firstCharOffset);let Ze;if(Ze=ke.isEmpty()?Re.substr(ke.startColumn-1-ue.firstCharOffset):this.getScopedLineTokens(ve,ke.endLineNumber,ke.endColumn).getLineContent().substr(ke.endColumn-1-ue.firstCharOffset),!_e.shouldDecrease(et+Ze)&&_e.shouldDecrease(et+Ve+Ze)){const Pe=this.getInheritIndentForLine(ce,ve,ke.startLineNumber,!1);if(!Pe)return null;let rt=Pe.indentation;return Pe.action!==E.wU.Indent&&(rt=Ue.unshiftIndent(rt)),rt}return null}getIndentMetadata(ce,ve){const ke=this.getIndentRulesSupport(ce.getLanguageId());return!ke||ve<1||ve>ce.getLineCount()?null:ke.getIndentMetadata(ce.getLineContent(ve))}getEnterAction(ce,ve,ke){const Ve=this.getScopedLineTokens(ve,ke.startLineNumber,ke.startColumn),Ue=this.getLanguageConfiguration(Ve.languageId);if(!Ue)return null;const ue=Ve.getLineContent(),_e=ue.substr(0,ke.startColumn-1-Ve.firstCharOffset);let Re;Re=ke.isEmpty()?ue.substr(ke.startColumn-1-Ve.firstCharOffset):this.getScopedLineTokens(ve,ke.endLineNumber,ke.endColumn).getLineContent().substr(ke.endColumn-1-Ve.firstCharOffset);let et="";if(ke.startLineNumber>1&&0===Ve.firstCharOffset){const Se=this.getScopedLineTokens(ve,ke.startLineNumber-1);Se.languageId===Ve.languageId&&(et=Se.getLineContent())}const Ze=Ue.onEnter(ce,et,_e,Re);if(!Ze)return null;const Pe=Ze.indentAction;let rt=Ze.appendText;const ut=Ze.removeText||0;rt?Pe===E.wU.Indent&&(rt="\t"+rt):rt=Pe===E.wU.Indent||Pe===E.wU.IndentOutdent?"\t":"";let nt=this.getIndentationAtPosition(ve,ke.startLineNumber,ke.startColumn);return ut&&(nt=nt.substring(0,nt.length-ut)),{indentAction:Pe,appendText:rt,removeText:ut,indentation:nt}}getIndentationAtPosition(ce,ve,ke){const Ve=ce.getLineContent(ve);let Ue=Y.V8(Ve);return Ue.length>ke-1&&(Ue=Ue.substring(0,ke-1)),Ue}getScopedLineTokens(ce,ve,ke){ce.forceTokenization(ve);const Ve=ce.getLineTokens(ve),Ue=void 0===ke?ce.getLineMaxColumn(ve)-1:ke-1;return(0,i.wH)(Ve,Ue)}};class q{constructor(ce){this.languageId=ce,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(ce,ve){const ke=new ee(ce,ve,++this._order);return this._entries.push(ke),this._resolved=null,(0,g.OF)(()=>{for(let Ve=0;Ve<this._entries.length;Ve++)if(this._entries[Ve]===ke){this._entries.splice(Ve,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const ce=this._resolve();ce&&(this._resolved=new X(this.languageId,ce))}return this._resolved}_resolve(){return 0===this._entries.length?null:(this._entries.sort(ee.cmp),le(this._entries.map(ce=>ce.configuration)))}}function le(re){let ce={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const ve of re)ce={comments:ve.comments||ce.comments,brackets:ve.brackets||ce.brackets,wordPattern:ve.wordPattern||ce.wordPattern,indentationRules:ve.indentationRules||ce.indentationRules,onEnterRules:ve.onEnterRules||ce.onEnterRules,autoClosingPairs:ve.autoClosingPairs||ce.autoClosingPairs,surroundingPairs:ve.surroundingPairs||ce.surroundingPairs,autoCloseBefore:ve.autoCloseBefore||ce.autoCloseBefore,folding:ve.folding||ce.folding,colorizedBracketPairs:ve.colorizedBracketPairs||ce.colorizedBracketPairs,__electricCharacterSupport:ve.__electricCharacterSupport||ce.__electricCharacterSupport};return ce}class ee{constructor(ce,ve,ke){this.configuration=ce,this.priority=ve,this.order=ke}static cmp(ce,ve){return ce.priority===ve.priority?ce.order-ve.order:ce.priority-ve.priority}}class X{constructor(ce,ve){this.languageId=ce,this.underlyingConfig=ve,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new N(this.underlyingConfig):null,this.comments=X._handleComments(this.underlyingConfig),this.characterPair=new O(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||B.Af,this.indentationRules=this.underlyingConfig.indentationRules,this.indentRulesSupport=this.underlyingConfig.indentationRules?new L(this.underlyingConfig.indentationRules):null,this.foldingRules=this.underlyingConfig.folding||{}}getWordDefinition(){return(0,B.eq)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new S.EA(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new C(this.brackets)),this._electricCharacter}onEnter(ce,ve,ke,Ve){return this._onEnterSupport?this._onEnterSupport.onEnter(ce,ve,ke,Ve):null}getAutoClosingPairs(){return new E.c$(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(){return this.characterPair.getAutoCloseBeforeSet()}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(ce){const ve=ce.comments;if(!ve)return null;const ke={};if(ve.lineComment&&(ke.lineCommentToken=ve.lineComment),ve.blockComment){const[Ve,Ue]=ve.blockComment;ke.blockCommentStartToken=Ve,ke.blockCommentEndToken=Ue}return ke}}(0,Z.z)(j,G)},12282:(Be,Me,m)=>{m.d(Me,{dQ:()=>T,bd:()=>S});var M=m(12918),g=m(71040),Y=m(92119),B=m(63779),E=m(48343),i=m(92778);const T=new class{constructor(){this._onDidChangeLanguages=new g.Q5,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(L){return this._languages.push(L),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let f=0,N=this._languages.length;f<N;f++)if(this._languages[f]===L)return void this._languages.splice(f,1)}}}getLanguages(){return this._languages}};B.B.add("editor.modesRegistry",T);const S="plaintext";T.registerLanguage({id:S,extensions:[".txt"],aliases:[M.N("plainText.alias","Plain Text"),"text"],mimetypes:[E.v.text]}),Y.zu.register(S,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0),B.B.as(i.IP.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])},88057:(Be,Me,m)=>{m.d(Me,{TJ:()=>g,Ri:()=>Y,Dy:()=>B});var M=m(33979);const g=new class{clone(){return this}equals(E){return this===E}};function Y(E,i){return new M.hG([new M.WU(0,"",E)],i)}function B(E,i){const O=new Uint32Array(2);return O[0]=0,O[1]=(16384|E<<0|2<<23)>>>0,new M.DI(O,null===i?g:i)}},20595:(Be,Me,m)=>{function M(B,E){const i=B.getCount(),O=B.findTokenIndexAtOffset(E),F=B.getLanguageId(O);let T=O;for(;T+1<i&&B.getLanguageId(T+1)===F;)T++;let S=O;for(;S>0&&B.getLanguageId(S-1)===F;)S--;return new g(B,F,S,T+1,B.getStartOffset(S),B.getEndOffset(T))}m.d(Me,{wH:()=>M,Bu:()=>Y});class g{constructor(E,i,O,F,T,S){this._scopedLineTokensBrand=void 0,this._actual=E,this.languageId=i,this._firstTokenIndex=O,this._lastTokenIndex=F,this.firstCharOffset=T,this._lastCharOffset=S}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(E){return this._actual.getLineContent().substring(0,this.firstCharOffset+E)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(E){return this._actual.findTokenIndexAtOffset(E+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(E){return this._actual.getStandardTokenType(E+this._firstTokenIndex)}}function Y(B){return 0!=(3&B)}},29675:(Be,Me,m)=>{m.d(Me,{EA:()=>i,Vr:()=>D});var M=m(74243),g=m(53269),Y=m(1873);class B{constructor(Z,P,k,$,j,G){this._richEditBracketBrand=void 0,this.languageId=Z,this.index=P,this.open=k,this.close=$,this.forwardRegex=j,this.reversedRegex=G,this._openSet=B._toSet(this.open),this._closeSet=B._toSet(this.close)}isOpen(Z){return this._openSet.has(Z)}isClose(Z){return this._closeSet.has(Z)}static _toSet(Z){const P=new Set;for(const k of Z)P.add(k);return P}}class i{constructor(Z,P){this._richEditBracketsBrand=void 0;const k=function(I){const Z=I.length;I=I.map(G=>[G[0].toLowerCase(),G[1].toLowerCase()]);const P=[];for(let G=0;G<Z;G++)P[G]=G;const k=(G,oe)=>{const[de,fe]=G,[pe,we]=oe;return de===pe||de===we||fe===pe||fe===we},$=(G,oe)=>{const de=Math.min(G,oe),fe=Math.max(G,oe);for(let pe=0;pe<Z;pe++)P[pe]===fe&&(P[pe]=de)};for(let G=0;G<Z;G++){const oe=I[G];for(let de=G+1;de<Z;de++)k(oe,I[de])&&$(P[G],P[de])}const j=[];for(let G=0;G<Z;G++){const oe=[],de=[];for(let fe=0;fe<Z;fe++)if(P[fe]===G){const[pe,we]=I[fe];oe.push(pe),de.push(we)}oe.length>0&&j.push({open:oe,close:de})}return j}(P);this.brackets=k.map(($,j)=>new B(Z,j,$.open,$.close,function(I,Z,P,k){let $=[];$=$.concat(I),$=$.concat(Z);for(let j=0,G=$.length;j<G;j++)O($[j],P,k,$);return $=T($),$.sort(F),$.reverse(),N($)}($.open,$.close,k,j),function(I,Z,P,k){let $=[];$=$.concat(I),$=$.concat(Z);for(let j=0,G=$.length;j<G;j++)O($[j],P,k,$);return $=T($),$.sort(F),$.reverse(),N($.map(z))}($.open,$.close,k,j))),this.forwardRegex=function(I){let Z=[];for(const P of I){for(const k of P.open)Z.push(k);for(const k of P.close)Z.push(k)}return Z=T(Z),N(Z)}(this.brackets),this.reversedRegex=function(I){let Z=[];for(const P of I){for(const k of P.open)Z.push(k);for(const k of P.close)Z.push(k)}return Z=T(Z),N(Z.map(z))}(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const $ of this.brackets){for(const j of $.open)this.textIsBracket[j]=$,this.textIsOpenBracket[j]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,j.length);for(const j of $.close)this.textIsBracket[j]=$,this.textIsOpenBracket[j]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,j.length)}}}function O(I,Z,P,k){for(let $=0,j=Z.length;$<j;$++){if($===P)continue;const G=Z[$];for(const oe of G.open)oe.indexOf(I)>=0&&k.push(oe);for(const oe of G.close)oe.indexOf(I)>=0&&k.push(oe)}}function F(I,Z){return I.length-Z.length}function T(I){if(I.length<=1)return I;const Z=[],P=new Set;for(const k of I)P.has(k)||(Z.push(k),P.add(k));return Z}function f(I){const Z=/^[\w ]+$/.test(I);return I=M.ec(I),Z?`\\b${I}\\b`:I}function N(I){const Z=`(${I.map(f).join(")|(")})`;return M.GF(Z,!0)}const z=function(){let Z=null,P=null;return function($){return Z!==$&&(Z=$,P=function(k){if(g.lZ){const $=new Uint16Array(k.length);let j=0;for(let G=k.length-1;G>=0;G--)$[j++]=k.charCodeAt(G);return g.oe().decode($)}{const $=[];let j=0;for(let G=k.length-1;G>=0;G--)$[j++]=k.charAt(G);return $.join("")}}(Z)),P}}();class D{static _findPrevBracketInText(Z,P,k,$){const j=k.match(Z);if(!j)return null;const de=$+(k.length-(j.index||0));return new Y.e(P,de-j[0].length+1,P,de+1)}static findPrevBracketInRange(Z,P,k,$,j){const oe=z(k).substring(k.length-j,k.length-$);return this._findPrevBracketInText(Z,P,oe,$)}static findNextBracketInText(Z,P,k,$){const j=k.match(Z);if(!j)return null;const oe=j[0].length;if(0===oe)return null;const de=$+(j.index||0);return new Y.e(P,de+1,P,de+1+oe)}static findNextBracketInRange(Z,P,k,$,j){const G=k.substring($,j);return this.findNextBracketInText(Z,P,G,$)}}},42137:(Be,Me,m)=>{m.d(Me,{C2:()=>O,Fq:()=>F});var M=m(74243),g=m(5928),Y=m(33979),B=m(88057);const i={getInitialState:()=>B.TJ,tokenizeEncoded:(S,C,b)=>(0,B.Dy)(0,b)};function O(S,C,b){return function(S,C,b,L){return new(b||(b=Promise))(function(N,z){function D(P){try{Z(L.next(P))}catch(k){z(k)}}function I(P){try{Z(L.throw(P))}catch(k){z(k)}}function Z(P){P.done?N(P.value):function(N){return N instanceof b?N:new b(function(z){z(N)})}(P.value).then(D,I)}Z((L=L.apply(S,C||[])).next())})}(this,void 0,void 0,function*(){if(!b)return T(C,S.languageIdCodec,i);const L=yield Y.RW.getOrCreate(b);return T(C,S.languageIdCodec,L||i)})}function F(S,C,b,L,f,N,z){let D="<div>",I=L,Z=0,P=!0;for(let k=0,$=C.getCount();k<$;k++){const j=C.getEndOffset(k);if(j<=L)continue;let G="";for(;I<j&&I<f;I++){const oe=S.charCodeAt(I);switch(oe){case 9:{let de=N-(I+Z)%N;for(Z+=de-1;de>0;)z&&P?(G+="&#160;",P=!1):(G+=" ",P=!0),de--;break}case 60:G+="&lt;",P=!1;break;case 62:G+="&gt;",P=!1;break;case 38:G+="&amp;",P=!1;break;case 0:G+="&#00;",P=!1;break;case 65279:case 8232:case 8233:case 133:G+="\ufffd",P=!1;break;case 13:G+="&#8203",P=!1;break;case 32:z&&P?(G+="&#160;",P=!1):(G+=" ",P=!0);break;default:G+=String.fromCharCode(oe),P=!1}}if(D+=`<span style="${C.getInlineStyle(k,b)}">${G}</span>`,j>f||I>=f)break}return D+="</div>",D}function T(S,C,b){let L='<div class="monaco-tokenized-source">';const f=M.uq(S);let N=b.getInitialState();for(let z=0,D=f.length;z<D;z++){const I=f[z];z>0&&(L+="<br/>");const Z=b.tokenizeEncoded(I,!0,N);g.A.convertToEndOffset(Z.tokens,I.length);const k=new g.A(Z.tokens,I,C).inflate();let $=0;for(let j=0,G=k.getCount();j<G;j++){const oe=k.getClassName(j),de=k.getEndOffset(j);L+=`<span class="${oe}">${M.YU(I.substring($,de))}</span>`,$=de}N=Z.endState}return L+="</div>",L}},80067:(Be,Me,m)=>{m.d(Me,{sh:()=>g,F5:()=>Y,RM:()=>B,dJ:()=>E,tk:()=>i,Qi:()=>O,Tx:()=>F,je:()=>T,pt:()=>S});var M=m(60842),g=(()=>{return(C=g||(g={}))[C.Left=1]="Left",C[C.Center=2]="Center",C[C.Right=4]="Right",C[C.Full=7]="Full",g;var C})(),Y=(()=>{return(C=Y||(Y={}))[C.Inline=1]="Inline",C[C.Gutter=2]="Gutter",Y;var C})(),B=(()=>{return(C=B||(B={}))[C.Both=0]="Both",C[C.Right=1]="Right",C[C.Left=2]="Left",C[C.None=3]="None",B;var C})();class E{constructor(b){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,0|b.tabSize),this.indentSize=0|b.tabSize,this.insertSpaces=Boolean(b.insertSpaces),this.defaultEOL=0|b.defaultEOL,this.trimAutoWhitespace=Boolean(b.trimAutoWhitespace),this.bracketPairColorizationOptions=b.bracketPairColorizationOptions}equals(b){return this.tabSize===b.tabSize&&this.indentSize===b.indentSize&&this.insertSpaces===b.insertSpaces&&this.defaultEOL===b.defaultEOL&&this.trimAutoWhitespace===b.trimAutoWhitespace&&(0,M.fS)(this.bracketPairColorizationOptions,b.bracketPairColorizationOptions)}createChangeEvent(b){return{tabSize:this.tabSize!==b.tabSize,indentSize:this.indentSize!==b.indentSize,insertSpaces:this.insertSpaces!==b.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==b.trimAutoWhitespace}}}class i{constructor(b,L){this._findMatchBrand=void 0,this.range=b,this.matches=L}}class O{constructor(b,L,f,N,z,D){this.identifier=b,this.range=L,this.text=f,this.forceMoveMarkers=N,this.isAutoWhitespaceEdit=z,this._isTracked=D}}class F{constructor(b,L,f){this.regex=b,this.wordSeparators=L,this.simpleSearch=f}}class T{constructor(b,L,f){this.reverseEdits=b,this.changes=L,this.trimAutoWhitespaceLineNumbers=f}}function S(C){return!C.isTooLargeForSyncing()&&!C.isForSimpleWidget}},45612:(Be,Me,m)=>{m.d(Me,{Kd:()=>E,Y0:()=>i,BH:()=>L,n2:()=>f,Dm:()=>N});var M=m(90784),g=m(79615),Y=m(25453);class B{constructor(D){this._length=D}get length(){return this._length}}class E extends B{constructor(D,I,Z,P,k){super(D),this.openingBracket=I,this.child=Z,this.closingBracket=P,this.missingOpeningBracketIds=k}static create(D,I,Z){let P=D.length;return I&&(P=(0,g.Ii)(P,I.length)),Z&&(P=(0,g.Ii)(P,Z.length)),new E(P,D,I,Z,I?I.missingOpeningBracketIds:Y.tS.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(D){switch(D){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const D=new Array;return D.push(this.openingBracket),this.child&&D.push(this.child),this.closingBracket&&D.push(this.closingBracket),D}canBeReused(D){return!(null===this.closingBracket||D.intersects(this.missingOpeningBracketIds))}deepClone(){return new E(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(D,I){return this.child?this.child.computeMinIndentation((0,g.Ii)(D,this.openingBracket.length),I):Number.MAX_SAFE_INTEGER}}class i extends B{constructor(D,I,Z){super(D),this.listHeight=I,this._missingOpeningBracketIds=Z,this.cachedMinIndentation=-1}static create23(D,I,Z,P=!1){let k=D.length,$=D.missingOpeningBracketIds;if(D.listHeight!==I.listHeight)throw new Error("Invalid list heights");if(k=(0,g.Ii)(k,I.length),$=$.merge(I.missingOpeningBracketIds),Z){if(D.listHeight!==Z.listHeight)throw new Error("Invalid list heights");k=(0,g.Ii)(k,Z.length),$=$.merge(Z.missingOpeningBracketIds)}return P?new F(k,D.listHeight+1,D,I,Z,$):new O(k,D.listHeight+1,D,I,Z,$)}static getEmpty(){return new S(g.xl,0,[],Y.tS.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const D=this.childrenLength;if(0===D)return;const I=this.getChild(D-1),Z=4===I.kind?I.toMutable():I;return I!==Z&&this.setChild(D-1,Z),Z}makeFirstElementMutable(){if(this.throwIfImmutable(),0===this.childrenLength)return;const I=this.getChild(0),Z=4===I.kind?I.toMutable():I;return I!==Z&&this.setChild(0,Z),Z}canBeReused(D){if(D.intersects(this.missingOpeningBracketIds))return!1;let Z,I=this;for(;4===I.kind&&(Z=I.childrenLength)>0;)I=I.getChild(Z-1);return I.canBeReused(D)}handleChildrenChanged(){this.throwIfImmutable();const D=this.childrenLength;let I=this.getChild(0).length,Z=this.getChild(0).missingOpeningBracketIds;for(let P=1;P<D;P++){const k=this.getChild(P);I=(0,g.Ii)(I,k.length),Z=Z.merge(k.missingOpeningBracketIds)}this._length=I,this._missingOpeningBracketIds=Z,this.cachedMinIndentation=-1}computeMinIndentation(D,I){if(-1!==this.cachedMinIndentation)return this.cachedMinIndentation;let Z=Number.MAX_SAFE_INTEGER,P=D;for(let k=0;k<this.childrenLength;k++){const $=this.getChild(k);$&&(Z=Math.min(Z,$.computeMinIndentation(P,I)),P=(0,g.Ii)(P,$.length))}return this.cachedMinIndentation=Z,Z}}class O extends i{constructor(D,I,Z,P,k,$){super(D,I,$),this._item1=Z,this._item2=P,this._item3=k}get childrenLength(){return null!==this._item3?3:2}getChild(D){switch(D){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(D,I){switch(D){case 0:return void(this._item1=I);case 1:return void(this._item2=I);case 2:return void(this._item3=I)}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}deepClone(){return new O(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(D){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=D,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const D=this._item3;return this._item3=null,this.handleChildrenChanged(),D}prependChildOfSameHeight(D){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=D,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const D=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),D}toMutable(){return this}}class F extends O{toMutable(){return new O(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class T extends i{constructor(D,I,Z,P){super(D,I,P),this._children=Z}get childrenLength(){return this._children.length}getChild(D){return this._children[D]}setChild(D,I){this._children[D]=I}get children(){return this._children}deepClone(){const D=new Array(this._children.length);for(let I=0;I<this._children.length;I++)D[I]=this._children[I].deepClone();return new T(this.length,this.listHeight,D,this.missingOpeningBracketIds)}appendChildOfSameHeight(D){this.throwIfImmutable(),this._children.push(D),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const D=this._children.pop();return this.handleChildrenChanged(),D}prependChildOfSameHeight(D){this.throwIfImmutable(),this._children.unshift(D),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const D=this._children.shift();return this.handleChildrenChanged(),D}toMutable(){return this}}class S extends T{toMutable(){return new T(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const C=[];class b extends B{get listHeight(){return 0}get childrenLength(){return 0}getChild(D){return null}get children(){return C}deepClone(){return this}}class L extends b{get kind(){return 0}get missingOpeningBracketIds(){return Y.tS.getEmpty()}canBeReused(D){return!0}computeMinIndentation(D,I){const Z=(0,g.Hw)(D),P=(0===Z.columnCount?Z.lineCount:Z.lineCount+1)+1,k=(0,g.W9)((0,g.Ii)(D,this.length))+1;let $=Number.MAX_SAFE_INTEGER;for(let j=P;j<=k;j++){const G=I.getLineFirstNonWhitespaceColumn(j),oe=I.getLineContent(j);if(0===G)continue;const de=M.i.visibleColumnFromColumn(oe,G,I.getOptions().tabSize);$=Math.min($,de)}return $}}class f extends b{constructor(D,I,Z){super(D),this.languageId=I,this.bracketIds=Z}static create(D,I,Z){return new f(D,I,Z)}get kind(){return 1}get missingOpeningBracketIds(){return Y.tS.getEmpty()}canBeReused(D){return!1}computeMinIndentation(D,I){return Number.MAX_SAFE_INTEGER}}class N extends b{constructor(D,I){super(I),this.missingOpeningBracketIds=D}get kind(){return 3}canBeReused(D){return!D.intersects(this.missingOpeningBracketIds)}computeMinIndentation(D,I){return Number.MAX_SAFE_INTEGER}}},91500:(Be,Me,m)=>{m.d(Me,{Q:()=>g,Y:()=>Y});var M=m(79615);class g{constructor(i,O,F){this.startOffset=i,this.endOffset=O,this.newLength=F}}class Y{constructor(i,O){this.documentLength=O,this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=i.map(F=>B.from(F))}getOffsetBeforeChange(i){return this.adjustNextEdit(i),this.translateCurToOld(i)}getDistanceToNextChange(i){this.adjustNextEdit(i);const O=this.edits[this.nextEditIdx],F=O?this.translateOldToCur(O.offsetObj):this.documentLength;return(0,M.BE)(i,F)}translateOldToCur(i){return(0,M.Hg)(i.lineCount+this.deltaOldToNewLineCount,i.lineCount===this.deltaLineIdxInOld?i.columnCount+this.deltaOldToNewColumnCount:i.columnCount)}translateCurToOld(i){const O=(0,M.Hw)(i);return(0,M.Hg)(O.lineCount-this.deltaOldToNewLineCount,O.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?O.columnCount-this.deltaOldToNewColumnCount:O.columnCount)}adjustNextEdit(i){for(;this.nextEditIdx<this.edits.length;){const O=this.edits[this.nextEditIdx],F=this.translateOldToCur(O.endOffsetAfterObj);if(!(0,M.By)(F,i))break;{this.nextEditIdx++;const T=(0,M.Hw)(F),S=(0,M.Hw)(this.translateOldToCur(O.endOffsetBeforeObj));this.deltaOldToNewLineCount+=T.lineCount-S.lineCount,this.deltaOldToNewColumnCount=(this.deltaLineIdxInOld===O.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0)+(T.columnCount-S.columnCount),this.deltaLineIdxInOld=O.endOffsetBeforeObj.lineCount}}}}class B{constructor(i,O,F){this.endOffsetBeforeObj=(0,M.Hw)(O),this.endOffsetAfterObj=(0,M.Hw)((0,M.Ii)(i,F)),this.offsetObj=(0,M.Hw)(i)}static from(i){return new B(i.startOffset,i.endOffset,i.newLength)}}},67875:(Be,Me,m)=>{m.d(Me,{Z:()=>F});var M=m(74243),g=m(45612),Y=m(79615),B=m(25453),E=m(21944);class i{constructor(S){this.map=S,this.hasRegExp=!1,this._regExpGlobal=null}static createFromLanguage(S,C){function b(D,I){return C.getKey(`${D}:::${I}`)}const L=S.characterPair.getColorizedBrackets(),f=new Map,N=new Set;for(const[D,I]of L){N.add(D);let Z=f.get(I);const P=b(S.languageId,D);Z||(Z={openingBrackets:B.tS.getEmpty(),first:P},f.set(I,Z)),Z.openingBrackets=Z.openingBrackets.add(P,B.Qw)}const z=new Map;for(const[D,I]of f){const Z=(0,Y.Hg)(0,D.length);z.set(D,new E.WU(Z,2,I.first,I.openingBrackets,g.n2.create(Z,S.languageId,I.openingBrackets)))}for(const D of N){const I=(0,Y.Hg)(0,D.length),Z=b(S.languageId,D),P=B.tS.getEmpty().add(Z,B.Qw);z.set(D,new E.WU(I,1,Z,P,g.n2.create(I,S.languageId,P)))}return new i(z)}getRegExpStr(){if(this.isEmpty)return null;{const S=[...this.map.keys()];return S.sort(),S.reverse(),S.map(C=>function(T){const S=(0,M.ec)(T);return/^[\w ]+$/.test(T)?`\\b${S}\\b`:S}(C)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const S=this.getRegExpStr();this._regExpGlobal=S?new RegExp(S,"g"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(S){return this.map.get(S)}findClosingTokenText(S){for(const[C,b]of this.map)if(b.bracketIds.intersects(S))return C}get isEmpty(){return 0===this.map.size}}class F{constructor(S,C){this.denseKeyProvider=S,this.getLanguageConfiguration=C,this.languageIdToBracketTokens=new Map}didLanguageChange(S){const C=this.languageIdToBracketTokens.get(S);if(!C)return!1;const b=i.createFromLanguage(this.getLanguageConfiguration(S),this.denseKeyProvider).getRegExpStr();return C.getRegExpStr()!==b}getSingleLanguageBracketTokens(S){let C=this.languageIdToBracketTokens.get(S);return C||(C=i.createFromLanguage(this.getLanguageConfiguration(S),this.denseKeyProvider),this.languageIdToBracketTokens.set(S,C)),C}}},79615:(Be,Me,m)=>{m.d(Me,{av:()=>B,xl:()=>E,xd:()=>i,Hg:()=>F,Hw:()=>T,W9:()=>S,F_:()=>C,Ii:()=>b,BE:()=>L,VR:()=>f,By:()=>N,Zq:()=>z,PZ:()=>D,Qw:()=>I,oR:()=>Z});var M=m(74243),g=m(1873);class Y{constructor(k,$){this.lineCount=k,this.columnCount=$}toString(){return`${this.lineCount},${this.columnCount}`}}function B(P,k,$,j){return P!==$?F($-P,j):F(0,j-k)}Y.zero=new Y(0,0);const E=0;function i(P){return 0===P}const O=Math.pow(2,26);function F(P,k){return P*O+k}function T(P){const k=P,$=Math.floor(k/O);return new Y($,k-$*O)}function S(P){return Math.floor(P/O)}function C(P){return P}function b(P,k){return k<O?P+k:P-P%O+k}function L(P,k){const $=P,j=k;if(j-$<=0)return E;const oe=Math.floor($/O),de=Math.floor(j/O),fe=j-de*O;return oe===de?F(0,fe-($-oe*O)):F(de-oe,fe)}function f(P,k){return P<k}function N(P,k){return P<=k}function z(P,k){return P>=k}function D(P){return F(P.lineNumber-1,P.column-1)}function I(P,k){const $=P,j=Math.floor($/O),G=$-j*O,oe=k,de=Math.floor(oe/O);return new g.e(j+1,G+1,de+1,oe-de*O+1)}function Z(P){const k=(0,M.uq)(P);return F(k.length-1,k[k.length-1].length)}},95818:(Be,Me,m)=>{m.d(Me,{w:()=>f});var M=m(45612),g=m(91500),Y=m(25453),B=m(79615);function i(z,D=!1){if(0===z.length)return null;if(1===z.length)return z[0];let I=z.length;for(;I>3;){const Z=I>>1;for(let P=0;P<Z;P++){const k=P<<1;z[P]=M.Y0.create23(z[k],z[k+1],k+3===I?z[k+2]:null,D)}I=Z}return M.Y0.create23(z[0],z[1],I>=3?z[2]:null,D)}function O(z,D){return Math.abs(z.listHeight-D.listHeight)}function F(z,D){return z.listHeight===D.listHeight?M.Y0.create23(z,D,null,!1):z.listHeight>D.listHeight?function(z,D){let I=z=z.toMutable();const Z=new Array;let P;for(;;){if(D.listHeight===I.listHeight){P=D;break}if(4!==I.kind)throw new Error("unexpected");Z.push(I),I=I.makeLastElementMutable()}for(let k=Z.length-1;k>=0;k--){const $=Z[k];P?$.childrenLength>=3?P=M.Y0.create23($.unappendChild(),P,null,!1):($.appendChildOfSameHeight(P),P=void 0):$.handleChildrenChanged()}return P?M.Y0.create23(z,P,null,!1):z}(z,D):function(z,D){let I=z=z.toMutable();const Z=new Array;for(;D.listHeight!==I.listHeight;){if(4!==I.kind)throw new Error("unexpected");Z.push(I),I=I.makeFirstElementMutable()}let P=D;for(let k=Z.length-1;k>=0;k--){const $=Z[k];P?$.childrenLength>=3?P=M.Y0.create23(P,$.unprependChild(),null,!1):($.prependChildOfSameHeight(P),P=void 0):$.handleChildrenChanged()}return P?M.Y0.create23(P,z,null,!1):z}(D,z)}class C{constructor(D){this.lastOffset=B.xl,this.nextNodes=[D],this.offsets=[B.xl],this.idxs=[]}readLongestNodeAt(D,I){if((0,B.VR)(D,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=D;;){const Z=L(this.nextNodes);if(!Z)return;const P=L(this.offsets);if((0,B.VR)(D,P))return;if((0,B.VR)(P,D))if((0,B.Ii)(P,Z.length)<=D)this.nextNodeAfterCurrent();else{const k=b(Z);-1!==k?(this.nextNodes.push(Z.getChild(k)),this.offsets.push(P),this.idxs.push(k)):this.nextNodeAfterCurrent()}else{if(I(Z))return this.nextNodeAfterCurrent(),Z;{const k=b(Z);if(-1===k)return void this.nextNodeAfterCurrent();this.nextNodes.push(Z.getChild(k)),this.offsets.push(P),this.idxs.push(k)}}}}nextNodeAfterCurrent(){for(;;){const D=L(this.offsets),I=L(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),0===this.idxs.length)break;const Z=L(this.nextNodes),P=b(Z,this.idxs[this.idxs.length-1]);if(-1!==P){this.nextNodes.push(Z.getChild(P)),this.offsets.push((0,B.Ii)(D,I.length)),this.idxs[this.idxs.length-1]=P;break}this.idxs.pop()}}}function b(z,D=-1){for(;;){if(++D>=z.childrenLength)return-1;if(z.getChild(D))return D}}function L(z){return z.length>0?z[z.length-1]:void 0}function f(z,D,I,Z){return new N(z,D,I,Z).parseDocument()}class N{constructor(D,I,Z,P){if(this.tokenizer=D,this.createImmutableLists=P,this._itemsConstructed=0,this._itemsFromCache=0,Z&&P)throw new Error("Not supported");this.oldNodeReader=Z?new C(Z):void 0,this.positionMapper=new g.Y(I,D.length)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let D=this.parseList(Y.tS.getEmpty());return D||(D=M.Y0.getEmpty()),D}parseList(D){const I=new Array;for(;;){const P=this.tokenizer.peek();if(!P||2===P.kind&&P.bracketIds.intersects(D))break;const k=this.parseChild(D);4===k.kind&&0===k.childrenLength||I.push(k)}return this.oldNodeReader?function(z){if(0===z.length)return null;if(1===z.length)return z[0];let D=0;function I(){if(D>=z.length)return null;const $=D,j=z[$].listHeight;for(D++;D<z.length&&z[D].listHeight===j;)D++;return D-$>=2?i(0===$&&D===z.length?z:z.slice($,D),!1):z[$]}let Z=I(),P=I();if(!P)return Z;for(let $=I();$;$=I())O(Z,P)<=O(P,$)?(Z=F(Z,P),P=$):P=F(P,$);return F(Z,P)}(I):i(I,this.createImmutableLists)}parseChild(D){if(this.oldNodeReader){const Z=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(!(0,B.xd)(Z)){const P=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),k=>!!(0,B.VR)(k.length,Z)&&k.canBeReused(D));if(P)return this._itemsFromCache++,this.tokenizer.skip(P.length),P}}this._itemsConstructed++;const I=this.tokenizer.read();switch(I.kind){case 2:return new M.Dm(I.bracketIds,I.length);case 0:return I.astNode;case 1:{const Z=D.merge(I.bracketIds),P=this.parseList(Z),k=this.tokenizer.peek();return k&&2===k.kind&&(k.bracketId===I.bracketId||k.bracketIds.intersects(I.bracketIds))?(this.tokenizer.read(),M.Kd.create(I.astNode,P,k.astNode)):M.Kd.create(I.astNode,P,null)}default:throw new Error("unexpected")}}}},25453:(Be,Me,m)=>{m.d(Me,{tS:()=>g,Qw:()=>Y,FE:()=>B});const M=new Array;class g{constructor(i,O){this.items=i,this.additionalItems=O}static create(i,O){if(i<=128&&0===O.length){let F=g.cache[i];return F||(F=new g(i,O),g.cache[i]=F),F}return new g(i,O)}static getEmpty(){return this.empty}add(i,O){const F=O.getKey(i);let T=F>>5;if(0===T){const C=1<<F|this.items;return C===this.items?this:g.create(C,this.additionalItems)}T--;const S=this.additionalItems.slice(0);for(;S.length<T;)S.push(0);return S[T]|=1<<(31&F),g.create(this.items,S)}merge(i){const O=this.items|i.items;if(this.additionalItems===M&&i.additionalItems===M)return O===this.items?this:O===i.items?i:g.create(O,M);const F=new Array;for(let T=0;T<Math.max(this.additionalItems.length,i.additionalItems.length);T++)F.push((this.additionalItems[T]||0)|(i.additionalItems[T]||0));return g.create(O,F)}intersects(i){if(0!=(this.items&i.items))return!0;for(let O=0;O<Math.min(this.additionalItems.length,i.additionalItems.length);O++)if(0!=(this.additionalItems[O]&i.additionalItems[O]))return!0;return!1}}g.cache=new Array(129),g.empty=g.create(0,M);const Y={getKey:E=>E};class B{constructor(){this.items=new Map}getKey(i){let O=this.items.get(i);return void 0===O&&(O=this.items.size,this.items.set(i,O)),O}}},21944:(Be,Me,m)=>{m.d(Me,{WU:()=>i,xH:()=>O,g:()=>T});var M=m(13226),g=m(33979),Y=m(45612),B=m(79615),E=m(25453);class i{constructor(C,b,L,f,N){this.length=C,this.kind=b,this.bracketId=L,this.bracketIds=f,this.astNode=N}}class O{constructor(C,b){this.textModel=C,this.bracketTokens=b,this.reader=new F(this.textModel,this.bracketTokens),this._offset=B.xl,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=C.getLineCount(),this.textBufferLastLineLength=C.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,B.Hg)(this.textBufferLineCount,this.textBufferLastLineLength)}skip(C){this.didPeek=!1,this._offset=(0,B.Ii)(this._offset,C);const b=(0,B.Hw)(this._offset);this.reader.setPosition(b.lineCount,b.columnCount)}read(){let C;return this.peeked?(this.didPeek=!1,C=this.peeked):C=this.reader.read(),C&&(this._offset=(0,B.Ii)(this._offset,C.length)),C}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class F{constructor(C,b){this.textModel=C,this.bracketTokens=b,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=C.getLineCount(),this.textBufferLastLineLength=C.getLineLength(this.textBufferLineCount)}setPosition(C,b){C===this.lineIdx?(this.lineCharOffset=b,this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)):(this.lineIdx=C,this.lineCharOffset=b,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const N=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,B.F_)(N.length),N}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;null===this.line&&(this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const C=this.lineIdx,b=this.lineCharOffset;let L=0;for(;;){const N=this.lineTokens,z=N.getCount();let D=null;if(this.lineTokenOffset<z){const I=N.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<z&&I===N.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const Z=0===g.NX.getTokenType(I),P=N.getEndOffset(this.lineTokenOffset);if(Z&&P!==this.lineCharOffset){const k=N.getLanguageId(this.lineTokenOffset),$=this.line.substring(this.lineCharOffset,P),j=this.bracketTokens.getSingleLanguageBracketTokens(k),G=j.regExpGlobal;if(G){G.lastIndex=0;const oe=G.exec($);oe&&(D=j.getToken(oe[0]),D&&(this.lineCharOffset+=oe.index))}}if(L+=P-this.lineCharOffset,D){if(C!==this.lineIdx||b!==this.lineCharOffset){this.peekedToken=D;break}return this.lineCharOffset+=(0,B.F_)(D.length),D}this.lineTokenOffset++,this.lineCharOffset=P}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,L+=33,L>1e3))break;if(L>1500)break}const f=(0,B.av)(C,b,this.lineIdx,this.lineCharOffset);return new i(f,0,-1,E.tS.getEmpty(),new Y.BH(f))}}class T{constructor(C,b){this.text=C,this._offset=B.xl,this.idx=0;const f=b.getRegExpStr()?new RegExp(b.getRegExpStr()+"|\n","g"):null,N=[];let z,D=0,I=0,Z=0,P=0;const k=new Array;for(let G=0;G<60;G++)k.push(new i((0,B.Hg)(0,G),0,-1,E.tS.getEmpty(),new Y.BH((0,B.Hg)(0,G))));const $=new Array;for(let G=0;G<60;G++)$.push(new i((0,B.Hg)(1,G),0,-1,E.tS.getEmpty(),new Y.BH((0,B.Hg)(1,G))));if(f)for(f.lastIndex=0;null!==(z=f.exec(C));){const G=z.index,oe=z[0];if("\n"===oe)D++,I=G+1;else{if(Z!==G){let de;if(P===D){const fe=G-Z;if(fe<k.length)de=k[fe];else{const pe=(0,B.Hg)(0,fe);de=new i(pe,0,-1,E.tS.getEmpty(),new Y.BH(pe))}}else{const fe=D-P,pe=G-I;if(1===fe&&pe<$.length)de=$[pe];else{const we=(0,B.Hg)(fe,pe);de=new i(we,0,-1,E.tS.getEmpty(),new Y.BH(we))}}N.push(de)}N.push(b.getToken(oe)),Z=G+oe.length,P=D}}const j=C.length;if(Z!==j){const G=P===D?(0,B.Hg)(0,j-Z):(0,B.Hg)(D-P,j-I);N.push(new i(G,0,-1,E.tS.getEmpty(),new Y.BH(G)))}this.length=(0,B.Hg)(D,j-I),this.tokens=N}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(C){throw new M.B8}}},40822:(Be,Me,m)=>{m.d(Me,{e9:()=>L,NL:()=>f});var M=m(12918),g=m(13226),Y=m(60745),B=m(85459),E=m(64978),i=m(90386),O=m(6228);function F(N){return N.toString()}class T{constructor(z,D,I,Z,P,k,$){this.beforeVersionId=z,this.afterVersionId=D,this.beforeEOL=I,this.afterEOL=Z,this.beforeCursorState=P,this.afterCursorState=k,this.changes=$}static create(z,D){const I=z.getAlternativeVersionId(),Z=b(z);return new T(I,I,Z,Z,D,D,[])}append(z,D,I,Z,P){D.length>0&&(this.changes=(0,E.b)(this.changes,D)),this.afterEOL=I,this.afterVersionId=Z,this.afterCursorState=P}static _writeSelectionsSize(z){return 4+16*(z?z.length:0)}static _writeSelections(z,D,I){if(i.T4(z,D?D.length:0,I),I+=4,D)for(const Z of D)i.T4(z,Z.selectionStartLineNumber,I),i.T4(z,Z.selectionStartColumn,I+=4),i.T4(z,Z.positionLineNumber,I+=4),i.T4(z,Z.positionColumn,I+=4),I+=4;return I}static _readSelections(z,D,I){const Z=i.Ag(z,D);D+=4;for(let P=0;P<Z;P++){const k=i.Ag(z,D),$=i.Ag(z,D+=4),j=i.Ag(z,D+=4),G=i.Ag(z,D+=4);D+=4,I.push(new Y.Y(k,$,j,G))}return D}serialize(){let z=10+T._writeSelectionsSize(this.beforeCursorState)+T._writeSelectionsSize(this.afterCursorState)+4;for(const Z of this.changes)z+=Z.writeSize();const D=new Uint8Array(z);let I=0;i.T4(D,this.beforeVersionId,I),I+=4,i.T4(D,this.afterVersionId,I),I+=4,i.Cg(D,this.beforeEOL,I),I+=1,i.Cg(D,this.afterEOL,I),I+=1,I=T._writeSelections(D,this.beforeCursorState,I),I=T._writeSelections(D,this.afterCursorState,I),i.T4(D,this.changes.length,I),I+=4;for(const Z of this.changes)I=Z.write(D,I);return D.buffer}static deserialize(z){const D=new Uint8Array(z);let I=0;const Z=i.Ag(D,I);I+=4;const P=i.Ag(D,I);I+=4;const k=i.Q$(D,I);I+=1;const $=i.Q$(D,I);I+=1;const j=[];I=T._readSelections(D,I,j);const G=[];I=T._readSelections(D,I,G);const oe=i.Ag(D,I);I+=4;const de=[];for(let fe=0;fe<oe;fe++)I=E.q.read(D,I,de);return new T(Z,P,k,$,j,G,de)}}class S{constructor(z,D){this.model=z,this._data=T.create(z,D)}get type(){return 0}get resource(){return B.o.isUri(this.model)?this.model:this.model.uri}get label(){return M.N("edit","Typing")}toString(){return(this._data instanceof T?this._data:T.deserialize(this._data)).changes.map(D=>D.toString()).join(", ")}matchesResource(z){return(B.o.isUri(this.model)?this.model:this.model.uri).toString()===z.toString()}setModel(z){this.model=z}canAppend(z){return this.model===z&&this._data instanceof T}append(z,D,I,Z,P){this._data instanceof T&&this._data.append(z,D,I,Z,P)}close(){this._data instanceof T&&(this._data=this._data.serialize())}open(){this._data instanceof T||(this._data=T.deserialize(this._data))}undo(){if(B.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof T&&(this._data=this._data.serialize());const z=T.deserialize(this._data);this.model._applyUndo(z.changes,z.beforeEOL,z.beforeVersionId,z.beforeCursorState)}redo(){if(B.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof T&&(this._data=this._data.serialize());const z=T.deserialize(this._data);this.model._applyRedo(z.changes,z.afterEOL,z.afterVersionId,z.afterCursorState)}heapSize(){return this._data instanceof T&&(this._data=this._data.serialize()),this._data.byteLength+168}}function b(N){return"\n"===N.getEOL()?0:1}function L(N){return!!N&&(N instanceof S||N instanceof class{constructor(z,D){this.type=1,this.label=z,this._isOpen=!0,this._editStackElementsArr=D.slice(0),this._editStackElementsMap=new Map;for(const I of this._editStackElementsArr){const Z=F(I.resource);this._editStackElementsMap.set(Z,I)}this._delegate=null}get resources(){return this._editStackElementsArr.map(z=>z.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(z){const D=F(z);return this._editStackElementsMap.has(D)}setModel(z){const D=F(B.o.isUri(z)?z:z.uri);this._editStackElementsMap.has(D)&&this._editStackElementsMap.get(D).setModel(z)}canAppend(z){if(!this._isOpen)return!1;const D=F(z.uri);return!!this._editStackElementsMap.has(D)&&this._editStackElementsMap.get(D).canAppend(z)}append(z,D,I,Z,P){const k=F(z.uri);this._editStackElementsMap.get(k).append(z,D,I,Z,P)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const z of this._editStackElementsArr)z.undo()}redo(){for(const z of this._editStackElementsArr)z.redo()}heapSize(z){const D=F(z);return this._editStackElementsMap.has(D)?this._editStackElementsMap.get(D).heapSize():0}split(){return this._editStackElementsArr}toString(){let z=[];for(const D of this._editStackElementsArr)z.push(`${(0,O.EZ)(D.resource)}: ${D}`);return`{${z.join(", ")}}`}})}class f{constructor(z,D){this._model=z,this._undoRedoService=D}pushStackElement(){const z=this._undoRedoService.getLastElement(this._model.uri);L(z)&&z.close()}popStackElement(){const z=this._undoRedoService.getLastElement(this._model.uri);L(z)&&z.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(z){const D=this._undoRedoService.getLastElement(this._model.uri);if(L(D)&&D.canAppend(this._model))return D;const I=new S(this._model,z);return this._undoRedoService.pushElement(I),I}pushEOL(z){const D=this._getOrCreateEditStackElement(null);this._model.setEOL(z),D.append(this._model,[],b(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(z,D,I){const Z=this._getOrCreateEditStackElement(z),P=this._model.applyEdits(D,!0),k=f._computeCursorState(I,P),$=P.map((j,G)=>({index:G,textChange:j.textChange}));return $.sort((j,G)=>j.textChange.oldPosition===G.textChange.oldPosition?j.index-G.index:j.textChange.oldPosition-G.textChange.oldPosition),Z.append(this._model,$.map(j=>j.textChange),b(this._model),this._model.getAlternativeVersionId(),k),k}static _computeCursorState(z,D){try{return z?z(D):null}catch(I){return(0,g.dL)(I),null}}}},21872:(Be,Me,m)=>{m.d(Me,{W:()=>T,l:()=>F});var M=m(89822),g=m(74243),Y=m(90784),B=m(1873),i=m(50817),O=m(13151);class F extends class{constructor(){this._isDisposed=!1}dispose(){this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}{constructor(C,b){super(),this.textModel=C,this.languageConfigurationService=b}getLanguageConfiguration(C){return this.languageConfigurationService.getLanguageConfiguration(C)}_computeIndentLevel(C){return(0,i.q)(this.textModel.getLineContent(C+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(C,b,L){this.assertNotDisposed();const f=this.textModel.getLineCount();if(C<1||C>f)throw new Error("Illegal value for lineNumber");const N=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,z=Boolean(N&&N.offSide);let D=-2,I=-1,Z=-2,P=-1;const k=le=>{if(-1!==D&&(-2===D||D>le-1)){D=-1,I=-1;for(let ee=le-2;ee>=0;ee--){const X=this._computeIndentLevel(ee);if(X>=0){D=ee,I=X;break}}}if(-2===Z){Z=-1,P=-1;for(let ee=le;ee<f;ee++){const X=this._computeIndentLevel(ee);if(X>=0){Z=ee,P=X;break}}}};let $=-2,j=-1,G=-2,oe=-1;const de=le=>{if(-2===$){$=-1,j=-1;for(let ee=le-2;ee>=0;ee--){const X=this._computeIndentLevel(ee);if(X>=0){$=ee,j=X;break}}}if(-1!==G&&(-2===G||G<le-1)){G=-1,oe=-1;for(let ee=le;ee<f;ee++){const X=this._computeIndentLevel(ee);if(X>=0){G=ee,oe=X;break}}}};let fe=0,pe=!0,we=0,ge=!0,Q=0,q=0;for(let le=0;pe||ge;le++){const ee=C-le,X=C+le;le>1&&(ee<1||ee<b)&&(pe=!1),le>1&&(X>f||X>L)&&(ge=!1),le>5e4&&(pe=!1,ge=!1);let re=-1;if(pe&&ee>=1){const ve=this._computeIndentLevel(ee-1);ve>=0?(Z=ee-1,P=ve,re=Math.ceil(ve/this.textModel.getOptions().indentSize)):(k(ee),re=this._getIndentLevelForWhitespaceLine(z,I,P))}let ce=-1;if(ge&&X<=f){const ve=this._computeIndentLevel(X-1);ve>=0?($=X-1,j=ve,ce=Math.ceil(ve/this.textModel.getOptions().indentSize)):(de(X),ce=this._getIndentLevelForWhitespaceLine(z,j,oe))}if(0!==le){if(1===le){if(X<=f&&ce>=0&&q+1===ce){pe=!1,fe=X,we=X,Q=ce;continue}if(ee>=1&&re>=0&&re-1===q){ge=!1,fe=ee,we=ee,Q=re;continue}if(fe=C,we=C,Q=q,0===Q)return{startLineNumber:fe,endLineNumber:we,indent:Q}}pe&&(re>=Q?fe=ee:pe=!1),ge&&(ce>=Q?we=X:ge=!1)}else q=re}return{startLineNumber:fe,endLineNumber:we,indent:Q}}getLinesBracketGuides(C,b,L,f){var N,z,D,I,Z;const P=[],k=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new B.e(C,1,b,this.textModel.getLineMaxColumn(b)));let $;if(L&&k.length>0){const fe=C<=L.lineNumber&&L.lineNumber<=b?k.filter(pe=>B.e.strictContainsPosition(pe.range,L)):this.textModel.bracketPairs.getBracketPairsInRange(B.e.fromPositions(L));$=null===(N=(0,M.dF)(fe,pe=>pe.range.startLineNumber!==pe.range.endLineNumber))||void 0===N?void 0:N.range}const j=new M.H9(k),G=new Array,oe=new Array,de=new T;for(let fe=C;fe<=b;fe++){let pe=new Array;oe.length>0&&(pe=pe.concat(oe),oe.length=0),P.push(pe);for(const ge of j.takeWhile(Q=>Q.openingBracketRange.startLineNumber<=fe)||[]){if(ge.range.startLineNumber===ge.range.endLineNumber)continue;const Q=Math.min(this.getVisibleColumnFromPosition(ge.openingBracketRange.getStartPosition()),this.getVisibleColumnFromPosition(null!==(D=null===(z=ge.closingBracketRange)||void 0===z?void 0:z.getStartPosition())&&void 0!==D?D:ge.range.getEndPosition()),ge.minVisibleColumnIndentation+1);let q=!1;ge.closingBracketRange&&g.LC(this.textModel.getLineContent(ge.closingBracketRange.startLineNumber))<ge.closingBracketRange.startColumn-1&&(q=!0);const le=ge.openingBracketRange.getStartPosition(),ee=null!==(Z=null===(I=ge.closingBracketRange)||void 0===I?void 0:I.getStartPosition())&&void 0!==Z?Z:ge.range.getEndPosition();G[ge.nestingLevel]=void 0===ge.closingBracketRange?null:{nestingLevel:ge.nestingLevel,guideVisibleColumn:Q,start:le,visibleStartColumn:this.getVisibleColumnFromPosition(le),end:ee,visibleEndColumn:this.getVisibleColumnFromPosition(ee),bracketPair:ge,renderHorizontalEndLineAtTheBottom:q}}for(const ge of G){if(!ge)continue;const Q=$&&ge.bracketPair.range.equalsRange($),q=de.getInlineClassNameOfLevel(ge.nestingLevel)+(f.highlightActive&&Q?" "+de.activeClassName:"");(Q&&f.horizontalGuides!==O.s6.Disabled||f.includeInactive&&f.horizontalGuides===O.s6.Enabled)&&(ge.start.lineNumber===fe&&ge.guideVisibleColumn<ge.visibleStartColumn&&pe.push(new O.UO(ge.guideVisibleColumn,q,new O.vW(!1,ge.start.column))),ge.end.lineNumber===fe+1&&ge.guideVisibleColumn<ge.visibleEndColumn&&oe.push(new O.UO(ge.guideVisibleColumn,q,new O.vW(!ge.renderHorizontalEndLineAtTheBottom,ge.end.column))))}let we=Number.MAX_SAFE_INTEGER;for(let ge=G.length-1;ge>=0;ge--){const Q=G[ge];if(!Q)continue;const q=f.highlightActive&&$&&Q.bracketPair.range.equalsRange($),le=de.getInlineClassNameOfLevel(Q.nestingLevel)+(q?" "+de.activeClassName:"");(q||f.includeInactive)&&Q.renderHorizontalEndLineAtTheBottom&&Q.end.lineNumber===fe+1&&oe.push(new O.UO(Q.guideVisibleColumn,le,null)),!(Q.end.lineNumber<=fe||Q.start.lineNumber>=fe)&&(Q.guideVisibleColumn>=we&&!q||(we=Q.guideVisibleColumn,(q||f.includeInactive)&&pe.push(new O.UO(Q.guideVisibleColumn,le,null))))}pe.sort((ge,Q)=>ge.visibleColumn-Q.visibleColumn)}return P}getVisibleColumnFromPosition(C){return Y.i.visibleColumnFromColumn(this.textModel.getLineContent(C.lineNumber),C.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(C,b){this.assertNotDisposed();const L=this.textModel.getLineCount();if(C<1||C>L)throw new Error("Illegal value for startLineNumber");if(b<1||b>L)throw new Error("Illegal value for endLineNumber");const f=this.textModel.getOptions(),N=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,z=Boolean(N&&N.offSide),D=new Array(b-C+1);let I=-2,Z=-1,P=-2,k=-1;for(let $=C;$<=b;$++){const j=$-C,G=this._computeIndentLevel($-1);if(G>=0)I=$-1,Z=G,D[j]=Math.ceil(G/f.indentSize);else{if(-2===I){I=-1,Z=-1;for(let oe=$-2;oe>=0;oe--){const de=this._computeIndentLevel(oe);if(de>=0){I=oe,Z=de;break}}}if(-1!==P&&(-2===P||P<$-1)){P=-1,k=-1;for(let oe=$;oe<L;oe++){const de=this._computeIndentLevel(oe);if(de>=0){P=oe,k=de;break}}}D[j]=this._getIndentLevelForWhitespaceLine(z,Z,k)}}return D}_getIndentLevelForWhitespaceLine(C,b,L){const f=this.textModel.getOptions();return-1===b||-1===L?0:b<L?1+Math.floor(b/f.indentSize):b===L||C?Math.ceil(L/f.indentSize):1+Math.floor(L/f.indentSize)}}class T{constructor(){this.activeClassName="indent-active"}getInlineClassNameOfLevel(C){return"bracket-indent-guide lvl-"+C%30}}},69798:(Be,Me,m)=>{m.d(Me,{oQ:()=>Y,Ck:()=>B});var M=m(89822),g=m(68733);class Y{constructor(O){this.values=O,this.prefixSum=new Uint32Array(O.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(O,F){O=(0,g.A)(O);const T=this.values,S=this.prefixSum,C=F.length;return 0!==C&&(this.values=new Uint32Array(T.length+C),this.values.set(T.subarray(0,O),0),this.values.set(T.subarray(O),O+C),this.values.set(F,O),O-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=O-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(S.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(O,F){return O=(0,g.A)(O),F=(0,g.A)(F),this.values[O]!==F&&(this.values[O]=F,O-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=O-1),!0)}removeValues(O,F){O=(0,g.A)(O),F=(0,g.A)(F);const T=this.values,S=this.prefixSum;if(O>=T.length)return!1;const C=T.length-O;return F>=C&&(F=C),0!==F&&(this.values=new Uint32Array(T.length-F),this.values.set(T.subarray(0,O),0),this.values.set(T.subarray(O+F),O),this.prefixSum=new Uint32Array(this.values.length),O-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=O-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(S.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return 0===this.values.length?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(O){return O<0?0:(O=(0,g.A)(O),this._getPrefixSum(O))}_getPrefixSum(O){if(O<=this.prefixSumValidIndex[0])return this.prefixSum[O];let F=this.prefixSumValidIndex[0]+1;0===F&&(this.prefixSum[0]=this.values[0],F++),O>=this.values.length&&(O=this.values.length-1);for(let T=F;T<=O;T++)this.prefixSum[T]=this.prefixSum[T-1]+this.values[T];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],O),this.prefixSum[O]}getIndexOf(O){O=Math.floor(O),this.getTotalSum();let F=0,T=this.values.length-1,S=0,C=0,b=0;for(;F<=T;)if(S=F+(T-F)/2|0,C=this.prefixSum[S],b=C-this.values[S],O<b)T=S-1;else{if(!(O>=C))break;F=S+1}return new E(S,O-b)}}class B{constructor(O){this._values=O,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(O){return this._ensureValid(),0===O?0:this._prefixSum[O-1]}getIndexOf(O){this._ensureValid();const F=this._indexBySum[O];return new E(F,O-(F>0?this._prefixSum[F-1]:0))}removeValues(O,F){this._values.splice(O,F),this._invalidate(O)}insertValues(O,F){this._values=(0,M.Zv)(this._values,O,F),this._invalidate(O)}_invalidate(O){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,O-1)}_ensureValid(){if(!this._isValid){for(let O=this._validEndIndex+1,F=this._values.length;O<F;O++){const T=this._values[O],S=O>0?this._prefixSum[O-1]:0;this._prefixSum[O]=S+T;for(let C=0;C<T;C++)this._indexBySum[S+C]=O}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(O,F){this._values[O]!==F&&(this._values[O]=F,this._invalidate(O))}}class E{constructor(O,F){this.index=O,this.remainder=F,this._prefixSumIndexOfResultBrand=void 0,this.index=O,this.remainder=F}}},45023:(Be,Me,m)=>{m.d(Me,{HS:()=>zi,qx:()=>So,yO:()=>Io});var M=m(89822),g=m(81897),Y=m(13226),B=m(71040),E=m(40189),i=m(74243),O=m(85459),F=m(67947),T=m(1873),S=m(60745),C=m(80067);class b{constructor(h,x,W){this.range=h,this.nestingLevel=x,this.isInvalid=W}}class f extends class{constructor(h,x,W,te){this.range=h,this.openingBracketRange=x,this.closingBracketRange=W,this.nestingLevel=te}}{constructor(h,x,W,te,ae){super(h,x,W,te),this.minVisibleColumnIndentation=ae}}var N=m(91500),z=m(67875),D=m(79615),I=m(95818),Z=m(25453),P=m(21944);class k extends E.JT{constructor(h,x){if(super(),this.textModel=h,this.getLanguageConfiguration=x,this.didChangeEmitter=new B.Q5,this.denseKeyProvider=new Z.FE,this.brackets=new z.Z(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,0===h.backgroundTokenizationState){const W=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),te=new P.g(this.textModel.getValue(),W);this.initialAstWithoutTokens=(0,I.w)(te,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else 2===h.backgroundTokenizationState?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):1===h.backgroundTokenizationState&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens)}didLanguageChange(h){return this.brackets.didLanguageChange(h)}handleDidChangeBackgroundTokenizationState(){if(2===this.textModel.backgroundTokenizationState){const h=void 0===this.initialAstWithoutTokens;this.initialAstWithoutTokens=void 0,h||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:h}){const x=h.map(W=>new N.Q((0,D.Hg)(W.fromLineNumber-1,0),(0,D.Hg)(W.toLineNumber,0),(0,D.Hg)(W.toLineNumber-W.fromLineNumber+1,0)));this.astWithTokens=this.parseDocumentFromTextBuffer(x,this.astWithTokens,!1),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(h){const x=h.changes.map(W=>{const te=T.e.lift(W.range);return new N.Q((0,D.PZ)(te.getStartPosition()),(0,D.PZ)(te.getEndPosition()),(0,D.oR)(W.text))}).reverse();this.astWithTokens=this.parseDocumentFromTextBuffer(x,this.astWithTokens,!1),this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(x,this.initialAstWithoutTokens,!1))}parseDocumentFromTextBuffer(h,x,W){const ae=x,Ce=new P.xH(this.textModel,this.brackets);return(0,I.w)(Ce,h,ae,W)}getBracketsInRange(h){const x=(0,D.Hg)(h.startLineNumber-1,h.startColumn-1),W=(0,D.Hg)(h.endLineNumber-1,h.endColumn-1),te=new Array,ae=this.initialAstWithoutTokens||this.astWithTokens;return $(ae,D.xl,ae.length,x,W,te),te}getBracketPairsInRange(h,x){const W=new Array,te=(0,D.PZ)(h.getStartPosition()),ae=(0,D.PZ)(h.getEndPosition()),Ce=this.initialAstWithoutTokens||this.astWithTokens,Oe=new j(W,x,this.textModel);return G(Ce,D.xl,Ce.length,te,ae,Oe),W}}function $(R,h,x,W,te,ae,Ce=0){if(4===R.kind)for(const Oe of R.children)x=(0,D.Ii)(h,Oe.length),(0,D.By)(h,te)&&(0,D.Zq)(x,W)&&$(Oe,h,x,W,te,ae,Ce),h=x;else if(2===R.kind){if(Ce++,x=(0,D.Ii)(h,R.openingBracket.length),(0,D.By)(h,te)&&(0,D.Zq)(x,W)){const Fe=(0,D.Qw)(h,x);ae.push(new b(Fe,Ce-1,!R.closingBracket))}if(h=x,R.child){const Oe=R.child;x=(0,D.Ii)(h,Oe.length),(0,D.By)(h,te)&&(0,D.Zq)(x,W)&&$(Oe,h,x,W,te,ae,Ce),h=x}if(R.closingBracket){if(x=(0,D.Ii)(h,R.closingBracket.length),(0,D.By)(h,te)&&(0,D.Zq)(x,W)){const Fe=(0,D.Qw)(h,x);ae.push(new b(Fe,Ce-1,!1))}h=x}}else if(3===R.kind){const Oe=(0,D.Qw)(h,x);ae.push(new b(Oe,Ce-1,!0))}else if(1===R.kind){const Oe=(0,D.Qw)(h,x);ae.push(new b(Oe,Ce-1,!1))}}class j{constructor(h,x,W){this.result=h,this.includeMinIndentation=x,this.textModel=W}}function G(R,h,x,W,te,ae,Ce=0){var Oe;if(2===R.kind){const Ge=(0,D.Ii)(h,R.openingBracket.length);let Je=-1;ae.includeMinIndentation&&(Je=R.computeMinIndentation(h,ae.textModel)),ae.result.push(new f((0,D.Qw)(h,x),(0,D.Qw)(h,Ge),R.closingBracket?(0,D.Qw)((0,D.Ii)(Ge,(null===(Oe=R.child)||void 0===Oe?void 0:Oe.length)||D.xl),x):void 0,Ce,Je)),Ce++}let Fe=h;for(const Ge of R.children){const Je=Fe;Fe=(0,D.Ii)(Fe,Ge.length),(0,D.By)(Je,te)&&(0,D.By)(W,Fe)&&G(Ge,Je,Fe,W,te,ae,Ce)}}var oe=m(20595),de=m(29675);class fe extends E.JT{constructor(h,x){super(),this.textModel=h,this.languageConfigurationService=x,this.bracketPairsTree=this._register(new E.XK),this.onDidChangeEmitter=new B.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange(W=>{var te;(!W.languageId||(null===(te=this.bracketPairsTree.value)||void 0===te?void 0:te.object.didLanguageChange(W.languageId)))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}get isDocumentSupported(){return this.textModel.getValueLength()<=5e6}handleDidChangeOptions(h){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(h){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(h){var x;null===(x=this.bracketPairsTree.value)||void 0===x||x.object.handleContentChanged(h)}handleDidChangeBackgroundTokenizationState(){var h;null===(h=this.bracketPairsTree.value)||void 0===h||h.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(h){var x;null===(x=this.bracketPairsTree.value)||void 0===x||x.object.handleDidChangeTokens(h)}updateBracketPairsTree(){if(this.bracketsRequested&&this.isDocumentSupported){if(!this.bracketPairsTree.value){const h=new E.SL;this.bracketPairsTree.value=function(R,h){return{object:R,dispose:()=>null==h?void 0:h.dispose()}}(h.add(new k(this.textModel,x=>this.languageConfigurationService.getLanguageConfiguration(x))),h),h.add(this.bracketPairsTree.value.object.onDidChange(x=>this.onDidChangeEmitter.fire(x))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(h){var x;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(x=this.bracketPairsTree.value)||void 0===x?void 0:x.object.getBracketPairsInRange(h,!1))||[]}getBracketPairsInRangeWithMinIndentation(h){var x;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(x=this.bracketPairsTree.value)||void 0===x?void 0:x.object.getBracketPairsInRange(h,!0))||[]}getBracketsInRange(h){var x;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(x=this.bracketPairsTree.value)||void 0===x?void 0:x.object.getBracketsInRange(h))||[]}findMatchingBracketUp(h,x,W){const te=h.toLowerCase(),ae=this.textModel.validatePosition(x),Ce=this.textModel.getLanguageIdAtPosition(ae.lineNumber,ae.column),Oe=this.languageConfigurationService.getLanguageConfiguration(Ce).brackets;if(!Oe)return null;const Fe=Oe.textIsBracket[te];return Fe?Q(this._findMatchingBracketUp(Fe,ae,we(W))):null}matchBracket(h,x){const W=we(x);return this._matchBracket(this.textModel.validatePosition(h),W)}_establishBracketSearchOffsets(h,x,W,te){const ae=x.getCount(),Ce=x.getLanguageId(te);let Oe=Math.max(0,h.column-1-W.maxBracketLength);for(let Ge=te-1;Ge>=0;Ge--){const Je=x.getEndOffset(Ge);if(Je<=Oe)break;if((0,oe.Bu)(x.getStandardTokenType(Ge))||x.getLanguageId(Ge)!==Ce){Oe=Je;break}}let Fe=Math.min(x.getLineContent().length,h.column-1+W.maxBracketLength);for(let Ge=te+1;Ge<ae;Ge++){const Je=x.getStartOffset(Ge);if(Je>=Fe)break;if((0,oe.Bu)(x.getStandardTokenType(Ge))||x.getLanguageId(Ge)!==Ce){Fe=Je;break}}return{searchStartOffset:Oe,searchEndOffset:Fe}}_matchBracket(h,x){const W=h.lineNumber,te=this.textModel.getLineTokens(W),ae=this.textModel.getLineContent(W),Ce=te.findTokenIndexAtOffset(h.column-1);if(Ce<0)return null;const Oe=this.languageConfigurationService.getLanguageConfiguration(te.getLanguageId(Ce)).brackets;if(Oe&&!(0,oe.Bu)(te.getStandardTokenType(Ce))){let{searchStartOffset:Fe,searchEndOffset:Ge}=this._establishBracketSearchOffsets(h,te,Oe,Ce),Je=null;for(;;){const it=de.Vr.findNextBracketInRange(Oe.forwardRegex,W,ae,Fe,Ge);if(!it)break;if(it.startColumn<=h.column&&h.column<=it.endColumn){const ht=ae.substring(it.startColumn-1,it.endColumn-1).toLowerCase(),gt=this._matchFoundBracket(it,Oe.textIsBracket[ht],Oe.textIsOpenBracket[ht],x);if(gt){if(gt instanceof ge)return null;Je=gt}}Fe=it.endColumn-1}if(Je)return Je}if(Ce>0&&te.getStartOffset(Ce)===h.column-1){const Fe=Ce-1,Ge=this.languageConfigurationService.getLanguageConfiguration(te.getLanguageId(Fe)).brackets;if(Ge&&!(0,oe.Bu)(te.getStandardTokenType(Fe))){const{searchStartOffset:Je,searchEndOffset:it}=this._establishBracketSearchOffsets(h,te,Ge,Fe),ht=de.Vr.findPrevBracketInRange(Ge.reversedRegex,W,ae,Je,it);if(ht&&ht.startColumn<=h.column&&h.column<=ht.endColumn){const gt=ae.substring(ht.startColumn-1,ht.endColumn-1).toLowerCase(),Et=this._matchFoundBracket(ht,Ge.textIsBracket[gt],Ge.textIsOpenBracket[gt],x);if(Et)return Et instanceof ge?null:Et}}}return null}_matchFoundBracket(h,x,W,te){if(!x)return null;const ae=W?this._findMatchingBracketDown(x,h.getEndPosition(),te):this._findMatchingBracketUp(x,h.getStartPosition(),te);return ae?ae instanceof ge?ae:[h,ae]:null}_findMatchingBracketUp(h,x,W){const te=h.languageId,ae=h.reversedRegex;let Ce=-1,Oe=0;const Fe=(Ge,Je,it,ht)=>{for(;;){if(W&&++Oe%100==0&&!W())return ge.INSTANCE;const gt=de.Vr.findPrevBracketInRange(ae,Ge,Je,it,ht);if(!gt)break;const Et=Je.substring(gt.startColumn-1,gt.endColumn-1).toLowerCase();if(h.isOpen(Et)?Ce++:h.isClose(Et)&&Ce--,0===Ce)return gt;ht=gt.startColumn-1}return null};for(let Ge=x.lineNumber;Ge>=1;Ge--){const Je=this.textModel.getLineTokens(Ge),it=Je.getCount(),ht=this.textModel.getLineContent(Ge);let gt=it-1,Et=ht.length,Ft=ht.length;Ge===x.lineNumber&&(gt=Je.findTokenIndexAtOffset(x.column-1),Et=x.column-1,Ft=x.column-1);let Zt=!0;for(;gt>=0;gt--){const Tn=Je.getLanguageId(gt)===te&&!(0,oe.Bu)(Je.getStandardTokenType(gt));if(Tn)Zt?Et=Je.getStartOffset(gt):(Et=Je.getStartOffset(gt),Ft=Je.getEndOffset(gt));else if(Zt&&Et!==Ft){const Xn=Fe(Ge,ht,Et,Ft);if(Xn)return Xn}Zt=Tn}if(Zt&&Et!==Ft){const Tn=Fe(Ge,ht,Et,Ft);if(Tn)return Tn}}return null}_findMatchingBracketDown(h,x,W){const te=h.languageId,ae=h.forwardRegex;let Ce=1,Oe=0;const Fe=(Je,it,ht,gt)=>{for(;;){if(W&&++Oe%100==0&&!W())return ge.INSTANCE;const Et=de.Vr.findNextBracketInRange(ae,Je,it,ht,gt);if(!Et)break;const Ft=it.substring(Et.startColumn-1,Et.endColumn-1).toLowerCase();if(h.isOpen(Ft)?Ce++:h.isClose(Ft)&&Ce--,0===Ce)return Et;ht=Et.endColumn-1}return null},Ge=this.textModel.getLineCount();for(let Je=x.lineNumber;Je<=Ge;Je++){const it=this.textModel.getLineTokens(Je),ht=it.getCount(),gt=this.textModel.getLineContent(Je);let Et=0,Ft=0,Zt=0;Je===x.lineNumber&&(Et=it.findTokenIndexAtOffset(x.column-1),Ft=x.column-1,Zt=x.column-1);let Tn=!0;for(;Et<ht;Et++){const Xn=it.getLanguageId(Et)===te&&!(0,oe.Bu)(it.getStandardTokenType(Et));if(Xn)Tn||(Ft=it.getStartOffset(Et)),Zt=it.getEndOffset(Et);else if(Tn&&Ft!==Zt){const li=Fe(Je,gt,Ft,Zt);if(li)return li}Tn=Xn}if(Tn&&Ft!==Zt){const Xn=Fe(Je,gt,Ft,Zt);if(Xn)return Xn}}return null}findPrevBracket(h){const x=this.textModel.validatePosition(h);let W=null,te=null;for(let ae=x.lineNumber;ae>=1;ae--){const Ce=this.textModel.getLineTokens(ae),Oe=Ce.getCount(),Fe=this.textModel.getLineContent(ae);let Ge=Oe-1,Je=Fe.length,it=Fe.length;if(ae===x.lineNumber){Ge=Ce.findTokenIndexAtOffset(x.column-1),Je=x.column-1,it=x.column-1;const gt=Ce.getLanguageId(Ge);W!==gt&&(W=gt,te=this.languageConfigurationService.getLanguageConfiguration(W).brackets)}let ht=!0;for(;Ge>=0;Ge--){const gt=Ce.getLanguageId(Ge);if(W!==gt){if(te&&ht&&Je!==it){const Ft=de.Vr.findPrevBracketInRange(te.reversedRegex,ae,Fe,Je,it);if(Ft)return this._toFoundBracket(te,Ft);ht=!1}W=gt,te=this.languageConfigurationService.getLanguageConfiguration(W).brackets}const Et=!!te&&!(0,oe.Bu)(Ce.getStandardTokenType(Ge));if(Et)ht?Je=Ce.getStartOffset(Ge):(Je=Ce.getStartOffset(Ge),it=Ce.getEndOffset(Ge));else if(te&&ht&&Je!==it){const Ft=de.Vr.findPrevBracketInRange(te.reversedRegex,ae,Fe,Je,it);if(Ft)return this._toFoundBracket(te,Ft)}ht=Et}if(te&&ht&&Je!==it){const gt=de.Vr.findPrevBracketInRange(te.reversedRegex,ae,Fe,Je,it);if(gt)return this._toFoundBracket(te,gt)}}return null}findNextBracket(h){const x=this.textModel.validatePosition(h),W=this.textModel.getLineCount();let te=null,ae=null;for(let Ce=x.lineNumber;Ce<=W;Ce++){const Oe=this.textModel.getLineTokens(Ce),Fe=Oe.getCount(),Ge=this.textModel.getLineContent(Ce);let Je=0,it=0,ht=0;if(Ce===x.lineNumber){Je=Oe.findTokenIndexAtOffset(x.column-1),it=x.column-1,ht=x.column-1;const Et=Oe.getLanguageId(Je);te!==Et&&(te=Et,ae=this.languageConfigurationService.getLanguageConfiguration(te).brackets)}let gt=!0;for(;Je<Fe;Je++){const Et=Oe.getLanguageId(Je);if(te!==Et){if(ae&&gt&&it!==ht){const Zt=de.Vr.findNextBracketInRange(ae.forwardRegex,Ce,Ge,it,ht);if(Zt)return this._toFoundBracket(ae,Zt);gt=!1}te=Et,ae=this.languageConfigurationService.getLanguageConfiguration(te).brackets}const Ft=!!ae&&!(0,oe.Bu)(Oe.getStandardTokenType(Je));if(Ft)gt||(it=Oe.getStartOffset(Je)),ht=Oe.getEndOffset(Je);else if(ae&&gt&&it!==ht){const Zt=de.Vr.findNextBracketInRange(ae.forwardRegex,Ce,Ge,it,ht);if(Zt)return this._toFoundBracket(ae,Zt)}gt=Ft}if(ae&&gt&&it!==ht){const Et=de.Vr.findNextBracketInRange(ae.forwardRegex,Ce,Ge,it,ht);if(Et)return this._toFoundBracket(ae,Et)}}return null}findEnclosingBrackets(h,x){const W=we(x),te=this.textModel.validatePosition(h),ae=this.textModel.getLineCount(),Ce=new Map;let Oe=[];const Fe=(gt,Et)=>{if(!Ce.has(gt)){const Ft=[];for(let Zt=0,Tn=Et?Et.brackets.length:0;Zt<Tn;Zt++)Ft[Zt]=0;Ce.set(gt,Ft)}Oe=Ce.get(gt)};let Ge=0;const Je=(gt,Et,Ft,Zt,Tn)=>{for(;;){if(W&&++Ge%100==0&&!W())return ge.INSTANCE;const Xn=de.Vr.findNextBracketInRange(gt.forwardRegex,Et,Ft,Zt,Tn);if(!Xn)break;const li=Ft.substring(Xn.startColumn-1,Xn.endColumn-1).toLowerCase(),pt=gt.textIsBracket[li];if(pt&&(pt.isOpen(li)?Oe[pt.index]++:pt.isClose(li)&&Oe[pt.index]--,-1===Oe[pt.index]))return this._matchFoundBracket(Xn,pt,!1,W);Zt=Xn.endColumn-1}return null};let it=null,ht=null;for(let gt=te.lineNumber;gt<=ae;gt++){const Et=this.textModel.getLineTokens(gt),Ft=Et.getCount(),Zt=this.textModel.getLineContent(gt);let Tn=0,Xn=0,li=0;if(gt===te.lineNumber){Tn=Et.findTokenIndexAtOffset(te.column-1),Xn=te.column-1,li=te.column-1;const Pi=Et.getLanguageId(Tn);it!==Pi&&(it=Pi,ht=this.languageConfigurationService.getLanguageConfiguration(it).brackets,Fe(it,ht))}let pt=!0;for(;Tn<Ft;Tn++){const Pi=Et.getLanguageId(Tn);if(it!==Pi){if(ht&&pt&&Xn!==li){const ho=Je(ht,gt,Zt,Xn,li);if(ho)return Q(ho);pt=!1}it=Pi,ht=this.languageConfigurationService.getLanguageConfiguration(it).brackets,Fe(it,ht)}const si=!!ht&&!(0,oe.Bu)(Et.getStandardTokenType(Tn));if(si)pt||(Xn=Et.getStartOffset(Tn)),li=Et.getEndOffset(Tn);else if(ht&&pt&&Xn!==li){const ho=Je(ht,gt,Zt,Xn,li);if(ho)return Q(ho)}pt=si}if(ht&&pt&&Xn!==li){const Pi=Je(ht,gt,Zt,Xn,li);if(Pi)return Q(Pi)}}return null}_toFoundBracket(h,x){if(!x)return null;let W=this.textModel.getValueInRange(x);W=W.toLowerCase();const te=h.textIsBracket[W];return te?{range:x,open:te.open,close:te.close,isOpen:h.textIsOpenBracket[W]}:null}}function we(R){if(void 0===R)return()=>!0;{const h=Date.now();return()=>Date.now()-h<=R}}class ge{constructor(){this._searchCanceledBrand=void 0}}function Q(R){return R instanceof ge?null:R}ge.INSTANCE=new ge;var q=m(79695),le=m(53323);class ee extends E.JT{constructor(h){super(),this.textModel=h,this.colorProvider=new X,this.onDidChangeEmitter=new B.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=h.getOptions().bracketPairColorizationOptions,this._register(h.bracketPairs.onDidChange(x=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(h){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(h,x,W){if(void 0===x)return[];if(!this.colorizationOptions.enabled)return[];const te=new Array,ae=this.textModel.bracketPairs.getBracketsInRange(h);for(const Ce of ae)te.push({id:`bracket${Ce.range.toString()}-${Ce.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(Ce)},ownerId:0,range:Ce.range});return te}getAllDecorations(h,x){return void 0===h?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new T.e(1,1,this.textModel.getLineCount(),1),h,x):[]}}class X{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(h){return h.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(h.nestingLevel)}getInlineClassNameOfLevel(h){return"bracket-highlighting-"+h%30}}(0,le.Ic)((R,h)=>{const x=[q.zJ,q.Vs,q.CE,q.UP,q.r0,q.m1],W=new X;h.addRule(`.monaco-editor .${W.unexpectedClosingBracketClassName} { color: ${R.getColor(q.ts)}; }`);const te=x.map(ae=>R.getColor(ae)).filter(ae=>!!ae).filter(ae=>!ae.isTransparent());for(let ae=0;ae<30;ae++){const Ce=te[ae%te.length];h.addRule(`.monaco-editor .${W.getInlineClassNameOfLevel(ae)} { color: ${Ce}; }`)}});var re=m(40822),ce=m(21872);class ve{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function ke(R,h,x,W,te){let ae;for(te.spacesDiff=0,te.looksLikeAlignment=!1,ae=0;ae<h&&ae<W&&R.charCodeAt(ae)===x.charCodeAt(ae);ae++);let Ce=0,Oe=0;for(let ht=ae;ht<h;ht++)32===R.charCodeAt(ht)?Ce++:Oe++;let Fe=0,Ge=0;for(let ht=ae;ht<W;ht++)32===x.charCodeAt(ht)?Fe++:Ge++;if(Ce>0&&Oe>0||Fe>0&&Ge>0)return;const Je=Math.abs(Oe-Ge),it=Math.abs(Ce-Fe);if(0===Je)return te.spacesDiff=it,void(it>0&&0<=Fe-1&&Fe-1<R.length&&Fe<x.length&&32!==x.charCodeAt(Fe)&&32===R.charCodeAt(Fe-1)&&44===R.charCodeAt(R.length-1)&&(te.looksLikeAlignment=!0));it%Je!=0||(te.spacesDiff=it/Je)}function Ve(R,h,x){const W=Math.min(R.getLineCount(),1e4);let te=0,ae=0,Ce="",Oe=0;const Fe=[2,4,6,8,3,5,7],Je=[0,0,0,0,0,0,0,0,0],it=new ve;for(let Et=1;Et<=W;Et++){const Ft=R.getLineLength(Et),Zt=R.getLineContent(Et),Tn=Ft<=65536;let Xn=!1,li=0,pt=0,Pi=0;for(let ho=0,Ps=Ft;ho<Ps;ho++){const _s=Tn?Zt.charCodeAt(ho):R.getLineCharCode(Et,ho);if(9===_s)Pi++;else{if(32!==_s){Xn=!0,li=ho;break}pt++}}if(!Xn||(Pi>0?te++:pt>1&&ae++,ke(Ce,Oe,Zt,li,it),it.looksLikeAlignment&&(!x||h!==it.spacesDiff)))continue;const si=it.spacesDiff;si<=8&&Je[si]++,Ce=Zt,Oe=li}let ht=x;te!==ae&&(ht=te<ae);let gt=h;if(ht){let Et=ht?0:.1*W;Fe.forEach(Ft=>{const Zt=Je[Ft];Zt>Et&&(Et=Zt,gt=Ft)}),4===gt&&Je[4]>0&&Je[2]>0&&Je[2]>=Je[4]/2&&(gt=2)}return{insertSpaces:ht,tabSize:gt}}function Ue(R){return(1&R.metadata)>>>0}function ue(R,h){R.metadata=254&R.metadata|h<<0}function _e(R){return(2&R.metadata)>>>1==1}function Re(R,h){R.metadata=253&R.metadata|(h?1:0)<<1}function et(R){return(4&R.metadata)>>>2==1}function Ze(R,h){R.metadata=251&R.metadata|(h?1:0)<<2}function rt(R,h){R.metadata=231&R.metadata|h<<3}function nt(R,h){R.metadata=223&R.metadata|(h?1:0)<<5}class Se{constructor(h,x,W){this.metadata=0,this.parent=this,this.left=this,this.right=this,ue(this,1),this.start=x,this.end=W,this.delta=0,this.maxEnd=W,this.id=h,this.ownerId=0,this.options=null,Ze(this,!1),rt(this,1),nt(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=x,this.cachedAbsoluteEnd=W,this.range=null,Re(this,!1)}reset(h,x,W,te){this.start=x,this.end=W,this.maxEnd=W,this.cachedVersionId=h,this.cachedAbsoluteStart=x,this.cachedAbsoluteEnd=W,this.range=te}setOptions(h){this.options=h;const x=this.options.className;Ze(this,"squiggly-error"===x||"squiggly-warning"===x||"squiggly-info"===x),rt(this,this.options.stickiness),nt(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(h,x,W){this.cachedVersionId!==W&&(this.range=null),this.cachedVersionId=W,this.cachedAbsoluteStart=h,this.cachedAbsoluteEnd=x}detach(){this.parent=null,this.left=null,this.right=null}}const Ne=new Se(null,0,0);Ne.parent=Ne,Ne.left=Ne,Ne.right=Ne,ue(Ne,0);class at{constructor(){this.root=Ne,this.requestNormalizeDelta=!1}intervalSearch(h,x,W,te,ae){return this.root===Ne?[]:function(R,h,x,W,te,ae){let Ce=R.root,Oe=0,Fe=0,Ge=0,Je=0;const it=[];let ht=0;for(;Ce!==Ne;)if(_e(Ce))Re(Ce.left,!1),Re(Ce.right,!1),Ce===Ce.parent.right&&(Oe-=Ce.parent.delta),Ce=Ce.parent;else{if(!_e(Ce.left)){if(Fe=Oe+Ce.maxEnd,Fe<h){Re(Ce,!0);continue}if(Ce.left!==Ne){Ce=Ce.left;continue}}if(Ge=Oe+Ce.start,Ge>x)Re(Ce,!0);else{if(Je=Oe+Ce.end,Je>=h){Ce.setCachedOffsets(Ge,Je,ae);let gt=!0;W&&Ce.ownerId&&Ce.ownerId!==W&&(gt=!1),te&&et(Ce)&&(gt=!1),gt&&(it[ht++]=Ce)}Re(Ce,!0),Ce.right===Ne||_e(Ce.right)||(Oe+=Ce.delta,Ce=Ce.right)}}return Re(R.root,!1),it}(this,h,x,W,te,ae)}search(h,x,W){return this.root===Ne?[]:function(R,h,x,W){let te=R.root,ae=0,Ce=0,Oe=0;const Fe=[];let Ge=0;for(;te!==Ne;){if(_e(te)){Re(te.left,!1),Re(te.right,!1),te===te.parent.right&&(ae-=te.parent.delta),te=te.parent;continue}if(te.left!==Ne&&!_e(te.left)){te=te.left;continue}Ce=ae+te.start,Oe=ae+te.end,te.setCachedOffsets(Ce,Oe,W);let Je=!0;h&&te.ownerId&&te.ownerId!==h&&(Je=!1),x&&et(te)&&(Je=!1),Je&&(Fe[Ge++]=te),Re(te,!0),te.right===Ne||_e(te.right)||(ae+=te.delta,te=te.right)}return Re(R.root,!1),Fe}(this,h,x,W)}collectNodesFromOwner(h){return function(R,h){let x=R.root;const W=[];let te=0;for(;x!==Ne;)_e(x)?(Re(x.left,!1),Re(x.right,!1),x=x.parent):x.left===Ne||_e(x.left)?(x.ownerId===h&&(W[te++]=x),Re(x,!0),x.right===Ne||_e(x.right)||(x=x.right)):x=x.left;return Re(R.root,!1),W}(this,h)}collectNodesPostOrder(){return function(R){let h=R.root;const x=[];let W=0;for(;h!==Ne;)_e(h)?(Re(h.left,!1),Re(h.right,!1),h=h.parent):h.left===Ne||_e(h.left)?h.right===Ne||_e(h.right)?(x[W++]=h,Re(h,!0)):h=h.right:h=h.left;return Re(R.root,!1),x}(this)}insert(h){Dt(this,h),this._normalizeDeltaIfNecessary()}delete(h){un(this,h),this._normalizeDeltaIfNecessary()}resolveNode(h,x){const W=h;let te=0;for(;h!==this.root;)h===h.parent.right&&(te+=h.parent.delta),h=h.parent;W.setCachedOffsets(W.start+te,W.end+te,x)}acceptReplace(h,x,W,te){const ae=function(R,h,x){let W=R.root,te=0,ae=0,Ce=0,Oe=0;const Fe=[];let Ge=0;for(;W!==Ne;)if(_e(W))Re(W.left,!1),Re(W.right,!1),W===W.parent.right&&(te-=W.parent.delta),W=W.parent;else{if(!_e(W.left)){if(ae=te+W.maxEnd,ae<h){Re(W,!0);continue}if(W.left!==Ne){W=W.left;continue}}Ce=te+W.start,Ce>x?Re(W,!0):(Oe=te+W.end,Oe>=h&&(W.setCachedOffsets(Ce,Oe,0),Fe[Ge++]=W),Re(W,!0),W.right===Ne||_e(W.right)||(te+=W.delta,W=W.right))}return Re(R.root,!1),Fe}(this,h,h+x);for(let Ce=0,Oe=ae.length;Ce<Oe;Ce++)un(this,ae[Ce]);this._normalizeDeltaIfNecessary(),function(R,h,x,W){let te=R.root,ae=0,Ce=0,Oe=0;const Fe=W-(x-h);for(;te!==Ne;)if(_e(te))Re(te.left,!1),Re(te.right,!1),te===te.parent.right&&(ae-=te.parent.delta),At(te),te=te.parent;else{if(!_e(te.left)){if(Ce=ae+te.maxEnd,Ce<h){Re(te,!0);continue}if(te.left!==Ne){te=te.left;continue}}Oe=ae+te.start,Oe>x?(te.start+=Fe,te.end+=Fe,te.delta+=Fe,(te.delta<-1073741824||te.delta>1073741824)&&(R.requestNormalizeDelta=!0),Re(te,!0)):(Re(te,!0),te.right===Ne||_e(te.right)||(ae+=te.delta,te=te.right))}Re(R.root,!1)}(this,h,h+x,W),this._normalizeDeltaIfNecessary();for(let Ce=0,Oe=ae.length;Ce<Oe;Ce++){const Fe=ae[Ce];Fe.start=Fe.cachedAbsoluteStart,Fe.end=Fe.cachedAbsoluteEnd,pn(Fe,h,h+x,W,te),Fe.maxEnd=Fe.end,Dt(this,Fe)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){!this.requestNormalizeDelta||(this.requestNormalizeDelta=!1,function(R){let h=R.root,x=0;for(;h!==Ne;)h.left===Ne||_e(h.left)?h.right===Ne||_e(h.right)?(h.start=x+h.start,h.end=x+h.end,h.delta=0,At(h),Re(h,!0),Re(h.left,!1),Re(h.right,!1),h===h.parent.right&&(x-=h.parent.delta),h=h.parent):(x+=h.delta,h=h.right):h=h.left;Re(R.root,!1)}(this))}}function zt(R,h,x,W){return R<x||!(R>x||1===W)&&(2===W||h)}function pn(R,h,x,W,te){const ae=function(R){return(24&R.metadata)>>>3}(R),Ce=0===ae||2===ae,Oe=1===ae||2===ae,Fe=x-h,Ge=W,Je=Math.min(Fe,Ge),it=R.start;let ht=!1;const gt=R.end;let Et=!1;h<=it&&gt<=x&&function(R){return(32&R.metadata)>>>5==1}(R)&&(R.start=h,ht=!0,R.end=h,Et=!0);{const Zt=te?1:Fe>0?2:0;!ht&&zt(it,Ce,h,Zt)&&(ht=!0),!Et&&zt(gt,Oe,h,Zt)&&(Et=!0)}if(Je>0&&!te){const Zt=Fe>Ge?2:0;!ht&&zt(it,Ce,h+Je,Zt)&&(ht=!0),!Et&&zt(gt,Oe,h+Je,Zt)&&(Et=!0)}{const Zt=te?1:0;!ht&&zt(it,Ce,x,Zt)&&(R.start=h+Ge,ht=!0),!Et&&zt(gt,Oe,x,Zt)&&(R.end=h+Ge,Et=!0)}const Ft=Ge-Fe;ht||(R.start=Math.max(0,it+Ft)),Et||(R.end=Math.max(0,gt+Ft)),R.start>R.end&&(R.end=R.start)}function Dt(R,h){if(R.root===Ne)return h.parent=Ne,h.left=Ne,h.right=Ne,ue(h,0),R.root=h,R.root;(function(R,h){let x=0,W=R.root;const te=h.start,ae=h.end;for(;;)if(Yt(te,ae,W.start+x,W.end+x)<0){if(W.left===Ne){h.start-=x,h.end-=x,h.maxEnd-=x,W.left=h;break}W=W.left}else{if(W.right===Ne){h.start-=x+W.delta,h.end-=x+W.delta,h.maxEnd-=x+W.delta,W.right=h;break}x+=W.delta,W=W.right}h.parent=W,h.left=Ne,h.right=Ne,ue(h,1)})(R,h),Ei(h.parent);let x=h;for(;x!==R.root&&1===Ue(x.parent);)if(x.parent===x.parent.parent.left){const W=x.parent.parent.right;1===Ue(W)?(ue(x.parent,0),ue(W,0),ue(x.parent.parent,1),x=x.parent.parent):(x===x.parent.right&&(x=x.parent,hn(R,x)),ue(x.parent,0),ue(x.parent.parent,1),_n(R,x.parent.parent))}else{const W=x.parent.parent.left;1===Ue(W)?(ue(x.parent,0),ue(W,0),ue(x.parent.parent,1),x=x.parent.parent):(x===x.parent.left&&(x=x.parent,_n(R,x)),ue(x.parent,0),ue(x.parent.parent,1),hn(R,x.parent.parent))}return ue(R.root,0),h}function un(R,h){let x,W;if(h.left===Ne?(x=h.right,W=h,x.delta+=h.delta,(x.delta<-1073741824||x.delta>1073741824)&&(R.requestNormalizeDelta=!0),x.start+=h.delta,x.end+=h.delta):h.right===Ne?(x=h.left,W=h):(W=function(R){for(;R.left!==Ne;)R=R.left;return R}(h.right),x=W.right,x.start+=W.delta,x.end+=W.delta,x.delta+=W.delta,(x.delta<-1073741824||x.delta>1073741824)&&(R.requestNormalizeDelta=!0),W.start+=h.delta,W.end+=h.delta,W.delta=h.delta,(W.delta<-1073741824||W.delta>1073741824)&&(R.requestNormalizeDelta=!0)),W===R.root)return R.root=x,ue(x,0),h.detach(),sn(),At(x),void(R.root.parent=Ne);const te=1===Ue(W);if(W===W.parent.left?W.parent.left=x:W.parent.right=x,W===h?x.parent=W.parent:(x.parent=W.parent===h?W:W.parent,W.left=h.left,W.right=h.right,W.parent=h.parent,ue(W,Ue(h)),h===R.root?R.root=W:h===h.parent.left?h.parent.left=W:h.parent.right=W,W.left!==Ne&&(W.left.parent=W),W.right!==Ne&&(W.right.parent=W)),h.detach(),te)return Ei(x.parent),W!==h&&(Ei(W),Ei(W.parent)),void sn();let ae;for(Ei(x),Ei(x.parent),W!==h&&(Ei(W),Ei(W.parent));x!==R.root&&0===Ue(x);)x===x.parent.left?(ae=x.parent.right,1===Ue(ae)&&(ue(ae,0),ue(x.parent,1),hn(R,x.parent),ae=x.parent.right),0===Ue(ae.left)&&0===Ue(ae.right)?(ue(ae,1),x=x.parent):(0===Ue(ae.right)&&(ue(ae.left,0),ue(ae,1),_n(R,ae),ae=x.parent.right),ue(ae,Ue(x.parent)),ue(x.parent,0),ue(ae.right,0),hn(R,x.parent),x=R.root)):(ae=x.parent.left,1===Ue(ae)&&(ue(ae,0),ue(x.parent,1),_n(R,x.parent),ae=x.parent.left),0===Ue(ae.left)&&0===Ue(ae.right)?(ue(ae,1),x=x.parent):(0===Ue(ae.left)&&(ue(ae.right,0),ue(ae,1),hn(R,ae),ae=x.parent.left),ue(ae,Ue(x.parent)),ue(x.parent,0),ue(ae.left,0),_n(R,x.parent),x=R.root));ue(x,0),sn()}function sn(){Ne.parent=Ne,Ne.delta=0,Ne.start=0,Ne.end=0}function hn(R,h){const x=h.right;x.delta+=h.delta,(x.delta<-1073741824||x.delta>1073741824)&&(R.requestNormalizeDelta=!0),x.start+=h.delta,x.end+=h.delta,h.right=x.left,x.left!==Ne&&(x.left.parent=h),x.parent=h.parent,h.parent===Ne?R.root=x:h===h.parent.left?h.parent.left=x:h.parent.right=x,x.left=h,h.parent=x,At(h),At(x)}function _n(R,h){const x=h.left;h.delta-=x.delta,(h.delta<-1073741824||h.delta>1073741824)&&(R.requestNormalizeDelta=!0),h.start-=x.delta,h.end-=x.delta,h.left=x.right,x.right!==Ne&&(x.right.parent=h),x.parent=h.parent,h.parent===Ne?R.root=x:h===h.parent.right?h.parent.right=x:h.parent.left=x,x.right=h,h.parent=x,At(h),At(x)}function cn(R){let h=R.end;if(R.left!==Ne){const x=R.left.maxEnd;x>h&&(h=x)}if(R.right!==Ne){const x=R.right.maxEnd+R.delta;x>h&&(h=x)}return h}function At(R){R.maxEnd=cn(R)}function Ei(R){for(;R!==Ne;){const h=cn(R);if(R.maxEnd===h)return;R.maxEnd=h,R=R.parent}}function Yt(R,h,x,W){return R===x?h-W:R-x}class He{constructor(h,x){this.piece=h,this.color=x,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==$e)return qt(this.right);let h=this;for(;h.parent!==$e&&h.parent.left!==h;)h=h.parent;return h.parent===$e?$e:h.parent}prev(){if(this.left!==$e)return mn(this.left);let h=this;for(;h.parent!==$e&&h.parent.right!==h;)h=h.parent;return h.parent===$e?$e:h.parent}detach(){this.parent=null,this.left=null,this.right=null}}const $e=new He(null,0);function qt(R){for(;R.left!==$e;)R=R.left;return R}function mn(R){for(;R.right!==$e;)R=R.right;return R}function ni(R){return R===$e?0:R.size_left+R.piece.length+ni(R.right)}function fi(R){return R===$e?0:R.lf_left+R.piece.lineFeedCnt+fi(R.right)}function wi(){$e.parent=$e}function Bi(R,h){const x=h.right;x.size_left+=h.size_left+(h.piece?h.piece.length:0),x.lf_left+=h.lf_left+(h.piece?h.piece.lineFeedCnt:0),h.right=x.left,x.left!==$e&&(x.left.parent=h),x.parent=h.parent,h.parent===$e?R.root=x:h.parent.left===h?h.parent.left=x:h.parent.right=x,x.left=h,h.parent=x}function yi(R,h){const x=h.left;h.left=x.right,x.right!==$e&&(x.right.parent=h),x.parent=h.parent,h.size_left-=x.size_left+(x.piece?x.piece.length:0),h.lf_left-=x.lf_left+(x.piece?x.piece.lineFeedCnt:0),h.parent===$e?R.root=x:h===h.parent.right?h.parent.right=x:h.parent.left=x,x.right=h,h.parent=x}function yt(R,h){let x,W;if(h.left===$e?(W=h,x=W.right):h.right===$e?(W=h,x=W.left):(W=qt(h.right),x=W.right),W===R.root)return R.root=x,x.color=0,h.detach(),wi(),void(R.root.parent=$e);const te=1===W.color;if(W===W.parent.left?W.parent.left=x:W.parent.right=x,W===h?(x.parent=W.parent,Vn(R,x)):(x.parent=W.parent===h?W:W.parent,Vn(R,x),W.left=h.left,W.right=h.right,W.parent=h.parent,W.color=h.color,h===R.root?R.root=W:h===h.parent.left?h.parent.left=W:h.parent.right=W,W.left!==$e&&(W.left.parent=W),W.right!==$e&&(W.right.parent=W),W.size_left=h.size_left,W.lf_left=h.lf_left,Vn(R,W)),h.detach(),x.parent.left===x){const Ce=ni(x),Oe=fi(x);if(Ce!==x.parent.size_left||Oe!==x.parent.lf_left){const Fe=Ce-x.parent.size_left,Ge=Oe-x.parent.lf_left;x.parent.size_left=Ce,x.parent.lf_left=Oe,en(R,x.parent,Fe,Ge)}}if(Vn(R,x.parent),te)return void wi();let ae;for(;x!==R.root&&0===x.color;)x===x.parent.left?(ae=x.parent.right,1===ae.color&&(ae.color=0,x.parent.color=1,Bi(R,x.parent),ae=x.parent.right),0===ae.left.color&&0===ae.right.color?(ae.color=1,x=x.parent):(0===ae.right.color&&(ae.left.color=0,ae.color=1,yi(R,ae),ae=x.parent.right),ae.color=x.parent.color,x.parent.color=0,ae.right.color=0,Bi(R,x.parent),x=R.root)):(ae=x.parent.left,1===ae.color&&(ae.color=0,x.parent.color=1,yi(R,x.parent),ae=x.parent.left),0===ae.left.color&&0===ae.right.color?(ae.color=1,x=x.parent):(0===ae.left.color&&(ae.right.color=0,ae.color=1,Bi(R,ae),ae=x.parent.left),ae.color=x.parent.color,x.parent.color=0,ae.left.color=0,yi(R,x.parent),x=R.root));x.color=0,wi()}function Lt(R,h){for(Vn(R,h);h!==R.root&&1===h.parent.color;)if(h.parent===h.parent.parent.left){const x=h.parent.parent.right;1===x.color?(h.parent.color=0,x.color=0,h.parent.parent.color=1,h=h.parent.parent):(h===h.parent.right&&Bi(R,h=h.parent),h.parent.color=0,h.parent.parent.color=1,yi(R,h.parent.parent))}else{const x=h.parent.parent.left;1===x.color?(h.parent.color=0,x.color=0,h.parent.parent.color=1,h=h.parent.parent):(h===h.parent.left&&yi(R,h=h.parent),h.parent.color=0,h.parent.parent.color=1,Bi(R,h.parent.parent))}R.root.color=0}function en(R,h,x,W){for(;h!==R.root&&h!==$e;)h.parent.left===h&&(h.parent.size_left+=x,h.parent.lf_left+=W),h=h.parent}function Vn(R,h){let x=0,W=0;if(h!==R.root){for(;h!==R.root&&h===h.parent.right;)h=h.parent;if(h!==R.root)for(x=ni((h=h.parent).left)-h.size_left,W=fi(h.left)-h.lf_left,h.size_left+=x,h.lf_left+=W;h!==R.root&&(0!==x||0!==W);)h.parent.left===h&&(h.parent.size_left+=x,h.parent.lf_left+=W),h=h.parent}}$e.parent=$e,$e.left=$e,$e.right=$e,$e.color=0;var Ht=m(82711);const Ae=65535;function Xe(R){let h;return h=R[R.length-1]<65536?new Uint16Array(R.length):new Uint32Array(R.length),h.set(R,0),h}class dt{constructor(h,x,W,te,ae){this.lineStarts=h,this.cr=x,this.lf=W,this.crlf=te,this.isBasicASCII=ae}}function Mt(R,h=!0){const x=[0];let W=1;for(let te=0,ae=R.length;te<ae;te++){const Ce=R.charCodeAt(te);13===Ce?te+1<ae&&10===R.charCodeAt(te+1)?(x[W++]=te+2,te++):x[W++]=te+1:10===Ce&&(x[W++]=te+1)}return h?Xe(x):x}class jt{constructor(h,x,W,te,ae){this.bufferIndex=h,this.start=x,this.end=W,this.lineFeedCnt=te,this.length=ae}}class rn{constructor(h,x){this.buffer=h,this.lineStarts=x}}class wn{constructor(h,x){this._pieces=[],this._tree=h,this._BOM=x,this._index=0,h.root!==$e&&h.iterate(h.root,W=>(W!==$e&&this._pieces.push(W.piece),!0))}read(){return 0===this._pieces.length?0===this._index?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:0===this._index?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class vn{constructor(h){this._limit=h,this._cache=[]}get(h){for(let x=this._cache.length-1;x>=0;x--){const W=this._cache[x];if(W.nodeStartOffset<=h&&W.nodeStartOffset+W.node.piece.length>=h)return W}return null}get2(h){for(let x=this._cache.length-1;x>=0;x--){const W=this._cache[x];if(W.nodeStartLineNumber&&W.nodeStartLineNumber<h&&W.nodeStartLineNumber+W.node.piece.lineFeedCnt>=h)return W}return null}set(h){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(h)}validate(h){let x=!1;const W=this._cache;for(let te=0;te<W.length;te++){const ae=W[te];(null===ae.node.parent||ae.nodeStartOffset>=h)&&(W[te]=null,x=!0)}if(x){const te=[];for(const ae of W)null!==ae&&te.push(ae);this._cache=te}}}class yn{constructor(h,x,W){this.create(h,x,W)}create(h,x,W){this._buffers=[new rn("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=$e,this._lineCnt=1,this._length=0,this._EOL=x,this._EOLLength=x.length,this._EOLNormalized=W;let te=null;for(let ae=0,Ce=h.length;ae<Ce;ae++)if(h[ae].buffer.length>0){h[ae].lineStarts||(h[ae].lineStarts=Mt(h[ae].buffer));const Oe=new jt(ae+1,{line:0,column:0},{line:h[ae].lineStarts.length-1,column:h[ae].buffer.length-h[ae].lineStarts[h[ae].lineStarts.length-1]},h[ae].lineStarts.length-1,h[ae].buffer.length);this._buffers.push(h[ae]),te=this.rbInsertRight(te,Oe)}this._searchCache=new vn(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(h){const W=65535-Math.floor(21845),te=2*W;let ae="",Ce=0;const Oe=[];if(this.iterate(this.root,Fe=>{const Ge=this.getNodeContent(Fe),Je=Ge.length;if(Ce<=W||Ce+Je<te)return ae+=Ge,Ce+=Je,!0;const it=ae.replace(/\r\n|\r|\n/g,h);return Oe.push(new rn(it,Mt(it))),ae=Ge,Ce=Je,!0}),Ce>0){const Fe=ae.replace(/\r\n|\r|\n/g,h);Oe.push(new rn(Fe,Mt(Fe)))}this.create(Oe,h,!0)}getEOL(){return this._EOL}setEOL(h){this._EOL=h,this._EOLLength=this._EOL.length,this.normalizeEOL(h)}createSnapshot(h){return new wn(this,h)}getOffsetAt(h,x){let W=0,te=this.root;for(;te!==$e;)if(te.left!==$e&&te.lf_left+1>=h)te=te.left;else{if(te.lf_left+te.piece.lineFeedCnt+1>=h)return W+=te.size_left,W+(this.getAccumulatedValue(te,h-te.lf_left-2)+x-1);h-=te.lf_left+te.piece.lineFeedCnt,W+=te.size_left+te.piece.length,te=te.right}return W}getPositionAt(h){h=Math.floor(h),h=Math.max(0,h);let x=this.root,W=0;const te=h;for(;x!==$e;)if(0!==x.size_left&&x.size_left>=h)x=x.left;else{if(x.size_left+x.piece.length>=h){const ae=this.getIndexOf(x,h-x.size_left);if(W+=x.lf_left+ae.index,0===ae.index){const Ce=this.getOffsetAt(W+1,1);return new F.L(W+1,te-Ce+1)}return new F.L(W+1,ae.remainder+1)}if(h-=x.size_left+x.piece.length,W+=x.lf_left+x.piece.lineFeedCnt,x.right===$e){const ae=this.getOffsetAt(W+1,1);return new F.L(W+1,te-h-ae+1)}x=x.right}return new F.L(1,1)}getValueInRange(h,x){if(h.startLineNumber===h.endLineNumber&&h.startColumn===h.endColumn)return"";const W=this.nodeAt2(h.startLineNumber,h.startColumn),te=this.nodeAt2(h.endLineNumber,h.endColumn),ae=this.getValueInRange2(W,te);return x?x===this._EOL&&this._EOLNormalized&&x===this.getEOL()&&this._EOLNormalized?ae:ae.replace(/\r\n|\r|\n/g,x):ae}getValueInRange2(h,x){if(h.node===x.node){const Oe=h.node,Fe=this._buffers[Oe.piece.bufferIndex].buffer,Ge=this.offsetInBuffer(Oe.piece.bufferIndex,Oe.piece.start);return Fe.substring(Ge+h.remainder,Ge+x.remainder)}let W=h.node;const te=this._buffers[W.piece.bufferIndex].buffer,ae=this.offsetInBuffer(W.piece.bufferIndex,W.piece.start);let Ce=te.substring(ae+h.remainder,ae+W.piece.length);for(W=W.next();W!==$e;){const Oe=this._buffers[W.piece.bufferIndex].buffer,Fe=this.offsetInBuffer(W.piece.bufferIndex,W.piece.start);if(W===x.node){Ce+=Oe.substring(Fe,Fe+x.remainder);break}Ce+=Oe.substr(Fe,W.piece.length),W=W.next()}return Ce}getLinesContent(){const h=[];let x=0,W="",te=!1;return this.iterate(this.root,ae=>{if(ae===$e)return!0;const Ce=ae.piece;let Oe=Ce.length;if(0===Oe)return!0;const Fe=this._buffers[Ce.bufferIndex].buffer,Ge=this._buffers[Ce.bufferIndex].lineStarts,Je=Ce.start.line,it=Ce.end.line;let ht=Ge[Je]+Ce.start.column;if(te&&(10===Fe.charCodeAt(ht)&&(ht++,Oe--),h[x++]=W,W="",te=!1,0===Oe))return!0;if(Je===it)return this._EOLNormalized||13!==Fe.charCodeAt(ht+Oe-1)?W+=Fe.substr(ht,Oe):(te=!0,W+=Fe.substr(ht,Oe-1)),!0;W+=this._EOLNormalized?Fe.substring(ht,Math.max(ht,Ge[Je+1]-this._EOLLength)):Fe.substring(ht,Ge[Je+1]).replace(/(\r\n|\r|\n)$/,""),h[x++]=W;for(let gt=Je+1;gt<it;gt++)W=this._EOLNormalized?Fe.substring(Ge[gt],Ge[gt+1]-this._EOLLength):Fe.substring(Ge[gt],Ge[gt+1]).replace(/(\r\n|\r|\n)$/,""),h[x++]=W;return this._EOLNormalized||13!==Fe.charCodeAt(Ge[it]+Ce.end.column-1)?W=Fe.substr(Ge[it],Ce.end.column):(te=!0,0===Ce.end.column?x--:W=Fe.substr(Ge[it],Ce.end.column-1)),!0}),te&&(h[x++]=W,W=""),h[x++]=W,h}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(h){return this._lastVisitedLine.lineNumber===h||(this._lastVisitedLine.lineNumber=h,this._lastVisitedLine.value=h===this._lineCnt?this.getLineRawContent(h):this._EOLNormalized?this.getLineRawContent(h,this._EOLLength):this.getLineRawContent(h).replace(/(\r\n|\r|\n)$/,"")),this._lastVisitedLine.value}_getCharCode(h){if(h.remainder===h.node.piece.length){const x=h.node.next();if(!x)return 0;const W=this._buffers[x.piece.bufferIndex],te=this.offsetInBuffer(x.piece.bufferIndex,x.piece.start);return W.buffer.charCodeAt(te)}{const x=this._buffers[h.node.piece.bufferIndex],te=this.offsetInBuffer(h.node.piece.bufferIndex,h.node.piece.start)+h.remainder;return x.buffer.charCodeAt(te)}}getLineCharCode(h,x){const W=this.nodeAt2(h,x+1);return this._getCharCode(W)}getLineLength(h){if(h===this.getLineCount()){const x=this.getOffsetAt(h,1);return this.getLength()-x}return this.getOffsetAt(h+1,1)-this.getOffsetAt(h,1)-this._EOLLength}findMatchesInNode(h,x,W,te,ae,Ce,Oe,Fe,Ge,Je,it){const ht=this._buffers[h.piece.bufferIndex],gt=this.offsetInBuffer(h.piece.bufferIndex,h.piece.start),Et=this.offsetInBuffer(h.piece.bufferIndex,ae),Ft=this.offsetInBuffer(h.piece.bufferIndex,Ce);let Zt;const Tn={line:0,column:0};let Xn,li;x._wordSeparators?(Xn=ht.buffer.substring(Et,Ft),li=pt=>pt+Et,x.reset(0)):(Xn=ht.buffer,li=pt=>pt,x.reset(Et));do{if(Zt=x.next(Xn),Zt){if(li(Zt.index)>=Ft)return Je;this.positionInBuffer(h,li(Zt.index)-gt,Tn);const pt=this.getLineFeedCnt(h.piece.bufferIndex,ae,Tn),Pi=Tn.line===ae.line?Tn.column-ae.column+te:Tn.column+1;if(it[Je++]=(0,Ht.iE)(new T.e(W+pt,Pi,W+pt,Pi+Zt[0].length),Zt,Fe),li(Zt.index)+Zt[0].length>=Ft||Je>=Ge)return Je}}while(Zt);return Je}findMatchesLineByLine(h,x,W,te){const ae=[];let Ce=0;const Oe=new Ht.sz(x.wordSeparators,x.regex);let Fe=this.nodeAt2(h.startLineNumber,h.startColumn);if(null===Fe)return[];const Ge=this.nodeAt2(h.endLineNumber,h.endColumn);if(null===Ge)return[];let Je=this.positionInBuffer(Fe.node,Fe.remainder);const it=this.positionInBuffer(Ge.node,Ge.remainder);if(Fe.node===Ge.node)return this.findMatchesInNode(Fe.node,Oe,h.startLineNumber,h.startColumn,Je,it,x,W,te,Ce,ae),ae;let ht=h.startLineNumber,gt=Fe.node;for(;gt!==Ge.node;){const Ft=this.getLineFeedCnt(gt.piece.bufferIndex,Je,gt.piece.end);if(Ft>=1){const Tn=this._buffers[gt.piece.bufferIndex].lineStarts,Xn=this.offsetInBuffer(gt.piece.bufferIndex,gt.piece.start);if(Ce=this.findMatchesInNode(gt,Oe,ht,ht===h.startLineNumber?h.startColumn:1,Je,this.positionInBuffer(gt,Tn[Je.line+Ft]-Xn),x,W,te,Ce,ae),Ce>=te)return ae;ht+=Ft}const Zt=ht===h.startLineNumber?h.startColumn-1:0;if(ht===h.endLineNumber){const Tn=this.getLineContent(ht).substring(Zt,h.endColumn-1);return Ce=this._findMatchesInLine(x,Oe,Tn,h.endLineNumber,Zt,Ce,ae,W,te),ae}if(Ce=this._findMatchesInLine(x,Oe,this.getLineContent(ht).substr(Zt),ht,Zt,Ce,ae,W,te),Ce>=te)return ae;ht++,Fe=this.nodeAt2(ht,1),gt=Fe.node,Je=this.positionInBuffer(Fe.node,Fe.remainder)}if(ht===h.endLineNumber){const Ft=ht===h.startLineNumber?h.startColumn-1:0,Zt=this.getLineContent(ht).substring(Ft,h.endColumn-1);return Ce=this._findMatchesInLine(x,Oe,Zt,h.endLineNumber,Ft,Ce,ae,W,te),ae}return Ce=this.findMatchesInNode(Ge.node,Oe,ht,ht===h.startLineNumber?h.startColumn:1,Je,it,x,W,te,Ce,ae),ae}_findMatchesInLine(h,x,W,te,ae,Ce,Oe,Fe,Ge){const Je=h.wordSeparators;if(!Fe&&h.simpleSearch){const ht=h.simpleSearch,gt=ht.length,Et=W.length;let Ft=-gt;for(;-1!==(Ft=W.indexOf(ht,Ft+gt));)if((!Je||(0,Ht.cM)(Je,W,Et,Ft,gt))&&(Oe[Ce++]=new C.tk(new T.e(te,Ft+1+ae,te,Ft+1+gt+ae),null),Ce>=Ge))return Ce;return Ce}let it;x.reset(0);do{if(it=x.next(W),it&&(Oe[Ce++]=(0,Ht.iE)(new T.e(te,it.index+1+ae,te,it.index+1+it[0].length+ae),it,Fe),Ce>=Ge))return Ce}while(it);return Ce}insert(h,x,W=!1){if(this._EOLNormalized=this._EOLNormalized&&W,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==$e){const{node:te,remainder:ae,nodeStartOffset:Ce}=this.nodeAt(h),Oe=te.piece,Fe=Oe.bufferIndex,Ge=this.positionInBuffer(te,ae);if(0===te.piece.bufferIndex&&Oe.end.line===this._lastChangeBufferPos.line&&Oe.end.column===this._lastChangeBufferPos.column&&Ce+Oe.length===h&&x.length<Ae)return this.appendToNode(te,x),void this.computeBufferMetadata();if(Ce===h)this.insertContentToNodeLeft(x,te),this._searchCache.validate(h);else if(Ce+te.piece.length>h){const Je=[];let it=new jt(Oe.bufferIndex,Ge,Oe.end,this.getLineFeedCnt(Oe.bufferIndex,Ge,Oe.end),this.offsetInBuffer(Fe,Oe.end)-this.offsetInBuffer(Fe,Ge));if(this.shouldCheckCRLF()&&this.endWithCR(x)&&10===this.nodeCharCodeAt(te,ae)){const Ft={line:it.start.line+1,column:0};it=new jt(it.bufferIndex,Ft,it.end,this.getLineFeedCnt(it.bufferIndex,Ft,it.end),it.length-1),x+="\n"}if(this.shouldCheckCRLF()&&this.startWithLF(x))if(13===this.nodeCharCodeAt(te,ae-1)){const Ft=this.positionInBuffer(te,ae-1);this.deleteNodeTail(te,Ft),x="\r"+x,0===te.piece.length&&Je.push(te)}else this.deleteNodeTail(te,Ge);else this.deleteNodeTail(te,Ge);const ht=this.createNewPieces(x);it.length>0&&this.rbInsertRight(te,it);let gt=te;for(let Et=0;Et<ht.length;Et++)gt=this.rbInsertRight(gt,ht[Et]);this.deleteNodes(Je)}else this.insertContentToNodeRight(x,te)}else{const te=this.createNewPieces(x);let ae=this.rbInsertLeft(null,te[0]);for(let Ce=1;Ce<te.length;Ce++)ae=this.rbInsertRight(ae,te[Ce])}this.computeBufferMetadata()}delete(h,x){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",x<=0||this.root===$e)return;const W=this.nodeAt(h),te=this.nodeAt(h+x),ae=W.node,Ce=te.node;if(ae===Ce){const ht=this.positionInBuffer(ae,W.remainder),gt=this.positionInBuffer(ae,te.remainder);if(W.nodeStartOffset===h){if(x===ae.piece.length){const Et=ae.next();return yt(this,ae),this.validateCRLFWithPrevNode(Et),void this.computeBufferMetadata()}return this.deleteNodeHead(ae,gt),this._searchCache.validate(h),this.validateCRLFWithPrevNode(ae),void this.computeBufferMetadata()}return W.nodeStartOffset+ae.piece.length===h+x?(this.deleteNodeTail(ae,ht),this.validateCRLFWithNextNode(ae),void this.computeBufferMetadata()):(this.shrinkNode(ae,ht,gt),void this.computeBufferMetadata())}const Oe=[],Fe=this.positionInBuffer(ae,W.remainder);this.deleteNodeTail(ae,Fe),this._searchCache.validate(h),0===ae.piece.length&&Oe.push(ae);const Ge=this.positionInBuffer(Ce,te.remainder);this.deleteNodeHead(Ce,Ge),0===Ce.piece.length&&Oe.push(Ce);for(let ht=ae.next();ht!==$e&&ht!==Ce;ht=ht.next())Oe.push(ht);const it=0===ae.piece.length?ae.prev():ae;this.deleteNodes(Oe),this.validateCRLFWithNextNode(it),this.computeBufferMetadata()}insertContentToNodeLeft(h,x){const W=[];if(this.shouldCheckCRLF()&&this.endWithCR(h)&&this.startWithLF(x)){const Ce=x.piece,Oe={line:Ce.start.line+1,column:0},Fe=new jt(Ce.bufferIndex,Oe,Ce.end,this.getLineFeedCnt(Ce.bufferIndex,Oe,Ce.end),Ce.length-1);x.piece=Fe,h+="\n",en(this,x,-1,-1),0===x.piece.length&&W.push(x)}const te=this.createNewPieces(h);let ae=this.rbInsertLeft(x,te[te.length-1]);for(let Ce=te.length-2;Ce>=0;Ce--)ae=this.rbInsertLeft(ae,te[Ce]);this.validateCRLFWithPrevNode(ae),this.deleteNodes(W)}insertContentToNodeRight(h,x){this.adjustCarriageReturnFromNext(h,x)&&(h+="\n");const W=this.createNewPieces(h),te=this.rbInsertRight(x,W[0]);let ae=te;for(let Ce=1;Ce<W.length;Ce++)ae=this.rbInsertRight(ae,W[Ce]);this.validateCRLFWithPrevNode(te)}positionInBuffer(h,x,W){const te=h.piece,Ce=this._buffers[h.piece.bufferIndex].lineStarts,Fe=Ce[te.start.line]+te.start.column+x;let Ge=te.start.line,Je=te.end.line,it=0,ht=0,gt=0;for(;Ge<=Je&&(it=Ge+(Je-Ge)/2|0,gt=Ce[it],it!==Je);)if(ht=Ce[it+1],Fe<gt)Je=it-1;else{if(!(Fe>=ht))break;Ge=it+1}return W?(W.line=it,W.column=Fe-gt,null):{line:it,column:Fe-gt}}getLineFeedCnt(h,x,W){if(0===W.column)return W.line-x.line;const te=this._buffers[h].lineStarts;if(W.line===te.length-1)return W.line-x.line;const Ce=te[W.line]+W.column;return te[W.line+1]>Ce+1?W.line-x.line:13===this._buffers[h].buffer.charCodeAt(Ce-1)?W.line-x.line+1:W.line-x.line}offsetInBuffer(h,x){return this._buffers[h].lineStarts[x.line]+x.column}deleteNodes(h){for(let x=0;x<h.length;x++)yt(this,h[x])}createNewPieces(h){if(h.length>Ae){const Je=[];for(;h.length>Ae;){const ht=h.charCodeAt(Ae-1);let gt;13===ht||ht>=55296&&ht<=56319?(gt=h.substring(0,Ae-1),h=h.substring(Ae-1)):(gt=h.substring(0,Ae),h=h.substring(Ae));const Et=Mt(gt);Je.push(new jt(this._buffers.length,{line:0,column:0},{line:Et.length-1,column:gt.length-Et[Et.length-1]},Et.length-1,gt.length)),this._buffers.push(new rn(gt,Et))}const it=Mt(h);return Je.push(new jt(this._buffers.length,{line:0,column:0},{line:it.length-1,column:h.length-it[it.length-1]},it.length-1,h.length)),this._buffers.push(new rn(h,it)),Je}let x=this._buffers[0].buffer.length;const W=Mt(h,!1);let te=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===x&&0!==x&&this.startWithLF(h)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},te=this._lastChangeBufferPos;for(let Je=0;Je<W.length;Je++)W[Je]+=x+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(W.slice(1)),this._buffers[0].buffer+="_"+h,x+=1}else{if(0!==x)for(let Je=0;Je<W.length;Je++)W[Je]+=x;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(W.slice(1)),this._buffers[0].buffer+=h}const ae=this._buffers[0].buffer.length,Ce=this._buffers[0].lineStarts.length-1,Fe={line:Ce,column:ae-this._buffers[0].lineStarts[Ce]},Ge=new jt(0,te,Fe,this.getLineFeedCnt(0,te,Fe),ae-x);return this._lastChangeBufferPos=Fe,[Ge]}getLineRawContent(h,x=0){let W=this.root,te="";const ae=this._searchCache.get2(h);if(ae){W=ae.node;const Ce=this.getAccumulatedValue(W,h-ae.nodeStartLineNumber-1),Oe=this._buffers[W.piece.bufferIndex].buffer,Fe=this.offsetInBuffer(W.piece.bufferIndex,W.piece.start);if(ae.nodeStartLineNumber+W.piece.lineFeedCnt!==h){const Ge=this.getAccumulatedValue(W,h-ae.nodeStartLineNumber);return Oe.substring(Fe+Ce,Fe+Ge-x)}te=Oe.substring(Fe+Ce,Fe+W.piece.length)}else{let Ce=0;const Oe=h;for(;W!==$e;)if(W.left!==$e&&W.lf_left>=h-1)W=W.left;else{if(W.lf_left+W.piece.lineFeedCnt>h-1){const Fe=this.getAccumulatedValue(W,h-W.lf_left-2),Ge=this.getAccumulatedValue(W,h-W.lf_left-1),Je=this._buffers[W.piece.bufferIndex].buffer,it=this.offsetInBuffer(W.piece.bufferIndex,W.piece.start);return Ce+=W.size_left,this._searchCache.set({node:W,nodeStartOffset:Ce,nodeStartLineNumber:Oe-(h-1-W.lf_left)}),Je.substring(it+Fe,it+Ge-x)}if(W.lf_left+W.piece.lineFeedCnt===h-1){const Fe=this.getAccumulatedValue(W,h-W.lf_left-2),Ge=this._buffers[W.piece.bufferIndex].buffer,Je=this.offsetInBuffer(W.piece.bufferIndex,W.piece.start);te=Ge.substring(Je+Fe,Je+W.piece.length);break}h-=W.lf_left+W.piece.lineFeedCnt,Ce+=W.size_left+W.piece.length,W=W.right}}for(W=W.next();W!==$e;){const Ce=this._buffers[W.piece.bufferIndex].buffer;if(W.piece.lineFeedCnt>0){const Oe=this.getAccumulatedValue(W,0),Fe=this.offsetInBuffer(W.piece.bufferIndex,W.piece.start);return te+=Ce.substring(Fe,Fe+Oe-x),te}{const Oe=this.offsetInBuffer(W.piece.bufferIndex,W.piece.start);te+=Ce.substr(Oe,W.piece.length)}W=W.next()}return te}computeBufferMetadata(){let h=this.root,x=1,W=0;for(;h!==$e;)x+=h.lf_left+h.piece.lineFeedCnt,W+=h.size_left+h.piece.length,h=h.right;this._lineCnt=x,this._length=W,this._searchCache.validate(this._length)}getIndexOf(h,x){const W=h.piece,te=this.positionInBuffer(h,x),ae=te.line-W.start.line;if(this.offsetInBuffer(W.bufferIndex,W.end)-this.offsetInBuffer(W.bufferIndex,W.start)===x){const Ce=this.getLineFeedCnt(h.piece.bufferIndex,W.start,te);if(Ce!==ae)return{index:Ce,remainder:0}}return{index:ae,remainder:te.column}}getAccumulatedValue(h,x){if(x<0)return 0;const W=h.piece,te=this._buffers[W.bufferIndex].lineStarts,ae=W.start.line+x+1;return ae>W.end.line?te[W.end.line]+W.end.column-te[W.start.line]-W.start.column:te[ae]-te[W.start.line]-W.start.column}deleteNodeTail(h,x){const W=h.piece,te=W.lineFeedCnt,ae=this.offsetInBuffer(W.bufferIndex,W.end),Ce=x,Oe=this.offsetInBuffer(W.bufferIndex,Ce),Fe=this.getLineFeedCnt(W.bufferIndex,W.start,Ce),Ge=Fe-te,Je=Oe-ae;h.piece=new jt(W.bufferIndex,W.start,Ce,Fe,W.length+Je),en(this,h,Je,Ge)}deleteNodeHead(h,x){const W=h.piece,te=W.lineFeedCnt,ae=this.offsetInBuffer(W.bufferIndex,W.start),Ce=x,Oe=this.getLineFeedCnt(W.bufferIndex,Ce,W.end),Ge=Oe-te,Je=ae-this.offsetInBuffer(W.bufferIndex,Ce);h.piece=new jt(W.bufferIndex,Ce,W.end,Oe,W.length+Je),en(this,h,Je,Ge)}shrinkNode(h,x,W){const te=h.piece,ae=te.start,Ce=te.end,Oe=te.length,Fe=te.lineFeedCnt,Ge=x,Je=this.getLineFeedCnt(te.bufferIndex,te.start,Ge),it=this.offsetInBuffer(te.bufferIndex,x)-this.offsetInBuffer(te.bufferIndex,ae);h.piece=new jt(te.bufferIndex,te.start,Ge,Je,it),en(this,h,it-Oe,Je-Fe);const ht=new jt(te.bufferIndex,W,Ce,this.getLineFeedCnt(te.bufferIndex,W,Ce),this.offsetInBuffer(te.bufferIndex,Ce)-this.offsetInBuffer(te.bufferIndex,W)),gt=this.rbInsertRight(h,ht);this.validateCRLFWithPrevNode(gt)}appendToNode(h,x){this.adjustCarriageReturnFromNext(x,h)&&(x+="\n");const W=this.shouldCheckCRLF()&&this.startWithLF(x)&&this.endWithCR(h),te=this._buffers[0].buffer.length;this._buffers[0].buffer+=x;const ae=Mt(x,!1);for(let gt=0;gt<ae.length;gt++)ae[gt]+=te;if(W){const gt=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:te-gt}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(ae.slice(1));const Ce=this._buffers[0].lineStarts.length-1,Fe={line:Ce,column:this._buffers[0].buffer.length-this._buffers[0].lineStarts[Ce]},Ge=h.piece.length+x.length,Je=h.piece.lineFeedCnt,it=this.getLineFeedCnt(0,h.piece.start,Fe),ht=it-Je;h.piece=new jt(h.piece.bufferIndex,h.piece.start,Fe,it,Ge),this._lastChangeBufferPos=Fe,en(this,h,x.length,ht)}nodeAt(h){let x=this.root;const W=this._searchCache.get(h);if(W)return{node:W.node,nodeStartOffset:W.nodeStartOffset,remainder:h-W.nodeStartOffset};let te=0;for(;x!==$e;)if(x.size_left>h)x=x.left;else{if(x.size_left+x.piece.length>=h){te+=x.size_left;const ae={node:x,remainder:h-x.size_left,nodeStartOffset:te};return this._searchCache.set(ae),ae}h-=x.size_left+x.piece.length,te+=x.size_left+x.piece.length,x=x.right}return null}nodeAt2(h,x){let W=this.root,te=0;for(;W!==$e;)if(W.left!==$e&&W.lf_left>=h-1)W=W.left;else{if(W.lf_left+W.piece.lineFeedCnt>h-1){const ae=this.getAccumulatedValue(W,h-W.lf_left-2),Ce=this.getAccumulatedValue(W,h-W.lf_left-1);return te+=W.size_left,{node:W,remainder:Math.min(ae+x-1,Ce),nodeStartOffset:te}}if(W.lf_left+W.piece.lineFeedCnt===h-1){const ae=this.getAccumulatedValue(W,h-W.lf_left-2);if(ae+x-1<=W.piece.length)return{node:W,remainder:ae+x-1,nodeStartOffset:te};x-=W.piece.length-ae;break}h-=W.lf_left+W.piece.lineFeedCnt,te+=W.size_left+W.piece.length,W=W.right}for(W=W.next();W!==$e;){if(W.piece.lineFeedCnt>0){const ae=this.getAccumulatedValue(W,0),Ce=this.offsetOfNode(W);return{node:W,remainder:Math.min(x-1,ae),nodeStartOffset:Ce}}if(W.piece.length>=x-1)return{node:W,remainder:x-1,nodeStartOffset:this.offsetOfNode(W)};x-=W.piece.length,W=W.next()}return null}nodeCharCodeAt(h,x){if(h.piece.lineFeedCnt<1)return-1;const W=this._buffers[h.piece.bufferIndex],te=this.offsetInBuffer(h.piece.bufferIndex,h.piece.start)+x;return W.buffer.charCodeAt(te)}offsetOfNode(h){if(!h)return 0;let x=h.size_left;for(;h!==this.root;)h.parent.right===h&&(x+=h.parent.size_left+h.parent.piece.length),h=h.parent;return x}shouldCheckCRLF(){return!(this._EOLNormalized&&"\n"===this._EOL)}startWithLF(h){if("string"==typeof h)return 10===h.charCodeAt(0);if(h===$e||0===h.piece.lineFeedCnt)return!1;const x=h.piece,W=this._buffers[x.bufferIndex].lineStarts,te=x.start.line,ae=W[te]+x.start.column;return!(te===W.length-1||W[te+1]>ae+1)&&10===this._buffers[x.bufferIndex].buffer.charCodeAt(ae)}endWithCR(h){return"string"==typeof h?13===h.charCodeAt(h.length-1):h!==$e&&0!==h.piece.lineFeedCnt&&13===this.nodeCharCodeAt(h,h.piece.length-1)}validateCRLFWithPrevNode(h){if(this.shouldCheckCRLF()&&this.startWithLF(h)){const x=h.prev();this.endWithCR(x)&&this.fixCRLF(x,h)}}validateCRLFWithNextNode(h){if(this.shouldCheckCRLF()&&this.endWithCR(h)){const x=h.next();this.startWithLF(x)&&this.fixCRLF(h,x)}}fixCRLF(h,x){const W=[],te=this._buffers[h.piece.bufferIndex].lineStarts;let ae;ae=0===h.piece.end.column?{line:h.piece.end.line-1,column:te[h.piece.end.line]-te[h.piece.end.line-1]-1}:{line:h.piece.end.line,column:h.piece.end.column-1},h.piece=new jt(h.piece.bufferIndex,h.piece.start,ae,h.piece.lineFeedCnt-1,h.piece.length-1),en(this,h,-1,-1),0===h.piece.length&&W.push(h);const Fe={line:x.piece.start.line+1,column:0},Ge=x.piece.length-1,Je=this.getLineFeedCnt(x.piece.bufferIndex,Fe,x.piece.end);x.piece=new jt(x.piece.bufferIndex,Fe,x.piece.end,Je,Ge),en(this,x,-1,-1),0===x.piece.length&&W.push(x);const it=this.createNewPieces("\r\n");this.rbInsertRight(h,it[0]);for(let ht=0;ht<W.length;ht++)yt(this,W[ht])}adjustCarriageReturnFromNext(h,x){if(this.shouldCheckCRLF()&&this.endWithCR(h)){const W=x.next();if(this.startWithLF(W)){if(h+="\n",1===W.piece.length)yt(this,W);else{const te=W.piece,ae={line:te.start.line+1,column:0},Ce=te.length-1,Oe=this.getLineFeedCnt(te.bufferIndex,ae,te.end);W.piece=new jt(te.bufferIndex,ae,te.end,Oe,Ce),en(this,W,-1,-1)}return!0}}return!1}iterate(h,x){return h===$e?x($e):this.iterate(h.left,x)&&x(h)&&this.iterate(h.right,x)}getNodeContent(h){if(h===$e)return"";const x=this._buffers[h.piece.bufferIndex];let W;const te=h.piece,ae=this.offsetInBuffer(te.bufferIndex,te.start),Ce=this.offsetInBuffer(te.bufferIndex,te.end);return W=x.buffer.substring(ae,Ce),W}getPieceContent(h){const x=this._buffers[h.bufferIndex],W=this.offsetInBuffer(h.bufferIndex,h.start),te=this.offsetInBuffer(h.bufferIndex,h.end);return x.buffer.substring(W,te)}rbInsertRight(h,x){const W=new He(x,1);if(W.left=$e,W.right=$e,W.parent=$e,W.size_left=0,W.lf_left=0,this.root===$e)this.root=W,W.color=0;else if(h.right===$e)h.right=W,W.parent=h;else{const ae=qt(h.right);ae.left=W,W.parent=ae}return Lt(this,W),W}rbInsertLeft(h,x){const W=new He(x,1);if(W.left=$e,W.right=$e,W.parent=$e,W.size_left=0,W.lf_left=0,this.root===$e)this.root=W,W.color=0;else if(h.left===$e)h.left=W,W.parent=h;else{const te=mn(h.left);te.right=W,W.parent=te}return Lt(this,W),W}}var Sn=m(34048),xn=m(64978);class Kt extends E.JT{constructor(h,x,W,te,ae,Ce,Oe){super(),this._onDidChangeContent=this._register(new B.Q5),this._BOM=x,this._mightContainNonBasicASCII=!Ce,this._mightContainRTL=te,this._mightContainUnusualLineTerminators=ae,this._pieceTree=new yn(h,W,Oe)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(h){return this._pieceTree.createSnapshot(h?this._BOM:"")}getOffsetAt(h,x){return this._pieceTree.getOffsetAt(h,x)}getPositionAt(h){return this._pieceTree.getPositionAt(h)}getRangeAt(h,x){const W=h+x,te=this.getPositionAt(h),ae=this.getPositionAt(W);return new T.e(te.lineNumber,te.column,ae.lineNumber,ae.column)}getValueInRange(h,x=0){if(h.isEmpty())return"";const W=this._getEndOfLine(x);return this._pieceTree.getValueInRange(h,W)}getValueLengthInRange(h,x=0){if(h.isEmpty())return 0;if(h.startLineNumber===h.endLineNumber)return h.endColumn-h.startColumn;const W=this.getOffsetAt(h.startLineNumber,h.startColumn);return this.getOffsetAt(h.endLineNumber,h.endColumn)-W}getCharacterCountInRange(h,x=0){if(this._mightContainNonBasicASCII){let W=0;const te=h.startLineNumber,ae=h.endLineNumber;for(let Ce=te;Ce<=ae;Ce++){const Oe=this.getLineContent(Ce),Ge=Ce===ae?h.endColumn-1:Oe.length;for(let Je=Ce===te?h.startColumn-1:0;Je<Ge;Je++)i.ZG(Oe.charCodeAt(Je))?(W+=1,Je+=1):W+=1}return W+=this._getEndOfLine(x).length*(ae-te),W}return this.getValueLengthInRange(h,x)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(h){return this._pieceTree.getLineContent(h)}getLineCharCode(h,x){return this._pieceTree.getLineCharCode(h,x)}getLineLength(h){return this._pieceTree.getLineLength(h)}getLineFirstNonWhitespaceColumn(h){const x=i.LC(this.getLineContent(h));return-1===x?0:x+1}getLineLastNonWhitespaceColumn(h){const x=i.ow(this.getLineContent(h));return-1===x?0:x+2}_getEndOfLine(h){switch(h){case 1:return"\n";case 2:return"\r\n";case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(h){this._pieceTree.setEOL(h)}applyEdits(h,x,W){let te=this._mightContainRTL,ae=this._mightContainUnusualLineTerminators,Ce=this._mightContainNonBasicASCII,Oe=!0,Fe=[];for(let Ft=0;Ft<h.length;Ft++){const Zt=h[Ft];Oe&&Zt._isTracked&&(Oe=!1);const Tn=Zt.range;if(Zt.text){let si=!0;Ce||(si=!i.$i(Zt.text),Ce=si),!te&&si&&(te=i.Ut(Zt.text)),!ae&&si&&(ae=i.ab(Zt.text))}let Xn="",li=0,pt=0,Pi=0;if(Zt.text){let si;[li,pt,Pi,si]=(0,Sn.Q)(Zt.text);const ho=this.getEOL();Xn=0===si||si===("\r\n"===ho?2:1)?Zt.text:Zt.text.replace(/\r\n|\r|\n/g,ho)}Fe[Ft]={sortIndex:Ft,identifier:Zt.identifier||null,range:Tn,rangeOffset:this.getOffsetAt(Tn.startLineNumber,Tn.startColumn),rangeLength:this.getValueLengthInRange(Tn),text:Xn,eolCount:li,firstLineLength:pt,lastLineLength:Pi,forceMoveMarkers:Boolean(Zt.forceMoveMarkers),isAutoWhitespaceEdit:Zt.isAutoWhitespaceEdit||!1}}Fe.sort(Kt._sortOpsAscending);let Ge=!1;for(let Ft=0,Zt=Fe.length-1;Ft<Zt;Ft++){const Tn=Fe[Ft].range.getEndPosition(),Xn=Fe[Ft+1].range.getStartPosition();if(Xn.isBeforeOrEqual(Tn)){if(Xn.isBefore(Tn))throw new Error("Overlapping ranges are not allowed!");Ge=!0}}Oe&&(Fe=this._reduceOperations(Fe));const Je=W||x?Kt._getInverseEditRanges(Fe):[],it=[];if(x)for(let Ft=0;Ft<Fe.length;Ft++){const Zt=Fe[Ft],Tn=Je[Ft];if(Zt.isAutoWhitespaceEdit&&Zt.range.isEmpty())for(let Xn=Tn.startLineNumber;Xn<=Tn.endLineNumber;Xn++){let li="";Xn===Tn.startLineNumber&&(li=this.getLineContent(Zt.range.startLineNumber),-1!==i.LC(li))||it.push({lineNumber:Xn,oldContent:li})}}let ht=null;if(W){let Ft=0;ht=[];for(let Zt=0;Zt<Fe.length;Zt++){const Tn=Fe[Zt],Xn=Je[Zt],li=this.getValueInRange(Tn.range),pt=Tn.rangeOffset+Ft;Ft+=Tn.text.length-li.length,ht[Zt]={sortIndex:Tn.sortIndex,identifier:Tn.identifier,range:Xn,text:li,textChange:new xn.q(Tn.rangeOffset,li,pt,Tn.text)}}Ge||ht.sort((Zt,Tn)=>Zt.sortIndex-Tn.sortIndex)}this._mightContainRTL=te,this._mightContainUnusualLineTerminators=ae,this._mightContainNonBasicASCII=Ce;const gt=this._doApplyEdits(Fe);let Et=null;if(x&&it.length>0){it.sort((Ft,Zt)=>Zt.lineNumber-Ft.lineNumber),Et=[];for(let Ft=0,Zt=it.length;Ft<Zt;Ft++){const Tn=it[Ft].lineNumber;if(Ft>0&&it[Ft-1].lineNumber===Tn)continue;const Xn=it[Ft].oldContent,li=this.getLineContent(Tn);0===li.length||li===Xn||-1!==i.LC(li)||Et.push(Tn)}}return this._onDidChangeContent.fire(),new C.je(ht,gt,Et)}_reduceOperations(h){return h.length<1e3?h:[this._toSingleEditOperation(h)]}_toSingleEditOperation(h){let x=!1;const W=h[0].range,te=h[h.length-1].range,ae=new T.e(W.startLineNumber,W.startColumn,te.endLineNumber,te.endColumn);let Ce=W.startLineNumber,Oe=W.startColumn;const Fe=[];for(let gt=0,Et=h.length;gt<Et;gt++){const Ft=h[gt],Zt=Ft.range;x=x||Ft.forceMoveMarkers,Fe.push(this.getValueInRange(new T.e(Ce,Oe,Zt.startLineNumber,Zt.startColumn))),Ft.text.length>0&&Fe.push(Ft.text),Ce=Zt.endLineNumber,Oe=Zt.endColumn}const Ge=Fe.join(""),[Je,it,ht]=(0,Sn.Q)(Ge);return{sortIndex:0,identifier:h[0].identifier,range:ae,rangeOffset:this.getOffsetAt(ae.startLineNumber,ae.startColumn),rangeLength:this.getValueLengthInRange(ae,0),text:Ge,eolCount:Je,firstLineLength:it,lastLineLength:ht,forceMoveMarkers:x,isAutoWhitespaceEdit:!1}}_doApplyEdits(h){h.sort(Kt._sortOpsDescending);const x=[];for(let W=0;W<h.length;W++){const te=h[W],ae=te.range.startLineNumber,Ce=te.range.startColumn,Oe=te.range.endLineNumber,Fe=te.range.endColumn;if(ae===Oe&&Ce===Fe&&0===te.text.length)continue;te.text?(this._pieceTree.delete(te.rangeOffset,te.rangeLength),this._pieceTree.insert(te.rangeOffset,te.text,!0)):this._pieceTree.delete(te.rangeOffset,te.rangeLength);const Ge=new T.e(ae,Ce,Oe,Fe);x.push({range:Ge,rangeLength:te.rangeLength,text:te.text,rangeOffset:te.rangeOffset,forceMoveMarkers:te.forceMoveMarkers})}return x}findMatchesLineByLine(h,x,W,te){return this._pieceTree.findMatchesLineByLine(h,x,W,te)}static _getInverseEditRanges(h){const x=[];let W=0,te=0,ae=null;for(let Ce=0,Oe=h.length;Ce<Oe;Ce++){const Fe=h[Ce];let Ge,Je,it;if(ae?ae.range.endLineNumber===Fe.range.startLineNumber?(Ge=W,Je=te+(Fe.range.startColumn-ae.range.endColumn)):(Ge=W+(Fe.range.startLineNumber-ae.range.endLineNumber),Je=Fe.range.startColumn):(Ge=Fe.range.startLineNumber,Je=Fe.range.startColumn),Fe.text.length>0){const ht=Fe.eolCount+1;it=1===ht?new T.e(Ge,Je,Ge,Je+Fe.firstLineLength):new T.e(Ge,Je,Ge+ht-1,Fe.lastLineLength+1)}else it=new T.e(Ge,Je,Ge,Je);W=it.endLineNumber,te=it.endColumn,x.push(it),ae=Fe}return x}static _sortOpsAscending(h,x){const W=T.e.compareRangesUsingEnds(h.range,x.range);return 0===W?h.sortIndex-x.sortIndex:W}static _sortOpsDescending(h,x){const W=T.e.compareRangesUsingEnds(h.range,x.range);return 0===W?x.sortIndex-h.sortIndex:-W}}class En{constructor(h,x,W,te,ae,Ce,Oe,Fe,Ge){this._chunks=h,this._bom=x,this._cr=W,this._lf=te,this._crlf=ae,this._containsRTL=Ce,this._containsUnusualLineTerminators=Oe,this._isBasicASCII=Fe,this._normalizeEOL=Ge}_getEOL(h){const x=this._cr+this._lf+this._crlf;return 0===x?1===h?"\n":"\r\n":this._cr+this._crlf>x/2?"\r\n":"\n"}create(h){const x=this._getEOL(h),W=this._chunks;if(this._normalizeEOL&&("\r\n"===x&&(this._cr>0||this._lf>0)||"\n"===x&&(this._cr>0||this._crlf>0)))for(let ae=0,Ce=W.length;ae<Ce;ae++){const Oe=W[ae].buffer.replace(/\r\n|\r|\n/g,x),Fe=Mt(Oe);W[ae]=new rn(Oe,Fe)}const te=new Kt(W,this._bom,x,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:te,disposable:te}}}class Mn{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(h){if(0===h.length)return;0===this.chunks.length&&i.uS(h)&&(this.BOM=i.c1,h=h.substr(1));const x=h.charCodeAt(h.length-1);13===x||x>=55296&&x<=56319?(this._acceptChunk1(h.substr(0,h.length-1),!1),this._hasPreviousChar=!0,this._previousChar=x):(this._acceptChunk1(h,!1),this._hasPreviousChar=!1,this._previousChar=x)}_acceptChunk1(h,x){!x&&0===h.length||this._acceptChunk2(this._hasPreviousChar?String.fromCharCode(this._previousChar)+h:h)}_acceptChunk2(h){const x=function(R,h){R.length=0,R[0]=0;let x=1,W=0,te=0,ae=0,Ce=!0;for(let Fe=0,Ge=h.length;Fe<Ge;Fe++){const Je=h.charCodeAt(Fe);13===Je?Fe+1<Ge&&10===h.charCodeAt(Fe+1)?(ae++,R[x++]=Fe+2,Fe++):(W++,R[x++]=Fe+1):10===Je?(te++,R[x++]=Fe+1):Ce&&9!==Je&&(Je<32||Je>126)&&(Ce=!1)}const Oe=new dt(Xe(R),W,te,ae,Ce);return R.length=0,Oe}(this._tmpLineStarts,h);this.chunks.push(new rn(h,x.lineStarts)),this.cr+=x.cr,this.lf+=x.lf,this.crlf+=x.crlf,this.isBasicASCII&&(this.isBasicASCII=x.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=i.Ut(h)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=i.ab(h))}finish(h=!0){return this._finish(),new En(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,h)}_finish(){if(0===this.chunks.length&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const h=this.chunks[this.chunks.length-1];h.buffer+=String.fromCharCode(this._previousChar);const x=Mt(h.buffer);h.lineStarts=x,13===this._previousChar&&this.cr++}}}var Hn=m(87604),Jn=m(5928),mi=m(33979),Li=m(88057),Nn=m(39932);class Ni{constructor(h,x){this._startLineNumber=h,this._tokens=x}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}getLineTokens(h){return this._tokens[h-this._startLineNumber]}appendLineTokens(h){this._tokens.push(h)}}class ai{constructor(){this._tokens=[]}add(h,x){if(this._tokens.length>0){const W=this._tokens[this._tokens.length-1];if(W.endLineNumber+1===h)return void W.appendLineTokens(x)}this._tokens.push(new Ni(h,[x]))}finalize(){return this._tokens}}var pi=m(89983),kn=m(70700);class _i{constructor(h){this._default=h,this._store=[]}get(h){return h<this._store.length?this._store[h]:this._default}set(h,x){for(;h>=this._store.length;)this._store[this._store.length]=this._default;this._store[h]=x}delete(h,x){0===x||h>=this._store.length||this._store.splice(h,x)}insert(h,x){if(0===x||h>=this._store.length)return;const W=[];for(let te=0;te<x;te++)W[te]=this._default;this._store=M.Zv(this._store,h,W)}}class Ti{constructor(h,x){this.tokenizationSupport=h,this.initialState=x,this._lineBeginState=new _i(null),this._lineNeedsTokenization=new _i(!0),this._firstLineNeedsTokenization=0,this._lineBeginState.set(0,this.initialState)}get invalidLineStartIndex(){return this._firstLineNeedsTokenization}markMustBeTokenized(h){this._lineNeedsTokenization.set(h,!0),this._firstLineNeedsTokenization=Math.min(this._firstLineNeedsTokenization,h)}getBeginState(h){return this._lineBeginState.get(h)}setEndState(h,x,W){if(this._lineNeedsTokenization.set(x,!1),this._firstLineNeedsTokenization=x+1,x===h-1)return;const te=this._lineBeginState.get(x+1);if(null===te||!W.equals(te))return this._lineBeginState.set(x+1,W),void this.markMustBeTokenized(x+1);let ae=x+1;for(;ae<h&&!this._lineNeedsTokenization.get(ae);)ae++;this._firstLineNeedsTokenization=ae}applyEdits(h,x){this.markMustBeTokenized(h.startLineNumber-1),this._lineBeginState.delete(h.startLineNumber,h.endLineNumber-h.startLineNumber),this._lineNeedsTokenization.delete(h.startLineNumber,h.endLineNumber-h.startLineNumber),this._lineBeginState.insert(h.startLineNumber,x),this._lineNeedsTokenization.insert(h.startLineNumber,x)}}class bi extends E.JT{constructor(h,x){super(),this._textModel=h,this._languageIdCodec=x,this._isScheduled=!1,this._isDisposed=!1,this._tokenizationStateStore=null,this._register(mi.RW.onDidChange(W=>{const te=this._textModel.getLanguageId();-1!==W.changedLanguages.indexOf(te)&&(this._resetTokenizationState(),this._textModel.clearTokens())})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}handleDidChangeContent(h){if(h.isFlush)this._resetTokenizationState();else{if(this._tokenizationStateStore)for(let x=0,W=h.changes.length;x<W;x++){const te=h.changes[x],[ae]=(0,Sn.Q)(te.text);this._tokenizationStateStore.applyEdits(te.range,ae)}this._beginBackgroundTokenization()}}handleDidChangeAttached(){this._beginBackgroundTokenization()}handleDidChangeLanguage(h){this._resetTokenizationState(),this._textModel.clearTokens()}_resetTokenizationState(){const[h,x]=function(R){if(R.isTooLargeForTokenization())return[null,null];const h=mi.RW.get(R.getLanguageId());if(!h)return[null,null];let x;try{x=h.getInitialState()}catch(W){return(0,Y.dL)(W),[null,null]}return[h,x]}(this._textModel);this._tokenizationStateStore=h&&x?new Ti(h,x):null,this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,pi.To)(h=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(h)}))}_backgroundTokenizeWithDeadline(h){const x=Date.now()+h.timeRemaining(),W=()=>{this._isDisposed||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<x?(0,kn.fn)(W):this._beginBackgroundTokenization())};W()}_backgroundTokenizeForAtLeast1ms(){const h=this._textModel.getLineCount(),x=new ai,W=Nn.G.create(!1);do{if(W.elapsed()>1||this._tokenizeOneInvalidLine(x)>=h)break}while(this._hasLinesToTokenize());this._textModel.setTokens(x.finalize(),!this._hasLinesToTokenize())}tokenizeViewport(h,x){const W=new ai;this._tokenizeViewport(W,h,x),this._textModel.setTokens(W.finalize(),!this._hasLinesToTokenize())}reset(){this._resetTokenizationState(),this._textModel.clearTokens()}forceTokenization(h){const x=new ai;this._updateTokensUntilLine(x,h),this._textModel.setTokens(x.finalize(),!this._hasLinesToTokenize())}getTokenTypeIfInsertingCharacter(h,x){if(!this._tokenizationStateStore)return 0;this.forceTokenization(h.lineNumber);const W=this._tokenizationStateStore.getBeginState(h.lineNumber-1);if(!W)return 0;const te=this._textModel.getLanguageId(),ae=this._textModel.getLineContent(h.lineNumber),Ce=ae.substring(0,h.column-1)+x+ae.substring(h.column-1),Oe=zn(this._languageIdCodec,te,this._tokenizationStateStore.tokenizationSupport,Ce,!0,W),Fe=new Jn.A(Oe.tokens,Ce,this._languageIdCodec);if(0===Fe.getCount())return 0;const Ge=Fe.findTokenIndexAtOffset(h.column-1);return Fe.getStandardTokenType(Ge)}tokenizeLineWithEdit(h,x,W){const te=h.lineNumber,ae=h.column;if(!this._tokenizationStateStore)return null;this.forceTokenization(te);const Ce=this._tokenizationStateStore.getBeginState(te-1);if(!Ce)return null;const Oe=this._textModel.getLineContent(te),Fe=Oe.substring(0,ae-1)+W+Oe.substring(ae-1+x),Ge=this._textModel.getLanguageIdAtPosition(te,0),Je=zn(this._languageIdCodec,Ge,this._tokenizationStateStore.tokenizationSupport,Fe,!0,Ce);return new Jn.A(Je.tokens,Fe,this._languageIdCodec)}isCheapToTokenize(h){if(!this._tokenizationStateStore)return!0;const x=this._tokenizationStateStore.invalidLineStartIndex+1;return!(h>x)&&(h<x||this._textModel.getLineLength(h)<2048)}_hasLinesToTokenize(){return!!this._tokenizationStateStore&&this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount()}_tokenizeOneInvalidLine(h){if(!this._tokenizationStateStore||!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const x=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(h,x),x}_updateTokensUntilLine(h,x){if(!this._tokenizationStateStore)return;const W=this._textModel.getLanguageId(),te=this._textModel.getLineCount(),ae=x-1;for(let Ce=this._tokenizationStateStore.invalidLineStartIndex;Ce<=ae;Ce++){const Oe=this._textModel.getLineContent(Ce+1),Fe=this._tokenizationStateStore.getBeginState(Ce),Ge=zn(this._languageIdCodec,W,this._tokenizationStateStore.tokenizationSupport,Oe,!0,Fe);h.add(Ce+1,Ge.tokens),this._tokenizationStateStore.setEndState(te,Ce,Ge.endState),Ce=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(h,x,W){if(!this._tokenizationStateStore||W<=this._tokenizationStateStore.invalidLineStartIndex)return;if(x<=this._tokenizationStateStore.invalidLineStartIndex)return void this._updateTokensUntilLine(h,W);let te=this._textModel.getLineFirstNonWhitespaceColumn(x);const ae=[];let Ce=null;for(let Ge=x-1;te>1&&Ge>=1;Ge--){const Je=this._textModel.getLineFirstNonWhitespaceColumn(Ge);if(0!==Je&&Je<te){if(Ce=this._tokenizationStateStore.getBeginState(Ge-1),Ce)break;ae.push(this._textModel.getLineContent(Ge)),te=Je}}Ce||(Ce=this._tokenizationStateStore.initialState);const Oe=this._textModel.getLanguageId();let Fe=Ce;for(let Ge=ae.length-1;Ge>=0;Ge--)Fe=zn(this._languageIdCodec,Oe,this._tokenizationStateStore.tokenizationSupport,ae[Ge],!1,Fe).endState;for(let Ge=x;Ge<=W;Ge++){const Je=this._textModel.getLineContent(Ge),it=zn(this._languageIdCodec,Oe,this._tokenizationStateStore.tokenizationSupport,Je,!0,Fe);h.add(Ge,it.tokens),this._tokenizationStateStore.markMustBeTokenized(Ge-1),Fe=it.endState}}}function zn(R,h,x,W,te,ae){let Ce=null;if(x)try{Ce=x.tokenizeEncoded(W,te,ae.clone())}catch(Oe){(0,Y.dL)(Oe)}return Ce||(Ce=(0,Li.Dy)(R.encodeLanguageId(h),ae)),Jn.A.convertToEndOffset(Ce.tokens,W.length),Ce}const Ii=new Uint32Array(0).buffer;class so{static deleteBeginning(h,x){return null===h||h===Ii?h:so.delete(h,0,x)}static deleteEnding(h,x){if(null===h||h===Ii)return h;const W=ei(h);return so.delete(h,x,W[W.length-2])}static delete(h,x,W){if(null===h||h===Ii||x===W)return h;const te=ei(h),ae=te.length>>>1;if(0===x&&te[te.length-2]===W)return Ii;const Ce=Jn.A.findIndexInTokensArray(te,x),Oe=Ce>0?te[Ce-1<<1]:0;if(W<te[Ce<<1]){const gt=W-x;for(let Et=Ce;Et<ae;Et++)te[Et<<1]-=gt;return h}let Ge,Je;Oe!==x?(te[Ce<<1]=x,Ge=Ce+1<<1,Je=x):(Ge=Ce<<1,Je=Oe);const it=W-x;for(let gt=Ce+1;gt<ae;gt++){const Et=te[gt<<1]-it;Et>Je&&(te[Ge++]=Et,te[Ge++]=te[1+(gt<<1)],Je=Et)}if(Ge===te.length)return h;const ht=new Uint32Array(Ge);return ht.set(te.subarray(0,Ge),0),ht.buffer}static append(h,x){if(x===Ii)return h;if(h===Ii)return x;if(null===h)return h;if(null===x)return null;const W=ei(h),te=ei(x),ae=te.length>>>1,Ce=new Uint32Array(W.length+te.length);Ce.set(W,0);let Oe=W.length;const Fe=W[W.length-2];for(let Ge=0;Ge<ae;Ge++)Ce[Oe++]=te[Ge<<1]+Fe,Ce[Oe++]=te[1+(Ge<<1)];return Ce.buffer}static insert(h,x,W){if(null===h||h===Ii)return h;const te=ei(h),ae=te.length>>>1;let Ce=Jn.A.findIndexInTokensArray(te,x);Ce>0&&te[Ce-1<<1]===x&&Ce--;for(let Oe=Ce;Oe<ae;Oe++)te[Oe<<1]+=W;return h}}function ei(R){return R instanceof Uint32Array?R:new Uint32Array(R)}class go{constructor(h){this._lineTokens=[],this._len=0,this._languageIdCodec=h}flush(){this._lineTokens=[],this._len=0}getTokens(h,x,W){let te=null;if(x<this._len&&(te=this._lineTokens[x]),null!==te&&te!==Ii)return new Jn.A(ei(te),W,this._languageIdCodec);const ae=new Uint32Array(2);return ae[0]=W.length,ae[1]=Di(this._languageIdCodec.encodeLanguageId(h)),new Jn.A(ae,W,this._languageIdCodec)}static _massageTokens(h,x,W){const te=W?ei(W):null;if(0===x){let ae=!1;if(te&&te.length>1&&(ae=mi.NX.getLanguageId(te[1])!==h),!ae)return Ii}if(!te||0===te.length){const ae=new Uint32Array(2);return ae[0]=x,ae[1]=Di(h),ae.buffer}return te[te.length-2]=x,0===te.byteOffset&&te.byteLength===te.buffer.byteLength?te.buffer:te}_ensureLine(h){for(;h>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(h,x){0!==x&&(h+x>this._len&&(x=this._len-h),this._lineTokens.splice(h,x),this._len-=x)}_insertLines(h,x){if(0===x)return;const W=[];for(let te=0;te<x;te++)W[te]=null;this._lineTokens=M.Zv(this._lineTokens,h,W),this._len+=x}setTokens(h,x,W,te,ae){const Ce=go._massageTokens(this._languageIdCodec.encodeLanguageId(h),W,te);this._ensureLine(x);const Oe=this._lineTokens[x];return this._lineTokens[x]=Ce,!!ae&&!go._equals(Oe,Ce)}static _equals(h,x){if(!h||!x)return!h&&!x;const W=ei(h),te=ei(x);if(W.length!==te.length)return!1;for(let ae=0,Ce=W.length;ae<Ce;ae++)if(W[ae]!==te[ae])return!1;return!0}acceptEdit(h,x,W){this._acceptDeleteRange(h),this._acceptInsertText(new F.L(h.startLineNumber,h.startColumn),x,W)}_acceptDeleteRange(h){const x=h.startLineNumber-1;if(x>=this._len)return;if(h.startLineNumber===h.endLineNumber){if(h.startColumn===h.endColumn)return;return void(this._lineTokens[x]=so.delete(this._lineTokens[x],h.startColumn-1,h.endColumn-1))}this._lineTokens[x]=so.deleteEnding(this._lineTokens[x],h.startColumn-1);const W=h.endLineNumber-1;let te=null;W<this._len&&(te=so.deleteBeginning(this._lineTokens[W],h.endColumn-1)),this._lineTokens[x]=so.append(this._lineTokens[x],te),this._deleteLines(h.startLineNumber,h.endLineNumber-h.startLineNumber)}_acceptInsertText(h,x,W){if(0===x&&0===W)return;const te=h.lineNumber-1;if(!(te>=this._len)){if(0===x)return void(this._lineTokens[te]=so.insert(this._lineTokens[te],h.column-1,W));this._lineTokens[te]=so.deleteEnding(this._lineTokens[te],h.column-1),this._lineTokens[te]=so.insert(this._lineTokens[te],h.column-1,W),this._insertLines(h.lineNumber,x)}}}function Di(R){return(16384|R<<0|2<<23)>>>0}class Mo{constructor(h){this._pieces=[],this._isComplete=!1,this._languageIdCodec=h}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return 0===this._pieces.length}set(h,x){this._pieces=h||[],this._isComplete=x}setPartial(h,x){let W=h;if(x.length>0){const ae=x[0].getRange(),Ce=x[x.length-1].getRange();if(!ae||!Ce)return h;W=h.plusRange(ae).plusRange(Ce)}let te=null;for(let ae=0,Ce=this._pieces.length;ae<Ce;ae++){const Oe=this._pieces[ae];if(Oe.endLineNumber<W.startLineNumber)continue;if(Oe.startLineNumber>W.endLineNumber){te=te||{index:ae};break}if(Oe.removeTokens(W),Oe.isEmpty()){this._pieces.splice(ae,1),ae--,Ce--;continue}if(Oe.endLineNumber<W.startLineNumber)continue;if(Oe.startLineNumber>W.endLineNumber){te=te||{index:ae};continue}const[Fe,Ge]=Oe.split(W);Fe.isEmpty()?te=te||{index:ae}:Ge.isEmpty()||(this._pieces.splice(ae,1,Fe,Ge),ae++,Ce++,te=te||{index:ae})}return te=te||{index:this._pieces.length},x.length>0&&(this._pieces=M.Zv(this._pieces,te.index,x)),W}isComplete(){return this._isComplete}addSparseTokens(h,x){const W=this._pieces;if(0===W.length)return x;const ae=W[Mo._findFirstPieceWithLine(W,h)].getLineTokens(h);if(!ae)return x;const Ce=x.getCount(),Oe=ae.getCount();let Fe=0;const Ge=[];let Je=0,it=0;const ht=(gt,Et)=>{gt!==it&&(it=gt,Ge[Je++]=gt,Ge[Je++]=Et)};for(let gt=0;gt<Oe;gt++){const Et=ae.getStartCharacter(gt),Ft=ae.getEndCharacter(gt),Zt=ae.getMetadata(gt),Tn=((1&Zt?1024:0)|(2&Zt?2048:0)|(4&Zt?4096:0)|(8&Zt?8192:0)|(16&Zt?8372224:0)|(32&Zt?4286578688:0))>>>0,Xn=~Tn>>>0;for(;Fe<Ce&&x.getEndOffset(Fe)<=Et;)ht(x.getEndOffset(Fe),x.getMetadata(Fe)),Fe++;for(Fe<Ce&&x.getStartOffset(Fe)<Et&&ht(Et,x.getMetadata(Fe));Fe<Ce&&x.getEndOffset(Fe)<Ft;)ht(x.getEndOffset(Fe),x.getMetadata(Fe)&Xn|Zt&Tn),Fe++;if(Fe<Ce)ht(Ft,x.getMetadata(Fe)&Xn|Zt&Tn),x.getEndOffset(Fe)===Ft&&Fe++;else{const li=Math.min(Math.max(0,Fe-1),Ce-1);ht(Ft,x.getMetadata(li)&Xn|Zt&Tn)}}for(;Fe<Ce;)ht(x.getEndOffset(Fe),x.getMetadata(Fe)),Fe++;return new Jn.A(new Uint32Array(Ge),x.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(h,x){let W=0,te=h.length-1;for(;W<te;){let ae=W+Math.floor((te-W)/2);if(h[ae].endLineNumber<x)W=ae+1;else{if(!(h[ae].startLineNumber>x)){for(;ae>W&&h[ae-1].startLineNumber<=x&&x<=h[ae-1].endLineNumber;)ae--;return ae}te=ae-1}}return W}acceptEdit(h,x,W,te,ae){for(const Ce of this._pieces)Ce.acceptEdit(h,x,W,te,ae)}}var bo=m(54745),vo=m(92119),Ro=m(80810),zs=m(10352),No=m(27870),ys=m(66200),Do=function(R,h){return function(x,W){h(x,W,R)}};function qs(R,h){return("string"==typeof R?function(R){const h=new Mn;return h.acceptChunk(R),h.finish()}(R):R).create(h)}let Fo=0;class Lr{constructor(h){this._source=h,this._eos=!1}read(){if(this._eos)return null;const h=[];let x=0,W=0;for(;;){const te=this._source.read();if(null===te)return this._eos=!0,0===x?null:h.join("");if(te.length>0&&(h[x++]=te,W+=te.length),W>=65536)return h.join("")}}}const uo=()=>{throw new Error("Invalid change accessor")};let Io=class gu extends E.JT{constructor(h,x,W,te=null,ae,Ce,Oe){super(),this._undoRedoService=ae,this._languageService=Ce,this._languageConfigurationService=Oe,this._onWillDispose=this._register(new B.Q5),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new bl(ht=>this.handleBeforeFireDecorationsChangedEvent(ht))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeLanguage=this._register(new B.Q5),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new B.Q5),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new B.Q5),this.onDidChangeTokens=this._onDidChangeTokens.event,this._onDidChangeOptions=this._register(new B.Q5),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new B.Q5),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new B.Q5),this._eventEmitter=this._register(new wt),this._backgroundTokenizationState=0,this._onBackgroundTokenizationStateChanged=this._register(new B.Q5),Fo++,this.id="$model"+Fo,this.isForSimpleWidget=W.isForSimpleWidget,this._associatedResource=te??O.o.parse("inmemory://model/"+Fo),this._attachedEditorCount=0;const{textBuffer:Fe,disposable:Ge}=qs(h,W.defaultEOL);this._buffer=Fe,this._bufferDisposable=Ge,this._options=gu.resolveOptions(this._buffer,W);const Je=this._buffer.getLineCount(),it=this._buffer.getValueLengthInRange(new T.e(1,1,Je,this._buffer.getLineLength(Je)+1),0);this._isTooLargeForTokenization=!!W.largeFileOptimizations&&(it>gu.LARGE_FILE_SIZE_THRESHOLD||Je>gu.LARGE_FILE_LINE_COUNT_THRESHOLD),this._isTooLargeForSyncing=it>gu.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this._isDisposing=!1,this._languageId=x,this._languageRegistryListener=this._languageConfigurationService.onDidChange(ht=>{ht.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})}),this._instanceId=i.PJ(Fo),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new ps,this._commandManager=new re.NL(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._tokens=new go(this._languageService.languageIdCodec),this._semanticTokens=new Mo(this._languageService.languageIdCodec),this._tokenization=new bi(this,this._languageService.languageIdCodec),this._bracketPairColorizer=this._register(new fe(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new ce.l(this,this._languageConfigurationService)),this._decorationProvider=this._register(new ee(this)),this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()}))}static resolveOptions(h,x){if(x.detectIndentation){const W=Ve(h,x.tabSize,x.insertSpaces);return new C.dJ({tabSize:W.tabSize,indentSize:W.tabSize,insertSpaces:W.insertSpaces,trimAutoWhitespace:x.trimAutoWhitespace,defaultEOL:x.defaultEOL,bracketPairColorizationOptions:x.bracketPairColorizationOptions})}return new C.dJ({tabSize:x.tabSize,indentSize:x.indentSize,insertSpaces:x.insertSpaces,trimAutoWhitespace:x.trimAutoWhitespace,defaultEOL:x.defaultEOL,bracketPairColorizationOptions:x.bracketPairColorizationOptions})}onDidChangeContent(h){return this._eventEmitter.slowEvent(x=>h(x.contentChangedEvent))}onDidChangeContentOrInjectedText(h){return(0,E.F8)(this._eventEmitter.fastEvent(x=>h(x.rawContentChangedEvent)),this._onDidChangeInjectedText.event(x=>h(x)))}get bracketPairs(){return this._bracketPairColorizer}get guides(){return this._guidesTextModelPart}get backgroundTokenizationState(){return this._backgroundTokenizationState}handleTokenizationProgress(h){if(2===this._backgroundTokenizationState)return;const x=h?2:1;this._backgroundTokenizationState!==x&&(this._backgroundTokenizationState=x,this._bracketPairColorizer.handleDidChangeBackgroundTokenizationState(),this._onBackgroundTokenizationStateChanged.fire())}dispose(){this._isDisposing=!0,this._onWillDispose.fire(),this._languageRegistryListener.dispose(),this._tokenization.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this._isDisposing=!1;const h=new Kt([],"","\n",!1,!1,!0,!0);h.dispose(),this._buffer=h,this._bufferDisposable=E.JT.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(h,x){this._isDisposing||(this._bracketPairColorizer.handleDidChangeContent(x),this._tokenization.handleDidChangeContent(x),this._eventEmitter.fire(new Hn.fV(h,x)))}setValue(h){if(this._assertNotDisposed(),null===h)return;const{textBuffer:x,disposable:W}=qs(h,this._options.defaultEOL);this._setValueFromTextBuffer(x,W)}_createContentChanged2(h,x,W,te,ae,Ce,Oe){return{changes:[{range:h,rangeOffset:x,rangeLength:W,text:te}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:ae,isRedoing:Ce,isFlush:Oe}}_setValueFromTextBuffer(h,x){this._assertNotDisposed();const W=this.getFullModelRange(),te=this.getValueLengthInRange(W),ae=this.getLineCount(),Ce=this.getLineMaxColumn(ae);this._buffer=h,this._bufferDisposable.dispose(),this._bufferDisposable=x,this._increaseVersionId(),this._tokens.flush(),this._semanticTokens.flush(),this._decorations=Object.create(null),this._decorationsTree=new ps,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new Hn.dQ([new Hn.Jx],this._versionId,!1,!1),this._createContentChanged2(new T.e(1,1,ae,Ce),0,te,this.getValue(),!1,!1,!0))}setEOL(h){this._assertNotDisposed();const x=1===h?"\r\n":"\n";if(this._buffer.getEOL()===x)return;const W=this.getFullModelRange(),te=this.getValueLengthInRange(W),ae=this.getLineCount(),Ce=this.getLineMaxColumn(ae);this._onBeforeEOLChange(),this._buffer.setEOL(x),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new Hn.dQ([new Hn.CZ],this._versionId,!1,!1),this._createContentChanged2(new T.e(1,1,ae,Ce),0,te,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const h=this.getVersionId(),x=this._decorationsTree.collectNodesPostOrder();for(let W=0,te=x.length;W<te;W++){const ae=x[W],Ce=ae.range,Oe=ae.cachedAbsoluteStart-ae.start,Fe=this._buffer.getOffsetAt(Ce.startLineNumber,Ce.startColumn),Ge=this._buffer.getOffsetAt(Ce.endLineNumber,Ce.endColumn);ae.cachedAbsoluteStart=Fe,ae.cachedAbsoluteEnd=Ge,ae.cachedVersionId=h,ae.start=Fe-Oe,ae.end=Ge-Oe,At(ae)}}onBeforeAttached(){this._attachedEditorCount++,1===this._attachedEditorCount&&(this._tokenization.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}onBeforeDetached(){this._attachedEditorCount--,0===this._attachedEditorCount&&(this._tokenization.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let h=0,x=0;const W=this._buffer.getLineCount();for(let te=1;te<=W;te++){const ae=this._buffer.getLineLength(te);ae>=1e4?x+=ae:h+=ae}return x>h}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(h){this._assertNotDisposed();const Oe=new C.dJ({tabSize:void 0!==h.tabSize?h.tabSize:this._options.tabSize,indentSize:void 0!==h.indentSize?h.indentSize:this._options.indentSize,insertSpaces:void 0!==h.insertSpaces?h.insertSpaces:this._options.insertSpaces,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:void 0!==h.trimAutoWhitespace?h.trimAutoWhitespace:this._options.trimAutoWhitespace,bracketPairColorizationOptions:void 0!==h.bracketColorizationOptions?h.bracketColorizationOptions:this._options.bracketPairColorizationOptions});if(this._options.equals(Oe))return;const Fe=this._options.createChangeEvent(Oe);this._options=Oe,this._bracketPairColorizer.handleDidChangeOptions(Fe),this._decorationProvider.handleDidChangeOptions(Fe),this._onDidChangeOptions.fire(Fe)}detectIndentation(h,x){this._assertNotDisposed();const W=Ve(this._buffer,x,h);this.updateOptions({insertSpaces:W.insertSpaces,tabSize:W.tabSize,indentSize:W.tabSize})}normalizeIndentation(h){return this._assertNotDisposed(),(0,ys.x)(h,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(h=null){const x=this.findMatches(i.Qe.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(h,x.map(W=>({range:W.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(h){this._assertNotDisposed();const x=this._validatePosition(h.lineNumber,h.column,0);return this._buffer.getOffsetAt(x.lineNumber,x.column)}getPositionAt(h){this._assertNotDisposed();const x=Math.min(this._buffer.getLength(),Math.max(0,h));return this._buffer.getPositionAt(x)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(h){this._versionId=h}_overwriteAlternativeVersionId(h){this._alternativeVersionId=h}_overwriteInitialUndoRedoSnapshot(h){this._initialUndoRedoSnapshot=h}getValue(h,x=!1){this._assertNotDisposed();const W=this.getFullModelRange(),te=this.getValueInRange(W,h);return x?this._buffer.getBOM()+te:te}createSnapshot(h=!1){return new Lr(this._buffer.createSnapshot(h))}getValueLength(h,x=!1){this._assertNotDisposed();const W=this.getFullModelRange(),te=this.getValueLengthInRange(W,h);return x?this._buffer.getBOM().length+te:te}getValueInRange(h,x=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(h),x)}getValueLengthInRange(h,x=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(h),x)}getCharacterCountInRange(h,x=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(h),x)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(h){if(this._assertNotDisposed(),h<1||h>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(h)}getLineLength(h){if(this._assertNotDisposed(),h<1||h>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(h)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),"\n"===this._buffer.getEOL()?0:1}getLineMinColumn(h){return this._assertNotDisposed(),1}getLineMaxColumn(h){if(this._assertNotDisposed(),h<1||h>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(h)+1}getLineFirstNonWhitespaceColumn(h){if(this._assertNotDisposed(),h<1||h>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(h)}getLineLastNonWhitespaceColumn(h){if(this._assertNotDisposed(),h<1||h>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(h)}_validateRangeRelaxedNoAllocations(h){const x=this._buffer.getLineCount(),W=h.startLineNumber,te=h.startColumn;let ae=Math.floor("number"!=typeof W||isNaN(W)?1:W),Ce=Math.floor("number"!=typeof te||isNaN(te)?1:te);if(ae<1)ae=1,Ce=1;else if(ae>x)ae=x,Ce=this.getLineMaxColumn(ae);else if(Ce<=1)Ce=1;else{const it=this.getLineMaxColumn(ae);Ce>=it&&(Ce=it)}const Oe=h.endLineNumber,Fe=h.endColumn;let Ge=Math.floor("number"!=typeof Oe||isNaN(Oe)?1:Oe),Je=Math.floor("number"!=typeof Fe||isNaN(Fe)?1:Fe);if(Ge<1)Ge=1,Je=1;else if(Ge>x)Ge=x,Je=this.getLineMaxColumn(Ge);else if(Je<=1)Je=1;else{const it=this.getLineMaxColumn(Ge);Je>=it&&(Je=it)}return W===ae&&te===Ce&&Oe===Ge&&Fe===Je&&h instanceof T.e&&!(h instanceof S.Y)?h:new T.e(ae,Ce,Ge,Je)}_isValidPosition(h,x,W){if("number"!=typeof h||"number"!=typeof x||isNaN(h)||isNaN(x)||h<1||x<1||(0|h)!==h||(0|x)!==x)return!1;if(h>this._buffer.getLineCount())return!1;if(1===x)return!0;if(x>this.getLineMaxColumn(h))return!1;if(1===W){const Ce=this._buffer.getLineCharCode(h,x-2);if(i.ZG(Ce))return!1}return!0}_validatePosition(h,x,W){const te=Math.floor("number"!=typeof h||isNaN(h)?1:h),ae=Math.floor("number"!=typeof x||isNaN(x)?1:x),Ce=this._buffer.getLineCount();if(te<1)return new F.L(1,1);if(te>Ce)return new F.L(Ce,this.getLineMaxColumn(Ce));if(ae<=1)return new F.L(te,1);const Oe=this.getLineMaxColumn(te);if(ae>=Oe)return new F.L(te,Oe);if(1===W){const Fe=this._buffer.getLineCharCode(te,ae-2);if(i.ZG(Fe))return new F.L(te,ae-1)}return new F.L(te,ae)}validatePosition(h){return this._assertNotDisposed(),h instanceof F.L&&this._isValidPosition(h.lineNumber,h.column,1)?h:this._validatePosition(h.lineNumber,h.column,1)}_isValidRange(h,x){const W=h.startLineNumber,te=h.startColumn,ae=h.endLineNumber,Ce=h.endColumn;if(!this._isValidPosition(W,te,0)||!this._isValidPosition(ae,Ce,0))return!1;if(1===x){const Oe=te>1?this._buffer.getLineCharCode(W,te-2):0,Fe=Ce>1&&Ce<=this._buffer.getLineLength(ae)?this._buffer.getLineCharCode(ae,Ce-2):0,Ge=i.ZG(Oe),Je=i.ZG(Fe);return!Ge&&!Je}return!0}validateRange(h){if(this._assertNotDisposed(),h instanceof T.e&&!(h instanceof S.Y)&&this._isValidRange(h,1))return h;const W=this._validatePosition(h.startLineNumber,h.startColumn,0),te=this._validatePosition(h.endLineNumber,h.endColumn,0),ae=W.lineNumber,Ce=W.column,Oe=te.lineNumber,Fe=te.column;{const Ge=Ce>1?this._buffer.getLineCharCode(ae,Ce-2):0,Je=Fe>1&&Fe<=this._buffer.getLineLength(Oe)?this._buffer.getLineCharCode(Oe,Fe-2):0,it=i.ZG(Ge),ht=i.ZG(Je);return it||ht?ae===Oe&&Ce===Fe?new T.e(ae,Ce-1,Oe,Fe-1):it&&ht?new T.e(ae,Ce-1,Oe,Fe+1):it?new T.e(ae,Ce-1,Oe,Fe):new T.e(ae,Ce,Oe,Fe+1):new T.e(ae,Ce,Oe,Fe)}}modifyPosition(h,x){this._assertNotDisposed();const W=this.getOffsetAt(h)+x;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,W)))}getFullModelRange(){this._assertNotDisposed();const h=this.getLineCount();return new T.e(1,1,h,this.getLineMaxColumn(h))}findMatchesLineByLine(h,x,W,te){return this._buffer.findMatchesLineByLine(h,x,W,te)}findMatches(h,x,W,te,ae,Ce,Oe=999){this._assertNotDisposed();let Fe=null;null!==x&&(Array.isArray(x)||(x=[x]),x.every(it=>T.e.isIRange(it))&&(Fe=x.map(it=>this.validateRange(it)))),null===Fe&&(Fe=[this.getFullModelRange()]),Fe=Fe.sort((it,ht)=>it.startLineNumber-ht.startLineNumber||it.startColumn-ht.startColumn);const Ge=[];let Je;if(Ge.push(Fe.reduce((it,ht)=>T.e.areIntersecting(it,ht)?it.plusRange(ht):(Ge.push(it),ht))),!W&&h.indexOf("\n")<0){const ht=new Ht.bc(h,W,te,ae).parseSearchRequest();if(!ht)return[];Je=gt=>this.findMatchesLineByLine(gt,ht,Ce,Oe)}else Je=it=>Ht.pM.findMatches(this,new Ht.bc(h,W,te,ae),it,Ce,Oe);return Ge.map(Je).reduce((it,ht)=>it.concat(ht),[])}findNextMatch(h,x,W,te,ae,Ce){this._assertNotDisposed();const Oe=this.validatePosition(x);if(!W&&h.indexOf("\n")<0){const Ge=new Ht.bc(h,W,te,ae).parseSearchRequest();if(!Ge)return null;const Je=this.getLineCount();let it=new T.e(Oe.lineNumber,Oe.column,Je,this.getLineMaxColumn(Je)),ht=this.findMatchesLineByLine(it,Ge,Ce,1);return Ht.pM.findNextMatch(this,new Ht.bc(h,W,te,ae),Oe,Ce),ht.length>0||(it=new T.e(1,1,Oe.lineNumber,this.getLineMaxColumn(Oe.lineNumber)),ht=this.findMatchesLineByLine(it,Ge,Ce,1),ht.length>0)?ht[0]:null}return Ht.pM.findNextMatch(this,new Ht.bc(h,W,te,ae),Oe,Ce)}findPreviousMatch(h,x,W,te,ae,Ce){this._assertNotDisposed();const Oe=this.validatePosition(x);return Ht.pM.findPreviousMatch(this,new Ht.bc(h,W,te,ae),Oe,Ce)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(h){if(("\n"===this.getEOL()?0:1)!==h)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(h)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(h){return h instanceof C.Qi?h:new C.Qi(h.identifier||null,this.validateRange(h.range),h.text,h.forceMoveMarkers||!1,h.isAutoWhitespaceEdit||!1,h._isTracked||!1)}_validateEditOperations(h){const x=[];for(let W=0,te=h.length;W<te;W++)x[W]=this._validateEditOperation(h[W]);return x}pushEditOperations(h,x,W){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(h,this._validateEditOperations(x),W)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(h,x,W){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const te=x.map(Ce=>({range:this.validateRange(Ce.range),text:Ce.text}));let ae=!0;if(h)for(let Ce=0,Oe=h.length;Ce<Oe;Ce++){const Fe=h[Ce];let Ge=!1;for(let Je=0,it=te.length;Je<it;Je++){const ht=te[Je].range,Et=Fe.startLineNumber>ht.endLineNumber;if(!(ht.startLineNumber>Fe.endLineNumber||Et)){Ge=!0;break}}if(!Ge){ae=!1;break}}if(ae)for(let Ce=0,Oe=this._trimAutoWhitespaceLines.length;Ce<Oe;Ce++){const Fe=this._trimAutoWhitespaceLines[Ce],Ge=this.getLineMaxColumn(Fe);let Je=!0;for(let it=0,ht=te.length;it<ht;it++){const gt=te[it].range,Et=te[it].text;if(!(Fe<gt.startLineNumber||Fe>gt.endLineNumber||Fe===gt.startLineNumber&&gt.startColumn===Ge&&gt.isEmpty()&&Et&&Et.length>0&&"\n"===Et.charAt(0)||Fe===gt.startLineNumber&&1===gt.startColumn&&gt.isEmpty()&&Et&&Et.length>0&&"\n"===Et.charAt(Et.length-1))){Je=!1;break}}if(Je){const it=new T.e(Fe,1,Fe,Ge);x.push(new C.Qi(null,it,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(h,x,W)}_applyUndo(h,x,W,te){const ae=h.map(Ce=>{const Oe=this.getPositionAt(Ce.newPosition),Fe=this.getPositionAt(Ce.newEnd);return{range:new T.e(Oe.lineNumber,Oe.column,Fe.lineNumber,Fe.column),text:Ce.oldText}});this._applyUndoRedoEdits(ae,x,!0,!1,W,te)}_applyRedo(h,x,W,te){const ae=h.map(Ce=>{const Oe=this.getPositionAt(Ce.oldPosition),Fe=this.getPositionAt(Ce.oldEnd);return{range:new T.e(Oe.lineNumber,Oe.column,Fe.lineNumber,Fe.column),text:Ce.newText}});this._applyUndoRedoEdits(ae,x,!1,!0,W,te)}_applyUndoRedoEdits(h,x,W,te,ae,Ce){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=W,this._isRedoing=te,this.applyEdits(h,!1),this.setEOL(x),this._overwriteAlternativeVersionId(ae)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(Ce),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(h,x=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const W=this._validateEditOperations(h);return this._doApplyEdits(W,x)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(h,x){const W=this._buffer.getLineCount(),te=this._buffer.applyEdits(h,this._options.trimAutoWhitespace,x),ae=this._buffer.getLineCount(),Ce=te.changes;if(this._trimAutoWhitespaceLines=te.trimAutoWhitespaceLineNumbers,0!==Ce.length){for(let Ge=0,Je=Ce.length;Ge<Je;Ge++){const it=Ce[Ge],[ht,gt,Et]=(0,Sn.Q)(it.text);this._tokens.acceptEdit(it.range,ht,gt),this._semanticTokens.acceptEdit(it.range,ht,gt,Et,it.text.length>0?it.text.charCodeAt(0):0),this._decorationsTree.acceptReplace(it.rangeOffset,it.rangeLength,it.text.length,it.forceMoveMarkers)}const Oe=[];this._increaseVersionId();let Fe=W;for(let Ge=0,Je=Ce.length;Ge<Je;Ge++){const it=Ce[Ge],[ht]=(0,Sn.Q)(it.text);this._onDidChangeDecorations.fire();const gt=it.range.startLineNumber,Et=it.range.endLineNumber,Ft=Et-gt,Zt=ht,Tn=Math.min(Ft,Zt),Xn=Zt-Ft,li=ae-Fe-Xn+gt,Pi=li+Zt,si=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new F.L(li,1)),this.getOffsetAt(new F.L(Pi,this.getLineMaxColumn(Pi))),0),ho=Hn.gk.fromDecorations(si),Ps=new M.H9(ho);for(let _s=Tn;_s>=0;_s--){const Gr=gt+_s,mo=li+_s;Ps.takeFromEndWhile(Qr=>Qr.lineNumber>mo);const Ji=Ps.takeFromEndWhile(Qr=>Qr.lineNumber===mo);Oe.push(new Hn.rU(Gr,this.getLineContent(mo),Ji))}if(Tn<Ft&&Oe.push(new Hn.lN(gt+Tn+1,Et)),Tn<Zt){const _s=new M.H9(ho),Gr=gt+Tn,mo=Zt-Tn,Ji=ae-Fe-mo+Gr+1,Qr=[],$a=[];for(let Dr=0;Dr<mo;Dr++){const Xo=Ji+Dr;$a[Dr]=this.getLineContent(Xo),_s.takeWhile(ur=>ur.lineNumber<Xo),Qr[Dr]=_s.takeWhile(ur=>ur.lineNumber===Xo)}Oe.push(new Hn.Tx(Gr+1,gt+Zt,$a,Qr))}Fe+=Xn}this._emitContentChangedEvent(new Hn.dQ(Oe,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:Ce,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return null===te.reverseEdits?void 0:te.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(h){if(null===h||0===h.size)return;const W=[...h].map(te=>new Hn.rU(te,this.getLineContent(te),this._getInjectedTextInLine(te)));this._onDidChangeInjectedText.fire(new Hn.D8(W))}changeDecorations(h,x=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(x,h)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(h,x){const W={addDecoration:(ae,Ce)=>this._deltaDecorationsImpl(h,[],[{range:ae,options:Ce}])[0],changeDecoration:(ae,Ce)=>{this._changeDecorationImpl(ae,Ce)},changeDecorationOptions:(ae,Ce)=>{this._changeDecorationOptionsImpl(ae,tr(Ce))},removeDecoration:ae=>{this._deltaDecorationsImpl(h,[ae],[])},deltaDecorations:(ae,Ce)=>0===ae.length&&0===Ce.length?[]:this._deltaDecorationsImpl(h,ae,Ce)};let te=null;try{te=x(W)}catch(ae){(0,Y.dL)(ae)}return W.addDecoration=uo,W.changeDecoration=uo,W.changeDecorationOptions=uo,W.removeDecoration=uo,W.deltaDecorations=uo,te}deltaDecorations(h,x,W=0){if(this._assertNotDisposed(),h||(h=[]),0===h.length&&0===x.length)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(W,h,x)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_getTrackedRange(h){return this.getDecorationRange(h)}_setTrackedRange(h,x,W){const te=h?this._decorations[h]:null;if(!te)return x?this._deltaDecorationsImpl(0,[],[{range:x,options:Ts[W]}])[0]:null;if(!x)return this._decorationsTree.delete(te),delete this._decorations[te.id],null;const ae=this._validateRangeRelaxedNoAllocations(x),Ce=this._buffer.getOffsetAt(ae.startLineNumber,ae.startColumn),Oe=this._buffer.getOffsetAt(ae.endLineNumber,ae.endColumn);return this._decorationsTree.delete(te),te.reset(this.getVersionId(),Ce,Oe,ae),te.setOptions(Ts[W]),this._decorationsTree.insert(te),te.id}removeAllDecorationsWithOwnerId(h){if(this._isDisposed)return;const x=this._decorationsTree.collectNodesFromOwner(h);for(let W=0,te=x.length;W<te;W++){const ae=x[W];this._decorationsTree.delete(ae),delete this._decorations[ae.id]}}getDecorationOptions(h){const x=this._decorations[h];return x?x.options:null}getDecorationRange(h){const x=this._decorations[h];return x?this._decorationsTree.getNodeRange(this,x):null}getLineDecorations(h,x=0,W=!1){return h<1||h>this.getLineCount()?[]:this.getLinesDecorations(h,h,x,W)}getLinesDecorations(h,x,W=0,te=!1){const ae=this.getLineCount(),Ce=Math.min(ae,Math.max(1,h)),Oe=Math.min(ae,Math.max(1,x)),Fe=this.getLineMaxColumn(Oe),Ge=new T.e(Ce,1,Oe,Fe),Je=this._getDecorationsInRange(Ge,W,te);return Je.push(...this._decorationProvider.getDecorationsInRange(Ge,W,te)),Je}getDecorationsInRange(h,x=0,W=!1){const te=this.validateRange(h),ae=this._getDecorationsInRange(te,x,W);return ae.push(...this._decorationProvider.getDecorationsInRange(te,x,W)),ae}getOverviewRulerDecorations(h=0,x=!1){return this._decorationsTree.getAll(this,h,x,!0)}getInjectedTextDecorations(h=0){return this._decorationsTree.getAllInjectedText(this,h)}_getInjectedTextInLine(h){const x=this._buffer.getOffsetAt(h,1),W=x+this._buffer.getLineLength(h),te=this._decorationsTree.getInjectedTextInInterval(this,x,W,0);return Hn.gk.fromDecorations(te).filter(ae=>ae.lineNumber===h)}getAllDecorations(h=0,x=!1){let W=this._decorationsTree.getAll(this,h,x,!1);return W=W.concat(this._decorationProvider.getAllDecorations(h,x)),W}_getDecorationsInRange(h,x,W){const te=this._buffer.getOffsetAt(h.startLineNumber,h.startColumn),ae=this._buffer.getOffsetAt(h.endLineNumber,h.endColumn);return this._decorationsTree.getAllInInterval(this,te,ae,x,W)}getRangeAt(h,x){return this._buffer.getRangeAt(h,x-h)}_changeDecorationImpl(h,x){const W=this._decorations[h];if(!W)return;if(W.options.after){const Oe=this.getDecorationRange(h);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Oe.endLineNumber)}if(W.options.before){const Oe=this.getDecorationRange(h);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Oe.startLineNumber)}const te=this._validateRangeRelaxedNoAllocations(x),ae=this._buffer.getOffsetAt(te.startLineNumber,te.startColumn),Ce=this._buffer.getOffsetAt(te.endLineNumber,te.endColumn);this._decorationsTree.delete(W),W.reset(this.getVersionId(),ae,Ce,te),this._decorationsTree.insert(W),this._onDidChangeDecorations.checkAffectedAndFire(W.options),W.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(te.endLineNumber),W.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(te.startLineNumber)}_changeDecorationOptionsImpl(h,x){const W=this._decorations[h];if(!W)return;const te=!(!W.options.overviewRuler||!W.options.overviewRuler.color),ae=!(!x.overviewRuler||!x.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(W.options),this._onDidChangeDecorations.checkAffectedAndFire(x),W.options.after||x.after){const Ce=this._decorationsTree.getNodeRange(this,W);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ce.endLineNumber)}if(W.options.before||x.before){const Ce=this._decorationsTree.getNodeRange(this,W);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ce.startLineNumber)}te!==ae?(this._decorationsTree.delete(W),W.setOptions(x),this._decorationsTree.insert(W)):W.setOptions(x)}_deltaDecorationsImpl(h,x,W){const te=this.getVersionId(),ae=x.length;let Ce=0;const Oe=W.length;let Fe=0;const Ge=new Array(Oe);for(;Ce<ae||Fe<Oe;){let Je=null;if(Ce<ae){do{Je=this._decorations[x[Ce++]]}while(!Je&&Ce<ae);if(Je){if(Je.options.after){const it=this._decorationsTree.getNodeRange(this,Je);this._onDidChangeDecorations.recordLineAffectedByInjectedText(it.endLineNumber)}if(Je.options.before){const it=this._decorationsTree.getNodeRange(this,Je);this._onDidChangeDecorations.recordLineAffectedByInjectedText(it.startLineNumber)}this._decorationsTree.delete(Je),this._onDidChangeDecorations.checkAffectedAndFire(Je.options)}}if(Fe<Oe){if(!Je){const Zt=++this._lastDecorationId,Tn=`${this._instanceId};${Zt}`;Je=new Se(Tn,0,0),this._decorations[Tn]=Je}const it=W[Fe],ht=this._validateRangeRelaxedNoAllocations(it.range),gt=tr(it.options),Et=this._buffer.getOffsetAt(ht.startLineNumber,ht.startColumn),Ft=this._buffer.getOffsetAt(ht.endLineNumber,ht.endColumn);Je.ownerId=h,Je.reset(te,Et,Ft,ht),Je.setOptions(gt),Je.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ht.endLineNumber),Je.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ht.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(gt),this._decorationsTree.insert(Je),Ge[Fe]=Je.id,Fe++}else Je&&delete this._decorations[Je.id]}return Ge}setTokens(h,x=!1){if(0!==h.length){const W=[];for(let te=0,ae=h.length;te<ae;te++){const Ce=h[te];let Oe=0,Fe=0,Ge=!1;for(let Je=Ce.startLineNumber;Je<=Ce.endLineNumber;Je++)Ge?(this._tokens.setTokens(this._languageId,Je-1,this._buffer.getLineLength(Je),Ce.getLineTokens(Je),!1),Fe=Je):this._tokens.setTokens(this._languageId,Je-1,this._buffer.getLineLength(Je),Ce.getLineTokens(Je),!0)&&(Ge=!0,Oe=Je,Fe=Je);Ge&&W.push({fromLineNumber:Oe,toLineNumber:Fe})}W.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:W})}this.handleTokenizationProgress(x)}setSemanticTokens(h,x){this._semanticTokens.set(h,x),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:null!==h,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(h,x){if(this.hasCompleteSemanticTokens())return;const W=this.validateRange(this._semanticTokens.setPartial(h,x));this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:W.startLineNumber,toLineNumber:W.endLineNumber}]})}tokenizeViewport(h,x){h=Math.max(1,h),x=Math.min(this._buffer.getLineCount(),x),this._tokenization.tokenizeViewport(h,x)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._buffer.getLineCount()}]})}_emitModelTokensChangedEvent(h){this._isDisposing||(this._bracketPairColorizer.handleDidChangeTokens(h),this._onDidChangeTokens.fire(h))}resetTokenization(){this._tokenization.reset()}forceTokenization(h){if(h<1||h>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(h)}isCheapToTokenize(h){return this._tokenization.isCheapToTokenize(h)}tokenizeIfCheap(h){this.isCheapToTokenize(h)&&this.forceTokenization(h)}getLineTokens(h){if(h<1||h>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(h)}_getLineTokens(h){const x=this.getLineContent(h),W=this._tokens.getTokens(this._languageId,h-1,x);return this._semanticTokens.addSparseTokens(h,W)}getLanguageId(){return this._languageId}setMode(h){if(this._languageId===h)return;const x={oldLanguage:this._languageId,newLanguage:h};this._languageId=h,this._bracketPairColorizer.handleDidChangeLanguage(x),this._tokenization.handleDidChangeLanguage(x),this._onDidChangeLanguage.fire(x),this._onDidChangeLanguageConfiguration.fire({})}getLanguageIdAtPosition(h,x){const W=this.validatePosition(new F.L(h,x)),te=this.getLineTokens(W.lineNumber);return te.getLanguageId(te.findTokenIndexAtOffset(W.column-1))}getTokenTypeIfInsertingCharacter(h,x,W){const te=this.validatePosition(new F.L(h,x));return this._tokenization.getTokenTypeIfInsertingCharacter(te,W)}tokenizeLineWithEdit(h,x,W){const te=this.validatePosition(h);return this._tokenization.tokenizeLineWithEdit(te,x,W)}getLanguageConfiguration(h){return this._languageConfigurationService.getLanguageConfiguration(h)}getWordAtPosition(h){this._assertNotDisposed();const x=this.validatePosition(h),W=this.getLineContent(x.lineNumber),te=this._getLineTokens(x.lineNumber),ae=te.findTokenIndexAtOffset(x.column-1),[Ce,Oe]=gu._findLanguageBoundaries(te,ae),Fe=(0,bo.t2)(x.column,this.getLanguageConfiguration(te.getLanguageId(ae)).getWordDefinition(),W.substring(Ce,Oe),Ce);if(Fe&&Fe.startColumn<=h.column&&h.column<=Fe.endColumn)return Fe;if(ae>0&&Ce===x.column-1){const[Ge,Je]=gu._findLanguageBoundaries(te,ae-1),it=(0,bo.t2)(x.column,this.getLanguageConfiguration(te.getLanguageId(ae-1)).getWordDefinition(),W.substring(Ge,Je),Ge);if(it&&it.startColumn<=h.column&&h.column<=it.endColumn)return it}return null}static _findLanguageBoundaries(h,x){const W=h.getLanguageId(x);let te=0;for(let Ce=x;Ce>=0&&h.getLanguageId(Ce)===W;Ce--)te=h.getStartOffset(Ce);let ae=h.getLineContent().length;for(let Ce=x,Oe=h.getCount();Ce<Oe&&h.getLanguageId(Ce)===W;Ce++)ae=h.getEndOffset(Ce);return[te,ae]}getWordUntilPosition(h){const x=this.getWordAtPosition(h);return x?{word:x.word.substr(0,h.column-x.startColumn),startColumn:x.startColumn,endColumn:h.column}:{word:"",startColumn:h.column,endColumn:h.column}}normalizePosition(h,x){return h}getLineIndentColumn(h){return function(R){let h=0;for(const x of R){if(" "!==x&&"\t"!==x)break;h++}return h}(this.getLineContent(h))+1}};function Zr(R){return!(!R.options.overviewRuler||!R.options.overviewRuler.color)}function js(R){return!!R.options.after||!!R.options.before}Io.MODEL_SYNC_LIMIT=52428800,Io.LARGE_FILE_SIZE_THRESHOLD=20971520,Io.LARGE_FILE_LINE_COUNT_THRESHOLD=3e5,Io.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:No.D.tabSize,indentSize:No.D.indentSize,insertSpaces:No.D.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:No.D.trimAutoWhitespace,largeFileOptimizations:No.D.largeFileOptimizations,bracketPairColorizationOptions:No.D.bracketPairColorizationOptions},Io=function(R,h,x,W){var Ce,te=arguments.length,ae=te<3?h:null===W?W=Object.getOwnPropertyDescriptor(h,x):W;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ae=Reflect.decorate(R,h,x,W);else for(var Oe=R.length-1;Oe>=0;Oe--)(Ce=R[Oe])&&(ae=(te<3?Ce(ae):te>3?Ce(h,x,ae):Ce(h,x))||ae);return te>3&&ae&&Object.defineProperty(h,x,ae),ae}([Do(4,zs.tJ),Do(5,Ro.O),Do(6,vo.c_)],Io);class ps{constructor(){this._decorationsTree0=new at,this._decorationsTree1=new at,this._injectedTextDecorationsTree=new at}ensureAllNodesHaveRanges(h){this.getAll(h,0,!1,!1)}_ensureNodesHaveRanges(h,x){for(const W of x)null===W.range&&(W.range=h.getRangeAt(W.cachedAbsoluteStart,W.cachedAbsoluteEnd));return x}getAllInInterval(h,x,W,te,ae){const Ce=h.getVersionId(),Oe=this._intervalSearch(x,W,te,ae,Ce);return this._ensureNodesHaveRanges(h,Oe)}_intervalSearch(h,x,W,te,ae){const Ce=this._decorationsTree0.intervalSearch(h,x,W,te,ae),Oe=this._decorationsTree1.intervalSearch(h,x,W,te,ae),Fe=this._injectedTextDecorationsTree.intervalSearch(h,x,W,te,ae);return Ce.concat(Oe).concat(Fe)}getInjectedTextInInterval(h,x,W,te){const ae=h.getVersionId(),Ce=this._injectedTextDecorationsTree.intervalSearch(x,W,te,!1,ae);return this._ensureNodesHaveRanges(h,Ce).filter(Oe=>Oe.options.showIfCollapsed||!Oe.range.isEmpty())}getAllInjectedText(h,x){const W=h.getVersionId(),te=this._injectedTextDecorationsTree.search(x,!1,W);return this._ensureNodesHaveRanges(h,te).filter(ae=>ae.options.showIfCollapsed||!ae.range.isEmpty())}getAll(h,x,W,te){const ae=h.getVersionId(),Ce=this._search(x,W,te,ae);return this._ensureNodesHaveRanges(h,Ce)}_search(h,x,W,te){if(W)return this._decorationsTree1.search(h,x,te);{const ae=this._decorationsTree0.search(h,x,te),Ce=this._decorationsTree1.search(h,x,te),Oe=this._injectedTextDecorationsTree.search(h,x,te);return ae.concat(Ce).concat(Oe)}}collectNodesFromOwner(h){const x=this._decorationsTree0.collectNodesFromOwner(h),W=this._decorationsTree1.collectNodesFromOwner(h),te=this._injectedTextDecorationsTree.collectNodesFromOwner(h);return x.concat(W).concat(te)}collectNodesPostOrder(){const h=this._decorationsTree0.collectNodesPostOrder(),x=this._decorationsTree1.collectNodesPostOrder(),W=this._injectedTextDecorationsTree.collectNodesPostOrder();return h.concat(x).concat(W)}insert(h){js(h)?this._injectedTextDecorationsTree.insert(h):Zr(h)?this._decorationsTree1.insert(h):this._decorationsTree0.insert(h)}delete(h){js(h)?this._injectedTextDecorationsTree.delete(h):Zr(h)?this._decorationsTree1.delete(h):this._decorationsTree0.delete(h)}getNodeRange(h,x){const W=h.getVersionId();return x.cachedVersionId!==W&&this._resolveNode(x,W),null===x.range&&(x.range=h.getRangeAt(x.cachedAbsoluteStart,x.cachedAbsoluteEnd)),x.range}_resolveNode(h,x){js(h)?this._injectedTextDecorationsTree.resolveNode(h,x):Zr(h)?this._decorationsTree1.resolveNode(h,x):this._decorationsTree0.resolveNode(h,x)}acceptReplace(h,x,W,te){this._decorationsTree0.acceptReplace(h,x,W,te),this._decorationsTree1.acceptReplace(h,x,W,te),this._injectedTextDecorationsTree.acceptReplace(h,x,W,te)}}function Eo(R){return R.replace(/[^a-z0-9\-_]/gi," ")}class xs{constructor(h){this.color=h.color||"",this.darkColor=h.darkColor||""}}class er extends xs{constructor(h){super(h),this._resolvedColor=null,this.position="number"==typeof h.position?h.position:C.sh.Center}getColor(h){return this._resolvedColor||(this._resolvedColor=this._resolveColor("light"!==h.type&&this.darkColor?this.darkColor:this.color,h)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(h,x){if("string"==typeof h)return h;const W=h?x.getColor(h.id):null;return W?W.toString():""}}class ya extends xs{constructor(h){super(h),this.position=h.position}getColor(h){return this._resolvedColor||(this._resolvedColor=this._resolveColor("light"!==h.type&&this.darkColor?this.darkColor:this.color,h)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(h,x){return"string"==typeof h?g.Il.fromHex(h):x.getColor(h.id)}}class zi{constructor(h){this.content=h.content||"",this.inlineClassName=h.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=h.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=h.attachedData||null,this.cursorStops=h.cursorStops||null}static from(h){return h instanceof zi?h:new zi(h)}}class So{constructor(h){var x,W;this.description=h.description,this.stickiness=h.stickiness||0,this.zIndex=h.zIndex||0,this.className=h.className?Eo(h.className):null,this.hoverMessage=h.hoverMessage||null,this.glyphMarginHoverMessage=h.glyphMarginHoverMessage||null,this.isWholeLine=h.isWholeLine||!1,this.showIfCollapsed=h.showIfCollapsed||!1,this.collapseOnReplaceEdit=h.collapseOnReplaceEdit||!1,this.overviewRuler=h.overviewRuler?new er(h.overviewRuler):null,this.minimap=h.minimap?new ya(h.minimap):null,this.glyphMarginClassName=h.glyphMarginClassName?Eo(h.glyphMarginClassName):null,this.linesDecorationsClassName=h.linesDecorationsClassName?Eo(h.linesDecorationsClassName):null,this.firstLineDecorationClassName=h.firstLineDecorationClassName?Eo(h.firstLineDecorationClassName):null,this.marginClassName=h.marginClassName?Eo(h.marginClassName):null,this.inlineClassName=h.inlineClassName?Eo(h.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=h.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=h.beforeContentClassName?Eo(h.beforeContentClassName):null,this.afterContentClassName=h.afterContentClassName?Eo(h.afterContentClassName):null,this.after=h.after?zi.from(h.after):null,this.before=h.before?zi.from(h.before):null,this.hideInCommentTokens=null!==(x=h.hideInCommentTokens)&&void 0!==x&&x,this.hideInStringTokens=null!==(W=h.hideInStringTokens)&&void 0!==W&&W}static register(h){return new So(h)}static createDynamic(h){return new So(h)}}So.EMPTY=So.register({description:"empty"});const Ts=[So.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),So.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),So.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),So.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function tr(R){return R instanceof So?R:So.createDynamic(R)}class bl extends E.JT{constructor(h){super(),this.handleBeforeFire=h,this._actual=this._register(new B.Q5),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var h;if(this._deferredCnt--,0===this._deferredCnt){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);const x={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(x)}null===(h=this._affectedInjectedTextLines)||void 0===h||h.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(h){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(h)}checkAffectedAndFire(h){this._affectsMinimap||(this._affectsMinimap=!(!h.minimap||!h.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!(!h.overviewRuler||!h.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}class wt extends E.JT{constructor(){super(),this._fastEmitter=this._register(new B.Q5),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new B.Q5),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(h=null){if(this._deferredCnt--,0===this._deferredCnt&&null!==this._deferredEvent){this._deferredEvent.rawContentChangedEvent.resultingSelection=h;const x=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(x),this._slowEmitter.fire(x)}}fire(h){this._deferredCnt>0?this._deferredEvent=this._deferredEvent?this._deferredEvent.merge(h):h:(this._fastEmitter.fire(h),this._slowEmitter.fire(h))}}},82711:(Be,Me,m)=>{m.d(Me,{bc:()=>O,iE:()=>T,pM:()=>C,cM:()=>f,sz:()=>N});var M=m(74243),g=m(81346),Y=m(67947),B=m(1873),E=m(80067);class O{constructor(D,I,Z,P){this.searchString=D,this.isRegex=I,this.matchCase=Z,this.wordSeparators=P}parseSearchRequest(){if(""===this.searchString)return null;let D;D=this.isRegex?function(z){if(!z||0===z.length)return!1;for(let D=0,I=z.length;D<I;D++)if(92===z.charCodeAt(D)){if(D++,D>=I)break;const P=z.charCodeAt(D);if(110===P||114===P||87===P)return!0}return!1}(this.searchString):this.searchString.indexOf("\n")>=0;let I=null;try{I=M.GF(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:D,global:!0,unicode:!0})}catch{return null}if(!I)return null;let Z=!this.isRegex&&!D;return Z&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(Z=this.matchCase),new E.Tx(I,this.wordSeparators?(0,g.u)(this.wordSeparators):null,Z?this.searchString:null)}}function T(z,D,I){if(!I)return new E.tk(z,null);const Z=[];for(let P=0,k=D.length;P<k;P++)Z[P]=D[P];return new E.tk(z,Z)}class S{constructor(D){const I=[];let Z=0;for(let P=0,k=D.length;P<k;P++)10===D.charCodeAt(P)&&(I[Z++]=P);this._lineFeedsOffsets=I}findLineFeedCountBeforeOffset(D){const I=this._lineFeedsOffsets;let Z=0,P=I.length-1;if(-1===P||D<=I[0])return 0;for(;Z<P;){const k=Z+((P-Z)/2>>0);I[k]>=D?P=k-1:I[k+1]>=D?(Z=k,P=k):Z=k+1}return Z+1}}class C{static findMatches(D,I,Z,P,k){const $=I.parseSearchRequest();return $?$.regex.multiline?this._doFindMatchesMultiline(D,Z,new N($.wordSeparators,$.regex),P,k):this._doFindMatchesLineByLine(D,Z,$,P,k):[]}static _getMultilineMatchRange(D,I,Z,P,k,$){let j,oe,G=0;if(P?(G=P.findLineFeedCountBeforeOffset(k),j=I+k+G):j=I+k,P){const we=P.findLineFeedCountBeforeOffset(k+$.length)-G;oe=j+$.length+we}else oe=j+$.length;const de=D.getPositionAt(j),fe=D.getPositionAt(oe);return new B.e(de.lineNumber,de.column,fe.lineNumber,fe.column)}static _doFindMatchesMultiline(D,I,Z,P,k){const $=D.getOffsetAt(I.getStartPosition()),j=D.getValueInRange(I,1),G="\r\n"===D.getEOL()?new S(j):null,oe=[];let fe,de=0;for(Z.reset(0);fe=Z.next(j);)if(oe[de++]=T(this._getMultilineMatchRange(D,$,j,G,fe.index,fe[0]),fe,P),de>=k)return oe;return oe}static _doFindMatchesLineByLine(D,I,Z,P,k){const $=[];let j=0;if(I.startLineNumber===I.endLineNumber){const oe=D.getLineContent(I.startLineNumber).substring(I.startColumn-1,I.endColumn-1);return j=this._findMatchesInLine(Z,oe,I.startLineNumber,I.startColumn-1,j,$,P,k),$}const G=D.getLineContent(I.startLineNumber).substring(I.startColumn-1);j=this._findMatchesInLine(Z,G,I.startLineNumber,I.startColumn-1,j,$,P,k);for(let oe=I.startLineNumber+1;oe<I.endLineNumber&&j<k;oe++)j=this._findMatchesInLine(Z,D.getLineContent(oe),oe,0,j,$,P,k);if(j<k){const oe=D.getLineContent(I.endLineNumber).substring(0,I.endColumn-1);j=this._findMatchesInLine(Z,oe,I.endLineNumber,0,j,$,P,k)}return $}static _findMatchesInLine(D,I,Z,P,k,$,j,G){const oe=D.wordSeparators;if(!j&&D.simpleSearch){const pe=D.simpleSearch,we=pe.length,ge=I.length;let Q=-we;for(;-1!==(Q=I.indexOf(pe,Q+we));)if((!oe||f(oe,I,ge,Q,we))&&($[k++]=new E.tk(new B.e(Z,Q+1+P,Z,Q+1+we+P),null),k>=G))return k;return k}const de=new N(D.wordSeparators,D.regex);let fe;de.reset(0);do{if(fe=de.next(I),fe&&($[k++]=T(new B.e(Z,fe.index+1+P,Z,fe.index+1+fe[0].length+P),fe,j),k>=G))return k}while(fe);return k}static findNextMatch(D,I,Z,P){const k=I.parseSearchRequest();if(!k)return null;const $=new N(k.wordSeparators,k.regex);return k.regex.multiline?this._doFindNextMatchMultiline(D,Z,$,P):this._doFindNextMatchLineByLine(D,Z,$,P)}static _doFindNextMatchMultiline(D,I,Z,P){const k=new Y.L(I.lineNumber,1),$=D.getOffsetAt(k),j=D.getLineCount(),G=D.getValueInRange(new B.e(k.lineNumber,k.column,j,D.getLineMaxColumn(j)),1),oe="\r\n"===D.getEOL()?new S(G):null;Z.reset(I.column-1);let de=Z.next(G);return de?T(this._getMultilineMatchRange(D,$,G,oe,de.index,de[0]),de,P):1!==I.lineNumber||1!==I.column?this._doFindNextMatchMultiline(D,new Y.L(1,1),Z,P):null}static _doFindNextMatchLineByLine(D,I,Z,P){const k=D.getLineCount(),$=I.lineNumber,j=D.getLineContent($),G=this._findFirstMatchInLine(Z,j,$,I.column,P);if(G)return G;for(let oe=1;oe<=k;oe++){const de=($+oe-1)%k,fe=D.getLineContent(de+1),pe=this._findFirstMatchInLine(Z,fe,de+1,1,P);if(pe)return pe}return null}static _findFirstMatchInLine(D,I,Z,P,k){D.reset(P-1);const $=D.next(I);return $?T(new B.e(Z,$.index+1,Z,$.index+1+$[0].length),$,k):null}static findPreviousMatch(D,I,Z,P){const k=I.parseSearchRequest();if(!k)return null;const $=new N(k.wordSeparators,k.regex);return k.regex.multiline?this._doFindPreviousMatchMultiline(D,Z,$,P):this._doFindPreviousMatchLineByLine(D,Z,$,P)}static _doFindPreviousMatchMultiline(D,I,Z,P){const k=this._doFindMatchesMultiline(D,new B.e(1,1,I.lineNumber,I.column),Z,P,9990);if(k.length>0)return k[k.length-1];const $=D.getLineCount();return I.lineNumber!==$||I.column!==D.getLineMaxColumn($)?this._doFindPreviousMatchMultiline(D,new Y.L($,D.getLineMaxColumn($)),Z,P):null}static _doFindPreviousMatchLineByLine(D,I,Z,P){const k=D.getLineCount(),$=I.lineNumber,j=D.getLineContent($).substring(0,I.column-1),G=this._findLastMatchInLine(Z,j,$,P);if(G)return G;for(let oe=1;oe<=k;oe++){const de=(k+$-oe-1)%k,fe=D.getLineContent(de+1),pe=this._findLastMatchInLine(Z,fe,de+1,P);if(pe)return pe}return null}static _findLastMatchInLine(D,I,Z,P){let $,k=null;for(D.reset(0);$=D.next(I);)k=T(new B.e(Z,$.index+1,Z,$.index+1+$[0].length),$,P);return k}}function f(z,D,I,Z,P){return function(z,D,I,Z,P){if(0===Z)return!0;const k=D.charCodeAt(Z-1);if(0!==z.get(k)||13===k||10===k)return!0;if(P>0){const $=D.charCodeAt(Z);if(0!==z.get($))return!0}return!1}(z,D,0,Z,P)&&function(z,D,I,Z,P){if(Z+P===I)return!0;const k=D.charCodeAt(Z+P);if(0!==z.get(k)||13===k||10===k)return!0;if(P>0){const $=D.charCodeAt(Z+P-1);if(0!==z.get($))return!0}return!1}(z,D,I,Z,P)}class N{constructor(D,I){this._wordSeparators=D,this._searchRegex=I,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(D){this._searchRegex.lastIndex=D,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(D){const I=D.length;let Z;do{if(this._prevMatchStartIndex+this._prevMatchLength===I||(Z=this._searchRegex.exec(D),!Z))return null;const P=Z.index,k=Z[0].length;if(P===this._prevMatchStartIndex&&k===this._prevMatchLength){if(0===k){M.ZH(D,I,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=P,this._prevMatchLength=k,!this._wordSeparators||f(this._wordSeparators,D,I,P,k))return Z}while(Z);return null}}},50817:(Be,Me,m)=>{function M(g,Y){let B=0,E=0;const i=g.length;for(;E<i;){const O=g.charCodeAt(E);if(32===O)B++;else{if(9!==O)break;B=B-B%Y+Y}E++}return E===i?-1:B}m.d(Me,{q:()=>M})},78339:(Be,Me,m)=>{m.d(Me,{p:()=>Y});const Y=(0,m(43569).yh)("editorWorkerService")},82437:(Be,Me,m)=>{m.d(Me,{OG:()=>de,ML:()=>k,KO:()=>G,Jc:()=>Z,Vl:()=>z,Vj:()=>D});var M=m(66607),g=m(13226),Y=m(85459),B=m(39067),E=m(10467),i=m(99770),O=m(90386),F=m(70700);function C(fe){const pe=new Uint32Array(function(fe){let pe=0;if(pe+=2,"full"===fe.type)pe+=1+fe.data.length;else{pe+=1,pe+=3*fe.deltas.length;for(const we of fe.deltas)we.data&&(pe+=we.data.length)}return pe}(fe));let we=0;if(pe[we++]=fe.id,"full"===fe.type)pe[we++]=1,pe[we++]=fe.data.length,pe.set(fe.data,we),we+=fe.data.length;else{pe[we++]=2,pe[we++]=fe.deltas.length;for(const ge of fe.deltas)pe[we++]=ge.start,pe[we++]=ge.deleteCount,ge.data?(pe[we++]=ge.data.length,pe.set(ge.data,we),we+=ge.data.length):pe[we++]=0}return function(fe){const pe=new Uint8Array(fe.buffer,fe.byteOffset,4*fe.length);return F.r()||function(fe){for(let pe=0,we=fe.length;pe<we;pe+=4){const ge=fe[pe+0],Q=fe[pe+1],q=fe[pe+2];fe[pe+0]=fe[pe+3],fe[pe+1]=q,fe[pe+2]=Q,fe[pe+3]=ge}}(pe),O.KN.wrap(pe)}(pe)}var L=m(1873),f=m(3494),N=function(fe,pe,we,ge){return new(we||(we=Promise))(function(q,le){function ee(ce){try{re(ge.next(ce))}catch(ve){le(ve)}}function X(ce){try{re(ge.throw(ce))}catch(ve){le(ve)}}function re(ce){ce.done?q(ce.value):function(q){return q instanceof we?q:new we(function(le){le(q)})}(ce.value).then(ee,X)}re((ge=ge.apply(fe,pe||[])).next())})};function z(fe){return fe&&!!fe.data}function D(fe){return fe&&Array.isArray(fe.edits)}class I{constructor(pe,we,ge){this.provider=pe,this.tokens=we,this.error=ge}}function Z(fe,pe){return fe.has(pe)}function k(fe,pe,we,ge,Q){return N(this,void 0,void 0,function*(){const q=function(fe,pe){const we=fe.orderedGroups(pe);return we.length>0?we[0]:[]}(fe,pe),le=yield Promise.all(q.map(ee=>N(this,void 0,void 0,function*(){let X,re=null;try{X=yield ee.provideDocumentSemanticTokens(pe,ee===we?ge:null,Q)}catch(ce){re=ce,X=null}return(!X||!z(X)&&!D(X))&&(X=null),new I(ee,X,re)})));for(const ee of le){if(ee.error)throw ee.error;if(ee.tokens)return ee}return le.length>0?le[0]:null})}class j{constructor(pe,we){this.provider=pe,this.tokens=we}}function G(fe,pe){return fe.has(pe)}function oe(fe,pe){const we=fe.orderedGroups(pe);return we.length>0?we[0]:[]}function de(fe,pe,we,ge){return N(this,void 0,void 0,function*(){const Q=oe(fe,pe),q=yield Promise.all(Q.map(le=>N(this,void 0,void 0,function*(){let ee;try{ee=yield le.provideDocumentRangeSemanticTokens(pe,we,ge)}catch(X){(0,g.Cp)(X),ee=null}return(!ee||!z(ee))&&(ee=null),new j(le,ee)})));for(const le of q)if(le.tokens)return le;return q.length>0?q[0]:null})}E.P0.registerCommand("_provideDocumentSemanticTokensLegend",(fe,...pe)=>N(void 0,void 0,void 0,function*(){const[we]=pe;(0,i.p_)(we instanceof Y.o);const ge=fe.get(B.q).getModel(we);if(!ge)return;const{documentSemanticTokensProvider:Q}=fe.get(f.p),q=function(fe,pe){const we=fe.orderedGroups(pe);return we.length>0?we[0]:null}(Q,ge);return q?q[0].getLegend():fe.get(E.Hy).executeCommand("_provideDocumentRangeSemanticTokensLegend",we)})),E.P0.registerCommand("_provideDocumentSemanticTokens",(fe,...pe)=>N(void 0,void 0,void 0,function*(){const[we]=pe;(0,i.p_)(we instanceof Y.o);const ge=fe.get(B.q).getModel(we);if(!ge)return;const{documentSemanticTokensProvider:Q}=fe.get(f.p);if(!Z(Q,ge))return fe.get(E.Hy).executeCommand("_provideDocumentRangeSemanticTokens",we,ge.getFullModelRange());const q=yield k(Q,ge,null,null,M.T.None);if(!q)return;const{provider:le,tokens:ee}=q;if(!ee||!z(ee))return;const X=C({id:0,type:"full",data:ee.data});return ee.resultId&&le.releaseDocumentSemanticTokens(ee.resultId),X})),E.P0.registerCommand("_provideDocumentRangeSemanticTokensLegend",(fe,...pe)=>N(void 0,void 0,void 0,function*(){const[we,ge]=pe;(0,i.p_)(we instanceof Y.o);const Q=fe.get(B.q).getModel(we);if(!Q)return;const{documentRangeSemanticTokensProvider:q}=fe.get(f.p),le=oe(q,Q);if(0===le.length)return;if(1===le.length)return le[0].getLegend();if(!ge||!L.e.isIRange(ge))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),le[0].getLegend();const ee=yield de(q,Q,L.e.lift(ge),M.T.None);return ee?ee.provider.getLegend():void 0})),E.P0.registerCommand("_provideDocumentRangeSemanticTokens",(fe,...pe)=>N(void 0,void 0,void 0,function*(){const[we,ge]=pe;(0,i.p_)(we instanceof Y.o),(0,i.p_)(L.e.isIRange(ge));const Q=fe.get(B.q).getModel(we);if(!Q)return;const{documentRangeSemanticTokensProvider:q}=fe.get(f.p),le=yield de(q,Q,L.e.lift(ge),M.T.None);return le&&le.tokens?C({id:0,type:"full",data:le.tokens.data}):void 0}))},85034:(Be,Me,m)=>{m.d(Me,{A:()=>T});var M=m(11791),g=m(33439),Y=m(31096),B=m(26033),E=m(43569),i=m(2646);const T=(0,E.yh)("ILanguageFeatureDebounceService");var S;!function(L){const f=new WeakMap;let N=0;L.of=function(D){let I=f.get(D);return void 0===I&&(I=++N,f.set(D,I)),I}}(S||(S={}));class C{constructor(f,N,z,D,I,Z){this._logService=f,this._name=N,this._registry=z,this._default=D,this._min=I,this._max=Z,this._cache=new g.z6(50,.7)}_key(f){return f.id+this._registry.all(f).reduce((N,z)=>(0,M.SP)(S.of(z),N),0)}get(f){const N=this._key(f),z=this._cache.get(N);return z?(0,Y.uZ)(z.value,this._min,this._max):this.default()}update(f,N){const z=this._key(f);let D=this._cache.get(z);D||(D=new Y.N(6),this._cache.set(z,D));const I=(0,Y.uZ)(D.update(N),this._min,this._max);return this._logService.trace(`[DEBOUNCE: ${this._name}] for ${f.uri.toString()} is ${I}ms`),I}_overall(){const f=new Y.nM;for(const[,N]of this._cache)f.update(N.value);return f.value}default(){const f=0|this._overall()||this._default;return(0,Y.uZ)(f,this._min,this._max)}}let b=class{constructor(f){this._logService=f,this._data=new Map}for(f,N,z){var D,I,Z;const P=null!==(D=null==z?void 0:z.min)&&void 0!==D?D:50,k=null!==(I=null==z?void 0:z.max)&&void 0!==I?I:Math.pow(P,2),$=null!==(Z=null==z?void 0:z.key)&&void 0!==Z?Z:void 0,j=`${S.of(f)},${P}${$?","+$:""}`;let G=this._data.get(j);return G||(G=new C(this._logService,N,f,0|this._overallAverage()||1.5*P,P,k),this._data.set(j,G)),G}_overallAverage(){let f=new Y.nM;for(let N of this._data.values())f.update(N.default());return f.value}};var f;b=function(L,f,N,z){var Z,D=arguments.length,I=D<3?f:null===z?z=Object.getOwnPropertyDescriptor(f,N):z;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)I=Reflect.decorate(L,f,N,z);else for(var P=L.length-1;P>=0;P--)(Z=L[P])&&(I=(D<3?Z(I):D>3?Z(f,N,I):Z(f,N))||I);return D>3&&I&&Object.defineProperty(f,N,I),I}([(0,f=i.VZ,function(N,z){f(N,z,0)})],b),(0,B.z)(T,b,!0)},3494:(Be,Me,m)=>{m.d(Me,{p:()=>g});const g=(0,m(43569).yh)("ILanguageFeaturesService")},64757:(Be,Me,m)=>{m.d(Me,{i:()=>g});const g=(0,m(43569).yh)("markerDecorationsService")},39067:(Be,Me,m)=>{m.d(Me,{q:()=>g});const g=(0,m(43569).yh)("modelService")},18548:(Be,Me,m)=>{m.d(Me,{b$:()=>ee,e3:()=>X,tw:()=>re});var M=m(71040),g=m(40189),Y=m(70700),B=m(13226),E=m(45023),i=m(27870),O=m(12282),F=m(80810),T=m(39067),S=m(34276),C=m(13011),b=m(89983),L=m(66607),f=m(53323),N=m(2646),z=m(10352),D=m(11791),I=m(40822),Z=m(98318),P=m(31128),k=m(82437),$=m(60842),j=m(92119),G=m(85034),oe=m(39932),de=m(3494),fe=function(Ue,ue,_e,Re){var Pe,et=arguments.length,Ze=et<3?ue:null===Re?Re=Object.getOwnPropertyDescriptor(ue,_e):Re;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ze=Reflect.decorate(Ue,ue,_e,Re);else for(var rt=Ue.length-1;rt>=0;rt--)(Pe=Ue[rt])&&(Ze=(et<3?Pe(Ze):et>3?Pe(ue,_e,Ze):Pe(ue,_e))||Ze);return et>3&&Ze&&Object.defineProperty(ue,_e,Ze),Ze},pe=function(Ue,ue){return function(_e,Re){ue(_e,Re,Ue)}};function we(Ue){return Ue.toString()}function ge(Ue){const ue=new D.yP,_e=Ue.createSnapshot();let Re;for(;Re=_e.read();)ue.update(Re);return ue.digest()}class Q{constructor(ue,_e,Re){this._modelEventListeners=new g.SL,this.model=ue,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(ue.onWillDispose(()=>_e(ue))),this._modelEventListeners.add(ue.onDidChangeLanguage(et=>Re(ue,et)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(ue){this._disposeLanguageSelection(),this._languageSelection=ue,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(ue.languageId)),this.model.setMode(ue.languageId)}}const q=Y.IJ||Y.dz?1:2;class le{constructor(ue,_e,Re,et,Ze,Pe,rt,ut){this.uri=ue,this.initialUndoRedoSnapshot=_e,this.time=Re,this.sharesUndoRedoStack=et,this.heapSize=Ze,this.sha1=Pe,this.versionId=rt,this.alternativeVersionId=ut}}let ee=class bg extends g.JT{constructor(ue,_e,Re,et,Ze,Pe,rt,ut,nt){super(),this._configurationService=ue,this._resourcePropertiesService=_e,this._themeService=Re,this._logService=et,this._undoRedoService=Ze,this._languageService=Pe,this._languageConfigurationService=rt,this._languageFeatureDebounceService=ut,this._onModelAdded=this._register(new M.Q5),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new M.Q5),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new M.Q5),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new ve(this._themeService,this._languageService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new ce(this._semanticStyling,this,this._themeService,this._configurationService,this._languageFeatureDebounceService,nt))}static _readModelOptions(ue,_e){var Re;let et=i.D.tabSize;if(ue.editor&&void 0!==ue.editor.tabSize){const _t=parseInt(ue.editor.tabSize,10);isNaN(_t)||(et=_t),et<1&&(et=1)}let Ze=et;if(ue.editor&&void 0!==ue.editor.indentSize&&"tabSize"!==ue.editor.indentSize){const _t=parseInt(ue.editor.indentSize,10);isNaN(_t)||(Ze=_t),Ze<1&&(Ze=1)}let Pe=i.D.insertSpaces;ue.editor&&void 0!==ue.editor.insertSpaces&&(Pe="false"!==ue.editor.insertSpaces&&Boolean(ue.editor.insertSpaces));let rt=q;const ut=ue.eol;"\r\n"===ut?rt=2:"\n"===ut&&(rt=1);let nt=i.D.trimAutoWhitespace;ue.editor&&void 0!==ue.editor.trimAutoWhitespace&&(nt="false"!==ue.editor.trimAutoWhitespace&&Boolean(ue.editor.trimAutoWhitespace));let Se=i.D.detectIndentation;ue.editor&&void 0!==ue.editor.detectIndentation&&(Se="false"!==ue.editor.detectIndentation&&Boolean(ue.editor.detectIndentation));let Ne=i.D.largeFileOptimizations;ue.editor&&void 0!==ue.editor.largeFileOptimizations&&(Ne="false"!==ue.editor.largeFileOptimizations&&Boolean(ue.editor.largeFileOptimizations));let at=i.D.bracketPairColorizationOptions;return(null===(Re=ue.editor)||void 0===Re?void 0:Re.bracketPairColorization)&&"object"==typeof ue.editor.bracketPairColorization&&(at={enabled:!!ue.editor.bracketPairColorization.enabled}),{isForSimpleWidget:_e,tabSize:et,indentSize:Ze,insertSpaces:Pe,detectIndentation:Se,defaultEOL:rt,trimAutoWhitespace:nt,largeFileOptimizations:Ne,bracketPairColorizationOptions:at}}_getEOL(ue,_e){if(ue)return this._resourcePropertiesService.getEOL(ue,_e);const Re=this._configurationService.getValue("files.eol",{overrideIdentifier:_e});return Re&&"string"==typeof Re&&"auto"!==Re?Re:3===Y.OS||2===Y.OS?"\n":"\r\n"}_shouldRestoreUndoStack(){const ue=this._configurationService.getValue("files.restoreUndoStack");return"boolean"!=typeof ue||ue}getCreationOptions(ue,_e,Re){let et=this._modelCreationOptionsByLanguageAndResource[ue+_e];if(!et){const Ze=this._configurationService.getValue("editor",{overrideIdentifier:ue,resource:_e}),Pe=this._getEOL(_e,ue);et=bg._readModelOptions({editor:Ze,eol:Pe},Re),this._modelCreationOptionsByLanguageAndResource[ue+_e]=et}return et}_updateModelOptions(){const ue=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const _e=Object.keys(this._models);for(let Re=0,et=_e.length;Re<et;Re++){const Pe=this._models[_e[Re]],rt=Pe.model.getLanguageId(),ut=Pe.model.uri,nt=ue[rt+ut],Se=this.getCreationOptions(rt,ut,Pe.model.isForSimpleWidget);bg._setModelOptionsForModel(Pe.model,Se,nt)}}static _setModelOptionsForModel(ue,_e,Re){Re&&Re.defaultEOL!==_e.defaultEOL&&1===ue.getLineCount()&&ue.setEOL(1===_e.defaultEOL?0:1),(!Re||Re.detectIndentation!==_e.detectIndentation||Re.insertSpaces!==_e.insertSpaces||Re.tabSize!==_e.tabSize||Re.indentSize!==_e.indentSize||Re.trimAutoWhitespace!==_e.trimAutoWhitespace||!(0,$.fS)(Re.bracketPairColorizationOptions,_e.bracketPairColorizationOptions))&&(_e.detectIndentation?(ue.detectIndentation(_e.insertSpaces,_e.tabSize),ue.updateOptions({trimAutoWhitespace:_e.trimAutoWhitespace,bracketColorizationOptions:_e.bracketPairColorizationOptions})):ue.updateOptions({insertSpaces:_e.insertSpaces,tabSize:_e.tabSize,indentSize:_e.indentSize,trimAutoWhitespace:_e.trimAutoWhitespace,bracketColorizationOptions:_e.bracketPairColorizationOptions}))}_insertDisposedModel(ue){this._disposedModels.set(we(ue.uri),ue),this._disposedModelsHeapSize+=ue.heapSize}_removeDisposedModel(ue){const _e=this._disposedModels.get(we(ue));return _e&&(this._disposedModelsHeapSize-=_e.heapSize),this._disposedModels.delete(we(ue)),_e}_ensureDisposedModelsHeapSize(ue){if(this._disposedModelsHeapSize>ue){const _e=[];for(this._disposedModels.forEach(Re=>{Re.sharesUndoRedoStack||_e.push(Re)}),_e.sort((Re,et)=>Re.time-et.time);_e.length>0&&this._disposedModelsHeapSize>ue;){const Re=_e.shift();this._removeDisposedModel(Re.uri),null!==Re.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(Re.initialUndoRedoSnapshot)}}}_createModelData(ue,_e,Re,et){const Ze=this.getCreationOptions(_e,Re,et),Pe=new E.yO(ue,_e,Ze,Re,this._undoRedoService,this._languageService,this._languageConfigurationService);if(Re&&this._disposedModels.has(we(Re))){const nt=this._removeDisposedModel(Re),Se=this._undoRedoService.getElements(Re),Ne=ge(Pe)===nt.sha1;if(Ne||nt.sharesUndoRedoStack){for(const at of Se.past)(0,I.e9)(at)&&at.matchesResource(Re)&&at.setModel(Pe);for(const at of Se.future)(0,I.e9)(at)&&at.matchesResource(Re)&&at.setModel(Pe);this._undoRedoService.setElementsValidFlag(Re,!0,at=>(0,I.e9)(at)&&at.matchesResource(Re)),Ne&&(Pe._overwriteVersionId(nt.versionId),Pe._overwriteAlternativeVersionId(nt.alternativeVersionId),Pe._overwriteInitialUndoRedoSnapshot(nt.initialUndoRedoSnapshot))}else null!==nt.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(nt.initialUndoRedoSnapshot)}const rt=we(Pe.uri);if(this._models[rt])throw new Error("ModelService: Cannot add model because it already exists!");const ut=new Q(Pe,nt=>this._onWillDispose(nt),(nt,Se)=>this._onDidChangeLanguage(nt,Se));return this._models[rt]=ut,ut}createModel(ue,_e,Re,et=!1){let Ze;return _e?(Ze=this._createModelData(ue,_e.languageId,Re,et),this.setMode(Ze.model,_e)):Ze=this._createModelData(ue,O.bd,Re,et),this._onModelAdded.fire(Ze.model),Ze.model}setMode(ue,_e){if(!_e)return;const Re=this._models[we(ue.uri)];!Re||Re.setLanguage(_e)}getModels(){const ue=[],_e=Object.keys(this._models);for(let Re=0,et=_e.length;Re<et;Re++)ue.push(this._models[_e[Re]].model);return ue}getModel(ue){const _e=we(ue),Re=this._models[_e];return Re?Re.model:null}getSemanticTokensProviderStyling(ue){return this._semanticStyling.get(ue)}_schemaShouldMaintainUndoRedoElements(ue){return ue.scheme===Z.lg.file||ue.scheme===Z.lg.vscodeRemote||ue.scheme===Z.lg.userData||ue.scheme===Z.lg.vscodeNotebookCell||"fake-fs"===ue.scheme}_onWillDispose(ue){const _e=we(ue.uri),Re=this._models[_e],et=this._undoRedoService.getUriComparisonKey(ue.uri)!==ue.uri.toString();let Ze=!1,Pe=0;if(et||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(ue.uri)){const ut=this._undoRedoService.getElements(ue.uri);if(ut.past.length>0||ut.future.length>0){for(const nt of ut.past)(0,I.e9)(nt)&&nt.matchesResource(ue.uri)&&(Ze=!0,Pe+=nt.heapSize(ue.uri),nt.setModel(ue.uri));for(const nt of ut.future)(0,I.e9)(nt)&&nt.matchesResource(ue.uri)&&(Ze=!0,Pe+=nt.heapSize(ue.uri),nt.setModel(ue.uri))}}const rt=bg.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(Ze)if(!et&&Pe>rt){const ut=Re.model.getInitialUndoRedoSnapshot();null!==ut&&this._undoRedoService.restoreSnapshot(ut)}else this._ensureDisposedModelsHeapSize(rt-Pe),this._undoRedoService.setElementsValidFlag(ue.uri,!1,ut=>(0,I.e9)(ut)&&ut.matchesResource(ue.uri)),this._insertDisposedModel(new le(ue.uri,Re.model.getInitialUndoRedoSnapshot(),Date.now(),et,Pe,ge(ue),ue.getVersionId(),ue.getAlternativeVersionId()));else if(!et){const ut=Re.model.getInitialUndoRedoSnapshot();null!==ut&&this._undoRedoService.restoreSnapshot(ut)}delete this._models[_e],Re.dispose(),delete this._modelCreationOptionsByLanguageAndResource[ue.getLanguageId()+ue.uri],this._onModelRemoved.fire(ue)}_onDidChangeLanguage(ue,_e){const Re=_e.oldLanguage,et=ue.getLanguageId(),Ze=this.getCreationOptions(Re,ue.uri,ue.isForSimpleWidget),Pe=this.getCreationOptions(et,ue.uri,ue.isForSimpleWidget);bg._setModelOptionsForModel(ue,Pe,Ze),this._onModelModeChanged.fire({model:ue,oldLanguageId:Re})}};ee.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20971520,ee=fe([pe(0,C.Ui),pe(1,S.y),pe(2,f.XE),pe(3,N.VZ),pe(4,z.tJ),pe(5,F.O),pe(6,j.c_),pe(7,G.A),pe(8,de.p)],ee);const X="editor.semanticHighlighting";function re(Ue,ue,_e){var Re;const et=null===(Re=_e.getValue(X,{overrideIdentifier:Ue.getLanguageId(),resource:Ue.uri}))||void 0===Re?void 0:Re.enabled;return"boolean"==typeof et?et:ue.getColorTheme().semanticHighlighting}let ce=class extends g.JT{constructor(ue,_e,Re,et,Ze,Pe){super(),this._watchers=Object.create(null),this._semanticStyling=ue;const rt=Se=>{this._watchers[Se.uri.toString()]=new Ve(Se,this._semanticStyling,Re,Ze,Pe)},ut=(Se,Ne)=>{Ne.dispose(),delete this._watchers[Se.uri.toString()]},nt=()=>{for(let Se of _e.getModels()){const Ne=this._watchers[Se.uri.toString()];re(Se,Re,et)?Ne||rt(Se):Ne&&ut(Se,Ne)}};this._register(_e.onModelAdded(Se=>{re(Se,Re,et)&&rt(Se)})),this._register(_e.onModelRemoved(Se=>{const Ne=this._watchers[Se.uri.toString()];Ne&&ut(Se,Ne)})),this._register(et.onDidChangeConfiguration(Se=>{Se.affectsConfiguration(X)&&nt()})),this._register(Re.onDidColorThemeChange(nt))}};ce=fe([pe(1,T.q),pe(2,f.XE),pe(3,C.Ui),pe(4,G.A),pe(5,de.p)],ce);class ve extends g.JT{constructor(ue,_e,Re){super(),this._themeService=ue,this._languageService=_e,this._logService=Re,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(ue){return this._caches.has(ue)||this._caches.set(ue,new P.$(ue.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(ue)}}class ke{constructor(ue,_e,Re){this.provider=ue,this.resultId=_e,this.data=Re}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}let Ve=class mu extends g.JT{constructor(ue,_e,Re,et,Ze){super(),this._isDisposed=!1,this._model=ue,this._semanticStyling=_e,this._provider=Ze.documentSemanticTokensProvider,this._debounceInformation=et.for(this._provider,"DocumentSemanticTokens",{min:mu.REQUEST_MIN_DELAY,max:mu.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new b.pY(()=>this._fetchDocumentSemanticTokensNow(),mu.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const Pe=()=>{(0,g.B9)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const rt of this._provider.all(ue))"function"==typeof rt.onDidChange&&this._documentProvidersChangeListeners.push(rt.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};Pe(),this._register(this._provider.onDidChange(()=>{Pe(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(Re.onDidColorThemeChange(rt=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,k.Jc)(this._provider,this._model))return void(this._currentDocumentResponse&&this._model.setSemanticTokens(null,!1));const ue=new L.A,et=(0,k.ML)(this._provider,this._model,this._currentDocumentResponse?this._currentDocumentResponse.provider:null,this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,ue.token);this._currentDocumentRequestCancellationTokenSource=ue;const Ze=[],Pe=this._model.onDidChangeContent(ut=>{Ze.push(ut)}),rt=new oe.G(!1);et.then(ut=>{if(this._debounceInformation.update(this._model,rt.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,Pe.dispose(),ut){const{provider:nt,tokens:Se}=ut,Ne=this._semanticStyling.get(nt);this._setDocumentSemanticTokens(nt,Se||null,Ne,Ze)}else this._setDocumentSemanticTokens(null,null,null,Ze)},ut=>{ut&&(B.n2(ut)||"string"==typeof ut.message&&-1!==ut.message.indexOf("busy"))||B.dL(ut),this._currentDocumentRequestCancellationTokenSource=null,Pe.dispose(),Ze.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(ue,_e,Re,et,Ze){for(let Pe=0;Pe<Ze;Pe++)Re[et+Pe]=ue[_e+Pe]}_setDocumentSemanticTokens(ue,_e,Re,et){const Ze=this._currentDocumentResponse,Pe=()=>{et.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed)ue&&_e&&ue.releaseDocumentSemanticTokens(_e.resultId);else if(ue&&Re){if(!_e)return this._model.setSemanticTokens(null,!0),void Pe();if((0,k.Vj)(_e)){if(!Ze)return void this._model.setSemanticTokens(null,!0);if(0===_e.edits.length)_e={resultId:_e.resultId,data:Ze.data};else{let rt=0;for(const at of _e.edits)rt+=(at.data?at.data.length:0)-at.deleteCount;const ut=Ze.data,nt=new Uint32Array(ut.length+rt);let Se=ut.length,Ne=nt.length;for(let at=_e.edits.length-1;at>=0;at--){const _t=_e.edits[at],zt=Se-(_t.start+_t.deleteCount);zt>0&&(mu._copy(ut,Se-zt,nt,Ne-zt,zt),Ne-=zt),_t.data&&(mu._copy(_t.data,0,nt,Ne-_t.data.length,_t.data.length),Ne-=_t.data.length),Se=_t.start}Se>0&&mu._copy(ut,0,nt,0,Se),_e={resultId:_e.resultId,data:nt}}}if((0,k.Vl)(_e)){this._currentDocumentResponse=new ke(ue,_e.resultId,_e.data);const rt=(0,P.h)(_e,Re,this._model.getLanguageId());if(et.length>0)for(const ut of et)for(const nt of rt)for(const Se of ut.changes)nt.applyEdit(Se.range,Se.text);this._model.setSemanticTokens(rt,!0)}else this._model.setSemanticTokens(null,!0);Pe()}else this._model.setSemanticTokens(null,!1)}};Ve.REQUEST_MIN_DELAY=300,Ve.REQUEST_MAX_DELAY=2e3,Ve=fe([pe(2,f.XE),pe(3,G.A),pe(4,de.p)],Ve)},13591:(Be,Me,m)=>{m.d(Me,{S:()=>g});const g=(0,m(43569).yh)("textModelService")},31128:(Be,Me,m)=>{m.d(Me,{$:()=>L,h:()=>f});var M=m(33979),g=m(53323),Y=m(2646),B=m(67947),E=m(1873),i=m(34048);class O{constructor(I,Z){this._startLineNumber=I,this._tokens=Z,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}static create(I,Z){return new O(I,new F(Z))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(I){return this._startLineNumber<=I&&I<=this._endLineNumber?this._tokens.getLineTokens(I-this._startLineNumber):null}getRange(){const I=this._tokens.getRange();return I&&new E.e(this._startLineNumber+I.startLineNumber,I.startColumn,this._startLineNumber+I.endLineNumber,I.endColumn)}removeTokens(I){this._startLineNumber+=this._tokens.removeTokens(I.startLineNumber-this._startLineNumber,I.startColumn-1,I.endLineNumber-this._startLineNumber,I.endColumn-1),this._updateEndLineNumber()}split(I){const Z=I.startLineNumber-this._startLineNumber,P=I.endLineNumber-this._startLineNumber,[k,$,j]=this._tokens.split(Z,I.startColumn-1,P,I.endColumn-1);return[new O(this._startLineNumber,k),new O(this._startLineNumber+j,$)]}applyEdit(I,Z){const[P,k,$]=(0,i.Q)(Z);this.acceptEdit(I,P,k,$,Z.length>0?Z.charCodeAt(0):0)}acceptEdit(I,Z,P,k,$){this._acceptDeleteRange(I),this._acceptInsertText(new B.L(I.startLineNumber,I.startColumn),Z,P,k,$),this._updateEndLineNumber()}_acceptDeleteRange(I){if(I.startLineNumber===I.endLineNumber&&I.startColumn===I.endColumn)return;const Z=I.startLineNumber-this._startLineNumber,P=I.endLineNumber-this._startLineNumber;if(P<0)return void(this._startLineNumber-=P-Z);const k=this._tokens.getMaxDeltaLine();if(!(Z>=k+1)){if(Z<0&&P>=k+1)return this._startLineNumber=0,void this._tokens.clear();Z<0?(this._startLineNumber-=-Z,this._tokens.acceptDeleteRange(I.startColumn-1,0,0,P,I.endColumn-1)):this._tokens.acceptDeleteRange(0,Z,I.startColumn-1,P,I.endColumn-1)}}_acceptInsertText(I,Z,P,k,$){if(0===Z&&0===P)return;const j=I.lineNumber-this._startLineNumber;j<0?this._startLineNumber+=Z:j>=this._tokens.getMaxDeltaLine()+1||this._tokens.acceptInsertText(j,I.column-1,Z,P,k,$)}}class F{constructor(I){this._tokens=I,this._tokenCount=I.length/4}toString(I){const Z=[];for(let P=0;P<this._tokenCount;P++)Z.push(`(${this._getDeltaLine(P)+I},${this._getStartCharacter(P)}-${this._getEndCharacter(P)})`);return`[${Z.join(",")}]`}getMaxDeltaLine(){const I=this._getTokenCount();return 0===I?-1:this._getDeltaLine(I-1)}getRange(){const I=this._getTokenCount();if(0===I)return null;const Z=this._getStartCharacter(0),P=this._getDeltaLine(I-1),k=this._getEndCharacter(I-1);return new E.e(0,Z+1,P,k+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(I){return this._tokens[4*I]}_getStartCharacter(I){return this._tokens[4*I+1]}_getEndCharacter(I){return this._tokens[4*I+2]}isEmpty(){return 0===this._getTokenCount()}getLineTokens(I){let Z=0,P=this._getTokenCount()-1;for(;Z<P;){const k=Z+Math.floor((P-Z)/2),$=this._getDeltaLine(k);if($<I)Z=k+1;else{if(!($>I)){let j=k;for(;j>Z&&this._getDeltaLine(j-1)===I;)j--;let G=k;for(;G<P&&this._getDeltaLine(G+1)===I;)G++;return new T(this._tokens.subarray(4*j,4*G+4))}P=k-1}}return this._getDeltaLine(Z)===I?new T(this._tokens.subarray(4*Z,4*Z+4)):null}clear(){this._tokenCount=0}removeTokens(I,Z,P,k){const $=this._tokens,j=this._tokenCount;let G=0,oe=!1,de=0;for(let fe=0;fe<j;fe++){const pe=4*fe,we=$[pe],ge=$[pe+1],Q=$[pe+2],q=$[pe+3];if((we>I||we===I&&Q>=Z)&&(we<P||we===P&&ge<=k))oe=!0;else{if(0===G&&(de=we),oe){const le=4*G;$[le]=we-de,$[le+1]=ge,$[le+2]=Q,$[le+3]=q}G++}}return this._tokenCount=G,de}split(I,Z,P,k){const $=this._tokens,j=this._tokenCount,G=[],oe=[];let de=G,fe=0,pe=0;for(let we=0;we<j;we++){const ge=4*we,Q=$[ge],q=$[ge+1],le=$[ge+2],ee=$[ge+3];if(Q>I||Q===I&&le>=Z){if(Q<P||Q===P&&q<=k)continue;de!==oe&&(de=oe,fe=0,pe=Q)}de[fe++]=Q-pe,de[fe++]=q,de[fe++]=le,de[fe++]=ee}return[new F(new Uint32Array(G)),new F(new Uint32Array(oe)),pe]}acceptDeleteRange(I,Z,P,k,$){const j=this._tokens,G=this._tokenCount,oe=k-Z;let de=0,fe=!1;for(let pe=0;pe<G;pe++){const we=4*pe;let ge=j[we],Q=j[we+1],q=j[we+2];const le=j[we+3];if(ge<Z||ge===Z&&q<=P){de++;continue}if(ge===Z&&Q<P)ge===k&&q>$?q-=$-P:q=P;else if(ge===Z&&Q===P){if(!(ge===k&&q>$)){fe=!0;continue}q-=$-P}else if(ge<k||ge===k&&Q<$){if(!(ge===k&&q>$)){fe=!0;continue}ge===Z?(Q=P,q=Q+(q-$)):(Q=0,q=Q+(q-$))}else if(ge>k){if(0===oe&&!fe){de=G;break}ge-=oe}else{if(!(ge===k&&Q>=$))throw new Error("Not possible!");I&&0===ge&&(Q+=I,q+=I),ge-=oe,Q-=$-P,q-=$-P}const ee=4*de;j[ee]=ge,j[ee+1]=Q,j[ee+2]=q,j[ee+3]=le,de++}this._tokenCount=de}acceptInsertText(I,Z,P,k,$,j){const G=0===P&&1===k&&(j>=48&&j<=57||j>=65&&j<=90||j>=97&&j<=122),oe=this._tokens,de=this._tokenCount;for(let fe=0;fe<de;fe++){const pe=4*fe;let we=oe[pe],ge=oe[pe+1],Q=oe[pe+2];if(!(we<I||we===I&&Q<Z)){if(we===I&&Q===Z){if(!G)continue;Q+=1}else if(we===I&&ge<Z&&Z<Q)0===P?Q+=k:Q=Z;else{if(we===I&&ge===Z&&G)continue;if(we===I)if(we+=P,0===P)ge+=k,Q+=k;else{const q=Q-ge;ge=$+(ge-Z),Q=ge+q}else we+=P}oe[pe]=we,oe[pe+1]=ge,oe[pe+2]=Q}}}}class T{constructor(I){this._tokens=I}getCount(){return this._tokens.length/4}getStartCharacter(I){return this._tokens[4*I+1]}getEndCharacter(I){return this._tokens[4*I+2]}getMetadata(I){return this._tokens[4*I+3]}}var S=m(80810),b=function(D,I){return function(Z,P){I(Z,P,D)}};let L=class{constructor(I,Z,P,k){this._legend=I,this._themeService=Z,this._languageService=P,this._logService=k,this._hashTable=new z,this._hasWarnedOverlappingTokens=!1}getMetadata(I,Z,P){const k=this._languageService.languageIdCodec.encodeLanguageId(P),$=this._hashTable.get(I,Z,k);let j;if($)j=$.metadata,this._logService.getLevel()===Y.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${I} / ${Z}: foreground ${M.NX.getForeground(j)}, fontStyle ${M.NX.getFontStyle(j).toString(2)}`);else{let G=this._legend.tokenTypes[I];const oe=[];if(G){let de=Z;for(let pe=0;de>0&&pe<this._legend.tokenModifiers.length;pe++)1&de&&oe.push(this._legend.tokenModifiers[pe]),de>>=1;de>0&&this._logService.getLevel()===Y.in.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${Z.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),oe.push("not-in-legend"));const fe=this._themeService.getColorTheme().getTokenStyleMetadata(G,oe,P);void 0===fe?j=2147483647:(j=0,void 0!==fe.italic&&(j|=(fe.italic?1:0)<<10|1),void 0!==fe.bold&&(j|=(fe.bold?2:0)<<10|2),void 0!==fe.underline&&(j|=(fe.underline?4:0)<<10|4),void 0!==fe.strikethrough&&(j|=(fe.strikethrough?8:0)<<10|8),fe.foreground&&(j|=fe.foreground<<14|16),0===j&&(j=2147483647))}else this._logService.getLevel()===Y.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${I} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),j=2147483647,G="not-in-legend";this._hashTable.add(I,Z,k,j),this._logService.getLevel()===Y.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${I} (${G}) / ${Z} (${oe.join(" ")}): foreground ${M.NX.getForeground(j)}, fontStyle ${M.NX.getFontStyle(j).toString(2)}`)}return j}warnOverlappingSemanticTokens(I,Z){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${I}, column ${Z}`))}};function f(D,I,Z){const P=D.data,k=D.data.length/5|0,$=Math.max(Math.ceil(k/1024),400),j=[];let G=0,oe=1,de=0;for(;G<k;){const fe=G;let pe=Math.min(fe+$,k);if(pe<k){let re=pe;for(;re-1>fe&&0===P[5*re];)re--;if(re-1===fe){let ce=pe;for(;ce+1<k&&0===P[5*ce];)ce++;pe=ce}else pe=re}let we=new Uint32Array(4*(pe-fe)),ge=0,Q=0,q=0,le=0,ee=0;for(;G<pe;){const re=5*G,ce=P[re],ve=P[re+1],ke=oe+ce|0,Ve=0===ce?de+ve|0:ve,Ue=P[re+2],Re=I.getMetadata(P[re+3],P[re+4],Z);2147483647!==Re&&(0===Q&&(Q=ke),q===ke&&ee>Ve&&(I.warnOverlappingSemanticTokens(ke,Ve+1),le<Ve?we[ge-4+2]=Ve:ge-=4),we[ge]=ke-Q,we[ge+1]=Ve,we[ge+2]=Ve+Ue,we[ge+3]=Re,ge+=4,q=ke,le=Ve,ee=Ve+Ue),oe=ke,de=Ve,G++}ge!==we.length&&(we=we.subarray(0,ge));const X=O.create(Q,we);j.push(X)}return j}L=function(D,I,Z,P){var j,k=arguments.length,$=k<3?I:null===P?P=Object.getOwnPropertyDescriptor(I,Z):P;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)$=Reflect.decorate(D,I,Z,P);else for(var G=D.length-1;G>=0;G--)(j=D[G])&&($=(k<3?j($):k>3?j(I,Z,$):j(I,Z))||$);return k>3&&$&&Object.defineProperty(I,Z,$),$}([b(1,g.XE),b(2,S.O),b(3,Y.VZ)],L);class N{constructor(I,Z,P,k){this.tokenTypeIndex=I,this.tokenModifierSet=Z,this.languageId=P,this.metadata=k,this.next=null}}let z=(()=>{class D{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=D._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<D._SIZES.length?2/3*this._currentLength:0),this._elements=[],D._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(Z,P){for(let k=0;k<P;k++)Z[k]=null}_hash2(Z,P){return(Z<<5)-Z+P|0}_hashFunc(Z,P,k){return this._hash2(this._hash2(Z,P),k)%this._currentLength}get(Z,P,k){const $=this._hashFunc(Z,P,k);let j=this._elements[$];for(;j;){if(j.tokenTypeIndex===Z&&j.tokenModifierSet===P&&j.languageId===k)return j;j=j.next}return null}add(Z,P,k,$){if(this._elementsCount++,0!==this._growCount&&this._elementsCount>=this._growCount){const j=this._elements;this._currentLengthIndex++,this._currentLength=D._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<D._SIZES.length?2/3*this._currentLength:0),this._elements=[],D._nullOutEntries(this._elements,this._currentLength);for(const G of j){let oe=G;for(;oe;){const de=oe.next;oe.next=null,this._add(oe),oe=de}}}this._add(new N(Z,P,k,$))}_add(Z){const P=this._hashFunc(Z.tokenTypeIndex,Z.tokenModifierSet,Z.languageId);Z.next=this._elements[P],this._elements[P]=Z}}return D._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143],D})()},34276:(Be,Me,m)=>{m.d(Me,{V:()=>g,y:()=>Y});var M=m(43569);const g=(0,M.yh)("textResourceConfigurationService"),Y=(0,M.yh)("textResourcePropertiesService")},4263:(Be,Me,m)=>{m.d(Me,{a:()=>i});var M=m(1873),g=m(82711),Y=m(74243),B=m(99770),E=m(54745);class i{static computeUnicodeHighlights(C,b,L){const f=L?L.startLineNumber:1,N=L?L.endLineNumber:C.getLineCount(),z=new F(b),D=z.getCandidateCodePoints();let I;var S;I="allNonBasicAscii"===D?new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):new RegExp((S=Array.from(D),`[${Y.ec(S.map(L=>String.fromCodePoint(L)).join(""))}]`),"g");const Z=new g.sz(null,I),P=[];let $,k=!1,j=0,G=0,oe=0;e:for(let de=f,fe=N;de<=fe;de++){const pe=C.getLineContent(de),we=pe.length;Z.reset(0);do{if($=Z.next(pe),$){let ge=$.index,Q=$.index+$[0].length;if(ge>0){const X=pe.charCodeAt(ge-1);Y.ZG(X)&&ge--}if(Q+1<we){const X=pe.charCodeAt(Q-1);Y.ZG(X)&&Q++}const q=pe.substring(ge,Q),le=(0,E.t2)(ge+1,E.Af,pe,0),ee=z.shouldHighlightNonBasicASCII(q,le?le.word:null);if(0!==ee){if(3===ee?j++:2===ee?G++:1===ee?oe++:(0,B.vE)(ee),P.length>=1e3){k=!0;break e}P.push(new M.e(de,ge+1,de,Q+1))}}}while($)}return{ranges:P,hasMore:k,ambiguousCharacterCount:j,invisibleCharacterCount:G,nonBasicAsciiCharacterCount:oe}}static computeUnicodeHighlightReason(C,b){const L=new F(b);switch(L.shouldHighlightNonBasicASCII(C,null)){case 0:return null;case 2:return{kind:1};case 3:{const N=C.codePointAt(0),z=L.ambiguousCharacters.getPrimaryConfusable(N),D=Y.ZK.getLocales().filter(I=>!Y.ZK.getInstance(new Set([...b.allowedLocales,I])).isAmbiguous(N));return{kind:0,confusableWith:String.fromCodePoint(z),notAmbiguousInLocales:D}}case 1:return{kind:2}}}}class F{constructor(C){this.options=C,this.allowedCodePoints=new Set(C.allowedCodePoints),this.ambiguousCharacters=Y.ZK.getInstance(new Set(C.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const C=new Set;if(this.options.invisibleCharacters)for(const b of Y.vU.codePoints)T(String.fromCodePoint(b))||C.add(b);if(this.options.ambiguousCharacters)for(const b of this.ambiguousCharacters.getConfusableCodePoints())C.add(b);for(const b of this.allowedCodePoints)C.delete(b);return C}shouldHighlightNonBasicASCII(C,b){const L=C.codePointAt(0);if(this.allowedCodePoints.has(L))return 0;if(this.options.nonBasicASCII)return 1;let f=!1,N=!1;if(b)for(let z of b){const D=z.codePointAt(0),I=Y.$i(z);f=f||I,!I&&!this.ambiguousCharacters.isAmbiguous(D)&&!Y.vU.isInvisibleCharacter(D)&&(N=!0)}return!f&&N?0:this.options.invisibleCharacters&&!T(C)&&Y.vU.isInvisibleCharacter(L)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(L)?3:0}}function T(S){return" "===S||"\n"===S||"\t"===S}},1598:(Be,Me,m)=>{m.d(Me,{Oe:()=>g,ug:()=>Y,qq:()=>B,ld:()=>E,UX:()=>i,aq:()=>O,B8:()=>F,xi:()=>T,iN:()=>S});var g,C,Y,B,E,i,O,F,T,S,M=m(12918);(C=g||(g={})).noSelection=M.N("noSelection","No selection"),C.singleSelectionRange=M.N("singleSelectionRange","Line {0}, Column {1} ({2} selected)"),C.singleSelection=M.N("singleSelection","Line {0}, Column {1}"),C.multiSelectionRange=M.N("multiSelectionRange","{0} selections ({1} characters selected)"),C.multiSelection=M.N("multiSelection","{0} selections"),C.emergencyConfOn=M.N("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'."),C.openingDocs=M.N("openingDocs","Now opening the Editor Accessibility documentation page."),C.readonlyDiffEditor=M.N("readonlyDiffEditor"," in a read-only pane of a diff editor."),C.editableDiffEditor=M.N("editableDiffEditor"," in a pane of a diff editor."),C.readonlyEditor=M.N("readonlyEditor"," in a read-only code editor"),C.editableEditor=M.N("editableEditor"," in a code editor"),C.changeConfigToOnMac=M.N("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),C.changeConfigToOnWinLinux=M.N("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),C.auto_on=M.N("auto_on","The editor is configured to be optimized for usage with a Screen Reader."),C.auto_off=M.N("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),C.tabFocusModeOnMsg=M.N("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),C.tabFocusModeOnMsgNoKb=M.N("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),C.tabFocusModeOffMsg=M.N("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),C.tabFocusModeOffMsgNoKb=M.N("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),C.openDocMac=M.N("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."),C.openDocWinLinux=M.N("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility."),C.outroMsg=M.N("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),C.showAccessibilityHelpAction=M.N("showAccessibilityHelpAction","Show Accessibility Help"),function(C){C.inspectTokensAction=M.N("inspectTokens","Developer: Inspect Tokens")}(Y||(Y={})),function(C){C.gotoLineActionLabel=M.N("gotoLineActionLabel","Go to Line/Column...")}(B||(B={})),function(C){C.helpQuickAccessActionLabel=M.N("helpQuickAccess","Show all Quick Access Providers")}(E||(E={})),function(C){C.quickCommandActionLabel=M.N("quickCommandActionLabel","Command Palette"),C.quickCommandHelp=M.N("quickCommandActionHelp","Show And Run Commands")}(i||(i={})),function(C){C.quickOutlineActionLabel=M.N("quickOutlineActionLabel","Go to Symbol..."),C.quickOutlineByCategoryActionLabel=M.N("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")}(O||(O={})),function(C){C.editorViewAccessibleLabel=M.N("editorViewAccessibleLabel","Editor content"),C.accessibilityHelpMessage=M.N("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")}(F||(F={})),function(C){C.toggleHighContrast=M.N("toggleHighContrast","Toggle High Contrast Theme")}(T||(T={})),function(C){C.bulkEditServiceSummary=M.N("bulkEditServiceSummary","Made {0} edits in {1} files")}(S||(S={}))},87604:(Be,Me,m)=>{m.d(Me,{Jx:()=>M,gk:()=>g,rU:()=>Y,lN:()=>B,Tx:()=>E,CZ:()=>i,dQ:()=>O,D8:()=>F,fV:()=>T});class M{constructor(){this.changeType=1}}class g{constructor(C,b,L,f,N){this.ownerId=C,this.lineNumber=b,this.column=L,this.options=f,this.order=N}static applyInjectedText(C,b){if(!b||0===b.length)return C;let L="",f=0;for(const N of b)L+=C.substring(f,N.column-1),f=N.column-1,L+=N.options.content;return L+=C.substring(f),L}static fromDecorations(C){const b=[];for(const L of C)L.options.before&&L.options.before.content.length>0&&b.push(new g(L.ownerId,L.range.startLineNumber,L.range.startColumn,L.options.before,0)),L.options.after&&L.options.after.content.length>0&&b.push(new g(L.ownerId,L.range.endLineNumber,L.range.endColumn,L.options.after,1));return b.sort((L,f)=>L.lineNumber===f.lineNumber?L.column===f.column?L.order-f.order:L.column-f.column:L.lineNumber-f.lineNumber),b}}class Y{constructor(C,b,L){this.changeType=2,this.lineNumber=C,this.detail=b,this.injectedText=L}}class B{constructor(C,b){this.changeType=3,this.fromLineNumber=C,this.toLineNumber=b}}class E{constructor(C,b,L,f){this.changeType=4,this.injectedTexts=f,this.fromLineNumber=C,this.toLineNumber=b,this.detail=L}}class i{constructor(){this.changeType=5}}class O{constructor(C,b,L,f){this.changes=C,this.versionId=b,this.isUndoing=L,this.isRedoing=f,this.resultingSelection=null}containsEvent(C){for(let b=0,L=this.changes.length;b<L;b++)if(this.changes[b].changeType===C)return!0;return!1}static merge(C,b){const L=[].concat(C.changes).concat(b.changes);return new O(L,b.versionId,C.isUndoing||b.isUndoing,C.isRedoing||b.isRedoing)}}class F{constructor(C){this.changes=C}}class T{constructor(C,b){this.rawContentChangedEvent=C,this.contentChangedEvent=b}merge(C){const b=O.merge(this.rawContentChangedEvent,C.rawContentChangedEvent),L=T._mergeChangeEvents(this.contentChangedEvent,C.contentChangedEvent);return new T(b,L)}static _mergeChangeEvents(C,b){return{changes:[].concat(C.changes).concat(b.changes),eol:b.eol,versionId:b.versionId,isUndoing:C.isUndoing||b.isUndoing,isRedoing:C.isRedoing||b.isRedoing,isFlush:C.isFlush||b.isFlush}}}},13151:(Be,Me,m)=>{m.d(Me,{s6:()=>M,UO:()=>g,vW:()=>Y});var M=(()=>{return(B=M||(M={}))[B.Disabled=0]="Disabled",B[B.EnabledForActive=1]="EnabledForActive",B[B.Enabled=2]="Enabled",M;var B})();class g{constructor(E,i,O){this.visibleColumn=E,this.className=i,this.horizontalLine=O}}class Y{constructor(E,i){this.top=E,this.endColumn=i}}},5928:(Be,Me,m)=>{m.d(Me,{A:()=>g});var M=m(33979);let g=(()=>{class B{constructor(i,O,F){this._lineTokensBrand=void 0,this._tokens=i,this._tokensCount=this._tokens.length>>>1,this._text=O,this._languageIdCodec=F}static createEmpty(i,O){const F=B.defaultTokenMetadata,T=new Uint32Array(2);return T[0]=i.length,T[1]=F,new B(T,i,O)}equals(i){return i instanceof B&&this.slicedEquals(i,0,this._tokensCount)}slicedEquals(i,O,F){if(this._text!==i._text||this._tokensCount!==i._tokensCount)return!1;const T=O<<1,S=T+(F<<1);for(let C=T;C<S;C++)if(this._tokens[C]!==i._tokens[C])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(i){return i>0?this._tokens[i-1<<1]:0}getMetadata(i){return this._tokens[1+(i<<1)]}getLanguageId(i){const F=M.NX.getLanguageId(this._tokens[1+(i<<1)]);return this._languageIdCodec.decodeLanguageId(F)}getStandardTokenType(i){return M.NX.getTokenType(this._tokens[1+(i<<1)])}getForeground(i){return M.NX.getForeground(this._tokens[1+(i<<1)])}getClassName(i){return M.NX.getClassNameFromMetadata(this._tokens[1+(i<<1)])}getInlineStyle(i,O){return M.NX.getInlineStyleFromMetadata(this._tokens[1+(i<<1)],O)}getPresentation(i){return M.NX.getPresentationFromMetadata(this._tokens[1+(i<<1)])}getEndOffset(i){return this._tokens[i<<1]}findTokenIndexAtOffset(i){return B.findIndexInTokensArray(this._tokens,i)}inflate(){return this}sliceAndInflate(i,O,F){return new Y(this,i,O,F)}static convertToEndOffset(i,O){const T=(i.length>>>1)-1;for(let S=0;S<T;S++)i[S<<1]=i[S+1<<1];i[T<<1]=O}static findIndexInTokensArray(i,O){if(i.length<=2)return 0;let F=0,T=(i.length>>>1)-1;for(;F<T;){const S=F+Math.floor((T-F)/2),C=i[S<<1];if(C===O)return S+1;C<O?F=S+1:C>O&&(T=S)}return F}withInserted(i){if(0===i.length)return this;let O=0,F=0,T="";const S=new Array;let C=0;for(;;){const b=O<this._tokensCount?this._tokens[O<<1]:-1,L=F<i.length?i[F]:null;if(-1!==b&&(null===L||b<=L.offset))T+=this._text.substring(C,b),S.push(T.length,this._tokens[1+(O<<1)]),O++,C=b;else{if(!L)break;L.offset>C&&(T+=this._text.substring(C,L.offset),S.push(T.length,this._tokens[1+(O<<1)]),C=L.offset),T+=L.text,S.push(T.length,L.tokenMetadata),F++}}return new B(new Uint32Array(S),T,this._languageIdCodec)}}return B.defaultTokenMetadata=16793600,B})();class Y{constructor(E,i,O,F){this._source=E,this._startOffset=i,this._endOffset=O,this._deltaOffset=F,this._firstTokenIndex=E.findTokenIndexAtOffset(i),this._tokensCount=0;for(let T=this._firstTokenIndex,S=E.getCount();T<S&&!(E.getStartOffset(T)>=O);T++)this._tokensCount++}getMetadata(E){return this._source.getMetadata(this._firstTokenIndex+E)}getLanguageId(E){return this._source.getLanguageId(this._firstTokenIndex+E)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(E){return E instanceof Y&&this._startOffset===E._startOffset&&this._endOffset===E._endOffset&&this._deltaOffset===E._deltaOffset&&this._source.slicedEquals(E._source,this._firstTokenIndex,this._tokensCount)}getCount(){return this._tokensCount}getForeground(E){return this._source.getForeground(this._firstTokenIndex+E)}getEndOffset(E){const i=this._source.getEndOffset(this._firstTokenIndex+E);return Math.min(this._endOffset,i)-this._startOffset+this._deltaOffset}getClassName(E){return this._source.getClassName(this._firstTokenIndex+E)}getInlineStyle(E,i){return this._source.getInlineStyle(this._firstTokenIndex+E,i)}getPresentation(E){return this._source.getPresentation(this._firstTokenIndex+E)}findTokenIndexAtOffset(E){return this._source.findTokenIndexAtOffset(E+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}},82287:(Be,Me,m)=>{m.d(Me,{Kp:()=>g,k:()=>E});var M=m(74243);class g{constructor(O,F,T,S){this.startColumn=O,this.endColumn=F,this.className=T,this.type=S,this._lineDecorationBrand=void 0}static _equals(O,F){return O.startColumn===F.startColumn&&O.endColumn===F.endColumn&&O.className===F.className&&O.type===F.type}static equalsArr(O,F){const T=O.length;if(T!==F.length)return!1;for(let C=0;C<T;C++)if(!g._equals(O[C],F[C]))return!1;return!0}static extractWrapped(O,F,T){if(0===O.length)return O;const S=F+1,C=T+1,b=T-F,L=[];let f=0;for(const N of O)N.endColumn<=S||N.startColumn>=C||(L[f++]=new g(Math.max(1,N.startColumn-S+1),Math.min(b+1,N.endColumn-S+1),N.className,N.type));return L}static filter(O,F,T,S){if(0===O.length)return[];const C=[];let b=0;for(let L=0,f=O.length;L<f;L++){const N=O[L],z=N.range;z.endLineNumber<F||z.startLineNumber>F||z.isEmpty()&&(0===N.type||3===N.type)||(C[b++]=new g(z.startLineNumber===F?z.startColumn:T,z.endLineNumber===F?z.endColumn:S,N.inlineClassName,N.type))}return C}static _typeCompare(O,F){const T=[2,0,1,3];return T[O]-T[F]}static compare(O,F){if(O.startColumn!==F.startColumn)return O.startColumn-F.startColumn;if(O.endColumn!==F.endColumn)return O.endColumn-F.endColumn;const T=g._typeCompare(O.type,F.type);return 0!==T?T:O.className!==F.className?O.className<F.className?-1:1:0}}class Y{constructor(O,F,T,S){this.startOffset=O,this.endOffset=F,this.className=T,this.metadata=S}}class B{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(O){let F=0;for(let T=0,S=O.length;T<S;T++)F|=O[T];return F}consumeLowerThan(O,F,T){for(;this.count>0&&this.stopOffsets[0]<O;){let S=0;for(;S+1<this.count&&this.stopOffsets[S]===this.stopOffsets[S+1];)S++;T.push(new Y(F,this.stopOffsets[S],this.classNames.join(" "),B._metadata(this.metadata))),F=this.stopOffsets[S]+1,this.stopOffsets.splice(0,S+1),this.classNames.splice(0,S+1),this.metadata.splice(0,S+1),this.count-=S+1}return this.count>0&&F<O&&(T.push(new Y(F,O-1,this.classNames.join(" "),B._metadata(this.metadata))),F=O),F}insert(O,F,T){if(0===this.count||this.stopOffsets[this.count-1]<=O)this.stopOffsets.push(O),this.classNames.push(F),this.metadata.push(T);else for(let S=0;S<this.count;S++)if(this.stopOffsets[S]>=O){this.stopOffsets.splice(S,0,O),this.classNames.splice(S,0,F),this.metadata.splice(S,0,T);break}this.count++}}class E{static normalize(O,F){if(0===F.length)return[];const T=[],S=new B;let C=0;for(let b=0,L=F.length;b<L;b++){const f=F[b];let N=f.startColumn,z=f.endColumn;const D=f.className,I=1===f.type?2:2===f.type?4:0;if(N>1){const k=O.charCodeAt(N-2);M.ZG(k)&&N--}if(z>1){const k=O.charCodeAt(z-2);M.ZG(k)&&z--}const Z=N-1,P=z-2;C=S.consumeLowerThan(Z,C,T),0===S.count&&(C=Z),S.insert(P,D,I)}return S.consumeLowerThan(1073741824,C,T),T}}},19362:(Be,Me,m)=>{m.d(Me,{zG:()=>E,IJ:()=>i,Nd:()=>O,d1:()=>S,tF:()=>b});var M=m(74243),g=m(53269),Y=m(82287);class B{constructor(G,oe,de){this._linePartBrand=void 0,this.endIndex=G,this.type=oe,this.metadata=de}isWhitespace(){return!!(1&this.metadata)}isPseudoAfter(){return!!(4&this.metadata)}}class E{constructor(G,oe){this.startOffset=G,this.endOffset=oe}equals(G){return this.startOffset===G.startOffset&&this.endOffset===G.endOffset}}class i{constructor(G,oe,de,fe,pe,we,ge,Q,q,le,ee,X,re,ce,ve,ke,Ve,Ue,ue){this.useMonospaceOptimizations=G,this.canUseHalfwidthRightwardsArrow=oe,this.lineContent=de,this.continuesWithWrappedLine=fe,this.isBasicASCII=pe,this.containsRTL=we,this.fauxIndentLength=ge,this.lineTokens=Q,this.lineDecorations=q.sort(Y.Kp.compare),this.tabSize=le,this.startVisibleColumn=ee,this.spaceWidth=X,this.stopRenderingLineAfter=ve,this.renderWhitespace="all"===ke?4:"boundary"===ke?1:"selection"===ke?2:"trailing"===ke?3:0,this.renderControlCharacters=Ve,this.fontLigatures=Ue,this.selectionsOnLine=ue&&ue.sort((et,Ze)=>et.startOffset<Ze.startOffset?-1:1),Math.abs(ce-X)<Math.abs(re-X)?(this.renderSpaceWidth=ce,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=re,this.renderSpaceCharCode=183)}sameSelection(G){if(null===this.selectionsOnLine)return null===G;if(null===G||G.length!==this.selectionsOnLine.length)return!1;for(let oe=0;oe<this.selectionsOnLine.length;oe++)if(!this.selectionsOnLine[oe].equals(G[oe]))return!1;return!0}equals(G){return this.useMonospaceOptimizations===G.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===G.canUseHalfwidthRightwardsArrow&&this.lineContent===G.lineContent&&this.continuesWithWrappedLine===G.continuesWithWrappedLine&&this.isBasicASCII===G.isBasicASCII&&this.containsRTL===G.containsRTL&&this.fauxIndentLength===G.fauxIndentLength&&this.tabSize===G.tabSize&&this.startVisibleColumn===G.startVisibleColumn&&this.spaceWidth===G.spaceWidth&&this.renderSpaceWidth===G.renderSpaceWidth&&this.renderSpaceCharCode===G.renderSpaceCharCode&&this.stopRenderingLineAfter===G.stopRenderingLineAfter&&this.renderWhitespace===G.renderWhitespace&&this.renderControlCharacters===G.renderControlCharacters&&this.fontLigatures===G.fontLigatures&&Y.Kp.equalsArr(this.lineDecorations,G.lineDecorations)&&this.lineTokens.equals(G.lineTokens)&&this.sameSelection(G.selectionsOnLine)}}class O{constructor(G,oe){this.partIndex=G,this.charIndex=oe}}class F{constructor(G,oe){this.length=G,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}static getPartIndex(G){return(4294901760&G)>>>16}static getCharIndex(G){return(65535&G)>>>0}setColumnInfo(G,oe,de,fe){this._data[G-1]=(oe<<16|de<<0)>>>0,this._absoluteOffsets[G-1]=fe+de}getAbsoluteOffset(G){return 0===this._absoluteOffsets.length?0:this._absoluteOffsets[G-1]}charOffsetToPartData(G){return 0===this.length?0:G<0?this._data[0]:G>=this.length?this._data[this.length-1]:this._data[G]}getDomPosition(G){const oe=this.charOffsetToPartData(G-1),de=F.getPartIndex(oe),fe=F.getCharIndex(oe);return new O(de,fe)}getColumn(G,oe){return this.partDataToCharOffset(G.partIndex,oe,G.charIndex)+1}partDataToCharOffset(G,oe,de){if(0===this.length)return 0;const fe=(G<<16|de<<0)>>>0;let pe=0,we=this.length-1;for(;pe+1<we;){const ve=pe+we>>>1,ke=this._data[ve];if(ke===fe)return ve;ke>fe?we=ve:pe=ve}if(pe===we)return pe;const ge=this._data[pe],Q=this._data[we];if(ge===fe)return pe;if(Q===fe)return we;const q=F.getPartIndex(ge),le=F.getCharIndex(ge);let X;return X=q!==F.getPartIndex(Q)?oe:F.getCharIndex(Q),de-le<=X-de?pe:we}}class T{constructor(G,oe,de){this._renderLineOutputBrand=void 0,this.characterMapping=G,this.containsRTL=oe,this.containsForeignElements=de}}function S(j,G){if(0===j.lineContent.length){if(j.lineDecorations.length>0){G.appendASCIIString("<span>");let oe=0,de=0,fe=0;for(const we of j.lineDecorations)(1===we.type||2===we.type)&&(G.appendASCIIString('<span class="'),G.appendASCIIString(we.className),G.appendASCIIString('"></span>'),1===we.type&&(fe|=1,oe++),2===we.type&&(fe|=2,de++));G.appendASCIIString("</span>");const pe=new F(1,oe+de);return pe.setColumnInfo(1,oe,0,0),new T(pe,!1,fe)}return G.appendASCIIString("<span><span></span></span>"),new T(new F(0,0),!1,0)}return function(j,G){const oe=j.fontIsMonospace,de=j.canUseHalfwidthRightwardsArrow,fe=j.containsForeignElements,pe=j.lineContent,we=j.len,ge=j.isOverflowing,Q=j.parts,q=j.fauxIndentLength,le=j.tabSize,ee=j.startVisibleColumn,X=j.containsRTL,re=j.spaceWidth,ce=j.renderSpaceCharCode,ve=j.renderWhitespace,ke=j.renderControlCharacters,Ve=new F(we+1,Q.length);let Ue=!1,ue=0,_e=ee,Re=0,et=0,Ze=0,Pe=0;G.appendASCIIString(X?'<span dir="ltr">':"<span>");for(let rt=0,ut=Q.length;rt<ut;rt++){Pe+=Ze;const nt=Q[rt],Se=nt.endIndex,Ne=nt.type,at=0!==ve&&nt.isWhitespace(),_t=at&&!oe&&("mtkw"===Ne||!fe),zt=ue===Se&&nt.isPseudoAfter();if(Re=0,G.appendASCIIString('<span class="'),G.appendASCIIString(_t?"mtkz":Ne),G.appendASCII(34),at){let pn=0;{let mt=ue,Rt=_e;for(;mt<Se;mt++){const Wt=0|(9===pe.charCodeAt(mt)?le-Rt%le:1);pn+=Wt,mt>=q&&(Rt+=Wt)}}for(_t&&(G.appendASCIIString(' style="width:'),G.appendASCIIString(String(re*pn)),G.appendASCIIString('px"')),G.appendASCII(62);ue<Se;ue++){let Rt;if(Ve.setColumnInfo(ue+1,rt-et,Re,Pe),et=0,9===pe.charCodeAt(ue)){Rt=le-_e%le|0,G.write1(!de||Rt>1?8594:65515);for(let Bt=2;Bt<=Rt;Bt++)G.write1(160)}else Rt=1,G.write1(ce);Re+=Rt,ue>=q&&(_e+=Rt)}Ze=pn}else{let pn=0;for(G.appendASCII(62);ue<Se;ue++){Ve.setColumnInfo(ue+1,rt-et,Re,Pe),et=0;const mt=pe.charCodeAt(ue);let Rt=1,Bt=1;switch(mt){case 9:Rt=le-_e%le,Bt=Rt;for(let Wt=1;Wt<=Rt;Wt++)G.write1(160);break;case 32:G.write1(160);break;case 60:G.appendASCIIString("&lt;");break;case 62:G.appendASCIIString("&gt;");break;case 38:G.appendASCIIString("&amp;");break;case 0:ke?G.write1(9216):G.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:G.write1(65533);break;default:M.K7(mt)&&Bt++,ke&&mt<32?G.write1(9216+mt):ke&&127===mt?G.write1(9249):ke&&D(mt)?(G.appendASCIIString("[U+"),G.appendASCIIString($(mt)),G.appendASCIIString("]"),Rt=8):G.write1(mt)}Re+=Rt,pn+=Rt,ue>=q&&(_e+=Bt)}Ze=pn}zt?et++:et=0,ue>=we&&!Ue&&nt.isPseudoAfter()&&(Ue=!0,Ve.setColumnInfo(ue+1,rt,Re,Pe)),G.appendASCIIString("</span>")}return Ue||Ve.setColumnInfo(we+1,Q.length-1,Re,Pe),ge&&G.appendASCIIString("<span>&hellip;</span>"),G.appendASCIIString("</span>"),new T(Ve,X,fe)}(function(j){const G=j.lineContent;let oe,de;-1!==j.stopRenderingLineAfter&&j.stopRenderingLineAfter<G.length?(oe=!0,de=j.stopRenderingLineAfter):(oe=!1,de=G.length);let fe=function(j,G,oe){const de=[];let fe=0;G>0&&(de[fe++]=new B(G,"",0));for(let pe=0,we=j.getCount();pe<we;pe++){const ge=j.getEndOffset(pe);if(ge<=G)continue;const Q=j.getClassName(pe);if(ge>=oe){de[fe++]=new B(oe,Q,0);break}de[fe++]=new B(ge,Q,0)}return de}(j.lineTokens,j.fauxIndentLength,de);j.renderControlCharacters&&!j.isBasicASCII&&(fe=function(j,G){const oe=[];let de=new B(0,"",0),fe=0;for(const pe of G){const we=pe.endIndex;for(;fe<we;fe++)D(j.charCodeAt(fe))&&(fe>de.endIndex&&(de=new B(fe,pe.type,pe.metadata),oe.push(de)),de=new B(fe+1,"mtkcontrol",pe.metadata),oe.push(de));fe>de.endIndex&&(de=new B(we,pe.type,pe.metadata),oe.push(de))}return oe}(G,fe)),(4===j.renderWhitespace||1===j.renderWhitespace||2===j.renderWhitespace&&j.selectionsOnLine||3===j.renderWhitespace)&&(fe=function(j,G,oe,de){const fe=j.continuesWithWrappedLine,pe=j.fauxIndentLength,we=j.tabSize,ge=j.startVisibleColumn,Q=j.useMonospaceOptimizations,q=j.selectionsOnLine,le=1===j.renderWhitespace,ee=3===j.renderWhitespace,X=j.renderSpaceWidth!==j.spaceWidth,re=[];let ce=0,ve=0,ke=de[ve].type,Ve=de[ve].endIndex;const Ue=de.length;let Re,ue=!1,_e=M.LC(G);-1===_e?(ue=!0,_e=oe,Re=oe):Re=M.ow(G);let et=!1,Ze=0,Pe=q&&q[Ze],rt=ge%we;for(let nt=pe;nt<oe;nt++){const Se=G.charCodeAt(nt);let Ne;if(Pe&&nt>=Pe.endOffset&&(Ze++,Pe=q&&q[Ze]),nt<_e||nt>Re)Ne=!0;else if(9===Se)Ne=!0;else if(32===Se)if(le)if(et)Ne=!0;else{const at=nt+1<oe?G.charCodeAt(nt+1):0;Ne=32===at||9===at}else Ne=!0;else Ne=!1;if(Ne&&q&&(Ne=!!Pe&&Pe.startOffset<=nt&&Pe.endOffset>nt),Ne&&ee&&(Ne=ue||nt>Re),et){if(!Ne||!Q&&rt>=we){if(X)for(let _t=(ce>0?re[ce-1].endIndex:pe)+1;_t<=nt;_t++)re[ce++]=new B(_t,"mtkw",1);else re[ce++]=new B(nt,"mtkw",1);rt%=we}}else(nt===Ve||Ne&&nt>pe)&&(re[ce++]=new B(nt,ke,0),rt%=we);for(9===Se?rt=we:M.K7(Se)?rt+=2:rt++,et=Ne;nt===Ve&&(ve++,ve<Ue);)ke=de[ve].type,Ve=de[ve].endIndex}let ut=!1;if(et)if(fe&&le){const nt=oe>0?G.charCodeAt(oe-1):0,Se=oe>1?G.charCodeAt(oe-2):0;32===nt&&32!==Se&&9!==Se||(ut=!0)}else ut=!0;if(ut)if(X)for(let Se=(ce>0?re[ce-1].endIndex:pe)+1;Se<=oe;Se++)re[ce++]=new B(Se,"mtkw",1);else re[ce++]=new B(oe,"mtkw",1);else re[ce++]=new B(oe,ke,0);return re}(j,G,de,fe));let pe=0;if(j.lineDecorations.length>0){for(let we=0,ge=j.lineDecorations.length;we<ge;we++){const Q=j.lineDecorations[we];3===Q.type||1===Q.type?pe|=1:2===Q.type&&(pe|=2)}fe=function(j,G,oe,de){de.sort(Y.Kp.compare);const fe=Y.k.normalize(j,de),pe=fe.length;let we=0;const ge=[];let Q=0,q=0;for(let ee=0,X=oe.length;ee<X;ee++){const re=oe[ee],ce=re.endIndex,ve=re.type,ke=re.metadata;for(;we<pe&&fe[we].startOffset<ce;){const Ve=fe[we];if(Ve.startOffset>q&&(q=Ve.startOffset,ge[Q++]=new B(q,ve,ke)),!(Ve.endOffset+1<=ce)){q=ce,ge[Q++]=new B(q,ve+" "+Ve.className,ke|Ve.metadata);break}q=Ve.endOffset+1,ge[Q++]=new B(q,ve+" "+Ve.className,ke|Ve.metadata),we++}ce>q&&(q=ce,ge[Q++]=new B(q,ve,ke))}const le=oe[oe.length-1].endIndex;if(we<pe&&fe[we].startOffset===le)for(;we<pe&&fe[we].startOffset===le;){const ee=fe[we];ge[Q++]=new B(q,ee.className,ee.metadata),we++}return ge}(G,0,fe,j.lineDecorations)}return j.containsRTL||(fe=function(j,G,oe){let de=0;const fe=[];let pe=0;if(oe)for(let we=0,ge=G.length;we<ge;we++){const Q=G[we],q=Q.endIndex;if(de+50<q){const le=Q.type,ee=Q.metadata;let X=-1,re=de;for(let ce=de;ce<q;ce++)32===j.charCodeAt(ce)&&(X=ce),-1!==X&&ce-re>=50&&(fe[pe++]=new B(X+1,le,ee),re=X+1,X=-1);re!==q&&(fe[pe++]=new B(q,le,ee))}else fe[pe++]=Q;de=q}else for(let we=0,ge=G.length;we<ge;we++){const Q=G[we],q=Q.endIndex,le=q-de;if(le>50){const ee=Q.type,X=Q.metadata,re=Math.ceil(le/50);for(let ce=1;ce<re;ce++)fe[pe++]=new B(de+50*ce,ee,X);fe[pe++]=new B(q,ee,X)}else fe[pe++]=Q;de=q}return fe}(G,fe,!j.isBasicASCII||j.fontLigatures)),new L(j.useMonospaceOptimizations,j.canUseHalfwidthRightwardsArrow,G,de,oe,fe,pe,j.fauxIndentLength,j.tabSize,j.startVisibleColumn,j.containsRTL,j.spaceWidth,j.renderSpaceCharCode,j.renderWhitespace,j.renderControlCharacters)}(j),G)}class C{constructor(G,oe,de,fe){this.characterMapping=G,this.html=oe,this.containsRTL=de,this.containsForeignElements=fe}}function b(j){const G=(0,g.l$)(1e4),oe=S(j,G);return new C(oe.characterMapping,G.build(),oe.containsRTL,oe.containsForeignElements)}class L{constructor(G,oe,de,fe,pe,we,ge,Q,q,le,ee,X,re,ce,ve){this.fontIsMonospace=G,this.canUseHalfwidthRightwardsArrow=oe,this.lineContent=de,this.len=fe,this.isOverflowing=pe,this.parts=we,this.containsForeignElements=ge,this.fauxIndentLength=Q,this.tabSize=q,this.startVisibleColumn=le,this.containsRTL=ee,this.spaceWidth=X,this.renderSpaceCharCode=re,this.renderWhitespace=ce,this.renderControlCharacters=ve}}function D(j){return j<32?9!==j:127===j||j>=8234&&j<=8238||j>=8294&&j<=8297||j>=8206&&j<=8207||1564===j}function $(j){return j.toString(16).toUpperCase().padStart(4,"0")}},42483:(Be,Me,m)=>{m.d(Me,{l_:()=>Y,ud:()=>B,IP:()=>E,wA:()=>i,$t:()=>O,Wx:()=>F,$l:()=>T,SQ:()=>S});var M=m(74243),g=m(1873);class Y{constructor(b,L,f,N){this._viewportBrand=void 0,this.top=0|b,this.left=0|L,this.width=0|f,this.height=0|N}}class B{constructor(b,L){this.tabSize=b,this.data=L}}class E{constructor(b,L,f,N,z,D,I){this._viewLineDataBrand=void 0,this.content=b,this.continuesWithWrappedLine=L,this.minColumn=f,this.maxColumn=N,this.startVisibleColumn=z,this.tokens=D,this.inlineDecorations=I}}class i{constructor(b,L,f,N,z,D,I,Z,P,k){this.minColumn=b,this.maxColumn=L,this.content=f,this.continuesWithWrappedLine=N,this.isBasicASCII=i.isBasicASCII(f,D),this.containsRTL=i.containsRTL(f,this.isBasicASCII,z),this.tokens=I,this.inlineDecorations=Z,this.tabSize=P,this.startVisibleColumn=k}static isBasicASCII(b,L){return!L||M.$i(b)}static containsRTL(b,L,f){return!(L||!f)&&M.Ut(b)}}class O{constructor(b,L,f){this.range=b,this.inlineClassName=L,this.type=f}}class F{constructor(b,L,f,N){this.startOffset=b,this.endOffset=L,this.inlineClassName=f,this.inlineClassNameAffectsLetterSpacing=N}toInlineDecoration(b){return new O(new g.e(b,this.startOffset+1,b,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class T{constructor(b,L){this._viewModelDecorationBrand=void 0,this.range=b,this.options=L}}class S{constructor(b,L,f){this.color=b,this.zIndex=L,this.data=f}static cmp(b,L){return b.zIndex===L.zIndex?b.color<L.color?-1:b.color>L.color?1:0:b.zIndex-L.zIndex}}},31321:(Be,Me,m)=>{m.d(Me,{EY:()=>g,Tj:()=>Y});class M{constructor(E,i,O){this._colorZoneBrand=void 0,this.from=0|E,this.to=0|i,this.colorId=0|O}static compare(E,i){return E.colorId===i.colorId?E.from===i.from?E.to-i.to:E.from-i.from:E.colorId-i.colorId}}class g{constructor(E,i,O,F){this._overviewRulerZoneBrand=void 0,this.startLineNumber=E,this.endLineNumber=i,this.heightInLines=O,this.color=F,this._colorZone=null}static compare(E,i){return E.color===i.color?E.startLineNumber===i.startLineNumber?E.heightInLines===i.heightInLines?E.endLineNumber-i.endLineNumber:E.heightInLines-i.heightInLines:E.startLineNumber-i.startLineNumber:E.color<i.color?-1:1}setColorZone(E){this._colorZone=E}getColorZones(){return this._colorZone}}class Y{constructor(E){this._getVerticalOffsetForLine=E,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(E){this._zones=E,this._zones.sort(g.compare)}setLineHeight(E){return this._lineHeight!==E&&(this._lineHeight=E,this._colorZonesInvalid=!0,!0)}setPixelRatio(E){this._pixelRatio=E,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(E){return this._domWidth!==E&&(this._domWidth=E,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(E){return this._domHeight!==E&&(this._domHeight=E,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(E){return this._outerHeight!==E&&(this._outerHeight=E,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const E=this._colorZonesInvalid,i=Math.floor(this._lineHeight),O=Math.floor(this.getCanvasHeight()),T=O/Math.floor(this._outerHeight),S=Math.floor(4*this._pixelRatio/2),C=[];for(let b=0,L=this._zones.length;b<L;b++){const f=this._zones[b];if(!E){const G=f.getColorZones();if(G){C.push(G);continue}}const N=this._getVerticalOffsetForLine(f.startLineNumber),z=0===f.heightInLines?this._getVerticalOffsetForLine(f.endLineNumber)+i:N+f.heightInLines*i,D=Math.floor(T*N),I=Math.floor(T*z);let Z=Math.floor((D+I)/2),P=I-Z;P<S&&(P=S),Z-P<0&&(Z=P),Z+P>O&&(Z=O-P);const k=f.color;let $=this._color2Id[k];$||($=++this._lastAssignedId,this._color2Id[k]=$,this._id2Color[$]=k);const j=new M(Z-P,Z+P,$);f.setColorZone(j),C.push(j)}return this._colorZonesInvalid=!1,C.sort(M.compare),C}}},18066:(Be,Me,m)=>{m.d(Me,{CU:()=>E,Fd:()=>i,$t:()=>O,zg:()=>F});var M=m(67947),g=m(1873),Y=m(42483),B=m(52925);class E{constructor(C,b,L,f,N){this.editorId=C,this.model=b,this.configuration=L,this._linesCollection=f,this._coordinatesConverter=N,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(C){const b=C.id;let L=this._decorationsCache[b];if(!L){const f=C.range,N=C.options;let z;if(N.isWholeLine){const D=this._coordinatesConverter.convertModelPositionToViewPosition(new M.L(f.startLineNumber,1),0),I=this._coordinatesConverter.convertModelPositionToViewPosition(new M.L(f.endLineNumber,this.model.getLineMaxColumn(f.endLineNumber)),1);z=new g.e(D.lineNumber,D.column,I.lineNumber,I.column)}else z=this._coordinatesConverter.convertModelRangeToViewRange(f,1);L=new Y.$l(z,N),this._decorationsCache[b]=L}return L}getDecorationsViewportData(C){let b=null!==this._cachedModelDecorationsResolver;return b=b&&C.equalsRange(this._cachedModelDecorationsResolverViewRange),b||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(C),this._cachedModelDecorationsResolverViewRange=C),this._cachedModelDecorationsResolver}_getDecorationsViewportData(C){const b=this._linesCollection.getDecorationsInRange(C,this.editorId,(0,B.$J)(this.configuration.options)),L=C.startLineNumber,f=C.endLineNumber,N=[];let z=0;const D=[];for(let I=L;I<=f;I++)D[I-L]=[];for(let I=0,Z=b.length;I<Z;I++){const P=b[I],k=P.options;if(!i(this.model,P))continue;const $=this._getOrCreateViewModelDecoration(P),j=$.range;if(N[z++]=$,k.inlineClassName){const G=new Y.$t(j,k.inlineClassName,k.inlineClassNameAffectsLetterSpacing?3:0),oe=Math.max(L,j.startLineNumber),de=Math.min(f,j.endLineNumber);for(let fe=oe;fe<=de;fe++)D[fe-L].push(G)}if(k.beforeContentClassName&&L<=j.startLineNumber&&j.startLineNumber<=f){const G=new Y.$t(new g.e(j.startLineNumber,j.startColumn,j.startLineNumber,j.startColumn),k.beforeContentClassName,1);D[j.startLineNumber-L].push(G)}if(k.afterContentClassName&&L<=j.endLineNumber&&j.endLineNumber<=f){const G=new Y.$t(new g.e(j.endLineNumber,j.endColumn,j.endLineNumber,j.endColumn),k.afterContentClassName,2);D[j.endLineNumber-L].push(G)}}return{decorations:N,inlineDecorations:D}}}function i(S,C){return!(C.options.hideInCommentTokens&&O(S,C)||C.options.hideInStringTokens&&F(S,C))}function O(S,C){return T(S,C.range,b=>1===b)}function F(S,C){return T(S,C.range,b=>2===b)}function T(S,C,b){for(let L=C.startLineNumber;L<=C.endLineNumber;L++){const f=S.getLineTokens(L),z=L===C.endLineNumber;let D=L===C.startLineNumber?f.findTokenIndexAtOffset(C.startColumn-1):0;for(;D<f.getCount()&&!(z&&f.getStartOffset(D)>C.endColumn-1);){if(!b(f.getStandardTokenType(D)))return!1;D++}}return!0}},55550:(Be,Me,m)=>{m.d(Me,{yy:()=>f,Dl:()=>N,YQ:()=>z});var M=m(74243),g=m(1873),Y=m(66607),B=m(40189),E=m(44346),i=m(6461),O=m(62253),F=m(43569),T=m(26033),S=m(12918);const C=(0,F.yh)("IEditorCancelService"),b=new i.uy("cancellableOperation",!1,(0,S.N)("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));(0,T.z)(C,class{constructor(){this._tokens=new WeakMap}add(D,I){let P,Z=this._tokens.get(D);return Z||(Z=D.invokeWithinContext(k=>({key:b.bindTo(k.get(i.i6)),tokens:new O.S})),this._tokens.set(D,Z)),Z.key.set(!0),P=Z.tokens.push(I),()=>{P&&(P(),Z.key.set(!Z.tokens.isEmpty()),P=void 0)}}cancel(D){const I=this._tokens.get(D);if(!I)return;const Z=I.tokens.pop();Z&&(Z.cancel(),I.key.set(!I.tokens.isEmpty()))}},!0);class L extends Y.A{constructor(I,Z){super(Z),this.editor=I,this._unregister=I.invokeWithinContext(P=>P.get(C).add(I,this))}dispose(){this._unregister(),super.dispose()}}(0,E.fK)(new class extends E._l{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:b})}runEditorCommand(D,I){D.get(C).cancel(I)}});class f{constructor(I,Z){if(this.flags=Z,0!=(1&this.flags)){const P=I.getModel();this.modelVersionId=P?M.WU("{0}#{1}",P.uri.toString(),P.getVersionId()):null}else this.modelVersionId=null;this.position=0!=(4&this.flags)?I.getPosition():null,this.selection=0!=(2&this.flags)?I.getSelection():null,0!=(8&this.flags)?(this.scrollLeft=I.getScrollLeft(),this.scrollTop=I.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(I){if(!(I instanceof f))return!1;const Z=I;return!(this.modelVersionId!==Z.modelVersionId||this.scrollLeft!==Z.scrollLeft||this.scrollTop!==Z.scrollTop||!this.position&&Z.position||this.position&&!Z.position||this.position&&Z.position&&!this.position.equals(Z.position)||!this.selection&&Z.selection||this.selection&&!Z.selection||this.selection&&Z.selection&&!this.selection.equalsRange(Z.selection))}validate(I){return this._equals(new f(I,this.flags))}}class N extends L{constructor(I,Z,P,k){super(I,k),this._listener=new B.SL,4&Z&&this._listener.add(I.onDidChangeCursorPosition($=>{(!P||!g.e.containsPosition(P,$.position))&&this.cancel()})),2&Z&&this._listener.add(I.onDidChangeCursorSelection($=>{(!P||!g.e.containsRange(P,$.selection))&&this.cancel()})),8&Z&&this._listener.add(I.onDidScrollChange($=>this.cancel())),1&Z&&(this._listener.add(I.onDidChangeModel($=>this.cancel())),this._listener.add(I.onDidChangeModelContent($=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}class z extends Y.A{constructor(I,Z){super(Z),this._listener=I.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}},86349:(Be,Me,m)=>{m.d(Me,{xC:()=>oe,Zg:()=>j,x$:()=>de,Qq:()=>pe,Qs:()=>q});var M=m(99034),g=m(89822),Y=m(66607),B=m(13226),E=m(58151),i=m(62253),O=m(99770),F=m(85459),T=m(55550),S=m(79837),C=m(67947),b=m(1873),L=m(60745),f=m(78339),N=m(13591),z=m(38696),D=m(12918),I=m(10467);class Z{constructor(ee){this.value=ee,this._lower=ee.toLowerCase()}static toKey(ee){return"string"==typeof ee?ee.toLowerCase():ee._lower}}var P=m(43569),k=m(3494),$=function(le,ee,X,re){return new(X||(X=Promise))(function(ve,ke){function Ve(_e){try{ue(re.next(_e))}catch(Re){ke(Re)}}function Ue(_e){try{ue(re.throw(_e))}catch(Re){ke(Re)}}function ue(_e){_e.done?ve(_e.value):function(ve){return ve instanceof X?ve:new X(function(ke){ke(ve)})}(_e.value).then(Ve,Ue)}ue((re=re.apply(le,ee||[])).next())})};function j(le){if(!(le=le.filter(ce=>ce.range)).length)return;let{range:ee}=le[0];for(let ce=1;ce<le.length;ce++)ee=b.e.plusRange(ee,le[ce].range);const{startLineNumber:X,endLineNumber:re}=ee;(0,M.Z9)(X===re?1===le.length?D.N("hint11","Made 1 formatting edit on line {0}",X):D.N("hintn1","Made {0} formatting edits on line {1}",le.length,X):1===le.length?D.N("hint1n","Made 1 formatting edit between lines {0} and {1}",X,re):D.N("hintnn","Made {0} formatting edits between lines {1} and {2}",le.length,X,re))}function G(le,ee,X){const re=[],ce=new Set,ve=le.ordered(X);for(const Ve of ve)re.push(Ve),Ve.extensionId&&ce.add(Z.toKey(Ve.extensionId));const ke=ee.ordered(X);for(const Ve of ke){if(Ve.extensionId){if(ce.has(Z.toKey(Ve.extensionId)))continue;ce.add(Z.toKey(Ve.extensionId))}re.push({displayName:Ve.displayName,extensionId:Ve.extensionId,provideDocumentFormattingEdits:(Ue,ue,_e)=>Ve.provideDocumentRangeFormattingEdits(Ue,Ue.getFullModelRange(),ue,_e)})}return re}class oe{static setFormatterSelector(ee){return{dispose:oe._selectors.unshift(ee)}}static select(ee,X,re){return $(this,void 0,void 0,function*(){if(0===ee.length)return;const ce=E.$.first(oe._selectors);return ce?yield ce(ee,X,re):void 0})}}function de(le,ee,X,re,ce,ve){return $(this,void 0,void 0,function*(){const ke=le.get(P.TG),{documentRangeFormattingEditProvider:Ve}=le.get(k.p),Ue=(0,S.CL)(ee)?ee.getModel():ee,ue=Ve.ordered(Ue),_e=yield oe.select(ue,Ue,re);_e&&(ce.report(_e),yield ke.invokeFunction(fe,_e,ee,X,ve))})}function fe(le,ee,X,re,ce){return $(this,void 0,void 0,function*(){const ve=le.get(f.p);let ke,Ve;(0,S.CL)(X)?(ke=X.getModel(),Ve=new T.Dl(X,5,void 0,ce)):(ke=X,Ve=new T.YQ(X,ce));let Ue=[],ue=0;for(let Pe of(0,g._2)(re).sort(b.e.compareRangesUsingStarts))ue>0&&b.e.areIntersectingOrTouching(Ue[ue-1],Pe)?Ue[ue-1]=b.e.fromPositions(Ue[ue-1].getStartPosition(),Pe.getEndPosition()):ue=Ue.push(Pe);const _e=Pe=>$(this,void 0,void 0,function*(){return(yield ee.provideDocumentRangeFormattingEdits(ke,Pe,ke.getFormattingOptions(),Ve.token))||[]}),Re=(Pe,rt)=>{if(!Pe.length||!rt.length)return!1;const ut=Pe.reduce((nt,Se)=>b.e.plusRange(nt,Se.range),Pe[0].range);if(!rt.some(nt=>b.e.intersectRanges(ut,nt.range)))return!1;for(let nt of Pe)for(let Se of rt)if(b.e.intersectRanges(nt.range,Se.range))return!0;return!1},et=[],Ze=[];try{for(let Pe of Ue){if(Ve.token.isCancellationRequested)return!0;Ze.push(yield _e(Pe))}for(let Pe=0;Pe<Ue.length;++Pe)for(let rt=Pe+1;rt<Ue.length;++rt){if(Ve.token.isCancellationRequested)return!0;if(Re(Ze[Pe],Ze[rt])){const ut=b.e.plusRange(Ue[Pe],Ue[rt]),nt=yield _e(ut);Ue.splice(rt,1),Ue.splice(Pe,1),Ue.push(ut),Ze.splice(rt,1),Ze.splice(Pe,1),Ze.push(nt),Pe=0,rt=0}}for(let Pe of Ze){if(Ve.token.isCancellationRequested)return!0;const rt=yield ve.computeMoreMinimalEdits(ke.uri,Pe);rt&&et.push(...rt)}}finally{Ve.dispose()}if(0===et.length)return!1;if((0,S.CL)(X))z.V.execute(X,et,!0),j(et),X.revealPositionInCenterIfOutsideViewport(X.getPosition(),1);else{const[{range:Pe}]=et,rt=new L.Y(Pe.startLineNumber,Pe.startColumn,Pe.endLineNumber,Pe.endColumn);ke.pushEditOperations([rt],et.map(ut=>({text:ut.text,range:b.e.lift(ut.range),forceMoveMarkers:!0})),ut=>{for(const{range:nt}of ut)if(b.e.areIntersectingOrTouching(nt,rt))return[new L.Y(nt.startLineNumber,nt.startColumn,nt.endLineNumber,nt.endColumn)];return null})}return!0})}function pe(le,ee,X,re,ce){return $(this,void 0,void 0,function*(){const ve=le.get(P.TG),ke=le.get(k.p),Ve=(0,S.CL)(ee)?ee.getModel():ee,Ue=G(ke.documentFormattingEditProvider,ke.documentRangeFormattingEditProvider,Ve),ue=yield oe.select(Ue,Ve,X);ue&&(re.report(ue),yield ve.invokeFunction(we,ue,ee,X,ce))})}function we(le,ee,X,re,ce){return $(this,void 0,void 0,function*(){const ve=le.get(f.p);let ke,Ve,Ue;(0,S.CL)(X)?(ke=X.getModel(),Ve=new T.Dl(X,5,void 0,ce)):(ke=X,Ve=new T.YQ(X,ce));try{const ue=yield ee.provideDocumentFormattingEdits(ke,ke.getFormattingOptions(),Ve.token);if(Ue=yield ve.computeMoreMinimalEdits(ke.uri,ue),Ve.token.isCancellationRequested)return!0}finally{Ve.dispose()}if(!Ue||0===Ue.length)return!1;if((0,S.CL)(X))z.V.execute(X,Ue,2!==re),2!==re&&(j(Ue),X.revealPositionInCenterIfOutsideViewport(X.getPosition(),1));else{const[{range:ue}]=Ue,_e=new L.Y(ue.startLineNumber,ue.startColumn,ue.endLineNumber,ue.endColumn);ke.pushEditOperations([_e],Ue.map(Re=>({text:Re.text,range:b.e.lift(Re.range),forceMoveMarkers:!0})),Re=>{for(const{range:et}of Re)if(b.e.areIntersectingOrTouching(et,_e))return[new L.Y(et.startLineNumber,et.startColumn,et.endLineNumber,et.endColumn)];return null})}return!0})}function q(le,ee,X,re,ce,ve,ke){const Ve=ee.onTypeFormattingEditProvider.ordered(X);return 0===Ve.length||Ve[0].autoFormatTriggerCharacters.indexOf(ce)<0?Promise.resolve(void 0):Promise.resolve(Ve[0].provideOnTypeFormattingEdits(X,re,ce,ve,ke)).catch(B.Cp).then(Ue=>le.computeMoreMinimalEdits(X.uri,Ue))}oe._selectors=new i.S,I.P0.registerCommand("_executeFormatRangeProvider",function(le,...ee){return $(this,void 0,void 0,function*(){const[X,re,ce]=ee;(0,O.p_)(F.o.isUri(X)),(0,O.p_)(b.e.isIRange(re));const ve=le.get(N.S),ke=le.get(f.p),Ve=le.get(k.p),Ue=yield ve.createModelReference(X);try{return function(le,ee,X,re,ce,ve){return $(this,void 0,void 0,function*(){const ke=ee.documentRangeFormattingEditProvider.ordered(X);for(const Ve of ke){let Ue=yield Promise.resolve(Ve.provideDocumentRangeFormattingEdits(X,re,ce,ve)).catch(B.Cp);if((0,g.Of)(Ue))return yield le.computeMoreMinimalEdits(X.uri,Ue)}})}(ke,Ve,Ue.object.textEditorModel,b.e.lift(re),ce,Y.T.None)}finally{Ue.dispose()}})}),I.P0.registerCommand("_executeFormatDocumentProvider",function(le,...ee){return $(this,void 0,void 0,function*(){const[X,re]=ee;(0,O.p_)(F.o.isUri(X));const ce=le.get(N.S),ve=le.get(f.p),ke=le.get(k.p),Ve=yield ce.createModelReference(X);try{return function(le,ee,X,re,ce){return $(this,void 0,void 0,function*(){const ve=G(ee.documentFormattingEditProvider,ee.documentRangeFormattingEditProvider,X);for(const ke of ve){let Ve=yield Promise.resolve(ke.provideDocumentFormattingEdits(X,re,ce)).catch(B.Cp);if((0,g.Of)(Ve))return yield le.computeMoreMinimalEdits(X.uri,Ve)}})}(ve,ke,Ve.object.textEditorModel,re,Y.T.None)}finally{Ve.dispose()}})}),I.P0.registerCommand("_executeFormatOnTypeProvider",function(le,...ee){return $(this,void 0,void 0,function*(){const[X,re,ce,ve]=ee;(0,O.p_)(F.o.isUri(X)),(0,O.p_)(C.L.isIPosition(re)),(0,O.p_)("string"==typeof ce);const ke=le.get(N.S),Ve=le.get(f.p),Ue=le.get(k.p),ue=yield ke.createModelReference(X);try{return q(Ve,Ue,ue.object.textEditorModel,C.L.lift(re),ce,ve,Y.T.None)}finally{ue.dispose()}})})},38696:(Be,Me,m)=>{m.d(Me,{V:()=>Y});var M=m(19420),g=m(1873);class Y{static _handleEolEdits(E,i){let O,F=[];for(let T of i)"number"==typeof T.eol&&(O=T.eol),T.range&&"string"==typeof T.text&&F.push(T);return"number"==typeof O&&E.hasModel()&&E.getModel().pushEOL(O),F}static _isFullModelReplaceEdit(E,i){if(!E.hasModel())return!1;const O=E.getModel(),F=O.validateRange(i.range);return O.getFullModelRange().equalsRange(F)}static execute(E,i,O){O&&E.pushUndoStop();const F=Y._handleEolEdits(E,i);1===F.length&&Y._isFullModelReplaceEdit(E,F[0])?E.executeEdits("formatEditsCommand",F.map(T=>M.h.replace(g.e.lift(T.range),T.text))):E.executeEdits("formatEditsCommand",F.map(T=>M.h.replaceMove(g.e.lift(T.range),T.text))),O&&E.pushUndoStop()}}},70031:(Be,Me,m)=>{m.r(Me),m.d(Me,{CancellationTokenSource:()=>Ac,Emitter:()=>dm,KeyCode:()=>Kl,KeyMod:()=>ll,MarkerSeverity:()=>Qu,MarkerTag:()=>Lf,Position:()=>$l,Range:()=>um,Selection:()=>Bd,SelectionDirection:()=>xf,Token:()=>hm,Uri:()=>Df,editor:()=>Wd,languages:()=>Ef});var M=m(52925),g=m(66607),Y=m(71040),B=m(64073),E=m(85459),i=m(67947),O=m(1873),F=m(60745),T=m(33979),S=(()=>{return(w=S||(S={}))[w.Unknown=0]="Unknown",w[w.Disabled=1]="Disabled",w[w.Enabled=2]="Enabled",S;var w})(),C=(()=>{return(w=C||(C={}))[w.KeepWhitespace=1]="KeepWhitespace",w[w.InsertAsSnippet=4]="InsertAsSnippet",C;var w})(),b=(()=>{return(w=b||(b={}))[w.Method=0]="Method",w[w.Function=1]="Function",w[w.Constructor=2]="Constructor",w[w.Field=3]="Field",w[w.Variable=4]="Variable",w[w.Class=5]="Class",w[w.Struct=6]="Struct",w[w.Interface=7]="Interface",w[w.Module=8]="Module",w[w.Property=9]="Property",w[w.Event=10]="Event",w[w.Operator=11]="Operator",w[w.Unit=12]="Unit",w[w.Value=13]="Value",w[w.Constant=14]="Constant",w[w.Enum=15]="Enum",w[w.EnumMember=16]="EnumMember",w[w.Keyword=17]="Keyword",w[w.Text=18]="Text",w[w.Color=19]="Color",w[w.File=20]="File",w[w.Reference=21]="Reference",w[w.Customcolor=22]="Customcolor",w[w.Folder=23]="Folder",w[w.TypeParameter=24]="TypeParameter",w[w.User=25]="User",w[w.Issue=26]="Issue",w[w.Snippet=27]="Snippet",b;var w})(),L=(()=>{return(w=L||(L={}))[w.Deprecated=1]="Deprecated",L;var w})(),f=(()=>{return(w=f||(f={}))[w.Invoke=0]="Invoke",w[w.TriggerCharacter=1]="TriggerCharacter",w[w.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions",f;var w})(),N=(()=>{return(w=N||(N={}))[w.EXACT=0]="EXACT",w[w.ABOVE=1]="ABOVE",w[w.BELOW=2]="BELOW",N;var w})(),z=(()=>{return(w=z||(z={}))[w.NotSet=0]="NotSet",w[w.ContentFlush=1]="ContentFlush",w[w.RecoverFromMarkers=2]="RecoverFromMarkers",w[w.Explicit=3]="Explicit",w[w.Paste=4]="Paste",w[w.Undo=5]="Undo",w[w.Redo=6]="Redo",z;var w})(),D=(()=>{return(w=D||(D={}))[w.LF=1]="LF",w[w.CRLF=2]="CRLF",D;var w})(),I=(()=>{return(w=I||(I={}))[w.Text=0]="Text",w[w.Read=1]="Read",w[w.Write=2]="Write",I;var w})(),Z=(()=>{return(w=Z||(Z={}))[w.None=0]="None",w[w.Keep=1]="Keep",w[w.Brackets=2]="Brackets",w[w.Advanced=3]="Advanced",w[w.Full=4]="Full",Z;var w})(),P=(()=>{return(w=P||(P={}))[w.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",w[w.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",w[w.accessibilitySupport=2]="accessibilitySupport",w[w.accessibilityPageSize=3]="accessibilityPageSize",w[w.ariaLabel=4]="ariaLabel",w[w.autoClosingBrackets=5]="autoClosingBrackets",w[w.autoClosingDelete=6]="autoClosingDelete",w[w.autoClosingOvertype=7]="autoClosingOvertype",w[w.autoClosingQuotes=8]="autoClosingQuotes",w[w.autoIndent=9]="autoIndent",w[w.automaticLayout=10]="automaticLayout",w[w.autoSurround=11]="autoSurround",w[w.bracketPairColorization=12]="bracketPairColorization",w[w.guides=13]="guides",w[w.codeLens=14]="codeLens",w[w.codeLensFontFamily=15]="codeLensFontFamily",w[w.codeLensFontSize=16]="codeLensFontSize",w[w.colorDecorators=17]="colorDecorators",w[w.columnSelection=18]="columnSelection",w[w.comments=19]="comments",w[w.contextmenu=20]="contextmenu",w[w.copyWithSyntaxHighlighting=21]="copyWithSyntaxHighlighting",w[w.cursorBlinking=22]="cursorBlinking",w[w.cursorSmoothCaretAnimation=23]="cursorSmoothCaretAnimation",w[w.cursorStyle=24]="cursorStyle",w[w.cursorSurroundingLines=25]="cursorSurroundingLines",w[w.cursorSurroundingLinesStyle=26]="cursorSurroundingLinesStyle",w[w.cursorWidth=27]="cursorWidth",w[w.disableLayerHinting=28]="disableLayerHinting",w[w.disableMonospaceOptimizations=29]="disableMonospaceOptimizations",w[w.domReadOnly=30]="domReadOnly",w[w.dragAndDrop=31]="dragAndDrop",w[w.emptySelectionClipboard=32]="emptySelectionClipboard",w[w.extraEditorClassName=33]="extraEditorClassName",w[w.fastScrollSensitivity=34]="fastScrollSensitivity",w[w.find=35]="find",w[w.fixedOverflowWidgets=36]="fixedOverflowWidgets",w[w.folding=37]="folding",w[w.foldingStrategy=38]="foldingStrategy",w[w.foldingHighlight=39]="foldingHighlight",w[w.foldingImportsByDefault=40]="foldingImportsByDefault",w[w.foldingMaximumRegions=41]="foldingMaximumRegions",w[w.unfoldOnClickAfterEndOfLine=42]="unfoldOnClickAfterEndOfLine",w[w.fontFamily=43]="fontFamily",w[w.fontInfo=44]="fontInfo",w[w.fontLigatures=45]="fontLigatures",w[w.fontSize=46]="fontSize",w[w.fontWeight=47]="fontWeight",w[w.formatOnPaste=48]="formatOnPaste",w[w.formatOnType=49]="formatOnType",w[w.glyphMargin=50]="glyphMargin",w[w.gotoLocation=51]="gotoLocation",w[w.hideCursorInOverviewRuler=52]="hideCursorInOverviewRuler",w[w.hover=53]="hover",w[w.inDiffEditor=54]="inDiffEditor",w[w.inlineSuggest=55]="inlineSuggest",w[w.letterSpacing=56]="letterSpacing",w[w.lightbulb=57]="lightbulb",w[w.lineDecorationsWidth=58]="lineDecorationsWidth",w[w.lineHeight=59]="lineHeight",w[w.lineNumbers=60]="lineNumbers",w[w.lineNumbersMinChars=61]="lineNumbersMinChars",w[w.linkedEditing=62]="linkedEditing",w[w.links=63]="links",w[w.matchBrackets=64]="matchBrackets",w[w.minimap=65]="minimap",w[w.mouseStyle=66]="mouseStyle",w[w.mouseWheelScrollSensitivity=67]="mouseWheelScrollSensitivity",w[w.mouseWheelZoom=68]="mouseWheelZoom",w[w.multiCursorMergeOverlapping=69]="multiCursorMergeOverlapping",w[w.multiCursorModifier=70]="multiCursorModifier",w[w.multiCursorPaste=71]="multiCursorPaste",w[w.occurrencesHighlight=72]="occurrencesHighlight",w[w.overviewRulerBorder=73]="overviewRulerBorder",w[w.overviewRulerLanes=74]="overviewRulerLanes",w[w.padding=75]="padding",w[w.parameterHints=76]="parameterHints",w[w.peekWidgetDefaultFocus=77]="peekWidgetDefaultFocus",w[w.definitionLinkOpensInPeek=78]="definitionLinkOpensInPeek",w[w.quickSuggestions=79]="quickSuggestions",w[w.quickSuggestionsDelay=80]="quickSuggestionsDelay",w[w.readOnly=81]="readOnly",w[w.renameOnType=82]="renameOnType",w[w.renderControlCharacters=83]="renderControlCharacters",w[w.renderFinalNewline=84]="renderFinalNewline",w[w.renderLineHighlight=85]="renderLineHighlight",w[w.renderLineHighlightOnlyWhenFocus=86]="renderLineHighlightOnlyWhenFocus",w[w.renderValidationDecorations=87]="renderValidationDecorations",w[w.renderWhitespace=88]="renderWhitespace",w[w.revealHorizontalRightPadding=89]="revealHorizontalRightPadding",w[w.roundedSelection=90]="roundedSelection",w[w.rulers=91]="rulers",w[w.scrollbar=92]="scrollbar",w[w.scrollBeyondLastColumn=93]="scrollBeyondLastColumn",w[w.scrollBeyondLastLine=94]="scrollBeyondLastLine",w[w.scrollPredominantAxis=95]="scrollPredominantAxis",w[w.selectionClipboard=96]="selectionClipboard",w[w.selectionHighlight=97]="selectionHighlight",w[w.selectOnLineNumbers=98]="selectOnLineNumbers",w[w.showFoldingControls=99]="showFoldingControls",w[w.showUnused=100]="showUnused",w[w.snippetSuggestions=101]="snippetSuggestions",w[w.smartSelect=102]="smartSelect",w[w.smoothScrolling=103]="smoothScrolling",w[w.stickyTabStops=104]="stickyTabStops",w[w.stopRenderingLineAfter=105]="stopRenderingLineAfter",w[w.suggest=106]="suggest",w[w.suggestFontSize=107]="suggestFontSize",w[w.suggestLineHeight=108]="suggestLineHeight",w[w.suggestOnTriggerCharacters=109]="suggestOnTriggerCharacters",w[w.suggestSelection=110]="suggestSelection",w[w.tabCompletion=111]="tabCompletion",w[w.tabIndex=112]="tabIndex",w[w.unicodeHighlighting=113]="unicodeHighlighting",w[w.unusualLineTerminators=114]="unusualLineTerminators",w[w.useShadowDOM=115]="useShadowDOM",w[w.useTabStops=116]="useTabStops",w[w.wordSeparators=117]="wordSeparators",w[w.wordWrap=118]="wordWrap",w[w.wordWrapBreakAfterCharacters=119]="wordWrapBreakAfterCharacters",w[w.wordWrapBreakBeforeCharacters=120]="wordWrapBreakBeforeCharacters",w[w.wordWrapColumn=121]="wordWrapColumn",w[w.wordWrapOverride1=122]="wordWrapOverride1",w[w.wordWrapOverride2=123]="wordWrapOverride2",w[w.wrappingIndent=124]="wrappingIndent",w[w.wrappingStrategy=125]="wrappingStrategy",w[w.showDeprecated=126]="showDeprecated",w[w.inlayHints=127]="inlayHints",w[w.editorClassName=128]="editorClassName",w[w.pixelRatio=129]="pixelRatio",w[w.tabFocusMode=130]="tabFocusMode",w[w.layoutInfo=131]="layoutInfo",w[w.wrappingInfo=132]="wrappingInfo",P;var w})(),k=(()=>{return(w=k||(k={}))[w.TextDefined=0]="TextDefined",w[w.LF=1]="LF",w[w.CRLF=2]="CRLF",k;var w})(),$=(()=>{return(w=$||($={}))[w.LF=0]="LF",w[w.CRLF=1]="CRLF",$;var w})(),j=(()=>{return(w=j||(j={}))[w.None=0]="None",w[w.Indent=1]="Indent",w[w.IndentOutdent=2]="IndentOutdent",w[w.Outdent=3]="Outdent",j;var w})(),G=(()=>{return(w=G||(G={}))[w.Both=0]="Both",w[w.Right=1]="Right",w[w.Left=2]="Left",w[w.None=3]="None",G;var w})(),oe=(()=>{return(w=oe||(oe={}))[w.Type=1]="Type",w[w.Parameter=2]="Parameter",oe;var w})(),de=(()=>{return(w=de||(de={}))[w.Automatic=0]="Automatic",w[w.Explicit=1]="Explicit",de;var w})(),fe=(()=>{return(w=fe||(fe={}))[w.DependsOnKbLayout=-1]="DependsOnKbLayout",w[w.Unknown=0]="Unknown",w[w.Backspace=1]="Backspace",w[w.Tab=2]="Tab",w[w.Enter=3]="Enter",w[w.Shift=4]="Shift",w[w.Ctrl=5]="Ctrl",w[w.Alt=6]="Alt",w[w.PauseBreak=7]="PauseBreak",w[w.CapsLock=8]="CapsLock",w[w.Escape=9]="Escape",w[w.Space=10]="Space",w[w.PageUp=11]="PageUp",w[w.PageDown=12]="PageDown",w[w.End=13]="End",w[w.Home=14]="Home",w[w.LeftArrow=15]="LeftArrow",w[w.UpArrow=16]="UpArrow",w[w.RightArrow=17]="RightArrow",w[w.DownArrow=18]="DownArrow",w[w.Insert=19]="Insert",w[w.Delete=20]="Delete",w[w.Digit0=21]="Digit0",w[w.Digit1=22]="Digit1",w[w.Digit2=23]="Digit2",w[w.Digit3=24]="Digit3",w[w.Digit4=25]="Digit4",w[w.Digit5=26]="Digit5",w[w.Digit6=27]="Digit6",w[w.Digit7=28]="Digit7",w[w.Digit8=29]="Digit8",w[w.Digit9=30]="Digit9",w[w.KeyA=31]="KeyA",w[w.KeyB=32]="KeyB",w[w.KeyC=33]="KeyC",w[w.KeyD=34]="KeyD",w[w.KeyE=35]="KeyE",w[w.KeyF=36]="KeyF",w[w.KeyG=37]="KeyG",w[w.KeyH=38]="KeyH",w[w.KeyI=39]="KeyI",w[w.KeyJ=40]="KeyJ",w[w.KeyK=41]="KeyK",w[w.KeyL=42]="KeyL",w[w.KeyM=43]="KeyM",w[w.KeyN=44]="KeyN",w[w.KeyO=45]="KeyO",w[w.KeyP=46]="KeyP",w[w.KeyQ=47]="KeyQ",w[w.KeyR=48]="KeyR",w[w.KeyS=49]="KeyS",w[w.KeyT=50]="KeyT",w[w.KeyU=51]="KeyU",w[w.KeyV=52]="KeyV",w[w.KeyW=53]="KeyW",w[w.KeyX=54]="KeyX",w[w.KeyY=55]="KeyY",w[w.KeyZ=56]="KeyZ",w[w.Meta=57]="Meta",w[w.ContextMenu=58]="ContextMenu",w[w.F1=59]="F1",w[w.F2=60]="F2",w[w.F3=61]="F3",w[w.F4=62]="F4",w[w.F5=63]="F5",w[w.F6=64]="F6",w[w.F7=65]="F7",w[w.F8=66]="F8",w[w.F9=67]="F9",w[w.F10=68]="F10",w[w.F11=69]="F11",w[w.F12=70]="F12",w[w.F13=71]="F13",w[w.F14=72]="F14",w[w.F15=73]="F15",w[w.F16=74]="F16",w[w.F17=75]="F17",w[w.F18=76]="F18",w[w.F19=77]="F19",w[w.NumLock=78]="NumLock",w[w.ScrollLock=79]="ScrollLock",w[w.Semicolon=80]="Semicolon",w[w.Equal=81]="Equal",w[w.Comma=82]="Comma",w[w.Minus=83]="Minus",w[w.Period=84]="Period",w[w.Slash=85]="Slash",w[w.Backquote=86]="Backquote",w[w.BracketLeft=87]="BracketLeft",w[w.Backslash=88]="Backslash",w[w.BracketRight=89]="BracketRight",w[w.Quote=90]="Quote",w[w.OEM_8=91]="OEM_8",w[w.IntlBackslash=92]="IntlBackslash",w[w.Numpad0=93]="Numpad0",w[w.Numpad1=94]="Numpad1",w[w.Numpad2=95]="Numpad2",w[w.Numpad3=96]="Numpad3",w[w.Numpad4=97]="Numpad4",w[w.Numpad5=98]="Numpad5",w[w.Numpad6=99]="Numpad6",w[w.Numpad7=100]="Numpad7",w[w.Numpad8=101]="Numpad8",w[w.Numpad9=102]="Numpad9",w[w.NumpadMultiply=103]="NumpadMultiply",w[w.NumpadAdd=104]="NumpadAdd",w[w.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",w[w.NumpadSubtract=106]="NumpadSubtract",w[w.NumpadDecimal=107]="NumpadDecimal",w[w.NumpadDivide=108]="NumpadDivide",w[w.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",w[w.ABNT_C1=110]="ABNT_C1",w[w.ABNT_C2=111]="ABNT_C2",w[w.AudioVolumeMute=112]="AudioVolumeMute",w[w.AudioVolumeUp=113]="AudioVolumeUp",w[w.AudioVolumeDown=114]="AudioVolumeDown",w[w.BrowserSearch=115]="BrowserSearch",w[w.BrowserHome=116]="BrowserHome",w[w.BrowserBack=117]="BrowserBack",w[w.BrowserForward=118]="BrowserForward",w[w.MediaTrackNext=119]="MediaTrackNext",w[w.MediaTrackPrevious=120]="MediaTrackPrevious",w[w.MediaStop=121]="MediaStop",w[w.MediaPlayPause=122]="MediaPlayPause",w[w.LaunchMediaPlayer=123]="LaunchMediaPlayer",w[w.LaunchMail=124]="LaunchMail",w[w.LaunchApp2=125]="LaunchApp2",w[w.Clear=126]="Clear",w[w.MAX_VALUE=127]="MAX_VALUE",fe;var w})(),pe=(()=>{return(w=pe||(pe={}))[w.Hint=1]="Hint",w[w.Info=2]="Info",w[w.Warning=4]="Warning",w[w.Error=8]="Error",pe;var w})(),we=(()=>{return(w=we||(we={}))[w.Unnecessary=1]="Unnecessary",w[w.Deprecated=2]="Deprecated",we;var w})(),ge=(()=>{return(w=ge||(ge={}))[w.Inline=1]="Inline",w[w.Gutter=2]="Gutter",ge;var w})(),Q=(()=>{return(w=Q||(Q={}))[w.UNKNOWN=0]="UNKNOWN",w[w.TEXTAREA=1]="TEXTAREA",w[w.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",w[w.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",w[w.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",w[w.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",w[w.CONTENT_TEXT=6]="CONTENT_TEXT",w[w.CONTENT_EMPTY=7]="CONTENT_EMPTY",w[w.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",w[w.CONTENT_WIDGET=9]="CONTENT_WIDGET",w[w.OVERVIEW_RULER=10]="OVERVIEW_RULER",w[w.SCROLLBAR=11]="SCROLLBAR",w[w.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",w[w.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR",Q;var w})(),q=(()=>{return(w=q||(q={}))[w.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",w[w.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",w[w.TOP_CENTER=2]="TOP_CENTER",q;var w})(),le=(()=>{return(w=le||(le={}))[w.Left=1]="Left",w[w.Center=2]="Center",w[w.Right=4]="Right",w[w.Full=7]="Full",le;var w})(),ee=(()=>{return(w=ee||(ee={}))[w.Left=0]="Left",w[w.Right=1]="Right",w[w.None=2]="None",ee;var w})(),X=(()=>{return(w=X||(X={}))[w.Off=0]="Off",w[w.On=1]="On",w[w.Relative=2]="Relative",w[w.Interval=3]="Interval",w[w.Custom=4]="Custom",X;var w})(),re=(()=>{return(w=re||(re={}))[w.None=0]="None",w[w.Text=1]="Text",w[w.Blocks=2]="Blocks",re;var w})(),ce=(()=>{return(w=ce||(ce={}))[w.Smooth=0]="Smooth",w[w.Immediate=1]="Immediate",ce;var w})(),ve=(()=>{return(w=ve||(ve={}))[w.Auto=1]="Auto",w[w.Hidden=2]="Hidden",w[w.Visible=3]="Visible",ve;var w})(),ke=(()=>{return(w=ke||(ke={}))[w.LTR=0]="LTR",w[w.RTL=1]="RTL",ke;var w})(),Ve=(()=>{return(w=Ve||(Ve={}))[w.Invoke=1]="Invoke",w[w.TriggerCharacter=2]="TriggerCharacter",w[w.ContentChange=3]="ContentChange",Ve;var w})(),Ue=(()=>{return(w=Ue||(Ue={}))[w.File=0]="File",w[w.Module=1]="Module",w[w.Namespace=2]="Namespace",w[w.Package=3]="Package",w[w.Class=4]="Class",w[w.Method=5]="Method",w[w.Property=6]="Property",w[w.Field=7]="Field",w[w.Constructor=8]="Constructor",w[w.Enum=9]="Enum",w[w.Interface=10]="Interface",w[w.Function=11]="Function",w[w.Variable=12]="Variable",w[w.Constant=13]="Constant",w[w.String=14]="String",w[w.Number=15]="Number",w[w.Boolean=16]="Boolean",w[w.Array=17]="Array",w[w.Object=18]="Object",w[w.Key=19]="Key",w[w.Null=20]="Null",w[w.EnumMember=21]="EnumMember",w[w.Struct=22]="Struct",w[w.Event=23]="Event",w[w.Operator=24]="Operator",w[w.TypeParameter=25]="TypeParameter",Ue;var w})(),ue=(()=>{return(w=ue||(ue={}))[w.Deprecated=1]="Deprecated",ue;var w})(),_e=(()=>{return(w=_e||(_e={}))[w.Hidden=0]="Hidden",w[w.Blink=1]="Blink",w[w.Smooth=2]="Smooth",w[w.Phase=3]="Phase",w[w.Expand=4]="Expand",w[w.Solid=5]="Solid",_e;var w})(),Re=(()=>{return(w=Re||(Re={}))[w.Line=1]="Line",w[w.Block=2]="Block",w[w.Underline=3]="Underline",w[w.LineThin=4]="LineThin",w[w.BlockOutline=5]="BlockOutline",w[w.UnderlineThin=6]="UnderlineThin",Re;var w})(),et=(()=>{return(w=et||(et={}))[w.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",w[w.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",w[w.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",w[w.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter",et;var w})(),Ze=(()=>{return(w=Ze||(Ze={}))[w.None=0]="None",w[w.Same=1]="Same",w[w.Indent=2]="Indent",w[w.DeepIndent=3]="DeepIndent",Ze;var w})();let Pe=(()=>{class w{static chord(u,v){return(0,B.gx)(u,v)}}return w.CtrlCmd=2048,w.Shift=1024,w.Alt=512,w.WinCtrl=256,w})();function rt(){return{editor:void 0,languages:void 0,CancellationTokenSource:g.A,Emitter:Y.Q5,KeyCode:fe,KeyMod:Pe,Position:i.L,Range:O.e,Selection:F.Y,SelectionDirection:ke,MarkerSeverity:pe,MarkerTag:we,Uri:E.o,Token:T.WU}}m(63317);var nt=m(74243),Se=m(12710),Ne=m(57623),at=m(37313),_t=m(11358),zt=m(3760),pn=m(80067),mt=m(92119),Rt=m(88057),Bt=m(80810),Wt=m(39067),fn=m(89983),Ye=m(40189),Dt=m(13226),St=m(70700),un=m(99770);let sn=!1;function hn(w){!St.$L||(sn||(sn=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(w.message))}class _n{constructor(l,u,v,K){this.vsWorker=l,this.req=u,this.method=v,this.args=K,this.type=0}}class cn{constructor(l,u,v,K){this.vsWorker=l,this.seq=u,this.res=v,this.err=K,this.type=1}}class At{constructor(l,u,v,K){this.vsWorker=l,this.req=u,this.eventName=v,this.arg=K,this.type=2}}class Ei{constructor(l,u,v){this.vsWorker=l,this.req=u,this.event=v,this.type=3}}class Yt{constructor(l,u){this.vsWorker=l,this.req=u,this.type=4}}class He{constructor(l){this._workerId=-1,this._handler=l,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(l){this._workerId=l}sendMessage(l,u){const v=String(++this._lastSentReq);return new Promise((K,J)=>{this._pendingReplies[v]={resolve:K,reject:J},this._send(new _n(this._workerId,v,l,u))})}listen(l,u){let v=null;const K=new Y.Q5({onFirstListenerAdd:()=>{v=String(++this._lastSentReq),this._pendingEmitters.set(v,K),this._send(new At(this._workerId,v,l,u))},onLastListenerRemove:()=>{this._pendingEmitters.delete(v),this._send(new Yt(this._workerId,v)),v=null}});return K.event}handleMessage(l){!l||!l.vsWorker||-1!==this._workerId&&l.vsWorker!==this._workerId||this._handleMessage(l)}_handleMessage(l){switch(l.type){case 1:return this._handleReplyMessage(l);case 0:return this._handleRequestMessage(l);case 2:return this._handleSubscribeEventMessage(l);case 3:return this._handleEventMessage(l);case 4:return this._handleUnsubscribeEventMessage(l)}}_handleReplyMessage(l){if(!this._pendingReplies[l.seq])return void console.warn("Got reply to unknown seq");let u=this._pendingReplies[l.seq];if(delete this._pendingReplies[l.seq],l.err){let v=l.err;return l.err.$isError&&(v=new Error,v.name=l.err.name,v.message=l.err.message,v.stack=l.err.stack),void u.reject(v)}u.resolve(l.res)}_handleRequestMessage(l){let u=l.req;this._handler.handleMessage(l.method,l.args).then(K=>{this._send(new cn(this._workerId,u,K,void 0))},K=>{K.detail instanceof Error&&(K.detail=(0,Dt.ri)(K.detail)),this._send(new cn(this._workerId,u,void 0,(0,Dt.ri)(K)))})}_handleSubscribeEventMessage(l){const u=l.req,v=this._handler.handleEvent(l.eventName,l.arg)(K=>{this._send(new Ei(this._workerId,u,K))});this._pendingEvents.set(u,v)}_handleEventMessage(l){this._pendingEmitters.has(l.req)?this._pendingEmitters.get(l.req).fire(l.event):console.warn("Got event for unknown req")}_handleUnsubscribeEventMessage(l){this._pendingEvents.has(l.req)?(this._pendingEvents.get(l.req).dispose(),this._pendingEvents.delete(l.req)):console.warn("Got unsubscribe for unknown req")}_send(l){let u=[];if(0===l.type)for(let v=0;v<l.args.length;v++)l.args[v]instanceof ArrayBuffer&&u.push(l.args[v]);else 1===l.type&&l.res instanceof ArrayBuffer&&u.push(l.res);this._handler.sendMessage(l,u)}}class $e extends Ye.JT{constructor(l,u,v){super();let K=null;this._worker=this._register(l.create("vs/base/common/worker/simpleWorker",We=>{this._protocol.handleMessage(We)},We=>{K&&K(We)})),this._protocol=new He({sendMessage:(We,je)=>{this._worker.postMessage(We,je)},handleMessage:(We,je)=>{if("function"!=typeof v[We])return Promise.reject(new Error("Missing method "+We+" on main thread host."));try{return Promise.resolve(v[We].apply(v,je))}catch(ft){return Promise.reject(ft)}},handleEvent:(We,je)=>{if(mn(We)){const ft=v[We].call(v,je);if("function"!=typeof ft)throw new Error(`Missing dynamic event ${We} on main thread host.`);return ft}if(qt(We)){const ft=v[We];if("function"!=typeof ft)throw new Error(`Missing event ${We} on main thread host.`);return ft}throw new Error(`Malformed event name ${We}`)}}),this._protocol.setWorkerId(this._worker.getId());let J=null;void 0!==St.li.require&&"function"==typeof St.li.require.getConfig?J=St.li.require.getConfig():void 0!==St.li.requirejs&&(J=St.li.requirejs.s.contexts._.config);const se=un.$E(v);this._onModuleLoaded=this._protocol.sendMessage("$initialize",[this._worker.getId(),JSON.parse(JSON.stringify(J)),u,se]);const me=(We,je)=>this._request(We,je),xe=(We,je)=>this._protocol.listen(We,je);this._lazyProxy=new Promise((We,je)=>{K=je,this._onModuleLoaded.then(ft=>{We(function(w,l,u){const v=se=>function(){const me=Array.prototype.slice.call(arguments,0);return l(se,me)},K=se=>function(me){return u(se,me)};let J={};for(const se of w)J[se]=mn(se)?K(se):qt(se)?u(se,void 0):v(se);return J}(ft,me,xe))},ft=>{je(ft),this._onError("Worker failed to load "+u,ft)})})}getProxyObject(){return this._lazyProxy}_request(l,u){return new Promise((v,K)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(l,u).then(v,K)},K)})}_onError(l,u){console.error(l),console.info(u)}}function qt(w){return"o"===w[0]&&"n"===w[1]&&nt.df(w.charCodeAt(2))}function mn(w){return/^onDynamic/.test(w)&&nt.df(w.charCodeAt(9))}var Bi;const yi=null===(Bi=window.trustedTypes)||void 0===Bi?void 0:Bi.createPolicy("defaultWorkerFactory",{createScriptURL:w=>w});class en{constructor(l,u,v,K,J){this.id=u;const se=function(w){if(St.li.MonacoEnvironment){if("function"==typeof St.li.MonacoEnvironment.getWorker)return St.li.MonacoEnvironment.getWorker("workerMain.js",w);if("function"==typeof St.li.MonacoEnvironment.getWorkerUrl){const l=St.li.MonacoEnvironment.getWorkerUrl("workerMain.js",w);return new Worker(yi?yi.createScriptURL(l):l,{name:w})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}(v);this.worker="function"==typeof se.then?se:Promise.resolve(se),this.postMessage(l,[]),this.worker.then(me=>{me.onmessage=function(xe){K(xe.data)},me.onmessageerror=J,"function"==typeof me.addEventListener&&me.addEventListener("error",J)})}getId(){return this.id}postMessage(l,u){this.worker&&this.worker.then(v=>v.postMessage(l,u))}dispose(){this.worker&&this.worker.then(l=>l.terminate()),this.worker=null}}let Vn=(()=>{class w{constructor(u){this._label=u,this._webWorkerFailedBeforeError=!1}create(u,v,K){let J=++w.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new en(u,J,this._label||"anonymous"+J,v,se=>{hn(se),this._webWorkerFailedBeforeError=se,K(se)})}}return w.LAST_WORKER_ID=0,w})();var Ht=m(87481);function Xe(w,l,u,v){return new Ht.Hs(w,l,u).ComputeDiff(v)}class dt{constructor(l){const u=[],v=[];for(let K=0,J=l.length;K<J;K++)u[K]=vn(l[K],1),v[K]=yn(l[K],1);this.lines=l,this._startColumns=u,this._endColumns=v}getElements(){const l=[];for(let u=0,v=this.lines.length;u<v;u++)l[u]=this.lines[u].substring(this._startColumns[u]-1,this._endColumns[u]-1);return l}getStrictElement(l){return this.lines[l]}getStartLineNumber(l){return l+1}getEndLineNumber(l){return l+1}createCharSequence(l,u,v){const K=[],J=[],se=[];let me=0;for(let xe=u;xe<=v;xe++){const We=this.lines[xe],ft=l?this._endColumns[xe]:We.length+1;for(let Jt=l?this._startColumns[xe]:1;Jt<ft;Jt++)K[me]=We.charCodeAt(Jt-1),J[me]=xe+1,se[me]=Jt,me++}return new Mt(K,J,se)}}class Mt{constructor(l,u,v){this._charCodes=l,this._lineNumbers=u,this._columns=v}getElements(){return this._charCodes}getStartLineNumber(l){return this._lineNumbers[l]}getStartColumn(l){return this._columns[l]}getEndLineNumber(l){return this._lineNumbers[l]}getEndColumn(l){return this._columns[l]+1}}class Vt{constructor(l,u,v,K,J,se,me,xe){this.originalStartLineNumber=l,this.originalStartColumn=u,this.originalEndLineNumber=v,this.originalEndColumn=K,this.modifiedStartLineNumber=J,this.modifiedStartColumn=se,this.modifiedEndLineNumber=me,this.modifiedEndColumn=xe}static createFromDiffChange(l,u,v){let K,J,se,me,xe,We,je,ft;return 0===l.originalLength?(K=0,J=0,se=0,me=0):(K=u.getStartLineNumber(l.originalStart),J=u.getStartColumn(l.originalStart),se=u.getEndLineNumber(l.originalStart+l.originalLength-1),me=u.getEndColumn(l.originalStart+l.originalLength-1)),0===l.modifiedLength?(xe=0,We=0,je=0,ft=0):(xe=v.getStartLineNumber(l.modifiedStart),We=v.getStartColumn(l.modifiedStart),je=v.getEndLineNumber(l.modifiedStart+l.modifiedLength-1),ft=v.getEndColumn(l.modifiedStart+l.modifiedLength-1)),new Vt(K,J,se,me,xe,We,je,ft)}}class rn{constructor(l,u,v,K,J){this.originalStartLineNumber=l,this.originalEndLineNumber=u,this.modifiedStartLineNumber=v,this.modifiedEndLineNumber=K,this.charChanges=J}static createFromDiffResult(l,u,v,K,J,se,me){let xe,We,je,ft,Jt;if(0===u.originalLength?(xe=v.getStartLineNumber(u.originalStart)-1,We=0):(xe=v.getStartLineNumber(u.originalStart),We=v.getEndLineNumber(u.originalStart+u.originalLength-1)),0===u.modifiedLength?(je=K.getStartLineNumber(u.modifiedStart)-1,ft=0):(je=K.getStartLineNumber(u.modifiedStart),ft=K.getEndLineNumber(u.modifiedStart+u.modifiedLength-1)),se&&u.originalLength>0&&u.originalLength<20&&u.modifiedLength>0&&u.modifiedLength<20&&J()){const gn=v.createCharSequence(l,u.originalStart,u.originalStart+u.originalLength-1),Yn=K.createCharSequence(l,u.modifiedStart,u.modifiedStart+u.modifiedLength-1);let vi=Xe(gn,Yn,J,!0).changes;me&&(vi=function(w){if(w.length<=1)return w;const l=[w[0]];let u=l[0];for(let v=1,K=w.length;v<K;v++){const J=w[v];Math.min(J.originalStart-(u.originalStart+u.originalLength),J.modifiedStart-(u.modifiedStart+u.modifiedLength))<3?(u.originalLength=J.originalStart+J.originalLength-u.originalStart,u.modifiedLength=J.modifiedStart+J.modifiedLength-u.modifiedStart):(l.push(J),u=J)}return l}(vi)),Jt=[];for(let Ci=0,to=vi.length;Ci<to;Ci++)Jt.push(Vt.createFromDiffChange(vi[Ci],gn,Yn))}return new rn(xe,We,je,ft,Jt)}}class wn{constructor(l,u,v){this.shouldComputeCharChanges=v.shouldComputeCharChanges,this.shouldPostProcessCharChanges=v.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=v.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=v.shouldMakePrettyDiff,this.originalLines=l,this.modifiedLines=u,this.original=new dt(l),this.modified=new dt(u),this.continueLineDiff=Sn(v.maxComputationTime),this.continueCharDiff=Sn(0===v.maxComputationTime?0:Math.min(v.maxComputationTime,5e3))}computeDiff(){if(1===this.original.lines.length&&0===this.original.lines[0].length)return 1===this.modified.lines.length&&0===this.modified.lines[0].length?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(1===this.modified.lines.length&&0===this.modified.lines[0].length)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const l=Xe(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),u=l.changes,v=l.quitEarly;if(this.shouldIgnoreTrimWhitespace){const me=[];for(let xe=0,We=u.length;xe<We;xe++)me.push(rn.createFromDiffResult(this.shouldIgnoreTrimWhitespace,u[xe],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:v,changes:me}}const K=[];let J=0,se=0;for(let me=-1,xe=u.length;me<xe;me++){const We=me+1<xe?u[me+1]:null,je=We?We.originalStart:this.originalLines.length,ft=We?We.modifiedStart:this.modifiedLines.length;for(;J<je&&se<ft;){const Jt=this.originalLines[J],gn=this.modifiedLines[se];if(Jt!==gn){{let Yn=vn(Jt,1),vi=vn(gn,1);for(;Yn>1&&vi>1&&Jt.charCodeAt(Yn-2)===gn.charCodeAt(vi-2);)Yn--,vi--;(Yn>1||vi>1)&&this._pushTrimWhitespaceCharChange(K,J+1,1,Yn,se+1,1,vi)}{let Yn=yn(Jt,1),vi=yn(gn,1);const Ci=Jt.length+1,to=gn.length+1;for(;Yn<Ci&&vi<to&&Jt.charCodeAt(Yn-1)===Jt.charCodeAt(vi-1);)Yn++,vi++;(Yn<Ci||vi<to)&&this._pushTrimWhitespaceCharChange(K,J+1,Yn,Ci,se+1,vi,to)}}J++,se++}We&&(K.push(rn.createFromDiffResult(this.shouldIgnoreTrimWhitespace,We,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),J+=We.originalLength,se+=We.modifiedLength)}return{quitEarly:v,changes:K}}_pushTrimWhitespaceCharChange(l,u,v,K,J,se,me){if(this._mergeTrimWhitespaceCharChange(l,u,v,K,J,se,me))return;let xe;this.shouldComputeCharChanges&&(xe=[new Vt(u,v,u,K,J,se,J,me)]),l.push(new rn(u,u,J,J,xe))}_mergeTrimWhitespaceCharChange(l,u,v,K,J,se,me){const xe=l.length;if(0===xe)return!1;const We=l[xe-1];return 0!==We.originalEndLineNumber&&0!==We.modifiedEndLineNumber&&We.originalEndLineNumber+1===u&&We.modifiedEndLineNumber+1===J&&(We.originalEndLineNumber=u,We.modifiedEndLineNumber=J,this.shouldComputeCharChanges&&We.charChanges&&We.charChanges.push(new Vt(u,v,u,K,J,se,J,me)),!0)}}function vn(w,l){const u=nt.LC(w);return-1===u?l:u+1}function yn(w,l){const u=nt.ow(w);return-1===u?l:u+2}function Sn(w){if(0===w)return()=>!0;const l=Date.now();return()=>Date.now()-l<w}var xn=m(69798),En=m(54745),Mn=m(59242);class Hn{constructor(l,u,v){const K=new Uint8Array(l*u);for(let J=0,se=l*u;J<se;J++)K[J]=v;this._data=K,this.rows=l,this.cols=u}get(l,u){return this._data[l*this.cols+u]}set(l,u,v){this._data[l*this.cols+u]=v}}class Jn{constructor(l){let u=0,v=0;for(let J=0,se=l.length;J<se;J++){const[me,xe,We]=l[J];xe>u&&(u=xe),me>v&&(v=me),We>v&&(v=We)}u++,v++;const K=new Hn(v,u,0);for(let J=0,se=l.length;J<se;J++){const[me,xe,We]=l[J];K.set(me,xe,We)}this._states=K,this._maxCharCode=u}nextState(l,u){return u<0||u>=this._maxCharCode?0:this._states.get(l,u)}}let mi=null,Nn=null;class ai{static _createLink(l,u,v,K,J){let se=J-1;do{const me=u.charCodeAt(se);if(2!==l.get(me))break;se--}while(se>K);if(K>0){const me=u.charCodeAt(K-1),xe=u.charCodeAt(se);(40===me&&41===xe||91===me&&93===xe||123===me&&125===xe)&&se--}return{range:{startLineNumber:v,startColumn:K+1,endLineNumber:v,endColumn:se+2},url:u.substring(K,se+1)}}static computeLinks(l,u=function(){return null===mi&&(mi=new Jn([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),mi}()){const v=function(){if(null===Nn){Nn=new Mn.N(0);const w=" \t<>'\"\u3001\u3002\uff61\uff64\uff0c\uff0e\uff1a\uff1b\u2018\u3008\u300c\u300e\u3014\uff08\uff3b\uff5b\uff62\uff63\uff5d\uff3d\uff09\u3015\u300f\u300d\u3009\u2019\uff40\uff5e\u2026";for(let u=0;u<w.length;u++)Nn.set(w.charCodeAt(u),1);const l=".,;";for(let u=0;u<l.length;u++)Nn.set(l.charCodeAt(u),2)}return Nn}(),K=[];for(let J=1,se=l.getLineCount();J<=se;J++){const me=l.getLineContent(J),xe=me.length;let We=0,je=0,ft=0,Jt=1,gn=!1,Yn=!1,vi=!1,Ci=!1;for(;We<xe;){let to=!1;const io=me.charCodeAt(We);if(13===Jt){let Vi;switch(io){case 40:gn=!0,Vi=0;break;case 41:Vi=gn?0:1;break;case 91:vi=!0,Yn=!0,Vi=0;break;case 93:vi=!1,Vi=Yn?0:1;break;case 123:Ci=!0,Vi=0;break;case 125:Vi=Ci?0:1;break;case 39:Vi=34===ft||96===ft?0:1;break;case 34:Vi=39===ft||96===ft?0:1;break;case 96:Vi=39===ft||34===ft?0:1;break;case 42:Vi=42===ft?1:0;break;case 124:Vi=124===ft?1:0;break;case 32:Vi=vi?0:1;break;default:Vi=v.get(io)}1===Vi&&(K.push(ai._createLink(v,me,J,je,We)),to=!0)}else if(12===Jt){let Vi;91===io?(Yn=!0,Vi=0):Vi=v.get(io),1===Vi?to=!0:Jt=13}else Jt=u.nextState(Jt,io),0===Jt&&(to=!0);to&&(Jt=1,gn=!1,Yn=!1,Ci=!1,je=We+1,ft=io),We++}13===Jt&&K.push(ai._createLink(v,me,J,je,xe))}return K}}class kn{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(l,u,v,K,J){if(l&&u){const se=this.doNavigateValueSet(u,J);if(se)return{range:l,value:se}}if(v&&K){const se=this.doNavigateValueSet(K,J);if(se)return{range:v,value:se}}return null}doNavigateValueSet(l,u){const v=this.numberReplace(l,u);return null!==v?v:this.textReplace(l,u)}numberReplace(l,u){const v=Math.pow(10,l.length-(l.lastIndexOf(".")+1));let K=Number(l),J=parseFloat(l);return isNaN(K)||isNaN(J)||K!==J?null:0!==K||u?(K=Math.floor(K*v),K+=u?v:-v,String(K/v)):null}textReplace(l,u){return this.valueSetsReplace(this._defaultValueSet,l,u)}valueSetsReplace(l,u,v){let K=null;for(let J=0,se=l.length;null===K&&J<se;J++)K=this.valueSetReplace(l[J],u,v);return K}valueSetReplace(l,u,v){let K=l.indexOf(u);return K>=0?(K+=v?1:-1,K<0?K=l.length-1:K%=l.length,l[K]):null}}kn.INSTANCE=new kn;var _i=m(39932),Ti=m(4263),bi=function(w,l,u,v){return new(u||(u=Promise))(function(J,se){function me(je){try{We(v.next(je))}catch(ft){se(ft)}}function xe(je){try{We(v.throw(je))}catch(ft){se(ft)}}function We(je){je.done?J(je.value):function(J){return J instanceof u?J:new u(function(se){se(J)})}(je.value).then(me,xe)}We((v=v.apply(w,l||[])).next())})};class Yi extends class{constructor(l,u,v,K){this._uri=l,this._lines=u,this._eol=v,this._versionId=K,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return null===this._cachedTextValue&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(l){l.eol&&l.eol!==this._eol&&(this._eol=l.eol,this._lineStarts=null);const u=l.changes;for(const v of u)this._acceptDeleteRange(v.range),this._acceptInsertText(new i.L(v.range.startLineNumber,v.range.startColumn),v.text);this._versionId=l.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const l=this._eol.length,u=this._lines.length,v=new Uint32Array(u);for(let K=0;K<u;K++)v[K]=this._lines[K].length+l;this._lineStarts=new xn.oQ(v)}}_setLineText(l,u){this._lines[l]=u,this._lineStarts&&this._lineStarts.setValue(l,this._lines[l].length+this._eol.length)}_acceptDeleteRange(l){if(l.startLineNumber!==l.endLineNumber)this._setLineText(l.startLineNumber-1,this._lines[l.startLineNumber-1].substring(0,l.startColumn-1)+this._lines[l.endLineNumber-1].substring(l.endColumn-1)),this._lines.splice(l.startLineNumber,l.endLineNumber-l.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(l.startLineNumber,l.endLineNumber-l.startLineNumber);else{if(l.startColumn===l.endColumn)return;this._setLineText(l.startLineNumber-1,this._lines[l.startLineNumber-1].substring(0,l.startColumn-1)+this._lines[l.startLineNumber-1].substring(l.endColumn-1))}}_acceptInsertText(l,u){if(0===u.length)return;const v=(0,nt.uq)(u);if(1===v.length)return void this._setLineText(l.lineNumber-1,this._lines[l.lineNumber-1].substring(0,l.column-1)+v[0]+this._lines[l.lineNumber-1].substring(l.column-1));v[v.length-1]+=this._lines[l.lineNumber-1].substring(l.column-1),this._setLineText(l.lineNumber-1,this._lines[l.lineNumber-1].substring(0,l.column-1)+v[0]);const K=new Uint32Array(v.length-1);for(let J=1;J<v.length;J++)this._lines.splice(l.lineNumber+J-1,0,v[J]),K[J-1]=v[J].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(l.lineNumber,K)}}{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(l){return this._lines[l-1]}getWordAtPosition(l,u){const v=(0,En.t2)(l.column,(0,En.eq)(u),this._lines[l.lineNumber-1],0);return v?new O.e(l.lineNumber,v.startColumn,l.lineNumber,v.endColumn):null}words(l){const u=this._lines,v=this._wordenize.bind(this);let K=0,J="",se=0,me=[];return{*[Symbol.iterator](){for(;;)if(se<me.length){const xe=J.substring(me[se].start,me[se].end);se+=1,yield xe}else{if(!(K<u.length))break;J=u[K],me=v(J,l),se=0,K+=1}}}}getLineWords(l,u){const v=this._lines[l-1],K=this._wordenize(v,u),J=[];for(const se of K)J.push({word:v.substring(se.start,se.end),startColumn:se.start+1,endColumn:se.end+1});return J}_wordenize(l,u){const v=[];let K;for(u.lastIndex=0;(K=u.exec(l))&&0!==K[0].length;)v.push({start:K.index,end:K.index+K[0].length});return v}getValueInRange(l){if((l=this._validateRange(l)).startLineNumber===l.endLineNumber)return this._lines[l.startLineNumber-1].substring(l.startColumn-1,l.endColumn-1);const u=this._eol,v=l.startLineNumber-1,K=l.endLineNumber-1,J=[];J.push(this._lines[v].substring(l.startColumn-1));for(let se=v+1;se<K;se++)J.push(this._lines[se]);return J.push(this._lines[K].substring(0,l.endColumn-1)),J.join(u)}offsetAt(l){return l=this._validatePosition(l),this._ensureLineStarts(),this._lineStarts.getPrefixSum(l.lineNumber-2)+(l.column-1)}positionAt(l){l=Math.floor(l),l=Math.max(0,l),this._ensureLineStarts();const u=this._lineStarts.getIndexOf(l);return{lineNumber:1+u.index,column:1+Math.min(u.remainder,this._lines[u.index].length)}}_validateRange(l){const u=this._validatePosition({lineNumber:l.startLineNumber,column:l.startColumn}),v=this._validatePosition({lineNumber:l.endLineNumber,column:l.endColumn});return u.lineNumber!==l.startLineNumber||u.column!==l.startColumn||v.lineNumber!==l.endLineNumber||v.column!==l.endColumn?{startLineNumber:u.lineNumber,startColumn:u.column,endLineNumber:v.lineNumber,endColumn:v.column}:l}_validatePosition(l){if(!i.L.isIPosition(l))throw new Error("bad position");let{lineNumber:u,column:v}=l,K=!1;if(u<1)u=1,v=1,K=!0;else if(u>this._lines.length)u=this._lines.length,v=this._lines[u-1].length+1,K=!0;else{const J=this._lines[u-1].length+1;v<1?(v=1,K=!0):v>J&&(v=J,K=!0)}return K?{lineNumber:u,column:v}:l}}let zn=(()=>{class w{constructor(u,v){this._host=u,this._models=Object.create(null),this._foreignModuleFactory=v,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(u){return this._models[u]}_getModels(){const u=[];return Object.keys(this._models).forEach(v=>u.push(this._models[v])),u}acceptNewModel(u){this._models[u.url]=new Yi(E.o.parse(u.url),u.lines,u.EOL,u.versionId)}acceptModelChanged(u,v){this._models[u]&&this._models[u].onEvents(v)}acceptRemovedModel(u){!this._models[u]||delete this._models[u]}computeUnicodeHighlights(u,v,K){return bi(this,void 0,void 0,function*(){const J=this._getModel(u);return J?Ti.a.computeUnicodeHighlights(J,v,K):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}computeDiff(u,v,K,J){return bi(this,void 0,void 0,function*(){const se=this._getModel(u),me=this._getModel(v);if(!se||!me)return null;const xe=se.getLinesContent(),We=me.getLinesContent(),ft=new wn(xe,We,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:K,shouldMakePrettyDiff:!0,maxComputationTime:J}).computeDiff(),Jt=!(ft.changes.length>0)&&this._modelsAreIdentical(se,me);return{quitEarly:ft.quitEarly,identical:Jt,changes:ft.changes}})}_modelsAreIdentical(u,v){const K=u.getLineCount();if(K!==v.getLineCount())return!1;for(let se=1;se<=K;se++)if(u.getLineContent(se)!==v.getLineContent(se))return!1;return!0}computeMoreMinimalEdits(u,v){return bi(this,void 0,void 0,function*(){const K=this._getModel(u);if(!K)return v;const J=[];let se;v=v.slice(0).sort((me,xe)=>me.range&&xe.range?O.e.compareRangesUsingStarts(me.range,xe.range):(me.range?0:1)-(xe.range?0:1));for(let{range:me,text:xe,eol:We}of v){if("number"==typeof We&&(se=We),O.e.isEmpty(me)&&!xe)continue;const je=K.getValueInRange(me);if(xe=xe.replace(/\r\n|\n|\r/g,K.eol),je===xe)continue;if(Math.max(xe.length,je.length)>w._diffLimit){J.push({range:me,text:xe});continue}const ft=(0,Ht.a$)(je,xe,!1),Jt=K.offsetAt(O.e.lift(me).getStartPosition());for(const gn of ft){const Yn=K.positionAt(Jt+gn.originalStart),vi=K.positionAt(Jt+gn.originalStart+gn.originalLength),Ci={text:xe.substr(gn.modifiedStart,gn.modifiedLength),range:{startLineNumber:Yn.lineNumber,startColumn:Yn.column,endLineNumber:vi.lineNumber,endColumn:vi.column}};K.getValueInRange(Ci.range)!==Ci.text&&J.push(Ci)}}return"number"==typeof se&&J.push({eol:se,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),J})}computeLinks(u){return bi(this,void 0,void 0,function*(){const v=this._getModel(u);return v?function(w){return w&&"function"==typeof w.getLineCount&&"function"==typeof w.getLineContent?ai.computeLinks(w):[]}(v):null})}textualSuggest(u,v,K,J){return bi(this,void 0,void 0,function*(){const se=new _i.G(!0),me=new RegExp(K,J),xe=new Set;e:for(let We of u){const je=this._getModel(We);if(je)for(let ft of je.words(me))if(ft!==v&&isNaN(Number(ft))&&(xe.add(ft),xe.size>w._suggestionsLimit))break e}return{words:Array.from(xe),duration:se.elapsed()}})}computeWordRanges(u,v,K,J){return bi(this,void 0,void 0,function*(){const se=this._getModel(u);if(!se)return Object.create(null);const me=new RegExp(K,J),xe=Object.create(null);for(let We=v.startLineNumber;We<v.endLineNumber;We++){const je=se.getLineWords(We,me);for(const ft of je){if(!isNaN(Number(ft.word)))continue;let Jt=xe[ft.word];Jt||(Jt=[],xe[ft.word]=Jt),Jt.push({startLineNumber:We,startColumn:ft.startColumn,endLineNumber:We,endColumn:ft.endColumn})}}return xe})}navigateValueSet(u,v,K,J,se){return bi(this,void 0,void 0,function*(){const me=this._getModel(u);if(!me)return null;const xe=new RegExp(J,se);v.startColumn===v.endColumn&&(v={startLineNumber:v.startLineNumber,startColumn:v.startColumn,endLineNumber:v.endLineNumber,endColumn:v.endColumn+1});const We=me.getValueInRange(v),je=me.getWordAtPosition({lineNumber:v.startLineNumber,column:v.startColumn},xe);if(!je)return null;const ft=me.getValueInRange(je);return kn.INSTANCE.navigateValueSet(v,We,je,ft,K)})}loadForeignModule(u,v,K){const me={host:un.IU(K,(xe,We)=>this._host.fhr(xe,We)),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(me,v),Promise.resolve(un.$E(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(u,v){if(!this._foreignModule||"function"!=typeof this._foreignModule[u])return Promise.reject(new Error("Missing requestHandler or method: "+u));try{return Promise.resolve(this._foreignModule[u].apply(this._foreignModule,v))}catch(K){return Promise.reject(K)}}}return w._diffLimit=1e5,w._suggestionsLimit=1e4,w})();"function"==typeof importScripts&&(St.li.monaco=rt());var so=m(34276),ei=m(89822),go=m(2646),Di=m(3494),bo=function(w,l){return function(u,v){l(u,v,w)}},vo=function(w,l,u,v){return new(u||(u=Promise))(function(J,se){function me(je){try{We(v.next(je))}catch(ft){se(ft)}}function xe(je){try{We(v.throw(je))}catch(ft){se(ft)}}function We(je){je.done?J(je.value):function(J){return J instanceof u?J:new u(function(se){se(J)})}(je.value).then(me,xe)}We((v=v.apply(w,l||[])).next())})};function No(w,l){const u=w.getModel(l);return!(!u||u.isTooLargeForSyncing())}let ys=class extends Ye.JT{constructor(l,u,v,K,J){super(),this._modelService=l,this._workerManager=this._register(new Do(this._modelService,K)),this._logService=v,this._register(J.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(se,me)=>No(this._modelService,se.uri)?this._workerManager.withWorker().then(xe=>xe.computeLinks(se.uri)).then(xe=>xe&&{links:xe}):Promise.resolve({links:[]})})),this._register(J.completionProvider.register("*",new ks(this._workerManager,u,this._modelService,K)))}dispose(){super.dispose()}canComputeUnicodeHighlights(l){return No(this._modelService,l)}computedUnicodeHighlights(l,u,v){return this._workerManager.withWorker().then(K=>K.computedUnicodeHighlights(l,u,v))}computeDiff(l,u,v,K){return this._workerManager.withWorker().then(J=>J.computeDiff(l,u,v,K))}computeMoreMinimalEdits(l,u){if((0,ei.Of)(u)){if(!No(this._modelService,l))return Promise.resolve(u);const v=_i.G.create(!0),K=this._workerManager.withWorker().then(J=>J.computeMoreMinimalEdits(l,u));return K.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",l.toString(!0),v.elapsed())),Promise.race([K,(0,fn.Vs)(1e3).then(()=>u)])}return Promise.resolve(void 0)}canNavigateValueSet(l){return No(this._modelService,l)}navigateValueSet(l,u,v){return this._workerManager.withWorker().then(K=>K.navigateValueSet(l,u,v))}canComputeWordRanges(l){return No(this._modelService,l)}computeWordRanges(l,u){return this._workerManager.withWorker().then(v=>v.computeWordRanges(l,u))}};ys=function(w,l,u,v){var se,K=arguments.length,J=K<3?l:null===v?v=Object.getOwnPropertyDescriptor(l,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(w,l,u,v);else for(var me=w.length-1;me>=0;me--)(se=w[me])&&(J=(K<3?se(J):K>3?se(l,u,J):se(l,u))||J);return K>3&&J&&Object.defineProperty(l,u,J),J}([bo(0,Wt.q),bo(1,so.V),bo(2,go.VZ),bo(3,mt.c_),bo(4,Di.p)],ys);class ks{constructor(l,u,v,K){this.languageConfigurationService=K,this._debugDisplayName="wordbasedCompletions",this._workerManager=l,this._configurationService=u,this._modelService=v}provideCompletionItems(l,u){return vo(this,void 0,void 0,function*(){const v=this._configurationService.getValue(l.uri,u,"editor");if(!v.wordBasedSuggestions)return;const K=[];if("currentDocument"===v.wordBasedSuggestionsMode)No(this._modelService,l.uri)&&K.push(l.uri);else for(const ft of this._modelService.getModels())!No(this._modelService,ft.uri)||(ft===l?K.unshift(ft.uri):("allDocuments"===v.wordBasedSuggestionsMode||ft.getLanguageId()===l.getLanguageId())&&K.push(ft.uri));if(0===K.length)return;const J=this.languageConfigurationService.getLanguageConfiguration(l.getLanguageId()).getWordDefinition(),se=l.getWordAtPosition(u),me=se?new O.e(u.lineNumber,se.startColumn,u.lineNumber,se.endColumn):O.e.fromPositions(u),xe=me.setEndPosition(u.lineNumber,u.column),je=yield(yield this._workerManager.withWorker()).textualSuggest(K,null==se?void 0:se.word,J);return je?{duration:je.duration,suggestions:je.words.map(ft=>({kind:18,label:ft,insertText:ft,range:{insert:xe,replace:me}}))}:void 0})}}class Do extends Ye.JT{constructor(l,u){super(),this.languageConfigurationService=u,this._modelService=l,this._editorWorkerClient=null,this._lastWorkerUsedTime=(new Date).getTime(),this._register(new fn.zh).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(15e4)),this._register(this._modelService.onModelRemoved(K=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){this._editorWorkerClient&&0===this._modelService.getModels().length&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){this._editorWorkerClient&&(new Date).getTime()-this._lastWorkerUsedTime>3e5&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=(new Date).getTime(),this._editorWorkerClient||(this._editorWorkerClient=new Fo(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class Ss extends Ye.JT{constructor(l,u,v){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=l,this._modelService=u,!v){const K=new fn.zh;K.cancelAndSet(()=>this._checkStopModelSync(),Math.round(3e4)),this._register(K)}}dispose(){for(let l in this._syncedModels)(0,Ye.B9)(this._syncedModels[l]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(l,u){for(const v of l){const K=v.toString();this._syncedModels[K]||this._beginModelSync(v,u),this._syncedModels[K]&&(this._syncedModelsLastUsedTime[K]=(new Date).getTime())}}_checkStopModelSync(){const l=(new Date).getTime(),u=[];for(let v in this._syncedModelsLastUsedTime)l-this._syncedModelsLastUsedTime[v]>6e4&&u.push(v);for(const v of u)this._stopModelSync(v)}_beginModelSync(l,u){const v=this._modelService.getModel(l);if(!v||!u&&v.isTooLargeForSyncing())return;const K=l.toString();this._proxy.acceptNewModel({url:v.uri.toString(),lines:v.getLinesContent(),EOL:v.getEOL(),versionId:v.getVersionId()});const J=new Ye.SL;J.add(v.onDidChangeContent(se=>{this._proxy.acceptModelChanged(K.toString(),se)})),J.add(v.onWillDispose(()=>{this._stopModelSync(K)})),J.add((0,Ye.OF)(()=>{this._proxy.acceptRemovedModel(K)})),this._syncedModels[K]=J}_stopModelSync(l){const u=this._syncedModels[l];delete this._syncedModels[l],delete this._syncedModelsLastUsedTime[l],(0,Ye.B9)(u)}}class ms{constructor(l){this._instance=l,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class qs{constructor(l){this._workerClient=l}fhr(l,u){return this._workerClient.fhr(l,u)}}class Fo extends Ye.JT{constructor(l,u,v,K){super(),this.languageConfigurationService=K,this._disposed=!1,this._modelService=l,this._keepIdleModels=u,this._workerFactory=new Vn(v),this._worker=null,this._modelManager=null}fhr(l,u){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new $e(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new qs(this)))}catch(l){hn(l),this._worker=new ms(new zn(new qs(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,l=>(hn(l),this._worker=new ms(new zn(new qs(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(l){return this._modelManager||(this._modelManager=this._register(new Ss(l,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(l,u=!1){return vo(this,void 0,void 0,function*(){return this._disposed?Promise.reject((0,Dt.F0)()):this._getProxy().then(v=>(this._getOrCreateModelManager(v).ensureSyncedResources(l,u),v))})}computedUnicodeHighlights(l,u,v){return this._withSyncedResources([l]).then(K=>K.computeUnicodeHighlights(l.toString(),u,v))}computeDiff(l,u,v,K){return this._withSyncedResources([l,u],!0).then(J=>J.computeDiff(l.toString(),u.toString(),v,K))}computeMoreMinimalEdits(l,u){return this._withSyncedResources([l]).then(v=>v.computeMoreMinimalEdits(l.toString(),u))}computeLinks(l){return this._withSyncedResources([l]).then(u=>u.computeLinks(l.toString()))}textualSuggest(l,u,v){return vo(this,void 0,void 0,function*(){const K=yield this._withSyncedResources(l),J=v.source,se=(0,nt.mr)(v);return K.textualSuggest(l.map(me=>me.toString()),u,J,se)})}computeWordRanges(l,u){return this._withSyncedResources([l]).then(v=>{const K=this._modelService.getModel(l);if(!K)return Promise.resolve(null);const J=this.languageConfigurationService.getLanguageConfiguration(K.getLanguageId()).getWordDefinition(),se=J.source,me=(0,nt.mr)(J);return v.computeWordRanges(l.toString(),u,se,me)})}navigateValueSet(l,u,v){return this._withSyncedResources([l]).then(K=>{const J=this._modelService.getModel(l);if(!J)return null;const se=this.languageConfigurationService.getLanguageConfiguration(J.getLanguageId()).getWordDefinition(),me=se.source,xe=(0,nt.mr)(se);return K.navigateValueSet(l.toString(),u,v,me,xe)})}dispose(){super.dispose(),this._disposed=!0}}class dr extends Fo{constructor(l,u,v){super(l,v.keepIdleModels||!1,v.label,u),this._foreignModuleId=v.moduleId,this._foreignModuleCreateData=v.createData||null,this._foreignModuleHost=v.host||null,this._foreignProxy=null}fhr(l,u){if(!this._foreignModuleHost||"function"!=typeof this._foreignModuleHost[l])return Promise.reject(new Error("Missing method "+l+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[l].apply(this._foreignModuleHost,u))}catch(v){return Promise.reject(v)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(l=>{const u=this._foreignModuleHost?un.$E(this._foreignModuleHost):[];return l.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,u).then(v=>{this._foreignModuleCreateData=null;const K=(me,xe)=>l.fmr(me,xe),J=(me,xe)=>function(){const We=Array.prototype.slice.call(arguments,0);return xe(me,We)},se={};for(const me of v)se[me]=J(me,K);return se})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(l){return this._withSyncedResources(l).then(u=>this.getProxy())}}var Lr=m(5928),uo=m(19362),Io=m(42483);function Zr(w){return!function(w){return Array.isArray(w)}(w)}function js(w){return"string"==typeof w}function ps(w){return!js(w)}function Eo(w){return!w}function xs(w,l){return w.ignoreCase&&l?l.toLowerCase():l}function er(w){return w.replace(/[&<>'"_]/g,"-")}function ya(w,l){console.log(`${w.languageId}: ${l}`)}function zi(w,l){return new Error(`${w.languageId}: ${l}`)}function So(w,l,u,v,K){let se=null;return l.replace(/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,function(me,xe,We,je,ft,Jt,gn,Yn,vi){return Eo(We)?Eo(je)?!Eo(ft)&&ft<v.length?xs(w,v[ft]):!Eo(gn)&&w&&"string"==typeof w[gn]?w[gn]:(null===se&&(se=K.split("."),se.unshift(K)),!Eo(Jt)&&Jt<se.length?xs(w,se[Jt]):""):xs(w,u):"$"})}function Ts(w,l){let u=l;for(;u&&u.length>0;){const v=w.tokenizer[u];if(v)return v;const K=u.lastIndexOf(".");u=K<0?null:u.substr(0,K)}return null}class wt{constructor(l){this._maxCacheDepth=l,this._entries=Object.create(null)}static create(l,u){return this._INSTANCE.create(l,u)}create(l,u){if(null!==l&&l.depth>=this._maxCacheDepth)return new R(l,u);let v=R.getStackElementId(l);v.length>0&&(v+="|"),v+=u;let K=this._entries[v];return K||(K=new R(l,u),this._entries[v]=K,K)}}wt._INSTANCE=new wt(5);class R{constructor(l,u){this.parent=l,this.state=u,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(l){let u="";for(;null!==l;)u.length>0&&(u+="|"),u+=l.state,l=l.parent;return u}static _equals(l,u){for(;null!==l&&null!==u;){if(l===u)return!0;if(l.state!==u.state)return!1;l=l.parent,u=u.parent}return null===l&&null===u}equals(l){return R._equals(this,l)}push(l){return wt.create(this,l)}pop(){return this.parent}popall(){let l=this;for(;l.parent;)l=l.parent;return l}switchTo(l){return wt.create(this.parent,l)}}class h{constructor(l,u){this.languageId=l,this.state=u}equals(l){return this.languageId===l.languageId&&this.state.equals(l.state)}clone(){return this.state.clone()===this.state?this:new h(this.languageId,this.state)}}class x{constructor(l){this._maxCacheDepth=l,this._entries=Object.create(null)}static create(l,u){return this._INSTANCE.create(l,u)}create(l,u){if(null!==u)return new W(l,u);if(null!==l&&l.depth>=this._maxCacheDepth)return new W(l,u);const v=R.getStackElementId(l);let K=this._entries[v];return K||(K=new W(l,null),this._entries[v]=K,K)}}x._INSTANCE=new x(5);class W{constructor(l,u){this.stack=l,this.embeddedLanguageData=u}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:x.create(this.stack,this.embeddedLanguageData)}equals(l){return!!(l instanceof W&&this.stack.equals(l.stack))&&(null===this.embeddedLanguageData&&null===l.embeddedLanguageData||null!==this.embeddedLanguageData&&null!==l.embeddedLanguageData&&this.embeddedLanguageData.equals(l.embeddedLanguageData))}}class te{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(l){this._languageId=l}emit(l,u){this._lastTokenType===u&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=u,this._lastTokenLanguage=this._languageId,this._tokens.push(new T.WU(l,u,this._languageId)))}nestedLanguageTokenize(l,u,v,K){const J=v.languageId,se=v.state,me=T.RW.get(J);if(!me)return this.enterLanguage(J),this.emit(K,""),se;const xe=me.tokenize(l,u,se);if(0!==K)for(const We of xe.tokens)this._tokens.push(new T.WU(We.offset+K,We.type,We.language));else this._tokens=this._tokens.concat(xe.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,xe.endState}finalize(l){return new T.hG(this._tokens,l)}}class ae{constructor(l,u){this._languageService=l,this._theme=u,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(l){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(l)}emit(l,u){const v=this._theme.match(this._currentLanguageId,u);this._lastTokenMetadata!==v&&(this._lastTokenMetadata=v,this._tokens.push(l),this._tokens.push(v))}static _merge(l,u,v){const K=null!==l?l.length:0,J=u.length,se=null!==v?v.length:0;if(0===K&&0===J&&0===se)return new Uint32Array(0);if(0===K&&0===J)return v;if(0===J&&0===se)return l;const me=new Uint32Array(K+J+se);null!==l&&me.set(l);for(let xe=0;xe<J;xe++)me[K+xe]=u[xe];return null!==v&&me.set(v,K+J),me}nestedLanguageTokenize(l,u,v,K){const J=v.languageId,se=v.state,me=T.RW.get(J);if(!me)return this.enterLanguage(J),this.emit(K,""),se;const xe=me.tokenizeEncoded(l,u,se);if(0!==K)for(let We=0,je=xe.tokens.length;We<je;We+=2)xe.tokens[We]+=K;return this._prependTokens=ae._merge(this._prependTokens,this._tokens,xe.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,xe.endState}finalize(l){return new T.DI(ae._merge(this._prependTokens,this._tokens,null),l)}}class Ce{constructor(l,u,v,K){this._languageService=l,this._standaloneThemeService=u,this._languageId=v,this._lexer=K,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let J=!1;this._tokenizationRegistryListener=T.RW.onDidChange(se=>{if(J)return;let me=!1;for(let xe=0,We=se.changedLanguages.length;xe<We;xe++)if(this._embeddedLanguages[se.changedLanguages[xe]]){me=!0;break}me&&(J=!0,T.RW.fire([this._languageId]),J=!1)})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){const l=[];for(let u in this._embeddedLanguages){const v=T.RW.get(u);if(v){if(v instanceof Ce){const K=v.getLoadStatus();!1===K.loaded&&l.push(K.promise)}}else T.RW.isResolved(u)||l.push(T.RW.getOrCreate(u))}return 0===l.length?{loaded:!0}:{loaded:!1,promise:Promise.all(l).then(u=>{})}}getInitialState(){const l=wt.create(null,this._lexer.start);return x.create(l,null)}tokenize(l,u,v){const K=new te,J=this._tokenize(l,u,v,K);return K.finalize(J)}tokenizeEncoded(l,u,v){const K=new ae(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),J=this._tokenize(l,u,v,K);return K.finalize(J)}_tokenize(l,u,v,K){return v.embeddedLanguageData?this._nestedTokenize(l,u,v,0,K):this._myTokenize(l,u,v,0,K)}_findLeavingNestedLanguageOffset(l,u){let v=this._lexer.tokenizer[u.stack.state];if(!v&&(v=Ts(this._lexer,u.stack.state),!v))throw zi(this._lexer,"tokenizer state is not defined: "+u.stack.state);let K=-1,J=!1;for(const se of v){if(!ps(se.action)||"@pop"!==se.action.nextEmbedded)continue;J=!0;let me=se.regex;const xe=se.regex.source;if("^(?:"===xe.substr(0,4)&&")"===xe.substr(xe.length-1,1)){const je=(me.ignoreCase?"i":"")+(me.unicode?"u":"");me=new RegExp(xe.substr(4,xe.length-5),je)}const We=l.search(me);-1===We||0!==We&&se.matchOnlyAtLineStart||(-1===K||We<K)&&(K=We)}if(!J)throw zi(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+u.stack.state);return K}_nestedTokenize(l,u,v,K,J){const se=this._findLeavingNestedLanguageOffset(l,v);if(-1===se){const We=J.nestedLanguageTokenize(l,u,v.embeddedLanguageData,K);return x.create(v.stack,new h(v.embeddedLanguageData.languageId,We))}const me=l.substring(0,se);me.length>0&&J.nestedLanguageTokenize(me,!1,v.embeddedLanguageData,K);const xe=l.substring(se);return this._myTokenize(xe,u,v,K+se,J)}_safeRuleName(l){return l?l.name:"(unknown)"}_myTokenize(l,u,v,K,J){J.enterLanguage(this._languageId);const se=l.length,me=u&&this._lexer.includeLF?l+"\n":l,xe=me.length;let We=v.embeddedLanguageData,je=v.stack,ft=0,Jt=null,gn=!0;for(;gn||ft<xe;){const Yn=ft,vi=je.depth,Ci=Jt?Jt.groups.length:0,to=je.state;let io=null,Vi=null,Zi=null,br=null,ga=null;if(Jt){io=Jt.matches;const fo=Jt.groups.shift();Vi=fo.matched,Zi=fo.action,br=Jt.rule,0===Jt.groups.length&&(Jt=null)}else{if(!gn&&ft>=xe)break;gn=!1;let fo=this._lexer.tokenizer[to];if(!fo&&(fo=Ts(this._lexer,to),!fo))throw zi(this._lexer,"tokenizer state is not defined: "+to);let rs=me.substr(ft);for(const Ki of fo)if((0===ft||!Ki.matchOnlyAtLineStart)&&(io=rs.match(Ki.regex),io)){Vi=io[0],Zi=Ki.action;break}}if(io||(io=[""],Vi=""),Zi||(ft<xe&&(io=[me.charAt(ft)],Vi=io[0]),Zi=this._lexer.defaultToken),null===Vi)break;for(ft+=Vi.length;Zr(Zi)&&ps(Zi)&&Zi.test;)Zi=Zi.test(Vi,io,to,ft===xe);let bs=null;if("string"==typeof Zi||Array.isArray(Zi))bs=Zi;else if(Zi.group)bs=Zi.group;else if(null!=Zi.token){if(bs=Zi.tokenSubst?So(this._lexer,Zi.token,Vi,io,to):Zi.token,Zi.nextEmbedded)if("@pop"===Zi.nextEmbedded){if(!We)throw zi(this._lexer,"cannot pop embedded language if not inside one");We=null}else{if(We)throw zi(this._lexer,"cannot enter embedded language from within an embedded language");ga=So(this._lexer,Zi.nextEmbedded,Vi,io,to)}if(Zi.goBack&&(ft=Math.max(0,ft-Zi.goBack)),Zi.switchTo&&"string"==typeof Zi.switchTo){let fo=So(this._lexer,Zi.switchTo,Vi,io,to);if("@"===fo[0]&&(fo=fo.substr(1)),!Ts(this._lexer,fo))throw zi(this._lexer,"trying to switch to a state '"+fo+"' that is undefined in rule: "+this._safeRuleName(br));je=je.switchTo(fo)}else{if(Zi.transform&&"function"==typeof Zi.transform)throw zi(this._lexer,"action.transform not supported");if(Zi.next)if("@push"===Zi.next){if(je.depth>=this._lexer.maxStack)throw zi(this._lexer,"maximum tokenizer stack size reached: ["+je.state+","+je.parent.state+",...]");je=je.push(to)}else if("@pop"===Zi.next){if(je.depth<=1)throw zi(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(br));je=je.pop()}else if("@popall"===Zi.next)je=je.popall();else{let fo=So(this._lexer,Zi.next,Vi,io,to);if("@"===fo[0]&&(fo=fo.substr(1)),!Ts(this._lexer,fo))throw zi(this._lexer,"trying to set a next state '"+fo+"' that is undefined in rule: "+this._safeRuleName(br));je=je.push(fo)}}Zi.log&&"string"==typeof Zi.log&&ya(this._lexer,this._lexer.languageId+": "+So(this._lexer,Zi.log,Vi,io,to))}if(null===bs)throw zi(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(br));const ta=fo=>{const rs=this._languageService.getLanguageIdByLanguageName(fo)||this._languageService.getLanguageIdByMimeType(fo)||fo,Ki=this._getNestedEmbeddedLanguageData(rs);if(ft<xe){const sr=l.substr(ft);return this._nestedTokenize(sr,u,x.create(je,Ki),K+ft,J)}return x.create(je,Ki)};if(Array.isArray(bs)){if(Jt&&Jt.groups.length>0)throw zi(this._lexer,"groups cannot be nested: "+this._safeRuleName(br));if(io.length!==bs.length+1)throw zi(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(br));let fo=0;for(let rs=1;rs<io.length;rs++)fo+=io[rs].length;if(fo!==Vi.length)throw zi(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(br));Jt={rule:br,matches:io,groups:[]};for(let rs=0;rs<bs.length;rs++)Jt.groups[rs]={action:bs[rs],matched:io[rs+1]};ft-=Vi.length}else{{if("@rematch"===bs&&(ft-=Vi.length,Vi="",io=null,bs="",null!==ga))return ta(ga);if(0===Vi.length){if(0===xe||vi!==je.depth||to!==je.state||(Jt?Jt.groups.length:0)!==Ci)continue;throw zi(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(br))}let fo=null;if(js(bs)&&0===bs.indexOf("@brackets")){const rs=bs.substr("@brackets".length),Ki=Oe(this._lexer,Vi);if(!Ki)throw zi(this._lexer,"@brackets token returned but no bracket defined as: "+Vi);fo=er(Ki.token+rs)}else fo=er(""===bs?"":bs+this._lexer.tokenPostfix);Yn<se&&J.emit(Yn+K,fo)}if(null!==ga)return ta(ga)}}return x.create(je,We)}_getNestedEmbeddedLanguageData(l){if(!this._languageService.isRegisteredLanguageId(l))return new h(l,Rt.TJ);l!==this._languageId&&(T.RW.getOrCreate(l),this._embeddedLanguages[l]=!0);const u=T.RW.get(l);return new h(l,u?u.getInitialState():Rt.TJ)}}function Oe(w,l){if(!l)return null;l=xs(w,l);const u=w.brackets;for(const v of u){if(v.open===l)return{token:v.token,bracketType:1};if(v.close===l)return{token:v.token,bracketType:-1}}return null}var Ge;const Je=null===(Ge=window.trustedTypes)||void 0===Ge?void 0:Ge.createPolicy("standaloneColorizer",{createHTML:w=>w});class it{static colorizeElement(l,u,v,K){const J=(K=K||{}).theme||"vs",se=K.mimeType||v.getAttribute("lang")||v.getAttribute("data-lang");if(!se)return console.error("Mode not detected"),Promise.resolve();const me=u.getLanguageIdByMimeType(se)||se;l.setTheme(J);const xe=v.firstChild?v.firstChild.nodeValue:"";return v.className+=" "+J,this.colorize(u,xe||"",me,K).then(je=>{var ft;const Jt=null!==(ft=null==Je?void 0:Je.createHTML(je))&&void 0!==ft?ft:je;v.innerHTML=Jt},je=>console.error(je))}static colorize(l,u,v,K){return function(w,l,u,v){return new(u||(u=Promise))(function(J,se){function me(je){try{We(v.next(je))}catch(ft){se(ft)}}function xe(je){try{We(v.throw(je))}catch(ft){se(ft)}}function We(je){je.done?J(je.value):function(J){return J instanceof u?J:new u(function(se){se(J)})}(je.value).then(me,xe)}We((v=v.apply(w,l||[])).next())})}(this,void 0,void 0,function*(){const J=l.languageIdCodec;let se=4;K&&"number"==typeof K.tabSize&&(se=K.tabSize),nt.uS(u)&&(u=u.substr(1));const me=nt.uq(u);if(!l.isRegisteredLanguageId(v))return gt(me,se,J);const xe=yield T.RW.getOrCreate(v);return xe?function(w,l,u,v){return new Promise((K,J)=>{const se=()=>{const me=function(w,l,u,v){let K=[],J=u.getInitialState();for(let se=0,me=w.length;se<me;se++){const xe=w[se],We=u.tokenizeEncoded(xe,!0,J);Lr.A.convertToEndOffset(We.tokens,xe.length);const je=new Lr.A(We.tokens,xe,v),ft=Io.wA.isBasicASCII(xe,!0),Jt=Io.wA.containsRTL(xe,ft,!0),gn=(0,uo.tF)(new uo.IJ(!1,!0,xe,!1,ft,Jt,0,je.inflate(),[],l,0,0,0,0,-1,"none",!1,!1,null));K=K.concat(gn.html),K.push("<br/>"),J=We.endState}return K.join("")}(w,l,u,v);if(u instanceof Ce){const xe=u.getLoadStatus();if(!1===xe.loaded)return void xe.promise.then(se,J)}K(me)};se()})}(me,se,xe,J):gt(me,se,J)})}static colorizeLine(l,u,v,K,J=4){const se=Io.wA.isBasicASCII(l,u),me=Io.wA.containsRTL(l,se,v);return(0,uo.tF)(new uo.IJ(!1,!0,l,!1,se,me,0,K,[],J,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(l,u,v=4){const K=l.getLineContent(u);l.forceTokenization(u);const se=l.getLineTokens(u).inflate();return this.colorizeLine(K,l.mightContainNonBasicASCII(),l.mightContainRTL(),se,v)}}function gt(w,l,u){let v=[];const J=new Uint32Array(2);J[0]=0,J[1]=16793600;for(let se=0,me=w.length;se<me;se++){const xe=w[se];J[0]=xe.length;const We=new Lr.A(J,xe,u),je=Io.wA.isBasicASCII(xe,!0),ft=Io.wA.containsRTL(xe,je,!0),Jt=(0,uo.tF)(new uo.IJ(!1,!0,xe,!1,je,ft,0,We,[],l,0,0,0,0,-1,"none",!1,!1,null));v=v.concat(Jt.html),v.push("<br/>")}return v.join("")}var Ft=m(99034),Zt=m(17703),Tn=m(87155),Xn=m(47804),li=m(78339),pt=m(86678),Pi=m(98318),si=m(53323);let _s=class extends Ye.JT{constructor(l){super(),this._themeService=l,this._onCodeEditorAdd=this._register(new Y.Q5),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new Y.Q5),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new Y.Q5),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new Y.Q5),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}addCodeEditor(l){this._codeEditors[l.getId()]=l,this._onCodeEditorAdd.fire(l)}removeCodeEditor(l){delete this._codeEditors[l.getId()]&&this._onCodeEditorRemove.fire(l)}listCodeEditors(){return Object.keys(this._codeEditors).map(l=>this._codeEditors[l])}addDiffEditor(l){this._diffEditors[l.getId()]=l,this._onDiffEditorAdd.fire(l)}removeDiffEditor(l){delete this._diffEditors[l.getId()]&&this._onDiffEditorRemove.fire(l)}listDiffEditors(){return Object.keys(this._diffEditors).map(l=>this._diffEditors[l])}getFocusedCodeEditor(){let l=null;const u=this.listCodeEditors();for(const v of u){if(v.hasTextFocus())return v;v.hasWidgetFocus()&&(l=v)}return l}removeDecorationType(l){const u=this._decorationOptionProviders.get(l);u&&(u.refCount--,u.refCount<=0&&(this._decorationOptionProviders.delete(l),u.dispose(),this.listCodeEditors().forEach(v=>v.removeDecorations(l))))}setModelProperty(l,u,v){const K=l.toString();let J;this._modelProperties.has(K)?J=this._modelProperties.get(K):(J=new Map,this._modelProperties.set(K,J)),J.set(u,v)}getModelProperty(l,u){const v=l.toString();if(this._modelProperties.has(v))return this._modelProperties.get(v).get(u)}};var l;_s=function(w,l,u,v){var se,K=arguments.length,J=K<3?l:null===v?v=Object.getOwnPropertyDescriptor(l,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(w,l,u,v);else for(var me=w.length-1;me>=0;me--)(se=w[me])&&(J=(K<3?se(J):K>3?se(l,u,J):se(l,u))||J);return K>3&&J&&Object.defineProperty(l,u,J),J}([(0,l=si.XE,function(u,v){l(u,v,0)})],_s);var mo=m(6461),Ji=m(26033),$a=function(w,l){return function(u,v){l(u,v,w)}};let Dr=class extends _s{constructor(l,u){super(u),this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=l.createKey("editorIsOpen",!1),this._activeCodeEditor=null}_checkContextKey(){let l=!1;for(const u of this.listCodeEditors())if(!u.isSimpleWidget){l=!0;break}this._editorIsOpen.set(l)}setActiveCodeEditor(l){this._activeCodeEditor=l}getActiveCodeEditor(){return this._activeCodeEditor}openCodeEditor(l,u,v){return Promise.resolve(u?this.doOpenEditor(u,l):null)}doOpenEditor(l,u){if(!this.findModel(l,u.resource)){if(u.resource){const J=u.resource.scheme;if(J===Pi.lg.http||J===Pi.lg.https)return(0,pt.V3)(u.resource.toString()),l}return null}const K=u.options?u.options.selection:null;if(K)if("number"==typeof K.endLineNumber&&"number"==typeof K.endColumn)l.setSelection(K),l.revealRangeInCenter(K,1);else{const J={lineNumber:K.startLineNumber,column:K.startColumn};l.setPosition(J),l.revealPositionInCenter(J,1)}return l}findModel(l,u){const v=l.getModel();return v&&v.uri.toString()!==u.toString()?null:v}};Dr=function(w,l,u,v){var se,K=arguments.length,J=K<3?l:null===v?v=Object.getOwnPropertyDescriptor(l,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(w,l,u,v);else for(var me=w.length-1;me>=0;me--)(se=w[me])&&(J=(K<3?se(J):K>3?se(l,u,J):se(l,u))||J);return K>3&&J&&Object.defineProperty(l,u,J),J}([$a(0,mo.i6),$a(1,si.XE)],Dr),(0,Ji.z)(Ne.$,Dr);var Xo=m(43569);const ur=(0,Xo.yh)("layoutService");var sc=function(w,l,u,v){var se,K=arguments.length,J=K<3?l:null===v?v=Object.getOwnPropertyDescriptor(l,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(w,l,u,v);else for(var me=w.length-1;me>=0;me--)(se=w[me])&&(J=(K<3?se(J):K>3?se(l,u,J):se(l,u))||J);return K>3&&J&&Object.defineProperty(l,u,J),J},vl=function(w,l){return function(u,v){l(u,v,w)}};let nr=class{constructor(l){this._codeEditorService=l,this.onDidLayout=Y.ju.None}get dimension(){return this._dimension||(this._dimension=pt.D6(window.document.body)),this._dimension}get hasContainer(){return!1}get container(){throw new Error("ILayoutService.container is not available in the standalone editor!")}focus(){var l;null===(l=this._codeEditorService.getFocusedCodeEditor())||void 0===l||l.focus()}};nr=sc([vl(0,Ne.$)],nr);let Wr=class extends nr{constructor(l,u){super(u),this._container=l}get hasContainer(){return!1}get container(){return this._container}};Wr=sc([vl(1,Ne.$)],Wr),(0,Ji.z)(ur,nr);var os=m(13310),qn=m(12918),Sa=m(4890),Vr=m(8135),Os=m(10352),Yr=function(w,l){return function(u,v){l(u,v,w)}},rc=function(w,l,u,v){return new(u||(u=Promise))(function(J,se){function me(je){try{We(v.next(je))}catch(ft){se(ft)}}function xe(je){try{We(v.throw(je))}catch(ft){se(ft)}}function We(je){je.done?J(je.value):function(J){return J instanceof u?J:new u(function(se){se(J)})}(je.value).then(me,xe)}We((v=v.apply(w,l||[])).next())})};function Za(w){return w.scheme===Pi.lg.file?w.fsPath:w.path}let ac=0;class ra{constructor(l,u,v,K,J,se,me){this.id=++ac,this.type=0,this.actual=l,this.label=l.label,this.confirmBeforeUndo=l.confirmBeforeUndo||!1,this.resourceLabel=u,this.strResource=v,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=K,this.groupOrder=J,this.sourceId=se,this.sourceOrder=me,this.isValid=!0}setValid(l){this.isValid=l}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class xa{constructor(l,u){this.resourceLabel=l,this.reason=u}}class lc{constructor(){this.elements=new Map}createMessage(){const l=[],u=[];for(const[,K]of this.elements)(0===K.reason?l:u).push(K.resourceLabel);let v=[];return l.length>0&&v.push(qn.N({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",l.join(", "))),u.length>0&&v.push(qn.N({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",u.join(", "))),v.join("\n")}get size(){return this.elements.size}has(l){return this.elements.has(l)}set(l,u){this.elements.set(l,u)}delete(l){return this.elements.delete(l)}}class sd{constructor(l,u,v,K,J,se,me){this.id=++ac,this.type=1,this.actual=l,this.label=l.label,this.confirmBeforeUndo=l.confirmBeforeUndo||!1,this.resourceLabels=u,this.strResources=v,this.groupId=K,this.groupOrder=J,this.sourceId=se,this.sourceOrder=me,this.removedResources=null,this.invalidatedResources=null}canSplit(){return"function"==typeof this.actual.split}removeResource(l,u,v){this.removedResources||(this.removedResources=new lc),this.removedResources.has(u)||this.removedResources.set(u,new xa(l,v))}setValid(l,u,v){v?this.invalidatedResources&&(this.invalidatedResources.delete(u),0===this.invalidatedResources.size&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new lc),this.invalidatedResources.has(u)||this.invalidatedResources.set(u,new xa(l,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class cc{constructor(l,u){this.resourceLabel=l,this.strResource=u,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const l of this._past)1===l.type&&l.removeResource(this.resourceLabel,this.strResource,0);for(const l of this._future)1===l.type&&l.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){let l=[];l.push(`* ${this.strResource}:`);for(let u=0;u<this._past.length;u++)l.push(`   * [UNDO] ${this._past[u]}`);for(let u=this._future.length-1;u>=0;u--)l.push(`   * [REDO] ${this._future[u]}`);return l.join("\n")}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(l,u){1===l.type?l.setValid(this.resourceLabel,this.strResource,u):l.setValid(u)}setElementsValidFlag(l,u){for(const v of this._past)u(v.actual)&&this._setElementValidFlag(v,l);for(const v of this._future)u(v.actual)&&this._setElementValidFlag(v,l)}pushElement(l){for(const u of this._future)1===u.type&&u.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(l),this.versionId++}createSnapshot(l){const u=[];for(let v=0,K=this._past.length;v<K;v++)u.push(this._past[v].id);for(let v=this._future.length-1;v>=0;v--)u.push(this._future[v].id);return new Os.YO(l,u)}restoreSnapshot(l){const u=l.elements.length;let v=!0,K=0,J=-1;for(let me=0,xe=this._past.length;me<xe;me++,K++){const We=this._past[me];v&&(K>=u||We.id!==l.elements[K])&&(v=!1,J=0),!v&&1===We.type&&We.removeResource(this.resourceLabel,this.strResource,0)}let se=-1;for(let me=this._future.length-1;me>=0;me--,K++){const xe=this._future[me];v&&(K>=u||xe.id!==l.elements[K])&&(v=!1,se=me),!v&&1===xe.type&&xe.removeResource(this.resourceLabel,this.strResource,0)}-1!==J&&(this._past=this._past.slice(0,J)),-1!==se&&(this._future=this._future.slice(se+1)),this.versionId++}getElements(){const l=[],u=[];for(const v of this._past)l.push(v.actual);for(const v of this._future)u.push(v.actual);return{past:l,future:u}}getClosestPastElement(){return 0===this._past.length?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return 0===this._future.length?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(l,u){for(let v=this._past.length-1;v>=0;v--)if(this._past[v]===l){u.has(this.strResource)?this._past[v]=u.get(this.strResource):this._past.splice(v,1);break}this.versionId++}splitFutureWorkspaceElement(l,u){for(let v=this._future.length-1;v>=0;v--)if(this._future[v]===l){u.has(this.strResource)?this._future[v]=u.get(this.strResource):this._future.splice(v,1);break}this.versionId++}moveBackward(l){this._past.pop(),this._future.push(l),this.versionId++}moveForward(l){this._future.pop(),this._past.push(l),this.versionId++}}class wl{constructor(l){this.editStacks=l,this._versionIds=[];for(let u=0,v=this.editStacks.length;u<v;u++)this._versionIds[u]=this.editStacks[u].versionId}isValid(){for(let l=0,u=this.editStacks.length;l<u;l++)if(this._versionIds[l]!==this.editStacks[l].versionId)return!1;return!0}}const dc=new cc("","");dc.locked=!0;let yl=class{constructor(l,u){this._dialogService=l,this._notificationService=u,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(l){for(const u of this._uriComparisonKeyComputers)if(u[0]===l.scheme)return u[1].getComparisonKey(l);return l.toString()}_print(l){console.log("------------------------------------"),console.log(`AFTER ${l}: `);let u=[];for(const v of this._editStacks)u.push(v[1].toString());console.log(u.join("\n"))}pushElement(l,u=Os.Xt.None,v=Os.gJ.None){if(0===l.type){const K=Za(l.resource),J=this.getUriComparisonKey(l.resource);this._pushElement(new ra(l,K,J,u.id,u.nextOrder(),v.id,v.nextOrder()))}else{const K=new Set,J=[],se=[];for(const me of l.resources){const xe=Za(me),We=this.getUriComparisonKey(me);K.has(We)||(K.add(We),J.push(xe),se.push(We))}this._pushElement(1===J.length?new ra(l,J[0],se[0],u.id,u.nextOrder(),v.id,v.nextOrder()):new sd(l,J,se,u.id,u.nextOrder(),v.id,v.nextOrder()))}}_pushElement(l){for(let u=0,v=l.strResources.length;u<v;u++){const K=l.resourceLabels[u],J=l.strResources[u];let se;this._editStacks.has(J)?se=this._editStacks.get(J):(se=new cc(K,J),this._editStacks.set(J,se)),se.pushElement(l)}}getLastElement(l){const u=this.getUriComparisonKey(l);if(this._editStacks.has(u)){const v=this._editStacks.get(u);if(v.hasFutureElements())return null;const K=v.getClosestPastElement();return K?K.actual:null}return null}_splitPastWorkspaceElement(l,u){const v=l.actual.split(),K=new Map;for(const J of v){const se=Za(J.resource),me=this.getUriComparisonKey(J.resource),xe=new ra(J,se,me,0,0,0,0);K.set(xe.strResource,xe)}for(const J of l.strResources)u&&u.has(J)||this._editStacks.get(J).splitPastWorkspaceElement(l,K)}_splitFutureWorkspaceElement(l,u){const v=l.actual.split(),K=new Map;for(const J of v){const se=Za(J.resource),me=this.getUriComparisonKey(J.resource),xe=new ra(J,se,me,0,0,0,0);K.set(xe.strResource,xe)}for(const J of l.strResources)u&&u.has(J)||this._editStacks.get(J).splitFutureWorkspaceElement(l,K)}removeElements(l){const u="string"==typeof l?l:this.getUriComparisonKey(l);this._editStacks.has(u)&&(this._editStacks.get(u).dispose(),this._editStacks.delete(u))}setElementsValidFlag(l,u,v){const K=this.getUriComparisonKey(l);this._editStacks.has(K)&&this._editStacks.get(K).setElementsValidFlag(u,v)}createSnapshot(l){const u=this.getUriComparisonKey(l);return this._editStacks.has(u)?this._editStacks.get(u).createSnapshot(l):new Os.YO(l,[])}restoreSnapshot(l){const u=this.getUriComparisonKey(l.resource);if(this._editStacks.has(u)){const v=this._editStacks.get(u);v.restoreSnapshot(l),!v.hasPastElements()&&!v.hasFutureElements()&&(v.dispose(),this._editStacks.delete(u))}}getElements(l){const u=this.getUriComparisonKey(l);return this._editStacks.has(u)?this._editStacks.get(u).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(l){if(!l)return[null,null];let u=null,v=null;for(const[K,J]of this._editStacks){const se=J.getClosestPastElement();!se||se.sourceId===l&&(!u||se.sourceOrder>u.sourceOrder)&&(u=se,v=K)}return[u,v]}canUndo(l){if(l instanceof Os.gJ){const[,v]=this._findClosestUndoElementWithSource(l.id);return!!v}const u=this.getUriComparisonKey(l);return!!this._editStacks.has(u)&&this._editStacks.get(u).hasPastElements()}_onError(l,u){(0,Dt.dL)(l);for(const v of u.strResources)this.removeElements(v);this._notificationService.error(l)}_acquireLocks(l){for(const u of l.editStacks)if(u.locked)throw new Error("Cannot acquire edit stack lock");for(const u of l.editStacks)u.locked=!0;return()=>{for(const u of l.editStacks)u.locked=!1}}_safeInvokeWithLocks(l,u,v,K,J){const se=this._acquireLocks(v);let me;try{me=u()}catch(xe){return se(),K.dispose(),this._onError(xe,l)}return me?me.then(()=>(se(),K.dispose(),J()),xe=>(se(),K.dispose(),this._onError(xe,l))):(se(),K.dispose(),J())}_invokeWorkspacePrepare(l){return rc(this,void 0,void 0,function*(){if(void 0===l.actual.prepareUndoRedo)return Ye.JT.None;const u=l.actual.prepareUndoRedo();return void 0===u?Ye.JT.None:u})}_invokeResourcePrepare(l,u){if(1!==l.actual.type||void 0===l.actual.prepareUndoRedo)return u(Ye.JT.None);const v=l.actual.prepareUndoRedo();return v?(0,Ye.Wf)(v)?u(v):v.then(K=>u(K)):u(Ye.JT.None)}_getAffectedEditStacks(l){const u=[];for(const v of l.strResources)u.push(this._editStacks.get(v)||dc);return new wl(u)}_tryToSplitAndUndo(l,u,v,K){if(u.canSplit())return this._splitPastWorkspaceElement(u,v),this._notificationService.warn(K),new ko(this._undo(l,0,!0));for(const J of u.strResources)this.removeElements(J);return this._notificationService.warn(K),new ko}_checkWorkspaceUndo(l,u,v,K){if(u.removedResources)return this._tryToSplitAndUndo(l,u,u.removedResources,qn.N({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",u.label,u.removedResources.createMessage()));if(K&&u.invalidatedResources)return this._tryToSplitAndUndo(l,u,u.invalidatedResources,qn.N({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",u.label,u.invalidatedResources.createMessage()));const J=[];for(const me of v.editStacks)me.getClosestPastElement()!==u&&J.push(me.resourceLabel);if(J.length>0)return this._tryToSplitAndUndo(l,u,null,qn.N({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",u.label,J.join(", ")));const se=[];for(const me of v.editStacks)me.locked&&se.push(me.resourceLabel);return se.length>0?this._tryToSplitAndUndo(l,u,null,qn.N({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",u.label,se.join(", "))):v.isValid()?null:this._tryToSplitAndUndo(l,u,null,qn.N({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",u.label))}_workspaceUndo(l,u,v){const K=this._getAffectedEditStacks(u),J=this._checkWorkspaceUndo(l,u,K,!1);return J?J.returnValue:this._confirmAndExecuteWorkspaceUndo(l,u,K,v)}_isPartOfUndoGroup(l){if(!l.groupId)return!1;for(const[,u]of this._editStacks){const v=u.getClosestPastElement();if(v){if(v===l){const K=u.getSecondClosestPastElement();if(K&&K.groupId===l.groupId)return!0}if(v.groupId===l.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(l,u,v,K){return rc(this,void 0,void 0,function*(){if(u.canSplit()&&!this._isPartOfUndoGroup(u)){const me=yield this._dialogService.show(os.Z.Info,qn.N("confirmWorkspace","Would you like to undo '{0}' across all files?",u.label),[qn.N({key:"ok",comment:["{0} denotes a number that is > 1"]},"Undo in {0} Files",v.editStacks.length),qn.N("nok","Undo this File"),qn.N("cancel","Cancel")],{cancelId:2});if(2===me.choice)return;if(1===me.choice)return this._splitPastWorkspaceElement(u,null),this._undo(l,0,!0);const xe=this._checkWorkspaceUndo(l,u,v,!1);if(xe)return xe.returnValue;K=!0}let J;try{J=yield this._invokeWorkspacePrepare(u)}catch(me){return this._onError(me,u)}const se=this._checkWorkspaceUndo(l,u,v,!0);if(se)return J.dispose(),se.returnValue;for(const me of v.editStacks)me.moveBackward(u);return this._safeInvokeWithLocks(u,()=>u.actual.undo(),v,J,()=>this._continueUndoInGroup(u.groupId,K))})}_resourceUndo(l,u,v){if(u.isValid){if(!l.locked)return this._invokeResourcePrepare(u,K=>(l.moveBackward(u),this._safeInvokeWithLocks(u,()=>u.actual.undo(),new wl([l]),K,()=>this._continueUndoInGroup(u.groupId,v))));{const K=qn.N({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",u.label);this._notificationService.warn(K)}}else l.flushAllElements()}_findClosestUndoElementInGroup(l){if(!l)return[null,null];let u=null,v=null;for(const[K,J]of this._editStacks){const se=J.getClosestPastElement();!se||se.groupId===l&&(!u||se.groupOrder>u.groupOrder)&&(u=se,v=K)}return[u,v]}_continueUndoInGroup(l,u){if(!l)return;const[,v]=this._findClosestUndoElementInGroup(l);return v?this._undo(v,0,u):void 0}undo(l){if(l instanceof Os.gJ){const[,u]=this._findClosestUndoElementWithSource(l.id);return u?this._undo(u,l.id,!1):void 0}return this._undo("string"==typeof l?l:this.getUriComparisonKey(l),0,!1)}_undo(l,u=0,v){if(!this._editStacks.has(l))return;const K=this._editStacks.get(l),J=K.getClosestPastElement();if(J){if(J.groupId){const[me,xe]=this._findClosestUndoElementInGroup(J.groupId);if(J!==me&&xe)return this._undo(xe,u,v)}if((J.sourceId!==u||J.confirmBeforeUndo)&&!v)return this._confirmAndContinueUndo(l,u,J);try{return 1===J.type?this._workspaceUndo(l,J,v):this._resourceUndo(K,J,v)}finally{}}}_confirmAndContinueUndo(l,u,v){return rc(this,void 0,void 0,function*(){if(1!==(yield this._dialogService.show(os.Z.Info,qn.N("confirmDifferentSource","Would you like to undo '{0}'?",v.label),[qn.N("confirmDifferentSource.yes","Yes"),qn.N("confirmDifferentSource.no","No")],{cancelId:1})).choice)return this._undo(l,u,!0)})}_findClosestRedoElementWithSource(l){if(!l)return[null,null];let u=null,v=null;for(const[K,J]of this._editStacks){const se=J.getClosestFutureElement();!se||se.sourceId===l&&(!u||se.sourceOrder<u.sourceOrder)&&(u=se,v=K)}return[u,v]}canRedo(l){if(l instanceof Os.gJ){const[,v]=this._findClosestRedoElementWithSource(l.id);return!!v}const u=this.getUriComparisonKey(l);return!!this._editStacks.has(u)&&this._editStacks.get(u).hasFutureElements()}_tryToSplitAndRedo(l,u,v,K){if(u.canSplit())return this._splitFutureWorkspaceElement(u,v),this._notificationService.warn(K),new ko(this._redo(l));for(const J of u.strResources)this.removeElements(J);return this._notificationService.warn(K),new ko}_checkWorkspaceRedo(l,u,v,K){if(u.removedResources)return this._tryToSplitAndRedo(l,u,u.removedResources,qn.N({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",u.label,u.removedResources.createMessage()));if(K&&u.invalidatedResources)return this._tryToSplitAndRedo(l,u,u.invalidatedResources,qn.N({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",u.label,u.invalidatedResources.createMessage()));const J=[];for(const me of v.editStacks)me.getClosestFutureElement()!==u&&J.push(me.resourceLabel);if(J.length>0)return this._tryToSplitAndRedo(l,u,null,qn.N({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",u.label,J.join(", ")));const se=[];for(const me of v.editStacks)me.locked&&se.push(me.resourceLabel);return se.length>0?this._tryToSplitAndRedo(l,u,null,qn.N({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",u.label,se.join(", "))):v.isValid()?null:this._tryToSplitAndRedo(l,u,null,qn.N({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",u.label))}_workspaceRedo(l,u){const v=this._getAffectedEditStacks(u),K=this._checkWorkspaceRedo(l,u,v,!1);return K?K.returnValue:this._executeWorkspaceRedo(l,u,v)}_executeWorkspaceRedo(l,u,v){return rc(this,void 0,void 0,function*(){let K;try{K=yield this._invokeWorkspacePrepare(u)}catch(se){return this._onError(se,u)}const J=this._checkWorkspaceRedo(l,u,v,!0);if(J)return K.dispose(),J.returnValue;for(const se of v.editStacks)se.moveForward(u);return this._safeInvokeWithLocks(u,()=>u.actual.redo(),v,K,()=>this._continueRedoInGroup(u.groupId))})}_resourceRedo(l,u){if(u.isValid){if(!l.locked)return this._invokeResourcePrepare(u,v=>(l.moveForward(u),this._safeInvokeWithLocks(u,()=>u.actual.redo(),new wl([l]),v,()=>this._continueRedoInGroup(u.groupId))));{const v=qn.N({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",u.label);this._notificationService.warn(v)}}else l.flushAllElements()}_findClosestRedoElementInGroup(l){if(!l)return[null,null];let u=null,v=null;for(const[K,J]of this._editStacks){const se=J.getClosestFutureElement();!se||se.groupId===l&&(!u||se.groupOrder<u.groupOrder)&&(u=se,v=K)}return[u,v]}_continueRedoInGroup(l){if(!l)return;const[,u]=this._findClosestRedoElementInGroup(l);return u?this._redo(u):void 0}redo(l){if(l instanceof Os.gJ){const[,u]=this._findClosestRedoElementWithSource(l.id);return u?this._redo(u):void 0}return this._redo("string"==typeof l?l:this.getUriComparisonKey(l))}_redo(l){if(!this._editStacks.has(l))return;const u=this._editStacks.get(l),v=u.getClosestFutureElement();if(v){if(v.groupId){const[K,J]=this._findClosestRedoElementInGroup(v.groupId);if(v!==K&&J)return this._redo(J)}try{return 1===v.type?this._workspaceRedo(l,v):this._resourceRedo(u,v)}finally{}}}};yl=function(w,l,u,v){var se,K=arguments.length,J=K<3?l:null===v?v=Object.getOwnPropertyDescriptor(l,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(w,l,u,v);else for(var me=w.length-1;me>=0;me--)(se=w[me])&&(J=(K<3?se(J):K>3?se(l,u,J):se(l,u))||J);return K>3&&J&&Object.defineProperty(l,u,J),J}([Yr(0,Sa.S),Yr(1,Vr.lT)],yl);class ko{constructor(l){this.returnValue=l}}(0,Ji.z)(Os.tJ,yl),m(85034);var Ls=m(714),Hr=m(99315),uc=m(48882),hr=m(27870),ir=m(92778),La=m(63779);const _u=Object.freeze({id:"editor",order:5,type:"object",title:qn.N("editorConfigurationTitle","Editor"),scope:5}),xl=Object.assign(Object.assign({},_u),{properties:{"editor.tabSize":{type:"number",default:hr.D.tabSize,minimum:1,markdownDescription:qn.N("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:hr.D.insertSpaces,markdownDescription:qn.N("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.detectIndentation":{type:"boolean",default:hr.D.detectIndentation,markdownDescription:qn.N("detectIndentation","Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.")},"editor.trimAutoWhitespace":{type:"boolean",default:hr.D.trimAutoWhitespace,description:qn.N("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:hr.D.largeFileOptimizations,description:qn.N("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:qn.N("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[qn.N("wordBasedSuggestionsMode.currentDocument","Only suggest words from the active document."),qn.N("wordBasedSuggestionsMode.matchingDocuments","Suggest words from all open documents of the same language."),qn.N("wordBasedSuggestionsMode.allDocuments","Suggest words from all open documents.")],description:qn.N("wordBasedSuggestionsMode","Controls from which documents word based completions are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[qn.N("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),qn.N("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),qn.N("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:qn.N("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:qn.N("stablePeek","Keep peek editors open even when double clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:qn.N("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.language.brackets":{type:"array",default:!1,description:qn.N("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:qn.N("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:qn.N("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:"array",default:!1,description:qn.N("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:qn.N("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:qn.N("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:qn.N("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:50,description:qn.N("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:qn.N("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:qn.N("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:qn.N("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:!1,description:qn.N("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[qn.N("wordWrap.off","Lines will never wrap."),qn.N("wordWrap.on","Lines will wrap at the viewport width."),qn.N("wordWrap.inherit","Lines will wrap according to the `#editor.wordWrap#` setting.")]}}});function Cu(w){return void 0!==w.type||void 0!==w.anyOf}for(const w of M.Bc){const l=w.schema;if(void 0!==l)if(Cu(l))xl.properties[`editor.${w.name}`]=l;else for(const u in l)Object.hasOwnProperty.call(l,u)&&(xl.properties[u]=l[u])}let zr=null;function Ga(){return null===zr&&(zr=Object.create(null),Object.keys(xl.properties).forEach(w=>{zr[w]=!0})),zr}La.B.as(ir.IP.Configuration).registerConfiguration(xl);var Er=m(19420),gi=m(13591),qo=m(10467),cs=m(13011),Ds=m(33439),$o=m(60842);class Es{constructor(l={},u=[],v=[]){this._contents=l,this._keys=u,this._overrides=v,this.isFrozen=!1,this.overrideConfigurations=new Map}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return 0===this._keys.length&&0===Object.keys(this._contents).length&&0===this._overrides.length}getValue(l){return l?(0,cs.Mt)(this.contents,l):this.contents}getOverrideValue(l,u){const v=this.getContentsForOverrideIdentifer(u);return v?l?(0,cs.Mt)(v,l):v:void 0}override(l){let u=this.overrideConfigurations.get(l);return u||(u=this.createOverrideConfigurationModel(l),this.overrideConfigurations.set(l,u)),u}merge(...l){const u=$o.I8(this.contents),v=$o.I8(this.overrides),K=[...this.keys];for(const J of l){this.mergeContents(u,J.contents);for(const se of J.overrides){const[me]=v.filter(xe=>ei.fS(xe.identifiers,se.identifiers));me?(this.mergeContents(me.contents,se.contents),me.keys.push(...se.keys),me.keys=ei.EB(me.keys)):v.push($o.I8(se))}for(const se of J.keys)-1===K.indexOf(se)&&K.push(se)}return new Es(u,K,v)}freeze(){return this.isFrozen=!0,this}createOverrideConfigurationModel(l){const u=this.getContentsForOverrideIdentifer(l);if(!u||"object"!=typeof u||!Object.keys(u).length)return this;let v={};for(const K of ei.EB([...Object.keys(this.contents),...Object.keys(u)])){let J=this.contents[K],se=u[K];se&&("object"==typeof J&&"object"==typeof se?(J=$o.I8(J),this.mergeContents(J,se)):J=se),v[K]=J}return new Es(v,this.keys,this.overrides)}mergeContents(l,u){for(const v of Object.keys(u))v in l&&un.Kn(l[v])&&un.Kn(u[v])?this.mergeContents(l[v],u[v]):l[v]=$o.I8(u[v])}checkAndFreeze(l){return this.isFrozen&&!Object.isFrozen(l)?$o._A(l):l}getContentsForOverrideIdentifer(l){let u=null,v=null;const K=J=>{J&&(v?this.mergeContents(v,J):v=$o.I8(J))};for(const J of this.overrides)ei.fS(J.identifiers,[l])?u=J.contents:J.identifiers.includes(l)&&K(J.contents);return K(u),v}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(l,u){this.addKey(l),(0,cs.KV)(this.contents,l,u,v=>{throw new Error(v)})}removeValue(l){this.removeKey(l)&&(0,cs.xL)(this.contents,l)}addKey(l){let u=this.keys.length;for(let v=0;v<u;v++)0===l.indexOf(this.keys[v])&&(u=v);this.keys.splice(u,1,l)}removeKey(l){let u=this.keys.indexOf(l);return-1!==u&&(this.keys.splice(u,1),!0)}}class hc extends Es{constructor(l={}){const u=La.B.as(ir.IP.Configuration).getConfigurationProperties(),v=Object.keys(u),K=Object.create(null),J=[];for(const se in u){const me=l[se];(0,cs.KV)(K,se,void 0!==me?me:u[se].default,We=>console.error(`Conflict in default settings: ${We}`))}for(const se of Object.keys(K))ir.eU.test(se)&&J.push({identifiers:(0,ir.ny)(se),keys:Object.keys(K[se]),contents:(0,cs.Od)(K[se],me=>console.error(`Conflict in default settings file: ${me}`))});super(K,v,J)}}class Da{constructor(l,u,v=new Es,K=new Es,J=new Ds.Y9,se=new Es,me=new Ds.Y9,xe=!0){this._defaultConfiguration=l,this._localUserConfiguration=u,this._remoteUserConfiguration=v,this._workspaceConfiguration=K,this._folderConfigurations=J,this._memoryConfiguration=se,this._memoryConfigurationByResource=me,this._freeze=xe,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new Ds.Y9,this._userConfiguration=null}getValue(l,u,v){return this.getConsolidateConfigurationModel(u,v).getValue(l)}updateValue(l,u,v={}){let K;v.resource?(K=this._memoryConfigurationByResource.get(v.resource),K||(K=new Es,this._memoryConfigurationByResource.set(v.resource,K))):K=this._memoryConfiguration,void 0===u?K.removeValue(l):K.setValue(l,u),v.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(l,u,v){const K=this.getConsolidateConfigurationModel(u,v),J=this.getFolderConfigurationModelForResource(u.resource,v),se=u.resource&&this._memoryConfigurationByResource.get(u.resource)||this._memoryConfiguration,me=u.overrideIdentifier?this._defaultConfiguration.freeze().override(u.overrideIdentifier).getValue(l):this._defaultConfiguration.freeze().getValue(l),xe=u.overrideIdentifier?this.userConfiguration.freeze().override(u.overrideIdentifier).getValue(l):this.userConfiguration.freeze().getValue(l),We=u.overrideIdentifier?this.localUserConfiguration.freeze().override(u.overrideIdentifier).getValue(l):this.localUserConfiguration.freeze().getValue(l),je=u.overrideIdentifier?this.remoteUserConfiguration.freeze().override(u.overrideIdentifier).getValue(l):this.remoteUserConfiguration.freeze().getValue(l),ft=v?u.overrideIdentifier?this._workspaceConfiguration.freeze().override(u.overrideIdentifier).getValue(l):this._workspaceConfiguration.freeze().getValue(l):void 0,Jt=J?u.overrideIdentifier?J.freeze().override(u.overrideIdentifier).getValue(l):J.freeze().getValue(l):void 0,gn=u.overrideIdentifier?se.override(u.overrideIdentifier).getValue(l):se.getValue(l),Yn=K.getValue(l),vi=ei.EB(ei.xH(K.overrides.map(Ci=>Ci.identifiers))).filter(Ci=>void 0!==K.getOverrideValue(l,Ci));return{defaultValue:me,userValue:xe,userLocalValue:We,userRemoteValue:je,workspaceValue:ft,workspaceFolderValue:Jt,memoryValue:gn,value:Yn,default:void 0!==me?{value:this._defaultConfiguration.freeze().getValue(l),override:u.overrideIdentifier?this._defaultConfiguration.freeze().getOverrideValue(l,u.overrideIdentifier):void 0}:void 0,user:void 0!==xe?{value:this.userConfiguration.freeze().getValue(l),override:u.overrideIdentifier?this.userConfiguration.freeze().getOverrideValue(l,u.overrideIdentifier):void 0}:void 0,userLocal:void 0!==We?{value:this.localUserConfiguration.freeze().getValue(l),override:u.overrideIdentifier?this.localUserConfiguration.freeze().getOverrideValue(l,u.overrideIdentifier):void 0}:void 0,userRemote:void 0!==je?{value:this.remoteUserConfiguration.freeze().getValue(l),override:u.overrideIdentifier?this.remoteUserConfiguration.freeze().getOverrideValue(l,u.overrideIdentifier):void 0}:void 0,workspace:void 0!==ft?{value:this._workspaceConfiguration.freeze().getValue(l),override:u.overrideIdentifier?this._workspaceConfiguration.freeze().getOverrideValue(l,u.overrideIdentifier):void 0}:void 0,workspaceFolder:void 0!==Jt?{value:null==J?void 0:J.freeze().getValue(l),override:u.overrideIdentifier?null==J?void 0:J.freeze().getOverrideValue(l,u.overrideIdentifier):void 0}:void 0,memory:void 0!==gn?{value:se.getValue(l),override:u.overrideIdentifier?se.getOverrideValue(l,u.overrideIdentifier):void 0}:void 0,overrideIdentifiers:vi.length?vi:void 0}}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidateConfigurationModel(l,u){let v=this.getConsolidatedConfigurationModelForResource(l,u);return l.overrideIdentifier?v.override(l.overrideIdentifier):v}getConsolidatedConfigurationModelForResource({resource:l},u){let v=this.getWorkspaceConsolidatedConfiguration();if(u&&l){const K=u.getFolder(l);K&&(v=this.getFolderConsolidatedConfiguration(K.uri)||v);const J=this._memoryConfigurationByResource.get(l);J&&(v=v.merge(J))}return v}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(l){let u=this._foldersConsolidatedConfigurations.get(l);if(!u){const v=this.getWorkspaceConsolidatedConfiguration(),K=this._folderConfigurations.get(l);K?(u=v.merge(K),this._freeze&&(u=u.freeze()),this._foldersConsolidatedConfigurations.set(l,u)):u=v}return u}getFolderConfigurationModelForResource(l,u){if(u&&l){const v=u.getFolder(l);if(v)return this._folderConfigurations.get(v.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((l,u)=>{const{contents:v,overrides:K,keys:J}=this._folderConfigurations.get(u);return l.push([u,{contents:v,overrides:K,keys:J}]),l},[])}}static parse(l){const u=this.parseConfigurationModel(l.defaults),v=this.parseConfigurationModel(l.user),K=this.parseConfigurationModel(l.workspace),J=l.folders.reduce((se,me)=>(se.set(E.o.revive(me[0]),this.parseConfigurationModel(me[1])),se),new Ds.Y9);return new Da(u,v,new Es,K,J,new Es,new Ds.Y9,!1)}static parseConfigurationModel(l){return new Es(l.contents,l.keys,l.overrides).freeze()}}class Oi{constructor(l,u,v,K){this.change=l,this.previous=u,this.currentConfiguraiton=v,this.currentWorkspace=K,this._previousConfiguration=void 0;const J=new Set;l.keys.forEach(me=>J.add(me)),l.overrides.forEach(([,me])=>me.forEach(xe=>J.add(xe))),this.affectedKeys=[...J.values()];const se=new Es;this.affectedKeys.forEach(me=>se.setValue(me,{})),this.affectedKeysTree=se.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=Da.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(l,u){var v;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,l)){if(u){const K=this.previousConfiguration?this.previousConfiguration.getValue(l,u,null===(v=this.previous)||void 0===v?void 0:v.workspace):void 0,J=this.currentConfiguraiton.getValue(l,u,this.currentWorkspace);return!$o.fS(K,J)}return!0}return!1}doesAffectedKeysTreeContains(l,u){let K,v=(0,cs.Od)({[u]:!0},()=>{});for(;"object"==typeof v&&(K=Object.keys(v)[0]);){if(!(l=l[K]))return!1;v=v[K]}return!0}}const no=/^(cursor|delete)/;class Bo extends Ye.JT{constructor(l,u,v,K,J){super(),this._contextKeyService=l,this._commandService=u,this._telemetryService=v,this._notificationService=K,this._logService=J,this._onDidUpdateKeybindings=this._register(new Y.Q5),this._currentChord=null,this._currentChordChecker=new fn.zh,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=To.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new fn._F,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:Y.ju.None}dispose(){super.dispose()}_log(l){this._logging&&this._logService.info(`[KeybindingService]: ${l}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(l,u){const v=this._getResolver().lookupPrimaryKeybinding(l,u||this._contextKeyService);if(v)return v.resolvedKeybinding}dispatchEvent(l,u){return this._dispatch(l,u)}softDispatch(l,u){const v=this.resolveKeyboardEvent(l);if(v.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[K]=v.getDispatchParts();if(null===K)return null;const J=this._contextKeyService.getContext(u),se=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(J,se,K)}_enterChordMode(l,u){this._currentChord={keypress:l,label:u},this._currentChordStatusMessage=this._notificationService.status(qn.N("first.chord","({0}) was pressed. Waiting for second key of chord...",u));const v=Date.now();this._currentChordChecker.cancelAndSet(()=>{this._documentHasFocus()?Date.now()-v>5e3&&this._leaveChordMode():this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(l,u){return this._doDispatch(this.resolveKeyboardEvent(l),u,!1)}_singleModifierDispatch(l,u){const v=this.resolveKeyboardEvent(l),[K]=v.getSingleModifierDispatchParts();if(K)return this._ignoreSingleModifiers.has(K)?(this._log(`+ Ignoring single modifier ${K} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=To.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=To.EMPTY,null===this._currentSingleModifier?(this._log(`+ Storing single modifier for possible chord ${K}.`),this._currentSingleModifier=K,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):K===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${K} ${K}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(v,u,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${K}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[J]=v.getParts();return this._ignoreSingleModifiers=new To(J),null!==this._currentSingleModifier&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(l,u,v=!1){let K=!1;if(l.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let J=null,se=null;if(v){const[je]=l.getSingleModifierDispatchParts();J=je,se=je}else[J]=l.getDispatchParts(),se=this._currentChord?this._currentChord.keypress:null;if(null===J)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),K;const me=this._contextKeyService.getContext(u),xe=l.getLabel(),We=this._getResolver().resolve(me,se,J);return this._logService.trace("KeybindingService#dispatch",xe,null==We?void 0:We.commandId),We&&We.enterChord?(K=!0,this._enterChordMode(J,xe),K):(this._currentChord&&(!We||!We.commandId)&&(this._notificationService.status(qn.N("missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,xe),{hideAfter:1e4}),K=!0),this._leaveChordMode(),We&&We.commandId&&(We.bubble||(K=!0),void 0===We.commandArgs?this._commandService.executeCommand(We.commandId).then(void 0,je=>this._notificationService.warn(je)):this._commandService.executeCommand(We.commandId,We.commandArgs).then(void 0,je=>this._notificationService.warn(je)),no.test(We.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:We.commandId,from:"keybinding"})),K)}mightProducePrintableCharacter(l){return!l.ctrlKey&&!l.metaKey&&(l.keyCode>=31&&l.keyCode<=56||l.keyCode>=21&&l.keyCode<=30)}}class To{constructor(l){this._ctrlKey=!!l&&l.ctrlKey,this._shiftKey=!!l&&l.shiftKey,this._altKey=!!l&&l.altKey,this._metaKey=!!l&&l.metaKey}has(l){switch(l){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}To.EMPTY=new To(null);var ss=m(96938);class es{constructor(l,u,v){this._log=v,this._defaultKeybindings=l,this._defaultBoundCommands=new Map;for(const K of l){const J=K.command;J&&"-"!==J.charAt(0)&&this._defaultBoundCommands.set(J,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=es.handleRemovals([].concat(l).concat(u));for(let K=0,J=this._keybindings.length;K<J;K++){let se=this._keybindings[K];0!==se.keypressParts.length&&(se.when&&0===se.when.type||this._addKeyPress(se.keypressParts[0],se))}}static _isTargetedForRemoval(l,u,v,K){return!(u&&l.keypressParts[0]!==u||v&&l.keypressParts[1]!==v||K&&(!l.when||!(0,mo.Fb)(K,l.when)))}static handleRemovals(l){const u=new Map;for(let K=0,J=l.length;K<J;K++){const se=l[K];if(se.command&&"-"===se.command.charAt(0)){const me=se.command.substring(1);u.has(me)?u.get(me).push(se):u.set(me,[se])}}if(0===u.size)return l;const v=[];for(let K=0,J=l.length;K<J;K++){const se=l[K];if(!se.command||0===se.command.length){v.push(se);continue}if("-"===se.command.charAt(0))continue;const me=u.get(se.command);if(!me||!se.isDefault){v.push(se);continue}let xe=!1;for(const We of me)if(this._isTargetedForRemoval(se,We.keypressParts[0],We.keypressParts[1],We.when)){xe=!0;break}xe||v.push(se)}return v}_addKeyPress(l,u){const v=this._map.get(l);if(void 0===v)return this._map.set(l,[u]),void this._addToLookupMap(u);for(let K=v.length-1;K>=0;K--){let J=v[K];if(J.command===u.command)continue;const me=u.keypressParts.length>1;J.keypressParts.length>1&&me&&J.keypressParts[1]!==u.keypressParts[1]||es.whenIsEntirelyIncluded(J.when,u.when)&&this._removeFromLookupMap(J)}v.push(u),this._addToLookupMap(u)}_addToLookupMap(l){if(!l.command)return;let u=this._lookupMap.get(l.command);void 0===u?(u=[l],this._lookupMap.set(l.command,u)):u.push(l)}_removeFromLookupMap(l){if(!l.command)return;let u=this._lookupMap.get(l.command);if(void 0!==u)for(let v=0,K=u.length;v<K;v++)if(u[v]===l)return void u.splice(v,1)}static whenIsEntirelyIncluded(l,u){return!u||1===u.type||!(!l||1===l.type)&&(0,mo.K8)(l,u)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(l,u){const v=this._lookupMap.get(l);if(void 0===v||0===v.length)return null;if(1===v.length)return v[0];for(let K=v.length-1;K>=0;K--){const J=v[K];if(u.contextMatchesRules(J.when))return J}return v[v.length-1]}resolve(l,u,v){this._log(`| Resolving ${v}${u?` chorded from ${u}`:""}`);let K=null;if(null!==u){const se=this._map.get(u);if(void 0===se)return this._log("\\ No keybinding entries."),null;K=[];for(let me=0,xe=se.length;me<xe;me++){let We=se[me];We.keypressParts[1]===v&&K.push(We)}}else{const se=this._map.get(v);if(void 0===se)return this._log("\\ No keybinding entries."),null;K=se}let J=this._findCommand(l,K);return J?null===u&&J.keypressParts.length>1&&null!==J.keypressParts[1]?(this._log(`\\ From ${K.length} keybinding entries, matched chord, when: ${Mr(J.when)}, source: ${Wo(J)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${K.length} keybinding entries, matched ${J.command}, when: ${Mr(J.when)}, source: ${Wo(J)}.`),{enterChord:!1,leaveChord:J.keypressParts.length>1,commandId:J.command,commandArgs:J.commandArgs,bubble:J.bubble}):(this._log(`\\ From ${K.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(l,u){for(let v=u.length-1;v>=0;v--){let K=u[v];if(es._contextMatchesRules(l,K.when))return K}return null}static _contextMatchesRules(l,u){return!u||u.evaluate(l)}}function Mr(w){return w?`${w.serialize()}`:"no when condition"}function Wo(w){return w.extensionId?w.isBuiltinExtension?`built-in extension ${w.extensionId}`:`user extension ${w.extensionId}`:w.isDefault?"built-in":"user"}var ad=m(22115);class ld{constructor(l,u,v,K,J,se,me){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=l,this.keypressParts=l?Ea(l.getDispatchParts()):[],l&&0===this.keypressParts.length&&(this.keypressParts=Ea(l.getSingleModifierDispatchParts())),this.bubble=!!u&&94===u.charCodeAt(0),this.command=this.bubble?u.substr(1):u,this.commandArgs=v,this.when=K,this.isDefault=J,this.extensionId=se,this.isBuiltinExtension=me}}function Ea(w){let l=[];for(let u=0,v=w.length;u<v;u++){const K=w[u];if(!K)return l;l.push(K)}return l}var Ll=m(99802);class Ah extends Hr.f1{constructor(l,u){if(super(),0===u.length)throw(0,Dt.b1)("parts");this._os=l,this._parts=u}getLabel(){return Ll.xo.toLabel(this._os,this._parts,l=>this._getLabel(l))}getAriaLabel(){return Ll.X4.toLabel(this._os,this._parts,l=>this._getAriaLabel(l))}getElectronAccelerator(){return this._parts.length>1||this._parts[0].isDuplicateModifierCase()?null:Ll.jC.toLabel(this._os,this._parts,l=>this._getElectronAccelerator(l))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(l=>this._getPart(l))}_getPart(l){return new Hr.BQ(l.ctrlKey,l.shiftKey,l.altKey,l.metaKey,this._getLabel(l),this._getAriaLabel(l))}getDispatchParts(){return this._parts.map(l=>this._getDispatchPart(l))}getSingleModifierDispatchParts(){return this._parts.map(l=>this._getSingleModifierDispatchPart(l))}}class Dl extends Ah{constructor(l,u){super(u,l.parts)}_keyCodeToUILabel(l){if(2===this._os)switch(l){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return B.kL.toString(l)}_getLabel(l){return l.isDuplicateModifierCase()?"":this._keyCodeToUILabel(l.keyCode)}_getAriaLabel(l){return l.isDuplicateModifierCase()?"":B.kL.toString(l.keyCode)}_getElectronAccelerator(l){return B.kL.toElectronAccelerator(l.keyCode)}_getDispatchPart(l){return Dl.getDispatchStr(l)}static getDispatchStr(l){if(l.isModifierKey())return null;let u="";return l.ctrlKey&&(u+="ctrl+"),l.shiftKey&&(u+="shift+"),l.altKey&&(u+="alt+"),l.metaKey&&(u+="meta+"),u+=B.kL.toString(l.keyCode),u}_getSingleModifierDispatchPart(l){return 5!==l.keyCode||l.shiftKey||l.altKey||l.metaKey?4!==l.keyCode||l.ctrlKey||l.altKey||l.metaKey?6!==l.keyCode||l.ctrlKey||l.shiftKey||l.metaKey?57!==l.keyCode||l.ctrlKey||l.shiftKey||l.altKey?null:"meta":"alt":"shift":"ctrl"}static _scanCodeToKeyCode(l){const u=B.Vd[l];if(-1!==u)return u;switch(l){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static _resolveSimpleUserBinding(l){if(!l)return null;if(l instanceof Hr.QC)return l;const u=this._scanCodeToKeyCode(l.scanCode);return 0===u?null:new Hr.QC(l.ctrlKey,l.shiftKey,l.altKey,l.metaKey,u)}static resolveUserBinding(l,u){const v=Ea(l.map(K=>this._resolveSimpleUserBinding(K)));return v.length>0?[new Dl(new Hr.X_(v),u)]:[]}}var Qa=m(7022),lo=m(24763),Ya=m(87493),fc=m(17184),vu=m(1598),cd=m(73062),An=m(9719),Rh=m(96721),wu=m(32975),Jr=(m(72874),(()=>(function(w){w[w.AVOID=0]="AVOID",w[w.ALIGN=1]="ALIGN"}(Jr||(Jr={})),Jr))());function Ja(w,l,u){const v=u.mode===Jr.ALIGN?u.offset:u.offset+u.size,K=u.mode===Jr.ALIGN?u.offset+u.size:u.offset;return 0===u.position?l<=w-v?v:l<=K?K-l:Math.max(w-l,0):l<=K?K-l:l<=w-v?v:0}let Xa=(()=>{class w extends Ye.JT{constructor(u,v){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=Ye.JT.None,this.toDisposeOnSetContainer=Ye.JT.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=pt.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,pt.Cp(this.view),this.setContainer(u,v),this._register((0,Ye.OF)(()=>this.setContainer(null,1)))}setContainer(u,v){var K;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,null===(K=this.shadowRootHostElement)||void 0===K||K.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),u){if(this.container=u,this.useFixedPosition=1!==v,this.useShadowDOM=3===v,this.useShadowDOM){this.shadowRootHostElement=pt.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const se=document.createElement("style");se.textContent=dd,this.shadowRoot.appendChild(se),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(pt.$("slot"))}else this.container.appendChild(this.view);const J=new Ye.SL;w.BUBBLE_UP_EVENTS.forEach(se=>{J.add(pt.mu(this.container,se,me=>{this.onDOMEvent(me,!1)}))}),w.BUBBLE_DOWN_EVENTS.forEach(se=>{J.add(pt.mu(this.container,se,me=>{this.onDOMEvent(me,!0)},!0))}),this.toDisposeOnSetContainer=J}}show(u){this.isVisible()&&this.hide(),pt.PO(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2500",this.view.style.position=this.useFixedPosition?"fixed":"absolute",pt.$Z(this.view),this.toDisposeOnClean=u.render(this.view)||Ye.JT.None,this.delegate=u,this.doLayout(),this.delegate.focus&&this.delegate.focus()}getViewElement(){return this.view}layout(){if(this.isVisible()){if(!(!1!==this.delegate.canRelayout||St.gn&&Rh.D.pointerEvents))return void this.hide();this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;let v,u=this.delegate.getAnchor();if(pt.Re(u)){let Jt=pt.i(u);v={top:Jt.top,left:Jt.left,width:Jt.width,height:Jt.height}}else v={top:u.y,left:u.x,width:u.width||1,height:u.height||2};const K=pt.w(this.view),J=pt.wn(this.view),se=this.delegate.anchorPosition||0,me=this.delegate.anchorAlignment||0;let We,je;if(0===(this.delegate.anchorAxisAlignment||0)){const Jt={offset:v.top-window.pageYOffset,size:v.height,position:0===se?0:1},gn={offset:v.left,size:v.width,position:0===me?0:1,mode:Jr.ALIGN};We=Ja(window.innerHeight,J,Jt)+window.pageYOffset,wu.e.intersects({start:We,end:We+J},{start:Jt.offset,end:Jt.offset+Jt.size})&&(gn.mode=Jr.AVOID),je=Ja(window.innerWidth,K,gn)}else{const Jt={offset:v.left,size:v.width,position:0===me?0:1},gn={offset:v.top,size:v.height,position:0===se?0:1,mode:Jr.ALIGN};je=Ja(window.innerWidth,K,Jt),wu.e.intersects({start:je,end:je+K},{start:Jt.offset,end:Jt.offset+Jt.size})&&(gn.mode=Jr.AVOID),We=Ja(window.innerHeight,J,gn)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(0===se?"bottom":"top"),this.view.classList.add(0===me?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const ft=pt.i(this.container);this.view.style.top=We-(this.useFixedPosition?pt.i(this.view).top:ft.top)+"px",this.view.style.left=je-(this.useFixedPosition?pt.i(this.view).left:ft.left)+"px",this.view.style.width="initial"}hide(u){const v=this.delegate;this.delegate=null,(null==v?void 0:v.onHide)&&v.onHide(u),this.toDisposeOnClean.dispose(),pt.Cp(this.view)}isVisible(){return!!this.delegate}onDOMEvent(u,v){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(u,document.activeElement):v&&!pt.jg(u.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}return w.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],w.BUBBLE_DOWN_EVENTS=["click"],w})(),dd='\n\t:host {\n\t\tall: initial; /* 1st rule so subsequent properties are reset. */\n\t}\n\n\t@font-face {\n\t\tfont-family: "codicon";\n\t\tfont-display: block;\n\t\tsrc: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");\n\t}\n\n\t.codicon[class*=\'codicon-\'] {\n\t\tfont: normal normal normal 16px/1 codicon;\n\t\tdisplay: inline-block;\n\t\ttext-decoration: none;\n\t\ttext-rendering: auto;\n\t\ttext-align: center;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-ms-user-select: none;\n\t}\n\n\t:host {\n\t\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;\n\t}\n\n\t:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }\n\t:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }\n\t:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }\n\t:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }\n\t:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }\n\n\t:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }\n\t:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }\n\t:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }\n\t:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }\n\t:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }\n\n\t:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }\n',mc=class extends Ye.JT{constructor(l){super(),this.layoutService=l,this.currentViewDisposable=Ye.JT.None,this.container=l.hasContainer?l.container:null,this.contextView=this._register(new Xa(this.container,1)),this.layout(),this._register(l.onDidLayout(()=>this.layout()))}setContainer(l,u){this.contextView.setContainer(l,u||1)}showContextView(l,u,v){u?u!==this.container&&(this.container=u,this.setContainer(u,v?3:2)):this.layoutService.hasContainer&&this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.contextView.show(l);const K=(0,Ye.OF)(()=>{this.currentViewDisposable===K&&this.hideContextView()});return this.currentViewDisposable=K,K}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(l){this.contextView.hide(l)}};mc=function(w,l,u,v){var se,K=arguments.length,J=K<3?l:null===v?v=Object.getOwnPropertyDescriptor(l,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(w,l,u,v);else for(var me=w.length-1;me>=0;me--)(se=w[me])&&(J=(K<3?se(J):K>3?se(l,u,J):se(l,u))||J);return K>3&&J&&Object.defineProperty(l,u,J),J}([function(w,l){return function(u,v){l(u,v,0)}}(0,ur)],mc);var Ml=m(46359),Ks=m(84491);const _c="[^/\\\\]",Fh=/\//g;function yu(w){switch(w){case 0:return"";case 1:return`${_c}*?`;default:return`(?:[/\\\\]|${_c}+[/\\\\]|[/\\\\]${_c}+)*?`}}function qa(w,l){if(!w)return[];const u=[];let v=!1,K=!1,J="";for(const se of w){switch(se){case l:if(!v&&!K){u.push(J),J="";continue}break;case"{":v=!0;break;case"}":v=!1;break;case"[":K=!0;break;case"]":K=!1}J+=se}return J&&u.push(J),u}function fd(w){if(!w)return"";let l="";const u=qa(w,"/");if(u.every(v=>"**"===v))l=".*";else{let v=!1;u.forEach((K,J)=>{if("**"===K)return void(v||(l+=yu(2),v=!0));let se=!1,me="",xe=!1,We="";for(const je of K)if("}"!==je&&se)me+=je;else if(!xe||"]"===je&&We)switch(je){case"{":se=!0;continue;case"[":xe=!0;continue;case"}":l+=`(?:${qa(me,",").map(gn=>fd(gn)).join("|")})`,se=!1,me="";break;case"]":l+="["+We+"]",xe=!1,We="";break;case"?":l+=_c;continue;case"*":l+=yu(1);continue;default:l+=(0,nt.ec)(je)}else{let ft;ft="-"===je?je:"^"!==je&&"!"!==je||We?"/"===je?"":(0,nt.ec)(je):"^",We+=ft}J<u.length-1&&("**"!==u[J+1]||J+2<u.length)&&(l+="[/\\\\]"),v=!1})}return l}const Bh=/^\*\*\/\*\.[\w\.-]+$/,Cc=/^\*\*\/([\w\.-]+)\/?$/,bc=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,Nl=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,Su=/^\*\*((\/[\w\.-]+)+)\/?$/,xu=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,gd=new Ds.z6(1e4),md=function(){return!1},Nr=function(){return null};function pd(w,l){if(!w)return Nr;let u;u="string"!=typeof w?w.pattern:w,u=u.trim();const v=`${u}_${!!l.trimForExclusions}`;let J,K=gd.get(v);if(K)return _d(K,w);if(Bh.test(u)){const se=u.substr(4);K=function(me,xe){return"string"==typeof me&&me.endsWith(se)?u:null}}else K=(J=Cc.exec(Cd(u,l)))?function(w,l){const u=`/${w}`,v=`\\${w}`,K=function(se,me){return"string"!=typeof se?null:me?me===w?l:null:se===w||se.endsWith(u)||se.endsWith(v)?l:null},J=[w];return K.basenames=J,K.patterns=[l],K.allBasenames=J,K}(J[1],u):(l.trimForExclusions?Nl:bc).test(u)?function(w,l){const u=Lu(w.slice(1,-1).split(",").map(me=>pd(me,l)).filter(me=>me!==Nr),w),v=u.length;if(!v)return Nr;if(1===v)return u[0];const K=function(me,xe){for(let We=0,je=u.length;We<je;We++)if(u[We](me,xe))return w;return null},J=u.find(me=>!!me.allBasenames);J&&(K.allBasenames=J.allBasenames);const se=u.reduce((me,xe)=>xe.allPaths?me.concat(xe.allPaths):me,[]);return se.length&&(K.allPaths=se),K}(u,l):(J=Su.exec(Cd(u,l)))?bd(J[1].substr(1),u,!0):(J=xu.exec(Cd(u,l)))?bd(J[1],u,!1):function(w){try{const l=new RegExp(`^${fd(w)}$`);return function(u){return l.lastIndex=0,"string"==typeof u&&l.test(u)?w:null}}catch{return Nr}}(u);return gd.set(v,K),_d(K,w)}function _d(w,l){return"string"==typeof l?w:function(u,v){return(0,Ml.KM)(u,l.base,!St.IJ)?w(u.substr(l.base.length+1),v):null}}function Cd(w,l){return l.trimForExclusions&&w.endsWith("/**")?w.substr(0,w.length-2):w}function bd(w,l,u){const v=Ks.ir===Ks.KR.sep,K=v?w:w.replace(Fh,Ks.ir),J=Ks.ir+K,se=Ks.KR.sep+w,me=u?function(xe,We){return"string"!=typeof xe||xe!==K&&!xe.endsWith(J)&&(v||xe!==w&&!xe.endsWith(se))?null:l}:function(xe,We){return"string"!=typeof xe||xe!==K&&(v||xe!==w)?null:l};return me.allPaths=[(u?"*/":"./")+w],me}function wc(w,l={}){if(!w)return md;if("string"==typeof w||function(w){return!!w&&"string"==typeof w.base&&"string"==typeof w.pattern}(w)){const u=pd(w,l);if(u===Nr)return md;const v=function(K,J){return!!u(K,J)};return u.allBasenames&&(v.allBasenames=u.allBasenames),u.allPaths&&(v.allPaths=u.allPaths),v}return function(w,l){const u=Lu(Object.getOwnPropertyNames(w).map(me=>function(w,l,u){if(!1===l)return Nr;const v=pd(w,u);if(v===Nr)return Nr;if("boolean"==typeof l)return v;if(l){const K=l.when;if("string"==typeof K){const J=(se,me,xe,We)=>{if(!We||!v(se,me))return null;const ft=We(K.replace("$(basename)",xe));return(0,fn.J8)(ft)?ft.then(Jt=>Jt?w:null):ft?w:null};return J.requiresSiblings=!0,J}}return v}(me,w[me],l)).filter(me=>me!==Nr)),v=u.length;if(!v)return Nr;if(!u.some(me=>!!me.requiresSiblings)){if(1===v)return u[0];const me=function(je,ft){for(let Jt=0,gn=u.length;Jt<gn;Jt++){const Yn=u[Jt](je,ft);if(Yn)return Yn}return null},xe=u.find(je=>!!je.allBasenames);xe&&(me.allBasenames=xe.allBasenames);const We=u.reduce((je,ft)=>ft.allPaths?je.concat(ft.allPaths):je,[]);return We.length&&(me.allPaths=We),me}const K=function(me,xe,We){let je;for(let ft=0,Jt=u.length;ft<Jt;ft++){const gn=u[ft];gn.requiresSiblings&&We&&(xe||(xe=(0,Ks.EZ)(me)),je||(je=xe.substr(0,xe.length-(0,Ks.DZ)(me).length)));const Yn=gn(me,xe,je,We);if(Yn)return Yn}return null},J=u.find(me=>!!me.allBasenames);J&&(K.allBasenames=J.allBasenames);const se=u.reduce((me,xe)=>xe.allPaths?me.concat(xe.allPaths):me,[]);return se.length&&(K.allPaths=se),K}(w,l)}function Lu(w,l){const u=w.filter(me=>!!me.basenames);if(u.length<2)return w;const v=u.reduce((me,xe)=>{const We=xe.basenames;return We?me.concat(We):me},[]);let K;if(l){K=[];for(let me=0,xe=v.length;me<xe;me++)K.push(l)}else K=u.reduce((me,xe)=>{const We=xe.patterns;return We?me.concat(We):me},[]);const J=function(me,xe){if("string"!=typeof me)return null;if(!xe){let je;for(je=me.length;je>0;je--){const ft=me.charCodeAt(je-1);if(47===ft||92===ft)break}xe=me.substr(je)}const We=v.indexOf(xe);return-1!==We?K[We]:null};J.basenames=v,J.patterns=K,J.allBasenames=v;const se=w.filter(me=>!me.basenames);return se.push(J),se}var Tl=m(48343),aa=m(6228);let Ia=[],yc=[],el=[];function tl(w,l=!1){!function(w,l,u){const v=function(w,l){return{id:w.id,mime:w.mime,filename:w.filename,extension:w.extension,filepattern:w.filepattern,firstline:w.firstline,userConfigured:false,filenameLowercase:w.filename?w.filename.toLowerCase():void 0,extensionLowercase:w.extension?w.extension.toLowerCase():void 0,filepatternLowercase:w.filepattern?wc(w.filepattern.toLowerCase()):void 0,filepatternOnPath:!!w.filepattern&&w.filepattern.indexOf(Ks.KR.sep)>=0}}(w);Ia.push(v),v.userConfigured?el.push(v):yc.push(v),u&&!v.userConfigured&&Ia.forEach(K=>{K.mime===v.mime||K.userConfigured||(v.extension&&K.extension===v.extension&&console.warn(`Overwriting extension <<${v.extension}>> to now point to mime <<${v.mime}>>`),v.filename&&K.filename===v.filename&&console.warn(`Overwriting filename <<${v.filename}>> to now point to mime <<${v.mime}>>`),v.filepattern&&K.filepattern===v.filepattern&&console.warn(`Overwriting filepattern <<${v.filepattern}>> to now point to mime <<${v.mime}>>`),v.firstline&&K.firstline===v.firstline&&console.warn(`Overwriting firstline <<${v.firstline}>> to now point to mime <<${v.mime}>>`))})}(w,0,l)}function Go(w,l,u){var v;let K,J,se;for(let me=u.length-1;me>=0;me--){const xe=u[me];if(l===xe.filenameLowercase){K=xe;break}if(xe.filepattern&&(!J||xe.filepattern.length>J.filepattern.length)){const We=xe.filepatternOnPath?w:l;(null===(v=xe.filepatternLowercase)||void 0===v?void 0:v.call(xe,We))&&(J=xe)}xe.extension&&(!se||xe.extension.length>se.extension.length)&&l.endsWith(xe.extensionLowercase)&&(se=xe)}return K?K.mime:J?J.mime:se?se.mime:void 0}var Qe=m(12282);const ci=Object.prototype.hasOwnProperty,Ct="vs.editor.nullLanguage";mt.zu.register(Ct,{});class De{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(Ct,0),this._register(Qe.bd,1),this._nextLanguageId=2}_register(l,u){this._languageIdToLanguage[u]=l,this._languageToLanguageId.set(l,u)}register(l){if(this._languageToLanguageId.has(l))return;const u=this._nextLanguageId++;this._register(l,u)}encodeLanguageId(l){return this._languageToLanguageId.get(l)||0}decodeLanguageId(l){return this._languageIdToLanguage[l]||Ct}}let Qt=(()=>{class w extends Ye.JT{constructor(u=!0,v=!1){super(),this._onDidChange=this._register(new Y.Q5),this.onDidChange=this._onDidChange.event,w.instanceCount++,this._warnOnOverwrite=v,this.languageIdCodec=new De,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},u&&(this._initializeFromRegistry(),this._register(Qe.dQ.onDidChangeLanguages(K=>{this._initializeFromRegistry()})))}dispose(){w.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Ia=Ia.filter(w=>w.userConfigured),yc=[];const u=[].concat(Qe.dQ.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(u)}_registerLanguages(u){for(const v of u)this._registerLanguage(v);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(v=>{const K=this._languages[v];K.name&&(this._nameMap[K.name]=K.identifier),K.aliases.forEach(J=>{this._lowercaseNameMap[J.toLowerCase()]=K.identifier}),K.mimetypes.forEach(J=>{this._mimeTypesMap[J]=K.identifier})}),La.B.as(ir.IP.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(u){const v=u.id;let K;ci.call(this._languages,v)?K=this._languages[v]:(this.languageIdCodec.register(v),K={identifier:v,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[v]=K),this._mergeLanguage(K,u)}_mergeLanguage(u,v){const K=v.id;let J=null;if(Array.isArray(v.mimetypes)&&v.mimetypes.length>0&&(u.mimetypes.push(...v.mimetypes),J=v.mimetypes[0]),J||(J=`text/x-${K}`,u.mimetypes.push(J)),Array.isArray(v.extensions)){u.extensions=v.configuration?v.extensions.concat(u.extensions):u.extensions.concat(v.extensions);for(let xe of v.extensions)tl({id:K,mime:J,extension:xe},this._warnOnOverwrite)}if(Array.isArray(v.filenames))for(let xe of v.filenames)tl({id:K,mime:J,filename:xe},this._warnOnOverwrite),u.filenames.push(xe);if(Array.isArray(v.filenamePatterns))for(let xe of v.filenamePatterns)tl({id:K,mime:J,filepattern:xe},this._warnOnOverwrite);if("string"==typeof v.firstLine&&v.firstLine.length>0){let xe=v.firstLine;"^"!==xe.charAt(0)&&(xe="^"+xe);try{const We=new RegExp(xe);(0,nt.IO)(We)||tl({id:K,mime:J,firstline:We},this._warnOnOverwrite)}catch(We){(0,Dt.dL)(We)}}u.aliases.push(K);let se=null;if(void 0!==v.aliases&&Array.isArray(v.aliases)&&(se=0===v.aliases.length?[null]:v.aliases),null!==se)for(const xe of se)!xe||0===xe.length||u.aliases.push(xe);const me=null!==se&&se.length>0;if(!me||null!==se[0]){const xe=(me?se[0]:null)||K;(me||!u.name)&&(u.name=xe)}v.configuration&&u.configurationFiles.push(v.configuration),v.icon&&u.icons.push(v.icon)}isRegisteredLanguageId(u){return!!u&&ci.call(this._languages,u)}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(u){const v=u.toLowerCase();return ci.call(this._lowercaseNameMap,v)?this._lowercaseNameMap[v]:null}getLanguageIdByMimeType(u){return u&&ci.call(this._mimeTypesMap,u)?this._mimeTypesMap[u]:null}guessLanguageIdByFilepathOrFirstLine(u,v){if(!u&&!v)return[];const K=function(w,l){let u;if(w)switch(w.scheme){case Pi.lg.file:u=w.fsPath;break;case Pi.lg.data:u=aa.Vb.parseMetaData(w).get(aa.Vb.META_DATA_LABEL);break;default:u=w.path}if(!u)return[Tl.v.unknown];u=u.toLowerCase();const v=(0,Ks.EZ)(u),K=Go(u,v,el);if(K)return[K,Tl.v.text];const J=Go(u,v,yc);if(J)return[J,Tl.v.text];if(l){const se=function(w){if((0,nt.uS)(w)&&(w=w.substr(1)),w.length>0)for(let l=Ia.length-1;l>=0;l--){const u=Ia[l];if(!u.firstline)continue;const v=w.match(u.firstline);if(v&&v.length>0)return u.mime}}(l);if(se)return[se,Tl.v.text]}return[Tl.v.unknown]}(u,v);return(0,ei.kX)(K.map(J=>this.getLanguageIdByMimeType(J)))}}return w.instanceCount=0,w})(),Xr=(()=>{class w extends Ye.JT{constructor(u=!1){super(),this._onDidEncounterLanguage=this._register(new Y.Q5),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onDidChange=this._register(new Y.Q5({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,w.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new Qt(!0,u)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){w.instanceCount--,super.dispose()}isRegisteredLanguageId(u){return this._registry.isRegisteredLanguageId(u)}getLanguageIdByLanguageName(u){return this._registry.getLanguageIdByLanguageName(u)}getLanguageIdByMimeType(u){return this._registry.getLanguageIdByMimeType(u)}guessLanguageIdByFilepathOrFirstLine(u,v){const K=this._registry.guessLanguageIdByFilepathOrFirstLine(u,v);return(0,ei.Xh)(K,null)}createById(u){return new Nu(this.onDidChange,()=>this._createAndGetLanguageIdentifier(u))}createByFilepathOrFirstLine(u,v){return new Nu(this.onDidChange,()=>{const K=this.guessLanguageIdByFilepathOrFirstLine(u,v);return this._createAndGetLanguageIdentifier(K)})}_createAndGetLanguageIdentifier(u){return(!u||!this.isRegisteredLanguageId(u))&&(u=Qe.bd),this._encounteredLanguages.has(u)||(this._encounteredLanguages.add(u),T.RW.getOrCreate(u),this._onDidEncounterLanguage.fire(u)),u}}return w.instanceCount=0,w})();class Nu{constructor(l,u){this._onDidChangeLanguages=l,this._selector=u,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new Y.Q5({onLastListenerRemove:()=>{this._dispose()}})),this._emitter.event}_evaluate(){const l=this._selector();l!==this.languageId&&(this.languageId=l,this._emitter&&this._emitter.fire(this.languageId))}}var nl=m(2886),la=m(47306),As=m(23945),Sc=m(60291),Iu=m(48727),ku=m(19226),Vh=m(6491),Bn=m(50955),Tt=m(78968),ca=m(42623);const di=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,kt=/(&amp;)?(&amp;)([^\s&])/g;var Te=(()=>(function(w){w[w.Right=0]="Right",w[w.Left=1]="Left"}(Te||(Te={})),Te))();class r extends Sc.o{constructor(l,u,v={}){l.classList.add("monaco-menu-container"),l.setAttribute("role","presentation");const K=document.createElement("div");K.classList.add("monaco-menu"),K.setAttribute("role","presentation"),super(K,{orientation:1,actionViewItemProvider:me=>this.doGetActionViewItem(me,v,J),context:v.context,actionRunner:v.actionRunner,ariaLabel:v.ariaLabel,focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...St.dz||St.IJ?[10]:[]],keyDown:!0}}),this.menuElement=K,this.actionsList.setAttribute("role","menu"),this.actionsList.tabIndex=0,this.menuDisposables=this._register(new Ye.SL),this.initializeOrUpdateStyleSheet(l,{}),this._register(As.o.addTarget(K)),(0,pt.nm)(K,pt.tw.KEY_DOWN,me=>{new Ls.y(me).equals(2)&&me.preventDefault()}),v.enableMnemonics&&this.menuDisposables.add((0,pt.nm)(K,pt.tw.KEY_DOWN,me=>{const xe=me.key.toLocaleLowerCase();if(this.mnemonics.has(xe)){pt.zB.stop(me,!0);const We=this.mnemonics.get(xe);if(1===We.length&&(We[0]instanceof _&&We[0].container&&this.focusItemByElement(We[0].container),We[0].onClick(me)),We.length>1){const je=We.shift();je&&je.container&&(this.focusItemByElement(je.container),We.push(je)),this.mnemonics.set(xe,We)}}})),St.IJ&&this._register((0,pt.nm)(K,pt.tw.KEY_DOWN,me=>{const xe=new Ls.y(me);xe.equals(14)||xe.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),pt.zB.stop(me,!0)):(xe.equals(13)||xe.equals(12))&&(this.focusedItem=0,this.focusPrevious(),pt.zB.stop(me,!0))})),this._register((0,pt.nm)(this.domNode,pt.tw.MOUSE_OUT,me=>{(0,pt.jg)(me.relatedTarget,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),me.stopPropagation())})),this._register((0,pt.nm)(this.actionsList,pt.tw.MOUSE_OVER,me=>{let xe=me.target;if(xe&&(0,pt.jg)(xe,this.actionsList)&&xe!==this.actionsList){for(;xe.parentElement!==this.actionsList&&null!==xe.parentElement;)xe=xe.parentElement;if(xe.classList.contains("action-item")){const We=this.focusedItem;this.setFocusedItem(xe),We!==this.focusedItem&&this.updateFocus()}}})),this._register(As.o.addTarget(this.actionsList)),this._register((0,pt.nm)(this.actionsList,As.t.Tap,me=>{let xe=me.initialTarget;if(xe&&(0,pt.jg)(xe,this.actionsList)&&xe!==this.actionsList){for(;xe.parentElement!==this.actionsList&&null!==xe.parentElement;)xe=xe.parentElement;if(xe.classList.contains("action-item")){const We=this.focusedItem;this.setFocusedItem(xe),We!==this.focusedItem&&this.updateFocus()}}}));let J={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new Vh.s$(K,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const se=this.scrollableElement.getDomNode();se.style.position="",this._register((0,pt.nm)(K,As.t.Change,me=>{pt.zB.stop(me,!0);const xe=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:xe-me.translationY})})),this._register((0,pt.nm)(se,pt.tw.MOUSE_UP,me=>{me.preventDefault()})),K.style.maxHeight=`${Math.max(10,window.innerHeight-l.getBoundingClientRect().top-35)}px`,u=u.filter(me=>{var xe;return!(null===(xe=v.submenuIds)||void 0===xe?void 0:xe.has(me.id))||(console.warn(`Found submenu cycle: ${me.id}`),!1)}),this.push(u,{icon:!0,label:!0,isMenu:!0}),l.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(me=>!(me instanceof y)).forEach((me,xe,We)=>{me.updatePositionInSet(xe+1,We.length)})}initializeOrUpdateStyleSheet(l,u){this.styleSheet||((0,pt.OO)(l)?this.styleSheet=(0,pt.dS)(l):(r.globalStyleSheet||(r.globalStyleSheet=(0,pt.dS)()),this.styleSheet=r.globalStyleSheet)),this.styleSheet.textContent=function(w,l){let u=`\n.monaco-menu {\n\tfont-size: 13px;\n\n}\n\n${(0,ku.a)(Tt.lA.menuSelection)}\n${(0,ku.a)(Tt.lA.menuSubmenu)}\n\n.monaco-menu .monaco-action-bar {\n\ttext-align: right;\n\toverflow: hidden;\n\twhite-space: nowrap;\n}\n\n.monaco-menu .monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\twidth: 100%;\n\tjustify-content: flex-end;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar.reverse .actions-container {\n\tflex-direction: row-reverse;\n}\n\n.monaco-menu .monaco-action-bar .action-item {\n\tcursor: pointer;\n\tdisplay: inline-block;\n\ttransition: transform 50ms ease;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-menu .monaco-action-bar.animated .action-item.active {\n\ttransform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221a\u03c6 */\n}\n\n.monaco-menu .monaco-action-bar .action-item .icon,\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar .action-label {\n\tfont-size: 11px;\n\tmargin-right: 4px;\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label,\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {\n\topacity: 0.4;\n}\n\n/* Vertical actions */\n\n.monaco-menu .monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid #bbb;\n\tpadding-top: 1px;\n\tmargin-left: .8em;\n\tmargin-right: .8em;\n}\n\n.monaco-menu .secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n.monaco-menu .monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-menu .monaco-action-bar.vertical {\n\tmargin-left: 0;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tpadding: 0;\n\ttransform: none;\n\tdisplay: flex;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.active {\n\ttransform: none;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\tflex: 1 1 auto;\n\tdisplay: flex;\n\theight: 2em;\n\talign-items: center;\n\tposition: relative;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label {\n\tflex: 1 1 auto;\n\ttext-decoration: none;\n\tpadding: 0 1em;\n\tbackground: none;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .keybinding,\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tdisplay: inline-block;\n\tflex: 2 1 auto;\n\tpadding: 0 1em;\n\ttext-align: right;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {\n\tfont-size: 16px !important;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {\n\tmargin-left: auto;\n\tmargin-right: -20px;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {\n\topacity: 0.4;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\tmargin: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tposition: static;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {\n\tposition: absolute;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tpadding: 0.5em 0 0 0;\n\tmargin-bottom: 0.5em;\n\twidth: 100%;\n\theight: 0px !important;\n\tmargin-left: .8em !important;\n\tmargin-right: .8em !important;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {\n\tpadding: 0.7em 1em 0.1em 1em;\n\tfont-weight: bold;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:hover {\n\tcolor: inherit;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tposition: absolute;\n\tvisibility: hidden;\n\twidth: 1em;\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {\n\tvisibility: visible;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Context Menu */\n\n.context-view.monaco-menu-container {\n\toutline: 0;\n\tborder: none;\n\tanimation: fadeIn 0.083s linear;\n\t-webkit-app-region: no-drag;\n}\n\n.context-view.monaco-menu-container :focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {\n\toutline: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tborder: thin solid transparent; /* prevents jumping behaviour on hover or focus */\n}\n\n\n/* High Contrast Theming */\n:host-context(.hc-black) .context-view.monaco-menu-container {\n\tbox-shadow: none;\n}\n\n:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused {\n\tbackground: none;\n}\n\n/* Vertical Action Bar Styles */\n\n.monaco-menu .monaco-action-bar.vertical {\n\tpadding: .5em 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\theight: 1.8em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),\n.monaco-menu .monaco-action-bar.vertical .keybinding {\n\tfont-size: inherit;\n\tpadding: 0 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tfont-size: inherit;\n\twidth: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tfont-size: inherit;\n\tpadding: 0.2em 0 0 0;\n\tmargin-bottom: 0.2em;\n}\n\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tmargin-left: 0;\n\tmargin-right: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tfont-size: 60%;\n\tpadding: 0 1.8em;\n}\n\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n\tmask-size: 10px 10px;\n\t-webkit-mask-size: 10px 10px;\n}\n\n.monaco-menu .action-item {\n\tcursor: default;\n}`;if(l){u+="\n\t\t\t/* Arrows */\n\t\t\t.monaco-scrollable-element > .scrollbar > .scra {\n\t\t\t\tcursor: pointer;\n\t\t\t\tfont-size: 11px !important;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .visible {\n\t\t\t\topacity: 1;\n\n\t\t\t\t/* Background rule added for IE9 - to allow clicks on dom node */\n\t\t\t\tbackground:rgba(0,0,0,0);\n\n\t\t\t\ttransition: opacity 100ms linear;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .invisible {\n\t\t\t\topacity: 0;\n\t\t\t\tpointer-events: none;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .invisible.fade {\n\t\t\t\ttransition: opacity 800ms linear;\n\t\t\t}\n\n\t\t\t/* Scrollable Content Inset Shadow */\n\t\t\t.monaco-scrollable-element > .shadow {\n\t\t\t\tposition: absolute;\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 3px;\n\t\t\t\theight: 3px;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 3px;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 100%;\n\t\t\t\twidth: 3px;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.top-left-corner {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 3px;\n\t\t\t\twidth: 3px;\n\t\t\t}\n\t\t";const v=w.scrollbarShadow;v&&(u+=`\n\t\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\t\tbox-shadow: ${v} 0 6px 6px -6px inset;\n\t\t\t\t}\n\n\t\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\t\tbox-shadow: ${v} 6px 0 6px -6px inset;\n\t\t\t\t}\n\n\t\t\t\t.monaco-scrollable-element > .shadow.top.left {\n\t\t\t\t\tbox-shadow: ${v} 6px 6px 6px -6px inset;\n\t\t\t\t}\n\t\t\t`);const K=w.scrollbarSliderBackground;K&&(u+=`\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider {\n\t\t\t\t\tbackground: ${K};\n\t\t\t\t}\n\t\t\t`);const J=w.scrollbarSliderHoverBackground;J&&(u+=`\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\t\t\t\tbackground: ${J};\n\t\t\t\t}\n\t\t\t`);const se=w.scrollbarSliderActiveBackground;se&&(u+=`\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider.active {\n\t\t\t\t\tbackground: ${se};\n\t\t\t\t}\n\t\t\t`)}return u}(u,(0,pt.OO)(l))}style(l){const u=this.getContainer();this.initializeOrUpdateStyleSheet(u,l);const v=l.foregroundColor?`${l.foregroundColor}`:"",K=l.backgroundColor?`${l.backgroundColor}`:"",se=l.shadowColor?`0 2px 4px ${l.shadowColor}`:"";u.style.border=l.borderColor?`1px solid ${l.borderColor}`:"",this.domNode.style.color=v,this.domNode.style.backgroundColor=K,u.style.boxShadow=se,this.viewItems&&this.viewItems.forEach(me=>{(me instanceof c||me instanceof y)&&me.style(l)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(l){const u=this.focusedItem;this.setFocusedItem(l),u!==this.focusedItem&&this.updateFocus()}setFocusedItem(l){for(let u=0;u<this.actionsList.children.length;u++)if(l===this.actionsList.children[u]){this.focusedItem=u;break}}updateFocus(l){super.updateFocus(l,!0,!0),void 0!==this.focusedItem&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(l,u,v){if(l instanceof Bn.Z0)return new y(u.context,l,{icon:!0});if(l instanceof Bn.wY){const K=new _(l,l.actions,v,Object.assign(Object.assign({},u),{submenuIds:new Set([...u.submenuIds||[],l.id])}));if(u.enableMnemonics){const J=K.getMnemonic();if(J&&K.isEnabled()){let se=[];this.mnemonics.has(J)&&(se=this.mnemonics.get(J)),se.push(K),this.mnemonics.set(J,se)}}return K}{const K={enableMnemonics:u.enableMnemonics,useEventAsContext:u.useEventAsContext};if(u.getKeyBinding){const se=u.getKeyBinding(l);if(se){const me=se.getLabel();me&&(K.keybinding=me)}}const J=new c(u.context,l,K);if(u.enableMnemonics){const se=J.getMnemonic();if(se&&J.isEnabled()){let me=[];this.mnemonics.has(se)&&(me=this.mnemonics.get(se)),me.push(J),this.mnemonics.set(se,me)}}return J}}}class c extends Iu.Y{constructor(l,u,v={}){if(v.isMenu=!0,super(u,u,v),this.options=v,this.options.icon=void 0!==v.icon&&v.icon,this.options.label=void 0===v.label||v.label,this.cssClass="",this.options.label&&v.enableMnemonics){let K=this.getAction().label;if(K){let J=di.exec(K);J&&(this.mnemonic=(J[1]?J[1]:J[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new fn.pY(()=>{!this.element||(this._register((0,pt.nm)(this.element,pt.tw.MOUSE_UP,K=>{if(pt.zB.stop(K,!0),la.isFirefox){if(new nl.n(K).rightButton)return;this.onClick(K)}else setTimeout(()=>{this.onClick(K)},0)})),this._register((0,pt.nm)(this.element,pt.tw.CONTEXT_MENU,K=>{pt.zB.stop(K,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(l){super.render(l),this.element&&(this.container=l,this.item=(0,pt.R3)(this.element,(0,pt.$)("a.action-menu-item")),this._action.id===Bn.Z0.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,pt.R3)(this.item,(0,pt.$)("span.menu-item-check"+Tt.lA.menuSelection.cssSelector)),this.check.setAttribute("role","none"),this.label=(0,pt.R3)(this.item,(0,pt.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,pt.R3)(this.item,(0,pt.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(l,u){this.item&&(this.item.setAttribute("aria-posinset",`${l}`),this.item.setAttribute("aria-setsize",`${u}`))}updateLabel(){if(this.label&&this.options.label){(0,pt.PO)(this.label);let l=(0,ca.x$)(this.getAction().label);if(l){const u=function(w){const l=di,u=l.exec(w);return u?w.replace(l,u[1]?"":"$2$3").trim():w}(l);this.options.enableMnemonics||(l=u),this.label.setAttribute("aria-label",u.replace(/&&/g,"&"));const v=di.exec(l);if(v){l=nt.YU(l),kt.lastIndex=0;let K=kt.exec(l);for(;K&&K[1];)K=kt.exec(l);const J=se=>se.replace(/&amp;&amp;/g,"&amp;");K?this.label.append(nt.j3(J(l.substr(0,K.index))," "),(0,pt.$)("u",{"aria-hidden":"true"},K[3]),nt.oL(J(l.substr(K.index+K[0].length))," ")):this.label.innerText=J(l).trim(),this.item&&this.item.setAttribute("aria-keyshortcuts",(v[1]?v[1]:v[3]).toLocaleLowerCase())}else this.label.innerText=l.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const l=this.getAction().checked;this.item.classList.toggle("checked",!!l),void 0!==l?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",l?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const l=this.element&&this.element.classList.contains("focused"),u=l&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,v=l&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,K=l&&this.menuStyle.selectionBorderColor?`thin solid ${this.menuStyle.selectionBorderColor}`:"";this.item&&(this.item.style.color=u?u.toString():"",this.item.style.backgroundColor=v?v.toString():""),this.check&&(this.check.style.color=u?u.toString():""),this.container&&(this.container.style.border=K)}style(l){this.menuStyle=l,this.applyStyle()}}class _ extends c{constructor(l,u,v,K){super(l,l,K),this.submenuActions=u,this.parentData=v,this.submenuOptions=K,this.mysubmenu=null,this.submenuDisposables=this._register(new Ye.SL),this.mouseOver=!1,this.expandDirection=K&&void 0!==K.expandDirection?K.expandDirection:Te.Right,this.showScheduler=new fn.pY(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new fn.pY(()=>{this.element&&!(0,pt.jg)((0,pt.vY)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(l){super.render(l),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,pt.R3)(this.item,(0,pt.$)("span.submenu-indicator"+Tt.lA.menuSubmenu.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,pt.nm)(this.element,pt.tw.KEY_UP,u=>{let v=new Ls.y(u);(v.equals(17)||v.equals(3))&&(pt.zB.stop(u,!0),this.createSubmenu(!0))})),this._register((0,pt.nm)(this.element,pt.tw.KEY_DOWN,u=>{let v=new Ls.y(u);(0,pt.vY)()===this.item&&(v.equals(17)||v.equals(3))&&pt.zB.stop(u,!0)})),this._register((0,pt.nm)(this.element,pt.tw.MOUSE_OVER,u=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,pt.nm)(this.element,pt.tw.MOUSE_LEAVE,u=>{this.mouseOver=!1})),this._register((0,pt.nm)(this.element,pt.tw.FOCUS_OUT,u=>{this.element&&!(0,pt.jg)((0,pt.vY)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!1)})))}updateEnabled(){}onClick(l){pt.zB.stop(l,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(l){if(this.parentData.submenu&&(l||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(l,u,v,K){const J={top:0,left:0};return J.left=Ja(l.width,u.width,{position:K===Te.Right?0:1,offset:v.left,size:v.width}),J.left>=v.left&&J.left<v.left+v.width&&(v.left+10+u.width<=l.width&&(J.left=v.left+10),v.top+=10,v.height=0),J.top=Ja(l.height,u.height,{position:0,offset:v.top,size:0}),J.top+u.height===v.top&&J.top+v.height+u.height<=l.height&&(J.top+=v.height),J}createSubmenu(l=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,pt.R3)(this.element,(0,pt.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const u=getComputedStyle(this.parentData.parent.domNode),v=parseFloat(u.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new r(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new Bn.eZ],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const K=this.element.getBoundingClientRect(),J={top:K.top-v,left:K.left,height:K.height+2*v,width:K.width},se=this.submenuContainer.getBoundingClientRect(),{top:me,left:xe}=this.calculateSubmenuMenuLayout(new pt.Ro(window.innerWidth,window.innerHeight),pt.Ro.lift(se),J,this.expandDirection);this.submenuContainer.style.left=xe-se.left+"px",this.submenuContainer.style.top=me-se.top+"px",this.submenuDisposables.add((0,pt.nm)(this.submenuContainer,pt.tw.KEY_UP,We=>{new Ls.y(We).equals(15)&&(pt.zB.stop(We,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,pt.nm)(this.submenuContainer,pt.tw.KEY_DOWN,We=>{new Ls.y(We).equals(15)&&pt.zB.stop(We,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(l),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(l){var u;this.item&&(null===(u=this.item)||void 0===u||u.setAttribute("aria-expanded",l))}applyStyle(){if(super.applyStyle(),!this.menuStyle)return;const u=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=u?`${u}`:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class y extends Iu.g{style(l){this.label&&(this.label.style.borderBottomColor=l.separatorColor?`${l.separatorColor}`:"")}}m(94321);var ye=m(905);class Le{constructor(l,u,v,K,J){this.contextViewService=l,this.telemetryService=u,this.notificationService=v,this.keybindingService=K,this.themeService=J,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(l){this.options=l}showContextMenu(l){const u=l.getActions();if(!u.length)return;this.focusToReturn=document.activeElement;let v,K=(0,pt.Re)(l.domForShadowRoot)?l.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>l.getAnchor(),canRelayout:!1,anchorAlignment:l.anchorAlignment,anchorAxisAlignment:l.anchorAxisAlignment,render:J=>{let se=l.getMenuClassName?l.getMenuClassName():"";se&&(J.className+=" "+se),this.options.blockMouse&&(this.block=J.appendChild((0,pt.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(0,pt.nm)(this.block,pt.tw.MOUSE_DOWN,We=>We.stopPropagation()));const me=new Ye.SL,xe=l.actionRunner||new Bn.Wi;return xe.onBeforeRun(this.onActionRun,this,me),xe.onDidRun(this.onDidActionRun,this,me),v=new r(J,u,{actionViewItemProvider:l.getActionViewItem,context:l.getActionsContext?l.getActionsContext():null,actionRunner:xe,getKeyBinding:l.getKeyBinding?l.getKeyBinding:We=>this.keybindingService.lookupKeybinding(We.id)}),me.add((0,ye.tj)(v,this.themeService)),v.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,me),v.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,me),me.add((0,pt.nm)(window,pt.tw.BLUR,()=>this.contextViewService.hideContextView(!0))),me.add((0,pt.nm)(window,pt.tw.MOUSE_DOWN,We=>{if(We.defaultPrevented)return;let je=new nl.n(We),ft=je.target;if(!je.rightButton){for(;ft;){if(ft===J)return;ft=ft.parentElement}this.contextViewService.hideContextView(!0)}})),(0,Ye.F8)(me,v)},focus:()=>{v&&v.focus(!!l.autoSelectFirstItem)},onHide:J=>{l.onHide&&l.onHide(!!J),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},K,!!K)}onActionRun(l){this.telemetryService.publicLog2("workbenchActionExecuted",{id:l.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(l){l.error&&!(0,Dt.n2)(l.error)&&this.notificationService.error(l.error)}}var ze=function(w,l){return function(u,v){l(u,v,w)}};let qe=class extends Ye.JT{constructor(l,u,v,K,J){super(),this._onDidShowContextMenu=new Y.Q5,this._onDidHideContextMenu=new Y.Q5,this.contextMenuHandler=new Le(v,l,u,K,J)}configure(l){this.contextMenuHandler.configure(l)}showContextMenu(l){this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},l),{onHide:u=>{l.onHide&&l.onHide(u),this._onDidHideContextMenu.fire()}})),pt._q.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};qe=function(w,l,u,v){var se,K=arguments.length,J=K<3?l:null===v?v=Object.getOwnPropertyDescriptor(l,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(w,l,u,v);else for(var me=w.length-1;me>=0;me--)(se=w[me])&&(J=(K<3?se(J):K>3?se(l,u,J):se(l,u))||J);return K>3&&J&&Object.defineProperty(l,u,J),J}([ze(0,Ya.b),ze(1,Vr.lT),ze(2,An.u),ze(3,ss.d),ze(4,si.XE)],qe);var ot=m(62253),bt=m(7272),xt=(()=>(function(w){w[w.API=0]="API",w[w.USER=1]="USER"}(xt||(xt={})),xt))(),Nt=m(23813),tn=function(w,l,u,v){var se,K=arguments.length,J=K<3?l:null===v?v=Object.getOwnPropertyDescriptor(l,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(w,l,u,v);else for(var me=w.length-1;me>=0;me--)(se=w[me])&&(J=(K<3?se(J):K>3?se(l,u,J):se(l,u))||J);return K>3&&J&&Object.defineProperty(l,u,J),J},ln=function(w,l){return function(u,v){l(u,v,w)}},$t=function(w,l,u,v){return new(u||(u=Promise))(function(J,se){function me(je){try{We(v.next(je))}catch(ft){se(ft)}}function xe(je){try{We(v.throw(je))}catch(ft){se(ft)}}function We(je){je.done?J(je.value):function(J){return J instanceof u?J:new u(function(se){se(J)})}(je.value).then(me,xe)}We((v=v.apply(w,l||[])).next())})};let On=class{constructor(l){this._commandService=l}open(l,u){return $t(this,void 0,void 0,function*(){if(!(0,Nt.xn)(l,Pi.lg.command))return!1;if(!(null==u?void 0:u.allowCommands))return!0;"string"==typeof l&&(l=E.o.parse(l));let v=[];try{v=(0,bt.Q)(decodeURIComponent(l.query))}catch{try{v=(0,bt.Q)(l.query)}catch{}}return Array.isArray(v)||(v=[v]),yield this._commandService.executeCommand(l.path,...v),!0})}};On=tn([ln(0,qo.Hy)],On);let In=class{constructor(l){this._editorService=l}open(l,u){return $t(this,void 0,void 0,function*(){"string"==typeof l&&(l=E.o.parse(l));const{selection:v,uri:K}=(0,Nt.xI)(l);return(l=K).scheme===Pi.lg.file&&(l=(0,aa.AH)(l)),yield this._editorService.openCodeEditor({resource:l,options:Object.assign({selection:v,source:(null==u?void 0:u.fromUserGesture)?xt.USER:xt.API},null==u?void 0:u.editorOptions)},this._editorService.getFocusedCodeEditor(),null==u?void 0:u.openToSide),!0})}};In=tn([ln(0,Ne.$)],In);let Rn=class{constructor(l,u){this._openers=new ot.S,this._validators=new ot.S,this._resolvers=new ot.S,this._resolvedUriTargets=new Ds.Y9(v=>v.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new ot.S,this._defaultExternalOpener={openExternal:v=>$t(this,void 0,void 0,function*(){return(0,Nt.Gs)(v,Pi.lg.http,Pi.lg.https)?pt.V3(v):window.location.href=v,!0})},this._openers.push({open:(v,K)=>$t(this,void 0,void 0,function*(){return!(!(null==K?void 0:K.openExternal)&&!(0,Nt.Gs)(v,Pi.lg.mailto,Pi.lg.http,Pi.lg.https,Pi.lg.vsls)||(yield this._doOpenExternal(v,K),0))})}),this._openers.push(new On(u)),this._openers.push(new In(l))}registerOpener(l){return{dispose:this._openers.unshift(l)}}registerValidator(l){return{dispose:this._validators.push(l)}}registerExternalUriResolver(l){return{dispose:this._resolvers.push(l)}}setDefaultExternalOpener(l){this._defaultExternalOpener=l}registerExternalOpener(l){return{dispose:this._externalOpeners.push(l)}}open(l,u){var v;return $t(this,void 0,void 0,function*(){const K="string"==typeof l?E.o.parse(l):l,J=null!==(v=this._resolvedUriTargets.get(K))&&void 0!==v?v:l;for(const se of this._validators)if(!(yield se.shouldOpen(J)))return!1;for(const se of this._openers)if(yield se.open(l,u))return!0;return!1})}resolveExternalUri(l,u){return $t(this,void 0,void 0,function*(){for(const v of this._resolvers)try{const K=yield v.resolveExternalUri(l,u);if(K)return this._resolvedUriTargets.has(K.resolved)||this._resolvedUriTargets.set(K.resolved,l),K}catch{}throw new Error("Could not resolve external URI: "+l.toString())})}_doOpenExternal(l,u){return $t(this,void 0,void 0,function*(){const v="string"==typeof l?E.o.parse(l):l;let K,J;try{K=(yield this.resolveExternalUri(v,u)).resolved}catch{K=v}if(J="string"==typeof l&&v.toString()===K.toString()?l:encodeURI(K.toString(!0)),null==u?void 0:u.allowContributedOpeners){const se="string"==typeof(null==u?void 0:u.allowContributedOpeners)?null==u?void 0:u.allowContributedOpeners:void 0;for(const me of this._externalOpeners)if(yield me.openExternal(J,{sourceUri:v,preferredOpenerId:se},g.T.None))return!0}return this._defaultExternalOpener.openExternal(J,{sourceUri:v},g.T.None)})}dispose(){this._validators.clear()}};Rn=tn([ln(0,Ne.$),ln(1,qo.Hy)],Rn);var Fn=m(81622),Dn=m(79695),Cn=m(98275),ri=function(w,l){return function(u,v){l(u,v,w)}};class _o extends Ye.JT{constructor(l){super(),this.model=l,this._markersData=new Map,this._register((0,Ye.OF)(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(l,u){const v=[...this._markersData.keys()];this._markersData.clear();const K=this.model.deltaDecorations(v,u);for(let J=0;J<K.length;J++)this._markersData.set(K[J],l[J]);return 0!==v.length||0!==K.length}getMarker(l){return this._markersData.get(l.id)}}let Co=class extends Ye.JT{constructor(l,u){super(),this._markerService=u,this._onDidChangeMarker=this._register(new Y.Q5),this._markerDecorations=new Ds.Y9,l.getModels().forEach(v=>this._onModelAdded(v)),this._register(l.onModelAdded(this._onModelAdded,this)),this._register(l.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(l=>l.dispose()),this._markerDecorations.clear()}getMarker(l,u){const v=this._markerDecorations.get(l);return v&&v.getMarker(u)||null}_handleMarkerChange(l){l.forEach(u=>{const v=this._markerDecorations.get(u);v&&this._updateDecorations(v)})}_onModelAdded(l){const u=new _o(l);this._markerDecorations.set(l.uri,u),this._updateDecorations(u)}_onModelRemoved(l){const u=this._markerDecorations.get(l.uri);u&&(u.dispose(),this._markerDecorations.delete(l.uri)),(l.uri.scheme===Pi.lg.inMemory||l.uri.scheme===Pi.lg.internal||l.uri.scheme===Pi.lg.vscode)&&this._markerService&&this._markerService.read({resource:l.uri}).map(v=>v.owner).forEach(v=>this._markerService.remove(v,[l.uri]))}_updateDecorations(l){const u=this._markerService.read({resource:l.model.uri,take:500}),v=u.map(K=>({range:this._createDecorationRange(l.model,K),options:this._createDecorationOption(K)}));l.update(u,v)&&this._onDidChangeMarker.fire(l.model)}_createDecorationRange(l,u){let v=O.e.lift(u);if(u.severity===Fn.ZL.Hint&&!this._hasMarkerTag(u,1)&&!this._hasMarkerTag(u,2)&&(v=v.setEndPosition(v.startLineNumber,v.startColumn+2)),v=l.validateRange(v),v.isEmpty()){const K=l.getLineLastNonWhitespaceColumn(v.startLineNumber)||l.getLineMaxColumn(v.startLineNumber);if(1===K||v.endColumn>=K)return v;const J=l.getWordAtPosition(v.getStartPosition());J&&(v=new O.e(v.startLineNumber,J.startColumn,v.endLineNumber,J.endColumn))}else if(u.endColumn===Number.MAX_VALUE&&1===u.startColumn&&v.startLineNumber===v.endLineNumber){let K=l.getLineFirstNonWhitespaceColumn(u.startLineNumber);K<v.endColumn&&(v=new O.e(v.startLineNumber,K,v.endLineNumber,v.endColumn),u.startColumn=K)}return v}_createDecorationOption(l){let u,v,K,J,se;switch(l.severity){case Fn.ZL.Hint:u=this._hasMarkerTag(l,2)?void 0:this._hasMarkerTag(l,1)?"squiggly-unnecessary":"squiggly-hint",K=0;break;case Fn.ZL.Warning:u="squiggly-warning",v=(0,si.EN)(Dn.Re),K=20,se={color:(0,si.EN)(Cn.Ivo),position:pn.F5.Inline};break;case Fn.ZL.Info:u="squiggly-info",v=(0,si.EN)(Dn.eS),K=10;break;default:u="squiggly-error",v=(0,si.EN)(Dn.lK),K=30,se={color:(0,si.EN)(Cn.Gj_),position:pn.F5.Inline}}return l.tags&&(-1!==l.tags.indexOf(1)&&(J="squiggly-inline-unnecessary"),-1!==l.tags.indexOf(2)&&(J="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:u,showIfCollapsed:!0,overviewRuler:{color:v,position:pn.sh.Right},minimap:se,zIndex:K,inlineClassName:J}}_hasMarkerTag(l,u){return!!l.tags&&l.tags.indexOf(u)>=0}};Co=function(w,l,u,v){var se,K=arguments.length,J=K<3?l:null===v?v=Object.getOwnPropertyDescriptor(l,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(w,l,u,v);else for(var me=w.length-1;me>=0;me--)(se=w[me])&&(J=(K<3?se(J):K>3?se(l,u,J):se(l,u))||J);return K>3&&J&&Object.defineProperty(l,u,J),J}([ri(0,Wt.q),ri(1,Fn.lT)],Co);var ts=m(64757),qi=m(18548),Qo=(m(33050),m(44346)),Zn=m(13976),Ms=m(44339),jn=m(81897);m(27943);const Ui={buttonBackground:jn.Il.fromHex("#0E639C"),buttonHoverBackground:jn.Il.fromHex("#006BB3"),buttonForeground:jn.Il.white};class ro extends Ye.JT{constructor(l,u){super(),this._onDidClick=this._register(new Y.Q5),this.options=u||Object.create(null),(0,$o.jB)(this.options,Ui,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),l.appendChild(this._element),this._register(As.o.addTarget(this._element)),[pt.tw.CLICK,As.t.Tap].forEach(v=>{this._register((0,pt.nm)(this._element,v,K=>{this.enabled?this._onDidClick.fire(K):pt.zB.stop(K)}))}),this._register((0,pt.nm)(this._element,pt.tw.KEY_DOWN,v=>{const K=new Ls.y(v);let J=!1;this.enabled&&(K.equals(3)||K.equals(10))?(this._onDidClick.fire(v),J=!0):K.equals(9)&&(this._element.blur(),J=!0),J&&pt.zB.stop(K,!0)})),this._register((0,pt.nm)(this._element,pt.tw.MOUSE_OVER,v=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register((0,pt.nm)(this._element,pt.tw.MOUSE_OUT,v=>{this.applyStyles()})),this.focusTracker=this._register((0,pt.go)(this._element)),this._register(this.focusTracker.onDidFocus(()=>this.setHoverBackground())),this._register(this.focusTracker.onDidBlur(()=>this.applyStyles())),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let l;l=this.options.secondary?this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:this.buttonHoverBackground?this.buttonHoverBackground.toString():null,l&&(this._element.style.backgroundColor=l)}style(l){this.buttonForeground=l.buttonForeground,this.buttonBackground=l.buttonBackground,this.buttonHoverBackground=l.buttonHoverBackground,this.buttonSecondaryForeground=l.buttonSecondaryForeground,this.buttonSecondaryBackground=l.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=l.buttonSecondaryHoverBackground,this.buttonBorder=l.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let l,u;this.options.secondary?(u=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",l=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(u=this.buttonForeground?this.buttonForeground.toString():"",l=this.buttonBackground?this.buttonBackground.toString():"");const v=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=u,this._element.style.backgroundColor=l,this._element.style.borderWidth=v?"1px":"",this._element.style.borderStyle=v?"solid":"",this._element.style.borderColor=v}}get element(){return this._element}set label(l){this._element.classList.add("monaco-text-button"),this.options.supportIcons?(0,pt.mc)(this._element,...(0,Ms.T)(l)):this._element.textContent=l,"string"==typeof this.options.title?this._element.title=this.options.title:this.options.title&&(this._element.title=l)}set enabled(l){l?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}var Qn=m(24061);m(38744);const eo="infinite",Ir="infinite-long-running",Wi="discrete",Np={progressBarBackground:jn.Il.fromHex("#0E70C0")};let Ip=(()=>{class w extends Ye.JT{constructor(u,v){super(),this.options=v||Object.create(null),(0,$o.jB)(this.options,Np,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this.showDelayedScheduler=this._register(new fn.pY(()=>(0,pt.$Z)(this.element),0)),this.longRunningScheduler=this._register(new fn.pY(()=>this.infiniteLongRunning(),w.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(u)}create(u){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),u.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove("active",eo,Ir,Wi),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(u){return this.element.classList.add("done"),this.element.classList.contains(eo)?(this.bit.style.opacity="0",u?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",u?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(Wi,"done",Ir),this.element.classList.add("active",eo),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(Ir)}getContainer(){return this.element}style(u){this.progressBarBackground=u.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const u=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=u}}}return w.LONG_RUNNING_INFINITE_THRESHOLD=1e4,w})();var Sg=m(90546);m(51684);const wd={},xg=new Sg.R("quick-input-button-icon-");function Tu(w){if(!w)return;let l;const u=w.dark.toString();return wd[u]?l=wd[u]:(l=xg.nextId(),pt.fk(`.${l}`,`background-image: ${pt.wY(w.light||w.dark)}`),pt.fk(`.vs-dark .${l}, .hc-black .${l}`,`background-image: ${pt.wY(w.dark)}`),wd[u]=l),l}var kr=m(55552),zh=m(39402);const Uh=pt.$;class Lg extends Ye.JT{constructor(l){super(),this.parent=l,this.onKeyDown=u=>pt.nm(this.inputBox.inputElement,pt.tw.KEY_DOWN,v=>{u(new Ls.y(v))}),this.onMouseDown=u=>pt.nm(this.inputBox.inputElement,pt.tw.MOUSE_DOWN,v=>{u(new nl.n(v))}),this.onDidChange=u=>this.inputBox.onDidChange(u),this.container=pt.R3(this.parent,Uh(".quick-input-box")),this.inputBox=this._register(new zh.W(this.container,void 0))}get value(){return this.inputBox.value}set value(l){this.inputBox.value=l}select(l=null){this.inputBox.select(l)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(l){this.inputBox.setPlaceHolder(l)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(l){this.inputBox.setAriaLabel(l)}get password(){return"password"===this.inputBox.inputElement.type}set password(l){this.inputBox.inputElement.type=l?"password":"text"}setAttribute(l,u){this.inputBox.inputElement.setAttribute(l,u)}removeAttribute(l){this.inputBox.inputElement.removeAttribute(l)}showDecoration(l){l===os.Z.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:l===os.Z.Info?1:l===os.Z.Warning?2:3,content:""})}stylesForType(l){return this.inputBox.stylesForType(l===os.Z.Info?1:l===os.Z.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(l){this.inputBox.style(l)}}var Pu=m(25601);m(97348);const xc=pt.$;class jh{constructor(l,u,v){this.os=u,this.keyElements=new Set,this.options=v||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=pt.R3(l,xc(".monaco-keybinding")),this.didEverRender=!1,l.appendChild(this.domNode)}get element(){return this.domNode}set(l,u){this.didEverRender&&this.keybinding===l&&jh.areSame(this.matches,u)||(this.keybinding=l,this.matches=u,this.render())}render(){if(this.clear(),this.keybinding){let[l,u]=this.keybinding.getParts();l&&this.renderPart(this.domNode,l,this.matches?this.matches.firstPart:null),u&&(pt.R3(this.domNode,xc("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,u,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){pt.PO(this.domNode),this.keyElements.clear()}renderPart(l,u,v){const K=Ll.xo.modifierLabels[this.os];u.ctrlKey&&this.renderKey(l,K.ctrlKey,Boolean(null==v?void 0:v.ctrlKey),K.separator),u.shiftKey&&this.renderKey(l,K.shiftKey,Boolean(null==v?void 0:v.shiftKey),K.separator),u.altKey&&this.renderKey(l,K.altKey,Boolean(null==v?void 0:v.altKey),K.separator),u.metaKey&&this.renderKey(l,K.metaKey,Boolean(null==v?void 0:v.metaKey),K.separator);const J=u.keyLabel;J&&this.renderKey(l,J,Boolean(null==v?void 0:v.keyCode),"")}renderKey(l,u,v,K){pt.R3(l,this.createKeyElement(u,v?".highlight":"")),K&&pt.R3(l,xc("span.monaco-keybinding-key-separator",void 0,K))}renderUnbound(l){pt.R3(l,this.createKeyElement((0,qn.N)("unbound","Unbound")))}createKeyElement(l,u=""){const v=xc("span.monaco-keybinding-key"+u,void 0,l);return this.keyElements.add(v),v}style(l){this.labelBackground=l.keybindingLabelBackground,this.labelForeground=l.keybindingLabelForeground,this.labelBorder=l.keybindingLabelBorder,this.labelBottomBorder=l.keybindingLabelBottomBorder,this.labelShadow=l.keybindingLabelShadow,this.applyStyles()}applyStyles(){var l;if(this.element){for(const u of this.keyElements)this.labelBackground&&(u.style.backgroundColor=null===(l=this.labelBackground)||void 0===l?void 0:l.toString()),this.labelBorder&&(u.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(u.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(u.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(l,u){return l===u||!l&&!u||!!l&&!!u&&(0,$o.fS)(l.firstPart,u.firstPart)&&(0,$o.fS)(l.chordPart,u.chordPart)}}const Dg=new fn.Ue(()=>{const w=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:w,collatorIsNumeric:w.resolvedOptions().numeric}});new fn.Ue(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),new fn.Ue(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));var Kh=m(94456),Qi=function(w,l,u,v){var se,K=arguments.length,J=K<3?l:null===v?v=Object.getOwnPropertyDescriptor(l,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(w,l,u,v);else for(var me=w.length-1;me>=0;me--)(se=w[me])&&(J=(K<3?se(J):K>3?se(l,u,J):se(l,u))||J);return K>3&&J&&Object.defineProperty(l,u,J),J};const jo=pt.$;class Ol{constructor(l){this.hidden=!1,this._onChecked=new Y.Q5,this.onChecked=this._onChecked.event,Object.assign(this,l)}get checked(){return!!this._checked}set checked(l){l!==this._checked&&(this._checked=l,this._onChecked.fire(l))}dispose(){this._onChecked.dispose()}}let Zs=(()=>{class w{get templateId(){return w.ID}renderTemplate(u){const v=Object.create(null);v.toDisposeElement=[],v.toDisposeTemplate=[],v.entry=pt.R3(u,jo(".quick-input-list-entry"));const K=pt.R3(v.entry,jo("label.quick-input-list-label"));v.toDisposeTemplate.push(pt.mu(K,pt.tw.CLICK,je=>{v.checkbox.offsetParent||je.preventDefault()})),v.checkbox=pt.R3(K,jo("input.quick-input-list-checkbox")),v.checkbox.type="checkbox",v.toDisposeTemplate.push(pt.mu(v.checkbox,pt.tw.CHANGE,je=>{v.element.checked=v.checkbox.checked}));const J=pt.R3(K,jo(".quick-input-list-rows")),se=pt.R3(J,jo(".quick-input-list-row")),me=pt.R3(J,jo(".quick-input-list-row"));v.label=new Pu.g(se,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const xe=pt.R3(se,jo(".quick-input-list-entry-keybinding"));v.keybinding=new jh(xe,St.OS);const We=pt.R3(me,jo(".quick-input-list-label-meta"));return v.detail=new Pu.g(We,{supportHighlights:!0,supportIcons:!0}),v.separator=pt.R3(v.entry,jo(".quick-input-list-separator")),v.actionBar=new Sc.o(v.entry),v.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),v.toDisposeTemplate.push(v.actionBar),v}renderElement(u,v,K){K.toDisposeElement=(0,Ye.B9)(K.toDisposeElement),K.element=u,K.checkbox.checked=u.checked,K.toDisposeElement.push(u.onChecked(je=>K.checkbox.checked=je));const{labelHighlights:J,descriptionHighlights:se,detailHighlights:me}=u,xe=Object.create(null);xe.matches=J||[],xe.descriptionTitle=u.saneDescription,xe.descriptionMatches=se||[],xe.extraClasses=u.item.iconClasses,xe.italic=u.item.italic,xe.strikethrough=u.item.strikethrough,K.label.setLabel(u.saneLabel,u.saneDescription,xe),K.keybinding.set(u.item.keybinding),u.saneDetail&&K.detail.setLabel(u.saneDetail,void 0,{matches:me,title:u.saneDetail}),u.separator&&u.separator.label?(K.separator.textContent=u.separator.label,K.separator.style.display=""):K.separator.style.display="none",K.entry.classList.toggle("quick-input-list-separator-border",!!u.separator),K.actionBar.clear();const We=u.item.buttons;We&&We.length?(K.actionBar.push(We.map((je,ft)=>{let Jt=je.iconClass||(je.iconPath?Tu(je.iconPath):void 0);je.alwaysVisible&&(Jt=Jt?`${Jt} always-visible`:"always-visible");const gn=new Bn.aU(`id-${ft}`,"",Jt,!0,()=>function(w,l,u,v){return new(u||(u=Promise))(function(J,se){function me(je){try{We(v.next(je))}catch(ft){se(ft)}}function xe(je){try{We(v.throw(je))}catch(ft){se(ft)}}function We(je){je.done?J(je.value):function(J){return J instanceof u?J:new u(function(se){se(J)})}(je.value).then(me,xe)}We((v=v.apply(w,l||[])).next())})}(this,void 0,void 0,function*(){u.fireButtonTriggered({button:je,item:u.item})}));return gn.tooltip=je.tooltip||"",gn}),{icon:!0,label:!1}),K.entry.classList.add("has-actions")):K.entry.classList.remove("has-actions")}disposeElement(u,v,K){K.toDisposeElement=(0,Ye.B9)(K.toDisposeElement)}disposeTemplate(u){u.toDisposeElement=(0,Ye.B9)(u.toDisposeElement),u.toDisposeTemplate=(0,Ye.B9)(u.toDisposeTemplate)}}return w.ID="listelement",w})();class Op{getHeight(l){return l.saneDetail?44:22}getTemplateId(l){return Zs.ID}}var Po=(()=>(function(w){w[w.First=1]="First",w[w.Second=2]="Second",w[w.Last=3]="Last",w[w.Next=4]="Next",w[w.Previous=5]="Previous",w[w.NextPage=6]="NextPage",w[w.PreviousPage=7]="PreviousPage"}(Po||(Po={})),Po))();class $h{constructor(l,u,v){this.parent=l,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new Y.Q5,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new Y.Q5,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new Y.Q5,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new Y.Q5,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new Y.Q5,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new Y.Q5,this.onKeyDown=this._onKeyDown.event,this._onLeave=new Y.Q5,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=u,this.container=pt.R3(this.parent,jo(".quick-input-list"));const K=new Op,J=new Ap;this.list=v.createList("QuickInput",this.container,K,[new Zs],{identityProvider:{getId:se=>se.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:J}),this.list.getHTMLElement().id=u,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(se=>{const me=new Ls.y(se);switch(me.keyCode){case 10:this.toggleCheckbox();break;case 31:(St.dz?se.metaKey:se.ctrlKey)&&this.list.setFocus((0,ei.w6)(this.list.length));break;case 16:{const xe=this.list.getFocus();1===xe.length&&0===xe[0]&&this._onLeave.fire();break}case 18:{const xe=this.list.getFocus();1===xe.length&&xe[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(me)})),this.disposables.push(this.list.onMouseDown(se=>{2!==se.browserEvent.button&&se.browserEvent.preventDefault()})),this.disposables.push(pt.nm(this.container,pt.tw.CLICK,se=>{(se.x||se.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(se=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(se=>{"number"==typeof se.index&&(se.browserEvent.preventDefault(),this.list.setSelection([se.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return Y.ju.map(this.list.onDidChangeFocus,l=>l.elements.map(u=>u.item))}get onDidChangeSelection(){return Y.ju.map(this.list.onDidChangeSelection,l=>({items:l.elements.map(u=>u.item),event:l.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(l){this.list.scrollTop=l}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(l,u=!0){for(let v=0,K=l.length;v<K;v++){const J=l[v];if(!J.hidden){if(!J.checked)return!1;u=!0}}return u}getCheckedCount(){let l=0;const u=this.elements;for(let v=0,K=u.length;v<K;v++)u[v].checked&&l++;return l}getVisibleCount(){let l=0;const u=this.elements;for(let v=0,K=u.length;v<K;v++)u[v].hidden||l++;return l}setAllVisibleChecked(l){try{this._fireCheckedEvents=!1,this.elements.forEach(u=>{u.hidden||(u.checked=l)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(l){this.elementDisposables=(0,Ye.B9)(this.elementDisposables);const u=v=>this.fireButtonTriggered(v);this.inputElements=l,this.elements=l.reduce((v,K,J)=>{var se,me,xe;if("separator"!==K.type){const We=J&&l[J-1],je=K.label&&K.label.replace(/\r?\n/g," "),ft=K.meta&&K.meta.replace(/\r?\n/g," "),Jt=K.description&&K.description.replace(/\r?\n/g," "),gn=K.detail&&K.detail.replace(/\r?\n/g," "),Yn=K.ariaLabel||[je,Jt,gn].map(Ci=>(0,Tt.JL)(Ci)).filter(Ci=>!!Ci).join(", "),vi=this.parent.classList.contains("show-checkboxes");v.push(new Ol({hasCheckbox:vi,index:J,item:K,saneLabel:je,saneMeta:ft,saneAriaLabel:Yn,saneDescription:Jt,saneDetail:gn,labelHighlights:null===(se=K.highlights)||void 0===se?void 0:se.label,descriptionHighlights:null===(me=K.highlights)||void 0===me?void 0:me.description,detailHighlights:null===(xe=K.highlights)||void 0===xe?void 0:xe.detail,checked:!1,separator:We&&"separator"===We.type?We:void 0,fireButtonTriggered:u}))}return v},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(v=>v.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((v,K,J)=>(v.set(K.item,J),v),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(l=>l.item)}setFocusedElements(l){if(this.list.setFocus(l.filter(u=>this.elementsToIndexes.has(u)).map(u=>this.elementsToIndexes.get(u))),l.length>0){const u=this.list.getFocus()[0];"number"==typeof u&&this.list.reveal(u)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(l){this.list.setSelection(l.filter(u=>this.elementsToIndexes.has(u)).map(u=>this.elementsToIndexes.get(u)))}getCheckedElements(){return this.elements.filter(l=>l.checked).map(l=>l.item)}setCheckedElements(l){try{this._fireCheckedEvents=!1;const u=new Set;for(const v of l)u.add(v);for(const v of this.elements)v.checked=u.has(v.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(l){this.list.getHTMLElement().style.pointerEvents=l?"":"none"}focus(l){if(!this.list.length)return;switch(l===Po.Next&&this.list.getFocus()[0]===this.list.length-1&&(l=Po.First),l===Po.Previous&&0===this.list.getFocus()[0]&&(l=Po.Last),l===Po.Second&&this.list.length<2&&(l=Po.First),l){case Po.First:this.list.focusFirst();break;case Po.Second:this.list.focusNth(1);break;case Po.Last:this.list.focusLast();break;case Po.Next:this.list.focusNext();break;case Po.Previous:this.list.focusPrevious();break;case Po.NextPage:this.list.focusNextPage();break;case Po.PreviousPage:this.list.focusPreviousPage()}const u=this.list.getFocus()[0];"number"==typeof u&&this.list.reveal(u)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(l){this.list.getHTMLElement().style.maxHeight=l?`calc(${44*Math.floor(l/44)}px)`:"",this.list.layout()}filter(l){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;if((l=l.trim())&&(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail)){let v;this.elements.forEach(K=>{const J=this.matchOnLabel?(0,un.f6)((0,ca.Gt)(l,(0,ca.Ho)(K.saneLabel))):void 0,se=this.matchOnDescription?(0,un.f6)((0,ca.Gt)(l,(0,ca.Ho)(K.saneDescription||""))):void 0,me=this.matchOnDetail?(0,un.f6)((0,ca.Gt)(l,(0,ca.Ho)(K.saneDetail||""))):void 0,xe=this.matchOnMeta?(0,un.f6)((0,ca.Gt)(l,(0,ca.Ho)(K.saneMeta||""))):void 0;if(J||se||me||xe?(K.labelHighlights=J,K.descriptionHighlights=se,K.detailHighlights=me,K.hidden=!1):(K.labelHighlights=void 0,K.descriptionHighlights=void 0,K.detailHighlights=void 0,K.hidden=!K.item.alwaysShow),K.separator=void 0,!this.sortByLabel){const We=K.index&&this.inputElements[K.index-1];v=We&&"separator"===We.type?We:v,v&&!K.hidden&&(K.separator=v,v=void 0)}})}else this.elements.forEach(v=>{v.labelHighlights=void 0,v.descriptionHighlights=void 0,v.detailHighlights=void 0,v.hidden=!1;const K=v.index&&this.inputElements[v.index-1];v.separator=K&&"separator"===K.type?K:void 0});const u=this.elements.filter(v=>!v.hidden);if(this.sortByLabel&&l){const v=l.toLowerCase();u.sort((K,J)=>function(w,l,u){const v=w.labelHighlights||[],K=l.labelHighlights||[];return v.length&&!K.length?-1:!v.length&&K.length?1:0===v.length&&0===K.length?0:function(w,l,u){const v=w.toLowerCase(),K=l.toLowerCase(),J=function(w,l,u){const v=w.toLowerCase(),K=l.toLowerCase(),J=v.startsWith(u),se=K.startsWith(u);if(J!==se)return J?-1:1;if(J&&se){if(v.length<K.length)return-1;if(v.length>K.length)return 1}return 0}(w,l,u);if(J)return J;const se=v.endsWith(u);if(se!==K.endsWith(u))return se?-1:1;const xe=function(w,l,u=!1){const v=w||"",K=l||"",J=Dg.value.collator.compare(v,K);return Dg.value.collatorIsNumeric&&0===J&&v!==K?v<K?-1:1:J}(v,K);return 0!==xe?xe:v.localeCompare(K)}(w.saneLabel,l.saneLabel,u)}(K,J,v))}return this.elementsToIndexes=u.reduce((v,K,J)=>(v.set(K.item,J),v),new Map),this.list.splice(0,this.list.length,u),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(u.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const l=this.list.getFocusedElements(),u=this.allVisibleChecked(l);for(const v of l)v.checked=!u}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(l){this.container.style.display=l?"":"none"}isDisplayed(){return"none"!==this.container.style.display}dispose(){this.elementDisposables=(0,Ye.B9)(this.elementDisposables),this.disposables=(0,Ye.B9)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(l){this._onButtonTriggered.fire(l)}style(l){this.list.style(l)}}Qi([Kh.H],$h.prototype,"onDidChangeFocus",null),Qi([Kh.H],$h.prototype,"onDidChangeSelection",null);class Ap{getWidgetAriaLabel(){return(0,qn.N)("quickInput","Quick Input")}getAriaLabel(l){return l.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(l){return l.hasCheckbox?"checkbox":"option"}isChecked(l){if(l.hasCheckbox)return{value:l.checked,onDidChange:l.onChecked}}}var Ou=function(w,l,u,v){return new(u||(u=Promise))(function(J,se){function me(je){try{We(v.next(je))}catch(ft){se(ft)}}function xe(je){try{We(v.throw(je))}catch(ft){se(ft)}}function We(je){je.done?J(je.value):function(J){return J instanceof u?J:new u(function(se){se(J)})}(je.value).then(me,xe)}We((v=v.apply(w,l||[])).next())})};const gr=pt.$,il={iconClass:Tt.lA.quickInputBack.classNames,tooltip:(0,qn.N)("quickInput.back","Back"),handle:-1};class Ta extends Ye.JT{constructor(l){super(),this.ui=l,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=Ta.noPromptMessage,this._severity=os.Z.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new Y.Q5),this.onDidHideEmitter=this._register(new Y.Q5),this.onDisposeEmitter=this._register(new Y.Q5),this.visibleDisposables=this._register(new Ye.SL),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(l){this._title=l,this.update()}get description(){return this._description}set description(l){this._description=l,this.update()}get step(){return this._steps}set step(l){this._steps=l,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(l){this._totalSteps=l,this.update()}get enabled(){return this._enabled}set enabled(l){this._enabled=l,this.update()}get contextKey(){return this._contextKey}set contextKey(l){this._contextKey=l,this.update()}get busy(){return this._busy}set busy(l){this._busy=l,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(l){const u=this._ignoreFocusOut!==l&&!St.gn;this._ignoreFocusOut=l&&!St.gn,u&&this.update()}get buttons(){return this._buttons}set buttons(l){this._buttons=l,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(l){this._validationMessage=l,this.update()}get severity(){return this._severity}set severity(l){this._severity=l,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(l=>{-1!==this.buttons.indexOf(l)&&this.onDidTriggerButtonEmitter.fire(l)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.update())}hide(){!this.visible||this.ui.hide()}didHide(l=kr.Jq.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:l})}update(){if(!this.visible)return;const l=this.getTitle();l&&this.ui.title.textContent!==l?this.ui.title.textContent=l:!l&&"&nbsp;"!==this.ui.title.innerHTML&&(this.ui.title.innerText="\xa0");const u=this.getDescription();if(this.ui.description1.textContent!==u&&(this.ui.description1.textContent=u),this.ui.description2.textContent!==u&&(this.ui.description2.textContent=u),this.busy&&!this.busyDelay&&(this.busyDelay=new fn._F,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const K=this.buttons.filter(se=>se===il);this.ui.leftActionBar.push(K.map((se,me)=>{const xe=new Bn.aU(`id-${me}`,"",se.iconClass||Tu(se.iconPath),!0,()=>Ou(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(se)}));return xe.tooltip=se.tooltip||"",xe}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const J=this.buttons.filter(se=>se!==il);this.ui.rightActionBar.push(J.map((se,me)=>{const xe=new Bn.aU(`id-${me}`,"",se.iconClass||Tu(se.iconPath),!0,()=>Ou(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(se)}));return xe.tooltip=se.tooltip||"",xe}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const v=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==v&&(this._lastValidationMessage=v,pt.mc(this.ui.message,...(0,Ms.T)(v))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,qn.N)("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(l){if(this.ui.inputBox.showDecoration(l),l!==os.Z.Ignore){const u=this.ui.inputBox.stylesForType(l);this.ui.message.style.color=u.foreground?`${u.foreground}`:"",this.ui.message.style.backgroundColor=u.background?`${u.background}`:"",this.ui.message.style.border=u.border?`1px solid ${u.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}Ta.noPromptMessage=(0,qn.N)("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");class Kn extends Ta{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new Y.Q5),this.onWillAcceptEmitter=this._register(new Y.Q5),this.onDidAcceptEmitter=this._register(new Y.Q5),this.onDidCustomEmitter=this._register(new Y.Q5),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=this.ui.isScreenReaderOptimized()?kr.jG.NONE:kr.jG.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new Y.Q5),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new Y.Q5),this.onDidTriggerItemButtonEmitter=this._register(new Y.Q5),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=l=>l,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(l){this._quickNavigate=l,this.update()}get value(){return this._value}set value(l){this.doSetValue(l)}doSetValue(l,u){this._value!==l&&(this._value=l,u||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(l){this._ariaLabel=l,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(l){this._placeholder=l,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(l){this.ui.list.scrollTop=l}set items(l){this._items=l,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(l){this._canSelectMany=l,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(l){this._canAcceptInBackground=l}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(l){this._matchOnDescription=l,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(l){this._matchOnDetail=l,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(l){this._matchOnLabel=l,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(l){this._sortByLabel=l,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(l){this._autoFocusOnList=l,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(l){this._keepScrollPosition=l}get itemActivation(){return this._itemActivation}set itemActivation(l){this._itemActivation=l}get activeItems(){return this._activeItems}set activeItems(l){this._activeItems=l,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(l){this._selectedItems=l,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?kr.X5:this.ui.keyMods}set valueSelection(l){this._valueSelection=l,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(l){this._customButton=l,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(l){this._customButtonLabel=l,this.update()}get customHover(){return this._customButtonHover}set customHover(l){this._customButtonHover=l,this.update()}get ok(){return this._ok}set ok(l){this._ok=l,this.update()}get hideInput(){return!!this._hideInput}set hideInput(l){this._hideInput=l,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(Po.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(l=>{this.doSetValue(l,!0)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(l=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(l=>{switch(l.keyCode){case 18:this.ui.list.focus(Po.Next),this.canSelectMany&&this.ui.list.domFocus(),pt.zB.stop(l,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(Po.Previous):this.ui.list.focus(Po.Last),this.canSelectMany&&this.ui.list.domFocus(),pt.zB.stop(l,!0);break;case 12:this.ui.list.focus(Po.NextPage),this.canSelectMany&&this.ui.list.domFocus(),pt.zB.stop(l,!0);break;case 11:this.ui.list.focus(Po.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),pt.zB.stop(l,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(l.ctrlKey||l.metaKey)&&!l.shiftKey&&!l.altKey&&(this.ui.list.focus(Po.First),pt.zB.stop(l,!0));break;case 13:(l.ctrlKey||l.metaKey)&&!l.shiftKey&&!l.altKey&&(this.ui.list.focus(Po.Last),pt.zB.stop(l,!0))}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(l=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,ei.fS)(l,this._activeItems,(u,v)=>u===v)||(this._activeItems=l,this.onDidChangeActiveEmitter.fire(l))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:l,event:u})=>{this.canSelectMany?l.length&&this.ui.list.setSelectedElements([]):this.selectedItemsToConfirm!==this._selectedItems&&(0,ei.fS)(l,this._selectedItems,(v,K)=>v===K)||(this._selectedItems=l,this.onDidChangeSelectionEmitter.fire(l),l.length&&this.handleAccept(u instanceof MouseEvent&&1===u.button))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(l=>{!this.canSelectMany||this.selectedItemsToConfirm!==this._selectedItems&&(0,ei.fS)(l,this._selectedItems,(u,v)=>u===v)||(this._selectedItems=l,this.onDidChangeSelectionEmitter.fire(l))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(l=>this.onDidTriggerItemButtonEmitter.fire(l))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(l){let u=!1;this.onWillAcceptEmitter.fire({veto:()=>u=!0}),u||this.onDidAcceptEmitter.fire({inBackground:l})}registerQuickNavigation(){return pt.nm(this.ui.container,pt.tw.KEY_UP,l=>{if(this.canSelectMany||!this._quickNavigate)return;const u=new Ls.y(l),v=u.keyCode;this._quickNavigate.keybindings.some(se=>{const[me,xe]=se.getParts();return!(xe||(me.shiftKey&&4===v?u.ctrlKey||u.altKey||u.metaKey:!(me.altKey&&6===v||me.ctrlKey&&5===v||me.metaKey&&57===v)))})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const l=this.keepScrollPosition?this.scrollTop:0,u=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",u&&!this.description);const v={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!u,progressBar:!u,visibleCount:!0,count:this.canSelectMany,ok:"default"===this.ok?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(v),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");const K=this.ariaLabel||this.placeholder||Kn.DEFAULT_ARIA_LABEL;if(this.ui.inputBox.ariaLabel!==K&&(this.ui.inputBox.ariaLabel=K),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case kr.jG.NONE:this._itemActivation=kr.jG.FIRST;break;case kr.jG.SECOND:this.ui.list.focus(Po.Second),this._itemActivation=kr.jG.FIRST;break;case kr.jG.LAST:this.ui.list.focus(Po.Last),this._itemActivation=kr.jG.FIRST;break;default:this.trySelectFirst()}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),v.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(Po.First)),this.keepScrollPosition&&(this.scrollTop=l)}}Kn.DEFAULT_ARIA_LABEL=(0,qn.N)("quickInputBox.ariaLabel","Type to narrow down results.");let $n=(()=>{class w extends Ye.JT{constructor(u){super(),this.options=u,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new Y.Q5),this.onDidCustomEmitter=this._register(new Y.Q5),this.onDidTriggerButtonEmitter=this._register(new Y.Q5),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new Y.Q5),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new Y.Q5),this.onHide=this.onHideEmitter.event,this.idPrefix=u.idPrefix,this.parentElement=u.container,this.styles=u.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const u=v=>{this.keyMods.ctrlCmd=v.ctrlKey||v.metaKey,this.keyMods.alt=v.altKey};this._register(pt.nm(window,pt.tw.KEY_DOWN,u,!0)),this._register(pt.nm(window,pt.tw.KEY_UP,u,!0)),this._register(pt.nm(window,pt.tw.MOUSE_DOWN,u,!0))}getUI(){if(this.ui)return this.ui;const u=pt.R3(this.parentElement,gr(".quick-input-widget.show-file-icons"));u.tabIndex=-1,u.style.display="none";const v=pt.dS(u),K=pt.R3(u,gr(".quick-input-titlebar")),J=this._register(new Sc.o(K));J.domNode.classList.add("quick-input-left-action-bar");const se=pt.R3(K,gr(".quick-input-title")),me=this._register(new Sc.o(K));me.domNode.classList.add("quick-input-right-action-bar");const xe=pt.R3(u,gr(".quick-input-description")),We=pt.R3(u,gr(".quick-input-header")),je=pt.R3(We,gr("input.quick-input-check-all"));je.type="checkbox",this._register(pt.mu(je,pt.tw.CHANGE,Ki=>{ta.setAllVisibleChecked(je.checked)})),this._register(pt.nm(je,pt.tw.CLICK,Ki=>{(Ki.x||Ki.y)&&Yn.setFocus()}));const ft=pt.R3(We,gr(".quick-input-description")),Jt=pt.R3(We,gr(".quick-input-and-message")),gn=pt.R3(Jt,gr(".quick-input-filter")),Yn=this._register(new Lg(gn));Yn.setAttribute("aria-describedby",`${this.idPrefix}message`);const vi=pt.R3(gn,gr(".quick-input-visible-count"));vi.setAttribute("aria-live","polite"),vi.setAttribute("aria-atomic","true");const Ci=new Qn.Z(vi,{countFormat:(0,qn.N)({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")}),to=pt.R3(gn,gr(".quick-input-count"));to.setAttribute("aria-live","polite");const io=new Qn.Z(to,{countFormat:(0,qn.N)({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")}),Vi=pt.R3(We,gr(".quick-input-action")),Zi=new ro(Vi);Zi.label=(0,qn.N)("ok","OK"),this._register(Zi.onDidClick(Ki=>{this.onDidAcceptEmitter.fire()}));const br=pt.R3(We,gr(".quick-input-action")),ga=new ro(br);ga.label=(0,qn.N)("custom","Custom"),this._register(ga.onDidClick(Ki=>{this.onDidCustomEmitter.fire()}));const bs=pt.R3(Jt,gr(`#${this.idPrefix}message.quick-input-message`)),ta=this._register(new $h(u,this.idPrefix+"list",this.options));this._register(ta.onChangedAllVisibleChecked(Ki=>{je.checked=Ki})),this._register(ta.onChangedVisibleCount(Ki=>{Ci.setCount(Ki)})),this._register(ta.onChangedCheckedCount(Ki=>{io.setCount(Ki)})),this._register(ta.onLeave(()=>{setTimeout(()=>{Yn.setFocus(),this.controller instanceof Kn&&this.controller.canSelectMany&&ta.clearFocus()},0)})),this._register(ta.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const fo=new Ip(u);fo.getContainer().classList.add("quick-input-progress");const rs=pt.go(u);return this._register(rs),this._register(pt.nm(u,pt.tw.FOCUS,Ki=>{this.previousFocusElement=Ki.relatedTarget instanceof HTMLElement?Ki.relatedTarget:void 0},!0)),this._register(rs.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(kr.Jq.Blur),this.previousFocusElement=void 0})),this._register(pt.nm(u,pt.tw.FOCUS,Ki=>{Yn.setFocus()})),this._register(pt.nm(u,pt.tw.KEY_DOWN,Ki=>{const sr=new Ls.y(Ki);switch(sr.keyCode){case 3:pt.zB.stop(Ki,!0),this.onDidAcceptEmitter.fire();break;case 9:pt.zB.stop(Ki,!0),this.hide(kr.Jq.Gesture);break;case 2:if(!sr.altKey&&!sr.ctrlKey&&!sr.metaKey){const Mf=[".action-label.codicon"];u.classList.contains("show-checkboxes")?Mf.push("input"):Mf.push("input[type=text]"),this.getUI().list.isDisplayed()&&Mf.push(".monaco-list");const Fa=u.querySelectorAll(Mf.join(", "));sr.shiftKey&&sr.target===Fa[0]?(pt.zB.stop(Ki,!0),Fa[Fa.length-1].focus()):!sr.shiftKey&&sr.target===Fa[Fa.length-1]&&(pt.zB.stop(Ki,!0),Fa[0].focus())}}})),this.ui={container:u,styleSheet:v,leftActionBar:J,titleBar:K,title:se,description1:xe,description2:ft,rightActionBar:me,checkAll:je,filterContainer:gn,inputBox:Yn,visibleCountContainer:vi,visibleCount:Ci,countContainer:to,count:io,okContainer:Vi,ok:Zi,message:bs,customButtonContainer:br,customButton:ga,list:ta,progressBar:fo,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:Ki=>this.show(Ki),hide:()=>this.hide(),setVisibilities:Ki=>this.setVisibilities(Ki),setComboboxAccessibility:Ki=>this.setComboboxAccessibility(Ki),setEnabled:Ki=>this.setEnabled(Ki),setContextKey:Ki=>this.options.setContextKey(Ki)},this.updateStyles(),this.ui}pick(u,v={},K=g.T.None){return new Promise((J,se)=>{let me=ft=>{me=J,v.onKeyMods&&v.onKeyMods(xe.keyMods),J(ft)};if(K.isCancellationRequested)return void me(void 0);const xe=this.createQuickPick();let We;const je=[xe,xe.onDidAccept(()=>{if(xe.canSelectMany)me(xe.selectedItems.slice()),xe.hide();else{const ft=xe.activeItems[0];ft&&(me(ft),xe.hide())}}),xe.onDidChangeActive(ft=>{const Jt=ft[0];Jt&&v.onDidFocus&&v.onDidFocus(Jt)}),xe.onDidChangeSelection(ft=>{if(!xe.canSelectMany){const Jt=ft[0];Jt&&(me(Jt),xe.hide())}}),xe.onDidTriggerItemButton(ft=>v.onDidTriggerItemButton&&v.onDidTriggerItemButton(Object.assign(Object.assign({},ft),{removeItem:()=>{const Jt=xe.items.indexOf(ft.item);if(-1!==Jt){const gn=xe.items.slice(),Yn=gn.splice(Jt,1),vi=xe.activeItems.filter(to=>to!==Yn[0]),Ci=xe.keepScrollPosition;xe.keepScrollPosition=!0,xe.items=gn,vi&&(xe.activeItems=vi),xe.keepScrollPosition=Ci}}}))),xe.onDidChangeValue(ft=>{We&&!ft&&(1!==xe.activeItems.length||xe.activeItems[0]!==We)&&(xe.activeItems=[We])}),K.onCancellationRequested(()=>{xe.hide()}),xe.onDidHide(()=>{(0,Ye.B9)(je),me(void 0)})];xe.title=v.title,xe.canSelectMany=!!v.canPickMany,xe.placeholder=v.placeHolder,xe.ignoreFocusOut=!!v.ignoreFocusLost,xe.matchOnDescription=!!v.matchOnDescription,xe.matchOnDetail=!!v.matchOnDetail,xe.matchOnLabel=void 0===v.matchOnLabel||v.matchOnLabel,xe.autoFocusOnList=void 0===v.autoFocusOnList||v.autoFocusOnList,xe.quickNavigate=v.quickNavigate,xe.contextKey=v.contextKey,xe.busy=!0,Promise.all([u,v.activeItem]).then(([ft,Jt])=>{We=Jt,xe.busy=!1,xe.items=ft,xe.canSelectMany&&(xe.selectedItems=ft.filter(gn=>"separator"!==gn.type&&gn.picked)),We&&(xe.activeItems=[We])}),xe.show(),Promise.resolve(u).then(void 0,ft=>{se(ft),xe.hide()})})}createQuickPick(){const u=this.getUI();return new Kn(u)}show(u){const v=this.getUI();this.onShowEmitter.fire();const K=this.controller;this.controller=u,K&&K.didHide(),this.setEnabled(!0),v.leftActionBar.clear(),v.title.textContent="",v.description1.textContent="",v.description2.textContent="",v.rightActionBar.clear(),v.checkAll.checked=!1,v.inputBox.placeholder="",v.inputBox.password=!1,v.inputBox.showDecoration(os.Z.Ignore),v.visibleCount.setCount(0),v.count.setCount(0),pt.mc(v.message),v.progressBar.stop(),v.list.setElements([]),v.list.matchOnDescription=!1,v.list.matchOnDetail=!1,v.list.matchOnLabel=!0,v.list.sortByLabel=!0,v.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),v.inputBox.ariaLabel="";const J=this.options.backKeybindingLabel();il.tooltip=J?(0,qn.N)("quickInput.backWithKeybinding","Back ({0})",J):(0,qn.N)("quickInput.back","Back"),v.container.style.display="",this.updateLayout(),v.inputBox.setFocus()}setVisibilities(u){const v=this.getUI();v.title.style.display=u.title?"":"none",v.description1.style.display=u.description&&(u.inputBox||u.checkAll)?"":"none",v.description2.style.display=!u.description||u.inputBox||u.checkAll?"none":"",v.checkAll.style.display=u.checkAll?"":"none",v.filterContainer.style.display=u.inputBox?"":"none",v.visibleCountContainer.style.display=u.visibleCount?"":"none",v.countContainer.style.display=u.count?"":"none",v.okContainer.style.display=u.ok?"":"none",v.customButtonContainer.style.display=u.customButton?"":"none",v.message.style.display=u.message?"":"none",v.progressBar.getContainer().style.display=u.progressBar?"":"none",v.list.display(!!u.list),v.container.classList[u.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(u){if(u!==this.comboboxAccessibility){const v=this.getUI();this.comboboxAccessibility=u,this.comboboxAccessibility?(v.inputBox.setAttribute("role","combobox"),v.inputBox.setAttribute("aria-haspopup","true"),v.inputBox.setAttribute("aria-autocomplete","list"),v.inputBox.setAttribute("aria-activedescendant",v.list.getActiveDescendant()||"")):(v.inputBox.removeAttribute("role"),v.inputBox.removeAttribute("aria-haspopup"),v.inputBox.removeAttribute("aria-autocomplete"),v.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(u){if(u!==this.enabled){this.enabled=u;for(const v of this.getUI().leftActionBar.viewItems)v.getAction().enabled=u;for(const v of this.getUI().rightActionBar.viewItems)v.getAction().enabled=u;this.getUI().checkAll.disabled=!u,this.getUI().ok.enabled=u,this.getUI().list.enabled=u}}hide(u){var v;const K=this.controller;if(K){const J=!(null===(v=this.ui)||void 0===v?void 0:v.container.contains(document.activeElement));if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!J){let se=this.previousFocusElement;for(;se&&!se.offsetParent;)se=(0,un.f6)(se.parentElement);(null==se?void 0:se.offsetParent)?(se.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}K.didHide(u)}}layout(u,v){this.dimension=u,this.titleBarOffset=v,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const u=this.ui.container.style,v=Math.min(.62*this.dimension.width,w.MAX_WIDTH);u.width=v+"px",u.marginLeft="-"+v/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&.4*this.dimension.height)}}applyStyles(u){this.styles=u,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:u,quickInputBackground:v,quickInputForeground:K,contrastBorder:J,widgetShadow:se}=this.styles.widget;this.ui.titleBar.style.backgroundColor=u?u.toString():"",this.ui.container.style.backgroundColor=v?v.toString():"",this.ui.container.style.color=K?K.toString():"",this.ui.container.style.border=J?`1px solid ${J}`:"",this.ui.container.style.boxShadow=se?`0 0 8px 2px ${se}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const me=[];this.styles.list.pickerGroupBorder&&me.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&me.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(me.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&me.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&me.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&me.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&me.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&me.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),me.push("}"));const xe=me.join("\n");xe!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=xe)}}}return w.MAX_WIDTH=600,w})();var Mg=m(68526),yd=m(16811),Ng=m(76183),Zh=m(43413),xd=function(w,l){return function(u,v){l(u,v,w)}};let Gh=class extends Ye.JT{constructor(l,u){super(),this.quickInputService=l,this.instantiationService=u,this.registry=La.B.as(Ng.IP.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(l="",u){this.doShowOrPick(l,!1,u)}doShowOrPick(l,u,v){var K;const[J,se]=this.getOrInstantiateProvider(l),me=this.visibleQuickAccess,xe=null==me?void 0:me.descriptor;if(me&&se&&xe===se)return l!==se.prefix&&!(null==v?void 0:v.preserveValue)&&(me.picker.value=l),void this.adjustValueSelection(me.picker,se,v);if(se&&!(null==v?void 0:v.preserveValue)){let gn;if(me&&xe&&xe!==se){const Yn=me.value.substr(xe.prefix.length);Yn&&(gn=`${se.prefix}${Yn}`)}if(!gn){const Yn=null==J?void 0:J.defaultFilterValue;Yn===Ng.Ry.LAST?gn=this.lastAcceptedPickerValues.get(se):"string"==typeof Yn&&(gn=`${se.prefix}${Yn}`)}"string"==typeof gn&&(l=gn)}const We=new Ye.SL,je=We.add(this.quickInputService.createQuickPick());let ft;je.value=l,this.adjustValueSelection(je,se,v),je.placeholder=null==se?void 0:se.placeholder,je.quickNavigate=null==v?void 0:v.quickNavigateConfiguration,je.hideInput=!!je.quickNavigate&&!me,("number"==typeof(null==v?void 0:v.itemActivation)||(null==v?void 0:v.quickNavigateConfiguration))&&(je.itemActivation=null!==(K=null==v?void 0:v.itemActivation)&&void 0!==K?K:Zh.jG.SECOND),je.contextKey=null==se?void 0:se.contextKey,je.filterValue=gn=>gn.substring(se?se.prefix.length:0),(null==se?void 0:se.placeholder)&&(je.ariaLabel=null==se?void 0:se.placeholder),u&&(ft=new fn.CR,We.add((0,yd.I)(je.onWillAccept)(gn=>{gn.veto(),je.hide()}))),We.add(this.registerPickerListeners(je,J,se,l));const Jt=We.add(new g.A);return J&&We.add(J.provide(je,Jt.token)),(0,yd.I)(je.onDidHide)(()=>{0===je.selectedItems.length&&Jt.cancel(),We.dispose(),null==ft||ft.complete(je.selectedItems.slice(0))}),je.show(),u?null==ft?void 0:ft.p:void 0}adjustValueSelection(l,u,v){var K;let J;J=(null==v?void 0:v.preserveValue)?[l.value.length,l.value.length]:[null!==(K=null==u?void 0:u.prefix.length)&&void 0!==K?K:0,l.value.length],l.valueSelection=J}registerPickerListeners(l,u,v,K){const J=new Ye.SL,se=this.visibleQuickAccess={picker:l,descriptor:v,value:K};return J.add((0,Ye.OF)(()=>{se===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),J.add(l.onDidChangeValue(me=>{const[xe]=this.getOrInstantiateProvider(me);xe!==u?this.show(me,{preserveValue:!0}):se.value=me})),v&&J.add(l.onDidAccept(()=>{this.lastAcceptedPickerValues.set(v,l.value)})),J}getOrInstantiateProvider(l){const u=this.registry.getQuickAccessProvider(l);if(!u)return[void 0,void 0];let v=this.mapProviderToDescriptor.get(u);return v||(v=this.instantiationService.createInstance(u.ctor),this.mapProviderToDescriptor.set(u,v)),[v,u]}};Gh=function(w,l,u,v){var se,K=arguments.length,J=K<3?l:null===v?v=Object.getOwnPropertyDescriptor(l,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(w,l,u,v);else for(var me=w.length-1;me>=0;me--)(se=w[me])&&(J=(K<3?se(J):K>3?se(l,u,J):se(l,u))||J);return K>3&&J&&Object.defineProperty(l,u,J),J}([xd(0,Zh.eJ),xd(1,Xo.TG)],Gh);var Al=function(w,l){return function(u,v){l(u,v,w)}};let Qh=class extends si.bB{constructor(l,u,v,K,J){super(v),this.instantiationService=l,this.contextKeyService=u,this.accessibilityService=K,this.layoutService=J,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(Gh))),this._quickAccess}createController(l=this.layoutService,u){var v,K;const J={idPrefix:"quickInput_",container:l.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:me=>this.setContextKey(me),returnFocus:()=>l.focus(),createList:(me,xe,We,je,ft)=>this.instantiationService.createInstance(Mg.ev,me,xe,We,je,ft),styles:this.computeStyles()},se=this._register(new $n(Object.assign(Object.assign({},J),u)));return se.layout(l.dimension,null!==(K=null===(v=l.offset)||void 0===v?void 0:v.top)&&void 0!==K?K:0),this._register(l.onDidLayout(me=>{var xe,We;return se.layout(me,null!==(We=null===(xe=l.offset)||void 0===xe?void 0:xe.top)&&void 0!==We?We:0)})),this._register(se.onShow(()=>this.resetContextKeys())),this._register(se.onHide(()=>this.resetContextKeys())),se}setContextKey(l){let u;l&&(u=this.contexts.get(l),u||(u=new mo.uy(l,!1).bindTo(this.contextKeyService),this.contexts.set(l,u))),(!u||!u.get())&&(this.resetContextKeys(),u&&u.set(!0))}resetContextKeys(){this.contexts.forEach(l=>{l.get()&&l.reset()})}pick(l,u={},v=g.T.None){return this.controller.pick(l,u,v)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},(0,ye.o)(this.theme,{quickInputBackground:Cn.zKr,quickInputForeground:Cn.tZ6,quickInputTitleBackground:Cn.loF,contrastBorder:Cn.lRK,widgetShadow:Cn.rh})),inputBox:(0,ye.o)(this.theme,{inputForeground:Cn.zJb,inputBackground:Cn.sEe,inputBorder:Cn.dt_,inputValidationInfoBackground:Cn._lC,inputValidationInfoForeground:Cn.YI3,inputValidationInfoBorder:Cn.EPQ,inputValidationWarningBackground:Cn.RV_,inputValidationWarningForeground:Cn.SUG,inputValidationWarningBorder:Cn.C3g,inputValidationErrorBackground:Cn.paE,inputValidationErrorForeground:Cn._t9,inputValidationErrorBorder:Cn.OZR}),countBadge:(0,ye.o)(this.theme,{badgeBackground:Cn.g8u,badgeForeground:Cn.qeD,badgeBorder:Cn.lRK}),button:(0,ye.o)(this.theme,{buttonForeground:Cn.j5u,buttonBackground:Cn.b7$,buttonHoverBackground:Cn.GO4,buttonBorder:Cn.lRK}),progressBar:(0,ye.o)(this.theme,{progressBarBackground:Cn.zRJ}),keybindingLabel:(0,ye.o)(this.theme,{keybindingLabelBackground:Cn.oQ$,keybindingLabelForeground:Cn.lWp,keybindingLabelBorder:Cn.AWI,keybindingLabelBottomBorder:Cn.K19,keybindingLabelShadow:Cn.rh}),list:(0,ye.o)(this.theme,{listBackground:Cn.zKr,listInactiveFocusForeground:Cn.NPS,listInactiveSelectionIconForeground:Cn.cbQ,listInactiveFocusBackground:Cn.Vqd,listFocusOutline:Cn.xL1,listInactiveFocusOutline:Cn.xL1,pickerGroupBorder:Cn.opG,pickerGroupForeground:Cn.kJk})}}};Qh=function(w,l,u,v){var se,K=arguments.length,J=K<3?l:null===v?v=Object.getOwnPropertyDescriptor(l,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(w,l,u,v);else for(var me=w.length-1;me>=0;me--)(se=w[me])&&(J=(K<3?se(J):K>3?se(l,u,J):se(l,u))||J);return K>3&&J&&Object.defineProperty(l,u,J),J}([Al(0,Xo.TG),Al(1,mo.i6),Al(2,si.XE),Al(3,Zn.F),Al(4,ur)],Qh);var Ig=function(w,l,u,v){var se,K=arguments.length,J=K<3?l:null===v?v=Object.getOwnPropertyDescriptor(l,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(w,l,u,v);else for(var me=w.length-1;me>=0;me--)(se=w[me])&&(J=(K<3?se(J):K>3?se(l,u,J):se(l,u))||J);return K>3&&J&&Object.defineProperty(l,u,J),J},da=function(w,l){return function(u,v){l(u,v,w)}};let Ld=class extends Qh{constructor(l,u,v,K,J,se){super(u,v,K,J,new Wr(l.getContainerDomNode(),se)),this.host=void 0;const me=us.get(l);if(me){const xe=me.widget;this.host={_serviceBrand:void 0,get hasContainer(){return!0},get container(){return xe.getDomNode()},get dimension(){return l.getLayoutInfo()},get onDidLayout(){return l.onDidLayoutChange},focus:()=>l.focus()}}else this.host=void 0}createController(){return super.createController(this.host)}};Ld=Ig([da(1,Xo.TG),da(2,mo.i6),da(3,si.XE),da(4,Zn.F),da(5,Ne.$)],Ld);let Yo=class{constructor(l,u){this.instantiationService=l,this.codeEditorService=u,this.mapEditorToService=new Map}get activeService(){const l=this.codeEditorService.getFocusedCodeEditor();if(!l)throw new Error("Quick input service needs a focused editor to work.");let u=this.mapEditorToService.get(l);if(!u){const v=u=this.instantiationService.createInstance(Ld,l);this.mapEditorToService.set(l,u),(0,yd.I)(l.onDidDispose)(()=>{v.dispose(),this.mapEditorToService.delete(l)})}return u}get quickAccess(){return this.activeService.quickAccess}pick(l,u={},v=g.T.None){return this.activeService.pick(l,u,v)}createQuickPick(){return this.activeService.createQuickPick()}};Yo=Ig([da(0,Xo.TG),da(1,Ne.$)],Yo);let us=(()=>{class w{constructor(u){this.editor=u,this.widget=new Dd(this.editor)}static get(u){return u.getContribution(w.ID)}dispose(){this.widget.dispose()}}return w.ID="editor.controller.quickInput",w})(),Dd=(()=>{class w{constructor(u){this.codeEditor=u,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return w.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}return w.ID="editor.contrib.quickInputWidget",w})();(0,Qo._K)(us.ID,us);class Oo{constructor(l,u,v,K,J){this._parsedThemeRuleBrand=void 0,this.token=l,this.index=u,this.fontStyle=v,this.foreground=K,this.background=J}}const Lc=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class kg{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(l){if(null===l)return 0;const u=l.match(Lc);if(!u)throw new Error("Illegal value for token color: "+l);l=u[1].toUpperCase();let v=this._color2id.get(l);return v||(v=++this._lastColorId,this._color2id.set(l,v),this._id2color[v]=jn.Il.fromHex("#"+l),v)}getColorMap(){return this._id2color.slice(0)}}class Tg{constructor(l,u){this._colorMap=l,this._root=u,this._cache=new Map}static createFromRawTokenTheme(l,u){return this.createFromParsedTokenTheme(function(w){if(!w||!Array.isArray(w))return[];const l=[];let u=0;for(let v=0,K=w.length;v<K;v++){const J=w[v];let se=-1;if("string"==typeof J.fontStyle){se=0;const We=J.fontStyle.split(" ");for(let je=0,ft=We.length;je<ft;je++)switch(We[je]){case"italic":se|=1;break;case"bold":se|=2;break;case"underline":se|=4;break;case"strikethrough":se|=8}}let me=null;"string"==typeof J.foreground&&(me=J.foreground);let xe=null;"string"==typeof J.background&&(xe=J.background),l[u++]=new Oo(J.token||"",v,se,me,xe)}return l}(l),u)}static createFromParsedTokenTheme(l,u){return function(w,l){w.sort((je,ft)=>{const Jt=function(w,l){return w<l?-1:w>l?1:0}(je.token,ft.token);return 0!==Jt?Jt:je.index-ft.index});let u=0,v="000000",K="ffffff";for(;w.length>=1&&""===w[0].token;){const je=w.shift();-1!==je.fontStyle&&(u=je.fontStyle),null!==je.foreground&&(v=je.foreground),null!==je.background&&(K=je.background)}const J=new kg;for(let je of l)J.getId(je);const se=J.getId(v),me=J.getId(K),xe=new Jh(u,se,me),We=new Fl(xe);for(let je=0,ft=w.length;je<ft;je++){const Jt=w[je];We.insert(Jt.token,Jt.fontStyle,J.getId(Jt.foreground),J.getId(Jt.background))}return new Tg(J,We)}(l,u)}getColorMap(){return this._colorMap.getColorMap()}_match(l){return this._root.match(l)}match(l,u){let v=this._cache.get(u);if(void 0===v){const K=this._match(u),J=function(w){const l=w.match(Rl);if(!l)return 0;switch(l[1]){case"comment":return 1;case"string":return 2;case"regex":case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}(u);v=(K.metadata|J<<8)>>>0,this._cache.set(u,v)}return(v|l<<0)>>>0}}const Rl=/\b(comment|string|regex|regexp)\b/;class Jh{constructor(l,u,v){this._themeTrieElementRuleBrand=void 0,this._fontStyle=l,this._foreground=u,this._background=v,this.metadata=(this._fontStyle<<10|this._foreground<<14|this._background<<23)>>>0}clone(){return new Jh(this._fontStyle,this._foreground,this._background)}acceptOverwrite(l,u,v){-1!==l&&(this._fontStyle=l),0!==u&&(this._foreground=u),0!==v&&(this._background=v),this.metadata=(this._fontStyle<<10|this._foreground<<14|this._background<<23)>>>0}}class Fl{constructor(l){this._themeTrieElementBrand=void 0,this._mainRule=l,this._children=new Map}match(l){if(""===l)return this._mainRule;const u=l.indexOf(".");let v,K;-1===u?(v=l,K=""):(v=l.substring(0,u),K=l.substring(u+1));const J=this._children.get(v);return void 0!==J?J.match(K):this._mainRule}insert(l,u,v,K){if(""===l)return void this._mainRule.acceptOverwrite(u,v,K);const J=l.indexOf(".");let se,me;-1===J?(se=l,me=""):(se=l.substring(0,J),me=l.substring(J+1));let xe=this._children.get(se);void 0===xe&&(xe=new Fl(this._mainRule.clone()),this._children.set(se,xe)),xe.insert(me,u,v,K)}}const Ed={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[Cn.cvW]:"#FFFFFE",[Cn.NOs]:"#000000",[Cn.ES4]:"#E5EBF1",[Dn.tR]:"#D3D3D3",[Dn.Ym]:"#939393",[Cn.Rzx]:"#ADD6FF4D"}},Xh={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[Cn.cvW]:"#1E1E1E",[Cn.NOs]:"#D4D4D4",[Cn.ES4]:"#3A3D41",[Dn.tR]:"#404040",[Dn.Ym]:"#707070",[Cn.Rzx]:"#ADD6FF26"}},Bl={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[Cn.cvW]:"#000000",[Cn.NOs]:"#FFFFFF",[Dn.tR]:"#FFFFFF",[Dn.Ym]:"#FFFFFF"}};var qh=m(76804),Og=m(80974);class Au{getIcon(l){const u=(0,Og.Ks)();let v=l.defaults;for(;si.kS.isThemeIcon(v);){const K=u.getIcon(v.id);if(!K)return;v=K.defaults}return v}}const Vl="vs",Ru="vs-dark",Dc="hc-black",Ag=La.B.as(Cn.IPX.ColorContribution),Vp=La.B.as(si.IP.ThemingContribution);class ef{constructor(l,u){this.semanticHighlighting=!1,this.themeData=u;const v=u.base;l.length>0?(this.id=Md(l)?l:v+" "+l,this.themeName=l):(this.id=v,this.themeName=v),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const l=new Map;for(let u in this.themeData.colors)l.set(u,jn.Il.fromHex(this.themeData.colors[u]));if(this.themeData.inherit){const u=Hl(this.themeData.base);for(let v in u.colors)l.has(v)||l.set(v,jn.Il.fromHex(u.colors[v]))}this.colors=l}return this.colors}getColor(l,u){return this.getColors().get(l)||(!1!==u?this.getDefault(l):void 0)}getDefault(l){let u=this.defaultColors[l];return u||(u=Ag.resolveDefaultColor(l,this),this.defaultColors[l]=u,u)}defines(l){return Object.prototype.hasOwnProperty.call(this.getColors(),l)}get type(){switch(this.base){case Vl:return qh.e.LIGHT;case Dc:return qh.e.HIGH_CONTRAST;default:return qh.e.DARK}}get tokenTheme(){if(!this._tokenTheme){let l=[],u=[];if(this.themeData.inherit){const J=Hl(this.themeData.base);l=J.rules,J.encodedTokensColors&&(u=J.encodedTokensColors)}const v=this.themeData.colors["editor.foreground"],K=this.themeData.colors["editor.background"];if(v||K){const J={token:""};v&&(J.foreground=v),K&&(J.background=K),l.push(J)}l=l.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(u=this.themeData.encodedTokensColors),this._tokenTheme=Tg.createFromRawTokenTheme(l,u)}return this._tokenTheme}getTokenStyleMetadata(l,u,v){const J=this.tokenTheme._match([l].concat(u).join(".")).metadata,se=T.NX.getForeground(J),me=T.NX.getFontStyle(J);return{foreground:se,italic:Boolean(1&me),bold:Boolean(2&me),underline:Boolean(4&me),strikethrough:Boolean(8&me)}}}function Md(w){return w===Vl||w===Ru||w===Dc}function Hl(w){switch(w){case Vl:return Ed;case Ru:return Xh;case Dc:return Bl}}function ns(w){const l=Hl(w);return new ef(w,l)}var Tr=m(92094),nf=function(w,l){return function(u,v){l(u,v,w)}};let Fu=class extends Ye.JT{constructor(l,u){super(),this._contextKeyService=l,this._configurationService=u,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new Y.Q5,this._accessibilityModeEnabledContext=Zn.U.bindTo(this._contextKeyService);const v=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(K=>{K.affectsConfiguration("editor.accessibilitySupport")&&(v(),this._onDidChangeScreenReaderOptimized.fire())})),v(),this.onDidChangeScreenReaderOptimized(()=>v())}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const l=this._configurationService.getValue("editor.accessibilitySupport");return"on"===l||"auto"===l&&2===this._accessibilitySupport}getAccessibilitySupport(){return this._accessibilitySupport}};Fu=function(w,l,u,v){var se,K=arguments.length,J=K<3?l:null===v?v=Object.getOwnPropertyDescriptor(l,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(w,l,u,v);else for(var me=w.length-1;me>=0;me--)(se=w[me])&&(J=(K<3?se(J):K>3?se(l,u,J):se(l,u))||J);return K>3&&J&&Object.defineProperty(l,u,J),J}([nf(0,mo.i6),nf(1,cs.Ui)],Fu);var Cs=m(46842),ol=function(w,l,u,v){var se,K=arguments.length,J=K<3?l:null===v?v=Object.getOwnPropertyDescriptor(l,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(w,l,u,v);else for(var me=w.length-1;me>=0;me--)(se=w[me])&&(J=(K<3?se(J):K>3?se(l,u,J):se(l,u))||J);return K>3&&J&&Object.defineProperty(l,u,J),J},mr=function(w,l){return function(u,v){l(u,v,w)}};let of=class{constructor(l){this._commandService=l}createMenu(l,u,v){return new sf(l,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},v),this._commandService,u,this)}};of=ol([mr(0,qo.Hy)],of);let sf=class Oh{constructor(l,u,v,K,J){this._id=l,this._options=u,this._commandService=v,this._contextKeyService=K,this._menuService=J,this._disposables=new Ye.SL,this._menuGroups=[],this._contextKeys=new Set,this._build();const se=new fn.pY(()=>{this._build(),this._onDidChange.fire(this)},u.eventDebounceDelay);this._disposables.add(se),this._disposables.add(Cs.BH.onDidChangeMenu(We=>{We.has(l)&&se.schedule()}));const me=this._disposables.add(new Ye.SL);this._onDidChange=new Y.Q5({onFirstListenerAdd:()=>{const We=new fn.pY(()=>this._onDidChange.fire(this),u.eventDebounceDelay);me.add(We),me.add(K.onDidChangeContext(je=>{je.affectsSome(this._contextKeys)&&We.schedule()}))},onLastListenerRemove:me.clear.bind(me)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const l=Cs.BH.getMenuItems(this._id);let u;l.sort(Oh._compareMenuItems);for(const v of l){const K=v.group||"";(!u||u[0]!==K)&&(u=[K,[]],this._menuGroups.push(u)),u[1].push(v),this._collectContextKeys(v)}}_collectContextKeys(l){Oh._fillInKbExprKeys(l.when,this._contextKeys),(0,Cs.vr)(l)?(l.command.precondition&&Oh._fillInKbExprKeys(l.command.precondition,this._contextKeys),l.command.toggled&&Oh._fillInKbExprKeys(l.command.toggled.condition||l.command.toggled,this._contextKeys)):this._options.emitEventsForSubmenuChanges&&Cs.BH.getMenuItems(l.submenu).forEach(this._collectContextKeys,this)}getActions(l){const u=[];for(let v of this._menuGroups){const[K,J]=v,se=[];for(const me of J)if(this._contextKeyService.contextMatchesRules(me.when)){const xe=(0,Cs.vr)(me)?new Cs.U8(me.command,me.alt,l,this._contextKeyService,this._commandService):new Cs.NZ(me,this._menuService,this._contextKeyService,l);se.push(xe)}se.length>0&&u.push([K,se])}return u}static _fillInKbExprKeys(l,u){if(l)for(let v of l.keys())u.add(v)}static _compareMenuItems(l,u){let v=l.group,K=u.group;if(v!==K){if(!v)return 1;if(!K)return-1;if("navigation"===v)return-1;if("navigation"===K)return 1;let me=v.localeCompare(K);if(0!==me)return me}let J=l.order||0,se=u.order||0;return J<se?-1:J>se?1:Oh._compareTitles((0,Cs.vr)(l)?l.command.title:l.title,(0,Cs.vr)(u)?u.command.title:u.title)}static _compareTitles(l,u){return("string"==typeof l?l:l.original).localeCompare("string"==typeof u?u:u.original)}};sf=ol([mr(2,qo.Hy),mr(3,mo.i6),mr(4,Cs.co)],sf);var rf=function(w,l){return function(u,v){l(u,v,w)}},zl=function(w,l,u,v){return new(u||(u=Promise))(function(J,se){function me(je){try{We(v.next(je))}catch(ft){se(ft)}}function xe(je){try{We(v.throw(je))}catch(ft){se(ft)}}function We(je){je.done?J(je.value):function(J){return J instanceof u?J:new u(function(se){se(J)})}(je.value).then(me,xe)}We((v=v.apply(w,l||[])).next())})};let Bu=class extends Ye.JT{constructor(l,u){super(),this.layoutService=l,this.logService=u,this.mapTextToType=new Map,this.findText="",(la.isSafari||la.isWebkitWebView)&&this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){const l=()=>{const u=new fn.CR;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=u,navigator.clipboard.write([new ClipboardItem({"text/plain":u.p})]).catch(v=>zl(this,void 0,void 0,function*(){(!(v instanceof Error)||"NotAllowedError"!==v.name||!u.isRejected)&&this.logService.error(v)}))};this.layoutService.hasContainer&&(this._register((0,pt.nm)(this.layoutService.container,"click",l)),this._register((0,pt.nm)(this.layoutService.container,"keydown",l)))}writeText(l,u){return zl(this,void 0,void 0,function*(){if(u)return void this.mapTextToType.set(u,l);if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(l);try{return yield navigator.clipboard.writeText(l)}catch(J){console.error(J)}const v=document.activeElement,K=document.body.appendChild((0,pt.$)("textarea",{"aria-hidden":!0}));K.style.height="1px",K.style.width="1px",K.style.position="absolute",K.value=l,K.focus(),K.select(),document.execCommand("copy"),v instanceof HTMLElement&&v.focus(),document.body.removeChild(K)})}readText(l){return zl(this,void 0,void 0,function*(){if(l)return this.mapTextToType.get(l)||"";try{return yield navigator.clipboard.readText()}catch(u){return console.error(u),""}})}readFindText(){return zl(this,void 0,void 0,function*(){return this.findText})}writeFindText(l){return zl(this,void 0,void 0,function*(){this.findText=l})}};Bu=function(w,l,u,v){var se,K=arguments.length,J=K<3?l:null===v?v=Object.getOwnPropertyDescriptor(l,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(w,l,u,v);else for(var me=w.length-1;me>=0;me--)(se=w[me])&&(J=(K<3?se(J):K>3?se(l,u,J):se(l,u))||J);return K>3&&J&&Object.defineProperty(l,u,J),J}([rf(0,ur),rf(1,go.VZ)],Bu);var Hp=m(37323),Ec=m(58151);const Mc="data-keybinding-context";class Pa{constructor(l,u){this._id=l,this._parent=u,this._value=Object.create(null),this._value._contextId=l}setValue(l,u){return this._value[l]!==u&&(this._value[l]=u,!0)}removeValue(l){return l in this._value&&(delete this._value[l],!0)}getValue(l){const u=this._value[l];return void 0===u&&this._parent?this._parent.getValue(l):u}}class pr extends Pa{constructor(){super(-1,null)}setValue(l,u){return!1}removeValue(l){return!1}getValue(l){}}pr.INSTANCE=new pr;let Up=(()=>{class w extends Pa{constructor(u,v,K){super(u,null),this._configurationService=v,this._values=Ds.Id.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(J=>{if(6===J.source){const se=Array.from(Ec.$.map(this._values,([me])=>me));this._values.clear(),K.fire(new Ul(se))}else{const se=[];for(const me of J.affectedKeys){const xe=`config.${me}`,We=this._values.findSuperstr(xe);void 0!==We&&(se.push(...Ec.$.map(We,([je])=>je)),this._values.deleteSuperstr(xe)),this._values.has(xe)&&(se.push(xe),this._values.delete(xe))}K.fire(new Ul(se))}})}dispose(){this._listener.dispose()}getValue(u){if(0!==u.indexOf(w._keyPrefix))return super.getValue(u);if(this._values.has(u))return this._values.get(u);const v=u.substr(w._keyPrefix.length),K=this._configurationService.getValue(v);let J;switch(typeof K){case"number":case"boolean":case"string":J=K;break;default:J=Array.isArray(K)?JSON.stringify(K):K}return this._values.set(u,J),J}setValue(u,v){return super.setValue(u,v)}removeValue(u){return super.removeValue(u)}}return w._keyPrefix="config.",w})();class Nd{constructor(l,u,v){this._service=l,this._key=u,this._defaultValue=v,this.reset()}set(l){this._service.setContext(this._key,l)}reset(){void 0===this._defaultValue?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class Fg{constructor(l){this.key=l}affectsSome(l){return l.has(this.key)}}class Ul{constructor(l){this.keys=l}affectsSome(l){for(const u of this.keys)if(l.has(u))return!0;return!1}}class ji{constructor(l){this.events=l}affectsSome(l){for(const u of this.events)if(u.affectsSome(l))return!0;return!1}}class ea{constructor(l){this._onDidChangeContext=new Y.K3({merge:u=>new ji(u)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=l}createKey(l,u){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new Nd(this,l,u)}bufferChangeEvents(l){this._onDidChangeContext.pause();try{l()}finally{this._onDidChangeContext.resume()}}createScoped(l){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new jp(this,l)}contextMatchesRules(l){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const u=this.getContextValuesContainer(this._myContextId);return!l||l.evaluate(u)}getContextKeyValue(l){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(l)}setContext(l,u){if(this._isDisposed)return;const v=this.getContextValuesContainer(this._myContextId);!v||v.setValue(l,u)&&this._onDidChangeContext.fire(new Fg(l))}removeContext(l){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(l)&&this._onDidChangeContext.fire(new Fg(l))}getContext(l){return this._isDisposed?pr.INSTANCE:this.getContextValuesContainer(function(w){for(;w;){if(w.hasAttribute(Mc)){const l=w.getAttribute(Mc);return l?parseInt(l,10):NaN}w=w.parentElement}return 0}(l))}}let Wu=class extends ea{constructor(l){super(0),this._contexts=new Map,this._toDispose=new Ye.SL,this._lastContextId=0;const u=new Up(this._myContextId,l,this._onDidChangeContext);this._contexts.set(this._myContextId,u),this._toDispose.add(u)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(l){return this._isDisposed?pr.INSTANCE:this._contexts.get(l)||pr.INSTANCE}createChildContext(l=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");let u=++this._lastContextId;return this._contexts.set(u,new Pa(u,this.getContextValuesContainer(l))),u}disposeContext(l){this._isDisposed||this._contexts.delete(l)}};Wu=function(w,l,u,v){var se,K=arguments.length,J=K<3?l:null===v?v=Object.getOwnPropertyDescriptor(l,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(w,l,u,v);else for(var me=w.length-1;me>=0;me--)(se=w[me])&&(J=(K<3?se(J):K>3?se(l,u,J):se(l,u))||J);return K>3&&J&&Object.defineProperty(l,u,J),J}([function(w,l){return function(u,v){l(u,v,0)}}(0,cs.Ui)],Wu);class jp extends ea{constructor(l,u){if(super(l.createChildContext()),this._parentChangeListener=new Ye.XK,this._parent=l,this._updateParentChangeListener(),this._domNode=u,this._domNode.hasAttribute(Mc)){let v="";this._domNode.classList&&(v=Array.from(this._domNode.classList.values()).join(", ")),console.error("Element already has context attribute"+(v?": "+v:""))}this._domNode.setAttribute(Mc,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(this._onDidChangeContext.fire,this._onDidChangeContext)}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(Mc),this._isDisposed=!0)}getContextValuesContainer(l){return this._isDisposed?pr.INSTANCE:this._parent.getContextValuesContainer(l)}createChildContext(l=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(l)}disposeContext(l){this._isDisposed||this._parent.disposeContext(l)}}qo.P0.registerCommand(mo.Eq,function(w,l,u){w.get(mo.i6).createKey(String(l),u)}),qo.P0.registerCommand({id:"getContextKeyInfo",handler:()=>[...mo.uy.all()].sort((w,l)=>w.key.localeCompare(l.key)),description:{description:(0,qn.N)("getContextKeyInfo","A command that returns information about context keys"),args:[]}}),qo.P0.registerCommand("_generateContextKeyInfo",function(){const w=[],l=new Set;for(let u of mo.uy.all())l.has(u.key)||(l.add(u.key),w.push(u));w.sort((u,v)=>u.key.localeCompare(v.key)),console.log(JSON.stringify(w,void 0,2))});var Jo=m(24286);class Kp{constructor(l){this.incoming=new Map,this.outgoing=new Map,this.data=l}}class lf{constructor(l){this._hashFn=l,this._nodes=new Map}roots(){const l=[];for(let u of this._nodes.values())0===u.outgoing.size&&l.push(u);return l}insertEdge(l,u){const v=this.lookupOrInsertNode(l),K=this.lookupOrInsertNode(u);v.outgoing.set(this._hashFn(u),K),K.incoming.set(this._hashFn(l),v)}removeNode(l){const u=this._hashFn(l);this._nodes.delete(u);for(let v of this._nodes.values())v.outgoing.delete(u),v.incoming.delete(u)}lookupOrInsertNode(l){const u=this._hashFn(l);let v=this._nodes.get(u);return v||(v=new Kp(l),this._nodes.set(u,v)),v}isEmpty(){return 0===this._nodes.size}toString(){let l=[];for(let[u,v]of this._nodes)l.push(`${u}, (incoming)[${[...v.incoming.keys()].join(", ")}], (outgoing)[${[...v.outgoing.keys()].join(",")}]`);return l.join("\n")}findCycleSlow(){for(let[l,u]of this._nodes){const v=new Set([l]),K=this._findCycle(u,v);if(K)return K}}_findCycle(l,u){for(let[v,K]of l.outgoing){if(u.has(v))return[...u,v].join(" -> ");u.add(v);const J=this._findCycle(K,u);if(J)return J;u.delete(v)}}}var Wg=m(9771);class Vg extends Error{constructor(l){var u;super("cyclic dependency between services"),this.message=null!==(u=l.findCycleSlow())&&void 0!==u?u:`UNABLE to detect cycle, dumping graph: \n${l.toString()}`}}class Oa{constructor(l=new Wg.y,u=!1,v){this._activeInstantiations=new Set,this._services=l,this._strict=u,this._parent=v,this._services.set(Xo.TG,this)}createChild(l){return new Oa(l,this._strict,this)}invokeFunction(l,...u){let v=_r.traceInvocation(l),K=!1;try{return l({get:se=>{if(K)throw(0,Dt.L6)("service accessor is only valid during the invocation of its target method");const me=this._getOrCreateServiceInstance(se,v);if(!me)throw new Error(`[invokeFunction] unknown service '${se}'`);return me}},...u)}finally{K=!0,v.stop()}}createInstance(l,...u){let v,K;return l instanceof Jo.M?(v=_r.traceCreation(l.ctor),K=this._createInstance(l.ctor,l.staticArguments.concat(u),v)):(v=_r.traceCreation(l),K=this._createInstance(l,u,v)),v.stop(),K}_createInstance(l,u=[],v){let K=Xo.I8.getServiceDependencies(l).sort((me,xe)=>me.index-xe.index),J=[];for(const me of K){let xe=this._getOrCreateServiceInstance(me.id,v);xe||this._throwIfStrict(`[createInstance] ${l.name} depends on UNKNOWN service ${me.id}.`,!1),J.push(xe)}let se=K.length>0?K[0].index:u.length;if(u.length!==se){console.warn(`[createInstance] First service dependency of ${l.name} at position ${se+1} conflicts with ${u.length} static arguments`);let me=se-u.length;u=me>0?u.concat(new Array(me)):u.slice(0,se)}return new l(...[...u,...J])}_setServiceInstance(l,u){if(this._services.get(l)instanceof Jo.M)this._services.set(l,u);else{if(!this._parent)throw new Error("illegalState - setting UNKNOWN service instance");this._parent._setServiceInstance(l,u)}}_getServiceInstanceOrDescriptor(l){let u=this._services.get(l);return!u&&this._parent?this._parent._getServiceInstanceOrDescriptor(l):u}_getOrCreateServiceInstance(l,u){let v=this._getServiceInstanceOrDescriptor(l);return v instanceof Jo.M?this._safeCreateAndCacheServiceInstance(l,v,u.branch(l,!0)):(u.branch(l,!1),v)}_safeCreateAndCacheServiceInstance(l,u,v){if(this._activeInstantiations.has(l))throw new Error(`illegal state - RECURSIVELY instantiating service '${l}'`);this._activeInstantiations.add(l);try{return this._createAndCacheServiceInstance(l,u,v)}finally{this._activeInstantiations.delete(l)}}_createAndCacheServiceInstance(l,u,v){const K=new lf(me=>me.id.toString());let J=0;const se=[{id:l,desc:u,_trace:v}];for(;se.length;){const me=se.pop();if(K.lookupOrInsertNode(me),J++>1e3)throw new Vg(K);for(let xe of Xo.I8.getServiceDependencies(me.desc.ctor)){let We=this._getServiceInstanceOrDescriptor(xe.id);if(We||this._throwIfStrict(`[createInstance] ${l} depends on ${xe.id} which is NOT registered.`,!0),We instanceof Jo.M){const je={id:xe.id,desc:We,_trace:me._trace.branch(xe.id,!0)};K.insertEdge(me,je),se.push(je)}}}for(;;){const me=K.roots();if(0===me.length){if(!K.isEmpty())throw new Vg(K);break}for(const{data:xe}of me){if(this._getServiceInstanceOrDescriptor(xe.id)instanceof Jo.M){const je=this._createServiceInstanceWithOwner(xe.id,xe.desc.ctor,xe.desc.staticArguments,xe.desc.supportsDelayedInstantiation,xe._trace);this._setServiceInstance(xe.id,je)}K.removeNode(xe)}}return this._getServiceInstanceOrDescriptor(l)}_createServiceInstanceWithOwner(l,u,v=[],K,J){if(this._services.get(l)instanceof Jo.M)return this._createServiceInstance(u,v,K,J);if(this._parent)return this._parent._createServiceInstanceWithOwner(l,u,v,K,J);throw new Error(`illegalState - creating UNKNOWN service instance ${u.name}`)}_createServiceInstance(l,u=[],v,K){if(v){const J=new fn.Ue(()=>this._createInstance(l,u,K));return new Proxy(Object.create(null),{get(se,me){if(me in se)return se[me];let xe=J.value,We=xe[me];return"function"!=typeof We||(We=We.bind(xe),se[me]=We),We},set:(se,me,xe)=>(J.value[me]=xe,!0)})}return this._createInstance(l,u,K)}_throwIfStrict(l,u){if(u&&console.warn(u),this._strict)throw new Error(l)}}class _r{constructor(l,u){this.type=l,this.name=u,this._start=Date.now(),this._dep=[]}static traceInvocation(l){return _r._None}static traceCreation(l){return _r._None}branch(l,u){let v=new _r(2,l.toString());return this._dep.push([l,u,v]),v}stop(){let l=Date.now()-this._start;_r._totals+=l;let u=!1,K=[`${0===this.type?"CREATE":"CALL"} ${this.name}`,`${function v(J,se){let me=[],xe=new Array(J+1).join("\t");for(const[We,je,ft]of se._dep)if(je&&ft){u=!0,me.push(`${xe}CREATES -> ${We}`);let Jt=v(J+1,ft);Jt&&me.push(Jt)}else me.push(`${xe}uses -> ${We}`);return me.join("\n")}(1,this)}`,`DONE, took ${l.toFixed(2)}ms (grand total ${_r._totals.toFixed(2)}ms)`];(l>2||u)&&console.log(K.join("\n"))}}_r._None=new class extends _r{constructor(){super(-1,null)}stop(){}branch(){return this}},_r._totals=0;class sl{constructor(){this._byResource=new Ds.Y9,this._byOwner=new Map}set(l,u,v){let K=this._byResource.get(l);K||(K=new Map,this._byResource.set(l,K)),K.set(u,v);let J=this._byOwner.get(u);J||(J=new Ds.Y9,this._byOwner.set(u,J)),J.set(l,v)}get(l,u){let v=this._byResource.get(l);return null==v?void 0:v.get(u)}delete(l,u){let v=!1,K=!1,J=this._byResource.get(l);J&&(v=J.delete(u));let se=this._byOwner.get(u);if(se&&(K=se.delete(l)),v!==K)throw new Error("illegal state");return v&&K}values(l){var u,v,K,J;return"string"==typeof l?null!==(v=null===(u=this._byOwner.get(l))||void 0===u?void 0:u.values())&&void 0!==v?v:Ec.$.empty():E.o.isUri(l)?null!==(J=null===(K=this._byResource.get(l))||void 0===K?void 0:K.values())&&void 0!==J?J:Ec.$.empty():Ec.$.map(Ec.$.concat(...this._byOwner.values()),se=>se[1])}}class T1{constructor(l){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new Ds.Y9,this._service=l,this._subscription=l.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(l){for(const u of l){const v=this._data.get(u);v&&this._substract(v);const K=this._resourceStats(u);this._add(K),this._data.set(u,K)}}_resourceStats(l){const u={errors:0,warnings:0,infos:0,unknowns:0};if(l.scheme===Pi.lg.inMemory||l.scheme===Pi.lg.walkThrough||l.scheme===Pi.lg.walkThroughSnippet)return u;for(const{severity:v}of this._service.read({resource:l}))v===Fn.ZL.Error?u.errors+=1:v===Fn.ZL.Warning?u.warnings+=1:v===Fn.ZL.Info?u.infos+=1:u.unknowns+=1;return u}_substract(l){this.errors-=l.errors,this.warnings-=l.warnings,this.infos-=l.infos,this.unknowns-=l.unknowns}_add(l){this.errors+=l.errors,this.warnings+=l.warnings,this.infos+=l.infos,this.unknowns+=l.unknowns}}class Rs{constructor(){this._onMarkerChanged=new Y.D0({delay:0,merge:Rs._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new sl,this._stats=new T1(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(l,u){for(const v of u||[])this.changeOne(l,v,[])}changeOne(l,u,v){if((0,ei.XY)(v))this._data.delete(u,l)&&this._onMarkerChanged.fire([u]);else{const K=[];for(const J of v){const se=Rs._toMarker(l,u,J);se&&K.push(se)}this._data.set(u,l,K),this._onMarkerChanged.fire([u])}}static _toMarker(l,u,v){let{code:K,severity:J,message:se,source:me,startLineNumber:xe,startColumn:We,endLineNumber:je,endColumn:ft,relatedInformation:Jt,tags:gn}=v;if(se)return xe=xe>0?xe:1,We=We>0?We:1,je=je>=xe?je:xe,ft=ft>0?ft:We,{resource:u,owner:l,code:K,severity:J,message:se,source:me,startLineNumber:xe,startColumn:We,endLineNumber:je,endColumn:ft,relatedInformation:Jt,tags:gn}}read(l=Object.create(null)){let{owner:u,resource:v,severities:K,take:J}=l;if((!J||J<0)&&(J=-1),u&&v){const se=this._data.get(v,u);if(se){const me=[];for(const xe of se)if(Rs._accept(xe,K)){const We=me.push(xe);if(J>0&&We===J)break}return me}return[]}if(u||v){const se=this._data.values(v??u),me=[];for(const xe of se)for(const We of xe)if(Rs._accept(We,K)){const je=me.push(We);if(J>0&&je===J)return me}return me}{const se=[];for(let me of this._data.values())for(let xe of me)if(Rs._accept(xe,K)){const We=se.push(xe);if(J>0&&We===J)return se}return se}}static _accept(l,u){return void 0===u||(u&l.severity)===l.severity}static _merge(l){const u=new Ds.Y9;for(let v of l)for(let K of v)u.set(K,!0);return Array.from(u.keys())}}var Hg=m(58070);function zg(w,l,u,v,K){if(Array.isArray(w)){let J=0;for(const se of w){const me=zg(se,l,u,v,K);if(10===me)return me;me>J&&(J=me)}return J}if("string"==typeof w)return v?"*"===w?5:w===u?10:0:0;if(w){const{language:J,pattern:se,scheme:me,hasAccessToAllModels:xe,notebookType:We}=w;if(!v&&!xe)return 0;let je=0;if(me)if(me===l.scheme)je=10;else{if("*"!==me)return 0;je=5}if(J)if(J===u)je=10;else{if("*"!==J)return 0;je=Math.max(je,5)}if(We)if(We===K)je=10;else{if("*"!==We)return 0;je=Math.max(je,5)}if(se){let ft;if(ft="string"==typeof se?se:Object.assign(Object.assign({},se),{base:(0,Ks.Fv)(se.base)}),ft!==l.fsPath&&!function(w,l,u){return!(!w||"string"!=typeof l)&&wc(w)(l,void 0,void 0)}(ft,l.fsPath))return 0;je=10}return je}return 0}function Ug(w){return"string"!=typeof w&&(Array.isArray(w)?w.every(Ug):!!w.exclusive)}class Ao{constructor(l){this._notebookTypeResolver=l,this._clock=0,this._entries=[],this._onDidChange=new Y.Q5,this.onDidChange=this._onDidChange.event}register(l,u){let v={selector:l,provider:u,_score:-1,_time:this._clock++};return this._entries.push(v),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,Ye.OF)(()=>{if(v){const K=this._entries.indexOf(v);K>=0&&(this._entries.splice(K,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),v=void 0)}})}has(l){return this.all(l).length>0}all(l){if(!l)return[];this._updateScores(l);const u=[];for(let v of this._entries)v._score>0&&u.push(v.provider);return u}ordered(l){const u=[];return this._orderedForEach(l,v=>u.push(v.provider)),u}orderedGroups(l){const u=[];let v,K;return this._orderedForEach(l,J=>{v&&K===J._score?v.push(J.provider):(K=J._score,v=[J.provider],u.push(v))}),u}_orderedForEach(l,u){if(l){this._updateScores(l);for(const v of this._entries)v._score>0&&u(v)}}_updateScores(l){var u;const v=null===(u=this._notebookTypeResolver)||void 0===u?void 0:u.call(this,l.uri),K={uri:l.uri.toString(),language:l.getLanguageId(),notebookType:v};if(!this._lastCandidate||this._lastCandidate.language!==K.language||this._lastCandidate.uri!==K.uri||this._lastCandidate.notebookType!==K.notebookType){this._lastCandidate=K;for(let J of this._entries)if(J._score=zg(J.selector,l.uri,l.getLanguageId(),(0,pn.pt)(l),v),Ug(J.selector)&&J._score>0){for(let se of this._entries)se._score=0;J._score=1e3;break}this._entries.sort(Ao._compareByScoreAndTime)}}static _compareByScoreAndTime(l,u){return l._score<u._score?1:l._score>u._score?-1:l._time<u._time?1:l._time>u._time?-1:0}}(0,Ji.z)(Di.p,class{constructor(){this.referenceProvider=new Ao(this._score.bind(this)),this.renameProvider=new Ao(this._score.bind(this)),this.codeActionProvider=new Ao(this._score.bind(this)),this.definitionProvider=new Ao(this._score.bind(this)),this.typeDefinitionProvider=new Ao(this._score.bind(this)),this.declarationProvider=new Ao(this._score.bind(this)),this.implementationProvider=new Ao(this._score.bind(this)),this.documentSymbolProvider=new Ao(this._score.bind(this)),this.inlayHintsProvider=new Ao(this._score.bind(this)),this.colorProvider=new Ao(this._score.bind(this)),this.codeLensProvider=new Ao(this._score.bind(this)),this.documentFormattingEditProvider=new Ao(this._score.bind(this)),this.documentRangeFormattingEditProvider=new Ao(this._score.bind(this)),this.onTypeFormattingEditProvider=new Ao(this._score.bind(this)),this.signatureHelpProvider=new Ao(this._score.bind(this)),this.hoverProvider=new Ao(this._score.bind(this)),this.documentHighlightProvider=new Ao(this._score.bind(this)),this.selectionRangeProvider=new Ao(this._score.bind(this)),this.foldingRangeProvider=new Ao(this._score.bind(this)),this.linkProvider=new Ao(this._score.bind(this)),this.inlineCompletionsProvider=new Ao(this._score.bind(this)),this.completionProvider=new Ao(this._score.bind(this)),this.linkedEditingRangeProvider=new Ao(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new Ao(this._score.bind(this)),this.documentSemanticTokensProvider=new Ao(this._score.bind(this))}_score(l){var u;return null===(u=this._notebookTypeResolver)||void 0===u?void 0:u.call(this,l)}},!0);var rl=function(w,l,u,v){var se,K=arguments.length,J=K<3?l:null===v?v=Object.getOwnPropertyDescriptor(l,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(w,l,u,v);else for(var me=w.length-1;me>=0;me--)(se=w[me])&&(J=(K<3?se(J):K>3?se(l,u,J):se(l,u))||J);return K>3&&J&&Object.defineProperty(l,u,J),J},Ns=function(w,l){return function(u,v){l(u,v,w)}},jg=function(w,l,u,v){return new(u||(u=Promise))(function(J,se){function me(je){try{We(v.next(je))}catch(ft){se(ft)}}function xe(je){try{We(v.throw(je))}catch(ft){se(ft)}}function We(je){je.done?J(je.value):function(J){return J instanceof u?J:new u(function(se){se(J)})}(je.value).then(me,xe)}We((v=v.apply(w,l||[])).next())})};class Zp{constructor(l){this.disposed=!1,this.model=l,this._onWillDispose=new Y.Q5}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let Vu=class{constructor(l){this.modelService=l}createModelReference(l){const u=this.modelService.getModel(l);return u?Promise.resolve(new Ye.Jz(new Zp(u))):Promise.reject(new Error("Model not found"))}};Vu=rl([Ns(0,Wt.q)],Vu);let Gp=(()=>{class w{show(){return w.NULL_PROGRESS_RUNNER}showWhile(u,v){return jg(this,void 0,void 0,function*(){yield u})}}return w.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}},w})();class or{info(l){return this.notify({severity:os.Z.Info,message:l})}warn(l){return this.notify({severity:os.Z.Warning,message:l})}error(l){return this.notify({severity:os.Z.Error,message:l})}notify(l){switch(l.severity){case os.Z.Error:console.error(l.message);break;case os.Z.Warning:console.warn(l.message);break;default:console.log(l.message)}return or.NO_OP}status(l,u){return Ye.JT.None}}or.NO_OP=new Vr.EO;let Kg=class{constructor(l){this._onWillExecuteCommand=new Y.Q5,this._onDidExecuteCommand=new Y.Q5,this.onWillExecuteCommand=this._onWillExecuteCommand.event,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=l}executeCommand(l,...u){const v=qo.P0.getCommand(l);if(!v)return Promise.reject(new Error(`command '${l}' not found`));try{this._onWillExecuteCommand.fire({commandId:l,args:u});const K=this._instantiationService.invokeFunction.apply(this._instantiationService,[v.handler,...u]);return this._onDidExecuteCommand.fire({commandId:l,args:u}),Promise.resolve(K)}catch(K){return Promise.reject(K)}}};Kg=rl([Ns(0,Xo.TG)],Kg);let Cr=class extends Bo{constructor(l,u,v,K,J,se){super(l,u,v,K,J),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const me=gn=>{const Yn=new Ye.SL;Yn.add(pt.nm(gn,pt.tw.KEY_DOWN,vi=>{const Ci=new Ls.y(vi);this._dispatch(Ci,Ci.target)&&(Ci.preventDefault(),Ci.stopPropagation())})),Yn.add(pt.nm(gn,pt.tw.KEY_UP,vi=>{const Ci=new Ls.y(vi);this._singleModifierDispatch(Ci,Ci.target)&&Ci.preventDefault()})),this._domNodeListeners.push(new uf(gn,Yn))},xe=gn=>{for(let Yn=0;Yn<this._domNodeListeners.length;Yn++){const vi=this._domNodeListeners[Yn];vi.domNode===gn&&(this._domNodeListeners.splice(Yn,1),vi.dispose())}},We=gn=>{gn.getOption(54)||me(gn.getContainerDomNode())};this._register(se.onCodeEditorAdd(We)),this._register(se.onCodeEditorRemove(gn=>{gn.getOption(54)||xe(gn.getContainerDomNode())})),se.listCodeEditors().forEach(We);const ft=gn=>{me(gn.getContainerDomNode())};this._register(se.onDiffEditorAdd(ft)),this._register(se.onDiffEditorRemove(gn=>{xe(gn.getContainerDomNode())})),se.listDiffEditors().forEach(ft)}addDynamicKeybinding(l,u,v,K){const J=(0,Hr.gm)(u,St.OS),se=new Ye.SL;return J&&(this._dynamicKeybindings.push({keybinding:J.parts,command:l,when:K,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),se.add((0,Ye.OF)(()=>{for(let me=0;me<this._dynamicKeybindings.length;me++)if(this._dynamicKeybindings[me].command===l)return this._dynamicKeybindings.splice(me,1),void this.updateResolver({source:1})}))),se.add(qo.P0.registerCommand(l,v)),this.updateResolver({source:1}),se}updateResolver(l){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(l)}_getResolver(){if(!this._cachedResolver){const l=this._toNormalizedKeybindingItems(ad.W.getDefaultKeybindings(),!0),u=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new es(l,u,v=>this._log(v))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(l,u){const v=[];let K=0;for(const J of l){const se=J.when||void 0,me=J.keybinding;if(me){const xe=Dl.resolveUserBinding(me,St.OS);for(const We of xe)v[K++]=new ld(We,J.command,J.commandArgs,se,u,null,!1)}else v[K++]=new ld(void 0,J.command,J.commandArgs,se,u,null,!1)}return v}resolveKeyboardEvent(l){const u=new Hr.QC(l.ctrlKey,l.shiftKey,l.altKey,l.metaKey,l.keyCode).toChord();return new Dl(u,St.OS)}};Cr=rl([Ns(0,mo.i6),Ns(1,qo.Hy),Ns(2,Ya.b),Ns(3,Vr.lT),Ns(4,go.VZ),Ns(5,Ne.$)],Cr);class uf extends Ye.JT{constructor(l,u){super(),this.domNode=l,this._register(u)}}function Hu(w){return w&&"object"==typeof w&&(!w.overrideIdentifier||"string"==typeof w.overrideIdentifier)&&(!w.resource||w.resource instanceof E.o)}class hf{constructor(){this._onDidChangeConfiguration=new Y.Q5,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new Da(new hc,new Es)}getValue(l,u){const v="string"==typeof l?l:void 0,K=Hu(l)?l:Hu(u)?u:{};return this._configuration.getValue(v,K,void 0)}updateValues(l){const u={data:this._configuration.toData()},v=[];for(const K of l){const[J,se]=K;this.getValue(J)!==se&&(this._configuration.updateValue(J,se),v.push(J))}if(v.length>0){const K=new Oi({keys:v,overrides:[]},u,this._configuration);K.source=7,K.sourceConfig=null,this._onDidChangeConfiguration.fire(K)}return Promise.resolve()}updateValue(l,u,v,K){return this.updateValues([[l,u]])}inspect(l,u={}){return this._configuration.inspect(l,u,void 0)}}let Nc=class{constructor(l){this.configurationService=l,this._onDidChangeConfiguration=new Y.Q5,this.configurationService.onDidChangeConfiguration(u=>{this._onDidChangeConfiguration.fire({affectedKeys:u.affectedKeys,affectsConfiguration:(v,K)=>u.affectsConfiguration(K)})})}getValue(l,u,v){const J=i.L.isIPosition(u)&&u?"string"==typeof v?v:void 0:"string"==typeof u?u:void 0;return void 0===J?this.configurationService.getValue():this.configurationService.getValue(J)}};Nc=rl([Ns(0,cs.Ui)],Nc);let zu=class{constructor(l){this.configurationService=l}getEOL(l,u){const v=this.configurationService.getValue("files.eol",{overrideIdentifier:u,resource:l});return v&&"string"==typeof v&&"auto"!==v?v:St.IJ||St.dz?"\n":"\r\n"}};zu=rl([Ns(0,cs.Ui)],zu);let Uu=(()=>{class w{constructor(){const u=E.o.from({scheme:w.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new fc.md({uri:u,name:"",index:0})]}}getWorkspace(){return this.workspace}}return w.SCHEME="inmemory",w})();function al(w,l,u){if(!(l&&w instanceof hf))return;const v=[];Object.keys(l).forEach(K=>{(function(w){return Ga()[`editor.${w}`]||!1})(K)&&v.push([`editor.${K}`,l[K]]),u&&function(w){return Ga()[`diffEditor.${w}`]||!1}(K)&&v.push([`diffEditor.${K}`,l[K]])}),v.length>0&&w.updateValues(v)}let $g=class{constructor(l){this._modelService=l}hasPreviewHandler(){return!1}apply(l,u){return jg(this,void 0,void 0,function*(){const v=new Map;for(let se of l){if(!(se instanceof uc.Gl))throw new Error("bad edit - only text edits are supported");const me=this._modelService.getModel(se.resource);if(!me)throw new Error("bad edit - model not found");if("number"==typeof se.versionId&&me.getVersionId()!==se.versionId)throw new Error("bad state - model changed in the meantime");let xe=v.get(me);xe||(xe=[],v.set(me,xe)),xe.push(Er.h.replaceMove(O.e.lift(se.textEdit.range),se.textEdit.text))}let K=0,J=0;for(const[se,me]of v)se.pushStackElement(),se.pushEditOperations([],me,()=>[]),se.pushStackElement(),J+=1,K+=me.length;return{ariaSummary:nt.WU(vu.iN.bulkEditServiceSummary,K,J)}})}};$g=rl([Ns(0,Wt.q)],$g);let Vo=class extends mc{constructor(l,u){super(l),this._codeEditorService=u}showContextView(l,u,v){if(!u){const K=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();K&&(u=K.getContainerDomNode())}return super.showContextView(l,u,v)}};Vo=rl([Ns(0,ur),Ns(1,Ne.$)],Vo);let ua=class extends qe{constructor(l,u,v,K,J){super(l,u,v,K,J),this.configure({blockMouse:!1})}};var ui;ua=rl([Ns(0,Ya.b),Ns(1,Vr.lT),Ns(2,An.u),Ns(3,ss.d),Ns(4,si.XE)],ua),(0,Ji.z)(cs.Ui,hf),(0,Ji.z)(so.V,Nc),(0,Ji.z)(so.y,zu),(0,Ji.z)(fc.ec,Uu),(0,Ji.z)(Qa.e,class{getUriLabel(l,u){return"file"===l.scheme?l.fsPath:l.path}}),(0,Ji.z)(Ya.b,class{publicLog(l,u){return Promise.resolve(void 0)}publicLog2(l,u){return this.publicLog(l,u)}}),(0,Ji.z)(Sa.S,class{confirm(l){return this.doConfirm(l).then(u=>({confirmed:u,checkboxChecked:!1}))}doConfirm(l){let u=l.message;return l.detail&&(u=u+"\n\n"+l.detail),Promise.resolve(window.confirm(u))}show(l,u,v,K){return Promise.resolve({choice:0})}}),(0,Ji.z)(Vr.lT,or),(0,Ji.z)(Fn.lT,Rs),(0,Ji.z)(Bt.O,class extends Xr{constructor(){super()}}),(0,Ji.z)(Tr.Z,class extends Ye.JT{constructor(){super(),this._onColorThemeChange=this._register(new Y.Q5),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new Y.Q5),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new Au,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(Vl,ns(Vl)),this._knownThemes.set(Ru,ns(Ru)),this._knownThemes.set(Dc,ns(Dc));const l=function(w){const l=new Y.Q5,u=(0,Og.Ks)();return u.onDidChange(()=>l.fire()),null==w||w.onDidProductIconThemeChange(()=>l.fire()),{onDidChange:l.event,getCSS(){const v=w?w.getProductIconTheme():new Au,K={},J=me=>{const xe=v.getIcon(me);if(!xe)return;const We=xe.font;return We?(K[We.id]=We.definition,`.codicon-${me.id}:before { content: '${xe.fontCharacter}'; font-family: ${(0,pt._h)(We.id)}; }`):`.codicon-${me.id}:before { content: '${xe.fontCharacter}'; }`},se=[];for(let me of u.getIcons()){const xe=J(me);xe&&se.push(xe)}for(let me in K){const xe=K[me],We=xe.weight?`font-weight: ${xe.weight};`:"",je=xe.style?`font-style: ${xe.style};`:"",ft=xe.src.map(Jt=>`${(0,pt.wY)(Jt.location)} format('${Jt.format}')`).join(", ");se.push(`@font-face { src: ${ft}; font-family: ${(0,pt._h)(me)};${We}${je} font-display: block; }`)}return se.join("\n")}}}(this);this._codiconCSS=l.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(Vl),l.onDidChange(()=>{this._codiconCSS=l.getCSS(),this._updateCSS()}),pt.uB("(forced-colors: active)",()=>{this._updateActualTheme()})}registerEditorContainer(l){return pt.OO(l)?this._registerShadowDomContainer(l):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=pt.dS(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),Ye.JT.None}_registerShadowDomContainer(l){const u=pt.dS(l);return u.className="monaco-colors",u.textContent=this._allCSS,this._styleElements.push(u),{dispose:()=>{for(let v=0;v<this._styleElements.length;v++)if(this._styleElements[v]===u)return void this._styleElements.splice(v,1)}}}defineTheme(l,u){if(!/^[a-z0-9\-]+$/i.test(l))throw new Error("Illegal theme name!");if(!Md(u.base)&&!Md(l))throw new Error("Illegal theme base!");this._knownThemes.set(l,new ef(l,u)),Md(l)&&this._knownThemes.forEach(v=>{v.base===l&&v.notifyBaseUpdated()}),this._theme.themeName===l&&this.setTheme(l)}getColorTheme(){return this._theme}setColorMapOverride(l){this._colorMapOverride=l,this._updateThemeOrColorMap()}setTheme(l){let u;u=this._knownThemes.has(l)?this._knownThemes.get(l):this._knownThemes.get(Vl),this._desiredTheme=u,this._updateActualTheme()}_updateActualTheme(){const l=this._autoDetectHighContrast&&window.matchMedia("(forced-colors: active)").matches?this._knownThemes.get(Dc):this._desiredTheme;this._theme!==l&&(this._theme=l,this._updateThemeOrColorMap())}setAutoDetectHighContrast(l){this._autoDetectHighContrast=l,this._updateActualTheme()}_updateThemeOrColorMap(){const l=[],u={},v={addRule:se=>{u[se]||(l.push(se),u[se]=!0)}};Vp.getThemingParticipants().forEach(se=>se(this._theme,v,this._environment));const K=[];for(const se of Ag.getColors()){const me=this._theme.getColor(se.id,!0);me&&K.push(`${(0,Cn.QO2)(se.id)}: ${me.toString()};`)}v.addRule(`.monaco-editor { ${K.join("\n")} }`);const J=this._colorMapOverride||this._theme.tokenTheme.getColorMap();v.addRule(function(w){const l=[];for(let u=1,v=w.length;u<v;u++)l[u]=`.mtk${u} { color: ${w[u]}; }`;return l.push(".mtki { font-style: italic; }"),l.push(".mtkb { font-weight: bold; }"),l.push(".mtku { text-decoration: underline; text-underline-position: under; }"),l.push(".mtks { text-decoration: line-through; }"),l.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),l.join("\n")}(J)),this._themeCSS=l.join("\n"),this._updateCSS(),T.RW.setColorMap(J),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._styleElements.forEach(l=>l.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}),(0,Ji.z)(go.VZ,class extends go.$V{constructor(){super(new go.kw)}}),(0,Ji.z)(Wt.q,qi.b$),(0,Ji.z)(ts.i,Co),(0,Ji.z)(mo.i6,Wu),(0,Ji.z)(lo.ek,Gp),(0,Ji.z)(Hg.Uy,Hg.vm),(0,Ji.z)(li.p,ys),(0,Ji.z)(uc.vu,$g),(0,Ji.z)(cd.Y,class{constructor(){this._neverEmitter=new Y.Q5,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}),(0,Ji.z)(gi.S,Vu),(0,Ji.z)(Zn.F,Fu),(0,Ji.z)(Mg.Lw,Mg.XN),(0,Ji.z)(qo.Hy,Kg),(0,Ji.z)(ss.d,Cr),(0,Ji.z)(Zh.eJ,Yo),(0,Ji.z)(An.u,Vo),(0,Ji.z)(Nt.v4,Rn),(0,Ji.z)(Hp.p,Bu),(0,Ji.z)(An.i,ua),(0,Ji.z)(Cs.co,of),function(w){const l=new Wg.y;for(const[se,me]of(0,Ji.d)())l.set(se,me);const u=new Oa(l,!0);l.set(Xo.TG,u),w.get=function(se){const me=l.get(se);if(!me)throw new Error("Missing service "+se);return me instanceof Jo.M?u.invokeFunction(xe=>xe.get(se)):me};let K=!1;w.initialize=function(se){if(K)return u;K=!0;for(const[me,xe]of(0,Ji.d)())l.get(me)||l.set(me,xe);for(const me in se)if(se.hasOwnProperty(me)){const xe=(0,Xo.yh)(me);l.get(xe)instanceof Jo.M&&l.set(xe,se[me])}return u}}(ui||(ui={}));var Zg=function(w,l,u,v){var se,K=arguments.length,J=K<3?l:null===v?v=Object.getOwnPropertyDescriptor(l,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(w,l,u,v);else for(var me=w.length-1;me>=0;me--)(se=w[me])&&(J=(K<3?se(J):K>3?se(l,u,J):se(l,u))||J);return K>3&&J&&Object.defineProperty(l,u,J),J},po=function(w,l){return function(u,v){l(u,v,w)}};let Yp=0,Gg=!1,ju=class extends Zt.Gm{constructor(l,u,v,K,J,se,me,xe,We,je,ft,Jt){const gn=Object.assign({},u);gn.ariaLabel=gn.ariaLabel||vu.B8.editorViewAccessibleLabel,gn.ariaLabel=gn.ariaLabel+";"+vu.B8.accessibilityHelpMessage,super(l,gn,{},v,K,J,se,xe,We,je,ft,Jt),this._standaloneKeybindingService=me instanceof Cr?me:null,function(w){if(!w){if(Gg)return;Gg=!0}Ft.wW(w||document.body)}(gn.ariaContainerElement)}addCommand(l,u,v){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const K="DYNAMIC_"+ ++Yp,J=mo.Ao.deserialize(v);return this._standaloneKeybindingService.addDynamicKeybinding(K,l,u,J),K}createContextKey(l,u){return this._contextKeyService.createKey(l,u)}addAction(l){if("string"!=typeof l.id||"string"!=typeof l.label||"function"!=typeof l.run)throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),Ye.JT.None;const u=l.id,v=l.label,K=mo.Ao.and(mo.Ao.equals("editorId",this.getId()),mo.Ao.deserialize(l.precondition)),J=l.keybindings,se=mo.Ao.and(K,mo.Ao.deserialize(l.keybindingContext)),me=l.contextMenuGroupId||null,xe=l.contextMenuOrder||0,We=(gn,...Yn)=>Promise.resolve(l.run(this,...Yn)),je=new Ye.SL,ft=this.getId()+":"+u;if(je.add(qo.P0.registerCommand(ft,We)),me&&je.add(Cs.BH.appendMenuItem(Cs.eH.EditorContext,{command:{id:ft,title:v},when:K,group:me,order:xe})),Array.isArray(J))for(const gn of J)je.add(this._standaloneKeybindingService.addDynamicKeybinding(ft,gn,We,se));const Jt=new Xn.p(ft,v,v,K,We,this._contextKeyService);return this._actions[u]=Jt,je.add((0,Ye.OF)(()=>{delete this._actions[u]})),je}_triggerCommand(l,u){if(this._codeEditorService instanceof Dr)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(l,u)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(l,u)}};ju=Zg([po(2,Xo.TG),po(3,Ne.$),po(4,qo.Hy),po(5,mo.i6),po(6,ss.d),po(7,si.XE),po(8,Vr.lT),po(9,Zn.F),po(10,mt.c_),po(11,Di.p)],ju);let kc=class extends ju{constructor(l,u,v,K,J,se,me,xe,We,je,ft,Jt,gn,Yn,vi){const Ci=Object.assign({},u);al(je,Ci,!1);const to=xe.registerEditorContainer(l);"string"==typeof Ci.theme&&xe.setTheme(Ci.theme),void 0!==Ci.autoDetectHighContrast&&xe.setAutoDetectHighContrast(Boolean(Ci.autoDetectHighContrast));const io=Ci.model;let Vi;if(delete Ci.model,super(l,Ci,v,K,J,se,me,xe,We,ft,Yn,vi),this._configurationService=je,this._standaloneThemeService=xe,this._register(to),void 0===io){const Zi=gn.getLanguageIdByMimeType(Ci.language)||Ci.language||Qe.bd;Vi=Tc(Jt,gn,Ci.value||"",Zi,void 0),this._ownsModel=!0}else Vi=io,this._ownsModel=!1;this._attachModel(Vi),Vi&&this._onDidChangeModel.fire({oldModelUrl:null,newModelUrl:Vi.uri})}dispose(){super.dispose()}updateOptions(l){al(this._configurationService,l,!1),"string"==typeof l.theme&&this._standaloneThemeService.setTheme(l.theme),void 0!==l.autoDetectHighContrast&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(l.autoDetectHighContrast)),super.updateOptions(l)}_postDetachModelCleanup(l){super._postDetachModelCleanup(l),l&&this._ownsModel&&(l.dispose(),this._ownsModel=!1)}};kc=Zg([po(2,Xo.TG),po(3,Ne.$),po(4,qo.Hy),po(5,mo.i6),po(6,ss.d),po(7,Tr.Z),po(8,Vr.lT),po(9,cs.Ui),po(10,Zn.F),po(11,Wt.q),po(12,Bt.O),po(13,mt.c_),po(14,Di.p)],kc);let gf=class extends Tn.p{constructor(l,u,v,K,J,se,me,xe,We,je,ft,Jt){const gn=Object.assign({},u);al(We,gn,!0);const Yn=me.registerEditorContainer(l);"string"==typeof gn.theme&&me.setTheme(gn.theme),void 0!==gn.autoDetectHighContrast&&me.setAutoDetectHighContrast(Boolean(gn.autoDetectHighContrast)),super(l,gn,{},Jt,J,K,v,se,me,xe,je,ft),this._configurationService=We,this._standaloneThemeService=me,this._register(Yn)}dispose(){super.dispose()}updateOptions(l){al(this._configurationService,l,!0),"string"==typeof l.theme&&this._standaloneThemeService.setTheme(l.theme),void 0!==l.autoDetectHighContrast&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(l.autoDetectHighContrast)),super.updateOptions(l)}_createInnerEditor(l,u,v){return l.createInstance(ju,u,v)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(l,u,v){return this.getModifiedEditor().addCommand(l,u,v)}createContextKey(l,u){return this.getModifiedEditor().createContextKey(l,u)}addAction(l){return this.getModifiedEditor().addAction(l)}};function Tc(w,l,u,v,K){if(u=u||"",!v){const J=u.indexOf("\n");let se=u;return-1!==J&&(se=u.substring(0,J)),Pc(w,u,l.createByFilepathOrFirstLine(K||null,se),K)}return Pc(w,u,l.createById(v),K)}function Pc(w,l,u,v){return w.createModel(l,u,v)}function kd(w,l){return"boolean"==typeof w?w:l}function tm(w,l){return"string"==typeof w?w:l}function c0(w,l=!1){l&&(w=w.map(function(v){return v.toLowerCase()}));const u=function(w){const l={};for(const u of w)l[u]=!0;return l}(w);return l?function(v){return void 0!==u[v.toLowerCase()]&&u.hasOwnProperty(v.toLowerCase())}:function(v){return void 0!==u[v]&&u.hasOwnProperty(v)}}function nm(w,l){l=l.replace(/@@/g,"\x01");let v,u=0;do{v=!1,l=l.replace(/@(\w+)/g,function(J,se){v=!0;let me="";if("string"==typeof w[se])me=w[se];else{if(!(w[se]&&w[se]instanceof RegExp))throw zi(w,void 0===w[se]?"language definition does not contain attribute '"+se+"', used at: "+l:"attribute reference '"+se+"' must be a string, used at: "+l);me=w[se].source}return Eo(me)?"":"(?:"+me+")"}),u++}while(v&&u<5);return l=l.replace(/\x01/g,"@"),new RegExp(l,(w.ignoreCase?"i":"")+(w.unicode?"u":""))}function R1(w,l,u,v){let K=-1,J=u,se=u.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);se&&(se[3]&&(K=parseInt(se[3]),se[2]&&(K+=100)),J=se[4]);let We,me="~",xe=J;if(J&&0!==J.length?/^\w*$/.test(xe)?me="==":(se=J.match(/^(@|!@|~|!~|==|!=)(.*)$/),se&&(me=se[1],xe=se[2])):(me="!=",xe=""),"~"!==me&&"!~"!==me||!/^(\w|\|)*$/.test(xe))if("@"===me||"!@"===me){const je=w[xe];if(!je)throw zi(w,"the @ match target '"+xe+"' is not defined, in rule: "+l);if(!function(w,l){if(!l||!Array.isArray(l))return!1;for(const u of l)if("string"!=typeof u)return!1;return!0}(0,je))throw zi(w,"the @ match target '"+xe+"' must be an array of strings, in rule: "+l);const ft=c0(je,w.ignoreCase);We=function(Jt){return"@"===me?ft(Jt):!ft(Jt)}}else if("~"===me||"!~"===me)if(xe.indexOf("$")<0){const je=nm(w,"^"+xe+"$");We=function(ft){return"~"===me?je.test(ft):!je.test(ft)}}else We=function(je,ft,Jt,gn){return nm(w,"^"+So(w,xe,ft,Jt,gn)+"$").test(je)};else if(xe.indexOf("$")<0){const je=xs(w,xe);We=function(ft){return"=="===me?ft===je:ft!==je}}else{const je=xs(w,xe);We=function(ft,Jt,gn,Yn,vi){const Ci=So(w,je,Jt,gn,Yn);return"=="===me?ft===Ci:ft!==Ci}}else{const je=c0(xe.split("|"),w.ignoreCase);We=function(ft){return"~"===me?je(ft):!je(ft)}}return-1===K?{name:u,value:v,test:function(je,ft,Jt,gn){return We(je,je,ft,Jt,gn)}}:{name:u,value:v,test:function(je,ft,Jt,gn){const Yn=function(w,l,u,v){if(v<0)return w;if(v<l.length)return l[v];if(v>=100){v-=100;const K=u.split(".");if(K.unshift(u),v<K.length)return K[v]}return null}(je,ft,Jt,K);return We(Yn||"",je,ft,Jt,gn)}}}function Td(w,l,u){if(u){if("string"==typeof u)return u;if(u.token||""===u.token){if("string"!=typeof u.token)throw zi(w,"a 'token' attribute must be of type string, in rule: "+l);{const v={token:u.token};if(u.token.indexOf("$")>=0&&(v.tokenSubst=!0),"string"==typeof u.bracket)if("@open"===u.bracket)v.bracket=1;else{if("@close"!==u.bracket)throw zi(w,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+l);v.bracket=-1}if(u.next){if("string"!=typeof u.next)throw zi(w,"the next state must be a string value in rule: "+l);{let K=u.next;if(!/^(@pop|@push|@popall)$/.test(K)&&("@"===K[0]&&(K=K.substr(1)),K.indexOf("$")<0&&!function(w,l){let u=l;for(;u&&u.length>0;){if(w.stateNames[u])return!0;const K=u.lastIndexOf(".");u=K<0?null:u.substr(0,K)}return!1}(w,So(w,K,"",[],""))))throw zi(w,"the next state '"+u.next+"' is not defined in rule: "+l);v.next=K}}return"number"==typeof u.goBack&&(v.goBack=u.goBack),"string"==typeof u.switchTo&&(v.switchTo=u.switchTo),"string"==typeof u.log&&(v.log=u.log),"string"==typeof u.nextEmbedded&&(v.nextEmbedded=u.nextEmbedded,w.usesEmbedded=!0),v}}if(Array.isArray(u)){const v=[];for(let K=0,J=u.length;K<J;K++)v[K]=Td(w,l,u[K]);return{group:v}}if(u.cases){const v=[];for(let J in u.cases)if(u.cases.hasOwnProperty(J)){const se=Td(w,l,u.cases[J]);v.push("@default"===J||"@"===J||""===J?{test:void 0,value:se,name:J}:"@eos"===J?{test:function(me,xe,We,je){return je},value:se,name:J}:R1(w,l,J,se))}const K=w.defaultToken;return{test:function(J,se,me,xe){for(const We of v)if(!We.test||We.test(J,se,me,xe))return We.value;return K}}}throw zi(w,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+l)}return{token:""}}gf=Zg([po(2,Xo.TG),po(3,mo.i6),po(4,li.p),po(5,Ne.$),po(6,Tr.Z),po(7,Vr.lT),po(8,cs.Ui),po(9,An.i),po(10,lo.ek),po(11,Hp.p)],gf);class F1{constructor(l){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=l}setRegex(l,u){let v;if("string"==typeof u)v=u;else{if(!(u instanceof RegExp))throw zi(l,"rules must start with a match string or regular expression: "+this.name);v=u.source}this.matchOnlyAtLineStart=v.length>0&&"^"===v[0],this.name=this.name+": "+v,this.regex=nm(l,"^(?:"+(this.matchOnlyAtLineStart?v.substr(1):v)+")")}setAction(l,u){this.action=Td(l,this.name,u)}}function d0(w,l){if(!l||"object"!=typeof l)throw new Error("Monarch: expecting a language definition object");const u={};u.languageId=w,u.includeLF=kd(l.includeLF,!1),u.noThrow=!1,u.maxStack=100,u.start="string"==typeof l.start?l.start:null,u.ignoreCase=kd(l.ignoreCase,!1),u.unicode=kd(l.unicode,!1),u.tokenPostfix=tm(l.tokenPostfix,"."+u.languageId),u.defaultToken=tm(l.defaultToken,"source"),u.usesEmbedded=!1;const v=l;function K(se,me,xe){for(const We of xe){let je=We.include;if(je){if("string"!=typeof je)throw zi(u,"an 'include' attribute must be a string at: "+se);if("@"===je[0]&&(je=je.substr(1)),!l.tokenizer[je])throw zi(u,"include target '"+je+"' is not defined at: "+se);K(se+"."+je,me,l.tokenizer[je])}else{const ft=new F1(se);if(Array.isArray(We)&&We.length>=1&&We.length<=3)if(ft.setRegex(v,We[0]),We.length>=3)if("string"==typeof We[1])ft.setAction(v,{token:We[1],next:We[2]});else{if("object"!=typeof We[1])throw zi(u,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+se);{const Jt=We[1];Jt.next=We[2],ft.setAction(v,Jt)}}else ft.setAction(v,We[1]);else{if(!We.regex)throw zi(u,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+se);We.name&&"string"==typeof We.name&&(ft.name=We.name),We.matchOnlyAtStart&&(ft.matchOnlyAtLineStart=kd(We.matchOnlyAtLineStart,!1)),ft.setRegex(v,We.regex),ft.setAction(v,We.action)}me.push(ft)}}}if(v.languageId=w,v.includeLF=u.includeLF,v.ignoreCase=u.ignoreCase,v.unicode=u.unicode,v.noThrow=u.noThrow,v.usesEmbedded=u.usesEmbedded,v.stateNames=l.tokenizer,v.defaultToken=u.defaultToken,!l.tokenizer||"object"!=typeof l.tokenizer)throw zi(u,"a language definition must define the 'tokenizer' attribute as an object");u.tokenizer=[];for(let se in l.tokenizer)if(l.tokenizer.hasOwnProperty(se)){u.start||(u.start=se);const me=l.tokenizer[se];u.tokenizer[se]=new Array,K("tokenizer."+se,u.tokenizer[se],me)}if(u.usesEmbedded=v.usesEmbedded,l.brackets){if(!Array.isArray(l.brackets))throw zi(u,"the 'brackets' attribute must be defined as an array")}else l.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const J=[];for(let se of l.brackets){let me=se;if(me&&Array.isArray(me)&&3===me.length&&(me={token:me[2],open:me[0],close:me[1]}),me.open===me.close)throw zi(u,"open and close brackets in a 'brackets' attribute must be different: "+me.open+"\n hint: use the 'bracket' attribute if matching on equal brackets is required.");if("string"!=typeof me.open||"string"!=typeof me.token||"string"!=typeof me.close)throw zi(u,"every element in the 'brackets' array must be a '{open,close,token}' object or array");J.push({token:me.token+u.tokenPostfix,open:xs(u,me.open),close:xs(u,me.close)})}return u.brackets=J,u.noThrow=!0,u}class u0{constructor(l,u){this._languageId=l,this._actual=u}getInitialState(){return this._actual.getInitialState()}tokenize(l,u,v){if("function"==typeof this._actual.tokenize)return jr.adaptTokenize(this._languageId,this._actual,l,v);throw new Error("Not supported!")}tokenizeEncoded(l,u,v){const K=this._actual.tokenizeEncoded(l,v);return new T.DI(K.tokens,K.endState)}}class jr{constructor(l,u,v,K){this._languageId=l,this._actual=u,this._languageService=v,this._standaloneThemeService=K}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(l,u){const v=[];let K=0;for(let J=0,se=l.length;J<se;J++){const me=l[J];let xe=me.startIndex;0===J?xe=0:xe<K&&(xe=K),v[J]=new T.WU(xe,me.scopes,u),K=xe}return v}static adaptTokenize(l,u,v,K){const J=u.tokenize(v,K),se=jr._toClassicTokens(J.tokens,l);let me;return me=J.endState.equals(K)?K:J.endState,new T.hG(se,me)}tokenize(l,u,v){return jr.adaptTokenize(this._languageId,this._actual,l,v)}_toBinaryTokens(l,u){const v=l.encodeLanguageId(this._languageId),K=this._standaloneThemeService.getColorTheme().tokenTheme,J=[];let se=0,me=0;for(let We=0,je=u.length;We<je;We++){const ft=u[We],Jt=K.match(v,ft.scopes);if(se>0&&J[se-1]===Jt)continue;let gn=ft.startIndex;0===We?gn=0:gn<me&&(gn=me),J[se++]=gn,J[se++]=Jt,me=gn}const xe=new Uint32Array(se);for(let We=0;We<se;We++)xe[We]=J[We];return xe}tokenizeEncoded(l,u,v){const K=this._actual.tokenize(l,v),J=this._toBinaryTokens(this._languageService.languageIdCodec,K.tokens);let se;return se=K.endState.equals(v)?v:K.endState,new T.DI(J,se)}}function Qs(w){return w&&"function"==typeof w.then}function hs(w,l){return function(w){return"tokenizeEncoded"in w}(l)?new u0(w,l):new jr(w,l,ui.get(Bt.O),ui.get(Tr.Z))}function im(w,l){return T.RW.registerFactory(w,{createTokenizationSupport:()=>function(w,l,u,v){return new(u||(u=Promise))(function(J,se){function me(je){try{We(v.next(je))}catch(ft){se(ft)}}function xe(je){try{We(v.throw(je))}catch(ft){se(ft)}}function We(je){je.done?J(je.value):function(J){return J instanceof u?J:new u(function(se){se(J)})}(je.value).then(me,xe)}We((v=v.apply(w,l||[])).next())})}(this,void 0,void 0,function*(){const v=yield Promise.resolve(l.create());return v?function(w){return"function"==typeof w.getInitialState}(v)?hs(w,v):new Ce(ui.get(Bt.O),ui.get(Tr.Z),w,d0(w,v)):null})})}var Fd,y0=m(86349);M.BH.wrappingIndent.defaultValue=0,M.BH.glyphMargin.defaultValue=!1,M.BH.autoIndent.defaultValue=3,M.BH.overviewRulerLanes.defaultValue=2,y0.xC.setFormatterSelector((w,l,u)=>Promise.resolve(w[0]));const Fs=rt();Fs.editor={create:function(w,l,u){return ui.initialize(u||{}).createInstance(kc,w,l)},onDidCreateEditor:function(w){return ui.get(Ne.$).onCodeEditorAdd(u=>{w(u)})},createDiffEditor:function(w,l,u){return ui.initialize(u||{}).createInstance(gf,w,l)},createDiffNavigator:function(w,l){return new at.F(w,l)},createModel:function(w,l,u){const v=ui.get(Bt.O),K=v.getLanguageIdByMimeType(l)||l;return Tc(ui.get(Wt.q),v,w,K,u)},setModelLanguage:function(w,l){const u=ui.get(Bt.O);ui.get(Wt.q).setMode(w,u.createById(l))},setModelMarkers:function(w,l,u){w&&ui.get(Fn.lT).changeOne(l,w.uri,u)},getModelMarkers:function(w){return ui.get(Fn.lT).read(w)},onDidChangeMarkers:function(w){return ui.get(Fn.lT).onMarkerChanged(w)},getModels:function(){return ui.get(Wt.q).getModels()},getModel:function(w){return ui.get(Wt.q).getModel(w)},onDidCreateModel:function(w){return ui.get(Wt.q).onModelAdded(w)},onWillDisposeModel:function(w){return ui.get(Wt.q).onModelRemoved(w)},onDidChangeModelLanguage:function(w){return ui.get(Wt.q).onModelLanguageChanged(u=>{w({model:u.model,oldLanguage:u.oldLanguageId})})},createWebWorker:function(w){return function(w,l,u){return new dr(w,l,u)}(ui.get(Wt.q),ui.get(mt.c_),w)},colorizeElement:function(w,l){const u=ui.get(Bt.O),v=ui.get(Tr.Z);return v.registerEditorContainer(w),it.colorizeElement(v,u,w,l)},colorize:function(w,l,u){const v=ui.get(Bt.O);return ui.get(Tr.Z).registerEditorContainer(document.body),it.colorize(v,w,l,u)},colorizeModelLine:function(w,l,u=4){return ui.get(Tr.Z).registerEditorContainer(document.body),it.colorizeModelLine(w,l,u)},tokenize:function(w,l){T.RW.getOrCreate(l);const u=function(w){return T.RW.get(w)||{getInitialState:()=>Rt.TJ,tokenize:(u,v,K)=>(0,Rt.Ri)(w,K)}}(l),v=(0,nt.uq)(w),K=[];let J=u.getInitialState();for(let se=0,me=v.length;se<me;se++){const We=u.tokenize(v[se],!0,J);K[se]=We.tokens,J=We.endState}return K},defineTheme:function(w,l){ui.get(Tr.Z).defineTheme(w,l)},setTheme:function(w){ui.get(Tr.Z).setTheme(w)},remeasureFonts:function(){Se.g.clearAllFontInfos()},registerCommand:function(w,l){return qo.P0.registerCommand({id:w,handler:l})},AccessibilitySupport:S,ContentWidgetPositionPreference:N,CursorChangeReason:z,DefaultEndOfLine:D,EditorAutoIndentStrategy:Z,EditorOption:P,EndOfLinePreference:k,EndOfLineSequence:$,MinimapPosition:ge,MouseTargetType:Q,OverlayWidgetPositionPreference:q,OverviewRulerLane:le,RenderLineNumbersType:X,RenderMinimap:re,ScrollbarVisibility:ve,ScrollType:ce,TextEditorCursorBlinkingStyle:_e,TextEditorCursorStyle:Re,TrackedRangeStickiness:et,WrappingIndent:Ze,InjectedTextCursorStops:G,PositionAffinity:ee,ConfigurationChangedEvent:M.Bb,BareFontInfo:_t.E4,FontInfo:_t.pR,TextModelResolvedOptions:pn.dJ,FindMatch:pn.tk,ApplyUpdateResult:M.rk,EditorType:zt.g,EditorOptions:M.BH},Fs.languages={register:function(w){Qe.dQ.registerLanguage(w)},getLanguages:function(){let w=[];return w=w.concat(Qe.dQ.getLanguages()),w},onLanguage:function(w,l){const v=ui.get(Bt.O).onDidEncounterLanguage(K=>{K===w&&(v.dispose(),l())});return v},getEncodedLanguageId:function(w){return ui.get(Bt.O).languageIdCodec.encodeLanguageId(w)},setLanguageConfiguration:function(w,l){if(!ui.get(Bt.O).isRegisteredLanguageId(w))throw new Error(`Cannot set configuration for unknown language ${w}`);return mt.zu.register(w,l,100)},setColorMap:function(w){const l=ui.get(Tr.Z);if(w){const u=[null];for(let v=1,K=w.length;v<K;v++)u[v]=jn.Il.fromHex(w[v]);l.setColorMapOverride(u)}else l.setColorMapOverride(null)},registerTokensProviderFactory:im,setTokensProvider:function(w,l){if(!ui.get(Bt.O).isRegisteredLanguageId(w))throw new Error(`Cannot set tokens provider for unknown language ${w}`);return Qs(l)?im(w,{create:()=>l}):T.RW.register(w,hs(w,l))},setMonarchTokensProvider:function(w,l){return Qs(l)?im(w,{create:()=>l}):T.RW.register(w,(v=l,new Ce(ui.get(Bt.O),ui.get(Tr.Z),w,d0(w,v))));var v},registerReferenceProvider:function(w,l){return ui.get(Di.p).referenceProvider.register(w,l)},registerRenameProvider:function(w,l){return ui.get(Di.p).renameProvider.register(w,l)},registerCompletionItemProvider:function(w,l){return ui.get(Di.p).completionProvider.register(w,l)},registerSignatureHelpProvider:function(w,l){return ui.get(Di.p).signatureHelpProvider.register(w,l)},registerHoverProvider:function(w,l){return ui.get(Di.p).hoverProvider.register(w,{provideHover:(v,K,J)=>{const se=v.getWordAtPosition(K);return Promise.resolve(l.provideHover(v,K,J)).then(me=>{if(me)return!me.range&&se&&(me.range=new O.e(K.lineNumber,se.startColumn,K.lineNumber,se.endColumn)),me.range||(me.range=new O.e(K.lineNumber,K.column,K.lineNumber,K.column)),me})}})},registerDocumentSymbolProvider:function(w,l){return ui.get(Di.p).documentSymbolProvider.register(w,l)},registerDocumentHighlightProvider:function(w,l){return ui.get(Di.p).documentHighlightProvider.register(w,l)},registerLinkedEditingRangeProvider:function(w,l){return ui.get(Di.p).linkedEditingRangeProvider.register(w,l)},registerDefinitionProvider:function(w,l){return ui.get(Di.p).definitionProvider.register(w,l)},registerImplementationProvider:function(w,l){return ui.get(Di.p).implementationProvider.register(w,l)},registerTypeDefinitionProvider:function(w,l){return ui.get(Di.p).typeDefinitionProvider.register(w,l)},registerCodeLensProvider:function(w,l){return ui.get(Di.p).codeLensProvider.register(w,l)},registerCodeActionProvider:function(w,l,u){return ui.get(Di.p).codeActionProvider.register(w,{providedCodeActionKinds:null==u?void 0:u.providedCodeActionKinds,provideCodeActions:(K,J,se,me)=>{const We=ui.get(Fn.lT).read({resource:K.uri}).filter(je=>O.e.areIntersectingOrTouching(je,J));return l.provideCodeActions(K,J,{markers:We,only:se.only},me)},resolveCodeAction:l.resolveCodeAction})},registerDocumentFormattingEditProvider:function(w,l){return ui.get(Di.p).documentFormattingEditProvider.register(w,l)},registerDocumentRangeFormattingEditProvider:function(w,l){return ui.get(Di.p).documentRangeFormattingEditProvider.register(w,l)},registerOnTypeFormattingEditProvider:function(w,l){return ui.get(Di.p).onTypeFormattingEditProvider.register(w,l)},registerLinkProvider:function(w,l){return ui.get(Di.p).linkProvider.register(w,l)},registerColorProvider:function(w,l){return ui.get(Di.p).colorProvider.register(w,l)},registerFoldingRangeProvider:function(w,l){return ui.get(Di.p).foldingRangeProvider.register(w,l)},registerDeclarationProvider:function(w,l){return ui.get(Di.p).declarationProvider.register(w,l)},registerSelectionRangeProvider:function(w,l){return ui.get(Di.p).selectionRangeProvider.register(w,l)},registerDocumentSemanticTokensProvider:function(w,l){return ui.get(Di.p).documentSemanticTokensProvider.register(w,l)},registerDocumentRangeSemanticTokensProvider:function(w,l){return ui.get(Di.p).documentRangeSemanticTokensProvider.register(w,l)},registerInlineCompletionsProvider:function(w,l){return ui.get(Di.p).inlineCompletionsProvider.register(w,l)},registerInlayHintsProvider:function(w,l){return ui.get(Di.p).inlayHintsProvider.register(w,l)},DocumentHighlightKind:I,CompletionItemKind:b,CompletionItemTag:L,CompletionItemInsertTextRule:C,SymbolKind:Ue,SymbolTag:ue,IndentAction:j,CompletionTriggerKind:f,SignatureHelpTriggerKind:Ve,InlayHintKind:oe,InlineCompletionTriggerKind:de,FoldingRangeKind:T.AD};const Ac=Fs.CancellationTokenSource,dm=Fs.Emitter,Kl=Fs.KeyCode,ll=Fs.KeyMod,$l=Fs.Position,um=Fs.Range,Bd=Fs.Selection,xf=Fs.SelectionDirection,Qu=Fs.MarkerSeverity,Lf=Fs.MarkerTag,Df=Fs.Uri,hm=Fs.Token,Wd=Fs.editor,Ef=Fs.languages;((null===(Fd=St.li.MonacoEnvironment)||void 0===Fd?void 0:Fd.globalAPI)||"function"==typeof define&&m.amdO)&&(self.monaco=Fs),void 0!==self.require&&"function"==typeof self.require.config&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})},92094:(Be,Me,m)=>{m.d(Me,{Z:()=>g});const g=(0,m(43569).yh)("themeService")},99174:(Be,Me,m)=>{m.d(Me,{TG:()=>z});var M=m(70031),g=Object.defineProperty,Y=Object.getOwnPropertyDescriptor,B=Object.getOwnPropertyNames,E=Object.prototype.hasOwnProperty,F={};((k,$,j,G)=>{if($&&"object"==typeof $||"function"==typeof $)for(let oe of B($))!E.call(k,oe)&&"default"!==oe&&g(k,oe,{get:()=>$[oe],enumerable:!(G=Y($,oe))||G.enumerable})})(F,M);var T=(k=>(k[k.None=0]="None",k[k.CommonJS=1]="CommonJS",k[k.AMD=2]="AMD",k[k.UMD=3]="UMD",k[k.System=4]="System",k[k.ES2015=5]="ES2015",k[k.ESNext=99]="ESNext",k))(T||{}),S=(k=>(k[k.None=0]="None",k[k.Preserve=1]="Preserve",k[k.React=2]="React",k[k.ReactNative=3]="ReactNative",k[k.ReactJSX=4]="ReactJSX",k[k.ReactJSXDev=5]="ReactJSXDev",k))(S||{}),C=(k=>(k[k.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",k[k.LineFeed=1]="LineFeed",k))(C||{}),b=(k=>(k[k.ES3=0]="ES3",k[k.ES5=1]="ES5",k[k.ES2015=2]="ES2015",k[k.ES2016=3]="ES2016",k[k.ES2017=4]="ES2017",k[k.ES2018=5]="ES2018",k[k.ES2019=6]="ES2019",k[k.ES2020=7]="ES2020",k[k.ESNext=99]="ESNext",k[k.JSON=100]="JSON",k[k.Latest=99]="Latest",k))(b||{}),L=(k=>(k[k.Classic=1]="Classic",k[k.NodeJs=2]="NodeJs",k))(L||{}),f=class{constructor(k,$,j,G){Uo(this,"_onDidChange",new F.Emitter),Uo(this,"_onDidExtraLibsChange",new F.Emitter),Uo(this,"_extraLibs"),Uo(this,"_removedExtraLibs"),Uo(this,"_eagerModelSync"),Uo(this,"_compilerOptions"),Uo(this,"_diagnosticsOptions"),Uo(this,"_workerOptions"),Uo(this,"_onDidExtraLibsChangeTimeout"),Uo(this,"_inlayHintsOptions"),this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(k),this.setDiagnosticsOptions($),this.setWorkerOptions(j),this.setInlayHintsOptions(G),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(k,$){let j;if(j=void 0===$?`ts:extralib-${Math.random().toString(36).substring(2,15)}`:$,this._extraLibs[j]&&this._extraLibs[j].content===k)return{dispose:()=>{}};let G=1;return this._removedExtraLibs[j]&&(G=this._removedExtraLibs[j]+1),this._extraLibs[j]&&(G=this._extraLibs[j].version+1),this._extraLibs[j]={content:k,version:G},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let oe=this._extraLibs[j];!oe||oe.version===G&&(delete this._extraLibs[j],this._removedExtraLibs[j]=G,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(k){for(const $ in this._extraLibs)this._removedExtraLibs[$]=this._extraLibs[$].version;if(this._extraLibs=Object.create(null),k&&k.length>0)for(const $ of k){const j=$.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`;let oe=1;this._removedExtraLibs[j]&&(oe=this._removedExtraLibs[j]+1),this._extraLibs[j]={content:$.content,version:oe}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){-1===this._onDidExtraLibsChangeTimeout&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(k){this._compilerOptions=k||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(k){this._diagnosticsOptions=k||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(k){this._workerOptions=k||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(k){this._inlayHintsOptions=k||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(k){}setEagerModelSync(k){this._eagerModelSync=k}getEagerModelSync(){return this._eagerModelSync}},z=new f({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{}),D=new f({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{});function P(){return m.e(8695).then(m.bind(m,48695))}F.languages.typescript={ModuleKind:T,JsxEmit:S,NewLineKind:C,ScriptTarget:b,ModuleResolutionKind:L,typescriptVersion:"4.5.5",typescriptDefaults:z,javascriptDefaults:D,getTypeScriptWorker:()=>P().then(k=>k.getTypeScriptWorker()),getJavaScriptWorker:()=>P().then(k=>k.getJavaScriptWorker())},F.languages.onLanguage("typescript",()=>P().then(k=>k.setupTypeScript(z))),F.languages.onLanguage("javascript",()=>P().then(k=>k.setupJavaScript(D)))},12918:(Be,Me,m)=>{function g(Y,B,...E){return function(Y,B){let E;return E=0===B.length?Y:Y.replace(/\{(\d+)\}/g,function(i,O){const F=O[0];return void 0!==B[F]?B[F]:i}),E}(B,E)}m.d(Me,{N:()=>g})},13976:(Be,Me,m)=>{m.d(Me,{F:()=>Y,U:()=>B});var M=m(6461);const Y=(0,m(43569).yh)("accessibilityService"),B=new M.uy("accessibilityModeEnabled",!1)},46842:(Be,Me,m)=>{m.d(Me,{vr:()=>L,eH:()=>f,co:()=>N,BH:()=>z,NZ:()=>D,U8:()=>I});var M=m(50955),g=m(78968),Y=m(71040),B=m(58151),E=m(40189),i=m(62253),O=m(10467),F=m(6461),T=m(43569),S=m(53323),b=function(Z,P){return function(k,$){P(k,$,Z)}};function L(Z){return void 0!==Z.command}class f{constructor(P){this.id=f._idPool++,this._debugName=P}}f._idPool=0,f.CommandPalette=new f("CommandPalette"),f.DebugBreakpointsContext=new f("DebugBreakpointsContext"),f.DebugCallStackContext=new f("DebugCallStackContext"),f.DebugConsoleContext=new f("DebugConsoleContext"),f.DebugVariablesContext=new f("DebugVariablesContext"),f.DebugWatchContext=new f("DebugWatchContext"),f.DebugToolBar=new f("DebugToolBar"),f.EditorContext=new f("EditorContext"),f.SimpleEditorContext=new f("SimpleEditorContext"),f.EditorContextCopy=new f("EditorContextCopy"),f.EditorContextPeek=new f("EditorContextPeek"),f.EditorTitle=new f("EditorTitle"),f.EditorTitleRun=new f("EditorTitleRun"),f.EditorTitleContext=new f("EditorTitleContext"),f.EmptyEditorGroup=new f("EmptyEditorGroup"),f.EmptyEditorGroupContext=new f("EmptyEditorGroupContext"),f.ExplorerContext=new f("ExplorerContext"),f.ExtensionContext=new f("ExtensionContext"),f.GlobalActivity=new f("GlobalActivity"),f.LayoutControlMenuSubmenu=new f("LayoutControlMenuSubmenu"),f.LayoutControlMenu=new f("LayoutControlMenu"),f.MenubarMainMenu=new f("MenubarMainMenu"),f.MenubarAppearanceMenu=new f("MenubarAppearanceMenu"),f.MenubarDebugMenu=new f("MenubarDebugMenu"),f.MenubarEditMenu=new f("MenubarEditMenu"),f.MenubarCopy=new f("MenubarCopy"),f.MenubarFileMenu=new f("MenubarFileMenu"),f.MenubarGoMenu=new f("MenubarGoMenu"),f.MenubarHelpMenu=new f("MenubarHelpMenu"),f.MenubarLayoutMenu=new f("MenubarLayoutMenu"),f.MenubarNewBreakpointMenu=new f("MenubarNewBreakpointMenu"),f.MenubarPanelAlignmentMenu=new f("MenubarPanelAlignmentMenu"),f.MenubarPanelPositionMenu=new f("MenubarPanelPositionMenu"),f.MenubarPreferencesMenu=new f("MenubarPreferencesMenu"),f.MenubarRecentMenu=new f("MenubarRecentMenu"),f.MenubarSelectionMenu=new f("MenubarSelectionMenu"),f.MenubarSwitchEditorMenu=new f("MenubarSwitchEditorMenu"),f.MenubarSwitchGroupMenu=new f("MenubarSwitchGroupMenu"),f.MenubarTerminalMenu=new f("MenubarTerminalMenu"),f.MenubarViewMenu=new f("MenubarViewMenu"),f.MenubarHomeMenu=new f("MenubarHomeMenu"),f.OpenEditorsContext=new f("OpenEditorsContext"),f.ProblemsPanelContext=new f("ProblemsPanelContext"),f.SCMChangeContext=new f("SCMChangeContext"),f.SCMResourceContext=new f("SCMResourceContext"),f.SCMResourceFolderContext=new f("SCMResourceFolderContext"),f.SCMResourceGroupContext=new f("SCMResourceGroupContext"),f.SCMSourceControl=new f("SCMSourceControl"),f.SCMTitle=new f("SCMTitle"),f.SearchContext=new f("SearchContext"),f.StatusBarWindowIndicatorMenu=new f("StatusBarWindowIndicatorMenu"),f.StatusBarRemoteIndicatorMenu=new f("StatusBarRemoteIndicatorMenu"),f.TestItem=new f("TestItem"),f.TestItemGutter=new f("TestItemGutter"),f.TestPeekElement=new f("TestPeekElement"),f.TestPeekTitle=new f("TestPeekTitle"),f.TouchBarContext=new f("TouchBarContext"),f.TitleBarContext=new f("TitleBarContext"),f.TunnelContext=new f("TunnelContext"),f.TunnelPrivacy=new f("TunnelPrivacy"),f.TunnelProtocol=new f("TunnelProtocol"),f.TunnelPortInline=new f("TunnelInline"),f.TunnelTitle=new f("TunnelTitle"),f.TunnelLocalAddressInline=new f("TunnelLocalAddressInline"),f.TunnelOriginInline=new f("TunnelOriginInline"),f.ViewItemContext=new f("ViewItemContext"),f.ViewContainerTitle=new f("ViewContainerTitle"),f.ViewContainerTitleContext=new f("ViewContainerTitleContext"),f.ViewTitle=new f("ViewTitle"),f.ViewTitleContext=new f("ViewTitleContext"),f.CommentThreadTitle=new f("CommentThreadTitle"),f.CommentThreadActions=new f("CommentThreadActions"),f.CommentTitle=new f("CommentTitle"),f.CommentActions=new f("CommentActions"),f.InteractiveToolbar=new f("InteractiveToolbar"),f.InteractiveCellTitle=new f("InteractiveCellTitle"),f.InteractiveCellExecute=new f("InteractiveCellExecute"),f.InteractiveInputExecute=new f("InteractiveInputExecute"),f.NotebookToolbar=new f("NotebookToolbar"),f.NotebookCellTitle=new f("NotebookCellTitle"),f.NotebookCellInsert=new f("NotebookCellInsert"),f.NotebookCellBetween=new f("NotebookCellBetween"),f.NotebookCellListTop=new f("NotebookCellTop"),f.NotebookCellExecute=new f("NotebookCellExecute"),f.NotebookCellExecutePrimary=new f("NotebookCellExecutePrimary"),f.NotebookDiffCellInputTitle=new f("NotebookDiffCellInputTitle"),f.NotebookDiffCellMetadataTitle=new f("NotebookDiffCellMetadataTitle"),f.NotebookDiffCellOutputsTitle=new f("NotebookDiffCellOutputsTitle"),f.NotebookOutputToolbar=new f("NotebookOutputToolbar"),f.NotebookEditorLayoutConfigure=new f("NotebookEditorLayoutConfigure"),f.BulkEditTitle=new f("BulkEditTitle"),f.BulkEditContext=new f("BulkEditContext"),f.TimelineItemContext=new f("TimelineItemContext"),f.TimelineTitle=new f("TimelineTitle"),f.TimelineTitleContext=new f("TimelineTitleContext"),f.AccountsContext=new f("AccountsContext"),f.PanelTitle=new f("PanelTitle"),f.AuxiliaryBarTitle=new f("AuxiliaryBarTitle"),f.TerminalInstanceContext=new f("TerminalInstanceContext"),f.TerminalEditorInstanceContext=new f("TerminalEditorInstanceContext"),f.TerminalNewDropdownContext=new f("TerminalNewDropdownContext"),f.TerminalTabContext=new f("TerminalTabContext"),f.TerminalTabEmptyAreaContext=new f("TerminalTabEmptyAreaContext"),f.TerminalInlineTabContext=new f("TerminalInlineTabContext"),f.WebviewContext=new f("WebviewContext"),f.InlineCompletionsActions=new f("InlineCompletionsActions"),f.NewFile=new f("NewFile");const N=(0,T.yh)("menuService"),z=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new Y.Q5,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:Z=>Z===f.CommandPalette}}addCommand(Z){return this.addCommands(B.$.single(Z))}addCommands(Z){for(const P of Z)this._commands.set(P.id,P);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),(0,E.OF)(()=>{let P=!1;for(const k of Z)P=this._commands.delete(k.id)||P;P&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(Z){return this._commands.get(Z)}getCommands(){const Z=new Map;return this._commands.forEach((P,k)=>Z.set(k,P)),Z}appendMenuItem(Z,P){return this.appendMenuItems(B.$.single({id:Z,item:P}))}appendMenuItems(Z){const P=new Set,k=new i.S;for(const{id:$,item:j}of Z){let G=this._menuItems.get($);G||(G=new i.S,this._menuItems.set($,G)),k.push(G.push(j)),P.add($)}return this._onDidChangeMenu.fire(P),(0,E.OF)(()=>{if(k.size>0){for(let $ of k)$();this._onDidChangeMenu.fire(P),k.clear()}})}getMenuItems(Z){let P;return P=this._menuItems.has(Z)?[...this._menuItems.get(Z)]:[],Z===f.CommandPalette&&this._appendImplicitItems(P),P}_appendImplicitItems(Z){const P=new Set;for(const k of Z)L(k)&&(P.add(k.command.id),k.alt&&P.add(k.alt.id));this._commands.forEach((k,$)=>{P.has($)||Z.push({command:k})})}};class D extends M.wY{constructor(P,k,$,j){super(`submenuitem.${P.submenu.id}`,"string"==typeof P.title?P.title:P.title.value,[],"submenu"),this.item=P,this._menuService=k,this._contextKeyService=$,this._options=j}get actions(){const P=[],k=this._menuService.createMenu(this.item.submenu,this._contextKeyService),$=k.getActions(this._options);k.dispose();for(const[,j]of $)j.length>0&&(P.push(...j),P.push(new M.Z0));return P.length&&P.pop(),P}}let I=class Gv{constructor(P,k,$,j,G){var oe,de;if(this._commandService=G,this.id=P.id,this.label=(null==$?void 0:$.renderShortTitle)&&P.shortTitle?"string"==typeof P.shortTitle?P.shortTitle:P.shortTitle.value:"string"==typeof P.title?P.title:P.title.value,this.tooltip=null!==(de="string"==typeof P.tooltip?P.tooltip:null===(oe=P.tooltip)||void 0===oe?void 0:oe.value)&&void 0!==de?de:"",this.enabled=!P.precondition||j.contextMatchesRules(P.precondition),this.checked=void 0,P.toggled){const fe=P.toggled.condition?P.toggled:{condition:P.toggled};this.checked=j.contextMatchesRules(fe.condition),this.checked&&fe.tooltip&&(this.tooltip="string"==typeof fe.tooltip?fe.tooltip:fe.tooltip.value),fe.title&&(this.label="string"==typeof fe.title?fe.title:fe.title.value)}this.item=P,this.alt=k?new Gv(k,void 0,$,j,G):void 0,this._options=$,S.kS.isThemeIcon(P.icon)&&(this.class=g.dT.asClassName(P.icon))}dispose(){}run(...P){var k,$;let j=[];return(null===(k=this._options)||void 0===k?void 0:k.arg)&&(j=[...j,this._options.arg]),(null===($=this._options)||void 0===$?void 0:$.shouldForwardArgs)&&(j=[...j,...P]),this._commandService.executeCommand(this.id,...j)}};I=function(Z,P,k,$){var oe,j=arguments.length,G=j<3?P:null===$?$=Object.getOwnPropertyDescriptor(P,k):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)G=Reflect.decorate(Z,P,k,$);else for(var de=Z.length-1;de>=0;de--)(oe=Z[de])&&(G=(j<3?oe(G):j>3?oe(P,k,G):oe(P,k))||G);return j>3&&G&&Object.defineProperty(P,k,G),G}([b(3,F.i6),b(4,O.Hy)],I)},37323:(Be,Me,m)=>{m.d(Me,{p:()=>g});const g=(0,m(43569).yh)("clipboardService")},10467:(Be,Me,m)=>{m.d(Me,{Hy:()=>O,P0:()=>F});var M=m(71040),g=m(58151),Y=m(40189),B=m(62253),E=m(99770);const O=(0,m(43569).yh)("commandService"),F=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new M.Q5,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(S,C){if(!S)throw new Error("invalid command");if("string"==typeof S){if(!C)throw new Error("invalid command");return this.registerCommand({id:S,handler:C})}if(S.description){const z=[];for(let I of S.description.args)z.push(I.constraint);const D=S.handler;S.handler=function(I,...Z){return(0,E.D8)(Z,z),D(I,...Z)}}const{id:b}=S;let L=this._commands.get(b);L||(L=new B.S,this._commands.set(b,L));let f=L.unshift(S),N=(0,Y.OF)(()=>{f();const z=this._commands.get(b);(null==z?void 0:z.isEmpty())&&this._commands.delete(b)});return this._onDidRegisterCommand.fire(b),N}registerCommandAlias(S,C){return F.registerCommand(S,(b,...L)=>b.get(O).executeCommand(C,...L))}getCommand(S){const C=this._commands.get(S);if(C&&!C.isEmpty())return g.$.first(C)}getCommands(){const S=new Map;for(const C of this._commands.keys()){const b=this.getCommand(C);b&&S.set(C,b)}return S}};F.registerCommand("noop",()=>{})},13011:(Be,Me,m)=>{m.d(Me,{Ui:()=>g,Od:()=>Y,KV:()=>B,xL:()=>E,Mt:()=>O});const g=(0,m(43569).yh)("configurationService");function Y(F,T){const S=Object.create(null);for(let C in F)B(S,C,F[C],T);return S}function B(F,T,S,C){const b=T.split("."),L=b.pop();let f=F;for(let N=0;N<b.length;N++){let z=b[N],D=f[z];switch(typeof D){case"undefined":D=f[z]=Object.create(null);break;case"object":break;default:return void C(`Ignoring ${T} as ${b.slice(0,N+1).join(".")} is ${JSON.stringify(D)}`)}f=D}if("object"==typeof f&&null!==f)try{f[L]=S}catch{C(`Ignoring ${T} as ${b.join(".")} is ${JSON.stringify(f)}`)}else C(`Ignoring ${T} as ${b.join(".")} is ${JSON.stringify(f)}`)}function E(F,T){i(F,T.split("."))}function i(F,T){const S=T.shift();if(0!==T.length){if(-1!==Object.keys(F).indexOf(S)){const C=F[S];"object"==typeof C&&!Array.isArray(C)&&(i(C,T),0===Object.keys(C).length&&delete F[S])}}else delete F[S]}function O(F,T,S){const L=function(f,N){let z=f;for(const D of N){if("object"!=typeof z||null===z)return;z=z[D]}return z}(F,T.split("."));return void 0===L?S:L}},92778:(Be,Me,m)=>{m.d(Me,{IP:()=>O,eU:()=>P,ny:()=>k});var M=m(89822),g=m(71040),Y=m(99770),B=m(12918),E=m(42620),i=m(63779);const O={Configuration:"base.contributions.configuration"},F={properties:{},patternProperties:{}},T={properties:{},patternProperties:{}},S={properties:{},patternProperties:{}},C={properties:{},patternProperties:{}},b={properties:{},patternProperties:{}},L={properties:{},patternProperties:{}},f="vscode://schemas/settings/resourceLanguage",N=i.B.as(E.I.JSONContribution),D="\\[([^\\]]+)\\]",I=new RegExp(D,"g"),Z=`^(${D})+$`,P=new RegExp(Z);function k(oe){const de=[];if(P.test(oe)){let fe=I.exec(oe);for(;null==fe?void 0:fe.length;){const pe=fe[1].trim();pe&&de.push(pe),fe=I.exec(oe)}}return(0,M.EB)(de)}const j=new class{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new g.Q5,this._onDidUpdateConfiguration=new g.Q5,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:B.N("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},N.registerSchema(f,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(de,fe=!0){this.registerConfigurations([de],fe)}registerConfigurations(de,fe=!0){const pe=this.doRegisterConfigurations(de,fe);N.registerSchema(f,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:pe})}registerDefaultConfigurations(de){var fe;const pe=[],we=[];for(const{overrides:ge,source:Q}of de)for(const q in ge)if(pe.push(q),P.test(q)){const le=Object.assign(Object.assign({},(null===(fe=this.configurationDefaultsOverrides.get(q))||void 0===fe?void 0:fe.value)||{}),ge[q]);this.configurationDefaultsOverrides.set(q,{source:Q,value:le});const ee={type:"object",default:le,description:B.N("defaultLanguageConfiguration.description","Configure settings to be overridden for {0} language.",q),$ref:f,defaultDefaultValue:le,source:Y.HD(Q)?void 0:Q};we.push(...k(q)),this.configurationProperties[q]=ee,this.defaultLanguageConfigurationOverridesNode.properties[q]=ee}else{this.configurationDefaultsOverrides.set(q,{value:ge[q],source:Q});const le=this.configurationProperties[q];le&&(this.updatePropertyDefaultValue(q,le),this.updateSchema(q,le))}this.registerOverrideIdentifiers(we),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:pe,defaultsOverrides:!0})}registerOverrideIdentifiers(de){for(const fe of de)this.overrideIdentifiers.add(fe);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(de,fe){const pe=[];return de.forEach(we=>{pe.push(...this.validateAndRegisterProperties(we,fe,we.extensionInfo,we.restrictedProperties)),this.configurationContributors.push(we),this.registerJSONConfiguration(we)}),pe}validateAndRegisterProperties(de,fe=!0,pe,we,ge=3){ge=Y.Jp(de.scope)?ge:de.scope;let Q=[],q=de.properties;if(q)for(let ee in q){if(fe&&((oe=ee).trim()?P.test(oe)?B.N("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",oe):void 0!==j.getConfigurationProperties()[oe]&&B.N("config.property.duplicate","Cannot register '{0}'. This property is already registered.",oe):B.N("config.property.empty","Cannot register an empty property"))){delete q[ee];continue}const X=q[ee];X.source=pe,X.defaultDefaultValue=q[ee].default,this.updatePropertyDefaultValue(ee,X),P.test(ee)?X.scope=void 0:(X.scope=Y.Jp(X.scope)?ge:X.scope,X.restricted=Y.Jp(X.restricted)?!!(null==we?void 0:we.includes(ee)):X.restricted),!q[ee].hasOwnProperty("included")||q[ee].included?(this.configurationProperties[ee]=q[ee],!q[ee].deprecationMessage&&q[ee].markdownDeprecationMessage&&(q[ee].deprecationMessage=q[ee].markdownDeprecationMessage),Q.push(ee)):(this.excludedConfigurationProperties[ee]=q[ee],delete q[ee])}var oe;let le=de.allOf;if(le)for(let ee of le)Q.push(...this.validateAndRegisterProperties(ee,fe,pe,we,ge));return Q}getConfigurationProperties(){return this.configurationProperties}registerJSONConfiguration(de){const fe=pe=>{let we=pe.properties;if(we)for(const Q in we)this.updateSchema(Q,we[Q]);let ge=pe.allOf;ge&&ge.forEach(fe)};fe(de)}updateSchema(de,fe){switch(F.properties[de]=fe,fe.scope){case 1:T.properties[de]=fe;break;case 2:S.properties[de]=fe;break;case 6:C.properties[de]=fe;break;case 3:b.properties[de]=fe;break;case 4:L.properties[de]=fe;break;case 5:L.properties[de]=fe,this.resourceLanguageSettingsSchema.properties[de]=fe}}updateOverridePropertyPatternKey(){for(const de of this.overrideIdentifiers.values()){const fe=`[${de}]`,pe={type:"object",description:B.N("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:B.N("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:f};this.updatePropertyDefaultValue(fe,pe),F.properties[fe]=pe,T.properties[fe]=pe,S.properties[fe]=pe,C.properties[fe]=pe,b.properties[fe]=pe,L.properties[fe]=pe}this._onDidSchemaChange.fire()}registerOverridePropertyPatternKey(){const de={type:"object",description:B.N("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:B.N("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:f};F.patternProperties[Z]=de,T.patternProperties[Z]=de,S.patternProperties[Z]=de,C.patternProperties[Z]=de,b.patternProperties[Z]=de,L.patternProperties[Z]=de,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(de,fe){const pe=this.configurationDefaultsOverrides.get(de);let we=null==pe?void 0:pe.value,ge=null==pe?void 0:pe.source;Y.o8(we)&&(we=fe.defaultDefaultValue,ge=void 0),Y.o8(we)&&(we=function(oe){switch(Array.isArray(oe)?oe[0]:oe){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}(fe.type)),fe.default=we,fe.defaultValueSource=ge}};i.B.add(O.Configuration,j)},6461:(Be,Me,m)=>{m.d(Me,{Ao:()=>i,Fb:()=>O,uy:()=>fe,i6:()=>pe,Eq:()=>we,K8:()=>q});var M=m(70700),g=m(74243),Y=m(43569);const B=new Map;B.set("false",!1),B.set("true",!0),B.set("isMac",M.dz),B.set("isLinux",M.IJ),B.set("isWindows",M.ED),B.set("isWeb",M.$L),B.set("isMacNative",M.dz&&!M.$L),B.set("isEdge",M.un),B.set("isFirefox",M.vU),B.set("isChrome",M.i7),B.set("isSafari",M.G6);const E=Object.prototype.hasOwnProperty;class i{static has(X){return C.create(X)}static equals(X,re){return b.create(X,re)}static regex(X,re){return $.create(X,re)}static not(X){return z.create(X)}static and(...X){return oe.create(X,null)}static or(...X){return de.create(X,null,!0)}static deserialize(X,re=!1){if(X)return this._deserializeOrExpression(X,re)}static _deserializeOrExpression(X,re){let ce=X.split("||");return de.create(ce.map(ve=>this._deserializeAndExpression(ve,re)),null,!0)}static _deserializeAndExpression(X,re){let ce=X.split("&&");return oe.create(ce.map(ve=>this._deserializeOne(ve,re)),null)}static _deserializeOne(X,re){if((X=X.trim()).indexOf("!=")>=0){let ce=X.split("!=");return N.create(ce[0].trim(),this._deserializeValue(ce[1],re))}if(X.indexOf("==")>=0){let ce=X.split("==");return b.create(ce[0].trim(),this._deserializeValue(ce[1],re))}if(X.indexOf("=~")>=0){let ce=X.split("=~");return $.create(ce[0].trim(),this._deserializeRegexValue(ce[1],re))}if(X.indexOf(" in ")>=0){let ce=X.split(" in ");return L.create(ce[0].trim(),ce[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(X)){const ce=X.split(">=");return Z.create(ce[0].trim(),ce[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(X)){const ce=X.split(">");return I.create(ce[0].trim(),ce[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(X)){const ce=X.split("<=");return k.create(ce[0].trim(),ce[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(X)){const ce=X.split("<");return P.create(ce[0].trim(),ce[1].trim())}return/^\!\s*/.test(X)?z.create(X.substr(1).trim()):C.create(X)}static _deserializeValue(X,re){if("true"===(X=X.trim()))return!0;if("false"===X)return!1;let ce=/^'([^']*)'$/.exec(X);return ce?ce[1].trim():X}static _deserializeRegexValue(X,re){if((0,g.m5)(X)){if(re)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let ce=X.indexOf("/"),ve=X.lastIndexOf("/");if(ce===ve||ce<0){if(re)throw new Error(`bad regexp-value '${X}', missing /-enclosure`);return console.warn(`bad regexp-value '${X}', missing /-enclosure`),null}let ke=X.slice(ce+1,ve),Ve="i"===X[ve+1]?"i":"";try{return new RegExp(ke,Ve)}catch(Ue){if(re)throw new Error(`bad regexp-value '${X}', parse error: ${Ue}`);return console.warn(`bad regexp-value '${X}', parse error: ${Ue}`),null}}}function O(ee,X){const re=ee?ee.substituteConstants():void 0,ce=X?X.substituteConstants():void 0;return!re&&!ce||!(!re||!ce)&&re.equals(ce)}function F(ee,X){return ee.cmp(X)}class T{constructor(){this.type=0}cmp(X){return this.type-X.type}equals(X){return X.type===this.type}substituteConstants(){return this}evaluate(X){return!1}serialize(){return"false"}keys(){return[]}negate(){return S.INSTANCE}}T.INSTANCE=new T;class S{constructor(){this.type=1}cmp(X){return this.type-X.type}equals(X){return X.type===this.type}substituteConstants(){return this}evaluate(X){return!0}serialize(){return"true"}keys(){return[]}negate(){return T.INSTANCE}}S.INSTANCE=new S;class C{constructor(X,re){this.key=X,this.negated=re,this.type=2}static create(X,re=null){const ce=B.get(X);return"boolean"==typeof ce?ce?S.INSTANCE:T.INSTANCE:new C(X,re)}cmp(X){return X.type!==this.type?this.type-X.type:ge(this.key,X.key)}equals(X){return X.type===this.type&&this.key===X.key}substituteConstants(){const X=B.get(this.key);return"boolean"==typeof X?X?S.INSTANCE:T.INSTANCE:this}evaluate(X){return!!X.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=z.create(this.key,this)),this.negated}}class b{constructor(X,re,ce){this.key=X,this.value=re,this.negated=ce,this.type=4}static create(X,re,ce=null){if("boolean"==typeof re)return re?C.create(X,ce):z.create(X,ce);const ve=B.get(X);return"boolean"==typeof ve?re===(ve?"true":"false")?S.INSTANCE:T.INSTANCE:new b(X,re,ce)}cmp(X){return X.type!==this.type?this.type-X.type:Q(this.key,this.value,X.key,X.value)}equals(X){return X.type===this.type&&this.key===X.key&&this.value===X.value}substituteConstants(){const X=B.get(this.key);return"boolean"==typeof X?this.value===(X?"true":"false")?S.INSTANCE:T.INSTANCE:this}evaluate(X){return X.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=N.create(this.key,this.value,this)),this.negated}}class L{constructor(X,re){this.key=X,this.valueKey=re,this.type=10,this.negated=null}static create(X,re){return new L(X,re)}cmp(X){return X.type!==this.type?this.type-X.type:Q(this.key,this.valueKey,X.key,X.valueKey)}equals(X){return X.type===this.type&&this.key===X.key&&this.valueKey===X.valueKey}substituteConstants(){return this}evaluate(X){const re=X.getValue(this.valueKey),ce=X.getValue(this.key);return Array.isArray(re)?re.indexOf(ce)>=0:"string"==typeof ce&&"object"==typeof re&&null!==re&&E.call(re,ce)}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=f.create(this)),this.negated}}class f{constructor(X){this._actual=X,this.type=11}static create(X){return new f(X)}cmp(X){return X.type!==this.type?this.type-X.type:this._actual.cmp(X._actual)}equals(X){return X.type===this.type&&this._actual.equals(X._actual)}substituteConstants(){return this}evaluate(X){return!this._actual.evaluate(X)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}class N{constructor(X,re,ce){this.key=X,this.value=re,this.negated=ce,this.type=5}static create(X,re,ce=null){if("boolean"==typeof re)return re?z.create(X,ce):C.create(X,ce);const ve=B.get(X);return"boolean"==typeof ve?re===(ve?"true":"false")?T.INSTANCE:S.INSTANCE:new N(X,re,ce)}cmp(X){return X.type!==this.type?this.type-X.type:Q(this.key,this.value,X.key,X.value)}equals(X){return X.type===this.type&&this.key===X.key&&this.value===X.value}substituteConstants(){const X=B.get(this.key);return"boolean"==typeof X?this.value===(X?"true":"false")?T.INSTANCE:S.INSTANCE:this}evaluate(X){return X.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=b.create(this.key,this.value,this)),this.negated}}class z{constructor(X,re){this.key=X,this.negated=re,this.type=3}static create(X,re=null){const ce=B.get(X);return"boolean"==typeof ce?ce?T.INSTANCE:S.INSTANCE:new z(X,re)}cmp(X){return X.type!==this.type?this.type-X.type:ge(this.key,X.key)}equals(X){return X.type===this.type&&this.key===X.key}substituteConstants(){const X=B.get(this.key);return"boolean"==typeof X?X?T.INSTANCE:S.INSTANCE:this}evaluate(X){return!X.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=C.create(this.key,this)),this.negated}}function D(ee,X){if("string"==typeof ee){const re=parseFloat(ee);isNaN(re)||(ee=re)}return"string"==typeof ee||"number"==typeof ee?X(ee):T.INSTANCE}class I{constructor(X,re,ce){this.key=X,this.value=re,this.negated=ce,this.type=12}static create(X,re,ce=null){return D(re,ve=>new I(X,ve,ce))}cmp(X){return X.type!==this.type?this.type-X.type:Q(this.key,this.value,X.key,X.value)}equals(X){return X.type===this.type&&this.key===X.key&&this.value===X.value}substituteConstants(){return this}evaluate(X){return"string"!=typeof this.value&&parseFloat(X.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=k.create(this.key,this.value,this)),this.negated}}class Z{constructor(X,re,ce){this.key=X,this.value=re,this.negated=ce,this.type=13}static create(X,re,ce=null){return D(re,ve=>new Z(X,ve,ce))}cmp(X){return X.type!==this.type?this.type-X.type:Q(this.key,this.value,X.key,X.value)}equals(X){return X.type===this.type&&this.key===X.key&&this.value===X.value}substituteConstants(){return this}evaluate(X){return"string"!=typeof this.value&&parseFloat(X.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=P.create(this.key,this.value,this)),this.negated}}class P{constructor(X,re,ce){this.key=X,this.value=re,this.negated=ce,this.type=14}static create(X,re,ce=null){return D(re,ve=>new P(X,ve,ce))}cmp(X){return X.type!==this.type?this.type-X.type:Q(this.key,this.value,X.key,X.value)}equals(X){return X.type===this.type&&this.key===X.key&&this.value===X.value}substituteConstants(){return this}evaluate(X){return"string"!=typeof this.value&&parseFloat(X.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=Z.create(this.key,this.value,this)),this.negated}}class k{constructor(X,re,ce){this.key=X,this.value=re,this.negated=ce,this.type=15}static create(X,re,ce=null){return D(re,ve=>new k(X,ve,ce))}cmp(X){return X.type!==this.type?this.type-X.type:Q(this.key,this.value,X.key,X.value)}equals(X){return X.type===this.type&&this.key===X.key&&this.value===X.value}substituteConstants(){return this}evaluate(X){return"string"!=typeof this.value&&parseFloat(X.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=I.create(this.key,this.value,this)),this.negated}}class ${constructor(X,re){this.key=X,this.regexp=re,this.type=7,this.negated=null}static create(X,re){return new $(X,re)}cmp(X){if(X.type!==this.type)return this.type-X.type;if(this.key<X.key)return-1;if(this.key>X.key)return 1;const re=this.regexp?this.regexp.source:"",ce=X.regexp?X.regexp.source:"";return re<ce?-1:re>ce?1:0}equals(X){if(X.type===this.type){const re=this.regexp?this.regexp.source:"",ce=X.regexp?X.regexp.source:"";return this.key===X.key&&re===ce}return!1}substituteConstants(){return this}evaluate(X){let re=X.getValue(this.key);return!!this.regexp&&this.regexp.test(re)}serialize(){return`${this.key} =~ ${this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/"}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=j.create(this)),this.negated}}class j{constructor(X){this._actual=X,this.type=8}static create(X){return new j(X)}cmp(X){return X.type!==this.type?this.type-X.type:this._actual.cmp(X._actual)}equals(X){return X.type===this.type&&this._actual.equals(X._actual)}substituteConstants(){return this}evaluate(X){return!this._actual.evaluate(X)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}function G(ee){let X=null;for(let re=0,ce=ee.length;re<ce;re++){const ve=ee[re].substituteConstants();if(ee[re]!==ve&&null===X){X=[];for(let ke=0;ke<re;ke++)X[ke]=ee[ke]}null!==X&&(X[re]=ve)}return null===X?ee:X}class oe{constructor(X,re){this.expr=X,this.negated=re,this.type=6}static create(X,re){return oe._normalizeArr(X,re)}cmp(X){if(X.type!==this.type)return this.type-X.type;if(this.expr.length<X.expr.length)return-1;if(this.expr.length>X.expr.length)return 1;for(let re=0,ce=this.expr.length;re<ce;re++){const ve=F(this.expr[re],X.expr[re]);if(0!==ve)return ve}return 0}equals(X){if(X.type===this.type){if(this.expr.length!==X.expr.length)return!1;for(let re=0,ce=this.expr.length;re<ce;re++)if(!this.expr[re].equals(X.expr[re]))return!1;return!0}return!1}substituteConstants(){const X=G(this.expr);return X===this.expr?this:oe.create(X,this.negated)}evaluate(X){for(let re=0,ce=this.expr.length;re<ce;re++)if(!this.expr[re].evaluate(X))return!1;return!0}static _normalizeArr(X,re){const ce=[];let ve=!1;for(const ke of X)if(ke){if(1===ke.type){ve=!0;continue}if(0===ke.type)return T.INSTANCE;if(6===ke.type){ce.push(...ke.expr);continue}ce.push(ke)}if(0===ce.length&&ve)return S.INSTANCE;if(0!==ce.length){if(1===ce.length)return ce[0];ce.sort(F);for(let ke=1;ke<ce.length;ke++)ce[ke-1].equals(ce[ke])&&(ce.splice(ke,1),ke--);if(1===ce.length)return ce[0];for(;ce.length>1;){const ke=ce[ce.length-1];if(9!==ke.type)break;ce.pop();const Ve=ce.pop(),Ue=0===ce.length,ue=de.create(ke.expr.map(_e=>oe.create([_e,Ve],null)),null,Ue);ue&&(ce.push(ue),ce.sort(F))}return 1===ce.length?ce[0]:new oe(ce,re)}}serialize(){return this.expr.map(X=>X.serialize()).join(" && ")}keys(){const X=[];for(let re of this.expr)X.push(...re.keys());return X}negate(){if(!this.negated){const X=[];for(let re of this.expr)X.push(re.negate());this.negated=de.create(X,this,!0)}return this.negated}}class de{constructor(X,re){this.expr=X,this.negated=re,this.type=9}static create(X,re,ce){return de._normalizeArr(X,re,ce)}cmp(X){if(X.type!==this.type)return this.type-X.type;if(this.expr.length<X.expr.length)return-1;if(this.expr.length>X.expr.length)return 1;for(let re=0,ce=this.expr.length;re<ce;re++){const ve=F(this.expr[re],X.expr[re]);if(0!==ve)return ve}return 0}equals(X){if(X.type===this.type){if(this.expr.length!==X.expr.length)return!1;for(let re=0,ce=this.expr.length;re<ce;re++)if(!this.expr[re].equals(X.expr[re]))return!1;return!0}return!1}substituteConstants(){const X=G(this.expr);return X===this.expr?this:de.create(X,this.negated,!1)}evaluate(X){for(let re=0,ce=this.expr.length;re<ce;re++)if(this.expr[re].evaluate(X))return!0;return!1}static _normalizeArr(X,re,ce){let ve=[],ke=!1;if(X){for(let Ve=0,Ue=X.length;Ve<Ue;Ve++){const ue=X[Ve];if(ue){if(0===ue.type){ke=!0;continue}if(1===ue.type)return S.INSTANCE;if(9===ue.type){ve=ve.concat(ue.expr);continue}ve.push(ue)}}if(0===ve.length&&ke)return T.INSTANCE;ve.sort(F)}if(0!==ve.length){if(1===ve.length)return ve[0];for(let Ve=1;Ve<ve.length;Ve++)ve[Ve-1].equals(ve[Ve])&&(ve.splice(Ve,1),Ve--);if(1===ve.length)return ve[0];if(ce){for(let Ve=0;Ve<ve.length;Ve++)for(let Ue=Ve+1;Ue<ve.length;Ue++)q(ve[Ve],ve[Ue])&&(ve.splice(Ue,1),Ue--);if(1===ve.length)return ve[0]}return new de(ve,re)}}serialize(){return this.expr.map(X=>X.serialize()).join(" || ")}keys(){const X=[];for(let re of this.expr)X.push(...re.keys());return X}negate(){if(!this.negated){let X=[];for(let re of this.expr)X.push(re.negate());for(;X.length>1;){const re=X.shift(),ce=X.shift(),ve=[];for(const Ve of le(re))for(const Ue of le(ce))ve.push(oe.create([Ve,Ue],null));X.unshift(de.create(ve,null,0===X.length))}this.negated=X[0]}return this.negated}}let fe=(()=>{class ee extends C{constructor(re,ce,ve){super(re,null),this._defaultValue=ce,"object"==typeof ve?ee._info.push(Object.assign(Object.assign({},ve),{key:re})):!0!==ve&&ee._info.push({key:re,description:ve,type:null!=ce?typeof ce:void 0})}static all(){return ee._info.values()}bindTo(re){return re.createKey(this.key,this._defaultValue)}getValue(re){return re.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(re){return b.create(this.key,re)}}return ee._info=[],ee})();const pe=(0,Y.yh)("contextKeyService"),we="setContext";function ge(ee,X){return ee<X?-1:ee>X?1:0}function Q(ee,X,re,ce){return ee<re?-1:ee>re?1:X<ce?-1:X>ce?1:0}function q(ee,X){if(6===X.type&&9!==ee.type&&6!==ee.type)for(const ve of X.expr)if(ee.equals(ve))return!0;const ce=le(ee.negate()).concat(le(X));ce.sort(F);for(let ve=0;ve<ce.length;ve++){const Ve=ce[ve].negate();for(let Ue=ve+1;Ue<ce.length;Ue++)if(Ve.equals(ce[Ue]))return!0}return!1}function le(ee){return 9===ee.type?ee.expr:[ee]}},70114:(Be,Me,m)=>{m.d(Me,{cv:()=>i,d0:()=>C});var M=m(70700),g=m(12918),Y=m(6461);new Y.uy("isMac",M.dz,(0,g.N)("isMac","Whether the operating system is macOS")),new Y.uy("isLinux",M.IJ,(0,g.N)("isLinux","Whether the operating system is Linux"));const i=new Y.uy("isWindows",M.ED,(0,g.N)("isWindows","Whether the operating system is Windows")),C=(new Y.uy("isWeb",M.$L,(0,g.N)("isWeb","Whether the platform is a web browser")),new Y.uy("isMacNative",M.dz&&!M.$L,(0,g.N)("isMacNative","Whether the operating system is macOS on a non-browser platform")),new Y.uy("isIOS",M.gn,(0,g.N)("isIOS","Whether the operating system is iOS")),new Y.uy("isDevelopment",!1,!0),"inputFocus");new Y.uy(C,!1,(0,g.N)("inputFocus","Whether keyboard focus is inside an input box"))},9719:(Be,Me,m)=>{m.d(Me,{u:()=>g,i:()=>Y});var M=m(43569);const g=(0,M.yh)("contextViewService"),Y=(0,M.yh)("contextMenuService")},4890:(Be,Me,m)=>{m.d(Me,{S:()=>g});const g=(0,m(43569).yh)("dialogService")},24286:(Be,Me,m)=>{m.d(Me,{M:()=>M});class M{constructor(Y,B=[],E=!1){this.ctor=Y,this.staticArguments=B,this.supportsDelayedInstantiation=E}}},26033:(Be,Me,m)=>{m.d(Me,{z:()=>Y,d:()=>B});var M=m(24286);const g=[];function Y(E,i,O){i instanceof M.M||(i=new M.M(i,[],O)),g.push([E,i])}function B(){return g}},43569:(Be,Me,m)=>{var M,E;m.d(Me,{I8:()=>M,TG:()=>g,yh:()=>B}),(E=M||(M={})).serviceIds=new Map,E.DI_TARGET="$di$target",E.DI_DEPENDENCIES="$di$dependencies",E.getServiceDependencies=function(O){return O[E.DI_DEPENDENCIES]||[]};const g=B("instantiationService");function Y(E,i,O){i[M.DI_TARGET]===i?i[M.DI_DEPENDENCIES].push({id:E,index:O}):(i[M.DI_DEPENDENCIES]=[{id:E,index:O}],i[M.DI_TARGET]=i)}function B(E){if(M.serviceIds.has(E))return M.serviceIds.get(E);const i=function(O,F,T){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");Y(i,O,T)};return i.toString=()=>E,M.serviceIds.set(E,i),i}},9771:(Be,Me,m)=>{m.d(Me,{y:()=>M});class M{constructor(...Y){this._entries=new Map;for(let[B,E]of Y)this.set(B,E)}set(Y,B){const E=this._entries.get(Y);return this._entries.set(Y,B),E}get(Y){return this._entries.get(Y)}}},42620:(Be,Me,m)=>{m.d(Me,{I:()=>Y});var M=m(71040),g=m(63779);const Y={JSONContribution:"base.contributions.json"},i=new class{constructor(){this._onDidChangeSchema=new M.Q5,this.schemasById={}}registerSchema(F,T){var O;this.schemasById[(O=F,O.length>0&&"#"===O.charAt(O.length-1)?O.substring(0,O.length-1):O)]=T,this._onDidChangeSchema.fire(F)}notifySchemaChanged(F){this._onDidChangeSchema.fire(F)}};g.B.add(Y.JSONContribution,i)},96938:(Be,Me,m)=>{m.d(Me,{d:()=>g});const g=(0,m(43569).yh)("keybindingService")},22115:(Be,Me,m)=>{m.d(Me,{W:()=>i});var M=m(99315),g=m(70700),Y=m(10467),B=m(63779);class E{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(S){if(1===g.OS){if(S&&S.win)return S.win}else if(2===g.OS){if(S&&S.mac)return S.mac}else if(S&&S.linux)return S.linux;return S}registerKeybindingRule(S){const C=E.bindToCurrentPlatform(S);if(C&&C.primary){const b=(0,M.gm)(C.primary,g.OS);b&&this._registerDefaultKeybinding(b,S.id,S.args,S.weight,0,S.when)}if(C&&Array.isArray(C.secondary))for(let b=0,L=C.secondary.length;b<L;b++){const N=(0,M.gm)(C.secondary[b],g.OS);N&&this._registerDefaultKeybinding(N,S.id,S.args,S.weight,-b-1,S.when)}}registerCommandAndKeybindingRule(S){this.registerKeybindingRule(S),Y.P0.registerCommand(S)}static _mightProduceChar(S){return S>=21&&S<=30||S>=31&&S<=56||80===S||81===S||82===S||83===S||84===S||85===S||86===S||110===S||111===S||87===S||88===S||89===S||90===S||91===S||92===S}_assertNoCtrlAlt(S,C){S.ctrlKey&&S.altKey&&!S.metaKey&&E._mightProduceChar(S.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",S," for ",C)}_registerDefaultKeybinding(S,C,b,L,f,N){1===g.OS&&this._assertNoCtrlAlt(S.parts[0],C),this._coreKeybindings.push({keybinding:S.parts,command:C,commandArgs:b,when:N,weight1:L,weight2:f,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(F)),this._cachedMergedKeybindings.slice(0)}}const i=new E;function F(T,S){return T.weight1!==S.weight1?T.weight1-S.weight1:T.command<S.command?-1:T.command>S.command?1:T.weight2-S.weight2}B.B.add("platform.keybindingsRegistry",i)},7022:(Be,Me,m)=>{m.d(Me,{e:()=>g});const g=(0,m(43569).yh)("labelService")},68526:(Be,Me,m)=>{m.d(Me,{Lw:()=>Ni,XN:()=>ai,ls:()=>zi,ev:()=>Lr,CQ:()=>_i,PS:()=>Ii,uJ:()=>ei});var M=m(86678),g=m(89822),Y=m(66607),B=m(71040),E=m(40189),O=(m(72010),m(2393));class F{constructor(R,h){this.renderer=R,this.modelProvider=h}get templateId(){return this.renderer.templateId}renderTemplate(R){return{data:this.renderer.renderTemplate(R),disposable:E.JT.None}}renderElement(R,h,x,W){if(x.disposable&&x.disposable.dispose(),!x.data)return;const te=this.modelProvider();if(te.isResolved(R))return this.renderer.renderElement(te.get(R),R,x.data,W);const ae=new Y.A,Ce=te.resolve(R,ae.token);x.disposable={dispose:()=>ae.cancel()},this.renderer.renderPlaceholder(R,x.data),Ce.then(Oe=>this.renderer.renderElement(Oe,R,x.data,W))}disposeTemplate(R){R.disposable&&(R.disposable.dispose(),R.disposable=void 0),R.data&&(this.renderer.disposeTemplate(R.data),R.data=void 0)}}class T{constructor(R,h){this.modelProvider=R,this.accessibilityProvider=h}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(R){const h=this.modelProvider();return h.isResolved(R)?this.accessibilityProvider.getAriaLabel(h.get(R)):null}}var b=m(14410);m(75601);let f=(()=>{class wt{constructor(h,x,W){this.columns=h,this.getColumnSize=W,this.templateId=wt.TemplateId,this.renderedTemplates=new Set;const te=new Map(x.map(ae=>[ae.templateId,ae]));this.renderers=[];for(const ae of h){const Ce=te.get(ae.templateId);if(!Ce)throw new Error(`Table cell renderer for template id ${ae.templateId} not found.`);this.renderers.push(Ce)}}renderTemplate(h){const x=(0,M.R3)(h,(0,M.$)(".monaco-table-tr")),W=[],te=[];for(let Ce=0;Ce<this.columns.length;Ce++){const Oe=this.renderers[Ce],Fe=(0,M.R3)(x,(0,M.$)(".monaco-table-td",{"data-col-index":Ce}));Fe.style.width=`${this.getColumnSize(Ce)}px`,W.push(Fe),te.push(Oe.renderTemplate(Fe))}const ae={container:h,cellContainers:W,cellTemplateData:te};return this.renderedTemplates.add(ae),ae}renderElement(h,x,W,te){for(let ae=0;ae<this.columns.length;ae++){const Oe=this.columns[ae].project(h);this.renderers[ae].renderElement(Oe,x,W.cellTemplateData[ae],te)}}disposeElement(h,x,W,te){for(let ae=0;ae<this.columns.length;ae++){const Ce=this.renderers[ae];if(Ce.disposeElement){const Fe=this.columns[ae].project(h);Ce.disposeElement(Fe,x,W.cellTemplateData[ae],te)}}}disposeTemplate(h){for(let x=0;x<this.columns.length;x++)this.renderers[x].disposeTemplate(h.cellTemplateData[x]);(0,M.PO)(h.container),this.renderedTemplates.delete(h)}layoutColumn(h,x){for(const{cellContainers:W}of this.renderedTemplates)W[h].style.width=`${x}px`}}return wt.TemplateId="row",wt})();class z{constructor(R,h){this.column=R,this.index=h,this._onDidLayout=new B.Q5,this.onDidLayout=this._onDidLayout.event,this.element=(0,M.$)(".monaco-table-th",{"data-col-index":h,title:R.tooltip},R.label)}get minimumSize(){var R;return null!==(R=this.column.minimumWidth)&&void 0!==R?R:120}get maximumSize(){var R;return null!==(R=this.column.maximumWidth)&&void 0!==R?R:Number.POSITIVE_INFINITY}get onDidChange(){var R;return null!==(R=this.column.onDidChangeWidthConstraints)&&void 0!==R?R:B.ju.None}layout(R){this._onDidLayout.fire([this.index,R])}}let D=(()=>{class wt{constructor(h,x,W,te,ae,Ce){this.virtualDelegate=W,this.domId="table_id_"+ ++wt.InstanceCount,this.disposables=new E.SL,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,M.R3)(x,(0,M.$)(`.monaco-table.${this.domId}`));const Oe=te.map((Je,it)=>new z(Je,it)),Fe={size:Oe.reduce((Je,it)=>Je+it.column.weight,0),views:Oe.map(Je=>({size:Je.column.weight,view:Je}))};this.splitview=this.disposables.add(new b.z(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:Fe})),this.splitview.el.style.height=`${W.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${W.headerRowHeight}px`;const Ge=new f(te,ae,Je=>this.splitview.getViewSize(Je));this.list=this.disposables.add(new O.aV(h,this.domNode,function(wt){return{getHeight:R=>wt.getHeight(R),getTemplateId:()=>f.TemplateId}}(W),[Ge],Ce)),B.ju.any(...Oe.map(Je=>Je.onDidLayout))(([Je,it])=>Ge.layoutColumn(Je,it),null,this.disposables),this.splitview.onDidSashReset(Je=>{const it=te.reduce((gt,Et)=>gt+Et.weight,0);this.splitview.resizeView(Je,te[Je].weight/it*this.cachedWidth)},null,this.disposables),this.styleElement=(0,M.dS)(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(h){this.list.updateOptions(h)}splice(h,x,W=[]){this.list.splice(h,x,W)}getHTMLElement(){return this.domNode}style(h){const x=[];x.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\ttop: ${this.virtualDelegate.headerRowHeight+1}px;\n\t\t\theight: calc(100% - ${this.virtualDelegate.headerRowHeight}px);\n\t\t}`),this.styleElement.textContent=x.join("\n"),this.list.style(h)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}return wt.InstanceCount=0,wt})();var I=m(87136),Z=m(34122),P=m(71172),k=m(714),$=(()=>{return(wt=$||($={}))[wt.Unknown=0]="Unknown",wt[wt.Twistie=1]="Twistie",wt[wt.Element=2]="Element",$;var wt})();class j extends Error{constructor(R,h){super(`TreeError [${R}] ${h}`)}}class G{constructor(R){this.fn=R,this._map=new WeakMap}map(R){let h=this._map.get(R);return h||(h=this.fn(R),this._map.set(R,h)),h}}var oe=m(89983),de=m(87481),fe=m(58151);function pe(wt){return"object"==typeof wt&&"visibility"in wt&&"data"in wt}function we(wt){switch(wt){case!0:return 1;case!1:return 0;default:return wt}}function ge(wt){return"boolean"==typeof wt.collapsible}class Q{constructor(R,h,x,W={}){this.user=R,this.list=h,this.rootRef=[],this.eventBufferer=new B.E7,this._onDidChangeCollapseState=new B.Q5,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new B.Q5,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new B.Q5,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new oe.vp(oe.ne),this.collapseByDefault=void 0!==W.collapseByDefault&&W.collapseByDefault,this.filter=W.filter,this.autoExpandSingleChildren=void 0!==W.autoExpandSingleChildren&&W.autoExpandSingleChildren,this.root={parent:void 0,element:x,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(R,h,x=fe.$.empty(),W={}){if(0===R.length)throw new j(this.user,"Invalid tree location");W.diffIdentityProvider?this.spliceSmart(W.diffIdentityProvider,R,h,x,W):this.spliceSimple(R,h,x,W)}spliceSmart(R,h,x,W,te,ae){var Ce;void 0===W&&(W=fe.$.empty()),void 0===ae&&(ae=null!==(Ce=te.diffDepth)&&void 0!==Ce?Ce:0);const{parentNode:Oe}=this.getParentNodeWithListIndex(h);if(!Oe.lastDiffIds)return this.spliceSimple(h,x,W,te);const Fe=[...W],Ge=h[h.length-1],Je=new de.Hs({getElements:()=>Oe.lastDiffIds},{getElements:()=>[...Oe.children.slice(0,Ge),...Fe,...Oe.children.slice(Ge+x)].map(Ft=>R.getId(Ft.element).toString())}).ComputeDiff(!1);if(Je.quitEarly)return Oe.lastDiffIds=void 0,this.spliceSimple(h,x,Fe,te);const it=h.slice(0,-1),ht=(Ft,Zt,Tn)=>{if(ae>0)for(let Xn=0;Xn<Tn;Xn++)Ft--,Zt--,this.spliceSmart(R,[...it,Ft,0],Number.MAX_SAFE_INTEGER,Fe[Zt].children,te,ae-1)};let gt=Math.min(Oe.children.length,Ge+x),Et=Fe.length;for(const Ft of Je.changes.sort((Zt,Tn)=>Tn.originalStart-Zt.originalStart))ht(gt,Et,gt-(Ft.originalStart+Ft.originalLength)),gt=Ft.originalStart,Et=Ft.modifiedStart-Ge,this.spliceSimple([...it,gt],Ft.originalLength,fe.$.slice(Fe,Et,Et+Ft.modifiedLength),te);ht(gt,Et,gt)}spliceSimple(R,h,x=fe.$.empty(),{onDidCreateNode:W,onDidDeleteNode:te,diffIdentityProvider:ae}){const{parentNode:Ce,listIndex:Oe,revealed:Fe,visible:Ge}=this.getParentNodeWithListIndex(R),Je=[],it=fe.$.map(x,si=>this.createTreeNode(si,Ce,Ce.visible?1:0,Fe,Je,W)),ht=R[R.length-1],gt=Ce.children.length>0;let Et=0;for(let si=ht;si>=0&&si<Ce.children.length;si--){const ho=Ce.children[si];if(ho.visible){Et=ho.visibleChildIndex;break}}const Ft=[];let Zt=0,Tn=0;for(const si of it)Ft.push(si),Tn+=si.renderNodeCount,si.visible&&(si.visibleChildIndex=Et+Zt++);const Xn=(0,g.db)(Ce.children,ht,h,Ft);ae?Ce.lastDiffIds?(0,g.db)(Ce.lastDiffIds,ht,h,Ft.map(si=>ae.getId(si.element).toString())):Ce.lastDiffIds=Ce.children.map(si=>ae.getId(si.element).toString()):Ce.lastDiffIds=void 0;let li=0;for(const si of Xn)si.visible&&li++;if(0!==li)for(let si=ht+Ft.length;si<Ce.children.length;si++){const ho=Ce.children[si];ho.visible&&(ho.visibleChildIndex-=li)}if(Ce.visibleChildrenCount+=Zt-li,Fe&&Ge){const si=Xn.reduce((ho,Ps)=>ho+(Ps.visible?Ps.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(Ce,Tn-si),this.list.splice(Oe,si,Je)}if(Xn.length>0&&te){const si=ho=>{te(ho),ho.children.forEach(si)};Xn.forEach(si)}this._onDidSplice.fire({insertedNodes:Ft,deletedNodes:Xn});const pt=Ce.children.length>0;gt!==pt&&this.setCollapsible(R.slice(0,-1),pt);let Pi=Ce;for(;Pi;){if(2===Pi.visibility){this.refilterDelayer.trigger(()=>this.refilter());break}Pi=Pi.parent}}rerender(R){if(0===R.length)throw new j(this.user,"Invalid tree location");const{node:h,listIndex:x,revealed:W}=this.getTreeNodeWithListIndex(R);h.visible&&W&&this.list.splice(x,1,[h])}has(R){return this.hasTreeNode(R)}getListIndex(R){const{listIndex:h,visible:x,revealed:W}=this.getTreeNodeWithListIndex(R);return x&&W?h:-1}getListRenderCount(R){return this.getTreeNode(R).renderNodeCount}isCollapsible(R){return this.getTreeNode(R).collapsible}setCollapsible(R,h){const x=this.getTreeNode(R);void 0===h&&(h=!x.collapsible);const W={collapsible:h};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(R,W))}isCollapsed(R){return this.getTreeNode(R).collapsed}setCollapsed(R,h,x){const W=this.getTreeNode(R);void 0===h&&(h=!W.collapsed);const te={collapsed:h,recursive:x||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(R,te))}_setCollapseState(R,h){const{node:x,listIndex:W,revealed:te}=this.getTreeNodeWithListIndex(R),ae=this._setListNodeCollapseState(x,W,te,h);if(x!==this.root&&this.autoExpandSingleChildren&&ae&&!ge(h)&&x.collapsible&&!x.collapsed&&!h.recursive){let Ce=-1;for(let Oe=0;Oe<x.children.length;Oe++)if(x.children[Oe].visible){if(Ce>-1){Ce=-1;break}Ce=Oe}Ce>-1&&this._setCollapseState([...R,Ce],h)}return ae}_setListNodeCollapseState(R,h,x,W){const te=this._setNodeCollapseState(R,W,!1);if(!x||!R.visible||!te)return te;const ae=R.renderNodeCount,Ce=this.updateNodeAfterCollapseChange(R);return this.list.splice(h+1,ae-(-1===h?0:1),Ce.slice(1)),te}_setNodeCollapseState(R,h,x){let W;if(R===this.root?W=!1:(ge(h)?(W=R.collapsible!==h.collapsible,R.collapsible=h.collapsible):R.collapsible?(W=R.collapsed!==h.collapsed,R.collapsed=h.collapsed):W=!1,W&&this._onDidChangeCollapseState.fire({node:R,deep:x})),!ge(h)&&h.recursive)for(const te of R.children)W=this._setNodeCollapseState(te,h,!0)||W;return W}expandTo(R){this.eventBufferer.bufferEvents(()=>{let h=this.getTreeNode(R);for(;h.parent;)h=h.parent,R=R.slice(0,R.length-1),h.collapsed&&this._setCollapseState(R,{collapsed:!1,recursive:!1})})}refilter(){const R=this.root.renderNodeCount,h=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,R,h),this.refilterDelayer.cancel()}createTreeNode(R,h,x,W,te,ae){const Ce={parent:h,element:R.element,children:[],depth:h.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:"boolean"==typeof R.collapsible?R.collapsible:void 0!==R.collapsed,collapsed:void 0===R.collapsed?this.collapseByDefault:R.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},Oe=this._filterNode(Ce,x);Ce.visibility=Oe,W&&te.push(Ce);const Fe=R.children||fe.$.empty(),Ge=W&&0!==Oe&&!Ce.collapsed,Je=fe.$.map(Fe,gt=>this.createTreeNode(gt,Ce,Oe,Ge,te,ae));let it=0,ht=1;for(const gt of Je)Ce.children.push(gt),ht+=gt.renderNodeCount,gt.visible&&(gt.visibleChildIndex=it++);return Ce.collapsible=Ce.collapsible||Ce.children.length>0,Ce.visibleChildrenCount=it,Ce.visible=2===Oe?it>0:1===Oe,Ce.visible?Ce.collapsed||(Ce.renderNodeCount=ht):(Ce.renderNodeCount=0,W&&te.pop()),ae&&ae(Ce),Ce}updateNodeAfterCollapseChange(R){const h=R.renderNodeCount,x=[];return this._updateNodeAfterCollapseChange(R,x),this._updateAncestorsRenderNodeCount(R.parent,x.length-h),x}_updateNodeAfterCollapseChange(R,h){if(!1===R.visible)return 0;if(h.push(R),R.renderNodeCount=1,!R.collapsed)for(const x of R.children)R.renderNodeCount+=this._updateNodeAfterCollapseChange(x,h);return this._onDidChangeRenderNodeCount.fire(R),R.renderNodeCount}updateNodeAfterFilterChange(R){const h=R.renderNodeCount,x=[];return this._updateNodeAfterFilterChange(R,R.visible?1:0,x),this._updateAncestorsRenderNodeCount(R.parent,x.length-h),x}_updateNodeAfterFilterChange(R,h,x,W=!0){let te;if(R!==this.root){if(te=this._filterNode(R,h),0===te)return R.visible=!1,R.renderNodeCount=0,!1;W&&x.push(R)}const ae=x.length;R.renderNodeCount=R===this.root?0:1;let Ce=!1;if(R.collapsed&&0===te)R.visibleChildrenCount=0;else{let Oe=0;for(const Fe of R.children)Ce=this._updateNodeAfterFilterChange(Fe,te,x,W&&!R.collapsed)||Ce,Fe.visible&&(Fe.visibleChildIndex=Oe++);R.visibleChildrenCount=Oe}return R!==this.root&&(R.visible=2===te?Ce:1===te,R.visibility=te),R.visible?R.collapsed||(R.renderNodeCount+=x.length-ae):(R.renderNodeCount=0,W&&x.pop()),this._onDidChangeRenderNodeCount.fire(R),R.visible}_updateAncestorsRenderNodeCount(R,h){if(0!==h)for(;R;)R.renderNodeCount+=h,this._onDidChangeRenderNodeCount.fire(R),R=R.parent}_filterNode(R,h){const x=this.filter?this.filter.filter(R.element,h):1;return"boolean"==typeof x?(R.filterData=void 0,x?1:0):pe(x)?(R.filterData=x.data,we(x.visibility)):(R.filterData=void 0,we(x))}hasTreeNode(R,h=this.root){if(!R||0===R.length)return!0;const[x,...W]=R;return!(x<0||x>h.children.length)&&this.hasTreeNode(W,h.children[x])}getTreeNode(R,h=this.root){if(!R||0===R.length)return h;const[x,...W]=R;if(x<0||x>h.children.length)throw new j(this.user,"Invalid tree location");return this.getTreeNode(W,h.children[x])}getTreeNodeWithListIndex(R){if(0===R.length)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:h,listIndex:x,revealed:W,visible:te}=this.getParentNodeWithListIndex(R),ae=R[R.length-1];if(ae<0||ae>h.children.length)throw new j(this.user,"Invalid tree location");const Ce=h.children[ae];return{node:Ce,listIndex:x,revealed:W,visible:te&&Ce.visible}}getParentNodeWithListIndex(R,h=this.root,x=0,W=!0,te=!0){const[ae,...Ce]=R;if(ae<0||ae>h.children.length)throw new j(this.user,"Invalid tree location");for(let Oe=0;Oe<ae;Oe++)x+=h.children[Oe].renderNodeCount;return W=W&&!h.collapsed,te=te&&h.visible,0===Ce.length?{parentNode:h,listIndex:x,revealed:W,visible:te}:this.getParentNodeWithListIndex(Ce,h.children[ae],x+1,W,te)}getNode(R=[]){return this.getTreeNode(R)}getNodeLocation(R){const h=[];let x=R;for(;x.parent;)h.push(x.parent.children.indexOf(x)),x=x.parent;return h.reverse()}getParentNodeLocation(R){if(0!==R.length)return 1===R.length?[]:(0,g.JH)(R)[0]}getFirstElementChild(R){const h=this.getTreeNode(R);if(0!==h.children.length)return h.children[0].element}}var q=m(78968),le=m(81530),ee=m(56260),X=m(31096),re=m(70700),ve=(m(79652),m(12918));class ke extends I.kX{constructor(R){super(R.elements.map(h=>h.element)),this.data=R}}function Ve(wt){return wt instanceof I.kX?new ke(wt):wt}class Ue{constructor(R,h){this.modelProvider=R,this.dnd=h,this.autoExpandDisposable=E.JT.None}getDragURI(R){return this.dnd.getDragURI(R.element)}getDragLabel(R,h){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(R.map(x=>x.element),h)}onDragStart(R,h){this.dnd.onDragStart&&this.dnd.onDragStart(Ve(R),h)}onDragOver(R,h,x,W,te=!0){const ae=this.dnd.onDragOver(Ve(R),h&&h.element,x,W),Ce=this.autoExpandNode!==h;if(Ce&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=h),void 0===h)return ae;if(Ce&&"boolean"!=typeof ae&&ae.autoExpand&&(this.autoExpandDisposable=(0,oe.Vg)(()=>{const it=this.modelProvider(),ht=it.getNodeLocation(h);it.isCollapsed(ht)&&it.setCollapsed(ht,!1),this.autoExpandNode=void 0},500)),"boolean"==typeof ae||!ae.accept||void 0===ae.bubble||ae.feedback)return te?ae:{accept:"boolean"==typeof ae?ae:ae.accept,effect:"boolean"==typeof ae?void 0:ae.effect,feedback:[x]};if(1===ae.bubble){const it=this.modelProvider(),ht=it.getNodeLocation(h),gt=it.getParentNodeLocation(ht),Et=it.getNode(gt),Ft=gt&&it.getListIndex(gt);return this.onDragOver(R,Et,Ft,W,!1)}const Oe=this.modelProvider(),Fe=Oe.getNodeLocation(h),Ge=Oe.getListIndex(Fe),Je=Oe.getListRenderCount(Fe);return Object.assign(Object.assign({},ae),{feedback:(0,g.w6)(Ge,Ge+Je)})}drop(R,h,x,W){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(Ve(R),h&&h.element,x,W)}onDragEnd(R){this.dnd.onDragEnd&&this.dnd.onDragEnd(R)}}class _e{constructor(R){this.delegate=R}getHeight(R){return this.delegate.getHeight(R.element)}getTemplateId(R){return this.delegate.getTemplateId(R.element)}hasDynamicHeight(R){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(R.element)}setDynamicHeight(R,h){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(R.element,h)}}var Re=(()=>{return(wt=Re||(Re={})).None="none",wt.OnHover="onHover",wt.Always="always",Re;var wt})();class et{constructor(R,h=[]){this._elements=h,this.onDidChange=B.ju.forEach(R,x=>this._elements=x)}get elements(){return this._elements}}let Ze=(()=>{class wt{constructor(h,x,W,te,ae={}){this.renderer=h,this.modelProvider=x,this.activeNodes=te,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=wt.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new le.r,this.activeIndentNodes=new Set,this.indentGuidesDisposable=E.JT.None,this.disposables=new E.SL,this.templateId=h.templateId,this.updateOptions(ae),B.ju.map(W,Ce=>Ce.node)(this.onDidChangeNodeTwistieState,this,this.disposables),h.onDidChangeTwistieState&&h.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}updateOptions(h={}){if(void 0!==h.indent&&(this.indent=(0,X.uZ)(h.indent,0,40)),void 0!==h.renderIndentGuides){const x=h.renderIndentGuides!==Re.None;if(x!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=x,this.indentGuidesDisposable.dispose(),x)){const W=new E.SL;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,W),this.indentGuidesDisposable=W,this._onDidChangeActiveNodes(this.activeNodes.elements)}}void 0!==h.hideTwistiesOfChildlessElements&&(this.hideTwistiesOfChildlessElements=h.hideTwistiesOfChildlessElements)}renderTemplate(h){const x=(0,M.R3)(h,(0,M.$)(".monaco-tl-row")),W=(0,M.R3)(x,(0,M.$)(".monaco-tl-indent")),te=(0,M.R3)(x,(0,M.$)(".monaco-tl-twistie")),ae=(0,M.R3)(x,(0,M.$)(".monaco-tl-contents")),Ce=this.renderer.renderTemplate(ae);return{container:h,indent:W,twistie:te,indentGuidesDisposable:E.JT.None,templateData:Ce}}renderElement(h,x,W,te){"number"==typeof te&&(this.renderedNodes.set(h,{templateData:W,height:te}),this.renderedElements.set(h.element,h));const ae=wt.DefaultIndent+(h.depth-1)*this.indent;W.twistie.style.paddingLeft=`${ae}px`,W.indent.style.width=ae+this.indent-16+"px",this.renderTwistie(h,W),"number"==typeof te&&this.renderIndentGuides(h,W),this.renderer.renderElement(h,x,W.templateData,te)}disposeElement(h,x,W,te){W.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(h,x,W.templateData,te),"number"==typeof te&&(this.renderedNodes.delete(h),this.renderedElements.delete(h.element))}disposeTemplate(h){this.renderer.disposeTemplate(h.templateData)}onDidChangeTwistieState(h){const x=this.renderedElements.get(h);!x||this.onDidChangeNodeTwistieState(x)}onDidChangeNodeTwistieState(h){const x=this.renderedNodes.get(h);!x||(this.renderTwistie(h,x.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(h,x.templateData))}renderTwistie(h,x){x.twistie.classList.remove(...q.lA.treeItemExpanded.classNamesArray);let W=!1;this.renderer.renderTwistie&&(W=this.renderer.renderTwistie(h.element,x.twistie)),h.collapsible&&(!this.hideTwistiesOfChildlessElements||h.visibleChildrenCount>0)?(W||x.twistie.classList.add(...q.lA.treeItemExpanded.classNamesArray),x.twistie.classList.add("collapsible"),x.twistie.classList.toggle("collapsed",h.collapsed)):x.twistie.classList.remove("collapsible","collapsed"),h.collapsible?x.container.setAttribute("aria-expanded",String(!h.collapsed)):x.container.removeAttribute("aria-expanded")}renderIndentGuides(h,x){if((0,M.PO)(x.indent),x.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const W=new E.SL,te=this.modelProvider();let ae=h;for(;;){const Ce=te.getNodeLocation(ae),Oe=te.getParentNodeLocation(Ce);if(!Oe)break;const Fe=te.getNode(Oe),Ge=(0,M.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(Fe)&&Ge.classList.add("active"),0===x.indent.childElementCount?x.indent.appendChild(Ge):x.indent.insertBefore(Ge,x.indent.firstElementChild),this.renderedIndentGuides.add(Fe,Ge),W.add((0,E.OF)(()=>this.renderedIndentGuides.delete(Fe,Ge))),ae=Fe}x.indentGuidesDisposable=W}_onDidChangeActiveNodes(h){if(!this.shouldRenderIndentGuides)return;const x=new Set,W=this.modelProvider();h.forEach(te=>{const ae=W.getNodeLocation(te);try{const Ce=W.getParentNodeLocation(ae);te.collapsible&&te.children.length>0&&!te.collapsed?x.add(te):Ce&&x.add(W.getNode(Ce))}catch{}}),this.activeIndentNodes.forEach(te=>{x.has(te)||this.renderedIndentGuides.forEach(te,ae=>ae.classList.remove("active"))}),x.forEach(te=>{this.activeIndentNodes.has(te)||this.renderedIndentGuides.forEach(te,ae=>ae.classList.add("active"))}),this.activeIndentNodes=x}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,E.B9)(this.disposables)}}return wt.DefaultIndent=8,wt})();class Pe{constructor(R,h,x){this.tree=R,this.keyboardNavigationLabelProvider=h,this._filter=x,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new E.SL,R.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}set pattern(R){this._pattern=R,this._lowercasePattern=R.toLowerCase()}filter(R,h){if(this._filter){const te=this._filter.filter(R,h);if(this.tree.options.simpleKeyboardNavigation)return te;let ae;if(ae="boolean"==typeof te?te?1:0:pe(te)?we(te.visibility):te,0===ae)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:ee.CL.Default,visibility:!0};const x=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(R),W=Array.isArray(x)?x:[x];for(const te of W){const ae=te&&te.toString();if(void 0===ae)return{data:ee.CL.Default,visibility:!0};const Ce=(0,ee.EW)(this._pattern,this._lowercasePattern,0,ae,ae.toLowerCase(),0,!0);if(Ce)return this._matchCount++,1===W.length?{data:Ce,visibility:!0}:{data:{label:ae,score:Ce},visibility:!0}}return this.tree.options.filterOnType?2:{data:ee.CL.Default,visibility:!0}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,E.B9)(this.disposables)}}class rt{constructor(R,h,x,W,te){this.tree=R,this.view=x,this.filter=W,this.keyboardNavigationDelegate=te,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new B.Q5,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new B.Q5,this.enabledDisposables=new E.SL,this.disposables=new E.SL,this.domNode=(0,M.$)(`.monaco-list-type-filter.${this.positionClassName}`),this.domNode.draggable=!0,this.disposables.add((0,M.nm)(this.domNode,"dragstart",()=>this.onDragStart())),this.messageDomNode=(0,M.R3)(x.getHTMLElement(),(0,M.$)(".monaco-list-type-filter-message")),this.labelDomNode=(0,M.R3)(this.domNode,(0,M.$)("span.label"));const ae=(0,M.R3)(this.domNode,(0,M.$)(".controls"));this._filterOnType=!!R.options.filterOnType,this.filterOnTypeDomNode=(0,M.R3)(ae,(0,M.$)("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitleAndIcon(),this.disposables.add((0,M.nm)(this.filterOnTypeDomNode,"input",()=>this.onDidChangeFilterOnType())),this.clearDomNode=(0,M.R3)(ae,(0,M.$)("button.clear"+q.lA.treeFilterClear.cssSelector)),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=(0,ve.N)("clear","Clear"),this.keyboardNavigationEventFilter=R.options.keyboardNavigationEventFilter,h.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(R.options)}get enabled(){return this._enabled}get pattern(){return this._pattern}get filterOnType(){return this._filterOnType}updateOptions(R){R.simpleKeyboardNavigation?this.disable():this.enable(),void 0!==R.filterOnType&&(this._filterOnType=!!R.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType,this.updateFilterOnTypeTitleAndIcon()),void 0!==R.automaticKeyboardNavigation&&(this.automaticKeyboardNavigation=R.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")}enable(){if(this._enabled)return;const R=this.enabledDisposables.add(new P.Y(this.view.getHTMLElement(),"keydown")),h=B.ju.chain(R.event).filter(W=>!(0,O.cK)(W.target)||W.target===this.filterOnTypeDomNode).filter(W=>"Dead"!==W.key&&!/^Media/.test(W.key)).map(W=>new k.y(W)).filter(this.keyboardNavigationEventFilter||(()=>!0)).filter(()=>this.automaticKeyboardNavigation||this.triggered).filter(W=>this.keyboardNavigationDelegate.mightProducePrintableCharacter(W)&&!(18===W.keyCode||16===W.keyCode||15===W.keyCode||17===W.keyCode)||(this.pattern.length>0||this.triggered)&&(9===W.keyCode||1===W.keyCode)&&!W.altKey&&!W.ctrlKey&&!W.metaKey||1===W.keyCode&&(re.dz?W.altKey&&!W.metaKey:W.ctrlKey)&&!W.shiftKey).forEach(W=>{W.stopPropagation(),W.preventDefault()}).event,x=this.enabledDisposables.add(new P.Y(this.clearDomNode,"click"));B.ju.chain(B.ju.any(h,x.event)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}disable(){!this._enabled||(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)}onEventOrInput(R){"string"==typeof R?this.onInput(R):R instanceof MouseEvent||9===R.keyCode||1===R.keyCode&&(re.dz?R.altKey:R.ctrlKey)?this.onInput(""):this.onInput(1===R.keyCode?0===this.pattern.length?"":this.pattern.substr(0,this.pattern.length-1):this.pattern+R.browserEvent.key)}onInput(R){const h=this.view.getHTMLElement();R&&!this.domNode.parentElement?h.append(this.domNode):!R&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=R,this._onDidChangePattern.fire(R),this.filter.pattern=R,this.tree.refilter(),R&&this.tree.focusNext(0,!0,void 0,W=>!ee.CL.isDefault(W.filterData));const x=this.tree.getFocus();if(x.length>0){const W=x[0];null===this.tree.getRelativeTop(W)&&this.tree.reveal(W,.5)}this.render(),R||(this.triggered=!1)}onDragStart(){const R=this.view.getHTMLElement(),{left:h}=(0,M.i)(R),x=R.clientWidth,W=x/2,te=this.domNode.clientWidth,ae=new E.SL;let Ce=this.positionClassName;const Oe=()=>{switch(Ce){case"nw":this.domNode.style.top="4px",this.domNode.style.left="4px";break;case"ne":this.domNode.style.top="4px",this.domNode.style.left=x-te-6+"px"}},Ge=()=>{this.positionClassName=Ce,this.domNode.className=`monaco-list-type-filter ${this.positionClassName}`,this.domNode.style.top="",this.domNode.style.left="",(0,E.B9)(ae)};Oe(),this.domNode.classList.remove(Ce),this.domNode.classList.add("dragging"),ae.add((0,E.OF)(()=>this.domNode.classList.remove("dragging"))),ae.add((0,M.nm)(document,"dragover",Je=>(Je=>{Je.preventDefault();const it=Je.clientX-h;Je.dataTransfer&&(Je.dataTransfer.dropEffect="none"),Ce=it<W?"nw":"ne",Oe()})(Je))),ae.add((0,M.nm)(this.domNode,"dragend",()=>Ge())),Z.P$.CurrentDragAndDropData=new Z.TN("vscode-ui"),ae.add((0,E.OF)(()=>Z.P$.CurrentDragAndDropData=void 0))}onDidSpliceModel(){!this._enabled||0===this.pattern.length||(this.tree.refilter(),this.render())}onDidChangeFilterOnType(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitleAndIcon()}updateFilterOnTypeTitleAndIcon(){this.filterOnType?(this.filterOnTypeDomNode.classList.remove(...q.lA.treeFilterOnTypeOff.classNamesArray),this.filterOnTypeDomNode.classList.add(...q.lA.treeFilterOnTypeOn.classNamesArray),this.filterOnTypeDomNode.title=(0,ve.N)("disable filter on type","Disable Filter on Type")):(this.filterOnTypeDomNode.classList.remove(...q.lA.treeFilterOnTypeOn.classNamesArray),this.filterOnTypeDomNode.classList.add(...q.lA.treeFilterOnTypeOff.classNamesArray),this.filterOnTypeDomNode.title=(0,ve.N)("enable filter on type","Enable Filter on Type"))}render(){const R=this.filter.totalCount>0&&0===this.filter.matchCount;this.pattern&&this.tree.options.filterOnType&&R?(this.messageDomNode.textContent=(0,ve.N)("empty","No elements found"),this._empty=!0):(this.messageDomNode.innerText="",this._empty=!1),this.domNode.classList.toggle("no-matches",R),this.domNode.title=(0,ve.N)("found","Matched {0} out of {1} elements",this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?"\u2026"+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)}shouldAllowFocus(R){return!(this.enabled&&this.pattern&&!this.filterOnType&&!(this.filter.totalCount>0&&this.filter.matchCount<=1)&&ee.CL.isDefault(R.filterData))}dispose(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),(0,E.B9)(this.disposables)}}function ut(wt){let R=$.Unknown;return(0,M.uU)(wt.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?R=$.Twistie:(0,M.uU)(wt.browserEvent.target,"monaco-tl-contents","monaco-tl-row")&&(R=$.Element),{browserEvent:wt.browserEvent,element:wt.element?wt.element.element:null,target:R}}function nt(wt,R){R(wt),wt.children.forEach(h=>nt(h,R))}class Se{constructor(R,h){this.getFirstViewElementWithTrait=R,this.identityProvider=h,this.nodes=[],this._onDidChange=new B.Q5,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(R,h){!(null==h?void 0:h.__forceEvent)&&(0,g.fS)(this.nodes,R)||this._set(R,!1,h)}_set(R,h,x){if(this.nodes=[...R],this.elements=void 0,this._nodeSet=void 0,!h){const W=this;this._onDidChange.fire({get elements(){return W.get()},browserEvent:x})}}get(){return this.elements||(this.elements=this.nodes.map(R=>R.element)),[...this.elements]}getNodes(){return this.nodes}has(R){return this.nodeSet.has(R)}onDidModelSplice({insertedNodes:R,deletedNodes:h}){if(!this.identityProvider){const Oe=this.createNodeSet(),Fe=Ge=>Oe.delete(Ge);return h.forEach(Ge=>nt(Ge,Fe)),void this.set([...Oe.values()])}const x=new Set,W=Oe=>x.add(this.identityProvider.getId(Oe.element).toString());h.forEach(Oe=>nt(Oe,W));const te=new Map,ae=Oe=>te.set(this.identityProvider.getId(Oe.element).toString(),Oe);R.forEach(Oe=>nt(Oe,ae));const Ce=[];for(const Oe of this.nodes){const Fe=this.identityProvider.getId(Oe.element).toString();if(x.has(Fe)){const Je=te.get(Fe);Je&&Ce.push(Je)}else Ce.push(Oe)}if(this.nodes.length>0&&0===Ce.length){const Oe=this.getFirstViewElementWithTrait();Oe&&Ce.push(Oe)}this._set(Ce,!0)}createNodeSet(){const R=new Set;for(const h of this.nodes)R.add(h);return R}}class Ne extends O.sx{constructor(R,h){super(R),this.tree=h}onViewPointer(R){if((0,O.cK)(R.browserEvent.target)||(0,O.hD)(R.browserEvent.target))return;const h=R.element;if(!h)return super.onViewPointer(R);if(this.isSelectionRangeChangeEvent(R)||this.isSelectionSingleChangeEvent(R))return super.onViewPointer(R);const x=R.browserEvent.target,W=x.classList.contains("monaco-tl-twistie")||x.classList.contains("monaco-icon-label")&&x.classList.contains("folder-icon")&&R.browserEvent.offsetX<16;let te=!1;if(te="function"==typeof this.tree.expandOnlyOnTwistieClick?this.tree.expandOnlyOnTwistieClick(h.element):!!this.tree.expandOnlyOnTwistieClick,te&&!W&&2!==R.browserEvent.detail)return super.onViewPointer(R);if(!this.tree.expandOnDoubleClick&&2===R.browserEvent.detail)return super.onViewPointer(R);if(h.collapsible){const ae=this.tree.model,Ce=ae.getNodeLocation(h),Oe=R.browserEvent.altKey;if(this.tree.setFocus([Ce]),ae.setCollapsed(Ce,void 0,Oe),te&&W)return}super.onViewPointer(R)}onDoubleClick(R){R.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(R)}}class at extends O.aV{constructor(R,h,x,W,te,ae,Ce,Oe){super(R,h,x,W,Oe),this.focusTrait=te,this.selectionTrait=ae,this.anchorTrait=Ce}createMouseController(R){return new Ne(this,R.tree)}splice(R,h,x=[]){if(super.splice(R,h,x),0===x.length)return;const W=[],te=[];let ae;x.forEach((Ce,Oe)=>{this.focusTrait.has(Ce)&&W.push(R+Oe),this.selectionTrait.has(Ce)&&te.push(R+Oe),this.anchorTrait.has(Ce)&&(ae=R+Oe)}),W.length>0&&super.setFocus((0,g.EB)([...super.getFocus(),...W])),te.length>0&&super.setSelection((0,g.EB)([...super.getSelection(),...te])),"number"==typeof ae&&super.setAnchor(ae)}setFocus(R,h,x=!1){super.setFocus(R,h),x||this.focusTrait.set(R.map(W=>this.element(W)),h)}setSelection(R,h,x=!1){super.setSelection(R,h),x||this.selectionTrait.set(R.map(W=>this.element(W)),h)}setAnchor(R,h=!1){super.setAnchor(R),h||this.anchorTrait.set(void 0===R?[]:[this.element(R)])}}class _t{constructor(R,h,x,W,te={}){this._user=R,this._options=te,this.eventBufferer=new B.E7,this.disposables=new E.SL,this._onWillRefilter=new B.Q5,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new B.Q5;const ae=new _e(x),Ce=new B.ZD,Oe=new B.ZD,Fe=new et(Oe.event);this.renderers=W.map(it=>new Ze(it,()=>this.model,Ce.event,Fe,te));for(let it of this.renderers)this.disposables.add(it);let Ge;te.keyboardNavigationLabelProvider&&(Ge=new Pe(this,te.keyboardNavigationLabelProvider,te.filter),te=Object.assign(Object.assign({},te),{filter:Ge}),this.disposables.add(Ge)),this.focus=new Se(()=>this.view.getFocusedElements()[0],te.identityProvider),this.selection=new Se(()=>this.view.getSelectedElements()[0],te.identityProvider),this.anchor=new Se(()=>this.view.getAnchorElement(),te.identityProvider),this.view=new at(R,h,ae,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},function(wt,R){return R&&Object.assign(Object.assign({},R),{identityProvider:R.identityProvider&&{getId:h=>R.identityProvider.getId(h.element)},dnd:R.dnd&&new Ue(wt,R.dnd),multipleSelectionController:R.multipleSelectionController&&{isSelectionSingleChangeEvent:h=>R.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},h),{element:h.element})),isSelectionRangeChangeEvent:h=>R.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},h),{element:h.element}))},accessibilityProvider:R.accessibilityProvider&&Object.assign(Object.assign({},R.accessibilityProvider),{getSetSize(h){const x=wt(),W=x.getNodeLocation(h),te=x.getParentNodeLocation(W);return x.getNode(te).visibleChildrenCount},getPosInSet:h=>h.visibleChildIndex+1,isChecked:R.accessibilityProvider&&R.accessibilityProvider.isChecked?h=>R.accessibilityProvider.isChecked(h.element):void 0,getRole:R.accessibilityProvider&&R.accessibilityProvider.getRole?h=>R.accessibilityProvider.getRole(h.element):()=>"treeitem",getAriaLabel:h=>R.accessibilityProvider.getAriaLabel(h.element),getWidgetAriaLabel:()=>R.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:R.accessibilityProvider&&R.accessibilityProvider.getWidgetRole?()=>R.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:R.accessibilityProvider&&R.accessibilityProvider.getAriaLevel?h=>R.accessibilityProvider.getAriaLevel(h.element):h=>h.depth,getActiveDescendantId:R.accessibilityProvider.getActiveDescendantId&&(h=>R.accessibilityProvider.getActiveDescendantId(h.element))}),keyboardNavigationLabelProvider:R.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},R.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:h=>R.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(h.element)}),enableKeyboardNavigation:R.simpleKeyboardNavigation})}(()=>this.model,te)),{tree:this})),this.model=this.createModel(R,this.view,te),Ce.input=this.model.onDidChangeCollapseState;const Je=B.ju.forEach(this.model.onDidSplice,it=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(it),this.selection.onDidModelSplice(it)})});if(Je(()=>null,null,this.disposables),Oe.input=B.ju.chain(B.ju.any(Je,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const it=new Set;for(const ht of this.focus.getNodes())it.add(ht);for(const ht of this.selection.getNodes())it.add(ht);return[...it.values()]}).event,!1!==te.keyboardSupport){const it=B.ju.chain(this.view.onKeyDown).filter(ht=>!(0,O.cK)(ht.target)).map(ht=>new k.y(ht));it.filter(ht=>15===ht.keyCode).on(this.onLeftArrow,this,this.disposables),it.filter(ht=>17===ht.keyCode).on(this.onRightArrow,this,this.disposables),it.filter(ht=>10===ht.keyCode).on(this.onSpace,this,this.disposables)}te.keyboardNavigationLabelProvider&&(this.typeFilterController=new rt(this,this.model,this.view,Ge,te.keyboardNavigationDelegate||O.WK),this.focusNavigationFilter=ht=>this.typeFilterController.shouldAllowFocus(ht),this.disposables.add(this.typeFilterController)),this.styleElement=(0,M.dS)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Re.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return B.ju.map(this.view.onMouseDblClick,ut)}get onPointer(){return B.ju.map(this.view.onPointer,ut)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return B.ju.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get expandOnDoubleClick(){return void 0===this._options.expandOnDoubleClick||this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return void 0===this._options.expandOnlyOnTwistieClick||this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(R={}){this._options=Object.assign(Object.assign({},this._options),R);for(const h of this.renderers)h.updateOptions(R);this.view.updateOptions(Object.assign(Object.assign({},this._options),{enableKeyboardNavigation:this._options.simpleKeyboardNavigation})),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Re.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(R){this.view.scrollTop=R}domFocus(){this.view.domFocus()}layout(R,h){this.view.layout(R,h)}style(R){const h=`.${this.view.domId}`,x=[];R.treeIndentGuidesStroke&&(x.push(`.monaco-list${h}:hover .monaco-tl-indent > .indent-guide, .monaco-list${h}.always .monaco-tl-indent > .indent-guide  { border-color: ${R.treeIndentGuidesStroke.transparent(.4)}; }`),x.push(`.monaco-list${h} .monaco-tl-indent > .indent-guide.active { border-color: ${R.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=x.join("\n"),this.view.style(R)}getParentElement(R){const h=this.model.getParentNodeLocation(R);return this.model.getNode(h).element}getFirstElementChild(R){return this.model.getFirstElementChild(R)}getNode(R){return this.model.getNode(R)}collapse(R,h=!1){return this.model.setCollapsed(R,!0,h)}expand(R,h=!1){return this.model.setCollapsed(R,!1,h)}isCollapsible(R){return this.model.isCollapsible(R)}setCollapsible(R,h){return this.model.setCollapsible(R,h)}isCollapsed(R){return this.model.isCollapsed(R)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(R,h){const x=R.map(te=>this.model.getNode(te));this.selection.set(x,h);const W=R.map(te=>this.model.getListIndex(te)).filter(te=>te>-1);this.view.setSelection(W,h,!0)}getSelection(){return this.selection.get()}setFocus(R,h){const x=R.map(te=>this.model.getNode(te));this.focus.set(x,h);const W=R.map(te=>this.model.getListIndex(te)).filter(te=>te>-1);this.view.setFocus(W,h,!0)}focusNext(R=1,h=!1,x,W=this.focusNavigationFilter){this.view.focusNext(R,h,x,W)}getFocus(){return this.focus.get()}reveal(R,h){this.model.expandTo(R);const x=this.model.getListIndex(R);-1!==x&&this.view.reveal(x,h)}getRelativeTop(R){const h=this.model.getListIndex(R);return-1===h?null:this.view.getRelativeTop(h)}onLeftArrow(R){R.preventDefault(),R.stopPropagation();const h=this.view.getFocusedElements();if(0===h.length)return;const W=this.model.getNodeLocation(h[0]);if(!this.model.setCollapsed(W,!0)){const ae=this.model.getParentNodeLocation(W);if(!ae)return;const Ce=this.model.getListIndex(ae);this.view.reveal(Ce),this.view.setFocus([Ce])}}onRightArrow(R){R.preventDefault(),R.stopPropagation();const h=this.view.getFocusedElements();if(0===h.length)return;const x=h[0],W=this.model.getNodeLocation(x);if(!this.model.setCollapsed(W,!1)){if(!x.children.some(Oe=>Oe.visible))return;const[ae]=this.view.getFocus(),Ce=ae+1;this.view.reveal(Ce),this.view.setFocus([Ce])}}onSpace(R){R.preventDefault(),R.stopPropagation();const h=this.view.getFocusedElements();if(0===h.length)return;const W=this.model.getNodeLocation(h[0]);this.model.setCollapsed(W,void 0,R.browserEvent.altKey)}dispose(){(0,E.B9)(this.disposables),this.view.dispose()}}class zt{constructor(R,h,x={}){this.user=R,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new Q(R,h,null,x),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,x.sorter&&(this.sorter={compare:(W,te)=>x.sorter.compare(W.element,te.element)}),this.identityProvider=x.identityProvider}setChildren(R,h=fe.$.empty(),x={}){const W=this.getElementLocation(R);this._setChildren(W,this.preserveCollapseState(h),x)}_setChildren(R,h=fe.$.empty(),x){const W=new Set,te=new Set;this.model.splice([...R,0],Number.MAX_VALUE,h,Object.assign(Object.assign({},x),{onDidCreateNode:Oe=>{var Fe;if(null===Oe.element)return;const Ge=Oe;if(W.add(Ge.element),this.nodes.set(Ge.element,Ge),this.identityProvider){const Je=this.identityProvider.getId(Ge.element).toString();te.add(Je),this.nodesByIdentity.set(Je,Ge)}null===(Fe=x.onDidCreateNode)||void 0===Fe||Fe.call(x,Ge)},onDidDeleteNode:Oe=>{var Fe;if(null===Oe.element)return;const Ge=Oe;if(W.has(Ge.element)||this.nodes.delete(Ge.element),this.identityProvider){const Je=this.identityProvider.getId(Ge.element).toString();te.has(Je)||this.nodesByIdentity.delete(Je)}null===(Fe=x.onDidDeleteNode)||void 0===Fe||Fe.call(x,Ge)}}))}preserveCollapseState(R=fe.$.empty()){return this.sorter&&(R=[...R].sort(this.sorter.compare.bind(this.sorter))),fe.$.map(R,h=>{let x=this.nodes.get(h.element);if(!x&&this.identityProvider){const ae=this.identityProvider.getId(h.element).toString();x=this.nodesByIdentity.get(ae)}if(!x)return Object.assign(Object.assign({},h),{children:this.preserveCollapseState(h.children)});const W="boolean"==typeof h.collapsible?h.collapsible:x.collapsible,te=void 0!==h.collapsed?h.collapsed:x.collapsed;return Object.assign(Object.assign({},h),{collapsible:W,collapsed:te,children:this.preserveCollapseState(h.children)})})}rerender(R){const h=this.getElementLocation(R);this.model.rerender(h)}getFirstElementChild(R=null){const h=this.getElementLocation(R);return this.model.getFirstElementChild(h)}has(R){return this.nodes.has(R)}getListIndex(R){const h=this.getElementLocation(R);return this.model.getListIndex(h)}getListRenderCount(R){const h=this.getElementLocation(R);return this.model.getListRenderCount(h)}isCollapsible(R){const h=this.getElementLocation(R);return this.model.isCollapsible(h)}setCollapsible(R,h){const x=this.getElementLocation(R);return this.model.setCollapsible(x,h)}isCollapsed(R){const h=this.getElementLocation(R);return this.model.isCollapsed(h)}setCollapsed(R,h,x){const W=this.getElementLocation(R);return this.model.setCollapsed(W,h,x)}expandTo(R){const h=this.getElementLocation(R);this.model.expandTo(h)}refilter(){this.model.refilter()}getNode(R=null){if(null===R)return this.model.getNode(this.model.rootRef);const h=this.nodes.get(R);if(!h)throw new j(this.user,`Tree element not found: ${R}`);return h}getNodeLocation(R){return R.element}getParentNodeLocation(R){if(null===R)throw new j(this.user,"Invalid getParentNodeLocation call");const h=this.nodes.get(R);if(!h)throw new j(this.user,`Tree element not found: ${R}`);const x=this.model.getNodeLocation(h),W=this.model.getParentNodeLocation(x);return this.model.getNode(W).element}getElementLocation(R){if(null===R)return[];const h=this.nodes.get(R);if(!h)throw new j(this.user,`Tree element not found: ${R}`);return this.model.getNodeLocation(h)}}function pn(wt){return{element:{elements:[wt.element],incompressible:wt.incompressible||!1},children:fe.$.map(fe.$.from(wt.children),pn),collapsible:wt.collapsible,collapsed:wt.collapsed}}function mt(wt){const R=[wt.element],h=wt.incompressible||!1;let x,W;for(;[W,x]=fe.$.consume(fe.$.from(wt.children),2),1===W.length&&!W[0].incompressible;)R.push((wt=W[0]).element);return{element:{elements:R,incompressible:h},children:fe.$.map(fe.$.concat(W,x),mt),collapsible:wt.collapsible,collapsed:wt.collapsed}}function Rt(wt,R=0){let h;return h=R<wt.element.elements.length-1?[Rt(wt,R+1)]:fe.$.map(fe.$.from(wt.children),x=>Rt(x,0)),0===R&&wt.element.incompressible?{element:wt.element.elements[R],children:h,incompressible:!0,collapsible:wt.collapsible,collapsed:wt.collapsed}:{element:wt.element.elements[R],children:h,collapsible:wt.collapsible,collapsed:wt.collapsed}}function Bt(wt){return Rt(wt,0)}function Wt(wt,R,h){return Object.assign(Object.assign({},wt),wt.element===R?{children:h}:{children:fe.$.map(fe.$.from(wt.children),x=>Wt(x,R,h))})}class Ye{constructor(R,h,x={}){this.user=R,this.rootRef=null,this.nodes=new Map,this.model=new zt(R,h,x),this.enabled=void 0===x.compressionEnabled||x.compressionEnabled,this.identityProvider=x.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(R,h=fe.$.empty(),x){const W=x.diffIdentityProvider&&(wt=x.diffIdentityProvider,{getId:R=>R.elements.map(h=>wt.getId(h).toString()).join("\0")});var wt;if(null===R){const ht=fe.$.map(h,this.enabled?mt:pn);return void this._setChildren(null,ht,{diffIdentityProvider:W,diffDepth:1/0})}const te=this.nodes.get(R);if(!te)throw new Error("Unknown compressed tree node");const ae=this.model.getNode(te),Ce=this.model.getParentNodeLocation(te),Oe=this.model.getNode(Ce),Ge=Wt(Bt(ae),R,h),Je=(this.enabled?mt:pn)(Ge),it=Oe.children.map(ht=>ht===ae?Je:ht);this._setChildren(Oe.element,it,{diffIdentityProvider:W,diffDepth:ae.depth-Oe.depth})}setCompressionEnabled(R){if(R===this.enabled)return;this.enabled=R;const x=this.model.getNode().children,W=fe.$.map(x,Bt),te=fe.$.map(W,R?mt:pn);this._setChildren(null,te,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(R,h,x){const W=new Set;this.model.setChildren(R,h,Object.assign(Object.assign({},x),{onDidCreateNode:Ce=>{for(const Oe of Ce.element.elements)W.add(Oe),this.nodes.set(Oe,Ce.element)},onDidDeleteNode:Ce=>{for(const Oe of Ce.element.elements)W.has(Oe)||this.nodes.delete(Oe)}}))}has(R){return this.nodes.has(R)}getListIndex(R){const h=this.getCompressedNode(R);return this.model.getListIndex(h)}getListRenderCount(R){const h=this.getCompressedNode(R);return this.model.getListRenderCount(h)}getNode(R){if(void 0===R)return this.model.getNode();const h=this.getCompressedNode(R);return this.model.getNode(h)}getNodeLocation(R){const h=this.model.getNodeLocation(R);return null===h?null:h.elements[h.elements.length-1]}getParentNodeLocation(R){const h=this.getCompressedNode(R),x=this.model.getParentNodeLocation(h);return null===x?null:x.elements[x.elements.length-1]}getFirstElementChild(R){const h=this.getCompressedNode(R);return this.model.getFirstElementChild(h)}isCollapsible(R){const h=this.getCompressedNode(R);return this.model.isCollapsible(h)}setCollapsible(R,h){const x=this.getCompressedNode(R);return this.model.setCollapsible(x,h)}isCollapsed(R){const h=this.getCompressedNode(R);return this.model.isCollapsed(h)}setCollapsed(R,h,x){const W=this.getCompressedNode(R);return this.model.setCollapsed(W,h,x)}expandTo(R){const h=this.getCompressedNode(R);this.model.expandTo(h)}rerender(R){const h=this.getCompressedNode(R);this.model.rerender(h)}refilter(){this.model.refilter()}getCompressedNode(R){if(null===R)return null;const h=this.nodes.get(R);if(!h)throw new j(this.user,`Tree element not found: ${R}`);return h}}const Dt=wt=>wt[wt.length-1];class St{constructor(R,h){this.unwrapper=R,this.node=h}get element(){return null===this.node.element?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(R=>new St(this.unwrapper,R))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class sn{constructor(R,h,x={}){this.rootRef=null,this.elementMapper=x.elementMapper||Dt;const W=te=>this.elementMapper(te.elements);this.nodeMapper=new G(te=>new St(W,te)),this.model=new Ye(R,function(wt,R){return{splice(h,x,W){R.splice(h,x,W.map(te=>wt.map(te)))},updateElementHeight(h,x){R.updateElementHeight(h,x)}}}(this.nodeMapper,h),function(wt,R){return Object.assign(Object.assign({},R),{identityProvider:R.identityProvider&&{getId:h=>R.identityProvider.getId(wt(h))},sorter:R.sorter&&{compare:(h,x)=>R.sorter.compare(h.elements[0],x.elements[0])},filter:R.filter&&{filter:(h,x)=>R.filter.filter(wt(h),x)}})}(W,x))}get onDidSplice(){return B.ju.map(this.model.onDidSplice,({insertedNodes:R,deletedNodes:h})=>({insertedNodes:R.map(x=>this.nodeMapper.map(x)),deletedNodes:h.map(x=>this.nodeMapper.map(x))}))}get onDidChangeCollapseState(){return B.ju.map(this.model.onDidChangeCollapseState,({node:R,deep:h})=>({node:this.nodeMapper.map(R),deep:h}))}get onDidChangeRenderNodeCount(){return B.ju.map(this.model.onDidChangeRenderNodeCount,R=>this.nodeMapper.map(R))}setChildren(R,h=fe.$.empty(),x={}){this.model.setChildren(R,h,x)}setCompressionEnabled(R){this.model.setCompressionEnabled(R)}has(R){return this.model.has(R)}getListIndex(R){return this.model.getListIndex(R)}getListRenderCount(R){return this.model.getListRenderCount(R)}getNode(R){return this.nodeMapper.map(this.model.getNode(R))}getNodeLocation(R){return R.element}getParentNodeLocation(R){return this.model.getParentNodeLocation(R)}getFirstElementChild(R){const h=this.model.getFirstElementChild(R);return null==h?h:this.elementMapper(h.elements)}isCollapsible(R){return this.model.isCollapsible(R)}setCollapsible(R,h){return this.model.setCollapsible(R,h)}isCollapsed(R){return this.model.isCollapsed(R)}setCollapsed(R,h,x){return this.model.setCollapsed(R,h,x)}expandTo(R){return this.model.expandTo(R)}rerender(R){return this.model.rerender(R)}refilter(){return this.model.refilter()}getCompressedTreeNode(R=null){return this.model.getNode(R)}}var hn=m(94456);class cn extends _t{constructor(R,h,x,W,te={}){super(R,h,x,W,te),this.user=R}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(R,h=fe.$.empty(),x){this.model.setChildren(R,h,x)}rerender(R){void 0!==R?this.model.rerender(R):this.view.rerender()}hasElement(R){return this.model.has(R)}createModel(R,h,x){return new zt(R,h,x)}}class At{constructor(R,h){this._compressedTreeNodeProvider=R,this.renderer=h,this.templateId=h.templateId,h.onDidChangeTwistieState&&(this.onDidChangeTwistieState=h.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(R){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(R)}}renderElement(R,h,x,W){const te=this.compressedTreeNodeProvider.getCompressedTreeNode(R.element);1===te.element.elements.length?(x.compressedTreeNode=void 0,this.renderer.renderElement(R,h,x.data,W)):(x.compressedTreeNode=te,this.renderer.renderCompressedElements(te,h,x.data,W))}disposeElement(R,h,x,W){x.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(x.compressedTreeNode,h,x.data,W):this.renderer.disposeElement&&this.renderer.disposeElement(R,h,x.data,W)}disposeTemplate(R){this.renderer.disposeTemplate(R.data)}renderTwistie(R,h){return!!this.renderer.renderTwistie&&this.renderer.renderTwistie(R,h)}}!function(wt,R,h,x){var ae,W=arguments.length,te=W<3?R:null===x?x=Object.getOwnPropertyDescriptor(R,h):x;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)te=Reflect.decorate(wt,R,h,x);else for(var Ce=wt.length-1;Ce>=0;Ce--)(ae=wt[Ce])&&(te=(W<3?ae(te):W>3?ae(R,h,te):ae(R,h))||te);W>3&&te&&Object.defineProperty(R,h,te)}([hn.H],At.prototype,"compressedTreeNodeProvider",null);class Yt extends cn{constructor(R,h,x,W,te={}){const ae=()=>this;super(R,h,x,W.map(Oe=>new At(ae,Oe)),function(wt,R){return R&&Object.assign(Object.assign({},R),{keyboardNavigationLabelProvider:R.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(h){let x;try{x=wt().getCompressedTreeNode(h)}catch{return R.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(h)}return 1===x.element.elements.length?R.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(h):R.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(x.element.elements)}}})}(ae,te))}setChildren(R,h=fe.$.empty(),x){this.model.setChildren(R,h,x)}createModel(R,h,x){return new sn(R,h,x)}updateOptions(R={}){super.updateOptions(R),void 0!==R.compressionEnabled&&this.model.setCompressionEnabled(R.compressionEnabled)}getCompressedTreeNode(R=null){return this.model.getCompressedTreeNode(R)}}var He=m(13226),$e=m(99770),qt=function(wt,R,h,x){return new(h||(h=Promise))(function(te,ae){function Ce(Ge){try{Fe(x.next(Ge))}catch(Je){ae(Je)}}function Oe(Ge){try{Fe(x.throw(Ge))}catch(Je){ae(Je)}}function Fe(Ge){Ge.done?te(Ge.value):function(te){return te instanceof h?te:new h(function(ae){ae(te)})}(Ge.value).then(Ce,Oe)}Fe((x=x.apply(wt,R||[])).next())})};function mn(wt){return Object.assign(Object.assign({},wt),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function ni(wt,R){return!!R.parent&&(R.parent===wt||ni(wt,R.parent))}class wi{constructor(R){this.node=R}get element(){return this.node.element.element}get children(){return this.node.children.map(R=>new wi(R))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class Bi{constructor(R,h,x){this.renderer=R,this.nodeMapper=h,this.onDidChangeTwistieState=x,this.renderedNodes=new Map,this.templateId=R.templateId}renderTemplate(R){return{templateData:this.renderer.renderTemplate(R)}}renderElement(R,h,x,W){this.renderer.renderElement(this.nodeMapper.map(R),h,x.templateData,W)}renderTwistie(R,h){return R.slow?(h.classList.add(...q.lA.treeItemLoading.classNamesArray),!0):(h.classList.remove(...q.lA.treeItemLoading.classNamesArray),!1)}disposeElement(R,h,x,W){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(R),h,x.templateData,W)}disposeTemplate(R){this.renderer.disposeTemplate(R.templateData)}dispose(){this.renderedNodes.clear()}}function yi(wt){return{browserEvent:wt.browserEvent,elements:wt.elements.map(R=>R.element)}}function yt(wt){return{browserEvent:wt.browserEvent,element:wt.element&&wt.element.element,target:wt.target}}class Lt extends I.kX{constructor(R){super(R.elements.map(h=>h.element)),this.data=R}}function en(wt){return wt instanceof I.kX?new Lt(wt):wt}class Vn{constructor(R){this.dnd=R}getDragURI(R){return this.dnd.getDragURI(R.element)}getDragLabel(R,h){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(R.map(x=>x.element),h)}onDragStart(R,h){this.dnd.onDragStart&&this.dnd.onDragStart(en(R),h)}onDragOver(R,h,x,W,te=!0){return this.dnd.onDragOver(en(R),h&&h.element,x,W)}drop(R,h,x,W){this.dnd.drop(en(R),h&&h.element,x,W)}onDragEnd(R){this.dnd.onDragEnd&&this.dnd.onDragEnd(R)}}function Ht(wt){return wt&&Object.assign(Object.assign({},wt),{collapseByDefault:!0,identityProvider:wt.identityProvider&&{getId:R=>wt.identityProvider.getId(R.element)},dnd:wt.dnd&&new Vn(wt.dnd),multipleSelectionController:wt.multipleSelectionController&&{isSelectionSingleChangeEvent:R=>wt.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},R),{element:R.element})),isSelectionRangeChangeEvent:R=>wt.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},R),{element:R.element}))},accessibilityProvider:wt.accessibilityProvider&&Object.assign(Object.assign({},wt.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:wt.accessibilityProvider.getRole?R=>wt.accessibilityProvider.getRole(R.element):()=>"treeitem",isChecked:wt.accessibilityProvider.isChecked?R=>{var h;return!!(null===(h=wt.accessibilityProvider)||void 0===h?void 0:h.isChecked(R.element))}:void 0,getAriaLabel:R=>wt.accessibilityProvider.getAriaLabel(R.element),getWidgetAriaLabel:()=>wt.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:wt.accessibilityProvider.getWidgetRole?()=>wt.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:wt.accessibilityProvider.getAriaLevel&&(R=>wt.accessibilityProvider.getAriaLevel(R.element)),getActiveDescendantId:wt.accessibilityProvider.getActiveDescendantId&&(R=>wt.accessibilityProvider.getActiveDescendantId(R.element))}),filter:wt.filter&&{filter:(R,h)=>wt.filter.filter(R.element,h)},keyboardNavigationLabelProvider:wt.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},wt.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:R=>wt.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(R.element)}),sorter:void 0,expandOnlyOnTwistieClick:void 0===wt.expandOnlyOnTwistieClick?void 0:"function"!=typeof wt.expandOnlyOnTwistieClick?wt.expandOnlyOnTwistieClick:R=>wt.expandOnlyOnTwistieClick(R.element),additionalScrollHeight:wt.additionalScrollHeight})}function Ae(wt,R){R(wt),wt.children.forEach(h=>Ae(h,R))}class Xe{constructor(R,h,x,W,te,ae={}){this.user=R,this.dataSource=te,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new B.Q5,this._onDidChangeNodeSlowState=new B.Q5,this.nodeMapper=new G(Ce=>new wi(Ce)),this.disposables=new E.SL,this.identityProvider=ae.identityProvider,this.autoExpandSingleChildren=void 0!==ae.autoExpandSingleChildren&&ae.autoExpandSingleChildren,this.sorter=ae.sorter,this.collapseByDefault=ae.collapseByDefault,this.tree=this.createTree(R,h,x,W,ae),this.root=mn({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return B.ju.map(this.tree.onDidChangeFocus,yi)}get onDidChangeSelection(){return B.ju.map(this.tree.onDidChangeSelection,yi)}get onMouseDblClick(){return B.ju.map(this.tree.onMouseDblClick,yt)}get onPointer(){return B.ju.map(this.tree.onPointer,yt)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidDispose(){return this.tree.onDidDispose}createTree(R,h,x,W,te){const ae=new _e(x),Ce=W.map(Fe=>new Bi(Fe,this.nodeMapper,this._onDidChangeNodeSlowState.event)),Oe=Ht(te)||{};return new cn(R,h,ae,Ce,Oe)}updateOptions(R={}){this.tree.updateOptions(R)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(R){this.tree.scrollTop=R}domFocus(){this.tree.domFocus()}layout(R,h){this.tree.layout(R,h)}style(R){this.tree.style(R)}getInput(){return this.root.element}setInput(R,h){return qt(this,void 0,void 0,function*(){this.refreshPromises.forEach(W=>W.cancel()),this.refreshPromises.clear(),this.root.element=R;const x=h&&{viewState:h,focus:[],selection:[]};yield this._updateChildren(R,!0,!1,x),x&&(this.tree.setFocus(x.focus),this.tree.setSelection(x.selection)),h&&"number"==typeof h.scrollTop&&(this.scrollTop=h.scrollTop)})}_updateChildren(R=this.root.element,h=!0,x=!1,W,te){return qt(this,void 0,void 0,function*(){if(void 0===this.root.element)throw new j(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield B.ju.toPromise(this._onDidRender.event));const ae=this.getDataNode(R);if(yield this.refreshAndRenderNode(ae,h,W,te),x)try{this.tree.rerender(ae)}catch{}})}rerender(R){if(void 0===R||R===this.root.element)return void this.tree.rerender();const h=this.getDataNode(R);this.tree.rerender(h)}getNode(R=this.root.element){const h=this.getDataNode(R),x=this.tree.getNode(h===this.root?null:h);return this.nodeMapper.map(x)}collapse(R,h=!1){const x=this.getDataNode(R);return this.tree.collapse(x===this.root?null:x,h)}expand(R,h=!1){return qt(this,void 0,void 0,function*(){if(void 0===this.root.element)throw new j(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield B.ju.toPromise(this._onDidRender.event));const x=this.getDataNode(R);if(this.tree.hasElement(x)&&!this.tree.isCollapsible(x)||(x.refreshPromise&&(yield this.root.refreshPromise,yield B.ju.toPromise(this._onDidRender.event)),x!==this.root&&!x.refreshPromise&&!this.tree.isCollapsed(x)))return!1;const W=this.tree.expand(x===this.root?null:x,h);return x.refreshPromise&&(yield this.root.refreshPromise,yield B.ju.toPromise(this._onDidRender.event)),W})}setSelection(R,h){const x=R.map(W=>this.getDataNode(W));this.tree.setSelection(x,h)}getSelection(){return this.tree.getSelection().map(h=>h.element)}setFocus(R,h){const x=R.map(W=>this.getDataNode(W));this.tree.setFocus(x,h)}getFocus(){return this.tree.getFocus().map(h=>h.element)}reveal(R,h){this.tree.reveal(this.getDataNode(R),h)}getParentElement(R){const h=this.tree.getParentElement(this.getDataNode(R));return h&&h.element}getFirstElementChild(R=this.root.element){const h=this.getDataNode(R),x=this.tree.getFirstElementChild(h===this.root?null:h);return x&&x.element}getDataNode(R){const h=this.nodes.get(R===this.root.element?null:R);if(!h)throw new j(this.user,`Data tree node not found: ${R}`);return h}refreshAndRenderNode(R,h,x,W){return qt(this,void 0,void 0,function*(){yield this.refreshNode(R,h,x),this.render(R,x,W)})}refreshNode(R,h,x){return qt(this,void 0,void 0,function*(){let W;return this.subTreeRefreshPromises.forEach((te,ae)=>{!W&&function(wt,R){return wt===R||ni(wt,R)||ni(R,wt)}(ae,R)&&(W=te.then(()=>this.refreshNode(R,h,x)))}),W||this.doRefreshSubTree(R,h,x)})}doRefreshSubTree(R,h,x){return qt(this,void 0,void 0,function*(){let W;R.refreshPromise=new Promise(te=>W=te),this.subTreeRefreshPromises.set(R,R.refreshPromise),R.refreshPromise.finally(()=>{R.refreshPromise=void 0,this.subTreeRefreshPromises.delete(R)});try{const te=yield this.doRefreshNode(R,h,x);R.stale=!1,yield oe.jT.settled(te.map(ae=>this.doRefreshSubTree(ae,h,x)))}finally{W()}})}doRefreshNode(R,h,x){return qt(this,void 0,void 0,function*(){let W;if(R.hasChildren=!!this.dataSource.hasChildren(R.element),R.hasChildren){const te=this.doGetChildren(R);if((0,$e.TW)(te))W=Promise.resolve(te);else{const ae=(0,oe.Vs)(800);ae.then(()=>{R.slow=!0,this._onDidChangeNodeSlowState.fire(R)},Ce=>null),W=te.finally(()=>ae.cancel())}}else W=Promise.resolve(fe.$.empty());try{const te=yield W;return this.setChildren(R,te,h,x)}catch(te){if(R!==this.root&&this.tree.hasElement(R)&&this.tree.collapse(R),(0,He.n2)(te))return[];throw te}finally{R.slow&&(R.slow=!1,this._onDidChangeNodeSlowState.fire(R))}})}doGetChildren(R){let h=this.refreshPromises.get(R);if(h)return h;const x=this.dataSource.getChildren(R.element);return(0,$e.TW)(x)?this.processChildren(x):(h=(0,oe.PG)(()=>qt(this,void 0,void 0,function*(){return this.processChildren(yield x)})),this.refreshPromises.set(R,h),h.finally(()=>{this.refreshPromises.delete(R)}))}_onDidChangeCollapseState({node:R,deep:h}){null!==R.element&&!R.collapsed&&R.element.stale&&(h?this.collapse(R.element.element):this.refreshAndRenderNode(R.element,!1).catch(He.dL))}setChildren(R,h,x,W){const te=[...h];if(0===R.children.length&&0===te.length)return[];const ae=new Map,Ce=new Map;for(const Ge of R.children)if(ae.set(Ge.element,Ge),this.identityProvider){const Je=this.tree.isCollapsed(Ge);Ce.set(Ge.id,{node:Ge,collapsed:Je})}const Oe=[],Fe=te.map(Ge=>{const Je=!!this.dataSource.hasChildren(Ge);if(!this.identityProvider){const Et=mn({element:Ge,parent:R,hasChildren:Je});return Je&&this.collapseByDefault&&!this.collapseByDefault(Ge)&&(Et.collapsedByDefault=!1,Oe.push(Et)),Et}const it=this.identityProvider.getId(Ge).toString(),ht=Ce.get(it);if(ht){const Et=ht.node;return ae.delete(Et.element),this.nodes.delete(Et.element),this.nodes.set(Ge,Et),Et.element=Ge,Et.hasChildren=Je,x?ht.collapsed?(Et.children.forEach(Ft=>Ae(Ft,Zt=>this.nodes.delete(Zt.element))),Et.children.splice(0,Et.children.length),Et.stale=!0):Oe.push(Et):Je&&this.collapseByDefault&&!this.collapseByDefault(Ge)&&(Et.collapsedByDefault=!1,Oe.push(Et)),Et}const gt=mn({element:Ge,parent:R,id:it,hasChildren:Je});return W&&W.viewState.focus&&W.viewState.focus.indexOf(it)>-1&&W.focus.push(gt),W&&W.viewState.selection&&W.viewState.selection.indexOf(it)>-1&&W.selection.push(gt),W&&W.viewState.expanded&&W.viewState.expanded.indexOf(it)>-1?Oe.push(gt):Je&&this.collapseByDefault&&!this.collapseByDefault(Ge)&&(gt.collapsedByDefault=!1,Oe.push(gt)),gt});for(const Ge of ae.values())Ae(Ge,Je=>this.nodes.delete(Je.element));for(const Ge of Fe)this.nodes.set(Ge.element,Ge);return R.children.splice(0,R.children.length,...Fe),R!==this.root&&this.autoExpandSingleChildren&&1===Fe.length&&0===Oe.length&&(Fe[0].collapsedByDefault=!1,Oe.push(Fe[0])),Oe}render(R,h,x){const W=R.children.map(ae=>this.asTreeElement(ae,h)),te=x&&Object.assign(Object.assign({},x),{diffIdentityProvider:x.diffIdentityProvider&&{getId:ae=>x.diffIdentityProvider.getId(ae.element)}});this.tree.setChildren(R===this.root?null:R,W,te),R!==this.root&&this.tree.setCollapsible(R,R.hasChildren),this._onDidRender.fire()}asTreeElement(R,h){if(R.stale)return{element:R,collapsible:R.hasChildren,collapsed:!0};let x;return x=!(h&&h.viewState.expanded&&R.id&&h.viewState.expanded.indexOf(R.id)>-1)&&R.collapsedByDefault,R.collapsedByDefault=void 0,{element:R,children:R.hasChildren?fe.$.map(R.children,W=>this.asTreeElement(W,h)):[],collapsible:R.hasChildren,collapsed:x}}processChildren(R){return this.sorter&&(R=[...R].sort(this.sorter.compare.bind(this.sorter))),R}dispose(){this.disposables.dispose()}}class dt{constructor(R){this.node=R}get element(){return{elements:this.node.element.elements.map(R=>R.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(R=>new dt(R))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class Mt{constructor(R,h,x,W){this.renderer=R,this.nodeMapper=h,this.compressibleNodeMapperProvider=x,this.onDidChangeTwistieState=W,this.renderedNodes=new Map,this.disposables=[],this.templateId=R.templateId}renderTemplate(R){return{templateData:this.renderer.renderTemplate(R)}}renderElement(R,h,x,W){this.renderer.renderElement(this.nodeMapper.map(R),h,x.templateData,W)}renderCompressedElements(R,h,x,W){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(R),h,x.templateData,W)}renderTwistie(R,h){return R.slow?(h.classList.add(...q.lA.treeItemLoading.classNamesArray),!0):(h.classList.remove(...q.lA.treeItemLoading.classNamesArray),!1)}disposeElement(R,h,x,W){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(R),h,x.templateData,W)}disposeCompressedElements(R,h,x,W){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(R),h,x.templateData,W)}disposeTemplate(R){this.renderer.disposeTemplate(R.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,E.B9)(this.disposables)}}class jt extends Xe{constructor(R,h,x,W,te,ae,Ce={}){super(R,h,x,te,ae,Ce),this.compressionDelegate=W,this.compressibleNodeMapper=new G(Oe=>new dt(Oe)),this.filter=Ce.filter}createTree(R,h,x,W,te){const ae=new _e(x),Ce=W.map(Fe=>new Mt(Fe,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),Oe=function(wt){const R=wt&&Ht(wt);return R&&Object.assign(Object.assign({},R),{keyboardNavigationLabelProvider:R.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},R.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel:h=>wt.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(h.map(x=>x.element))})})}(te)||{};return new Yt(R,h,ae,Ce,Oe)}asTreeElement(R,h){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(R.element)},super.asTreeElement(R,h))}updateOptions(R={}){this.tree.updateOptions(R)}render(R,h){if(!this.identityProvider)return super.render(R,h);const x=it=>this.identityProvider.getId(it).toString(),W=it=>{const ht=new Set;for(const gt of it){const Et=this.tree.getCompressedTreeNode(gt===this.root?null:gt);if(Et.element)for(const Ft of Et.element.elements)ht.add(x(Ft.element))}return ht},te=W(this.tree.getSelection()),ae=W(this.tree.getFocus());super.render(R,h);const Ce=this.getSelection();let Oe=!1;const Fe=this.getFocus();let Ge=!1;const Je=it=>{const ht=it.element;if(ht)for(let gt=0;gt<ht.elements.length;gt++){const Et=x(ht.elements[gt].element),Ft=ht.elements[ht.elements.length-1].element;te.has(Et)&&-1===Ce.indexOf(Ft)&&(Ce.push(Ft),Oe=!0),ae.has(Et)&&-1===Fe.indexOf(Ft)&&(Fe.push(Ft),Ge=!0)}it.children.forEach(Je)};Je(this.tree.getCompressedTreeNode(R===this.root?null:R)),Oe&&this.setSelection(Ce),Ge&&this.setFocus(Fe)}processChildren(R){return this.filter&&(R=fe.$.filter(R,h=>{const W="boolean"==typeof(wt=this.filter.filter(h,1))?wt?1:0:pe(wt)?we(wt.visibility):we(wt);var wt;if(2===W)throw new Error("Recursive tree visibility not supported in async data compressed trees");return 1===W})),super.processChildren(R)}}class wn extends _t{constructor(R,h,x,W,te,ae={}){super(R,h,x,W,ae),this.user=R,this.dataSource=te,this.identityProvider=ae.identityProvider}createModel(R,h,x){return new zt(R,h,x)}}var vn=m(13976),yn=m(13011),Sn=m(92778),xn=m(6461),Kt=m(70114),En=m(43569),Mn=m(96938),Hn=m(63779),Jn=m(905),mi=m(53323),Li=function(wt,R,h,x){var ae,W=arguments.length,te=W<3?R:null===x?x=Object.getOwnPropertyDescriptor(R,h):x;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)te=Reflect.decorate(wt,R,h,x);else for(var Ce=wt.length-1;Ce>=0;Ce--)(ae=wt[Ce])&&(te=(W<3?ae(te):W>3?ae(R,h,te):ae(R,h))||te);return W>3&&te&&Object.defineProperty(R,h,te),te},Nn=function(wt,R){return function(h,x){R(h,x,wt)}};const Ni=(0,En.yh)("listService");let ai=class{constructor(R){this._themeService=R,this.disposables=new E.SL,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}setLastFocusedList(R){var h,x;R!==this._lastFocusedWidget&&(null===(h=this._lastFocusedWidget)||void 0===h||h.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=R,null===(x=this._lastFocusedWidget)||void 0===x||x.getHTMLElement().classList.add("last-focused"))}register(R,h){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const W=new O.wD((0,M.dS)(),"");this.disposables.add((0,Jn.Jl)(W,this._themeService))}if(this.lists.some(W=>W.widget===R))throw new Error("Cannot register the same widget multiple times");const x={widget:R,extraContextKeys:h};return this.lists.push(x),R.getHTMLElement()===document.activeElement&&this.setLastFocusedList(R),(0,E.F8)(R.onDidFocus(()=>this.setLastFocusedList(R)),(0,E.OF)(()=>this.lists.splice(this.lists.indexOf(x),1)),R.onDidDispose(()=>{this.lists=this.lists.filter(W=>W!==x),this._lastFocusedWidget===R&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}};ai=Li([Nn(0,mi.XE)],ai);const pi=new xn.uy("listFocus",!0),kn=new xn.uy("listSupportsMultiselect",!0),_i=xn.Ao.and(pi,xn.Ao.not(Kt.d0)),Ti=new xn.uy("listHasSelectionOrFocus",!1),bi=new xn.uy("listDoubleSelection",!1),Yi=new xn.uy("listMultiSelection",!1),zn=new xn.uy("listSelectionNavigation",!1),Ii=new xn.uy("treeElementCanCollapse",!1),so=new xn.uy("treeElementHasParent",!1),ei=new xn.uy("treeElementCanExpand",!1),go=new xn.uy("treeElementHasChild",!1),Di="listAutomaticKeyboardNavigation";function Mo(wt,R){const h=wt.createScoped(R.getHTMLElement());return pi.bindTo(h),h}const bo="workbench.list.multiSelectModifier",vo="workbench.list.openMode",Ro="workbench.list.horizontalScrolling",zs="workbench.list.keyboardNavigation",No="workbench.list.automaticKeyboardNavigation",ys="workbench.tree.indent",ks="workbench.tree.renderIndentGuides",Do="workbench.list.smoothScrolling",Ss="workbench.list.mouseWheelScrollSensitivity",ms="workbench.list.fastScrollSensitivity",qs="workbench.tree.expandMode";function Fo(wt){return"alt"===wt.getValue(bo)}class ao extends E.JT{constructor(R){super(),this.configurationService=R,this.useAltAsMultipleSelectionModifier=Fo(R),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(R=>{R.affectsConfiguration(bo)&&(this.useAltAsMultipleSelectionModifier=Fo(this.configurationService))}))}isSelectionSingleChangeEvent(R){return this.useAltAsMultipleSelectionModifier?R.browserEvent.altKey:(0,O.Zo)(R)}isSelectionRangeChangeEvent(R){return(0,O.wn)(R)}}function dr(wt,R,h){var x;const W=new E.SL;return[Object.assign(Object.assign({},wt),{keyboardNavigationDelegate:{mightProducePrintableCharacter:ae=>h.mightProducePrintableCharacter(ae)},smoothScrolling:Boolean(R.getValue(Do)),mouseWheelScrollSensitivity:R.getValue(Ss),fastScrollSensitivity:R.getValue(ms),multipleSelectionController:null!==(x=wt.multipleSelectionController)&&void 0!==x?x:W.add(new ao(R))}),W]}let Lr=class extends O.aV{constructor(R,h,x,W,te,ae,Ce,Oe,Fe,Ge){const Je=void 0!==te.horizontalScrolling?te.horizontalScrolling:Boolean(Fe.getValue(Ro)),[it,ht]=dr(te,Fe,Ge);super(R,h,x,W,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,Jn.o)(Oe.getColorTheme(),Jn.O2)),it),{horizontalScrolling:Je})),this.disposables.add(ht),this.contextKeyService=Mo(ae,this),this.themeService=Oe,this.listSupportsMultiSelect=kn.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==te.multipleSelectionSupport),zn.bindTo(this.contextKeyService).set(Boolean(te.selectionNavigation)),this.listHasSelectionOrFocus=Ti.bindTo(this.contextKeyService),this.listDoubleSelection=bi.bindTo(this.contextKeyService),this.listMultiSelection=Yi.bindTo(this.contextKeyService),this.horizontalScrolling=te.horizontalScrolling,this._useAltAsMultipleSelectionModifier=Fo(Fe),this.disposables.add(this.contextKeyService),this.disposables.add(Ce.register(this)),te.overrideStyles&&this.updateStyles(te.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Et=this.getSelection(),Ft=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Et.length>0||Ft.length>0),this.listMultiSelection.set(Et.length>1),this.listDoubleSelection.set(2===Et.length)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Et=this.getSelection(),Ft=this.getFocus();this.listHasSelectionOrFocus.set(Et.length>0||Ft.length>0)})),this.disposables.add(Fe.onDidChangeConfiguration(Et=>{Et.affectsConfiguration(bo)&&(this._useAltAsMultipleSelectionModifier=Fo(Fe));let Ft={};if(Et.affectsConfiguration(Ro)&&void 0===this.horizontalScrolling){const Zt=Boolean(Fe.getValue(Ro));Ft=Object.assign(Object.assign({},Ft),{horizontalScrolling:Zt})}if(Et.affectsConfiguration(Do)){const Zt=Boolean(Fe.getValue(Do));Ft=Object.assign(Object.assign({},Ft),{smoothScrolling:Zt})}if(Et.affectsConfiguration(Ss)){const Zt=Fe.getValue(Ss);Ft=Object.assign(Object.assign({},Ft),{mouseWheelScrollSensitivity:Zt})}if(Et.affectsConfiguration(ms)){const Zt=Fe.getValue(ms);Ft=Object.assign(Object.assign({},Ft),{fastScrollSensitivity:Zt})}Object.keys(Ft).length>0&&this.updateOptions(Ft)})),this.navigator=new Zr(this,Object.assign({configurationService:Fe},te)),this.disposables.add(this.navigator)}updateOptions(R){super.updateOptions(R),R.overrideStyles&&this.updateStyles(R.overrideStyles),void 0!==R.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!R.multipleSelectionSupport)}updateStyles(R){var h;null===(h=this._styler)||void 0===h||h.dispose(),this._styler=(0,Jn.Jl)(this,this.themeService,R)}dispose(){var R;null===(R=this._styler)||void 0===R||R.dispose(),super.dispose()}};Lr=Li([Nn(5,xn.i6),Nn(6,Ni),Nn(7,mi.XE),Nn(8,yn.Ui),Nn(9,Mn.d)],Lr);let uo=class extends class{constructor(R,h,x,W,te={}){const ae=()=>this.model,Ce=W.map(Oe=>new F(Oe,ae));this.list=new O.aV(R,h,x,Ce,function(wt,R){return Object.assign(Object.assign({},R),{accessibilityProvider:R.accessibilityProvider&&new T(wt,R.accessibilityProvider)})}(ae,te))}updateOptions(R){this.list.updateOptions(R)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return B.ju.map(this.list.onMouseDblClick,({element:R,index:h,browserEvent:x})=>({element:void 0===R?void 0:this._model.get(R),index:h,browserEvent:x}))}get onPointer(){return B.ju.map(this.list.onPointer,({element:R,index:h,browserEvent:x})=>({element:void 0===R?void 0:this._model.get(R),index:h,browserEvent:x}))}get onDidChangeSelection(){return B.ju.map(this.list.onDidChangeSelection,({elements:R,indexes:h,browserEvent:x})=>({elements:R.map(W=>this._model.get(W)),indexes:h,browserEvent:x}))}get model(){return this._model}set model(R){this._model=R,this.list.splice(0,this.list.length,(0,g.w6)(R.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(R=>this.model.get(R))}style(R){this.list.style(R)}dispose(){this.list.dispose()}}{constructor(R,h,x,W,te,ae,Ce,Oe,Fe,Ge){const Je=void 0!==te.horizontalScrolling?te.horizontalScrolling:Boolean(Fe.getValue(Ro)),[it,ht]=dr(te,Fe,Ge);super(R,h,x,W,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,Jn.o)(Oe.getColorTheme(),Jn.O2)),it),{horizontalScrolling:Je})),this.disposables=new E.SL,this.disposables.add(ht),this.contextKeyService=Mo(ae,this),this.themeService=Oe,this.horizontalScrolling=te.horizontalScrolling,this.listSupportsMultiSelect=kn.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==te.multipleSelectionSupport),zn.bindTo(this.contextKeyService).set(Boolean(te.selectionNavigation)),this._useAltAsMultipleSelectionModifier=Fo(Fe),this.disposables.add(this.contextKeyService),this.disposables.add(Ce.register(this)),te.overrideStyles&&this.updateStyles(te.overrideStyles),te.overrideStyles&&this.disposables.add((0,Jn.Jl)(this,Oe,te.overrideStyles)),this.disposables.add(Fe.onDidChangeConfiguration(Et=>{Et.affectsConfiguration(bo)&&(this._useAltAsMultipleSelectionModifier=Fo(Fe));let Ft={};if(Et.affectsConfiguration(Ro)&&void 0===this.horizontalScrolling){const Zt=Boolean(Fe.getValue(Ro));Ft=Object.assign(Object.assign({},Ft),{horizontalScrolling:Zt})}if(Et.affectsConfiguration(Do)){const Zt=Boolean(Fe.getValue(Do));Ft=Object.assign(Object.assign({},Ft),{smoothScrolling:Zt})}if(Et.affectsConfiguration(Ss)){const Zt=Fe.getValue(Ss);Ft=Object.assign(Object.assign({},Ft),{mouseWheelScrollSensitivity:Zt})}if(Et.affectsConfiguration(ms)){const Zt=Fe.getValue(ms);Ft=Object.assign(Object.assign({},Ft),{fastScrollSensitivity:Zt})}Object.keys(Ft).length>0&&this.updateOptions(Ft)})),this.navigator=new Zr(this,Object.assign({configurationService:Fe},te)),this.disposables.add(this.navigator)}updateOptions(R){super.updateOptions(R),R.overrideStyles&&this.updateStyles(R.overrideStyles),void 0!==R.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!R.multipleSelectionSupport)}updateStyles(R){var h;null===(h=this._styler)||void 0===h||h.dispose(),this._styler=(0,Jn.Jl)(this,this.themeService,R)}dispose(){var R;null===(R=this._styler)||void 0===R||R.dispose(),this.disposables.dispose(),super.dispose()}};uo=Li([Nn(5,xn.i6),Nn(6,Ni),Nn(7,mi.XE),Nn(8,yn.Ui),Nn(9,Mn.d)],uo);let Io=class extends D{constructor(R,h,x,W,te,ae,Ce,Oe,Fe,Ge,Je){const it=void 0!==ae.horizontalScrolling?ae.horizontalScrolling:Boolean(Ge.getValue(Ro)),[ht,gt]=dr(ae,Ge,Je);super(R,h,x,W,te,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,Jn.o)(Fe.getColorTheme(),Jn.O2)),ht),{horizontalScrolling:it})),this.disposables.add(gt),this.contextKeyService=Mo(Ce,this),this.themeService=Fe,this.listSupportsMultiSelect=kn.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==ae.multipleSelectionSupport),zn.bindTo(this.contextKeyService).set(Boolean(ae.selectionNavigation)),this.listHasSelectionOrFocus=Ti.bindTo(this.contextKeyService),this.listDoubleSelection=bi.bindTo(this.contextKeyService),this.listMultiSelection=Yi.bindTo(this.contextKeyService),this.horizontalScrolling=ae.horizontalScrolling,this._useAltAsMultipleSelectionModifier=Fo(Ge),this.disposables.add(this.contextKeyService),this.disposables.add(Oe.register(this)),ae.overrideStyles&&this.updateStyles(ae.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Ft=this.getSelection(),Zt=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Ft.length>0||Zt.length>0),this.listMultiSelection.set(Ft.length>1),this.listDoubleSelection.set(2===Ft.length)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Ft=this.getSelection(),Zt=this.getFocus();this.listHasSelectionOrFocus.set(Ft.length>0||Zt.length>0)})),this.disposables.add(Ge.onDidChangeConfiguration(Ft=>{Ft.affectsConfiguration(bo)&&(this._useAltAsMultipleSelectionModifier=Fo(Ge));let Zt={};if(Ft.affectsConfiguration(Ro)&&void 0===this.horizontalScrolling){const Tn=Boolean(Ge.getValue(Ro));Zt=Object.assign(Object.assign({},Zt),{horizontalScrolling:Tn})}if(Ft.affectsConfiguration(Do)){const Tn=Boolean(Ge.getValue(Do));Zt=Object.assign(Object.assign({},Zt),{smoothScrolling:Tn})}if(Ft.affectsConfiguration(Ss)){const Tn=Ge.getValue(Ss);Zt=Object.assign(Object.assign({},Zt),{mouseWheelScrollSensitivity:Tn})}if(Ft.affectsConfiguration(ms)){const Tn=Ge.getValue(ms);Zt=Object.assign(Object.assign({},Zt),{fastScrollSensitivity:Tn})}Object.keys(Zt).length>0&&this.updateOptions(Zt)})),this.navigator=new js(this,Object.assign({configurationService:Ge},ae)),this.disposables.add(this.navigator)}updateOptions(R){super.updateOptions(R),R.overrideStyles&&this.updateStyles(R.overrideStyles),void 0!==R.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!R.multipleSelectionSupport)}updateStyles(R){var h;null===(h=this._styler)||void 0===h||h.dispose(),this._styler=(0,Jn.Jl)(this,this.themeService,R)}dispose(){var R;null===(R=this._styler)||void 0===R||R.dispose(),this.disposables.dispose(),super.dispose()}};Io=Li([Nn(6,xn.i6),Nn(7,Ni),Nn(8,mi.XE),Nn(9,yn.Ui),Nn(10,Mn.d)],Io);class Us extends E.JT{constructor(R,h){var x;super(),this.widget=R,this._onDidOpen=this._register(new B.Q5),this.onDidOpen=this._onDidOpen.event,this._register(B.ju.filter(this.widget.onDidChangeSelection,W=>W.browserEvent instanceof KeyboardEvent)(W=>this.onSelectionFromKeyboard(W))),this._register(this.widget.onPointer(W=>this.onPointer(W.element,W.browserEvent))),this._register(this.widget.onMouseDblClick(W=>this.onMouseDblClick(W.element,W.browserEvent))),"boolean"!=typeof(null==h?void 0:h.openOnSingleClick)&&(null==h?void 0:h.configurationService)?(this.openOnSingleClick="doubleClick"!==(null==h?void 0:h.configurationService.getValue(vo)),this._register(null==h?void 0:h.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick="doubleClick"!==(null==h?void 0:h.configurationService.getValue(vo))}))):this.openOnSingleClick=null===(x=null==h?void 0:h.openOnSingleClick)||void 0===x||x}onSelectionFromKeyboard(R){if(1!==R.elements.length)return;const h=R.browserEvent,x="boolean"!=typeof h.preserveFocus||h.preserveFocus,W="boolean"==typeof h.pinned?h.pinned:!x;this._open(this.getSelectedElement(),x,W,!1,R.browserEvent)}onPointer(R,h){this.openOnSingleClick&&2!==h.detail&&this._open(R,!0,1===h.button,h.ctrlKey||h.metaKey||h.altKey,h)}onMouseDblClick(R,h){if(!h)return;const x=h.target;x.classList.contains("monaco-tl-twistie")||x.classList.contains("monaco-icon-label")&&x.classList.contains("folder-icon")&&h.offsetX<16||this._open(R,!1,!0,h.ctrlKey||h.metaKey||h.altKey,h)}_open(R,h,x,W,te){!R||this._onDidOpen.fire({editorOptions:{preserveFocus:h,pinned:x,revealIfVisible:!0},sideBySide:W,element:R,browserEvent:te})}}class Zr extends Us{constructor(R,h){super(R,h),this.widget=R}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class js extends Us{constructor(R,h){super(R,h)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class ps extends Us{constructor(R,h){super(R,h)}getSelectedElement(){var R;return null!==(R=this.widget.getSelection()[0])&&void 0!==R?R:void 0}}function Eo(wt,R){let h=!1;return x=>{if(x.toKeybinding().isModifierKey())return!1;if(h)return h=!1,!1;const W=R.softDispatch(x,wt);return W&&W.enterChord?(h=!0,!1):(h=!1,!0)}}let xs=class extends cn{constructor(R,h,x,W,te,ae,Ce,Oe,Fe,Ge,Je){const{options:it,getAutomaticKeyboardNavigation:ht,disposable:gt}=Ts(h,te,ae,Fe,Ge,Je);super(R,h,x,W,it),this.disposables.add(gt),this.internals=new tr(this,te,ht,te.overrideStyles,ae,Ce,Oe,Fe,Je),this.disposables.add(this.internals)}updateOptions(R){super.updateOptions(R),this.internals.updateOptions(R)}};xs=Li([Nn(5,xn.i6),Nn(6,Ni),Nn(7,mi.XE),Nn(8,yn.Ui),Nn(9,Mn.d),Nn(10,vn.F)],xs);let er=class extends Yt{constructor(R,h,x,W,te,ae,Ce,Oe,Fe,Ge,Je){const{options:it,getAutomaticKeyboardNavigation:ht,disposable:gt}=Ts(h,te,ae,Fe,Ge,Je);super(R,h,x,W,it),this.disposables.add(gt),this.internals=new tr(this,te,ht,te.overrideStyles,ae,Ce,Oe,Fe,Je),this.disposables.add(this.internals)}updateOptions(R={}){super.updateOptions(R),R.overrideStyles&&this.internals.updateStyleOverrides(R.overrideStyles),this.internals.updateOptions(R)}};er=Li([Nn(5,xn.i6),Nn(6,Ni),Nn(7,mi.XE),Nn(8,yn.Ui),Nn(9,Mn.d),Nn(10,vn.F)],er);let ya=class extends wn{constructor(R,h,x,W,te,ae,Ce,Oe,Fe,Ge,Je,it){const{options:ht,getAutomaticKeyboardNavigation:gt,disposable:Et}=Ts(h,ae,Ce,Ge,Je,it);super(R,h,x,W,te,ht),this.disposables.add(Et),this.internals=new tr(this,ae,gt,ae.overrideStyles,Ce,Oe,Fe,Ge,it),this.disposables.add(this.internals)}updateOptions(R={}){super.updateOptions(R),R.overrideStyles&&this.internals.updateStyleOverrides(R.overrideStyles),this.internals.updateOptions(R)}};ya=Li([Nn(6,xn.i6),Nn(7,Ni),Nn(8,mi.XE),Nn(9,yn.Ui),Nn(10,Mn.d),Nn(11,vn.F)],ya);let zi=class extends Xe{constructor(R,h,x,W,te,ae,Ce,Oe,Fe,Ge,Je,it){const{options:ht,getAutomaticKeyboardNavigation:gt,disposable:Et}=Ts(h,ae,Ce,Ge,Je,it);super(R,h,x,W,te,ht),this.disposables.add(Et),this.internals=new tr(this,ae,gt,ae.overrideStyles,Ce,Oe,Fe,Ge,it),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(R={}){super.updateOptions(R),R.overrideStyles&&this.internals.updateStyleOverrides(R.overrideStyles),this.internals.updateOptions(R)}};zi=Li([Nn(6,xn.i6),Nn(7,Ni),Nn(8,mi.XE),Nn(9,yn.Ui),Nn(10,Mn.d),Nn(11,vn.F)],zi);let So=class extends jt{constructor(R,h,x,W,te,ae,Ce,Oe,Fe,Ge,Je,it,ht){const{options:gt,getAutomaticKeyboardNavigation:Et,disposable:Ft}=Ts(h,Ce,Oe,Je,it,ht);super(R,h,x,W,te,ae,gt),this.disposables.add(Ft),this.internals=new tr(this,Ce,Et,Ce.overrideStyles,Oe,Fe,Ge,Je,ht),this.disposables.add(this.internals)}updateOptions(R){super.updateOptions(R),this.internals.updateOptions(R)}};function Ts(wt,R,h,x,W,te){var ae;const Ce=()=>{let gt=Boolean(h.getContextKeyValue(Di));return gt&&(gt=Boolean(x.getValue(No))),gt},Oe=te.isScreenReaderOptimized(),Fe=R.simpleKeyboardNavigation||Oe?"simple":x.getValue(zs),Ge=void 0!==R.horizontalScrolling?R.horizontalScrolling:Boolean(x.getValue(Ro)),[Je,it]=dr(R,x,W),ht=R.additionalScrollHeight;return{getAutomaticKeyboardNavigation:Ce,disposable:it,options:Object.assign(Object.assign({keyboardSupport:!1},Je),{indent:"number"==typeof x.getValue(ys)?x.getValue(ys):void 0,renderIndentGuides:x.getValue(ks),smoothScrolling:Boolean(x.getValue(Do)),automaticKeyboardNavigation:Ce(),simpleKeyboardNavigation:"simple"===Fe,filterOnType:"filter"===Fe,horizontalScrolling:Ge,keyboardNavigationEventFilter:Eo(wt,W),additionalScrollHeight:ht,hideTwistiesOfChildlessElements:R.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:null!==(ae=R.expandOnlyOnTwistieClick)&&void 0!==ae?ae:"doubleClick"===x.getValue(qs)})}}So=Li([Nn(7,xn.i6),Nn(8,Ni),Nn(9,mi.XE),Nn(10,yn.Ui),Nn(11,Mn.d),Nn(12,vn.F)],So);let tr=class{constructor(R,h,x,W,te,ae,Ce,Oe,Fe){this.tree=R,this.themeService=Ce,this.disposables=[],this.contextKeyService=Mo(te,R),this.listSupportsMultiSelect=kn.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==h.multipleSelectionSupport),zn.bindTo(this.contextKeyService).set(Boolean(h.selectionNavigation)),this.hasSelectionOrFocus=Ti.bindTo(this.contextKeyService),this.hasDoubleSelection=bi.bindTo(this.contextKeyService),this.hasMultiSelection=Yi.bindTo(this.contextKeyService),this.treeElementCanCollapse=Ii.bindTo(this.contextKeyService),this.treeElementHasParent=so.bindTo(this.contextKeyService),this.treeElementCanExpand=ei.bindTo(this.contextKeyService),this.treeElementHasChild=go.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=Fo(Oe);const Je=new Set;Je.add(Di);const it=()=>{const Et=Fe.isScreenReaderOptimized()?"simple":Oe.getValue(zs);R.updateOptions({simpleKeyboardNavigation:"simple"===Et,filterOnType:"filter"===Et})};this.updateStyleOverrides(W);const ht=()=>{const gt=R.getFocus()[0];if(!gt)return;const Et=R.getNode(gt);this.treeElementCanCollapse.set(Et.collapsible&&!Et.collapsed),this.treeElementHasParent.set(!!R.getParentElement(gt)),this.treeElementCanExpand.set(Et.collapsible&&Et.collapsed),this.treeElementHasChild.set(!!R.getFirstElementChild(gt))};this.disposables.push(this.contextKeyService,ae.register(R),R.onDidChangeSelection(()=>{const gt=R.getSelection(),Et=R.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(gt.length>0||Et.length>0),this.hasMultiSelection.set(gt.length>1),this.hasDoubleSelection.set(2===gt.length)})}),R.onDidChangeFocus(()=>{const gt=R.getSelection(),Et=R.getFocus();this.hasSelectionOrFocus.set(gt.length>0||Et.length>0),ht()}),R.onDidChangeCollapseState(ht),R.onDidChangeModel(ht),Oe.onDidChangeConfiguration(gt=>{let Et={};if(gt.affectsConfiguration(bo)&&(this._useAltAsMultipleSelectionModifier=Fo(Oe)),gt.affectsConfiguration(ys)){const Ft=Oe.getValue(ys);Et=Object.assign(Object.assign({},Et),{indent:Ft})}if(gt.affectsConfiguration(ks)){const Ft=Oe.getValue(ks);Et=Object.assign(Object.assign({},Et),{renderIndentGuides:Ft})}if(gt.affectsConfiguration(Do)){const Ft=Boolean(Oe.getValue(Do));Et=Object.assign(Object.assign({},Et),{smoothScrolling:Ft})}if(gt.affectsConfiguration(zs)&&it(),gt.affectsConfiguration(No)&&(Et=Object.assign(Object.assign({},Et),{automaticKeyboardNavigation:x()})),gt.affectsConfiguration(Ro)&&void 0===h.horizontalScrolling){const Ft=Boolean(Oe.getValue(Ro));Et=Object.assign(Object.assign({},Et),{horizontalScrolling:Ft})}if(gt.affectsConfiguration(qs)&&void 0===h.expandOnlyOnTwistieClick&&(Et=Object.assign(Object.assign({},Et),{expandOnlyOnTwistieClick:"doubleClick"===Oe.getValue(qs)})),gt.affectsConfiguration(Ss)){const Ft=Oe.getValue(Ss);Et=Object.assign(Object.assign({},Et),{mouseWheelScrollSensitivity:Ft})}if(gt.affectsConfiguration(ms)){const Ft=Oe.getValue(ms);Et=Object.assign(Object.assign({},Et),{fastScrollSensitivity:Ft})}Object.keys(Et).length>0&&R.updateOptions(Et)}),this.contextKeyService.onDidChangeContext(gt=>{gt.affectsSome(Je)&&R.updateOptions({automaticKeyboardNavigation:x()})}),Fe.onDidChangeScreenReaderOptimized(()=>it())),this.navigator=new ps(R,Object.assign({configurationService:Oe},h)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(R){void 0!==R.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!R.multipleSelectionSupport)}updateStyleOverrides(R){(0,E.B9)(this.styler),this.styler=R?(0,Jn.Jl)(this.tree,this.themeService,R):E.JT.None}dispose(){this.disposables=(0,E.B9)(this.disposables),(0,E.B9)(this.styler),this.styler=void 0}};tr=Li([Nn(4,xn.i6),Nn(5,Ni),Nn(6,mi.XE),Nn(7,yn.Ui),Nn(8,vn.F)],tr),Hn.B.as(Sn.IP.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,ve.N)("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[bo]:{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[(0,ve.N)("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),(0,ve.N)("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:(0,ve.N)({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[vo]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,ve.N)({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[Ro]:{type:"boolean",default:!1,description:(0,ve.N)("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[ys]:{type:"number",default:8,minimum:4,maximum:40,description:(0,ve.N)("tree indent setting","Controls tree indentation in pixels.")},[ks]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,ve.N)("render tree indent guides","Controls whether the tree should render indent guides.")},[Do]:{type:"boolean",default:!1,description:(0,ve.N)("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[Ss]:{type:"number",default:1,description:(0,ve.N)("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[ms]:{type:"number",default:5,description:(0,ve.N)("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[zs]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,ve.N)("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),(0,ve.N)("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),(0,ve.N)("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:(0,ve.N)("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter.")},[No]:{type:"boolean",default:!0,markdownDescription:(0,ve.N)("automatic keyboard navigation setting","Controls whether keyboard navigation in lists and trees is automatically triggered simply by typing. If set to `false`, keyboard navigation is only triggered when executing the `list.toggleKeyboardNavigation` command, for which you can assign a keyboard shortcut.")},[qs]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,ve.N)("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")}}})},2646:(Be,Me,m)=>{m.d(Me,{VZ:()=>B,in:()=>E,kw:()=>F,$V:()=>T});var M=m(71040),g=m(40189);const B=(0,m(43569).yh)("logService");var E=(()=>{return(S=E||(E={}))[S.Trace=0]="Trace",S[S.Debug=1]="Debug",S[S.Info=2]="Info",S[S.Warning=3]="Warning",S[S.Error=4]="Error",S[S.Critical=5]="Critical",S[S.Off=6]="Off",E;var S})();const i=E.Info;class O extends g.JT{constructor(){super(...arguments),this.level=i,this._onDidChangeLogLevel=this._register(new M.Q5)}setLevel(C){this.level!==C&&(this.level=C,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}class F extends O{constructor(C=i){super(),this.setLevel(C)}trace(C,...b){this.getLevel()<=E.Trace&&console.log("%cTRACE","color: #888",C,...b)}debug(C,...b){this.getLevel()<=E.Debug&&console.log("%cDEBUG","background: #eee; color: #888",C,...b)}info(C,...b){this.getLevel()<=E.Info&&console.log("%c INFO","color: #33f",C,...b)}error(C,...b){this.getLevel()<=E.Error&&console.log("%c  ERR","color: #f33",C,...b)}dispose(){}}class T extends g.JT{constructor(C){super(),this.logger=C,this._register(C)}getLevel(){return this.logger.getLevel()}trace(C,...b){this.logger.trace(C,...b)}debug(C,...b){this.logger.debug(C,...b)}info(C,...b){this.logger.info(C,...b)}error(C,...b){this.logger.error(C,...b)}}},81622:(Be,Me,m)=>{m.d(Me,{ZL:()=>B,H0:()=>E,lT:()=>i});var E,M=m(13310),g=m(12918),Y=m(43569),B=(()=>{return(O=B||(B={}))[O.Hint=1]="Hint",O[O.Info=2]="Info",O[O.Warning=4]="Warning",O[O.Error=8]="Error",B;var O})();!function(O){O.compare=function(L,f){return f-L};const T=Object.create(null);T[O.Error]=(0,g.N)("sev.error","Error"),T[O.Warning]=(0,g.N)("sev.warning","Warning"),T[O.Info]=(0,g.N)("sev.info","Info"),O.toString=function(L){return T[L]||""},O.fromSeverity=function(L){switch(L){case M.Z.Error:return O.Error;case M.Z.Warning:return O.Warning;case M.Z.Info:return O.Info;case M.Z.Ignore:return O.Hint}},O.toSeverity=function(L){switch(L){case O.Error:return M.Z.Error;case O.Warning:return M.Z.Warning;case O.Info:return M.Z.Info;case O.Hint:return M.Z.Ignore}}}(B||(B={})),function(O){const F="";function S(C,b){let L=[F];return L.push(C.source?C.source.replace("\xa6","\\\xa6"):F),L.push(C.code?"string"==typeof C.code?C.code.replace("\xa6","\\\xa6"):C.code.value.replace("\xa6","\\\xa6"):F),L.push(null!=C.severity?B.toString(C.severity):F),L.push(C.message&&b?C.message.replace("\xa6","\\\xa6"):F),L.push(null!=C.startLineNumber?C.startLineNumber.toString():F),L.push(null!=C.startColumn?C.startColumn.toString():F),L.push(null!=C.endLineNumber?C.endLineNumber.toString():F),L.push(null!=C.endColumn?C.endColumn.toString():F),L.push(F),L.join("\xa6")}O.makeKey=function(C){return S(C,!0)},O.makeKeyOptionalMessage=S}(E||(E={}));const i=(0,Y.yh)("markerService")},8135:(Be,Me,m)=>{m.d(Me,{zb:()=>Y,lT:()=>B,EO:()=>E});var M=m(13310),g=m(43569),Y=M.Z;const B=(0,g.yh)("notificationService");class E{}},23813:(Be,Me,m)=>{m.d(Me,{v4:()=>i,SW:()=>O,xn:()=>F,Gs:()=>T,xI:()=>S});var M=m(40189),g=m(74243),Y=m(85459),B=m(43569),E=function(C,b,L,f){return new(L||(L=Promise))(function(z,D){function I(k){try{P(f.next(k))}catch($){D($)}}function Z(k){try{P(f.throw(k))}catch($){D($)}}function P(k){k.done?z(k.value):function(z){return z instanceof L?z:new L(function(D){D(z)})}(k.value).then(I,Z)}P((f=f.apply(C,b||[])).next())})};const i=(0,B.yh)("openerService"),O=Object.freeze({_serviceBrand:void 0,registerOpener:()=>M.JT.None,registerValidator:()=>M.JT.None,registerExternalUriResolver:()=>M.JT.None,setDefaultExternalOpener(){},registerExternalOpener:()=>M.JT.None,open(){return E(this,void 0,void 0,function*(){return!1})},resolveExternalUri(C){return E(this,void 0,void 0,function*(){return{resolved:C,dispose(){}}})}});function F(C,b){return Y.o.isUri(C)?(0,g.qq)(C.scheme,b):(0,g.ok)(C,b+":")}function T(C,...b){return b.some(L=>F(C,L))}function S(C){let b;const L=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(C.fragment);return L&&(b={startLineNumber:parseInt(L[1]),startColumn:L[2]?parseInt(L[2]):1,endLineNumber:L[4]?parseInt(L[4]):void 0,endColumn:L[4]?L[5]?parseInt(L[5]):1:void 0},C=C.with({fragment:""})),{selection:b,uri:C}}},24763:(Be,Me,m)=>{m.d(Me,{Ex:()=>Y,ek:()=>B});var M=m(43569);Object.freeze({total(){},worked(){},done(){}});class Y{constructor(i){this.callback=i}report(i){this._value=i,this.callback(this._value)}}Y.None=Object.freeze({report(){}});const B=(0,M.yh)("editorProgressService")},76183:(Be,Me,m)=>{m.d(Me,{Ry:()=>B,IP:()=>E});var M=m(89822),g=m(40189),Y=m(63779),B=(()=>{return(O=B||(B={}))[O.PRESERVE=0]="PRESERVE",O[O.LAST=1]="LAST",B;var O})();const E={Quickaccess:"workbench.contributions.quickaccess"};Y.B.add(E.Quickaccess,new class{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(F){return 0===F.prefix.length?this.defaultProvider=F:this.providers.push(F),this.providers.sort((T,S)=>S.prefix.length-T.prefix.length),(0,g.OF)(()=>{this.providers.splice(this.providers.indexOf(F),1),this.defaultProvider===F&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,M.kX)([this.defaultProvider,...this.providers])}getQuickAccessProvider(F){return F&&this.providers.find(S=>F.startsWith(S.prefix))||this.defaultProvider}})},43413:(Be,Me,m)=>{m.d(Me,{jG:()=>g.jG,eJ:()=>Y});var M=m(43569),g=m(55552);const Y=(0,M.yh)("quickInputService")},63779:(Be,Me,m)=>{m.d(Me,{B:()=>B});var M=m(59126),g=m(99770);const B=new class{constructor(){this.data=new Map}add(i,O){M.ok(g.HD(i)),M.ok(g.Kn(O)),M.ok(!this.data.has(i),"There is already an extension with this id"),this.data.set(i,O)}as(i){return this.data.get(i)||null}}},58070:(Be,Me,m)=>{m.d(Me,{Uy:()=>C,vm:()=>f,fk:()=>b});var M=m(71040),g=m(40189),Y=m(99770),B=m(89983),E=function(N,z,D,I){return new(D||(D=Promise))(function(P,k){function $(oe){try{G(I.next(oe))}catch(de){k(de)}}function j(oe){try{G(I.throw(oe))}catch(de){k(de)}}function G(oe){oe.done?P(oe.value):function(P){return P instanceof D?P:new D(function(k){k(P)})}(oe.value).then($,j)}G((I=I.apply(N,z||[])).next())})},i=(()=>{return(N=i||(i={}))[N.None=0]="None",N[N.Initialized=1]="Initialized",N[N.Closed=2]="Closed",i;var N})();let O=(()=>{class N extends g.JT{constructor(D,I=Object.create(null)){super(),this.database=D,this.options=I,this._onDidChangeStorage=this._register(new M.Q5),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=i.None,this.cache=new Map,this.flushDelayer=new B.rH(N.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(D=>this.onDidChangeItemsExternal(D)))}onDidChangeItemsExternal(D){var I,Z;null===(I=D.changed)||void 0===I||I.forEach((P,k)=>this.accept(k,P)),null===(Z=D.deleted)||void 0===Z||Z.forEach(P=>this.accept(P,void 0))}accept(D,I){if(this.state===i.Closed)return;let Z=!1;(0,Y.Jp)(I)?Z=this.cache.delete(D):this.cache.get(D)!==I&&(this.cache.set(D,I),Z=!0),Z&&this._onDidChangeStorage.fire(D)}get(D,I){const Z=this.cache.get(D);return(0,Y.Jp)(Z)?I:Z}getBoolean(D,I){const Z=this.get(D);return(0,Y.Jp)(Z)?I:"true"===Z}getNumber(D,I){const Z=this.get(D);return(0,Y.Jp)(Z)?I:parseInt(Z,10)}set(D,I){return E(this,void 0,void 0,function*(){if(this.state===i.Closed)return;if((0,Y.Jp)(I))return this.delete(D);const Z=String(I);return this.cache.get(D)!==Z?(this.cache.set(D,Z),this.pendingInserts.set(D,Z),this.pendingDeletes.delete(D),this._onDidChangeStorage.fire(D),this.doFlush()):void 0})}delete(D){return E(this,void 0,void 0,function*(){if(this.state!==i.Closed&&this.cache.delete(D))return this.pendingDeletes.has(D)||this.pendingDeletes.add(D),this.pendingInserts.delete(D),this._onDidChangeStorage.fire(D),this.doFlush()})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return E(this,void 0,void 0,function*(){if(!this.hasPending)return;const D={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(D).finally(()=>{var I;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)null===(I=this.whenFlushedCallbacks.pop())||void 0===I||I()})})}doFlush(D){return E(this,void 0,void 0,function*(){return this.flushDelayer.trigger(()=>this.flushPending(),D)})}dispose(){this.flushDelayer.dispose(),super.dispose()}}return N.DEFAULT_FLUSH_DELAY=100,N})();class F{constructor(){this.onDidChangeItemsExternal=M.ju.None,this.items=new Map}updateItems(z){return E(this,void 0,void 0,function*(){z.insert&&z.insert.forEach((D,I)=>this.items.set(I,D)),z.delete&&z.delete.forEach(D=>this.items.delete(D))})}}var T=m(43569);const S="__$__targetStorageMarker",C=(0,T.yh)("storageService");var b=(()=>{return(N=b||(b={}))[N.NONE=0]="NONE",N[N.SHUTDOWN=1]="SHUTDOWN",b;var N})();let L=(()=>{class N extends g.JT{constructor(D={flushInterval:N.DEFAULT_FLUSH_INTERVAL}){super(),this.options=D,this._onDidChangeValue=this._register(new M.K3),this._onDidChangeTarget=this._register(new M.K3),this._onWillSaveState=this._register(new M.Q5),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._globalKeyTargets=void 0}emitDidChangeValue(D,I){I===S?(0===D?this._globalKeyTargets=void 0:1===D&&(this._workspaceKeyTargets=void 0),this._onDidChangeTarget.fire({scope:D})):this._onDidChangeValue.fire({scope:D,key:I,target:this.getKeyTargets(D)[I]})}get(D,I,Z){var P;return null===(P=this.getStorage(I))||void 0===P?void 0:P.get(D,Z)}getBoolean(D,I,Z){var P;return null===(P=this.getStorage(I))||void 0===P?void 0:P.getBoolean(D,Z)}getNumber(D,I,Z){var P;return null===(P=this.getStorage(I))||void 0===P?void 0:P.getNumber(D,Z)}store(D,I,Z,P){(0,Y.Jp)(I)?this.remove(D,Z):this.withPausedEmitters(()=>{var k;this.updateKeyTarget(D,Z,P),null===(k=this.getStorage(Z))||void 0===k||k.set(D,I)})}remove(D,I){this.withPausedEmitters(()=>{var Z;this.updateKeyTarget(D,I,void 0),null===(Z=this.getStorage(I))||void 0===Z||Z.delete(D)})}withPausedEmitters(D){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{D()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(D,I,Z){var P,k;const $=this.getKeyTargets(I);"number"==typeof Z?$[D]!==Z&&($[D]=Z,null===(P=this.getStorage(I))||void 0===P||P.set(S,JSON.stringify($))):"number"==typeof $[D]&&(delete $[D],null===(k=this.getStorage(I))||void 0===k||k.set(S,JSON.stringify($)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get globalKeyTargets(){return this._globalKeyTargets||(this._globalKeyTargets=this.loadKeyTargets(0)),this._globalKeyTargets}getKeyTargets(D){return 0===D?this.globalKeyTargets:this.workspaceKeyTargets}loadKeyTargets(D){const I=this.get(S,D);if(I)try{return JSON.parse(I)}catch{}return Object.create(null)}}return N.DEFAULT_FLUSH_INTERVAL=6e4,N})();class f extends L{constructor(){super(),this.globalStorage=this._register(new O(new F)),this.workspaceStorage=this._register(new O(new F)),this._register(this.workspaceStorage.onDidChangeStorage(z=>this.emitDidChangeValue(1,z))),this._register(this.globalStorage.onDidChangeStorage(z=>this.emitDidChangeValue(0,z)))}getStorage(z){return 0===z?this.globalStorage:this.workspaceStorage}}},87493:(Be,Me,m)=>{m.d(Me,{b:()=>g});const g=(0,m(43569).yh)("telemetryService")},98275:(Be,Me,m)=>{m.d(Me,{QO2:()=>F,IPX:()=>T,P6G:()=>b,dRz:()=>L,Ido:()=>f,XZx:()=>z,R80:()=>D,lRK:()=>I,xL1:()=>Z,url:()=>$,sgC:()=>j,SwI:()=>fe,rh:()=>pe,sEe:()=>we,zJb:()=>ge,dt_:()=>Q,PRb:()=>q,XEs:()=>ee,Pvw:()=>X,_lC:()=>ce,YI3:()=>ve,EPQ:()=>ke,RV_:()=>Ve,SUG:()=>Ue,C3g:()=>ue,paE:()=>_e,_t9:()=>Re,OZR:()=>et,j5u:()=>at,b7$:()=>_t,GO4:()=>zt,g8u:()=>Wt,qeD:()=>fn,_wn:()=>Ye,etL:()=>Dt,ABB:()=>St,ynu:()=>un,zRJ:()=>Ln,L_H:()=>sn,lXJ:()=>hn,b6y:()=>_n,gpD:()=>cn,uoC:()=>At,pW3:()=>Ei,few:()=>Yt,c63:()=>He,T83:()=>$e,Dut:()=>qt,fEB:()=>mn,cvW:()=>fi,NOs:()=>wi,D0T:()=>Bi,Hfx:()=>yi,D1_:()=>yt,Ng6:()=>Lt,zKr:()=>en,tZ6:()=>Vn,loF:()=>Ht,kJk:()=>Ae,opG:()=>Xe,oQ$:()=>dt,lWp:()=>Mt,AWI:()=>Vt,K19:()=>jt,hEj:()=>rn,yb5:()=>wn,ES4:()=>vn,Rzx:()=>yn,g_n:()=>Sn,nyM:()=>xn,MUv:()=>Kt,jUe:()=>En,pnM:()=>Mn,EiJ:()=>Hn,gkn:()=>Jn,ptc:()=>Nn,yJx:()=>Ni,Sbf:()=>ai,CNo:()=>pi,LoV:()=>kn,_Yy:()=>_i,VVv:()=>Ti,PpC:()=>bi,hX8:()=>Yi,bKB:()=>zn,HCL:()=>Ii,phM:()=>so,Fu1:()=>ei,sKV:()=>go,CzK:()=>Di,keg:()=>Mo,ypS:()=>bo,P4M:()=>vo,hzo:()=>Ro,xi6:()=>zs,j51:()=>No,zOm:()=>ys,P6Y:()=>ks,F9q:()=>Do,XL$:()=>Ss,mHy:()=>ms,LLc:()=>qs,L_t:()=>Fo,_bK:()=>ao,_2n:()=>dr,Oop:()=>Lr,dCr:()=>uo,M6C:()=>Io,Tnx:()=>Us,rg2:()=>Zr,ytC:()=>js,kvU:()=>ps,s$:()=>Eo,F3d:()=>xs,mV1:()=>er,$d5:()=>ya,AS1:()=>zi,Gwp:()=>So,PX0:()=>Ts,vGG:()=>R,oSI:()=>h,Saq:()=>x,UnT:()=>ae,uxu:()=>Ce,EQn:()=>Oe,NPS:()=>Je,cbQ:()=>it,Vqd:()=>ht,Cdg:()=>gt,DEr:()=>Et,Hz8:()=>Ft,jbW:()=>Zt,$DX:()=>Tn,E3h:()=>Xn,ZGJ:()=>li,lUq:()=>pt,Fm_:()=>ac,SPM:()=>ra,SUY:()=>xa,IYc:()=>lc,ov3:()=>sd,Gj_:()=>cc,Ivo:()=>wl,kVY:()=>dc,Itd:()=>yl,CA6:()=>ko,Xy4:()=>Sl,brw:()=>Ls,JpG:()=>Hr,BOY:()=>uc,OLZ:()=>hr,ZnX:()=>gi,kwl:()=>qo,Snq:()=>$o});var M=m(89983),g=m(81897),Y=m(71040),B=m(99770),E=m(12918),i=m(42620),O=m(63779);function F(Oi){return`--vscode-${Oi.replace(/\./g,"-")}`}const T={ColorContribution:"base.contributions.colors"},C=new class{constructor(){this._onDidChangeSchema=new Y.Q5,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(no,Bo,To,ss=!1,es){this.colorsById[no]={id:no,description:To,defaults:Bo,needsTransparency:ss,deprecationMessage:es};let Wo={type:"string",description:To,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return es&&(Wo.deprecationMessage=es),this.colorSchema.properties[no]=Wo,this.colorReferenceSchema.enum.push(no),this.colorReferenceSchema.enumDescriptions.push(To),this._onDidChangeSchema.fire(),no}getColors(){return Object.keys(this.colorsById).map(no=>this.colorsById[no])}resolveDefaultColor(no,Bo){const To=this.colorsById[no];if(To&&To.defaults)return $o(To.defaults[Bo.type],Bo)}getColorSchema(){return this.colorSchema}toString(){return Object.keys(this.colorsById).sort((Bo,To)=>{let ss=-1===Bo.indexOf(".")?0:1,es=-1===To.indexOf(".")?0:1;return ss!==es?ss-es:Bo.localeCompare(To)}).map(Bo=>`- \`${Bo}\`: ${this.colorsById[Bo].description}`).join("\n")}};function b(Oi,no,Bo,To,ss){return C.registerColor(Oi,no,Bo,To,ss)}O.B.add(T.ColorContribution,C);const L=b("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},E.N("foreground","Overall foreground color. This color is only used if not overridden by a component.")),f=b("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},E.N("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),z=(b("descriptionForeground",{light:"#717171",dark:gi(L,.7),hc:gi(L,.7)},E.N("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),b("icon.foreground",{dark:"#C5C5C5",light:"#424242",hc:"#FFFFFF"},E.N("iconForeground","The default color for icons in the workbench."))),D=b("focusBorder",{dark:"#007FD4",light:"#0090F1",hc:"#F38518"},E.N("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),I=b("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},E.N("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),Z=b("contrastActiveBorder",{light:null,dark:null,hc:D},E.N("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),$=(b("selection.background",{light:null,dark:null,hc:null},E.N("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),b("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hc:g.Il.black},E.N("textSeparatorForeground","Color for text separators.")),b("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},E.N("textLinkForeground","Foreground color for links in text."))),j=b("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},E.N("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),fe=(b("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hc:"#D7BA7D"},E.N("textPreformatForeground","Foreground color for preformatted text segments.")),b("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hc:null},E.N("textBlockQuoteBackground","Background color for block quotes in text.")),b("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hc:g.Il.white},E.N("textBlockQuoteBorder","Border color for block quotes in text.")),b("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:g.Il.black},E.N("textCodeBlockBackground","Background color for code blocks in text."))),pe=b("widget.shadow",{dark:gi(g.Il.black,.36),light:gi(g.Il.black,.16),hc:null},E.N("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),we=b("input.background",{dark:"#3C3C3C",light:g.Il.white,hc:g.Il.black},E.N("inputBoxBackground","Input box background.")),ge=b("input.foreground",{dark:L,light:L,hc:L},E.N("inputBoxForeground","Input box foreground.")),Q=b("input.border",{dark:null,light:null,hc:I},E.N("inputBoxBorder","Input box border.")),q=b("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hc:I},E.N("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),ee=(b("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hc:null},E.N("inputOption.hoverBackground","Background color of activated options in input fields.")),b("inputOption.activeBackground",{dark:gi(D,.4),light:gi(D,.2),hc:g.Il.transparent},E.N("inputOption.activeBackground","Background hover color of options in input fields."))),X=b("inputOption.activeForeground",{dark:g.Il.white,light:g.Il.black,hc:null},E.N("inputOption.activeForeground","Foreground color of activated options in input fields.")),ce=(b("input.placeholderForeground",{light:gi(L,.5),dark:gi(L,.5),hc:gi(L,.7)},E.N("inputPlaceholderForeground","Input box foreground color for placeholder text.")),b("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:g.Il.black},E.N("inputValidationInfoBackground","Input validation background color for information severity."))),ve=b("inputValidation.infoForeground",{dark:null,light:null,hc:null},E.N("inputValidationInfoForeground","Input validation foreground color for information severity.")),ke=b("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:I},E.N("inputValidationInfoBorder","Input validation border color for information severity.")),Ve=b("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:g.Il.black},E.N("inputValidationWarningBackground","Input validation background color for warning severity.")),Ue=b("inputValidation.warningForeground",{dark:null,light:null,hc:null},E.N("inputValidationWarningForeground","Input validation foreground color for warning severity.")),ue=b("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:I},E.N("inputValidationWarningBorder","Input validation border color for warning severity.")),_e=b("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:g.Il.black},E.N("inputValidationErrorBackground","Input validation background color for error severity.")),Re=b("inputValidation.errorForeground",{dark:null,light:null,hc:null},E.N("inputValidationErrorForeground","Input validation foreground color for error severity.")),et=b("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:I},E.N("inputValidationErrorBorder","Input validation border color for error severity.")),Ze=b("dropdown.background",{dark:"#3C3C3C",light:g.Il.white,hc:g.Il.black},E.N("dropdownBackground","Dropdown background.")),rt=(b("dropdown.listBackground",{dark:null,light:null,hc:g.Il.black},E.N("dropdownListBackground","Dropdown list background.")),b("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:g.Il.white},E.N("dropdownForeground","Dropdown foreground."))),ut=b("dropdown.border",{dark:Ze,light:"#CECECE",hc:I},E.N("dropdownBorder","Dropdown border.")),at=(b("checkbox.background",{dark:Ze,light:Ze,hc:Ze},E.N("checkbox.background","Background color of checkbox widget.")),b("checkbox.foreground",{dark:rt,light:rt,hc:rt},E.N("checkbox.foreground","Foreground color of checkbox widget.")),b("checkbox.border",{dark:ut,light:ut,hc:ut},E.N("checkbox.border","Border color of checkbox widget.")),b("button.foreground",{dark:g.Il.white,light:g.Il.white,hc:g.Il.white},E.N("buttonForeground","Button foreground color."))),_t=b("button.background",{dark:"#0E639C",light:"#007ACC",hc:null},E.N("buttonBackground","Button background color.")),zt=b("button.hoverBackground",{dark:Er(_t,.2),light:Ur(_t,.2),hc:null},E.N("buttonHoverBackground","Button background color when hovering.")),Rt=(b("button.border",{dark:I,light:I,hc:I},E.N("buttonBorder","Button border color.")),b("button.secondaryForeground",{dark:g.Il.white,light:g.Il.white,hc:g.Il.white},E.N("buttonSecondaryForeground","Secondary button foreground color.")),b("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hc:null},E.N("buttonSecondaryBackground","Secondary button background color."))),Wt=(b("button.secondaryHoverBackground",{dark:Er(Rt,.2),light:Ur(Rt,.2),hc:null},E.N("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),b("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:g.Il.black},E.N("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count."))),fn=b("badge.foreground",{dark:g.Il.white,light:"#333",hc:g.Il.white},E.N("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),Ye=b("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},E.N("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),Dt=b("scrollbarSlider.background",{dark:g.Il.fromHex("#797979").transparent(.4),light:g.Il.fromHex("#646464").transparent(.4),hc:gi(I,.6)},E.N("scrollbarSliderBackground","Scrollbar slider background color.")),St=b("scrollbarSlider.hoverBackground",{dark:g.Il.fromHex("#646464").transparent(.7),light:g.Il.fromHex("#646464").transparent(.7),hc:gi(I,.8)},E.N("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),un=b("scrollbarSlider.activeBackground",{dark:g.Il.fromHex("#BFBFBF").transparent(.4),light:g.Il.fromHex("#000000").transparent(.6),hc:I},E.N("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),Ln=b("progressBar.background",{dark:g.Il.fromHex("#0E70C0"),light:g.Il.fromHex("#0E70C0"),hc:I},E.N("progressBarBackground","Background color of the progress bar that can show for long running operations.")),sn=b("editorError.background",{dark:null,light:null,hc:null},E.N("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),hn=b("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hc:null},E.N("editorError.foreground","Foreground color of error squigglies in the editor.")),_n=b("editorError.border",{dark:null,light:null,hc:g.Il.fromHex("#E47777").transparent(.8)},E.N("errorBorder","Border color of error boxes in the editor.")),cn=b("editorWarning.background",{dark:null,light:null,hc:null},E.N("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),At=b("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hc:null},E.N("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),Ei=b("editorWarning.border",{dark:null,light:null,hc:g.Il.fromHex("#FFCC00").transparent(.8)},E.N("warningBorder","Border color of warning boxes in the editor.")),Yt=b("editorInfo.background",{dark:null,light:null,hc:null},E.N("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),He=b("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hc:"#3794FF"},E.N("editorInfo.foreground","Foreground color of info squigglies in the editor.")),$e=b("editorInfo.border",{dark:null,light:null,hc:g.Il.fromHex("#3794FF").transparent(.8)},E.N("infoBorder","Border color of info boxes in the editor.")),qt=b("editorHint.foreground",{dark:g.Il.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},E.N("editorHint.foreground","Foreground color of hint squigglies in the editor.")),mn=b("editorHint.border",{dark:null,light:null,hc:g.Il.fromHex("#eeeeee").transparent(.8)},E.N("hintBorder","Border color of hint boxes in the editor.")),fi=(b("sash.hoverBorder",{dark:D,light:D,hc:D},E.N("sashActiveBorder","Border color of active sashes.")),b("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:g.Il.black},E.N("editorBackground","Editor background color."))),wi=b("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:g.Il.white},E.N("editorForeground","Editor default foreground color.")),Bi=b("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},E.N("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),yi=b("editorWidget.foreground",{dark:L,light:L,hc:L},E.N("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),yt=b("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:I},E.N("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),Lt=b("editorWidget.resizeBorder",{light:null,dark:null,hc:null},E.N("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),en=b("quickInput.background",{dark:Bi,light:Bi,hc:Bi},E.N("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),Vn=b("quickInput.foreground",{dark:yi,light:yi,hc:yi},E.N("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),Ht=b("quickInputTitle.background",{dark:new g.Il(new g.VS(255,255,255,.105)),light:new g.Il(new g.VS(0,0,0,.06)),hc:"#000000"},E.N("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),Ae=b("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:g.Il.white},E.N("pickerGroupForeground","Quick picker color for grouping labels.")),Xe=b("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:g.Il.white},E.N("pickerGroupBorder","Quick picker color for grouping borders.")),dt=b("keybindingLabel.background",{dark:new g.Il(new g.VS(128,128,128,.17)),light:new g.Il(new g.VS(221,221,221,.4)),hc:g.Il.transparent},E.N("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),Mt=b("keybindingLabel.foreground",{dark:g.Il.fromHex("#CCCCCC"),light:g.Il.fromHex("#555555"),hc:g.Il.white},E.N("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),Vt=b("keybindingLabel.border",{dark:new g.Il(new g.VS(51,51,51,.6)),light:new g.Il(new g.VS(204,204,204,.4)),hc:new g.Il(new g.VS(111,195,223))},E.N("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),jt=b("keybindingLabel.bottomBorder",{dark:new g.Il(new g.VS(68,68,68,.6)),light:new g.Il(new g.VS(187,187,187,.4)),hc:new g.Il(new g.VS(111,195,223))},E.N("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),rn=b("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},E.N("editorSelectionBackground","Color of the editor selection.")),wn=b("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},E.N("editorSelectionForeground","Color of the selected text for high contrast.")),vn=b("editor.inactiveSelectionBackground",{light:gi(rn,.5),dark:gi(rn,.5),hc:gi(rn,.5)},E.N("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),yn=b("editor.selectionHighlightBackground",{light:Ds(rn,fi,.3,.6),dark:Ds(rn,fi,.3,.6),hc:null},E.N("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),Sn=b("editor.selectionHighlightBorder",{light:null,dark:null,hc:Z},E.N("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),xn=b("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},E.N("editorFindMatch","Color of the current search match.")),Kt=b("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},E.N("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),En=b("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},E.N("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),Mn=b("editor.findMatchBorder",{light:null,dark:null,hc:Z},E.N("editorFindMatchBorder","Border color of the current search match.")),Hn=b("editor.findMatchHighlightBorder",{light:null,dark:null,hc:Z},E.N("findMatchHighlightBorder","Border color of the other search matches.")),Jn=b("editor.findRangeHighlightBorder",{dark:null,light:null,hc:gi(Z,.4)},E.N("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),Nn=(b("searchEditor.findMatchBackground",{light:gi(Kt,.66),dark:gi(Kt,.66),hc:Kt},E.N("searchEditor.queryMatch","Color of the Search Editor query matches.")),b("searchEditor.findMatchBorder",{light:gi(Hn,.66),dark:gi(Hn,.66),hc:Hn},E.N("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches.")),b("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},E.N("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0)),Ni=b("editorHoverWidget.background",{light:Bi,dark:Bi,hc:Bi},E.N("hoverBackground","Background color of the editor hover.")),ai=b("editorHoverWidget.foreground",{light:yi,dark:yi,hc:yi},E.N("hoverForeground","Foreground color of the editor hover.")),pi=b("editorHoverWidget.border",{light:yt,dark:yt,hc:yt},E.N("hoverBorder","Border color of the editor hover.")),kn=b("editorHoverWidget.statusBarBackground",{dark:Er(Ni,.2),light:Ur(Ni,.05),hc:Bi},E.N("statusBarBackground","Background color of the editor hover status bar.")),_i=b("editorLink.activeForeground",{dark:"#4E94CE",light:g.Il.blue,hc:g.Il.cyan},E.N("activeLinkForeground","Color of active links.")),Ti=b("editorInlayHint.foreground",{dark:gi(fn,.8),light:gi(fn,.8),hc:fn},E.N("editorInlayHintForeground","Foreground color of inline hints")),bi=b("editorInlayHint.background",{dark:gi(Wt,.6),light:gi(Wt,.3),hc:Wt},E.N("editorInlayHintBackground","Background color of inline hints")),Yi=b("editorInlayHint.typeForeground",{dark:Ti,light:Ti,hc:Ti},E.N("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),zn=b("editorInlayHint.typeBackground",{dark:bi,light:bi,hc:bi},E.N("editorInlayHintBackgroundTypes","Background color of inline hints for types")),Ii=b("editorInlayHint.parameterForeground",{dark:Ti,light:Ti,hc:Ti},E.N("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),so=b("editorInlayHint.parameterBackground",{dark:bi,light:bi,hc:bi},E.N("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),ei=b("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hc:"#FFCC00"},E.N("editorLightBulbForeground","The color used for the lightbulb actions icon.")),go=b("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},E.N("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),Di=new g.Il(new g.VS(155,185,85,.2)),Mo=new g.Il(new g.VS(255,0,0,.2)),bo=b("diffEditor.insertedTextBackground",{dark:Di,light:Di,hc:null},E.N("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),vo=b("diffEditor.removedTextBackground",{dark:Mo,light:Mo,hc:null},E.N("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),Ro=b("diffEditor.insertedLineBackground",{dark:null,light:null,hc:null},E.N("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),zs=b("diffEditor.removedLineBackground",{dark:null,light:null,hc:null},E.N("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),No=b("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hc:null},E.N("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),ys=b("diffEditorGutter.removedLineBackground",{dark:null,light:null,hc:null},E.N("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),ks=b("diffEditorOverview.insertedForeground",{dark:null,light:null,hc:null},E.N("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),Do=b("diffEditorOverview.removedForeground",{dark:null,light:null,hc:null},E.N("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),Ss=b("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},E.N("diffEditorInsertedOutline","Outline color for the text that got inserted.")),ms=b("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},E.N("diffEditorRemovedOutline","Outline color for text that got removed.")),qs=b("diffEditor.border",{dark:null,light:null,hc:I},E.N("diffEditorBorder","Border color between the two text editors.")),Fo=b("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hc:null},E.N("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),ao=b("list.focusBackground",{dark:null,light:null,hc:null},E.N("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),dr=b("list.focusForeground",{dark:null,light:null,hc:null},E.N("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Lr=b("list.focusOutline",{dark:D,light:D,hc:Z},E.N("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),uo=b("list.activeSelectionBackground",{dark:"#094771",light:"#0060C0",hc:null},E.N("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Io=b("list.activeSelectionForeground",{dark:g.Il.white,light:g.Il.white,hc:null},E.N("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Us=b("list.activeSelectionIconForeground",{dark:null,light:null,hc:null},E.N("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Zr=b("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},E.N("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),js=b("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},E.N("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),ps=b("list.inactiveSelectionIconForeground",{dark:null,light:null,hc:null},E.N("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Eo=b("list.inactiveFocusBackground",{dark:null,light:null,hc:null},E.N("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),xs=b("list.inactiveFocusOutline",{dark:null,light:null,hc:null},E.N("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),er=b("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},E.N("listHoverBackground","List/Tree background when hovering over items using the mouse.")),ya=b("list.hoverForeground",{dark:null,light:null,hc:null},E.N("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),zi=b("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},E.N("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),So=b("list.highlightForeground",{dark:"#18A3FF",light:"#0066BF",hc:D},E.N("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),Ts=b("list.focusHighlightForeground",{dark:So,light:(Oi=uo,no=So,"#9DDDFF",{op:5,if:Oi,then:no,else:"#9DDDFF"}),hc:So},E.N("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),R=(b("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hc:"#B89500"},E.N("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),b("list.errorForeground",{dark:"#F88070",light:"#B01011",hc:null},E.N("listErrorForeground","Foreground color of list items containing errors.")),b("list.warningForeground",{dark:"#CCA700",light:"#855F00",hc:null},E.N("listWarningForeground","Foreground color of list items containing warnings.")),b("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:g.Il.black},E.N("listFilterWidgetBackground","Background color of the type filter widget in lists and trees."))),h=b("listFilterWidget.outline",{dark:g.Il.transparent,light:g.Il.transparent,hc:"#f38518"},E.N("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),x=b("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:I},E.N("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),ae=(b("list.filterMatchBackground",{dark:Kt,light:Kt,hc:null},E.N("listFilterMatchHighlight","Background color of the filtered match.")),b("list.filterMatchBorder",{dark:Hn,light:Hn,hc:I},E.N("listFilterMatchHighlightBorder","Border color of the filtered match.")),b("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hc:"#a9a9a9"},E.N("treeIndentGuidesStroke","Tree stroke color for the indentation guides."))),Ce=b("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hc:null},E.N("tableColumnsBorder","Table border color between columns.")),Oe=b("tree.tableOddRowsBackground",{dark:gi(L,.04),light:gi(L,.04),hc:null},E.N("tableOddRowsBackgroundColor","Background color for odd table rows.")),Ge=(b("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hc:"#A7A8A9"},E.N("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized. ")),b("quickInput.list.focusBackground",{dark:null,light:null,hc:null},"",void 0,E.N("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead"))),Je=b("quickInputList.focusForeground",{dark:Io,light:Io,hc:Io},E.N("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),it=b("quickInputList.focusIconForeground",{dark:Us,light:Us,hc:Us},E.N("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),ht=b("quickInputList.focusBackground",{dark:qo(Ge,uo),light:qo(Ge,uo),hc:null},E.N("quickInput.listFocusBackground","Quick picker background color for the focused item.")),gt=b("menu.border",{dark:null,light:null,hc:I},E.N("menuBorder","Border color of menus.")),Et=b("menu.foreground",{dark:rt,light:L,hc:rt},E.N("menuForeground","Foreground color of menu items.")),Ft=b("menu.background",{dark:Ze,light:Ze,hc:Ze},E.N("menuBackground","Background color of menu items.")),Zt=b("menu.selectionForeground",{dark:Io,light:Io,hc:Io},E.N("menuSelectionForeground","Foreground color of the selected menu item in menus.")),Tn=b("menu.selectionBackground",{dark:uo,light:uo,hc:uo},E.N("menuSelectionBackground","Background color of the selected menu item in menus.")),Xn=b("menu.selectionBorder",{dark:null,light:null,hc:Z},E.N("menuSelectionBorder","Border color of the selected menu item in menus.")),li=b("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:I},E.N("menuSeparatorBackground","Color of a separator menu item in menus.")),pt=b("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hc:null},E.N("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),ur=(b("toolbar.hoverOutline",{dark:null,light:null,hc:Z},E.N("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),b("toolbar.activeBackground",{dark:Er(pt,.1),light:Ur(pt,.1),hc:null},E.N("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),b("editor.snippetTabstopHighlightBackground",{dark:new g.Il(new g.VS(124,124,124,.3)),light:new g.Il(new g.VS(10,50,100,.2)),hc:new g.Il(new g.VS(124,124,124,.3))},E.N("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),b("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},E.N("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),b("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},E.N("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),b("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new g.Il(new g.VS(10,50,100,.5)),hc:"#525252"},E.N("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),b("breadcrumb.foreground",{light:gi(L,.8),dark:gi(L,.8),hc:gi(L,.8)},E.N("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),b("breadcrumb.background",{light:fi,dark:fi,hc:fi},E.N("breadcrumbsBackground","Background color of breadcrumb items.")),b("breadcrumb.focusForeground",{light:Ur(L,.2),dark:Er(L,.1),hc:Er(L,.1)},E.N("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),b("breadcrumb.activeSelectionForeground",{light:Ur(L,.2),dark:Er(L,.1),hc:Er(L,.1)},E.N("breadcrumbsSelectedForegound","Color of selected breadcrumb items.")),b("breadcrumbPicker.background",{light:Bi,dark:Bi,hc:Bi},E.N("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),g.Il.fromHex("#40C8AE").transparent(.5)),sc=g.Il.fromHex("#40A6FF").transparent(.5),vl=g.Il.fromHex("#606060").transparent(.4),nr=.4,os=b("merge.currentHeaderBackground",{dark:ur,light:ur,hc:null},E.N("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Sa=(b("merge.currentContentBackground",{dark:gi(os,nr),light:gi(os,nr),hc:gi(os,nr)},E.N("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),b("merge.incomingHeaderBackground",{dark:sc,light:sc,hc:null},E.N("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0)),Os=(b("merge.incomingContentBackground",{dark:gi(Sa,nr),light:gi(Sa,nr),hc:gi(Sa,nr)},E.N("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),b("merge.commonHeaderBackground",{dark:vl,light:vl,hc:null},E.N("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0)),Yr=(b("merge.commonContentBackground",{dark:gi(Os,nr),light:gi(Os,nr),hc:gi(Os,nr)},E.N("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),b("merge.border",{dark:null,light:null,hc:"#C3DF6F"},E.N("mergeBorder","Border color on headers and the splitter in inline merge-conflicts."))),ac=(b("editorOverviewRuler.currentContentForeground",{dark:gi(os,1),light:gi(os,1),hc:Yr},E.N("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),b("editorOverviewRuler.incomingContentForeground",{dark:gi(Sa,1),light:gi(Sa,1),hc:Yr},E.N("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),b("editorOverviewRuler.commonContentForeground",{dark:gi(Os,1),light:gi(Os,1),hc:Yr},E.N("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),b("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},E.N("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0)),ra=b("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},E.N("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),xa=b("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},E.N("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),lc=b("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hc:"#ffffff"},E.N("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),sd=b("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hc:"#ffffff"},E.N("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),cc=b("minimap.errorHighlight",{dark:new g.Il(new g.VS(255,18,18,.7)),light:new g.Il(new g.VS(255,18,18,.7)),hc:new g.Il(new g.VS(255,50,50,1))},E.N("minimapError","Minimap marker color for errors.")),wl=b("minimap.warningHighlight",{dark:At,light:At,hc:Ei},E.N("overviewRuleWarning","Minimap marker color for warnings.")),dc=b("minimap.background",{dark:null,light:null,hc:null},E.N("minimapBackground","Minimap background color.")),yl=b("minimap.foregroundOpacity",{dark:g.Il.fromHex("#000f"),light:g.Il.fromHex("#000f"),hc:g.Il.fromHex("#000f")},E.N("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),ko=b("minimapSlider.background",{light:gi(Dt,.5),dark:gi(Dt,.5),hc:gi(Dt,.5)},E.N("minimapSliderBackground","Minimap slider background color.")),Sl=b("minimapSlider.hoverBackground",{light:gi(St,.5),dark:gi(St,.5),hc:gi(St,.5)},E.N("minimapSliderHoverBackground","Minimap slider background color when hovering.")),Ls=b("minimapSlider.activeBackground",{light:gi(un,.5),dark:gi(un,.5),hc:gi(un,.5)},E.N("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),Hr=b("problemsErrorIcon.foreground",{dark:hn,light:hn,hc:hn},E.N("problemsErrorIconForeground","The color used for the problems error icon.")),uc=b("problemsWarningIcon.foreground",{dark:At,light:At,hc:At},E.N("problemsWarningIconForeground","The color used for the problems warning icon.")),hr=b("problemsInfoIcon.foreground",{dark:He,light:He,hc:He},E.N("problemsInfoIconForeground","The color used for the problems info icon."));var Oi,no;function Ur(Oi,no){return{op:0,value:Oi,factor:no}}function Er(Oi,no){return{op:1,value:Oi,factor:no}}function gi(Oi,no){return{op:2,value:Oi,factor:no}}function qo(...Oi){return{op:3,values:Oi}}function Ds(Oi,no,Bo,To){return{op:4,value:Oi,background:no,factor:Bo,transparency:To}}function $o(Oi,no){if(null!==Oi){if("string"==typeof Oi)return"#"===Oi[0]?g.Il.fromHex(Oi):no.getColor(Oi);if(Oi instanceof g.Il)return Oi;if("object"==typeof Oi)return function(Oi,no){var Bo,To,ss;switch(Oi.op){case 0:return null===(Bo=$o(Oi.value,no))||void 0===Bo?void 0:Bo.darken(Oi.factor);case 1:return null===(To=$o(Oi.value,no))||void 0===To?void 0:To.lighten(Oi.factor);case 2:return null===(ss=$o(Oi.value,no))||void 0===ss?void 0:ss.transparent(Oi.factor);case 3:for(const es of Oi.values){const Mr=$o(es,no);if(Mr)return Mr}return;case 5:return $o(no.defines(Oi.if)?Oi.then:Oi.else,no);case 4:{const es=$o(Oi.value,no);if(!es)return;const Mr=$o(Oi.background,no);return Mr?es.isDarkerThan(Mr)?g.Il.getLighterColor(es,Mr,Oi.factor).transparent(Oi.transparency):g.Il.getDarkerColor(es,Mr,Oi.factor).transparent(Oi.transparency):es.transparent(Oi.factor*Oi.transparency)}default:throw(0,B.vE)(Oi)}}(Oi,no)}}b("charts.foreground",{dark:L,light:L,hc:L},E.N("chartsForeground","The foreground color used in charts.")),b("charts.lines",{dark:gi(L,.5),light:gi(L,.5),hc:gi(L,.5)},E.N("chartsLines","The color used for horizontal lines in charts.")),b("charts.red",{dark:hn,light:hn,hc:hn},E.N("chartsRed","The red color used in chart visualizations.")),b("charts.blue",{dark:He,light:He,hc:He},E.N("chartsBlue","The blue color used in chart visualizations.")),b("charts.yellow",{dark:At,light:At,hc:At},E.N("chartsYellow","The yellow color used in chart visualizations.")),b("charts.orange",{dark:xa,light:xa,hc:xa},E.N("chartsOrange","The orange color used in chart visualizations.")),b("charts.green",{dark:"#89D185",light:"#388A34",hc:"#89D185"},E.N("chartsGreen","The green color used in chart visualizations.")),b("charts.purple",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},E.N("chartsPurple","The purple color used in chart visualizations."));const Es="vscode://schemas/workbench-colors";let hc=O.B.as(i.I.JSONContribution);hc.registerSchema(Es,C.getColorSchema());const Da=new M.pY(()=>hc.notifySchemaChanged(Es),200);C.onDidChangeSchema(()=>{Da.isScheduled()||Da.schedule()})},80974:(Be,Me,m)=>{m.d(Me,{q5:()=>b,Ks:()=>L,s_:()=>I});var T,M=m(89983),g=m(78968),Y=m(71040),B=m(12918),E=m(42620),i=m(63779),O=m(53323);(T||(T={})).getDefinition=function(oe,de){let fe=oe.defaults;for(;O.kS.isThemeIcon(fe);){const pe=C.getIcon(fe.id);if(!pe)return;fe=pe.defaults}return fe};const C=new class{constructor(){this._onDidChange=new Y.Q5,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,B.N)("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:(0,B.N)("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${g.dT.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(G,oe,de,fe){const pe=this.iconsById[G];if(pe){if(de&&!pe.description){pe.description=de,this.iconSchema.properties[G].markdownDescription=`${de} $(${G})`;const Q=this.iconReferenceSchema.enum.indexOf(G);-1!==Q&&(this.iconReferenceSchema.enumDescriptions[Q]=de),this._onDidChange.fire()}return pe}this.iconsById[G]={id:G,description:de,defaults:oe,deprecationMessage:fe};let ge={$ref:"#/definitions/icons"};return fe&&(ge.deprecationMessage=fe),de&&(ge.markdownDescription=`${de}: $(${G})`),this.iconSchema.properties[G]=ge,this.iconReferenceSchema.enum.push(G),this.iconReferenceSchema.enumDescriptions.push(de||""),this._onDidChange.fire(),{id:G}}getIcons(){return Object.keys(this.iconsById).map(G=>this.iconsById[G])}getIcon(G){return this.iconsById[G]}getIconSchema(){return this.iconSchema}toString(){const G=(pe,we)=>pe.id.localeCompare(we.id),oe=pe=>{for(;O.kS.isThemeIcon(pe.defaults);)pe=this.iconsById[pe.defaults.id];return`codicon codicon-${pe?pe.id:""}`};let de=[];de.push("| preview     | identifier                        | default codicon ID                | description"),de.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const fe=Object.keys(this.iconsById).map(pe=>this.iconsById[pe]);for(const pe of fe.filter(we=>!!we.description).sort(G))de.push(`|<i class="${oe(pe)}"></i>|${pe.id}|${O.kS.isThemeIcon(pe.defaults)?pe.defaults.id:pe.id}|${pe.description||""}|`);de.push("| preview     | identifier                        "),de.push("| ----------- | --------------------------------- |");for(const pe of fe.filter(we=>!O.kS.isThemeIcon(we.defaults)).sort(G))de.push(`|<i class="${oe(pe)}"></i>|${pe.id}|`);return de.join("\n")}};function b(j,G,oe,de){return C.registerIcon(j,G,oe,de)}function L(){return C}i.B.add("base.contributions.icons",C),function(){for(const j of g.lA.getAll())C.registerIcon(j.id,j.definition,j.description)}();const N="vscode://schemas/icons";let z=i.B.as(E.I.JSONContribution);z.registerSchema(N,C.getIconSchema());const D=new M.pY(()=>z.notifySchemaChanged(N),200);C.onDidChange(()=>{D.isScheduled()||D.schedule()});const I=b("widget-close",g.lA.close,(0,B.N)("widgetClose","Icon for the close action in widgets."));b("goto-previous-location",g.lA.arrowUp,(0,B.N)("previousChangeIcon","Icon for goto previous editor location.")),b("goto-next-location",g.lA.arrowDown,(0,B.N)("nextChangeIcon","Icon for goto next editor location.")),O.kS.modify(g.lA.sync,"spin"),O.kS.modify(g.lA.loading,"spin")},905:(Be,Me,m)=>{m.d(Me,{o:()=>g,WZ:()=>B,Jl:()=>E,O2:()=>i,tj:()=>F});var M=m(98275);function g(T,S){const C=Object.create(null);for(let b in S){const L=S[b];L&&(C[b]=(0,M.Snq)(L,T))}return C}function Y(T,S,C){function b(){const L=g(T.getColorTheme(),S);"function"==typeof C?C(L):C.style(L)}return b(),T.onDidColorThemeChange(b)}function B(T,S,C){return Y(S,{badgeBackground:(null==C?void 0:C.badgeBackground)||M.g8u,badgeForeground:(null==C?void 0:C.badgeForeground)||M.qeD,badgeBorder:M.lRK},T)}function E(T,S,C){return Y(S,Object.assign(Object.assign({},i),C||{}),T)}const i={listFocusBackground:M._bK,listFocusForeground:M._2n,listFocusOutline:M.Oop,listActiveSelectionBackground:M.dCr,listActiveSelectionForeground:M.M6C,listActiveSelectionIconForeground:M.Tnx,listFocusAndSelectionBackground:M.dCr,listFocusAndSelectionForeground:M.M6C,listInactiveSelectionBackground:M.rg2,listInactiveSelectionIconForeground:M.kvU,listInactiveSelectionForeground:M.ytC,listInactiveFocusBackground:M.s$,listInactiveFocusOutline:M.F3d,listHoverBackground:M.mV1,listHoverForeground:M.$d5,listDropBackground:M.AS1,listSelectionOutline:M.xL1,listHoverOutline:M.xL1,listFilterWidgetBackground:M.vGG,listFilterWidgetOutline:M.oSI,listFilterWidgetNoMatchesOutline:M.Saq,listMatchesShadow:M.rh,treeIndentGuidesStroke:M.UnT,tableColumnsBorder:M.uxu,tableOddRowsBackgroundColor:M.EQn},O={shadowColor:M.rh,borderColor:M.Cdg,foregroundColor:M.DEr,backgroundColor:M.Hz8,selectionForegroundColor:M.jbW,selectionBackgroundColor:M.$DX,selectionBorderColor:M.E3h,separatorColor:M.ZGJ,scrollbarShadow:M._wn,scrollbarSliderBackground:M.etL,scrollbarSliderHoverBackground:M.ABB,scrollbarSliderActiveBackground:M.ynu};function F(T,S,C){return Y(S,Object.assign(Object.assign({},O),C),T)}},76804:(Be,Me,m)=>{m.d(Me,{e:()=>M});var M=(()=>{return(g=M||(M={})).DARK="dark",g.LIGHT="light",g.HIGH_CONTRAST="hc",M;var g})()},53323:(Be,Me,m)=>{m.d(Me,{XE:()=>O,EN:()=>T,kS:()=>S,m6:()=>C,IP:()=>b,Ic:()=>N,bB:()=>z});var M=m(78968),g=m(71040),Y=m(40189),B=m(43569),E=m(63779),i=m(76804);const O=(0,B.yh)("themeService");var F,S;function T(D){return{id:D}}function C(D){switch(D){case i.e.DARK:return"vs-dark";case i.e.HIGH_CONTRAST:return"hc-black";default:return"vs"}}(F||(F={})).isThemeColor=function(Z){return Z&&"object"==typeof Z&&"string"==typeof Z.id},function(D){D.isThemeIcon=function(de){return de&&"object"==typeof de&&"string"==typeof de.id&&(void 0===de.color||F.isThemeColor(de.color))};const Z=new RegExp(`^\\$\\((${M.dT.iconNameExpression}(?:${M.dT.iconModifierExpression})?)\\)$`);D.fromString=function(de){const fe=Z.exec(de);if(!fe)return;let[,pe]=fe;return{id:pe}},D.fromId=function(de){return{id:de}},D.modify=function(de,fe){let pe=de.id;const we=pe.lastIndexOf("~");return-1!==we&&(pe=pe.substring(0,we)),fe&&(pe=`${pe}~${fe}`),{id:pe}},D.getModifier=function(de){const fe=de.id.lastIndexOf("~");if(-1!==fe)return de.id.substring(fe+1)},D.isEqual=function(de,fe){var pe,we;return de.id===fe.id&&(null===(pe=de.color)||void 0===pe?void 0:pe.id)===(null===(we=fe.color)||void 0===we?void 0:we.id)},D.asThemeIcon=function(de,fe){return{id:de.id,color:fe?T(fe):void 0}},D.asClassNameArray=M.dT.asClassNameArray,D.asClassName=M.dT.asClassName,D.asCSSSelector=M.dT.asCSSSelector}(S||(S={}));const b={ThemingContribution:"base.contributions.theming"};let f=new class{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new g.Q5}onColorThemeChange(I){return this.themingParticipants.push(I),this.onThemingParticipantAddedEmitter.fire(I),(0,Y.OF)(()=>{const Z=this.themingParticipants.indexOf(I);this.themingParticipants.splice(Z,1)})}getThemingParticipants(){return this.themingParticipants}};function N(D){return f.onColorThemeChange(D)}E.B.add(b.ThemingContribution,f);class z extends Y.JT{constructor(I){super(),this.themeService=I,this.theme=I.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(Z=>this.onThemeChange(Z)))}onThemeChange(I){this.theme=I,this.updateStyles()}updateStyles(){}}},10352:(Be,Me,m)=>{m.d(Me,{tJ:()=>g,YO:()=>Y,Xt:()=>B,gJ:()=>E});const g=(0,m(43569).yh)("undoRedoService");class Y{constructor(O,F){this.resource=O,this.elements=F}}class B{constructor(){this.id=B._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}B._ID=0,B.None=new B;class E{constructor(){this.id=E._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}E._ID=0,E.None=new E},17184:(Be,Me,m)=>{m.d(Me,{ec:()=>E,eb:()=>i,uT:()=>O,md:()=>T,A6:()=>S});var M=m(12918),Y=(m(33439),m(85459));const E=(0,m(43569).yh)("contextService");function i(b){return"string"==typeof(null==b?void 0:b.id)&&Y.o.isUri(b.uri)}function O(b){return b.configuration?{id:b.id,configPath:b.configuration}:1===b.folders.length?{id:b.id,uri:b.folders[0].uri}:void 0}class T{constructor(L,f){this.raw=f,this.uri=L.uri,this.index=L.index,this.name=L.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}const S="code-workspace";(0,M.N)("codeWorkspace","Code Workspace")},73062:(Be,Me,m)=>{m.d(Me,{Y:()=>g});const g=(0,m(43569).yh)("workspaceTrustManagementService")},33483:Be=>{Be.exports={mode:"lazy"}},66680:(Be,Me,m)=>{const M=m(33483),g=m(45381),Y=m(34038),B=new WeakMap;function F(pe){let we=B.get(pe);we||(we=function(pe){const we=Y.transform(pe,P);return new Y.TransformResult(we.getAST(),C)}(Y.parse(`/${pe.source}/${pe.flags}`)),B.set(pe,we));const ge=we.getExtra();return{measurementRegExp:we.toRegExp(),groupInfos:ge}}function T(pe,we){const ge=pe.index,Q=ge+pe[0].length,le=[],ee=pe.groups?Object.create(null):void 0;S(le,0,[ge,Q]);for(const X of we){let re;if(void 0!==pe[X.newGroupNumber]){let ce=ge;if(X.measurementGroups)for(const ke of X.measurementGroups)ce+=pe[ke].length;re=[ce,ce+pe[X.newGroupNumber].length]}S(le,X.oldGroupNumber,re),ee&&void 0!==X.groupName&&S(ee,X.groupName,re)}return S(le,"groups",ee),le}function S(pe,we,ge){const Q=Object.getOwnPropertyDescriptor(pe,we);(Q?Q.configurable:Object.isExtensible(pe))&&Object.defineProperty(pe,we,{enumerable:!Q||Q.enumerable,configurable:!Q||Q.configurable,writable:!0,value:ge})}let C,b=!1,L=new Set,f=[],N=!1,z=1,D=[],I=new Map,Z=new Map;const P={init(){b=!1,L.clear(),f.length=0,N=!1,z=1,D.length=0,I.clear(),Z.clear(),C=[]},RegExp:pe=>(Y.traverse(pe.node,$),L.size>0&&(Y.transform(pe.node,j),Y.transform(pe.node,G),b&&Y.transform(pe.node,oe)),!1)},k={pre(pe){f.push(N),N="Group"===pe.node.type&&pe.node.capturing},post(pe){N&&L.add(pe.node),N=f.pop()||N}},$={Alternative:k,Disjunction:k,Assertion:k,Group:k,Repetition:k,Backreference(pe){b=!0}},j={Alternative(pe){if(L.has(pe.node)){let we=0,ge=[];const Q=[],q=[];for(let le=0;le<pe.node.expressions.length;le++){const ee=pe.node.expressions[le];if(L.has(ee)){if(le>we){const X={type:"Group",capturing:!0,number:-1,expression:ge.length>1?{type:"Alternative",expressions:ge}:1===ge.length?ge[0]:null};q.push(X),Q.push(X),we=le,ge=[]}D.push(Q),Y.transform(ee,j),D.pop(),ge.push(ee)}else ge.push(ee)}pe.update({expressions:q.concat(ge)})}return!1},Group(pe){!pe.node.capturing||I.set(pe.node,function(){const pe=[];for(const we of D)for(const ge of we)pe.push(ge);return pe}())}},G={Group(pe){if(!C)throw new Error("Not initialized.");if(!pe.node.capturing)return;const we=pe.node.number,ge=z++,Q=I.get(pe.node);-1!==we&&(C.push({oldGroupNumber:we,newGroupNumber:ge,measurementGroups:Q&&Q.map(q=>q.number),groupName:pe.node.name}),Z.set(we,ge)),pe.update({number:ge})}},oe={Backreference(pe){const we=Z.get(pe.node.number);we&&pe.update("number"===pe.node.kind?{number:we,reference:we}:{number:we})}};Be.exports=function(pe){return"spec-compliant"===M.mode?function(pe,we){const{measurementRegExp:ge,groupInfos:Q}=F(pe);ge.lastIndex=pe.lastIndex;const q=g.call(ge,we);if(null===q)return null;pe.lastIndex=ge.lastIndex;const le=[];S(le,0,q[0]);for(const ee of Q)S(le,ee.oldGroupNumber,q[ee.newGroupNumber]);return S(le,"index",q.index),S(le,"input",q.input),S(le,"groups",q.groups),S(le,"indices",T(q,Q)),le}(this,pe):function(pe,we){const ge=pe.lastIndex,Q=g.call(pe,we);if(null===Q)return null;let q;return Object.defineProperty(Q,"indices",{enumerable:!0,configurable:!0,get(){if(void 0===q){const{measurementRegExp:le,groupInfos:ee}=F(pe);le.lastIndex=ge;const X=g.call(le,we);if(null===X)throw new TypeError;S(Q,"indices",q=T(X,ee))}return q},set(le){S(Q,"indices",le)}}),Q}(this,pe)}},52771:(Be,Me,m)=>{const M=m(66680),g=m(45381),Y=m(74010),B=m(44181),E=m(33483),i=Y();function O(F,T){return i.call(F,T)}O.implementation=M,O.native=g,O.getPolyfill=Y,O.shim=B,O.config=E,O||(O={}),Be.exports=O},45381:Be=>{const Me=RegExp.prototype.exec;Be.exports=Me},74010:(Be,Me,m)=>{const M=m(45381),g=m(66680);Be.exports=function(){const B=new RegExp("a");return M.call(B,"a").indices?M:g}},44181:(Be,Me,m)=>{const M=m(74010);Be.exports=function(){const Y=M();RegExp.prototype.exec!==Y&&(RegExp.prototype.exec=Y)}},99833:(Be,Me,m)=>{var M=m(8316),g=m(86207);Be.exports={transform:function(B){var E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=E.length>0?E:Object.keys(M),O=void 0,F={};return i.forEach(function(T){if(!M.hasOwnProperty(T))throw new Error("Unknown compat-transform: "+T+". Available transforms are: "+Object.keys(M).join(", "));var S=M[T];O=g.transform(B,S),B=O.getAST(),"function"==typeof S.getExtra&&(F[T]=S.getExtra())}),O.setExtra(F),O}}},69137:Be=>{var Me=function(){function g(Y,B){for(var E=0;E<B.length;E++){var i=B[E];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(Y,i.key,i)}}return function(Y,B,E){return B&&g(Y.prototype,B),E&&g(Y,E),Y}}(),M=function(){function g(Y,B){var E=B.flags,i=B.groups,O=B.source;(function(g,Y){if(!(g instanceof Y))throw new TypeError("Cannot call a class as a function")})(this,g),this._re=Y,this._groups=i,this.flags=E,this.source=O||Y.source,this.dotAll=E.includes("s"),this.global=Y.global,this.ignoreCase=Y.ignoreCase,this.multiline=Y.multiline,this.sticky=Y.sticky,this.unicode=Y.unicode}return Me(g,[{key:"test",value:function(B){return this._re.test(B)}},{key:"compile",value:function(B){return this._re.compile(B)}},{key:"toString",value:function(){return this._toStringResult||(this._toStringResult="/"+this.source+"/"+this.flags),this._toStringResult}},{key:"exec",value:function(B){var E=this._re.exec(B);if(!this._groups||!E)return E;for(var i in E.groups={},this._groups)E.groups[i]=E[this._groups[i]];return E}}]),g}();Be.exports={RegExpTree:M}},21455:Be=>{Be.exports={_hasUFlag:!1,shouldRun:function(m){return!!m.flags.includes("s")&&(m.flags=m.flags.replace("s",""),this._hasUFlag=m.flags.includes("u"),!0)},Char:function(m){var M=m.node;if("meta"===M.kind&&"."===M.value){var g="\\uFFFF",Y="\uffff";this._hasUFlag&&(g="\\u{10FFFF}",Y="\u{10ffff}"),m.replace({type:"CharacterClass",expressions:[{type:"ClassRange",from:{type:"Char",value:"\\0",kind:"decimal",symbol:"\0"},to:{type:"Char",value:g,kind:"unicode",symbol:Y}}]})}}}},6597:Be=>{Be.exports={_groupNames:{},init:function(){this._groupNames={}},getExtra:function(){return this._groupNames},Group:function(m){var M=m.node;!M.name||(this._groupNames[M.name]=M.number,delete M.name,delete M.nameRaw)},Backreference:function(m){var M=m.node;"name"===M.kind&&(M.kind="number",M.reference=M.number,delete M.referenceRaw)}}},87124:Be=>{Be.exports={RegExp:function(m){var M=m.node;M.flags.includes("x")&&(M.flags=M.flags.replace("x",""))}}},8316:(Be,Me,m)=>{Be.exports={dotAll:m(21455),namedCapturingGroups:m(6597),xFlag:m(87124)}},35123:Be=>{function Me(M){return M?m[M.type](M):""}var m={RegExp:function(g){return"/"+Me(g.body)+"/"+g.flags},Alternative:function(g){return(g.expressions||[]).map(Me).join("")},Disjunction:function(g){return Me(g.left)+"|"+Me(g.right)},Group:function(g){var Y=Me(g.expression);return g.capturing?g.name?"(?<"+(g.nameRaw||g.name)+">"+Y+")":"("+Y+")":"(?:"+Y+")"},Backreference:function(g){switch(g.kind){case"number":return"\\"+g.reference;case"name":return"\\k<"+(g.referenceRaw||g.reference)+">";default:throw new TypeError("Unknown Backreference kind: "+g.kind)}},Assertion:function(g){switch(g.kind){case"^":case"$":case"\\b":case"\\B":return g.kind;case"Lookahead":var Y=Me(g.assertion);return g.negative?"(?!"+Y+")":"(?="+Y+")";case"Lookbehind":var B=Me(g.assertion);return g.negative?"(?<!"+B+")":"(?<="+B+")";default:throw new TypeError("Unknown Assertion kind: "+g.kind)}},CharacterClass:function(g){var Y=g.expressions.map(Me).join("");return g.negative?"[^"+Y+"]":"["+Y+"]"},ClassRange:function(g){return Me(g.from)+"-"+Me(g.to)},Repetition:function(g){return""+Me(g.expression)+Me(g.quantifier)},Quantifier:function(g){var Y=void 0,B=g.greedy?"":"?";switch(g.kind){case"+":case"?":case"*":Y=g.kind;break;case"Range":Y=g.from===g.to?"{"+g.from+"}":g.to?"{"+g.from+","+g.to+"}":"{"+g.from+",}";break;default:throw new TypeError("Unknown Quantifier kind: "+g.kind)}return""+Y+B},Char:function(g){var Y=g.value;switch(g.kind){case"simple":return g.escaped?"\\"+Y:Y;case"hex":case"unicode":case"oct":case"decimal":case"control":case"meta":return Y;default:throw new TypeError("Unknown Char kind: "+g.kind)}},UnicodeProperty:function(g){return"\\"+(g.negative?"P":"p")+"{"+(g.shorthand||g.binary?"":g.name+"=")+g.value+"}"}};Be.exports={generate:Me}},10163:Be=>{var Me=function(F,T){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return function(F,T){var S=[],C=!0,b=!1,L=void 0;try{for(var N,f=F[Symbol.iterator]();!(C=(N=f.next()).done)&&(S.push(N.value),!T||S.length!==T);C=!0);}catch(z){b=!0,L=z}finally{try{!C&&f.return&&f.return()}finally{if(b)throw L}}return S}(F,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function m(O){return Array.isArray(O)?O:Array.from(O)}function M(O){if(Array.isArray(O)){for(var F=0,T=Array(O.length);F<O.length;F++)T[F]=O[F];return T}return Array.from(O)}var g=null;function B(O,F){if(!F||O.length!==F.length)return!1;for(var T=0;T<O.length;T++){var S=O[T],C=F[T];if(S.size!==C.size||[].concat(M(S)).sort().join(",")!==[].concat(M(C)).sort().join(","))return!1}return!0}function E(O,F,T,S){var C=!0,b=!1,L=void 0;try{for(var N,f=S[Symbol.iterator]();!(C=(N=f.next()).done);C=!0)if(!i(O,F,T,N.value))return!1}catch(D){b=!0,L=D}finally{try{!C&&f.return&&f.return()}finally{if(b)throw L}}return!0}function i(O,F,T,S){if(!g[O]||!g[F])return!1;var C=T[O][S],b=T[F][S];return!C&&!b||g[O].has(C)&&g[F].has(b)}Be.exports={minimize:function(O){var F=O.getTransitionTable(),T=Object.keys(F),S=O.getAlphabet(),C=O.getAcceptingStateNumbers();g={};var b=new Set;T.forEach(function(Re){Re=Number(Re),C.has(Re)?g[Re]=C:(b.add(Re),g[Re]=b)});var L=[[b,C].filter(function(Re){return Re.size>0})],f=void 0,N=void 0;f=L[L.length-1],N=L[L.length-2];for(var z=function(){var et={},Ze=!0,Pe=!1,rt=void 0;try{for(var nt,ut=f[Symbol.iterator]();!(Ze=(nt=ut.next()).done);Ze=!0){var Ne={},at=m(nt.value),_t=at[0],zt=at.slice(1);Ne[_t]=new Set([_t]);var pn=!0,mt=!1,Rt=void 0;try{e:for(var Wt,Bt=zt[Symbol.iterator]();!(pn=(Wt=Bt.next()).done);pn=!0){var fn=Wt.value,Ye=!0,Dt=!1,St=void 0;try{for(var Ln,un=Object.keys(Ne)[Symbol.iterator]();!(Ye=(Ln=un.next()).done);Ye=!0){var sn=Ln.value;if(E(fn,sn,F,S)){Ne[sn].add(fn),Ne[fn]=Ne[sn];continue e}}}catch(_n){Dt=!0,St=_n}finally{try{!Ye&&un.return&&un.return()}finally{if(Dt)throw St}}Ne[fn]=new Set([fn])}}catch(_n){mt=!0,Rt=_n}finally{try{!pn&&Bt.return&&Bt.return()}finally{if(mt)throw Rt}}Object.assign(et,Ne)}}catch(_n){Pe=!0,rt=_n}finally{try{!Ze&&ut.return&&ut.return()}finally{if(Pe)throw rt}}g=et;var hn=new Set(Object.keys(et).map(function(_n){return et[_n]}));L.push([].concat(M(hn))),f=L[L.length-1],N=L[L.length-2]};!B(f,N);)z();var D=new Map,I=1;f.forEach(function(Re){return D.set(Re,I++)});var Z={},P=new Set,k=function(et,Ze){var Pe=!0,rt=!1,ut=void 0;try{for(var Se,nt=et[Symbol.iterator]();!(Pe=(Se=nt.next()).done);Pe=!0)C.has(Se.value)&&P.add(Ze)}catch(at){rt=!0,ut=at}finally{try{!Pe&&nt.return&&nt.return()}finally{if(rt)throw ut}}},$=!0,j=!1,G=void 0;try{for(var de,oe=D.entries()[Symbol.iterator]();!($=(de=oe.next()).done);$=!0){var pe=Me(de.value,2),we=pe[0],ge=pe[1];Z[ge]={};var Q=!0,q=!1,le=void 0;try{for(var X,ee=S[Symbol.iterator]();!(Q=(X=ee.next()).done);Q=!0){var re=X.value;k(we,ge);var ce=void 0,ve=!0,ke=!1,Ve=void 0;try{for(var ue,Ue=we[Symbol.iterator]();!(ve=(ue=Ue.next()).done)&&!(ce=F[ue.value][re]);ve=!0);}catch(Re){ke=!0,Ve=Re}finally{try{!ve&&Ue.return&&Ue.return()}finally{if(ke)throw Ve}}ce&&(Z[ge][re]=D.get(g[ce]))}}catch(Re){q=!0,le=Re}finally{try{!Q&&ee.return&&ee.return()}finally{if(q)throw le}}}}catch(Re){j=!0,G=Re}finally{try{!$&&oe.return&&oe.return()}finally{if(j)throw G}}return O.setTransitionTable(Z),O.setAcceptingStateNumbers(P),O}}},75216:(Be,Me,m)=>{var M=function(){function F(T,S){for(var C=0;C<S.length;C++){var b=S[C];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(T,b.key,b)}}return function(T,S,C){return S&&F(T.prototype,S),C&&F(T,C),T}}();function g(F){if(Array.isArray(F)){for(var T=0,S=Array(F.length);T<F.length;T++)S[T]=F[T];return S}return Array.from(F)}var B=m(10163),i=m(10458).EPSILON_CLOSURE,O=function(){function F(T){(function(F,T){if(!(F instanceof T))throw new TypeError("Cannot call a class as a function")})(this,F),this._nfa=T}return M(F,[{key:"minimize",value:function(){this.getTransitionTable(),this._originalAcceptingStateNumbers=this._acceptingStateNumbers,this._originalTransitionTable=this._transitionTable,B.minimize(this)}},{key:"getAlphabet",value:function(){return this._nfa.getAlphabet()}},{key:"getAcceptingStateNumbers",value:function(){return this._acceptingStateNumbers||this.getTransitionTable(),this._acceptingStateNumbers}},{key:"getOriginaAcceptingStateNumbers",value:function(){return this._originalAcceptingStateNumbers||this.getTransitionTable(),this._originalAcceptingStateNumbers}},{key:"setTransitionTable",value:function(S){this._transitionTable=S}},{key:"setAcceptingStateNumbers",value:function(S){this._acceptingStateNumbers=S}},{key:"getTransitionTable",value:function(){var S=this;if(this._transitionTable)return this._transitionTable;var C=this._nfa.getTransitionTable(),b=Object.keys(C);this._acceptingStateNumbers=new Set;for(var f=[C[b[0]][i]],N=this.getAlphabet(),z=this._nfa.getAcceptingStateNumbers(),D={},I=function(et){var Ze=!0,Pe=!1,rt=void 0;try{for(var nt,ut=z[Symbol.iterator]();!(Ze=(nt=ut.next()).done);Ze=!0)if(-1!==et.indexOf(nt.value)){S._acceptingStateNumbers.add(et.join(","));break}}catch(Ne){Pe=!0,rt=Ne}finally{try{!Ze&&ut.return&&ut.return()}finally{if(Pe)throw rt}}};f.length>0;){var Z=f.shift(),P=Z.join(",");D[P]={};var k=!0,$=!1,j=void 0;try{for(var oe,G=N[Symbol.iterator]();!(k=(oe=G.next()).done);k=!0){var de=oe.value,fe=[];I(Z);var pe=!0,we=!1,ge=void 0;try{for(var q,Q=Z[Symbol.iterator]();!(pe=(q=Q.next()).done);pe=!0){var ee=C[q.value][de];if(ee){var X=!0,re=!1,ce=void 0;try{for(var ke,ve=ee[Symbol.iterator]();!(X=(ke=ve.next()).done);X=!0){var Ve=ke.value;!C[Ve]||fe.push.apply(fe,g(C[Ve][i]))}}catch(Re){re=!0,ce=Re}finally{try{!X&&ve.return&&ve.return()}finally{if(re)throw ce}}}}}catch(Re){we=!0,ge=Re}finally{try{!pe&&Q.return&&Q.return()}finally{if(we)throw ge}}var Ue=new Set(fe),ue=[].concat(g(Ue));if(ue.length>0){var _e=ue.join(",");D[P][de]=_e,D.hasOwnProperty(_e)||f.unshift(ue)}}}catch(Re){$=!0,j=Re}finally{try{!k&&G.return&&G.return()}finally{if($)throw j}}}return this._transitionTable=this._remapStateNumbers(D)}},{key:"_remapStateNumbers",value:function(S){var C={};this._originalTransitionTable=S;var b={};for(var L in Object.keys(S).forEach(function(j,G){C[j]=G+1}),S){var f=S[L],N={};for(var z in f)N[z]=C[f[z]];b[C[L]]=N}this._originalAcceptingStateNumbers=this._acceptingStateNumbers,this._acceptingStateNumbers=new Set;var D=!0,I=!1,Z=void 0;try{for(var k,P=this._originalAcceptingStateNumbers[Symbol.iterator]();!(D=(k=P.next()).done);D=!0)this._acceptingStateNumbers.add(C[k.value])}catch(j){I=!0,Z=j}finally{try{!D&&P.return&&P.return()}finally{if(I)throw Z}}return b}},{key:"getOriginalTransitionTable",value:function(){return this._originalTransitionTable||this.getTransitionTable(),this._originalTransitionTable}},{key:"matches",value:function(S){for(var C=1,b=0,L=this.getTransitionTable();S[b];)if(!(C=L[C][S[b++]]))return!1;return!!this.getAcceptingStateNumbers().has(C)}}]),F}();Be.exports=O},38327:(Be,Me,m)=>{var M=m(47884),g=m(75216),Y=m(30830),B=m(70394);Be.exports={NFA:M,DFA:g,builders:B,toNFA:function(i){return Y.build(i)},toDFA:function(i){return new g(this.toNFA(i))},test:function(i,O){return this.toDFA(i).matches(O)}}},70394:(Be,Me,m)=>{var M=m(47884),g=m(46809),B=m(10458).EPSILON;function E(N){var z=new g,D=new g({accepting:!0});return new M(z.addTransition(N,D),D)}function O(N,z){return N.out.accepting=!1,z.out.accepting=!0,N.out.addTransition(B,z.in),new M(N.in,z.out)}function T(N,z){var D=new g,I=new g;return D.addTransition(B,N.in),D.addTransition(B,z.in),I.accepting=!0,N.out.accepting=!1,z.out.accepting=!1,N.out.addTransition(B,I),z.out.addTransition(B,I),new M(D,I)}Be.exports={alt:function(N){for(var z=arguments.length,D=Array(z>1?z-1:0),I=1;I<z;I++)D[I-1]=arguments[I];var Z=!0,P=!1,k=void 0;try{for(var j,$=D[Symbol.iterator]();!(Z=(j=$.next()).done);Z=!0){var G=j.value;N=O(N,G)}}catch(oe){P=!0,k=oe}finally{try{!Z&&$.return&&$.return()}finally{if(P)throw k}}return N},char:E,e:function(){return E(B)},or:function(N){for(var z=arguments.length,D=Array(z>1?z-1:0),I=1;I<z;I++)D[I-1]=arguments[I];var Z=!0,P=!1,k=void 0;try{for(var j,$=D[Symbol.iterator]();!(Z=(j=$.next()).done);Z=!0){var G=j.value;N=T(N,G)}}catch(oe){P=!0,k=oe}finally{try{!Z&&$.return&&$.return()}finally{if(P)throw k}}return N},rep:function(N){return N.in.addTransition(B,N.out),N.out.addTransition(B,N.in),N},repExplicit:function(N){var z=new g,D=new g({accepting:!0});return z.addTransition(B,N.in),z.addTransition(B,D),N.out.accepting=!1,N.out.addTransition(B,D),D.addTransition(B,N.in),new M(z,D)},plusRep:function(N){return N.out.addTransition(B,N.in),N},questionRep:function(N){return N.in.addTransition(B,N.out),N}}},30830:(Be,Me,m)=>{var g=m(30525),Y=m(70394),B=Y.alt,E=Y.char,i=Y.or,O=Y.rep,F=Y.plusRep,T=Y.questionRep;function S(b){if(b&&!C[b.type])throw new Error(b.type+" is not supported in NFA/DFA interpreter.");return b?C[b.type](b):""}var C={RegExp:function(L){if(""!==L.flags)throw new Error("NFA/DFA: Flags are not supported yet.");return S(L.body)},Alternative:function(L){var f=(L.expressions||[]).map(S);return B.apply(void 0,function(b){if(Array.isArray(b)){for(var L=0,f=Array(b.length);L<b.length;L++)f[L]=b[L];return f}return Array.from(b)}(f))},Disjunction:function(L){return i(S(L.left),S(L.right))},Repetition:function(L){switch(L.quantifier.kind){case"*":return O(S(L.expression));case"+":return F(S(L.expression));case"?":return T(S(L.expression));default:throw new Error("Unknown repeatition: "+L.quantifier.kind+".")}},Char:function(L){if("simple"!==L.kind)throw new Error("NFA/DFA: Only simple chars are supported yet.");return E(L.value)},Group:function(L){return S(L.expression)}};Be.exports={build:function(L){var f=L;return L instanceof RegExp&&(L=""+L),"string"==typeof L&&(f=g.parse(L,{captureLocations:!0})),S(f)}}},46809:(Be,Me,m)=>{var M=function(){function T(S,C){for(var b=0;b<C.length;b++){var L=C[b];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(S,L.key,L)}}return function(S,C,b){return C&&T(S.prototype,C),b&&T(S,b),S}}();function g(T,S){if(!(T instanceof S))throw new TypeError("Cannot call a class as a function")}function Y(T,S){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!S||"object"!=typeof S&&"function"!=typeof S?T:S}var E=m(26777),O=m(10458).EPSILON,F=function(T){function S(){return g(this,S),Y(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return function(T,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function, not "+typeof S);T.prototype=Object.create(S&&S.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(T,S):T.__proto__=S)}(S,T),M(S,[{key:"matches",value:function(b){var L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;if(L.has(this))return!1;if(L.add(this),0===b.length){if(this.accepting)return!0;var f=!0,N=!1,z=void 0;try{for(var I,D=this.getTransitionsOnSymbol(O)[Symbol.iterator]();!(f=(I=D.next()).done);f=!0){var Z=I.value;if(Z.matches("",L))return!0}}catch(X){N=!0,z=X}finally{try{!f&&D.return&&D.return()}finally{if(N)throw z}}return!1}var P=b[0],k=b.slice(1),$=this.getTransitionsOnSymbol(P),j=!0,G=!1,oe=void 0;try{for(var fe,de=$[Symbol.iterator]();!(j=(fe=de.next()).done);j=!0){var pe=fe.value;if(pe.matches(k))return!0}}catch(X){G=!0,oe=X}finally{try{!j&&de.return&&de.return()}finally{if(G)throw oe}}var we=!0,ge=!1,Q=void 0;try{for(var le,q=this.getTransitionsOnSymbol(O)[Symbol.iterator]();!(we=(le=q.next()).done);we=!0){var ee=le.value;if(ee.matches(b,L))return!0}}catch(X){ge=!0,Q=X}finally{try{!we&&q.return&&q.return()}finally{if(ge)throw Q}}return!1}},{key:"getEpsilonClosure",value:function(){var b=this;return this._epsilonClosure||function(){var L=b.getTransitionsOnSymbol(O),f=b._epsilonClosure=new Set;f.add(b);var N=!0,z=!1,D=void 0;try{for(var Z,I=L[Symbol.iterator]();!(N=(Z=I.next()).done);N=!0){var P=Z.value;f.has(P)||(f.add(P),P.getEpsilonClosure().forEach(function($){return f.add($)}))}}catch($){z=!0,D=$}finally{try{!N&&I.return&&I.return()}finally{if(z)throw D}}}(),this._epsilonClosure}}]),S}(E);Be.exports=F},47884:(Be,Me,m)=>{var M=function(S,C){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return function(S,C){var b=[],L=!0,f=!1,N=void 0;try{for(var D,z=S[Symbol.iterator]();!(L=(D=z.next()).done)&&(b.push(D.value),!C||b.length!==C);L=!0);}catch(I){f=!0,N=I}finally{try{!L&&z.return&&z.return()}finally{if(f)throw N}}return b}(S,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")},g=function(){function T(S,C){for(var b=0;b<C.length;b++){var L=C[b];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(S,L.key,L)}}return function(S,C,b){return C&&T(S.prototype,C),b&&T(S,b),S}}(),E=m(10458),i=E.EPSILON,O=E.EPSILON_CLOSURE,F=function(){function T(S,C){(function(T,S){if(!(T instanceof S))throw new TypeError("Cannot call a class as a function")})(this,T),this.in=S,this.out=C}return g(T,[{key:"matches",value:function(C){return this.in.matches(C)}},{key:"getAlphabet",value:function(){if(!this._alphabet){this._alphabet=new Set;var C=this.getTransitionTable();for(var b in C){var L=C[b];for(var f in L)f!==O&&this._alphabet.add(f)}}return this._alphabet}},{key:"getAcceptingStates",value:function(){return this._acceptingStates||this.getTransitionTable(),this._acceptingStates}},{key:"getAcceptingStateNumbers",value:function(){if(!this._acceptingStateNumbers){this._acceptingStateNumbers=new Set;var C=!0,b=!1,L=void 0;try{for(var N,f=this.getAcceptingStates()[Symbol.iterator]();!(C=(N=f.next()).done);C=!0)this._acceptingStateNumbers.add(N.value.number)}catch(D){b=!0,L=D}finally{try{!C&&f.return&&f.return()}finally{if(b)throw L}}}return this._acceptingStateNumbers}},{key:"getTransitionTable",value:function(){var C=this;if(!this._transitionTable){this._transitionTable={},this._acceptingStates=new Set;var b=new Set,L=new Set;(function N(z){if(!b.has(z)){b.add(z),z.number=b.size,C._transitionTable[z.number]={},z.accepting&&C._acceptingStates.add(z);var D=z.getTransitions(),I=!0,Z=!1,P=void 0;try{for(var $,k=D[Symbol.iterator]();!(I=($=k.next()).done);I=!0){var G=M($.value,2),oe=G[0],de=G[1],fe=[];L.add(oe);var pe=!0,we=!1,ge=void 0;try{for(var q,Q=de[Symbol.iterator]();!(pe=(q=Q.next()).done);pe=!0){var le=q.value;N(le),fe.push(le.number)}}catch(ee){we=!0,ge=ee}finally{try{!pe&&Q.return&&Q.return()}finally{if(we)throw ge}}C._transitionTable[z.number][oe]=fe}}catch(ee){Z=!0,P=ee}finally{try{!I&&k.return&&k.return()}finally{if(Z)throw P}}}})(this.in),b.forEach(function(N){delete C._transitionTable[N.number][i],C._transitionTable[N.number][O]=[].concat(function(T){if(Array.isArray(T)){for(var S=0,C=Array(T.length);S<T.length;S++)C[S]=T[S];return C}return Array.from(T)}(N.getEpsilonClosure())).map(function(z){return z.number})})}return this._transitionTable}}]),T}();Be.exports=F},10458:Be=>{Be.exports={EPSILON:"\u03b5",EPSILON_CLOSURE:"\u03b5*"}},26777:Be=>{var Me=function(){function g(Y,B){for(var E=0;E<B.length;E++){var i=B[E];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(Y,i.key,i)}}return function(Y,B,E){return B&&g(Y.prototype,B),E&&g(Y,E),Y}}();function m(g,Y){if(!(g instanceof Y))throw new TypeError("Cannot call a class as a function")}var M=function(){function g(){var Y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},B=Y.accepting,E=void 0!==B&&B;m(this,g),this._transitions=new Map,this.accepting=E}return Me(g,[{key:"getTransitions",value:function(){return this._transitions}},{key:"addTransition",value:function(B,E){return this.getTransitionsOnSymbol(B).add(E),this}},{key:"getTransitionsOnSymbol",value:function(B){var E=this._transitions.get(B);return E||(E=new Set,this._transitions.set(B,E)),E}}]),g}();Be.exports=M},30489:(Be,Me,m)=>{var M=m(42082),g=m(30525),Y=m(86207),B=m(69472);Be.exports={optimize:function(i){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},F=O.whitelist,T=void 0===F?[]:F,S=O.blacklist,C=void 0===S?[]:S,b=T.length>0?T:Array.from(B.keys()),L=b.filter(function(D){return!C.includes(D)}),f=i;i instanceof RegExp&&(i=""+i),"string"==typeof i&&(f=g.parse(i));var N=new Y.TransformResult(f),z=void 0;do{z=N.toString(),f=M(N.getAST()),L.forEach(function(D){if(!B.has(D))throw new Error("Unknown optimization-transform: "+D+". Available transforms are: "+Array.from(B.keys()).join(", "));var I=B.get(D),Z=Y.transform(f,I);Z.toString()!==N.toString()&&(Z.toString().length<=N.toString().length?N=Z:f=M(N.getAST()))})}while(N.toString()!==z);return N}}},75833:Be=>{var Me="A".codePointAt(0),m="Z".codePointAt(0);Be.exports={_AZClassRanges:null,_hasUFlag:!1,init:function(E){this._AZClassRanges=new Set,this._hasUFlag=E.flags.includes("u")},shouldRun:function(E){return E.flags.includes("i")},Char:function(E){var i=E.node,O=E.parent;if(!isNaN(i.codePoint)&&(this._hasUFlag||!(i.codePoint>=4096))){if("ClassRange"===O.type){if(!this._AZClassRanges.has(O)&&!function(B){var E=B.from,i=B.to;return E.codePoint>=Me&&E.codePoint<=m&&i.codePoint>=Me&&i.codePoint<=m}(O))return;this._AZClassRanges.add(O)}var F=i.symbol.toLowerCase();F!==i.symbol&&(i.value=function(B,E){var i=B.codePointAt(0);if("decimal"===E.kind)return"\\"+i;if("oct"===E.kind)return"\\0"+i.toString(8);if("hex"===E.kind)return"\\x"+i.toString(16);if("unicode"===E.kind){if(E.isSurrogatePair){var O=function(B){var i=(B-65536)%1024+56320;return{lead:(Math.floor((B-65536)/1024)+55296).toString(16),trail:i.toString(16)}}(i),F=O.lead,T=O.trail;return"\\u"+"0".repeat(4-F.length)+F+"\\u"+"0".repeat(4-T.length)+T}if(E.value.includes("{"))return"\\u{"+i.toString(16)+"}";var S=i.toString(16);return"\\u"+"0".repeat(4-S.length)+S}return B}(F,i),i.symbol=F,i.codePoint=F.codePointAt(0))}}}},44140:Be=>{function Me(L,f){var N=m(L),z=m(f);if(N===z){if("ClassRange"===L.type&&"ClassRange"!==f.type)return-1;if("ClassRange"===f.type&&"ClassRange"!==L.type)return 1;if("ClassRange"===L.type&&"ClassRange"===f.type)return m(L.to)-m(f.to);if(M(L)&&M(f)||g(L)&&g(f))return L.value<f.value?-1:1}return N-z}function m(L){return"Char"===L.type?"-"===L.value||"control"===L.kind?1/0:"meta"===L.kind&&isNaN(L.codePoint)?-1:L.codePoint:L.from.codePoint}function M(L){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"Char"===L.type&&"meta"===L.kind&&(f?L.value===f:/^\\[dws]$/i.test(L.value))}function g(L){return"Char"===L.type&&"control"===L.kind}function Y(L,f,N){for(var z=0;z<f.length;z++)if(B(L,f[z],N))return!0;return!1}function B(L,f,N){return"ClassRange"===L.type?B(L.from,f,N)&&B(L.to,f,N):!!("\\S"===f&&(M(L,"\\w")||M(L,"\\d"))||"\\D"===f&&(M(L,"\\W")||M(L,"\\s"))||"\\w"===f&&M(L,"\\d")||"\\W"===f&&M(L,"\\s"))||"Char"===L.type&&!isNaN(L.codePoint)&&("\\s"===f?E(L):"\\S"===f?!E(L):"\\d"===f?i(L):"\\D"===f?!i(L):"\\w"===f?O(L,N):"\\W"===f&&!O(L,N))}function E(L){return 9===L.codePoint||10===L.codePoint||11===L.codePoint||12===L.codePoint||13===L.codePoint||32===L.codePoint||160===L.codePoint||5760===L.codePoint||L.codePoint>=8192&&L.codePoint<=8202||8232===L.codePoint||8233===L.codePoint||8239===L.codePoint||8287===L.codePoint||12288===L.codePoint||65279===L.codePoint}function i(L){return L.codePoint>=48&&L.codePoint<=57}function O(L,f){return i(L)||L.codePoint>=65&&L.codePoint<=90||L.codePoint>=97&&L.codePoint<=122||"_"===L.value||f&&(383===L.codePoint||8490===L.codePoint)}function F(L,f){if(f&&"ClassRange"===f.type){if(S(L,f))return!0;if(b(L)&&f.to.codePoint===L.codePoint-1)return f.to=L,!0;if("ClassRange"===L.type&&L.from.codePoint<=f.to.codePoint+1&&L.to.codePoint>=f.from.codePoint-1)return L.from.codePoint<f.from.codePoint&&(f.from=L.from),L.to.codePoint>f.to.codePoint&&(f.to=L.to),!0}return!1}function T(L,f){return!(!f||"ClassRange"!==f.type||!b(L)||f.from.codePoint!==L.codePoint+1||(f.from=L,0))}function S(L,f){return("Char"!==L.type||!isNaN(L.codePoint))&&("ClassRange"===L.type?S(L.from,f)&&S(L.to,f):L.codePoint>=f.from.codePoint&&L.codePoint<=f.to.codePoint)}function C(L,f,N){if(!b(L))return 0;for(var z=0;f>0;){var D=N[f],I=N[f-1];if(!b(I)||I.codePoint!==D.codePoint-1)break;z++,f--}return z>1?(N[f]={type:"ClassRange",from:N[f],to:L},z):0}function b(L){return L&&"Char"===L.type&&!isNaN(L.codePoint)&&(O(L,!1)||"unicode"===L.kind||"hex"===L.kind||"oct"===L.kind||"decimal"===L.kind)}Be.exports={_hasIUFlags:!1,init:function(f){this._hasIUFlags=f.flags.includes("i")&&f.flags.includes("u")},CharacterClass:function(f){var z=f.node.expressions,D=[];z.forEach(function(k){M(k)&&D.push(k.value)}),z.sort(Me);for(var I=0;I<z.length;I++){var Z=z[I];if(Y(Z,D,this._hasIUFlags)||F(Z,z[I-1])||T(Z,z[I+1]))z.splice(I,1),I--;else{var P=C(Z,I,z);z.splice(I-P+1,P),I-=P}}}}},95254:Be=>{Be.exports={ClassRange:function(m){var M=m.node;M.from.codePoint===M.to.codePoint?m.replace(M.from):M.from.codePoint===M.to.codePoint-1&&(m.getParent().insertChildAt(M.to,m.index+1),m.replace(M.from))}}},63574:Be=>{Be.exports={CharacterClass:function(m){for(var M=m.node,g={},Y=0;Y<M.expressions.length;Y++){var B=m.getChild(Y),E=B.jsonEncode();g.hasOwnProperty(E)&&(B.remove(),Y--),g[E]=!0}}}},8576:Be=>{function Me(C){if(Array.isArray(C)){for(var b=0,L=Array(C.length);b<C.length;b++)L[b]=C[b];return L}return Array.from(C)}Be.exports={_hasIFlag:!1,_hasUFlag:!1,init:function(b){this._hasIFlag=b.flags.includes("i"),this._hasUFlag=b.flags.includes("u")},CharacterClass:function(b){var C;(C=b).node.expressions.forEach(function(L,f){(function(C){return"ClassRange"===C.type&&"0"===C.from.value&&"9"===C.to.value})(L)&&C.getChild(f).replace({type:"Char",value:"\\d",kind:"meta"})}),function(C,b,L){var N=null,z=null,D=null,I=null,Z=null,P=null;C.node.expressions.forEach(function(k,$){i(k,"\\d")?N=C.getChild($):function(C){return"ClassRange"===C.type&&"a"===C.from.value&&"z"===C.to.value}(k)?z=C.getChild($):function(C){return"ClassRange"===C.type&&"A"===C.from.value&&"Z"===C.to.value}(k)?D=C.getChild($):function(C){return"Char"===C.type&&"_"===C.value&&"simple"===C.kind}(k)?I=C.getChild($):b&&L&&S(k,383)?Z=C.getChild($):b&&L&&S(k,8490)&&(P=C.getChild($))}),N&&(z&&D||b&&(z||D))&&I&&(!L||!b||Z&&P)&&(N.replace({type:"Char",value:"\\w",kind:"meta"}),z&&z.remove(),D&&D.remove(),I.remove(),Z&&Z.remove(),P&&P.remove())}(b,this._hasIFlag,this._hasUFlag),function(C){var b=C.node;if(!(b.expressions.length<g.length)&&g.every(function(f){return b.expressions.some(function(N){return f(N)})})){var L=b.expressions.find(function(f){return i(f,"\\n")});L.value="\\s",L.symbol=void 0,L.codePoint=NaN,b.expressions.map(function(f,N){return g.some(function(z){return z(f)})?C.getChild(N):void 0}).filter(Boolean).forEach(function(f){return f.remove()})}}(b)}};var g=[function(C){return E(C," ")}].concat(Me(["\\f","\\n","\\r","\\t","\\v"].map(function(C){return function(b){return i(b,C)}})),Me([160,5760,8232,8233,8239,8287,12288,65279].map(function(C){return function(b){return S(b,C)}})),[function(C){return"ClassRange"===C.type&&S(C.from,8192)&&S(C.to,8202)}]);function E(C,b){var L=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"simple";return"Char"===C.type&&C.value===b&&C.kind===L}function i(C,b){return E(C,b,"meta")}function S(C,b){return"Char"===C.type&&"unicode"===C.kind&&C.codePoint===b}},61861:Be=>{function Y(B){return/[*[()+?$./{}|]/.test(B)}Be.exports={CharacterClass:function(E){var B,i=E.node;if(1===i.expressions.length&&function(B){var E=B.parent;if("Alternative"!==E.type)return!0;var O=E.expressions[B.index-1];return null==O||!("Backreference"===O.type&&"number"===O.kind||"Char"===O.type&&"decimal"===O.kind)}(E)&&"Char"===(B=i.expressions[0]).type&&"\\b"!==B.value){var O=i.expressions[0],F=O.value,T=O.kind,S=O.escaped;if(i.negative){if(!function(B){return/^\\[dwsDWS]$/.test(B)}(F))return;F=function(B){return/[dws]/.test(B)?B.toUpperCase():B.toLowerCase()}(F)}E.replace({type:"Char",value:F,kind:T,escaped:S||Y(F)})}}}},77683:Be=>{var Me="A".codePointAt(0),m="Z".codePointAt(0),M="a".codePointAt(0),g="z".codePointAt(0),Y="0".codePointAt(0),B="9".codePointAt(0);Be.exports={Char:function(T){var F,S=T.node,C=T.parent;if(!isNaN(S.codePoint)&&"simple"!==S.kind&&("ClassRange"!==C.type||function(F){var T=F.from,S=F.to;return T.codePoint>=Y&&T.codePoint<=B&&S.codePoint>=Y&&S.codePoint<=B||T.codePoint>=Me&&T.codePoint<=m&&S.codePoint>=Me&&S.codePoint<=m||T.codePoint>=M&&T.codePoint<=g&&S.codePoint>=M&&S.codePoint<=g}(C))&&(F=S.codePoint)>=32&&F<=126){var b=String.fromCodePoint(S.codePoint),L={type:"Char",kind:"simple",value:b,symbol:b,codePoint:S.codePoint};(function(F,T){return"ClassRange"===T||"CharacterClass"===T?/[\]\\^-]/.test(F):/[*[()+?^$./\\|{}]/.test(F)})(b,C.type)&&(L.escaped=!0),T.replace(L)}}}},60085:Be=>{function g(i,O,F){for(var T=i,S=(F?T>=0:T<O.expressions.length)&&O.expressions[T];S&&"Char"===S.type&&"simple"===S.kind&&!S.escaped&&/\d/.test(S.value);)F?T--:T++,S=(F?T>=0:T<O.expressions.length)&&O.expressions[T];return Math.abs(i-T)}function Y(i,O){return i&&"Char"===i.type&&"simple"===i.kind&&!i.escaped&&i.value===O}Be.exports={_hasXFlag:!1,init:function(O){this._hasXFlag=O.flags.includes("x")},Char:function(O){var F=O.node;!F.escaped||function(i,O){var F=i.node.value,T=i.index,S=i.parent;return"CharacterClass"!==S.type&&"ClassRange"!==S.type?!function(i,O,F,T){return"{"===i?function(i,O){if(null==i)return!1;var F=g(i+1,O),T=i+F+1,S=T<O.expressions.length&&O.expressions[T];if(F){if(Y(S,"}"))return!0;if(Y(S,","))return Y(S=(T=T+(F=g(T+1,O))+1)<O.expressions.length&&O.expressions[T],"}")}return!1}(O,F):"}"===i?function(i,O){if(null==i)return!1;var F=g(i-1,O,!0),T=i-F-1,S=T>=0&&O.expressions[T];return!(!F||!Y(S,"{"))||!!Y(S,",")&&(S=(T=T-(F=g(T-1,O,!0))-1)<O.expressions.length&&O.expressions[T],F&&Y(S,"{"))}(O,F):!(!T||!/[ #]/.test(i))||/[*[()+?^$./\\|]/.test(i)}(F,T,S,O):!function(i,O,F){return"^"===i?0===O&&!F.negative:"-"===i||/[\]\\]/.test(i)}(F,T,S)}(O,this._hasXFlag)&&delete F.escaped}}},92143:Be=>{Be.exports={shouldRun:function(m){return m.flags.includes("u")},Char:function(m){var M=m.node;"unicode"!==M.kind||!M.isSurrogatePair||isNaN(M.codePoint)||(M.value="\\u{"+M.codePoint.toString(16)+"}",delete M.isSurrogatePair)}}},19284:(Be,Me,m)=>{function M(F){if(Array.isArray(F)){for(var T=0,S=Array(F.length);T<F.length;T++)S[T]=F[T];return S}return Array.from(F)}var g=m(93027),B=m(63495).increaseQuantifierByOne;function E(F,T,S){for(var C=F.node,b=Math.ceil(S/2),L=0;L<b;){var f=S-2*L-1,N=void 0,z=void 0;if(0===L?(N=T,z=F.getChild(f)):(N=g.getForNode({type:"Alternative",expressions:[].concat(M(C.expressions.slice(S-L,S)),[T.node])}),z=g.getForNode({type:"Alternative",expressions:[].concat(M(C.expressions.slice(f,S-L)))})),N.hasEqualSource(z)){for(var D=0;D<2*L+1;D++)F.getChild(f).remove();return T.replace({type:"Repetition",expression:0===L&&"Repetition"!==N.node.type?N.node:{type:"Group",capturing:!1,expression:N.node},quantifier:{type:"Quantifier",kind:"Range",from:2,to:2,greedy:!0}}),f}L++}return S}function i(F,T,S){for(var C=F.node,b=0;b<S;){var L=F.getChild(b);if("Repetition"===L.node.type&&L.node.quantifier.greedy){var f=L.getChild(),N=void 0;if("Group"===f.node.type&&!f.node.capturing&&(f=f.getChild()),b+1===S?"Group"===(N=T).node.type&&!N.node.capturing&&(N=N.getChild()):N=g.getForNode({type:"Alternative",expressions:[].concat(M(C.expressions.slice(b+1,S+1)))}),f.hasEqualSource(N)){for(var z=b;z<S;z++)F.getChild(b+1).remove();return B(L.node.quantifier),b}}b++}return S}function O(F,T,S){var C=F.node;if("Repetition"===T.node.type&&T.node.quantifier.greedy){var b=T.getChild(),L=void 0;"Group"===b.node.type&&!b.node.capturing&&(b=b.getChild());var f=void 0;if("Alternative"===b.node.type?L=g.getForNode({type:"Alternative",expressions:[].concat(M(C.expressions.slice(S-(f=b.node.expressions.length),S)))}):(f=1,"Group"===(L=F.getChild(S-1)).node.type&&!L.node.capturing&&(L=L.getChild())),L.hasEqualSource(b)){for(var N=S-f;N<S;N++)F.getChild(S-f).remove();return B(T.node.quantifier),S-f}}return S}Be.exports={Alternative:function(T){for(var S=T.node,C=1;C<S.expressions.length;){var b=T.getChild(C);if((C=Math.max(1,E(T,b,C)))>=S.expressions.length||(b=T.getChild(C),(C=Math.max(1,i(T,b,C)))>=S.expressions.length))break;b=T.getChild(C),C=Math.max(1,O(T,b,C)),C++}}}},82415:(Be,Me,m)=>{var M=m(93027),g=m(63495),Y=g.disjunctionToList,B=g.listToDisjunction;Be.exports={Disjunction:function(i){var F={},T=Y(i.node).filter(function(S){var C=S?M.getForNode(S).jsonEncode():"null";return!F.hasOwnProperty(C)&&(F[C]=S,!0)});i.replace(B(T))}}},84465:Be=>{Be.exports={Disjunction:function(g){var Y=g.node,B=g.parent;if(Me[B.type]){var E=new Map;if(m(Y,E)&&E.size){var i={type:"CharacterClass",expressions:Array.from(E.keys()).sort().map(function(O){return E.get(O)})};Me[B.type](g.getParent(),i)}}}};var Me={RegExp:function(g,Y){g.node.body=Y},Group:function(g,Y){var B=g.node;B.capturing?B.expression=Y:g.replace(Y)}};function m(M,g){if(!M)return!1;var Y=M.type;if("Disjunction"===Y){var E=M.right;return m(M.left,g)&&m(E,g)}return"Char"===Y?(g.set(M.value,M),!0):"CharacterClass"===Y&&!M.negative&&M.expressions.every(function(O){return m(O,g)})}},69472:(Be,Me,m)=>{Be.exports=new Map([["charSurrogatePairToSingleUnicode",m(92143)],["charCodeToSimpleChar",m(77683)],["charCaseInsensitiveLowerCaseTransform",m(75833)],["charClassRemoveDuplicates",m(63574)],["quantifiersMerge",m(17180)],["quantifierRangeToSymbol",m(96229)],["charClassClassrangesToChars",m(95254)],["charClassToMeta",m(8576)],["charClassToSingleChar",m(61861)],["charEscapeUnescape",m(60085)],["charClassClassrangesMerge",m(44140)],["disjunctionRemoveDuplicates",m(82415)],["groupSingleCharsToCharClass",m(84465)],["removeEmptyGroup",m(39365)],["ungroup",m(97329)],["combineRepeatingPatterns",m(19284)]])},96229:Be=>{Be.exports={Quantifier:function(Y){"Range"===Y.node.kind&&(function(g){var Y=g.node;0!==Y.from||Y.to||(Y.kind="*",delete Y.from)}(Y),function(g){var Y=g.node;1!==Y.from||Y.to||(Y.kind="+",delete Y.from)}(Y),function(g){var Y=g.node;1!==Y.from||1!==Y.to||g.parentPath.replace(g.parentPath.node.expression)}(Y))}}},17180:(Be,Me,m)=>{var g=m(63495).increaseQuantifierByOne;function Y(E){return E.greedy&&("+"===E.kind||"*"===E.kind||"Range"===E.kind&&!E.to)}function B(E){var i=void 0,O=void 0;return"*"===E.kind?i=0:"+"===E.kind?i=1:"?"===E.kind?(i=0,O=1):(i=E.from,E.to&&(O=E.to)),{from:i,to:O}}Be.exports={Repetition:function(i){var O=i.node;if("Alternative"===i.parent.type&&i.index){var T=i.getPreviousSibling();if(T)if("Repetition"===T.node.type){if(!T.getChild().hasEqualSource(i.getChild()))return;var S=B(T.node.quantifier),C=S.from,b=S.to,L=B(O.quantifier),f=L.from,N=L.to;if(T.node.quantifier.greedy!==O.quantifier.greedy&&!Y(T.node.quantifier)&&!Y(O.quantifier))return;O.quantifier.kind="Range",O.quantifier.from=C+f,b&&N?O.quantifier.to=b+N:delete O.quantifier.to,(Y(T.node.quantifier)||Y(O.quantifier))&&(O.quantifier.greedy=!0),T.remove()}else{if(!T.hasEqualSource(i.getChild()))return;g(O.quantifier),T.remove()}}}}},39365:Be=>{Be.exports={Group:function(m){var M=m.node,g=m.parent,Y=m.getChild();M.capturing||Y||("Repetition"===g.type?m.getParent().replace(M):"RegExp"!==g.type&&m.remove())}}},97329:Be=>{function Me(M){if(Array.isArray(M)){for(var g=0,Y=Array(M.length);g<M.length;g++)Y[g]=M[g];return Y}return Array.from(M)}Be.exports={Group:function(g){var Y=g.node,B=g.parent,E=g.getChild();if(!Y.capturing&&E&&function(M){var g=M.parent;if("Alternative"!==g.type)return!0;var B=g.expressions[M.index-1];return null==B||!("Backreference"===B.type&&"number"===B.kind||"Char"===B.type&&"decimal"===B.kind)}(g)&&("Disjunction"!==E.node.type||"RegExp"===B.type)&&("Repetition"!==B.type||"Char"===E.node.type||"CharacterClass"===E.node.type))if("Alternative"===E.node.type){var i=g.getParent();"Alternative"===i.node.type&&i.replace({type:"Alternative",expressions:[].concat(Me(B.expressions.slice(0,g.index)),Me(E.node.expressions),Me(B.expressions.slice(g.index+1)))})}else g.replace(E.node)}}},55776:(Be,Me,m)=>{function g(ue){if(Array.isArray(ue)){for(var _e=0,Re=Array(ue.length);_e<ue.length;_e++)Re[_e]=ue[_e];return Re}return Array.from(ue)}var Y=void 0,E={},i=void 0,O=void 0;function F(ue,_e){return E.options.captureLocations?ue&&_e?{startOffset:ue.startOffset,endOffset:_e.endOffset,startLine:ue.startLine,endLine:_e.endLine,startColumn:ue.startColumn,endColumn:_e.endColumn}:ue||_e:null}var S=[[-1,1,function(ue,_e){O=F(_e,_e),i=ue}],[0,4,function(ue,_e,Re,et,Ze,Pe,rt,ut){O=F(Ze,ut),i=ce({type:"RegExp",body:_e,flags:pe(et)},ve(Ze,ut||rt))}],[1,1,function(ue,_e){O=F(_e,_e),i=ue}],[1,0,function(){O=null,i=""}],[2,1,function(ue,_e){O=F(_e,_e),i=ue}],[2,2,function(ue,_e,Re,et){O=F(Re,et),i=ue+_e}],[3,1,function(ue,_e){O=F(_e,_e),i=ue}],[4,1,function(ue,_e){O=F(_e,_e),i=ue}],[4,3,function(ue,_e,Re,et,Ze,Pe){O=F(et,Pe);var rt=null;Ze&&(rt=ve(et||Ze,Pe||Ze)),i=ce({type:"Disjunction",left:ue,right:Re},rt)}],[5,1,function(ue,_e){O=F(_e,_e),i=0!==ue.length?ce(1===ue.length?ue[0]:{type:"Alternative",expressions:ue},O):null}],[6,0,function(){O=null,i=[]}],[6,2,function(ue,_e,Re,et){O=F(Re,et),i=ue.concat(_e)}],[7,1,function(ue,_e){O=F(_e,_e),i=ce(Object.assign({type:"Assertion"},ue),O)}],[7,2,function(ue,_e,Re,et){O=F(Re,et),i=ue,_e&&(i=ce({type:"Repetition",expression:ue,quantifier:_e},O))}],[8,1,function(ue,_e){O=F(_e,_e),i={kind:"^"}}],[8,1,function(ue,_e){O=F(_e,_e),i={kind:"$"}}],[8,1,function(ue,_e){O=F(_e,_e),i={kind:"\\b"}}],[8,1,function(ue,_e){O=F(_e,_e),i={kind:"\\B"}}],[8,3,function(ue,_e,Re,et,Ze,Pe){O=F(et,Pe),i={kind:"Lookahead",assertion:_e}}],[8,3,function(ue,_e,Re,et,Ze,Pe){O=F(et,Pe),i={kind:"Lookahead",negative:!0,assertion:_e}}],[8,3,function(ue,_e,Re,et,Ze,Pe){O=F(et,Pe),i={kind:"Lookbehind",assertion:_e}}],[8,3,function(ue,_e,Re,et,Ze,Pe){O=F(et,Pe),i={kind:"Lookbehind",negative:!0,assertion:_e}}],[9,1,function(ue,_e){O=F(_e,_e),i=ue}],[9,1,function(ue,_e){O=F(_e,_e),i=ue}],[9,1,function(ue,_e){O=F(_e,_e),i=ue}],[10,1,function(ue,_e){O=F(_e,_e),i=de(ue,"simple",O)}],[10,1,function(ue,_e){O=F(_e,_e),(i=de(ue.slice(1),"simple",O)).escaped=!0}],[10,1,function(ue,_e){O=F(_e,_e),(i=de(ue,"unicode",O)).isSurrogatePair=!0}],[10,1,function(ue,_e){O=F(_e,_e),i=de(ue,"unicode",O)}],[10,1,function(ue,_e){O=F(_e,_e),i=function(ue,_e){var Re="P"===ue[1],et=ue.indexOf("="),Ze=ue.slice(3,-1!==et?et:-1),Pe=void 0,rt=-1===et&&G.isGeneralCategoryValue(Ze),ut=-1===et&&G.isBinaryPropertyName(Ze);if(rt)Pe=Ze,Ze="General_Category";else if(ut)Pe=Ze;else{if(!G.isValidName(Ze))throw new SyntaxError("Invalid unicode property name: "+Ze+".");if(Pe=ue.slice(et+1,-1),!G.isValidValue(Ze,Pe))throw new SyntaxError("Invalid "+Ze+" unicode property value: "+Pe+".")}return ce({type:"UnicodeProperty",name:Ze,value:Pe,negative:Re,shorthand:rt,binary:ut,canonicalName:G.getCanonicalName(Ze)||Ze,canonicalValue:G.getCanonicalValue(Pe)||Pe},_e)}(ue,O)}],[10,1,function(ue,_e){O=F(_e,_e),i=de(ue,"control",O)}],[10,1,function(ue,_e){O=F(_e,_e),i=de(ue,"hex",O)}],[10,1,function(ue,_e){O=F(_e,_e),i=de(ue,"oct",O)}],[10,1,function(ue,_e){O=F(_e,_e),i=function(ue,_e){var Re=Number(ue.slice(1));return Re>0&&Re<=Z?ce({type:"Backreference",kind:"number",number:Re,reference:Re},_e):de(ue,"decimal",_e)}(ue,O)}],[10,1,function(ue,_e){O=F(_e,_e),i=de(ue,"meta",O)}],[10,1,function(ue,_e){O=F(_e,_e),i=de(ue,"meta",O)}],[10,1,function(ue,_e){O=F(_e,_e),i=function(ue,_e){var Re=ue.slice(3,-1),et=X(Re);if(P.hasOwnProperty(et))return ce({type:"Backreference",kind:"name",number:P[et],reference:et,referenceRaw:Re},_e);var Ze=null,Pe=null,rt=null,ut=null;_e&&(Ze=_e.startOffset,Pe=_e.startLine,rt=_e.endLine,ut=_e.startColumn);var nt=/^[\w$<>]/,Se=void 0,Ne=[de(ue.slice(1,2),"simple",Ze?{startLine:Pe,endLine:rt,startColumn:ut,startOffset:Ze,endOffset:Ze+=2,endColumn:ut+=2}:null)];for(Ne[0].escaped=!0,ue=ue.slice(2);ue.length>0;){var at=null;(at=ue.match(ge))||(at=ue.match(Q))?(Ze&&(Se={startLine:Pe,endLine:rt,startColumn:ut,startOffset:Ze,endOffset:Ze+=at[0].length,endColumn:ut+=at[0].length}),Ne.push(de(at[0],"unicode",Se)),ue=ue.slice(at[0].length)):(at=ue.match(nt))&&(Ze&&(Se={startLine:Pe,endLine:rt,startColumn:ut,startOffset:Ze,endOffset:++Ze,endColumn:++ut}),Ne.push(de(at[0],"simple",Se)),ue=ue.slice(1))}return Ne}(ue,_e)}],[11,1,function(ue,_e){O=F(_e,_e),i=ue}],[11,0],[12,1,function(ue,_e){O=F(_e,_e),i=ue}],[12,2,function(ue,_e,Re,et){O=F(Re,et),ue.greedy=!1,i=ue}],[13,1,function(ue,_e){O=F(_e,_e),i=ce({type:"Quantifier",kind:ue,greedy:!0},O)}],[13,1,function(ue,_e){O=F(_e,_e),i=ce({type:"Quantifier",kind:ue,greedy:!0},O)}],[13,1,function(ue,_e){O=F(_e,_e),i=ce({type:"Quantifier",kind:ue,greedy:!0},O)}],[13,1,function(ue,_e){O=F(_e,_e);var Re=$(ue);i=ce({type:"Quantifier",kind:"Range",from:Re[0],to:Re[0],greedy:!0},O)}],[13,1,function(ue,_e){O=F(_e,_e),i=ce({type:"Quantifier",kind:"Range",from:$(ue)[0],greedy:!0},O)}],[13,1,function(ue,_e){O=F(_e,_e);var Re=$(ue);i=ce({type:"Quantifier",kind:"Range",from:Re[0],to:Re[1],greedy:!0},O)}],[14,1,function(ue,_e){O=F(_e,_e),i=ue}],[14,1,function(ue,_e){O=F(_e,_e),i=ue}],[15,3,function(ue,_e,Re,et,Ze,Pe){O=F(et,Pe);var rt=String(ue),ut=X(rt);if(!E.options.allowGroupNameDuplicates&&P.hasOwnProperty(ut))throw new SyntaxError('Duplicate of the named group "'+ut+'".');P[ut]=ue.groupNumber,i=ce({type:"Group",capturing:!0,name:ut,nameRaw:rt,number:ue.groupNumber,expression:_e},O)}],[15,3,function(ue,_e,Re,et,Ze,Pe){O=F(et,Pe),i=ce({type:"Group",capturing:!0,number:ue.groupNumber,expression:_e},O)}],[16,3,function(ue,_e,Re,et,Ze,Pe){O=F(et,Pe),i=ce({type:"Group",capturing:!1,expression:_e},O)}],[17,3,function(ue,_e,Re,et,Ze,Pe){O=F(et,Pe),i=ce({type:"CharacterClass",negative:!0,expressions:_e},O)}],[17,3,function(ue,_e,Re,et,Ze,Pe){O=F(et,Pe),i=ce({type:"CharacterClass",expressions:_e},O)}],[18,0,function(){O=null,i=[]}],[18,1,function(ue,_e){O=F(_e,_e),i=ue}],[19,1,function(ue,_e){O=F(_e,_e),i=[ue]}],[19,2,function(ue,_e,Re,et){O=F(Re,et),i=[ue].concat(_e)}],[19,4,function(ue,_e,Re,et,Ze,Pe,rt,ut){O=F(Ze,ut),j(ue,Re),i=[ce({type:"ClassRange",from:ue,to:Re},ve(Ze,rt))],et&&(i=i.concat(et))}],[20,1,function(ue,_e){O=F(_e,_e),i=ue}],[20,2,function(ue,_e,Re,et){O=F(Re,et),i=[ue].concat(_e)}],[20,4,function(ue,_e,Re,et,Ze,Pe,rt,ut){O=F(Ze,ut),j(ue,Re),i=[ce({type:"ClassRange",from:ue,to:Re},ve(Ze,rt))],et&&(i=i.concat(et))}],[21,1,function(ue,_e){O=F(_e,_e),i=de(ue,"simple",O)}],[21,1,function(ue,_e){O=F(_e,_e),i=ue}],[22,1,function(ue,_e){O=F(_e,_e),i=ue}],[22,1,function(ue,_e){O=F(_e,_e),i=de(ue,"meta",O)}]],C={SLASH:"23",CHAR:"24",BAR:"25",BOS:"26",EOS:"27",ESC_b:"28",ESC_B:"29",POS_LA_ASSERT:"30",R_PAREN:"31",NEG_LA_ASSERT:"32",POS_LB_ASSERT:"33",NEG_LB_ASSERT:"34",ESC_CHAR:"35",U_CODE_SURROGATE:"36",U_CODE:"37",U_PROP_VALUE_EXP:"38",CTRL_CH:"39",HEX_CODE:"40",OCT_CODE:"41",DEC_CODE:"42",META_CHAR:"43",ANY:"44",NAMED_GROUP_REF:"45",Q_MARK:"46",STAR:"47",PLUS:"48",RANGE_EXACT:"49",RANGE_OPEN:"50",RANGE_CLOSED:"51",NAMED_CAPTURE_GROUP:"52",L_PAREN:"53",NON_CAPTURE_GROUP:"54",NEG_CLASS:"55",R_BRACKET:"56",L_BRACKET:"57",DASH:"58",$:"59"},b=[{0:1,23:"s2"},{59:"acc"},{3:3,4:4,5:5,6:6,23:"r10",24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{23:"s7"},{23:"r6",25:"s12"},{23:"r7",25:"r7",31:"r7"},{7:14,8:15,9:16,10:25,14:27,15:42,16:43,17:26,23:"r9",24:"s28",25:"r9",26:"s17",27:"s18",28:"s19",29:"s20",30:"s21",31:"r9",32:"s22",33:"s23",34:"s24",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",52:"s44",53:"s45",54:"s46",55:"s40",57:"s41"},{1:8,2:9,24:"s10",59:"r3"},{59:"r1"},{24:"s11",59:"r2"},{24:"r4",59:"r4"},{24:"r5",59:"r5"},{5:13,6:6,23:"r10",24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{23:"r8",25:"r8",31:"r8"},{23:"r11",24:"r11",25:"r11",26:"r11",27:"r11",28:"r11",29:"r11",30:"r11",31:"r11",32:"r11",33:"r11",34:"r11",35:"r11",36:"r11",37:"r11",38:"r11",39:"r11",40:"r11",41:"r11",42:"r11",43:"r11",44:"r11",45:"r11",52:"r11",53:"r11",54:"r11",55:"r11",57:"r11"},{23:"r12",24:"r12",25:"r12",26:"r12",27:"r12",28:"r12",29:"r12",30:"r12",31:"r12",32:"r12",33:"r12",34:"r12",35:"r12",36:"r12",37:"r12",38:"r12",39:"r12",40:"r12",41:"r12",42:"r12",43:"r12",44:"r12",45:"r12",52:"r12",53:"r12",54:"r12",55:"r12",57:"r12"},{11:47,12:48,13:49,23:"r38",24:"r38",25:"r38",26:"r38",27:"r38",28:"r38",29:"r38",30:"r38",31:"r38",32:"r38",33:"r38",34:"r38",35:"r38",36:"r38",37:"r38",38:"r38",39:"r38",40:"r38",41:"r38",42:"r38",43:"r38",44:"r38",45:"r38",46:"s52",47:"s50",48:"s51",49:"s53",50:"s54",51:"s55",52:"r38",53:"r38",54:"r38",55:"r38",57:"r38"},{23:"r14",24:"r14",25:"r14",26:"r14",27:"r14",28:"r14",29:"r14",30:"r14",31:"r14",32:"r14",33:"r14",34:"r14",35:"r14",36:"r14",37:"r14",38:"r14",39:"r14",40:"r14",41:"r14",42:"r14",43:"r14",44:"r14",45:"r14",52:"r14",53:"r14",54:"r14",55:"r14",57:"r14"},{23:"r15",24:"r15",25:"r15",26:"r15",27:"r15",28:"r15",29:"r15",30:"r15",31:"r15",32:"r15",33:"r15",34:"r15",35:"r15",36:"r15",37:"r15",38:"r15",39:"r15",40:"r15",41:"r15",42:"r15",43:"r15",44:"r15",45:"r15",52:"r15",53:"r15",54:"r15",55:"r15",57:"r15"},{23:"r16",24:"r16",25:"r16",26:"r16",27:"r16",28:"r16",29:"r16",30:"r16",31:"r16",32:"r16",33:"r16",34:"r16",35:"r16",36:"r16",37:"r16",38:"r16",39:"r16",40:"r16",41:"r16",42:"r16",43:"r16",44:"r16",45:"r16",52:"r16",53:"r16",54:"r16",55:"r16",57:"r16"},{23:"r17",24:"r17",25:"r17",26:"r17",27:"r17",28:"r17",29:"r17",30:"r17",31:"r17",32:"r17",33:"r17",34:"r17",35:"r17",36:"r17",37:"r17",38:"r17",39:"r17",40:"r17",41:"r17",42:"r17",43:"r17",44:"r17",45:"r17",52:"r17",53:"r17",54:"r17",55:"r17",57:"r17"},{4:57,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{4:59,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{4:61,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{4:63,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{23:"r22",24:"r22",25:"r22",26:"r22",27:"r22",28:"r22",29:"r22",30:"r22",31:"r22",32:"r22",33:"r22",34:"r22",35:"r22",36:"r22",37:"r22",38:"r22",39:"r22",40:"r22",41:"r22",42:"r22",43:"r22",44:"r22",45:"r22",46:"r22",47:"r22",48:"r22",49:"r22",50:"r22",51:"r22",52:"r22",53:"r22",54:"r22",55:"r22",57:"r22"},{23:"r23",24:"r23",25:"r23",26:"r23",27:"r23",28:"r23",29:"r23",30:"r23",31:"r23",32:"r23",33:"r23",34:"r23",35:"r23",36:"r23",37:"r23",38:"r23",39:"r23",40:"r23",41:"r23",42:"r23",43:"r23",44:"r23",45:"r23",46:"r23",47:"r23",48:"r23",49:"r23",50:"r23",51:"r23",52:"r23",53:"r23",54:"r23",55:"r23",57:"r23"},{23:"r24",24:"r24",25:"r24",26:"r24",27:"r24",28:"r24",29:"r24",30:"r24",31:"r24",32:"r24",33:"r24",34:"r24",35:"r24",36:"r24",37:"r24",38:"r24",39:"r24",40:"r24",41:"r24",42:"r24",43:"r24",44:"r24",45:"r24",46:"r24",47:"r24",48:"r24",49:"r24",50:"r24",51:"r24",52:"r24",53:"r24",54:"r24",55:"r24",57:"r24"},{23:"r25",24:"r25",25:"r25",26:"r25",27:"r25",28:"r25",29:"r25",30:"r25",31:"r25",32:"r25",33:"r25",34:"r25",35:"r25",36:"r25",37:"r25",38:"r25",39:"r25",40:"r25",41:"r25",42:"r25",43:"r25",44:"r25",45:"r25",46:"r25",47:"r25",48:"r25",49:"r25",50:"r25",51:"r25",52:"r25",53:"r25",54:"r25",55:"r25",56:"r25",57:"r25",58:"r25"},{23:"r26",24:"r26",25:"r26",26:"r26",27:"r26",28:"r26",29:"r26",30:"r26",31:"r26",32:"r26",33:"r26",34:"r26",35:"r26",36:"r26",37:"r26",38:"r26",39:"r26",40:"r26",41:"r26",42:"r26",43:"r26",44:"r26",45:"r26",46:"r26",47:"r26",48:"r26",49:"r26",50:"r26",51:"r26",52:"r26",53:"r26",54:"r26",55:"r26",56:"r26",57:"r26",58:"r26"},{23:"r27",24:"r27",25:"r27",26:"r27",27:"r27",28:"r27",29:"r27",30:"r27",31:"r27",32:"r27",33:"r27",34:"r27",35:"r27",36:"r27",37:"r27",38:"r27",39:"r27",40:"r27",41:"r27",42:"r27",43:"r27",44:"r27",45:"r27",46:"r27",47:"r27",48:"r27",49:"r27",50:"r27",51:"r27",52:"r27",53:"r27",54:"r27",55:"r27",56:"r27",57:"r27",58:"r27"},{23:"r28",24:"r28",25:"r28",26:"r28",27:"r28",28:"r28",29:"r28",30:"r28",31:"r28",32:"r28",33:"r28",34:"r28",35:"r28",36:"r28",37:"r28",38:"r28",39:"r28",40:"r28",41:"r28",42:"r28",43:"r28",44:"r28",45:"r28",46:"r28",47:"r28",48:"r28",49:"r28",50:"r28",51:"r28",52:"r28",53:"r28",54:"r28",55:"r28",56:"r28",57:"r28",58:"r28"},{23:"r29",24:"r29",25:"r29",26:"r29",27:"r29",28:"r29",29:"r29",30:"r29",31:"r29",32:"r29",33:"r29",34:"r29",35:"r29",36:"r29",37:"r29",38:"r29",39:"r29",40:"r29",41:"r29",42:"r29",43:"r29",44:"r29",45:"r29",46:"r29",47:"r29",48:"r29",49:"r29",50:"r29",51:"r29",52:"r29",53:"r29",54:"r29",55:"r29",56:"r29",57:"r29",58:"r29"},{23:"r30",24:"r30",25:"r30",26:"r30",27:"r30",28:"r30",29:"r30",30:"r30",31:"r30",32:"r30",33:"r30",34:"r30",35:"r30",36:"r30",37:"r30",38:"r30",39:"r30",40:"r30",41:"r30",42:"r30",43:"r30",44:"r30",45:"r30",46:"r30",47:"r30",48:"r30",49:"r30",50:"r30",51:"r30",52:"r30",53:"r30",54:"r30",55:"r30",56:"r30",57:"r30",58:"r30"},{23:"r31",24:"r31",25:"r31",26:"r31",27:"r31",28:"r31",29:"r31",30:"r31",31:"r31",32:"r31",33:"r31",34:"r31",35:"r31",36:"r31",37:"r31",38:"r31",39:"r31",40:"r31",41:"r31",42:"r31",43:"r31",44:"r31",45:"r31",46:"r31",47:"r31",48:"r31",49:"r31",50:"r31",51:"r31",52:"r31",53:"r31",54:"r31",55:"r31",56:"r31",57:"r31",58:"r31"},{23:"r32",24:"r32",25:"r32",26:"r32",27:"r32",28:"r32",29:"r32",30:"r32",31:"r32",32:"r32",33:"r32",34:"r32",35:"r32",36:"r32",37:"r32",38:"r32",39:"r32",40:"r32",41:"r32",42:"r32",43:"r32",44:"r32",45:"r32",46:"r32",47:"r32",48:"r32",49:"r32",50:"r32",51:"r32",52:"r32",53:"r32",54:"r32",55:"r32",56:"r32",57:"r32",58:"r32"},{23:"r33",24:"r33",25:"r33",26:"r33",27:"r33",28:"r33",29:"r33",30:"r33",31:"r33",32:"r33",33:"r33",34:"r33",35:"r33",36:"r33",37:"r33",38:"r33",39:"r33",40:"r33",41:"r33",42:"r33",43:"r33",44:"r33",45:"r33",46:"r33",47:"r33",48:"r33",49:"r33",50:"r33",51:"r33",52:"r33",53:"r33",54:"r33",55:"r33",56:"r33",57:"r33",58:"r33"},{23:"r34",24:"r34",25:"r34",26:"r34",27:"r34",28:"r34",29:"r34",30:"r34",31:"r34",32:"r34",33:"r34",34:"r34",35:"r34",36:"r34",37:"r34",38:"r34",39:"r34",40:"r34",41:"r34",42:"r34",43:"r34",44:"r34",45:"r34",46:"r34",47:"r34",48:"r34",49:"r34",50:"r34",51:"r34",52:"r34",53:"r34",54:"r34",55:"r34",56:"r34",57:"r34",58:"r34"},{23:"r35",24:"r35",25:"r35",26:"r35",27:"r35",28:"r35",29:"r35",30:"r35",31:"r35",32:"r35",33:"r35",34:"r35",35:"r35",36:"r35",37:"r35",38:"r35",39:"r35",40:"r35",41:"r35",42:"r35",43:"r35",44:"r35",45:"r35",46:"r35",47:"r35",48:"r35",49:"r35",50:"r35",51:"r35",52:"r35",53:"r35",54:"r35",55:"r35",56:"r35",57:"r35",58:"r35"},{23:"r36",24:"r36",25:"r36",26:"r36",27:"r36",28:"r36",29:"r36",30:"r36",31:"r36",32:"r36",33:"r36",34:"r36",35:"r36",36:"r36",37:"r36",38:"r36",39:"r36",40:"r36",41:"r36",42:"r36",43:"r36",44:"r36",45:"r36",46:"r36",47:"r36",48:"r36",49:"r36",50:"r36",51:"r36",52:"r36",53:"r36",54:"r36",55:"r36",56:"r36",57:"r36",58:"r36"},{10:70,18:65,19:66,21:67,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r54",58:"s68"},{10:70,18:83,19:66,21:67,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r54",58:"s68"},{23:"r47",24:"r47",25:"r47",26:"r47",27:"r47",28:"r47",29:"r47",30:"r47",31:"r47",32:"r47",33:"r47",34:"r47",35:"r47",36:"r47",37:"r47",38:"r47",39:"r47",40:"r47",41:"r47",42:"r47",43:"r47",44:"r47",45:"r47",46:"r47",47:"r47",48:"r47",49:"r47",50:"r47",51:"r47",52:"r47",53:"r47",54:"r47",55:"r47",57:"r47"},{23:"r48",24:"r48",25:"r48",26:"r48",27:"r48",28:"r48",29:"r48",30:"r48",31:"r48",32:"r48",33:"r48",34:"r48",35:"r48",36:"r48",37:"r48",38:"r48",39:"r48",40:"r48",41:"r48",42:"r48",43:"r48",44:"r48",45:"r48",46:"r48",47:"r48",48:"r48",49:"r48",50:"r48",51:"r48",52:"r48",53:"r48",54:"r48",55:"r48",57:"r48"},{4:85,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{4:87,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{4:89,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{23:"r13",24:"r13",25:"r13",26:"r13",27:"r13",28:"r13",29:"r13",30:"r13",31:"r13",32:"r13",33:"r13",34:"r13",35:"r13",36:"r13",37:"r13",38:"r13",39:"r13",40:"r13",41:"r13",42:"r13",43:"r13",44:"r13",45:"r13",52:"r13",53:"r13",54:"r13",55:"r13",57:"r13"},{23:"r37",24:"r37",25:"r37",26:"r37",27:"r37",28:"r37",29:"r37",30:"r37",31:"r37",32:"r37",33:"r37",34:"r37",35:"r37",36:"r37",37:"r37",38:"r37",39:"r37",40:"r37",41:"r37",42:"r37",43:"r37",44:"r37",45:"r37",52:"r37",53:"r37",54:"r37",55:"r37",57:"r37"},{23:"r39",24:"r39",25:"r39",26:"r39",27:"r39",28:"r39",29:"r39",30:"r39",31:"r39",32:"r39",33:"r39",34:"r39",35:"r39",36:"r39",37:"r39",38:"r39",39:"r39",40:"r39",41:"r39",42:"r39",43:"r39",44:"r39",45:"r39",46:"s56",52:"r39",53:"r39",54:"r39",55:"r39",57:"r39"},{23:"r41",24:"r41",25:"r41",26:"r41",27:"r41",28:"r41",29:"r41",30:"r41",31:"r41",32:"r41",33:"r41",34:"r41",35:"r41",36:"r41",37:"r41",38:"r41",39:"r41",40:"r41",41:"r41",42:"r41",43:"r41",44:"r41",45:"r41",46:"r41",52:"r41",53:"r41",54:"r41",55:"r41",57:"r41"},{23:"r42",24:"r42",25:"r42",26:"r42",27:"r42",28:"r42",29:"r42",30:"r42",31:"r42",32:"r42",33:"r42",34:"r42",35:"r42",36:"r42",37:"r42",38:"r42",39:"r42",40:"r42",41:"r42",42:"r42",43:"r42",44:"r42",45:"r42",46:"r42",52:"r42",53:"r42",54:"r42",55:"r42",57:"r42"},{23:"r43",24:"r43",25:"r43",26:"r43",27:"r43",28:"r43",29:"r43",30:"r43",31:"r43",32:"r43",33:"r43",34:"r43",35:"r43",36:"r43",37:"r43",38:"r43",39:"r43",40:"r43",41:"r43",42:"r43",43:"r43",44:"r43",45:"r43",46:"r43",52:"r43",53:"r43",54:"r43",55:"r43",57:"r43"},{23:"r44",24:"r44",25:"r44",26:"r44",27:"r44",28:"r44",29:"r44",30:"r44",31:"r44",32:"r44",33:"r44",34:"r44",35:"r44",36:"r44",37:"r44",38:"r44",39:"r44",40:"r44",41:"r44",42:"r44",43:"r44",44:"r44",45:"r44",46:"r44",52:"r44",53:"r44",54:"r44",55:"r44",57:"r44"},{23:"r45",24:"r45",25:"r45",26:"r45",27:"r45",28:"r45",29:"r45",30:"r45",31:"r45",32:"r45",33:"r45",34:"r45",35:"r45",36:"r45",37:"r45",38:"r45",39:"r45",40:"r45",41:"r45",42:"r45",43:"r45",44:"r45",45:"r45",46:"r45",52:"r45",53:"r45",54:"r45",55:"r45",57:"r45"},{23:"r46",24:"r46",25:"r46",26:"r46",27:"r46",28:"r46",29:"r46",30:"r46",31:"r46",32:"r46",33:"r46",34:"r46",35:"r46",36:"r46",37:"r46",38:"r46",39:"r46",40:"r46",41:"r46",42:"r46",43:"r46",44:"r46",45:"r46",46:"r46",52:"r46",53:"r46",54:"r46",55:"r46",57:"r46"},{23:"r40",24:"r40",25:"r40",26:"r40",27:"r40",28:"r40",29:"r40",30:"r40",31:"r40",32:"r40",33:"r40",34:"r40",35:"r40",36:"r40",37:"r40",38:"r40",39:"r40",40:"r40",41:"r40",42:"r40",43:"r40",44:"r40",45:"r40",52:"r40",53:"r40",54:"r40",55:"r40",57:"r40"},{25:"s12",31:"s58"},{23:"r18",24:"r18",25:"r18",26:"r18",27:"r18",28:"r18",29:"r18",30:"r18",31:"r18",32:"r18",33:"r18",34:"r18",35:"r18",36:"r18",37:"r18",38:"r18",39:"r18",40:"r18",41:"r18",42:"r18",43:"r18",44:"r18",45:"r18",52:"r18",53:"r18",54:"r18",55:"r18",57:"r18"},{25:"s12",31:"s60"},{23:"r19",24:"r19",25:"r19",26:"r19",27:"r19",28:"r19",29:"r19",30:"r19",31:"r19",32:"r19",33:"r19",34:"r19",35:"r19",36:"r19",37:"r19",38:"r19",39:"r19",40:"r19",41:"r19",42:"r19",43:"r19",44:"r19",45:"r19",52:"r19",53:"r19",54:"r19",55:"r19",57:"r19"},{25:"s12",31:"s62"},{23:"r20",24:"r20",25:"r20",26:"r20",27:"r20",28:"r20",29:"r20",30:"r20",31:"r20",32:"r20",33:"r20",34:"r20",35:"r20",36:"r20",37:"r20",38:"r20",39:"r20",40:"r20",41:"r20",42:"r20",43:"r20",44:"r20",45:"r20",52:"r20",53:"r20",54:"r20",55:"r20",57:"r20"},{25:"s12",31:"s64"},{23:"r21",24:"r21",25:"r21",26:"r21",27:"r21",28:"r21",29:"r21",30:"r21",31:"r21",32:"r21",33:"r21",34:"r21",35:"r21",36:"r21",37:"r21",38:"r21",39:"r21",40:"r21",41:"r21",42:"r21",43:"r21",44:"r21",45:"r21",52:"r21",53:"r21",54:"r21",55:"r21",57:"r21"},{56:"s72"},{56:"r55"},{10:70,20:73,21:75,22:76,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r56",58:"s74"},{24:"r62",28:"r62",35:"r62",36:"r62",37:"r62",38:"r62",39:"r62",40:"r62",41:"r62",42:"r62",43:"r62",44:"r62",45:"r62",56:"r62",58:"r62"},{24:"r63",28:"r63",35:"r63",36:"r63",37:"r63",38:"r63",39:"r63",40:"r63",41:"r63",42:"r63",43:"r63",44:"r63",45:"r63",56:"r63",58:"r63"},{24:"r64",28:"r64",35:"r64",36:"r64",37:"r64",38:"r64",39:"r64",40:"r64",41:"r64",42:"r64",43:"r64",44:"r64",45:"r64",56:"r64",58:"r64"},{24:"r65",28:"r65",35:"r65",36:"r65",37:"r65",38:"r65",39:"r65",40:"r65",41:"r65",42:"r65",43:"r65",44:"r65",45:"r65",56:"r65",58:"r65"},{23:"r52",24:"r52",25:"r52",26:"r52",27:"r52",28:"r52",29:"r52",30:"r52",31:"r52",32:"r52",33:"r52",34:"r52",35:"r52",36:"r52",37:"r52",38:"r52",39:"r52",40:"r52",41:"r52",42:"r52",43:"r52",44:"r52",45:"r52",46:"r52",47:"r52",48:"r52",49:"r52",50:"r52",51:"r52",52:"r52",53:"r52",54:"r52",55:"r52",57:"r52"},{56:"r57"},{10:70,21:77,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r62",58:"s68"},{56:"r59"},{10:70,20:79,21:75,22:76,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r63",58:"s80"},{10:70,18:78,19:66,21:67,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r54",58:"s68"},{56:"r58"},{56:"r60"},{10:70,21:81,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r62",58:"s68"},{10:70,18:82,19:66,21:67,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r54",58:"s68"},{56:"r61"},{56:"s84"},{23:"r53",24:"r53",25:"r53",26:"r53",27:"r53",28:"r53",29:"r53",30:"r53",31:"r53",32:"r53",33:"r53",34:"r53",35:"r53",36:"r53",37:"r53",38:"r53",39:"r53",40:"r53",41:"r53",42:"r53",43:"r53",44:"r53",45:"r53",46:"r53",47:"r53",48:"r53",49:"r53",50:"r53",51:"r53",52:"r53",53:"r53",54:"r53",55:"r53",57:"r53"},{25:"s12",31:"s86"},{23:"r49",24:"r49",25:"r49",26:"r49",27:"r49",28:"r49",29:"r49",30:"r49",31:"r49",32:"r49",33:"r49",34:"r49",35:"r49",36:"r49",37:"r49",38:"r49",39:"r49",40:"r49",41:"r49",42:"r49",43:"r49",44:"r49",45:"r49",46:"r49",47:"r49",48:"r49",49:"r49",50:"r49",51:"r49",52:"r49",53:"r49",54:"r49",55:"r49",57:"r49"},{25:"s12",31:"s88"},{23:"r50",24:"r50",25:"r50",26:"r50",27:"r50",28:"r50",29:"r50",30:"r50",31:"r50",32:"r50",33:"r50",34:"r50",35:"r50",36:"r50",37:"r50",38:"r50",39:"r50",40:"r50",41:"r50",42:"r50",43:"r50",44:"r50",45:"r50",46:"r50",47:"r50",48:"r50",49:"r50",50:"r50",51:"r50",52:"r50",53:"r50",54:"r50",55:"r50",57:"r50"},{25:"s12",31:"s90"},{23:"r51",24:"r51",25:"r51",26:"r51",27:"r51",28:"r51",29:"r51",30:"r51",31:"r51",32:"r51",33:"r51",34:"r51",35:"r51",36:"r51",37:"r51",38:"r51",39:"r51",40:"r51",41:"r51",42:"r51",43:"r51",44:"r51",45:"r51",46:"r51",47:"r51",48:"r51",49:"r51",50:"r51",51:"r51",52:"r51",53:"r51",54:"r51",55:"r51",57:"r51"}],L=[],f=void 0,N=[[/^#[^\n]+/,function(){}],[/^\s+/,function(){}],[/^-/,function(){return"DASH"}],[/^\//,function(){return"CHAR"}],[/^#/,function(){return"CHAR"}],[/^\|/,function(){return"CHAR"}],[/^\./,function(){return"CHAR"}],[/^\{/,function(){return"CHAR"}],[/^\{\d+\}/,function(){return"RANGE_EXACT"}],[/^\{\d+,\}/,function(){return"RANGE_OPEN"}],[/^\{\d+,\d+\}/,function(){return"RANGE_CLOSED"}],[/^\\k<(([\u0041-\u005a\u0061-\u007a\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376-\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u05d0-\u05ea\u05ef-\u05f2\u0620-\u064a\u066e-\u066f\u0671-\u06d3\u06d5\u06e5-\u06e6\u06ee-\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4-\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc-\u09dd\u09df-\u09e1\u09f0-\u09f1\u09fc\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0-\u0ae1\u0af9\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c60-\u0c61\u0c80\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0-\u0ce1\u0cf1-\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d54-\u0d56\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e46\u0e81-\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065-\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1878\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae-\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1ce9-\u1cec\u1cee-\u1cf3\u1cf5-\u1cf6\u1cfa\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309b-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a-\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua7bf\ua7c2-\ua7c6\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd-\ua8fe\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5-\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab67\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]|\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c-\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\udd40-\udd74\ude80-\ude9c\udea0-\uded0\udf00-\udf1f\udf2d-\udf4a\udf50-\udf75\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf\udfd1-\udfd5]|\ud801[\udc00-\udc9d\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37-\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4-\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe-\uddbf\ude00\ude10-\ude13\ude15-\ude17\ude19-\ude35\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee4\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd23\udf00-\udf1c\udf27\udf30-\udf45\udfe0-\udff6]|\ud804[\udc03-\udc37\udc83-\udcaf\udcd0-\udce8\udd03-\udd26\udd44\udd50-\udd72\udd76\udd83-\uddb2\uddc1-\uddc4\uddda\udddc\ude00-\ude11\ude13-\ude2b\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udede\udf05-\udf0c\udf0f-\udf10\udf13-\udf28\udf2a-\udf30\udf32-\udf33\udf35-\udf39\udf3d\udf50\udf5d-\udf61]|\ud805[\udc00-\udc34\udc47-\udc4a\udc5f\udc80-\udcaf\udcc4-\udcc5\udcc7\udd80-\uddae\uddd8-\udddb\ude00-\ude2f\ude44\ude80-\udeaa\udeb8\udf00-\udf1a]|\ud806[\udc00-\udc2b\udca0-\udcdf\udcff\udda0-\udda7\uddaa-\uddd0\udde1\udde3\ude00\ude0b-\ude32\ude3a\ude50\ude5c-\ude89\ude9d\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc2e\udc40\udc72-\udc8f\udd00-\udd06\udd08-\udd09\udd0b-\udd30\udd46\udd60-\udd65\udd67-\udd68\udd6a-\udd89\udd98\udee0-\udef2]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc80-\udd43]|\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\uded0-\udeed\udf00-\udf2f\udf40-\udf43\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf50\udf93-\udf9f\udfe0-\udfe1\udfe3]|\ud81c[\udc00-\udfff]|\ud81d[\udc00-\udfff]|\ud81e[\udc00-\udfff]|\ud81f[\udc00-\udfff]|\ud820[\udc00-\udfff]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e-\udc9f\udca2\udca5-\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud838[\udd00-\udd2c\udd37-\udd3d\udd4e\udec0-\udeeb]|\ud83a[\udc00-\udcc4\udd00-\udd43\udd4b]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21-\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51-\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61-\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud840[\udc00-\udfff]|\ud841[\udc00-\udfff]|\ud842[\udc00-\udfff]|\ud843[\udc00-\udfff]|\ud844[\udc00-\udfff]|\ud845[\udc00-\udfff]|\ud846[\udc00-\udfff]|\ud847[\udc00-\udfff]|\ud848[\udc00-\udfff]|\ud849[\udc00-\udfff]|\ud84a[\udc00-\udfff]|\ud84b[\udc00-\udfff]|\ud84c[\udc00-\udfff]|\ud84d[\udc00-\udfff]|\ud84e[\udc00-\udfff]|\ud84f[\udc00-\udfff]|\ud850[\udc00-\udfff]|\ud851[\udc00-\udfff]|\ud852[\udc00-\udfff]|\ud853[\udc00-\udfff]|\ud854[\udc00-\udfff]|\ud855[\udc00-\udfff]|\ud856[\udc00-\udfff]|\ud857[\udc00-\udfff]|\ud858[\udc00-\udfff]|\ud859[\udc00-\udfff]|\ud85a[\udc00-\udfff]|\ud85b[\udc00-\udfff]|\ud85c[\udc00-\udfff]|\ud85d[\udc00-\udfff]|\ud85e[\udc00-\udfff]|\ud85f[\udc00-\udfff]|\ud860[\udc00-\udfff]|\ud861[\udc00-\udfff]|\ud862[\udc00-\udfff]|\ud863[\udc00-\udfff]|\ud864[\udc00-\udfff]|\ud865[\udc00-\udfff]|\ud866[\udc00-\udfff]|\ud867[\udc00-\udfff]|\ud868[\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86a[\udc00-\udfff]|\ud86b[\udc00-\udfff]|\ud86c[\udc00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud86f[\udc00-\udfff]|\ud870[\udc00-\udfff]|\ud871[\udc00-\udfff]|\ud872[\udc00-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud874[\udc00-\udfff]|\ud875[\udc00-\udfff]|\ud876[\udc00-\udfff]|\ud877[\udc00-\udfff]|\ud878[\udc00-\udfff]|\ud879[\udc00-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d])|[$_]|(\\u[0-9a-fA-F]{4}|\\u\{[0-9a-fA-F]{1,}\}))(([\u0030-\u0039\u0041-\u005a\u005f\u0061-\u007a\u00aa\u00b5\u00b7\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0300-\u0374\u0376-\u0377\u037a-\u037d\u037f\u0386-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0483-\u0487\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u05d0-\u05ea\u05ef-\u05f2\u0610-\u061a\u0620-\u0669\u066e-\u06d3\u06d5-\u06dc\u06df-\u06e8\u06ea-\u06fc\u06ff\u0710-\u074a\u074d-\u07b1\u07c0-\u07f5\u07fa\u07fd\u0800-\u082d\u0840-\u085b\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u08d3-\u08e1\u08e3-\u0963\u0966-\u096f\u0971-\u0983\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bc-\u09c4\u09c7-\u09c8\u09cb-\u09ce\u09d7\u09dc-\u09dd\u09df-\u09e3\u09e6-\u09f1\u09fc\u09fe\u0a01-\u0a03\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a3c\u0a3e-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a59-\u0a5c\u0a5e\u0a66-\u0a75\u0a81-\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abc-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ad0\u0ae0-\u0ae3\u0ae6-\u0aef\u0af9-\u0aff\u0b01-\u0b03\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3c-\u0b44\u0b47-\u0b48\u0b4b-\u0b4d\u0b56-\u0b57\u0b5c-\u0b5d\u0b5f-\u0b63\u0b66-\u0b6f\u0b71\u0b82-\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd0\u0bd7\u0be6-\u0bef\u0c00-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c58-\u0c5a\u0c60-\u0c63\u0c66-\u0c6f\u0c80-\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbc-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5-\u0cd6\u0cde\u0ce0-\u0ce3\u0ce6-\u0cef\u0cf1-\u0cf2\u0d00-\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d44\u0d46-\u0d48\u0d4a-\u0d4e\u0d54-\u0d57\u0d5f-\u0d63\u0d66-\u0d6f\u0d7a-\u0d7f\u0d82-\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0de6-\u0def\u0df2-\u0df3\u0e01-\u0e3a\u0e40-\u0e4e\u0e50-\u0e59\u0e81-\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0ebd\u0ec0-\u0ec4\u0ec6\u0ec8-\u0ecd\u0ed0-\u0ed9\u0edc-\u0edf\u0f00\u0f18-\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e-\u0f47\u0f49-\u0f6c\u0f71-\u0f84\u0f86-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1049\u1050-\u109d\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u135d-\u135f\u1369-\u1371\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176c\u176e-\u1770\u1772-\u1773\u1780-\u17d3\u17d7\u17dc-\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1820-\u1878\u1880-\u18aa\u18b0-\u18f5\u1900-\u191e\u1920-\u192b\u1930-\u193b\u1946-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u19d0-\u19da\u1a00-\u1a1b\u1a20-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1aa7\u1ab0-\u1abd\u1b00-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1bf3\u1c00-\u1c37\u1c40-\u1c49\u1c4d-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1cd0-\u1cd2\u1cd4-\u1cfa\u1d00-\u1df9\u1dfb-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u203f-\u2040\u2054\u2071\u207f\u2090-\u209c\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d7f-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2de0-\u2dff\u3005-\u3007\u3021-\u302f\u3031-\u3035\u3038-\u303c\u3041-\u3096\u3099-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua62b\ua640-\ua66f\ua674-\ua67d\ua67f-\ua6f1\ua717-\ua71f\ua722-\ua788\ua78b-\ua7bf\ua7c2-\ua7c6\ua7f7-\ua827\ua840-\ua873\ua880-\ua8c5\ua8d0-\ua8d9\ua8e0-\ua8f7\ua8fb\ua8fd-\ua92d\ua930-\ua953\ua960-\ua97c\ua980-\ua9c0\ua9cf-\ua9d9\ua9e0-\ua9fe\uaa00-\uaa36\uaa40-\uaa4d\uaa50-\uaa59\uaa60-\uaa76\uaa7a-\uaac2\uaadb-\uaadd\uaae0-\uaaef\uaaf2-\uaaf6\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab67\uab70-\uabea\uabec-\uabed\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe00-\ufe0f\ufe20-\ufe2f\ufe33-\ufe34\ufe4d-\ufe4f\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff3f\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]|\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c-\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\udd40-\udd74\uddfd\ude80-\ude9c\udea0-\uded0\udee0\udf00-\udf1f\udf2d-\udf4a\udf50-\udf7a\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf\udfd1-\udfd5]|\ud801[\udc00-\udc9d\udca0-\udca9\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37-\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4-\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe-\uddbf\ude00-\ude03\ude05-\ude06\ude0c-\ude13\ude15-\ude17\ude19-\ude35\ude38-\ude3a\ude3f\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee6\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd27\udd30-\udd39\udf00-\udf1c\udf27\udf30-\udf50\udfe0-\udff6]|\ud804[\udc00-\udc46\udc66-\udc6f\udc7f-\udcba\udcd0-\udce8\udcf0-\udcf9\udd00-\udd34\udd36-\udd3f\udd44-\udd46\udd50-\udd73\udd76\udd80-\uddc4\uddc9-\uddcc\uddd0-\uddda\udddc\ude00-\ude11\ude13-\ude37\ude3e\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udeea\udef0-\udef9\udf00-\udf03\udf05-\udf0c\udf0f-\udf10\udf13-\udf28\udf2a-\udf30\udf32-\udf33\udf35-\udf39\udf3b-\udf44\udf47-\udf48\udf4b-\udf4d\udf50\udf57\udf5d-\udf63\udf66-\udf6c\udf70-\udf74]|\ud805[\udc00-\udc4a\udc50-\udc59\udc5e-\udc5f\udc80-\udcc5\udcc7\udcd0-\udcd9\udd80-\uddb5\uddb8-\uddc0\uddd8-\udddd\ude00-\ude40\ude44\ude50-\ude59\ude80-\udeb8\udec0-\udec9\udf00-\udf1a\udf1d-\udf2b\udf30-\udf39]|\ud806[\udc00-\udc3a\udca0-\udce9\udcff\udda0-\udda7\uddaa-\uddd7\uddda-\udde1\udde3-\udde4\ude00-\ude3e\ude47\ude50-\ude99\ude9d\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc36\udc38-\udc40\udc50-\udc59\udc72-\udc8f\udc92-\udca7\udca9-\udcb6\udd00-\udd06\udd08-\udd09\udd0b-\udd36\udd3a\udd3c-\udd3d\udd3f-\udd47\udd50-\udd59\udd60-\udd65\udd67-\udd68\udd6a-\udd8e\udd90-\udd91\udd93-\udd98\udda0-\udda9\udee0-\udef6]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc80-\udd43]|\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\ude60-\ude69\uded0-\udeed\udef0-\udef4\udf00-\udf36\udf40-\udf43\udf50-\udf59\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf4f-\udf87\udf8f-\udf9f\udfe0-\udfe1\udfe3]|\ud81c[\udc00-\udfff]|\ud81d[\udc00-\udfff]|\ud81e[\udc00-\udfff]|\ud81f[\udc00-\udfff]|\ud820[\udc00-\udfff]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99\udc9d-\udc9e]|\ud834[\udd65-\udd69\udd6d-\udd72\udd7b-\udd82\udd85-\udd8b\uddaa-\uddad\ude42-\ude44]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e-\udc9f\udca2\udca5-\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb\udfce-\udfff]|\ud836[\ude00-\ude36\ude3b-\ude6c\ude75\ude84\ude9b-\ude9f\udea1-\udeaf]|\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23-\udc24\udc26-\udc2a\udd00-\udd2c\udd30-\udd3d\udd40-\udd49\udd4e\udec0-\udef9]|\ud83a[\udc00-\udcc4\udcd0-\udcd6\udd00-\udd4b\udd50-\udd59]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21-\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51-\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61-\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud840[\udc00-\udfff]|\ud841[\udc00-\udfff]|\ud842[\udc00-\udfff]|\ud843[\udc00-\udfff]|\ud844[\udc00-\udfff]|\ud845[\udc00-\udfff]|\ud846[\udc00-\udfff]|\ud847[\udc00-\udfff]|\ud848[\udc00-\udfff]|\ud849[\udc00-\udfff]|\ud84a[\udc00-\udfff]|\ud84b[\udc00-\udfff]|\ud84c[\udc00-\udfff]|\ud84d[\udc00-\udfff]|\ud84e[\udc00-\udfff]|\ud84f[\udc00-\udfff]|\ud850[\udc00-\udfff]|\ud851[\udc00-\udfff]|\ud852[\udc00-\udfff]|\ud853[\udc00-\udfff]|\ud854[\udc00-\udfff]|\ud855[\udc00-\udfff]|\ud856[\udc00-\udfff]|\ud857[\udc00-\udfff]|\ud858[\udc00-\udfff]|\ud859[\udc00-\udfff]|\ud85a[\udc00-\udfff]|\ud85b[\udc00-\udfff]|\ud85c[\udc00-\udfff]|\ud85d[\udc00-\udfff]|\ud85e[\udc00-\udfff]|\ud85f[\udc00-\udfff]|\ud860[\udc00-\udfff]|\ud861[\udc00-\udfff]|\ud862[\udc00-\udfff]|\ud863[\udc00-\udfff]|\ud864[\udc00-\udfff]|\ud865[\udc00-\udfff]|\ud866[\udc00-\udfff]|\ud867[\udc00-\udfff]|\ud868[\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86a[\udc00-\udfff]|\ud86b[\udc00-\udfff]|\ud86c[\udc00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud86f[\udc00-\udfff]|\ud870[\udc00-\udfff]|\ud871[\udc00-\udfff]|\ud872[\udc00-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud874[\udc00-\udfff]|\ud875[\udc00-\udfff]|\ud876[\udc00-\udfff]|\ud877[\udc00-\udfff]|\ud878[\udc00-\udfff]|\ud879[\udc00-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d]|\udb40[\udd00-\uddef])|[$_]|(\\u[0-9a-fA-F]{4}|\\u\{[0-9a-fA-F]{1,}\})|[\u200c\u200d])*>/,function(){return le(Y.slice(3,-1),this.getCurrentState()),"NAMED_GROUP_REF"}],[/^\\b/,function(){return"ESC_b"}],[/^\\B/,function(){return"ESC_B"}],[/^\\c[a-zA-Z]/,function(){return"CTRL_CH"}],[/^\\0\d{1,2}/,function(){return"OCT_CODE"}],[/^\\0/,function(){return"DEC_CODE"}],[/^\\\d{1,3}/,function(){return"DEC_CODE"}],[/^\\u[dD][89abAB][0-9a-fA-F]{2}\\u[dD][c-fC-F][0-9a-fA-F]{2}/,function(){return"U_CODE_SURROGATE"}],[/^\\u\{[0-9a-fA-F]{1,}\}/,function(){return"U_CODE"}],[/^\\u[0-9a-fA-F]{4}/,function(){return"U_CODE"}],[/^\\[pP]\{\w+(?:=\w+)?\}/,function(){return"U_PROP_VALUE_EXP"}],[/^\\x[0-9a-fA-F]{2}/,function(){return"HEX_CODE"}],[/^\\[tnrdDsSwWvf]/,function(){return"META_CHAR"}],[/^\\\//,function(){return"ESC_CHAR"}],[/^\\[ #]/,function(){return"ESC_CHAR"}],[/^\\[\^\$\.\*\+\?\(\)\\\[\]\{\}\|\/]/,function(){return"ESC_CHAR"}],[/^\\[^*?+\[()\\|]/,function(){var ue=this.getCurrentState();if("u_class"===ue&&"\\-"===Y)return"ESC_CHAR";if("u"===ue||"xu"===ue||"u_class"===ue)throw new SyntaxError("invalid Unicode escape "+Y);return"ESC_CHAR"}],[/^\(/,function(){return"CHAR"}],[/^\)/,function(){return"CHAR"}],[/^\(\?=/,function(){return"POS_LA_ASSERT"}],[/^\(\?!/,function(){return"NEG_LA_ASSERT"}],[/^\(\?<=/,function(){return"POS_LB_ASSERT"}],[/^\(\?<!/,function(){return"NEG_LB_ASSERT"}],[/^\(\?:/,function(){return"NON_CAPTURE_GROUP"}],[/^\(\?<(([\u0041-\u005a\u0061-\u007a\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376-\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u05d0-\u05ea\u05ef-\u05f2\u0620-\u064a\u066e-\u066f\u0671-\u06d3\u06d5\u06e5-\u06e6\u06ee-\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4-\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc-\u09dd\u09df-\u09e1\u09f0-\u09f1\u09fc\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0-\u0ae1\u0af9\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c60-\u0c61\u0c80\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0-\u0ce1\u0cf1-\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d54-\u0d56\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e46\u0e81-\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065-\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1878\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae-\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1ce9-\u1cec\u1cee-\u1cf3\u1cf5-\u1cf6\u1cfa\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309b-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a-\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua7bf\ua7c2-\ua7c6\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd-\ua8fe\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5-\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab67\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]|\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c-\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\udd40-\udd74\ude80-\ude9c\udea0-\uded0\udf00-\udf1f\udf2d-\udf4a\udf50-\udf75\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf\udfd1-\udfd5]|\ud801[\udc00-\udc9d\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37-\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4-\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe-\uddbf\ude00\ude10-\ude13\ude15-\ude17\ude19-\ude35\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee4\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd23\udf00-\udf1c\udf27\udf30-\udf45\udfe0-\udff6]|\ud804[\udc03-\udc37\udc83-\udcaf\udcd0-\udce8\udd03-\udd26\udd44\udd50-\udd72\udd76\udd83-\uddb2\uddc1-\uddc4\uddda\udddc\ude00-\ude11\ude13-\ude2b\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udede\udf05-\udf0c\udf0f-\udf10\udf13-\udf28\udf2a-\udf30\udf32-\udf33\udf35-\udf39\udf3d\udf50\udf5d-\udf61]|\ud805[\udc00-\udc34\udc47-\udc4a\udc5f\udc80-\udcaf\udcc4-\udcc5\udcc7\udd80-\uddae\uddd8-\udddb\ude00-\ude2f\ude44\ude80-\udeaa\udeb8\udf00-\udf1a]|\ud806[\udc00-\udc2b\udca0-\udcdf\udcff\udda0-\udda7\uddaa-\uddd0\udde1\udde3\ude00\ude0b-\ude32\ude3a\ude50\ude5c-\ude89\ude9d\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc2e\udc40\udc72-\udc8f\udd00-\udd06\udd08-\udd09\udd0b-\udd30\udd46\udd60-\udd65\udd67-\udd68\udd6a-\udd89\udd98\udee0-\udef2]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc80-\udd43]|\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\uded0-\udeed\udf00-\udf2f\udf40-\udf43\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf50\udf93-\udf9f\udfe0-\udfe1\udfe3]|\ud81c[\udc00-\udfff]|\ud81d[\udc00-\udfff]|\ud81e[\udc00-\udfff]|\ud81f[\udc00-\udfff]|\ud820[\udc00-\udfff]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e-\udc9f\udca2\udca5-\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud838[\udd00-\udd2c\udd37-\udd3d\udd4e\udec0-\udeeb]|\ud83a[\udc00-\udcc4\udd00-\udd43\udd4b]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21-\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51-\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61-\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud840[\udc00-\udfff]|\ud841[\udc00-\udfff]|\ud842[\udc00-\udfff]|\ud843[\udc00-\udfff]|\ud844[\udc00-\udfff]|\ud845[\udc00-\udfff]|\ud846[\udc00-\udfff]|\ud847[\udc00-\udfff]|\ud848[\udc00-\udfff]|\ud849[\udc00-\udfff]|\ud84a[\udc00-\udfff]|\ud84b[\udc00-\udfff]|\ud84c[\udc00-\udfff]|\ud84d[\udc00-\udfff]|\ud84e[\udc00-\udfff]|\ud84f[\udc00-\udfff]|\ud850[\udc00-\udfff]|\ud851[\udc00-\udfff]|\ud852[\udc00-\udfff]|\ud853[\udc00-\udfff]|\ud854[\udc00-\udfff]|\ud855[\udc00-\udfff]|\ud856[\udc00-\udfff]|\ud857[\udc00-\udfff]|\ud858[\udc00-\udfff]|\ud859[\udc00-\udfff]|\ud85a[\udc00-\udfff]|\ud85b[\udc00-\udfff]|\ud85c[\udc00-\udfff]|\ud85d[\udc00-\udfff]|\ud85e[\udc00-\udfff]|\ud85f[\udc00-\udfff]|\ud860[\udc00-\udfff]|\ud861[\udc00-\udfff]|\ud862[\udc00-\udfff]|\ud863[\udc00-\udfff]|\ud864[\udc00-\udfff]|\ud865[\udc00-\udfff]|\ud866[\udc00-\udfff]|\ud867[\udc00-\udfff]|\ud868[\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86a[\udc00-\udfff]|\ud86b[\udc00-\udfff]|\ud86c[\udc00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud86f[\udc00-\udfff]|\ud870[\udc00-\udfff]|\ud871[\udc00-\udfff]|\ud872[\udc00-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud874[\udc00-\udfff]|\ud875[\udc00-\udfff]|\ud876[\udc00-\udfff]|\ud877[\udc00-\udfff]|\ud878[\udc00-\udfff]|\ud879[\udc00-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d])|[$_]|(\\u[0-9a-fA-F]{4}|\\u\{[0-9a-fA-F]{1,}\}))(([\u0030-\u0039\u0041-\u005a\u005f\u0061-\u007a\u00aa\u00b5\u00b7\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0300-\u0374\u0376-\u0377\u037a-\u037d\u037f\u0386-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0483-\u0487\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u05d0-\u05ea\u05ef-\u05f2\u0610-\u061a\u0620-\u0669\u066e-\u06d3\u06d5-\u06dc\u06df-\u06e8\u06ea-\u06fc\u06ff\u0710-\u074a\u074d-\u07b1\u07c0-\u07f5\u07fa\u07fd\u0800-\u082d\u0840-\u085b\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u08d3-\u08e1\u08e3-\u0963\u0966-\u096f\u0971-\u0983\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bc-\u09c4\u09c7-\u09c8\u09cb-\u09ce\u09d7\u09dc-\u09dd\u09df-\u09e3\u09e6-\u09f1\u09fc\u09fe\u0a01-\u0a03\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a3c\u0a3e-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a59-\u0a5c\u0a5e\u0a66-\u0a75\u0a81-\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abc-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ad0\u0ae0-\u0ae3\u0ae6-\u0aef\u0af9-\u0aff\u0b01-\u0b03\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3c-\u0b44\u0b47-\u0b48\u0b4b-\u0b4d\u0b56-\u0b57\u0b5c-\u0b5d\u0b5f-\u0b63\u0b66-\u0b6f\u0b71\u0b82-\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd0\u0bd7\u0be6-\u0bef\u0c00-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c58-\u0c5a\u0c60-\u0c63\u0c66-\u0c6f\u0c80-\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbc-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5-\u0cd6\u0cde\u0ce0-\u0ce3\u0ce6-\u0cef\u0cf1-\u0cf2\u0d00-\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d44\u0d46-\u0d48\u0d4a-\u0d4e\u0d54-\u0d57\u0d5f-\u0d63\u0d66-\u0d6f\u0d7a-\u0d7f\u0d82-\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0de6-\u0def\u0df2-\u0df3\u0e01-\u0e3a\u0e40-\u0e4e\u0e50-\u0e59\u0e81-\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0ebd\u0ec0-\u0ec4\u0ec6\u0ec8-\u0ecd\u0ed0-\u0ed9\u0edc-\u0edf\u0f00\u0f18-\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e-\u0f47\u0f49-\u0f6c\u0f71-\u0f84\u0f86-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1049\u1050-\u109d\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u135d-\u135f\u1369-\u1371\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176c\u176e-\u1770\u1772-\u1773\u1780-\u17d3\u17d7\u17dc-\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1820-\u1878\u1880-\u18aa\u18b0-\u18f5\u1900-\u191e\u1920-\u192b\u1930-\u193b\u1946-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u19d0-\u19da\u1a00-\u1a1b\u1a20-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1aa7\u1ab0-\u1abd\u1b00-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1bf3\u1c00-\u1c37\u1c40-\u1c49\u1c4d-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1cd0-\u1cd2\u1cd4-\u1cfa\u1d00-\u1df9\u1dfb-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u203f-\u2040\u2054\u2071\u207f\u2090-\u209c\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d7f-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2de0-\u2dff\u3005-\u3007\u3021-\u302f\u3031-\u3035\u3038-\u303c\u3041-\u3096\u3099-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua62b\ua640-\ua66f\ua674-\ua67d\ua67f-\ua6f1\ua717-\ua71f\ua722-\ua788\ua78b-\ua7bf\ua7c2-\ua7c6\ua7f7-\ua827\ua840-\ua873\ua880-\ua8c5\ua8d0-\ua8d9\ua8e0-\ua8f7\ua8fb\ua8fd-\ua92d\ua930-\ua953\ua960-\ua97c\ua980-\ua9c0\ua9cf-\ua9d9\ua9e0-\ua9fe\uaa00-\uaa36\uaa40-\uaa4d\uaa50-\uaa59\uaa60-\uaa76\uaa7a-\uaac2\uaadb-\uaadd\uaae0-\uaaef\uaaf2-\uaaf6\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab67\uab70-\uabea\uabec-\uabed\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe00-\ufe0f\ufe20-\ufe2f\ufe33-\ufe34\ufe4d-\ufe4f\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff3f\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]|\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c-\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\udd40-\udd74\uddfd\ude80-\ude9c\udea0-\uded0\udee0\udf00-\udf1f\udf2d-\udf4a\udf50-\udf7a\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf\udfd1-\udfd5]|\ud801[\udc00-\udc9d\udca0-\udca9\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37-\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4-\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe-\uddbf\ude00-\ude03\ude05-\ude06\ude0c-\ude13\ude15-\ude17\ude19-\ude35\ude38-\ude3a\ude3f\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee6\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd27\udd30-\udd39\udf00-\udf1c\udf27\udf30-\udf50\udfe0-\udff6]|\ud804[\udc00-\udc46\udc66-\udc6f\udc7f-\udcba\udcd0-\udce8\udcf0-\udcf9\udd00-\udd34\udd36-\udd3f\udd44-\udd46\udd50-\udd73\udd76\udd80-\uddc4\uddc9-\uddcc\uddd0-\uddda\udddc\ude00-\ude11\ude13-\ude37\ude3e\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udeea\udef0-\udef9\udf00-\udf03\udf05-\udf0c\udf0f-\udf10\udf13-\udf28\udf2a-\udf30\udf32-\udf33\udf35-\udf39\udf3b-\udf44\udf47-\udf48\udf4b-\udf4d\udf50\udf57\udf5d-\udf63\udf66-\udf6c\udf70-\udf74]|\ud805[\udc00-\udc4a\udc50-\udc59\udc5e-\udc5f\udc80-\udcc5\udcc7\udcd0-\udcd9\udd80-\uddb5\uddb8-\uddc0\uddd8-\udddd\ude00-\ude40\ude44\ude50-\ude59\ude80-\udeb8\udec0-\udec9\udf00-\udf1a\udf1d-\udf2b\udf30-\udf39]|\ud806[\udc00-\udc3a\udca0-\udce9\udcff\udda0-\udda7\uddaa-\uddd7\uddda-\udde1\udde3-\udde4\ude00-\ude3e\ude47\ude50-\ude99\ude9d\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc36\udc38-\udc40\udc50-\udc59\udc72-\udc8f\udc92-\udca7\udca9-\udcb6\udd00-\udd06\udd08-\udd09\udd0b-\udd36\udd3a\udd3c-\udd3d\udd3f-\udd47\udd50-\udd59\udd60-\udd65\udd67-\udd68\udd6a-\udd8e\udd90-\udd91\udd93-\udd98\udda0-\udda9\udee0-\udef6]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc80-\udd43]|\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\ude60-\ude69\uded0-\udeed\udef0-\udef4\udf00-\udf36\udf40-\udf43\udf50-\udf59\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf4f-\udf87\udf8f-\udf9f\udfe0-\udfe1\udfe3]|\ud81c[\udc00-\udfff]|\ud81d[\udc00-\udfff]|\ud81e[\udc00-\udfff]|\ud81f[\udc00-\udfff]|\ud820[\udc00-\udfff]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99\udc9d-\udc9e]|\ud834[\udd65-\udd69\udd6d-\udd72\udd7b-\udd82\udd85-\udd8b\uddaa-\uddad\ude42-\ude44]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e-\udc9f\udca2\udca5-\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb\udfce-\udfff]|\ud836[\ude00-\ude36\ude3b-\ude6c\ude75\ude84\ude9b-\ude9f\udea1-\udeaf]|\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23-\udc24\udc26-\udc2a\udd00-\udd2c\udd30-\udd3d\udd40-\udd49\udd4e\udec0-\udef9]|\ud83a[\udc00-\udcc4\udcd0-\udcd6\udd00-\udd4b\udd50-\udd59]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21-\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51-\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61-\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud840[\udc00-\udfff]|\ud841[\udc00-\udfff]|\ud842[\udc00-\udfff]|\ud843[\udc00-\udfff]|\ud844[\udc00-\udfff]|\ud845[\udc00-\udfff]|\ud846[\udc00-\udfff]|\ud847[\udc00-\udfff]|\ud848[\udc00-\udfff]|\ud849[\udc00-\udfff]|\ud84a[\udc00-\udfff]|\ud84b[\udc00-\udfff]|\ud84c[\udc00-\udfff]|\ud84d[\udc00-\udfff]|\ud84e[\udc00-\udfff]|\ud84f[\udc00-\udfff]|\ud850[\udc00-\udfff]|\ud851[\udc00-\udfff]|\ud852[\udc00-\udfff]|\ud853[\udc00-\udfff]|\ud854[\udc00-\udfff]|\ud855[\udc00-\udfff]|\ud856[\udc00-\udfff]|\ud857[\udc00-\udfff]|\ud858[\udc00-\udfff]|\ud859[\udc00-\udfff]|\ud85a[\udc00-\udfff]|\ud85b[\udc00-\udfff]|\ud85c[\udc00-\udfff]|\ud85d[\udc00-\udfff]|\ud85e[\udc00-\udfff]|\ud85f[\udc00-\udfff]|\ud860[\udc00-\udfff]|\ud861[\udc00-\udfff]|\ud862[\udc00-\udfff]|\ud863[\udc00-\udfff]|\ud864[\udc00-\udfff]|\ud865[\udc00-\udfff]|\ud866[\udc00-\udfff]|\ud867[\udc00-\udfff]|\ud868[\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86a[\udc00-\udfff]|\ud86b[\udc00-\udfff]|\ud86c[\udc00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud86f[\udc00-\udfff]|\ud870[\udc00-\udfff]|\ud871[\udc00-\udfff]|\ud872[\udc00-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud874[\udc00-\udfff]|\ud875[\udc00-\udfff]|\ud876[\udc00-\udfff]|\ud877[\udc00-\udfff]|\ud878[\udc00-\udfff]|\ud879[\udc00-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d]|\udb40[\udd00-\uddef])|[$_]|(\\u[0-9a-fA-F]{4}|\\u\{[0-9a-fA-F]{1,}\})|[\u200c\u200d])*>/,function(){return le(Y=Y.slice(3,-1),this.getCurrentState()),"NAMED_CAPTURE_GROUP"}],[/^\(/,function(){return"L_PAREN"}],[/^\)/,function(){return"R_PAREN"}],[/^[*?+[^$]/,function(){return"CHAR"}],[/^\\\]/,function(){return"ESC_CHAR"}],[/^\]/,function(){return this.popState(),"R_BRACKET"}],[/^\^/,function(){return"BOS"}],[/^\$/,function(){return"EOS"}],[/^\*/,function(){return"STAR"}],[/^\?/,function(){return"Q_MARK"}],[/^\+/,function(){return"PLUS"}],[/^\|/,function(){return"BAR"}],[/^\./,function(){return"ANY"}],[/^\//,function(){return"SLASH"}],[/^[^*?+\[()\\|]/,function(){return"CHAR"}],[/^\[\^/,function(){var ue=this.getCurrentState();return this.pushState("u"===ue||"xu"===ue?"u_class":"class"),"NEG_CLASS"}],[/^\[/,function(){var ue=this.getCurrentState();return this.pushState("u"===ue||"xu"===ue?"u_class":"class"),"L_BRACKET"}]],z={INITIAL:[8,9,10,11,12,13,14,15,16,17,20,22,23,24,26,27,30,31,32,33,34,35,36,37,41,42,43,44,45,46,47,48,49,50,51],u:[8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,26,27,30,31,32,33,34,35,36,37,41,42,43,44,45,46,47,48,49,50,51],xu:[0,1,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,30,31,32,33,34,35,36,37,41,42,43,44,45,46,47,48,49,50,51],x:[0,1,8,9,10,11,12,13,14,15,16,17,20,22,23,24,26,27,30,31,32,33,34,35,36,37,41,42,43,44,45,46,47,48,49,50,51],u_class:[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],class:[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,20,22,23,24,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51]},D={type:"$",value:""};E.lexer=f={initString:function(_e){return this._string=_e,this._cursor=0,this._states=["INITIAL"],this._tokensQueue=[],this._currentLine=1,this._currentColumn=0,this._currentLineBeginOffset=0,this._tokenStartOffset=0,this._tokenEndOffset=0,this._tokenStartLine=1,this._tokenEndLine=1,this._tokenStartColumn=0,this._tokenEndColumn=0,this},getStates:function(){return this._states},getCurrentState:function(){return this._states[this._states.length-1]},pushState:function(_e){this._states.push(_e)},begin:function(_e){this.pushState(_e)},popState:function(){return this._states.length>1?this._states.pop():this._states[0]},getNextToken:function(){if(this._tokensQueue.length>0)return this.onToken(this._toToken(this._tokensQueue.shift()));if(!this.hasMoreTokens())return this.onToken(D);for(var _e=this._string.slice(this._cursor),Re=z[this.getCurrentState()],et=0;et<Re.length;et++){var Pe=N[Re[et]],rt=this._match(_e,Pe[0]);if(""===_e&&""===rt&&this._cursor++,null!==rt){Y=rt;var ut=Pe[1].call(this);if(!ut)return this.getNextToken();if(Array.isArray(ut)){var Se,nt=ut.slice(1);ut=ut[0],nt.length>0&&(Se=this._tokensQueue).unshift.apply(Se,g(nt))}return this.onToken(this._toToken(ut,Y))}}if(this.isEOF())return this._cursor++,D;this.throwUnexpectedToken(_e[0],this._currentLine,this._currentColumn)},throwUnexpectedToken:function(_e,Re,et){var Ze=this._string.split("\n")[Re-1],Pe="";throw Ze&&(Pe="\n\n"+Ze+"\n"+" ".repeat(et)+"^\n"),new SyntaxError(Pe+'Unexpected token: "'+_e+'" at '+Re+":"+et+".")},getCursor:function(){return this._cursor},getCurrentLine:function(){return this._currentLine},getCurrentColumn:function(){return this._currentColumn},_captureLocation:function(_e){var Re=/\n/g;this._tokenStartOffset=this._cursor,this._tokenStartLine=this._currentLine,this._tokenStartColumn=this._tokenStartOffset-this._currentLineBeginOffset;for(var et=void 0;null!==(et=Re.exec(_e));)this._currentLine++,this._currentLineBeginOffset=this._tokenStartOffset+et.index+1;this._tokenEndOffset=this._cursor+_e.length,this._tokenEndLine=this._currentLine,this._tokenEndColumn=this._currentColumn=this._tokenEndOffset-this._currentLineBeginOffset},_toToken:function(_e){var Re=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{type:_e,value:Re,startOffset:this._tokenStartOffset,endOffset:this._tokenEndOffset,startLine:this._tokenStartLine,endLine:this._tokenEndLine,startColumn:this._tokenStartColumn,endColumn:this._tokenEndColumn}},isEOF:function(){return this._cursor===this._string.length},hasMoreTokens:function(){return this._cursor<=this._string.length},_match:function(_e,Re){var et=_e.match(Re);return et?(this._captureLocation(et[0]),this._cursor+=et[0].length,et[0]):null},onToken:function(_e){return _e}},E.tokenizer=f,E.options={captureLocations:!0};var I={setOptions:function(_e){return E.options=_e,this},getOptions:function(){return E.options},parse:function(_e,Re){if(!f)throw new Error("Tokenizer instance wasn't specified.");f.initString(_e);var et=E.options;Re&&(E.options=Object.assign({},E.options,Re)),I.onParseBegin(_e,f,E.options),L.length=0,L.push(0);var Ze=f.getNextToken(),Pe=null;do{Ze||(E.options=et,Ve());var rt=L[L.length-1],ut=C[Ze.type];b[rt].hasOwnProperty(ut)||(E.options=et,ke(Ze));var nt=b[rt][ut];if("s"===nt[0]){var Se=null;E.options.captureLocations&&(Se={startOffset:Ze.startOffset,endOffset:Ze.endOffset,startLine:Ze.startLine,endLine:Ze.endLine,startColumn:Ze.startColumn,endColumn:Ze.endColumn}),Pe=this.onShift(Ze),L.push({symbol:C[Pe.type],semanticValue:Pe.value,loc:Se},Number(nt.slice(1))),Ze=f.getNextToken()}else if("r"===nt[0]){var Ne=nt.slice(1),at=S[Ne],_t="function"==typeof at[2],zt=_t?[]:null,pn=_t&&E.options.captureLocations?[]:null;if(0!==at[1])for(var mt=at[1];mt-- >0;){L.pop();var Rt=L.pop();_t&&(zt.unshift(Rt.semanticValue),pn&&pn.unshift(Rt.loc))}var Bt={symbol:at[0]};if(_t){Y=Pe?Pe.value:null;var Wt=null!==pn?zt.concat(pn):zt;at[2].apply(at,g(Wt)),Bt.semanticValue=i,pn&&(Bt.loc=O)}L.push(Bt,b[L[L.length-1]][at[0]])}else if("acc"===nt){L.pop();var Dt=L.pop();return(1!==L.length||0!==L[0]||f.hasMoreTokens())&&(E.options=et,ke(Ze)),Dt.hasOwnProperty("semanticValue")?(E.options=et,I.onParseEnd(Dt.semanticValue),Dt.semanticValue):(I.onParseEnd(),E.options=et,!0)}}while(f.hasMoreTokens()||L.length>1)},setTokenizer:function(_e){return f=_e,I},getTokenizer:function(){return f},onParseBegin:function(_e,Re,et){},onParseEnd:function(_e){},onShift:function(_e){return _e}},Z=0,P={},k="";function $(ue){var _e=ue.match(/\d+/g).map(Number);if(Number.isFinite(_e[1])&&_e[1]<_e[0])throw new SyntaxError("Numbers out of order in "+ue+" quantifier");return _e}function j(ue,_e){if("control"===ue.kind||"control"===_e.kind||!isNaN(ue.codePoint)&&!isNaN(_e.codePoint)&&ue.codePoint>_e.codePoint)throw new SyntaxError("Range "+ue.value+"-"+_e.value+" out of order in character class")}I.onParseBegin=function(ue,_e){k=ue,Z=0,P={};var Re=ue.lastIndexOf("/"),et=ue.slice(Re);et.includes("x")&&et.includes("u")?_e.pushState("xu"):(et.includes("x")&&_e.pushState("x"),et.includes("u")&&_e.pushState("u"))},I.onShift=function(ue){return("L_PAREN"===ue.type||"NAMED_CAPTURE_GROUP"===ue.type)&&(ue.value=new String(ue.value),ue.value.groupNumber=++Z),ue};var G=m(46801);function de(ue,_e,Re){var et=void 0,Ze=void 0;switch(_e){case"decimal":Ze=Number(ue.slice(1)),et=String.fromCodePoint(Ze);break;case"oct":Ze=parseInt(ue.slice(1),8),et=String.fromCodePoint(Ze);break;case"hex":case"unicode":if(ue.lastIndexOf("\\u")>0){var rt=function(_e,Re){if(Array.isArray(_e))return _e;if(Symbol.iterator in Object(_e))return function(_e,Re){var et=[],Ze=!0,Pe=!1,rt=void 0;try{for(var nt,ut=_e[Symbol.iterator]();!(Ze=(nt=ut.next()).done)&&(et.push(nt.value),!Re||et.length!==Re);Ze=!0);}catch(Se){Pe=!0,rt=Se}finally{try{!Ze&&ut.return&&ut.return()}finally{if(Pe)throw rt}}return et}(_e,Re);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(ue.split("\\u").slice(1),2),ut=rt[0],nt=rt[1];Ze=1024*((ut=parseInt(ut,16))-55296)+((nt=parseInt(nt,16))-56320)+65536,et=String.fromCodePoint(Ze)}else{var Se=ue.slice(2).replace("{","");if((Ze=parseInt(Se,16))>1114111)throw new SyntaxError("Bad character escape sequence: "+ue);et=String.fromCodePoint(Ze)}break;case"meta":switch(ue){case"\\t":Ze=(et="\t").codePointAt(0);break;case"\\n":Ze=(et="\n").codePointAt(0);break;case"\\r":Ze=(et="\r").codePointAt(0);break;case"\\v":Ze=(et="\v").codePointAt(0);break;case"\\f":Ze=(et="\f").codePointAt(0);break;case"\\b":Ze=(et="\b").codePointAt(0);case"\\0":et="\0",Ze=0;case".":et=".",Ze=NaN;break;default:Ze=NaN}break;case"simple":Ze=(et=ue).codePointAt(0)}return ce({type:"Char",value:ue,kind:_e,symbol:et,codePoint:Ze},Re)}function pe(ue){var _e=new Set,Re=!0,et=!1,Ze=void 0;try{for(var rt,Pe=ue[Symbol.iterator]();!(Re=(rt=Pe.next()).done);Re=!0){var ut=rt.value;if(_e.has(ut)||!"gimsuxy".includes(ut))throw new SyntaxError("Invalid flags: "+ue);_e.add(ut)}}catch(nt){et=!0,Ze=nt}finally{try{!Re&&Pe.return&&Pe.return()}finally{if(et)throw Ze}}return ue.split("").sort().join("")}var ge=/^\\u[0-9a-fA-F]{4}/,Q=/^\\u\{[0-9a-fA-F]{1,}\}/,q=/\\u\{[0-9a-fA-F]{1,}\}/;function le(ue,_e){if(q.test(ue)&&"u"!==_e&&"xu"!==_e&&"u_class"!==_e)throw new SyntaxError('invalid group Unicode name "'+ue+'", use `u` flag.');return ue}var ee=/\\u(?:([dD][89aAbB][0-9a-fA-F]{2})\\u([dD][c-fC-F][0-9a-fA-F]{2})|([dD][89aAbB][0-9a-fA-F]{2})|([dD][c-fC-F][0-9a-fA-F]{2})|([0-9a-ce-fA-CE-F][0-9a-fA-F]{3}|[dD][0-7][0-9a-fA-F]{2})|\{(0*(?:[0-9a-fA-F]{1,5}|10[0-9a-fA-F]{4}))\})/;function X(ue){return ue.replace(new RegExp(ee,"g"),function(_e,Re,et,Ze,Pe,rt,ut){return Re?String.fromCodePoint(parseInt(Re,16),parseInt(et,16)):Ze?String.fromCodePoint(parseInt(Ze,16)):Pe?String.fromCodePoint(parseInt(Pe,16)):rt?String.fromCodePoint(parseInt(rt,16)):ut?String.fromCodePoint(parseInt(ut,16)):_e})}function ce(ue,_e){return E.options.captureLocations&&(ue.loc={source:k.slice(_e.startOffset,_e.endOffset),start:{line:_e.startLine,column:_e.startColumn,offset:_e.startOffset},end:{line:_e.endLine,column:_e.endColumn,offset:_e.endOffset}}),ue}function ve(ue,_e){return E.options.captureLocations?{startOffset:ue.startOffset,endOffset:_e.endOffset,startLine:ue.startLine,endLine:_e.endLine,startColumn:ue.startColumn,endColumn:_e.endColumn}:null}function ke(ue){"$"===ue.type&&Ve(),f.throwUnexpectedToken(ue.value,ue.startLine,ue.startColumn)}function Ve(){!function(ue){throw new SyntaxError("Unexpected end of input.")}()}Be.exports=I},30525:(Be,Me,m)=>{var M=m(55776),g=M.parse.bind(M);M.parse=function(Y,B){return g(""+Y,B)},M.setOptions({captureLocations:!1}),Be.exports=M},46801:Be=>{var Me={General_Category:"gc",Script:"sc",Script_Extensions:"scx"},m=O(Me),M={ASCII:"ASCII",ASCII_Hex_Digit:"AHex",Alphabetic:"Alpha",Any:"Any",Assigned:"Assigned",Bidi_Control:"Bidi_C",Bidi_Mirrored:"Bidi_M",Case_Ignorable:"CI",Cased:"Cased",Changes_When_Casefolded:"CWCF",Changes_When_Casemapped:"CWCM",Changes_When_Lowercased:"CWL",Changes_When_NFKC_Casefolded:"CWKCF",Changes_When_Titlecased:"CWT",Changes_When_Uppercased:"CWU",Dash:"Dash",Default_Ignorable_Code_Point:"DI",Deprecated:"Dep",Diacritic:"Dia",Emoji:"Emoji",Emoji_Component:"Emoji_Component",Emoji_Modifier:"Emoji_Modifier",Emoji_Modifier_Base:"Emoji_Modifier_Base",Emoji_Presentation:"Emoji_Presentation",Extended_Pictographic:"Extended_Pictographic",Extender:"Ext",Grapheme_Base:"Gr_Base",Grapheme_Extend:"Gr_Ext",Hex_Digit:"Hex",IDS_Binary_Operator:"IDSB",IDS_Trinary_Operator:"IDST",ID_Continue:"IDC",ID_Start:"IDS",Ideographic:"Ideo",Join_Control:"Join_C",Logical_Order_Exception:"LOE",Lowercase:"Lower",Math:"Math",Noncharacter_Code_Point:"NChar",Pattern_Syntax:"Pat_Syn",Pattern_White_Space:"Pat_WS",Quotation_Mark:"QMark",Radical:"Radical",Regional_Indicator:"RI",Sentence_Terminal:"STerm",Soft_Dotted:"SD",Terminal_Punctuation:"Term",Unified_Ideograph:"UIdeo",Uppercase:"Upper",Variation_Selector:"VS",White_Space:"space",XID_Continue:"XIDC",XID_Start:"XIDS"},g=O(M),Y={Cased_Letter:"LC",Close_Punctuation:"Pe",Connector_Punctuation:"Pc",Control:["Cc","cntrl"],Currency_Symbol:"Sc",Dash_Punctuation:"Pd",Decimal_Number:["Nd","digit"],Enclosing_Mark:"Me",Final_Punctuation:"Pf",Format:"Cf",Initial_Punctuation:"Pi",Letter:"L",Letter_Number:"Nl",Line_Separator:"Zl",Lowercase_Letter:"Ll",Mark:["M","Combining_Mark"],Math_Symbol:"Sm",Modifier_Letter:"Lm",Modifier_Symbol:"Sk",Nonspacing_Mark:"Mn",Number:"N",Open_Punctuation:"Ps",Other:"C",Other_Letter:"Lo",Other_Number:"No",Other_Punctuation:"Po",Other_Symbol:"So",Paragraph_Separator:"Zp",Private_Use:"Co",Punctuation:["P","punct"],Separator:"Z",Space_Separator:"Zs",Spacing_Mark:"Mc",Surrogate:"Cs",Symbol:"S",Titlecase_Letter:"Lt",Unassigned:"Cn",Uppercase_Letter:"Lu"},B=O(Y),E={Adlam:"Adlm",Ahom:"Ahom",Anatolian_Hieroglyphs:"Hluw",Arabic:"Arab",Armenian:"Armn",Avestan:"Avst",Balinese:"Bali",Bamum:"Bamu",Bassa_Vah:"Bass",Batak:"Batk",Bengali:"Beng",Bhaiksuki:"Bhks",Bopomofo:"Bopo",Brahmi:"Brah",Braille:"Brai",Buginese:"Bugi",Buhid:"Buhd",Canadian_Aboriginal:"Cans",Carian:"Cari",Caucasian_Albanian:"Aghb",Chakma:"Cakm",Cham:"Cham",Cherokee:"Cher",Common:"Zyyy",Coptic:["Copt","Qaac"],Cuneiform:"Xsux",Cypriot:"Cprt",Cyrillic:"Cyrl",Deseret:"Dsrt",Devanagari:"Deva",Dogra:"Dogr",Duployan:"Dupl",Egyptian_Hieroglyphs:"Egyp",Elbasan:"Elba",Ethiopic:"Ethi",Georgian:"Geor",Glagolitic:"Glag",Gothic:"Goth",Grantha:"Gran",Greek:"Grek",Gujarati:"Gujr",Gunjala_Gondi:"Gong",Gurmukhi:"Guru",Han:"Hani",Hangul:"Hang",Hanifi_Rohingya:"Rohg",Hanunoo:"Hano",Hatran:"Hatr",Hebrew:"Hebr",Hiragana:"Hira",Imperial_Aramaic:"Armi",Inherited:["Zinh","Qaai"],Inscriptional_Pahlavi:"Phli",Inscriptional_Parthian:"Prti",Javanese:"Java",Kaithi:"Kthi",Kannada:"Knda",Katakana:"Kana",Kayah_Li:"Kali",Kharoshthi:"Khar",Khmer:"Khmr",Khojki:"Khoj",Khudawadi:"Sind",Lao:"Laoo",Latin:"Latn",Lepcha:"Lepc",Limbu:"Limb",Linear_A:"Lina",Linear_B:"Linb",Lisu:"Lisu",Lycian:"Lyci",Lydian:"Lydi",Mahajani:"Mahj",Makasar:"Maka",Malayalam:"Mlym",Mandaic:"Mand",Manichaean:"Mani",Marchen:"Marc",Medefaidrin:"Medf",Masaram_Gondi:"Gonm",Meetei_Mayek:"Mtei",Mende_Kikakui:"Mend",Meroitic_Cursive:"Merc",Meroitic_Hieroglyphs:"Mero",Miao:"Plrd",Modi:"Modi",Mongolian:"Mong",Mro:"Mroo",Multani:"Mult",Myanmar:"Mymr",Nabataean:"Nbat",New_Tai_Lue:"Talu",Newa:"Newa",Nko:"Nkoo",Nushu:"Nshu",Ogham:"Ogam",Ol_Chiki:"Olck",Old_Hungarian:"Hung",Old_Italic:"Ital",Old_North_Arabian:"Narb",Old_Permic:"Perm",Old_Persian:"Xpeo",Old_Sogdian:"Sogo",Old_South_Arabian:"Sarb",Old_Turkic:"Orkh",Oriya:"Orya",Osage:"Osge",Osmanya:"Osma",Pahawh_Hmong:"Hmng",Palmyrene:"Palm",Pau_Cin_Hau:"Pauc",Phags_Pa:"Phag",Phoenician:"Phnx",Psalter_Pahlavi:"Phlp",Rejang:"Rjng",Runic:"Runr",Samaritan:"Samr",Saurashtra:"Saur",Sharada:"Shrd",Shavian:"Shaw",Siddham:"Sidd",SignWriting:"Sgnw",Sinhala:"Sinh",Sogdian:"Sogd",Sora_Sompeng:"Sora",Soyombo:"Soyo",Sundanese:"Sund",Syloti_Nagri:"Sylo",Syriac:"Syrc",Tagalog:"Tglg",Tagbanwa:"Tagb",Tai_Le:"Tale",Tai_Tham:"Lana",Tai_Viet:"Tavt",Takri:"Takr",Tamil:"Taml",Tangut:"Tang",Telugu:"Telu",Thaana:"Thaa",Thai:"Thai",Tibetan:"Tibt",Tifinagh:"Tfng",Tirhuta:"Tirh",Ugaritic:"Ugar",Vai:"Vaii",Warang_Citi:"Wara",Yi:"Yiii",Zanabazar_Square:"Zanb"},i=O(E);function O(I){var Z={};for(var P in I)if(I.hasOwnProperty(P)){var k=I[P];if(Array.isArray(k))for(var $=0;$<k.length;$++)Z[k[$]]=P;else Z[k]=P}return Z}function L(I){return Y.hasOwnProperty(I)||B.hasOwnProperty(I)}function f(I){return E.hasOwnProperty(I)||i.hasOwnProperty(I)}Be.exports={isAlias:function(I){return m.hasOwnProperty(I)||g.hasOwnProperty(I)},isValidName:function(I){return Me.hasOwnProperty(I)||m.hasOwnProperty(I)||M.hasOwnProperty(I)||g.hasOwnProperty(I)},isValidValue:function(I,Z){return function(I){return"General_Category"===I||"gc"==I}(I)?L(Z):!!function(I){return"Script"===I||"Script_Extensions"===I||"sc"===I||"scx"===I}(I)&&f(Z)},isGeneralCategoryValue:L,isScriptCategoryValue:f,isBinaryPropertyName:function(I){return M.hasOwnProperty(I)||g.hasOwnProperty(I)},getCanonicalName:function(I){return m.hasOwnProperty(I)?m[I]:g.hasOwnProperty(I)?g[I]:null},getCanonicalValue:function(I){return B.hasOwnProperty(I)?B[I]:i.hasOwnProperty(I)?i[I]:g.hasOwnProperty(I)?g[I]:null},NON_BINARY_PROP_NAMES_TO_ALIASES:Me,NON_BINARY_ALIASES_TO_PROP_NAMES:m,BINARY_PROP_NAMES_TO_ALIASES:M,BINARY_ALIASES_TO_PROP_NAMES:g,GENERAL_CATEGORY_VALUE_TO_ALIASES:Y,GENERAL_CATEGORY_VALUE_ALIASES_TO_VALUES:B,SCRIPT_VALUE_TO_ALIASES:E,SCRIPT_VALUE_ALIASES_TO_VALUE:i}},17512:(Be,Me,m)=>{var M=m(99833),g=m(35123),Y=m(30489),B=m(30525),E=m(86207),i=m(9958),O=m(38327),T=m(69137).RegExpTree;Be.exports={parser:B,fa:O,TransformResult:E.TransformResult,parse:function(b,L){return B.parse(""+b,L)},traverse:function(b,L,f){return i.traverse(b,L,f)},transform:function(b,L){return E.transform(b,L)},generate:function(b){return g.generate(b)},toRegExp:function(b){var L=this.compatTranspile(b);return new RegExp(L.getSource(),L.getFlags())},optimize:function(b,L){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},N=f.blacklist;return Y.optimize(b,{whitelist:L,blacklist:N})},compatTranspile:function(b,L){return M.transform(b,L)},exec:function(b,L){if("string"==typeof b){var f=this.compatTranspile(b),N=f.getExtra();b=N.namedCapturingGroups?new T(f.toRegExp(),{flags:f.getFlags(),source:f.getSource(),groups:N.namedCapturingGroups}):f.toRegExp()}return b.exec(L)}}},86207:(Be,Me,m)=>{var M=function(){function O(F,T){for(var S=0;S<T.length;S++){var C=T[S];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(F,C.key,C)}}return function(F,T,S){return T&&O(F.prototype,T),S&&O(F,S),F}}();function g(O,F){if(!(O instanceof F))throw new TypeError("Cannot call a class as a function")}var Y=m(35123),B=m(30525),E=m(9958),i=function(){function O(F){var T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;g(this,O),this._ast=F,this._source=null,this._string=null,this._regexp=null,this._extra=T}return M(O,[{key:"getAST",value:function(){return this._ast}},{key:"setExtra",value:function(T){this._extra=T}},{key:"getExtra",value:function(){return this._extra}},{key:"toRegExp",value:function(){return this._regexp||(this._regexp=new RegExp(this.getSource(),this._ast.flags)),this._regexp}},{key:"getSource",value:function(){return this._source||(this._source=Y.generate(this._ast.body)),this._source}},{key:"getFlags",value:function(){return this._ast.flags}},{key:"toString",value:function(){return this._string||(this._string=Y.generate(this._ast)),this._string}}]),O}();Be.exports={TransformResult:i,transform:function(F,T){var S=F;return F instanceof RegExp&&(F=""+F),"string"==typeof F&&(S=B.parse(F,{captureLocations:!0})),E.traverse(S,T),new i(S)}}},63495:Be=>{Be.exports={disjunctionToList:function m(Y){if("Disjunction"!==Y.type)throw new TypeError('Expected "Disjunction" node, got "'+Y.type+'"');var B=[];return Y.left&&"Disjunction"===Y.left.type?B.push.apply(B,function(Y){if(Array.isArray(Y)){for(var B=0,E=Array(Y.length);B<Y.length;B++)E[B]=Y[B];return E}return Array.from(Y)}(m(Y.left)).concat([Y.right])):B.push(Y.left,Y.right),B},listToDisjunction:function(Y){return Y.reduce(function(B,E){return{type:"Disjunction",left:B,right:E}})},increaseQuantifierByOne:function(Y){"*"===Y.kind?Y.kind="+":"+"===Y.kind?(Y.kind="Range",Y.from=2,delete Y.to):"?"===Y.kind?(Y.kind="Range",Y.from=1,Y.to=2):"Range"===Y.kind&&(Y.from+=1,Y.to&&(Y.to+=1))}}},9958:(Be,Me,m)=>{var M=m(93027);function g(Y){var B=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},E=B.pre,i=B.post,O=B.skipProperty;function F(T,S,C,b){if(T&&"string"==typeof T.type){var L=void 0;if(E&&(L=E(T,S,C,b)),!1!==L)for(var f in S&&S[C]&&(T=isNaN(b)?S[C]:S[C][b]),T)if(T.hasOwnProperty(f)){if(O?O(f,T):"$"===f[0])continue;var N=T[f];if(Array.isArray(N)){var z=0;for(M.traversingIndexStack.push(z);z<N.length;)F(N[z],T,f,z),z=M.updateTraversingIndex(1);M.traversingIndexStack.pop()}else F(N,T,f)}i&&i(T,S,C,b)}}F(Y,null)}Be.exports={traverse:function(B,E){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{asNodes:!1};function O(F,T,S,C){var b=M.getForNode(T);return M.getForNode(F,b,S,C)}Array.isArray(E)||(E=[E]),E=E.filter(function(F){return"function"!=typeof F.shouldRun||F.shouldRun(B)}),M.initRegistry(),E.forEach(function(F){"function"==typeof F.init&&F.init(B)}),g(B,{pre:function(T,S,C,b){var L=void 0;i.asNodes||(L=O(T,S,C,b));var f=!0,N=!1,z=void 0;try{for(var I,D=E[Symbol.iterator]();!(f=(I=D.next()).done);f=!0){var Z=I.value;if("function"==typeof Z["*"])if(L){if(!L.isRemoved()&&!1===Z["*"](L))return!1}else Z["*"](T,S,C,b);var k=void 0;if("function"==typeof Z[T.type]?k=Z[T.type]:"object"==typeof Z[T.type]&&"function"==typeof Z[T.type].pre&&(k=Z[T.type].pre),k)if(L){if(!L.isRemoved()&&!1===k.call(Z,L))return!1}else k.call(Z,T,S,C,b)}}catch(j){N=!0,z=j}finally{try{!f&&D.return&&D.return()}finally{if(N)throw z}}},post:function(T,S,C,b){if(T){var L=void 0;i.asNodes||(L=O(T,S,C,b));var f=!0,N=!1,z=void 0;try{for(var I,D=E[Symbol.iterator]();!(f=(I=D.next()).done);f=!0){var Z=I.value,P=void 0;if("object"==typeof Z[T.type]&&"function"==typeof Z[T.type].post&&(P=Z[T.type].post),P)if(L){if(!L.isRemoved()&&!1===P.call(Z,L))return!1}else P.call(Z,T,S,C,b)}}catch($){N=!0,z=$}finally{try{!f&&D.return&&D.return()}finally{if(N)throw z}}}},skipProperty:function(T){return"loc"===T}})}}},93027:Be=>{var Me=function(){function E(i,O){for(var F=0;F<O.length;F++){var T=O[F];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(i,T.key,T)}}return function(i,O,F){return O&&E(i.prototype,O),F&&E(i,F),i}}();function m(E,i){if(!(E instanceof i))throw new TypeError("Cannot call a class as a function")}var M="expressions",g="expression",Y=function(){function E(i){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,F=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,T=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;m(this,E),this.node=i,this.parentPath=O,this.parent=O?O.node:null,this.property=F,this.index=T}return Me(E,[{key:"_enforceProp",value:function(O){if(!this.node.hasOwnProperty(O))throw new Error("Node of type "+this.node.type+" doesn't have \""+O+'" collection.')}},{key:"setChild",value:function(O){var F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,S=void 0;return null!=F?(T||(T=M),this._enforceProp(T),this.node[T][F]=O,S=E.getForNode(O,this,T,F)):(T||(T=g),this._enforceProp(T),this.node[T]=O,S=E.getForNode(O,this,T,null)),S}},{key:"appendChild",value:function(O){var F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;F||(F=M),this._enforceProp(F);var T=this.node[F].length;return this.setChild(O,T,F)}},{key:"insertChildAt",value:function(O,F){var T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:M;this._enforceProp(T),this.node[T].splice(F,0,O),F<=E.getTraversingIndex()&&E.updateTraversingIndex(1),this._rebuildIndex(this.node,T)}},{key:"remove",value:function(){if(!this.isRemoved()&&(E.registry.delete(this.node),this.node=null,this.parent)){if(null!==this.index)return this.parent[this.property].splice(this.index,1),this.index<=E.getTraversingIndex()&&E.updateTraversingIndex(-1),this._rebuildIndex(this.parent,this.property),this.index=null,void(this.property=null);delete this.parent[this.property],this.property=null}}},{key:"_rebuildIndex",value:function(O,F){for(var T=E.getForNode(O),S=0;S<O[F].length;S++)E.getForNode(O[F][S],T,F,S).index=S}},{key:"isRemoved",value:function(){return null===this.node}},{key:"replace",value:function(O){return E.registry.delete(this.node),this.node=O,this.parent?(null!==this.index?this.parent[this.property][this.index]=O:this.parent[this.property]=O,E.getForNode(O,this.parentPath,this.property,this.index)):null}},{key:"update",value:function(O){Object.assign(this.node,O)}},{key:"getParent",value:function(){return this.parentPath}},{key:"getChild",value:function(){var O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.node.expressions?E.getForNode(this.node.expressions[O],this,M,O):this.node.expression&&0==O?E.getForNode(this.node.expression,this,g):null}},{key:"hasEqualSource",value:function(O){return JSON.stringify(this.node,B)===JSON.stringify(O.node,B)}},{key:"jsonEncode",value:function(){var O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},F=O.format,T=O.useLoc;return JSON.stringify(this.node,T?null:B,F)}},{key:"getPreviousSibling",value:function(){return this.parent&&null!=this.index?E.getForNode(this.parent[this.property][this.index-1],E.getForNode(this.parent),this.property,this.index-1):null}},{key:"getNextSibling",value:function(){return this.parent&&null!=this.index?E.getForNode(this.parent[this.property][this.index+1],E.getForNode(this.parent),this.property,this.index+1):null}}],[{key:"getForNode",value:function(O){var F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,S=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;if(!O)return null;E.registry.has(O)||E.registry.set(O,new E(O,F,T,-1==S?null:S));var C=E.registry.get(O);return null!==F&&(C.parentPath=F,C.parent=C.parentPath.node),null!==T&&(C.property=T),S>=0&&(C.index=S),C}},{key:"initRegistry",value:function(){E.registry||(E.registry=new Map),E.registry.clear()}},{key:"updateTraversingIndex",value:function(O){return E.traversingIndexStack[E.traversingIndexStack.length-1]+=O}},{key:"getTraversingIndex",value:function(){return E.traversingIndexStack[E.traversingIndexStack.length-1]}}]),E}();function B(E,i){if("loc"!==E)return i}Y.initRegistry(),Y.traversingIndexStack=[],Be.exports=Y},42082:Be=>{Be.exports=function Me(m){if(null===m||"object"!=typeof m)return m;var M=void 0;for(var g in M=Array.isArray(m)?[]:{},m)M[g]=Me(m[g]);return M}},34038:(Be,Me,m)=>{Be.exports=m(17512)},85692:(Be,Me,m)=>{m.d(Me,{l:()=>S});var M=m(5711),g=m(69301),Y=m(4998),B=m(63303),E=m(35634),i=m(53542),O=m(62879),F=m(83668),T=m(57219);let S=(()=>{class C extends((0,O.j)(i.A)){constructor(L,f){super(),this.overlay=L,this.viewContainerRef=f,this.overlayRef=null,this.closeMenu=()=>{this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)},this.openMenu=(N,z)=>{this.closeMenu(),this.overlayRef=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo({x:N,y:z}).withPositions([{originX:"end",originY:"bottom",overlayX:"start",overlayY:"top"}])}),this.overlayRef.attach(new M.UE(this.menuTemplate,this.viewContainerRef,{data:this.data})),(0,g.T)(this.overlayRef.backdropClick(),this.overlayRef.outsidePointerEvents(),(0,Y.R)(this.overlayRef.overlayElement,"click")).pipe((0,B.q)(1),(0,E.R)(this.destroyed$)).subscribe(this.closeMenu)},this.toggleMenu=(N,z)=>{this.overlayRef?this.closeMenu():this.openMenu(N,z)}}contextmenuListener(L){L.preventDefault(),L.stopPropagation(),this.openMenu(L.x,L.y)}ngOnDestroy(){super.ngOnDestroy(),this.closeMenu()}}return C.\u0275fac=function(L){return new(L||C)(F.Y36(T.aV),F.Y36(F.s_b))},C.\u0275dir=F.lG2({type:C,selectors:[["","appContextMenu",""]],hostBindings:function(L,f){1&L&&F.NdJ("contextmenu",function(z){return f.contextmenuListener(z)})},inputs:{menuTemplate:["appContextMenu","menuTemplate"],data:["appContextMenuData","data"]},exportAs:["appContextMenu"],features:[F.qOj]}),C})()},95909:(Be,Me,m)=>{m.r(Me),m.d(Me,{DefaultLayoutModule:()=>_I});var M=m(1869),g=m(15304),Y=m(53050),B=m(28167),E=m(10138),i=m(83668);let O=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({imports:[[g.Is,Y.To,B.lN,E.c,M.I]]}),a})();var F=m(80888),T=m(76769);let S=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({providers:[],imports:[[M.I,F.QW,E.c,T.c]]}),a})();var C=m(41172),b=m(83530),L=m(16400);let f=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({imports:[[g.Is,B.lN,E.c,L.LD,M.I]]}),a})(),N=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({providers:[],imports:[[M.I,b.Tx,f]]}),a})();var z=m(42663);let D=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({providers:[],imports:[[M.I,F.QW,E.c,z.ie]]}),a})();var I=m(67348),Z=m(44191);let P=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({providers:[],imports:[[I.vV,g.Is,Z.nm,M.I,C.m]]}),a})();var k=m(6731),$=m(47497),j=m(80348),G=m(45351),oe=m(49133),de=m(39555);const fe=["input"],pe=function(a){return{enterDuration:a}},we=["*"],ge=new i.OlP("mat-radio-default-options",{providedIn:"root",factory:function(){return{color:"accent"}}});let q=0;const le={provide:oe.JU,useExisting:(0,i.Gpc)(()=>ce),multi:!0};class ee{constructor(t,e){this.source=t,this.value=e}}const X=new i.OlP("MatRadioGroup");let re=(()=>{class a{constructor(e){this._changeDetector=e,this._value=null,this._name="mat-radio-group-"+q++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new i.vpe}get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition="before"===e?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=(0,j.Ig)(e),this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=(0,j.Ig)(e),this._markRadiosForCheck()}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(n=>{n.checked=this.value===n.value,n.checked&&(this._selected=n)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new ee(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}}return a.\u0275fac=function(e){return new(e||a)(i.Y36(i.sBO))},a.\u0275dir=i.lG2({type:a,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),a})(),ce=(()=>{class a extends re{}return a.\u0275fac=function(){let t;return function(n){return(t||(t=i.n5z(a)))(n||a)}}(),a.\u0275dir=i.lG2({type:a,selectors:[["mat-radio-group"]],contentQueries:function(e,n,o){if(1&e&&i.Suo(o,Ue,5),2&e){let s;i.iGM(s=i.CRH())&&(n._radios=s)}},hostAttrs:["role","radiogroup",1,"mat-radio-group"],exportAs:["matRadioGroup"],features:[i._Bn([le,{provide:X,useExisting:a}]),i.qOj]}),a})();class ve{constructor(t){this._elementRef=t}}const ke=(0,k.Kr)((0,k.sb)(ve));let Ve=(()=>{class a extends ke{constructor(e,n,o,s,d,p,V,H){super(n),this._changeDetector=o,this._focusMonitor=s,this._radioDispatcher=d,this._providerOverride=V,this._uniqueId="mat-radio-"+ ++q,this.id=this._uniqueId,this.change=new i.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=e,this._noopAnimations="NoopAnimations"===p,H&&(this.tabIndex=(0,j.su)(H,0)),this._removeUniqueSelectionListener=d.listen((U,ne)=>{U!==this.id&&ne===this.name&&(this.checked=!1)})}get checked(){return this._checked}set checked(e){const n=(0,j.Ig)(e);this._checked!==n&&(this._checked=n,n&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!n&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),n&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(e){this._setDisabled((0,j.Ig)(e))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=(0,j.Ig)(e)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(e){this._color=e}get inputId(){return`${this.id||this._uniqueId}-input`}focus(e,n){n?this._focusMonitor.focusVia(this._inputElement,n,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new ee(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(e){e.stopPropagation()}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){const n=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),n&&this.radioGroup._emitChangeEvent())}}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}}return a.\u0275fac=function(e){i.$Z()},a.\u0275dir=i.lG2({type:a,viewQuery:function(e,n){if(1&e&&i.Gf(fe,5),2&e){let o;i.iGM(o=i.CRH())&&(n._inputElement=o.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[i.qOj]}),a})(),Ue=(()=>{class a extends Ve{constructor(e,n,o,s,d,p,V,H){super(e,n,o,s,d,p,V,H)}}return a.\u0275fac=function(e){return new(e||a)(i.Y36(X,8),i.Y36(i.SBq),i.Y36(i.sBO),i.Y36($.tE),i.Y36(G.A8),i.Y36(de.Qb,8),i.Y36(ge,8),i.$8M("tabindex"))},a.\u0275cmp=i.Xpm({type:a,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(e,n){1&e&&i.NdJ("focus",function(){return n._inputElement.nativeElement.focus()}),2&e&&(i.uIk("tabindex",null)("id",n.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),i.ekj("mat-radio-checked",n.checked)("mat-radio-disabled",n.disabled)("_mat-animation-noopable",n._noopAnimations)("mat-primary","primary"===n.color)("mat-accent","accent"===n.color)("mat-warn","warn"===n.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[i.qOj],ngContentSelectors:we,decls:13,vars:20,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input","cdk-visually-hidden",3,"id","checked","disabled","tabIndex","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(e,n){if(1&e&&(i.F$t(),i.TgZ(0,"label",0,1),i.TgZ(2,"span",2),i._UZ(3,"span",3),i._UZ(4,"span",4),i.TgZ(5,"input",5,6),i.NdJ("change",function(s){return n._onInputInteraction(s)})("click",function(s){return n._onInputClick(s)}),i.qZA(),i.TgZ(7,"span",7),i._UZ(8,"span",8),i.qZA(),i.qZA(),i.TgZ(9,"span",9),i.TgZ(10,"span",10),i._uU(11,"\xa0"),i.qZA(),i.Hsn(12),i.qZA(),i.qZA()),2&e){const o=i.MAs(1);i.uIk("for",n.inputId),i.xp6(5),i.Q6J("id",n.inputId)("checked",n.checked)("disabled",n.disabled)("tabIndex",n.tabIndex)("required",n.required),i.uIk("name",n.name)("value",n.value)("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledby)("aria-describedby",n.ariaDescribedby),i.xp6(2),i.Q6J("matRippleTrigger",o)("matRippleDisabled",n._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",i.VKq(18,pe,n._noopAnimations?0:150)),i.xp6(2),i.ekj("mat-radio-label-before","before"==n.labelPosition)}},directives:[k.wG],styles:[".mat-radio-button{display:inline-block;-webkit-tap-highlight-color:transparent;outline:0}.mat-radio-label{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;opacity:0;transition:transform ease 280ms,background-color ease 280ms,opacity linear 1ms 280ms;width:20px;transform:scale(0.001);-webkit-print-color-adjust:exact;color-adjust:exact}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5);opacity:1;transition:transform ease 280ms,background-color ease 280ms}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-label-content{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none;top:0;left:0}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{bottom:0;left:50%}.cdk-high-contrast-active .mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-ripple,.cdk-high-contrast-active .mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-ripple{outline:solid 3px}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}\n"],encapsulation:2,changeDetection:0}),a})(),ue=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({imports:[[k.si,k.BQ],k.BQ]}),a})(),_e=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({imports:[[I.vV,g.Is,B.lN,E.c,b.Tx,ue,M.I,f]]}),a})();var Re=m(31818),et=m(61855),Ze=m(69814),Pe=m(52324),rt=m(40452),ut=m(82429),nt=m(98771),Se=m(35634),Ne=m(7060),at=m(41510),_t=m(72007),zt=m(59449);const pn={leading:!0,trailing:!1};class fn{constructor(t,e,n,o){this.duration=t,this.scheduler=e,this.leading=n,this.trailing=o}call(t,e){return e.subscribe(new Ye(t,this.duration,this.scheduler,this.leading,this.trailing))}}class Ye extends _t.L{constructor(t,e,n,o,s){super(t),this.duration=e,this.scheduler=n,this.leading=o,this.trailing=s,this._hasTrailingValue=!1,this._trailingValue=null}_next(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Dt,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)}}function Dt(a){const{subscriber:t}=a;t.clearThrottle()}var St=m(63303),un=m(62879),Ln=m(53542),sn=m(1653),hn=m(80032),_n=m(83664),cn=m(84475),At=m(60468),Ei=m(42328),Yt=m(95332),He=m(5711),$e=m(41152),qt=m(44496),mn=m(37810),ni=m(69301),fi=m(4998),wi=m(24778),Bi=m(74314),yi=m(23653);function yt(...a){return t=>{let e;return"function"==typeof a[a.length-1]&&(e=a.pop()),t.lift(new Lt(a,e))}}class Lt{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new en(t,this.observables,this.project))}}class en extends Bi.L{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const o=e.length;this.values=new Array(o);for(let s=0;s<o;s++)this.toRespond.push(s);for(let s=0;s<o;s++)this.add((0,yi.D)(this,e[s],void 0,s))}notifyNext(t,e,n){this.values[n]=e;const o=this.toRespond;if(o.length>0){const s=o.indexOf(n);-1!==s&&o.splice(s,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var Vn=m(30366),Ht=m(24305),Ae=m(35956),Xe=m(28681),dt=m(57219),Mt=m(5441),Vt=m(43334),jt=m(67254),rn=m(83912);let wn=(()=>{class a extends Error{constructor(e){super(`Branch '${e}' is not tracking a remote branch.`),this.branchName=e,this.type=a.Type}}return a.Type="NoUpstreamBranchError",a.matches=t=>t.type===a.Type,a})(),vn=(()=>{class a extends Error{constructor(e){super(`Branch '${e}' already exists.`),this.branchName=e,this.type=a.Type}}return a.Type="BranchAlreadyExistsError",a.matches=t=>t.type===a.Type,a})(),yn=(()=>{class a extends Error{constructor(){super(...arguments),this.type=a.Type}}return a.Type="ReferenceExistsError",a.matches=t=>t.type===a.Type,a})(),Sn=(()=>{class a extends Error{constructor(){super(...arguments),this.type=a.Type}}return a.Type="InvalidReferenceError",a.matches=t=>t.type===a.Type,a})(),xn=(()=>{class a{constructor(){this.colorsByCommitId=new mn.X({}),this.commitDetailsByCommitId=new mn.X({})}getColors(){return this.colorsByCommitId.asObservable()}setColors(e){this.colorsByCommitId.next(e)}getCommits(){return this.commitDetailsByCommitId.asObservable()}setCommits(e){this.commitDetailsByCommitId.next(e)}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var Kt=m(86019),En=m(59112),Mn=m(90086),Hn=m(51552);function Jn(a,t){1&a&&(i.ynx(0),i._uU(1,"Loading..."),i.BQk())}function mi(a,t){1&a&&(i.TgZ(0,"div",5),i.TgZ(1,"mat-icon",6),i._uU(2,"warning"),i.qZA(),i._uU(3," There are changes to the working copy that will be lost. "),i.qZA())}function Li(a,t){if(1&a&&(i.TgZ(0,"li",9),i._uU(1),i.qZA()),2&a){const e=t.$implicit;i.Q6J("title",e.id),i.xp6(1),i.AsE(" ",e.message," - ",e.id," ")}}function Nn(a,t){if(1&a&&(i.TgZ(0,"div",5),i.TgZ(1,"mat-icon",6),i._uU(2,"warning"),i.qZA(),i._uU(3," The following commits will no longer be reachable by any branch or tag and may be lost: "),i.TgZ(4,"ul",7),i.YNc(5,Li,2,3,"li",8),i.ALo(6,"async"),i.qZA(),i.qZA()),2&a){const e=i.oxw(2);i.xp6(5),i.Q6J("ngForOf",i.lcZ(6,1,e.atRiskCommits))}}function Ni(a,t){if(1&a&&(i.ynx(0),i.YNc(1,mi,4,0,"div",4),i.ALo(2,"async"),i.YNc(3,Nn,7,3,"div",4),i.ALo(4,"nullEmpty"),i.ALo(5,"async"),i.BQk()),2&a){const e=i.oxw();i.xp6(1),i.Q6J("ngIf",i.lcZ(2,2,e.workingCopyAtRisk)),i.xp6(2),i.Q6J("ngIf",i.lcZ(4,4,i.lcZ(5,6,e.atRiskCommits)))}}function ai(a,t){1&a&&(i.TgZ(0,"button",10),i._uU(1,"Cancel"),i.qZA()),2&a&&i.Q6J("mat-dialog-close",void 0)}function pi(a,t){1&a&&(i.TgZ(0,"button",11),i._uU(1,"Confirm"),i.qZA()),2&a&&i.Q6J("mat-dialog-close",!0)}let kn=(()=>{class a extends((0,un.j)(Ln.A)){constructor(e,n,o){super(),this.data=e,this.dialogRef=n,this.graphSharedService=o,this.loading=!0,this.atRiskCommits=new mn.X([]),this.workingCopyAtRisk=new mn.X(!1)}ngOnInit(){this.graphSharedService.getCommits().pipe((0,Se.R)(this.destroyed$)).subscribe(e=>{const n=this.data.branchName.startsWith("refs/heads/")?this.data.branchName:`refs/heads/${this.data.branchName}`,o={...e},s=Object.values(e).filter(H=>H.commit.references.length>0&&H.commit.references.some(U=>U!==n)).map(H=>H.id);o.head&&delete o.head;const d=this.data.toCommitId?[...s,this.data.toCommitId]:s;let p=0;for(;p<d.length;){const H=d[p],U=o[H];U&&(delete o[H],d.push(...U.commit.parentIds)),p++}const V=Object.values(o).map(H=>H.commit);this.atRiskCommits.next(V),this.loading&&0===V.length&&!this.workingCopyAtRisk.value?setTimeout(()=>this.dialogRef.close(!0),0):this.loading=!1})}}return a.\u0275fac=function(e){return new(e||a)(i.Y36(g.WI),i.Y36(g.so),i.Y36(xn))},a.\u0275cmp=i.Xpm({type:a,selectors:[["ng-component"]],features:[i.qOj],decls:8,vars:5,consts:[["mat-dialog-title",""],[4,"ngIf"],["type","button","mat-button","",3,"mat-dialog-close",4,"ngIf"],["type","button","mat-button","","color","warn",3,"mat-dialog-close",4,"ngIf"],["class","text-block",4,"ngIf"],[1,"text-block"],[1,"warning-icon"],[1,"commit-list"],[3,"title",4,"ngFor","ngForOf"],[3,"title"],["type","button","mat-button","",3,"mat-dialog-close"],["type","button","mat-button","","color","warn",3,"mat-dialog-close"]],template:function(e,n){1&e&&(i.TgZ(0,"h2",0),i._uU(1),i.qZA(),i.TgZ(2,"mat-dialog-content"),i.YNc(3,Jn,2,0,"ng-container",1),i.YNc(4,Ni,6,8,"ng-container",1),i.qZA(),i.TgZ(5,"mat-dialog-actions"),i.YNc(6,ai,2,1,"button",2),i.YNc(7,pi,2,1,"button",3),i.qZA()),2&e&&(i.xp6(1),i.Oqu(n.data.title),i.xp6(2),i.Q6J("ngIf",n.loading),i.xp6(1),i.Q6J("ngIf",!n.loading),i.xp6(2),i.Q6J("ngIf",!n.loading),i.xp6(1),i.Q6J("ngIf",!n.loading))},directives:[g.uh,g.xY,Kt.O5,g.H8,En.Hw,Kt.sg,Mn.lW,g.ZT],pipes:[Kt.Ov,Hn.x],styles:[".text-block[_ngcontent-%COMP%]{margin-bottom:10px}",".warning-icon[_ngcontent-%COMP%]{margin-right:5px}",".commit-list[_ngcontent-%COMP%]{list-style:inside;padding-left:20px;margin-top:10px;overflow-x:hidden}",".commit-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{height:26px;line-height:26px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;font-size:16px}"],changeDetection:0}),a})();var _i=m(20373);let Ti=(()=>{class a{constructor(e){this.data=e,this.form=new qt.CN({name:new qt.rV(null,_i.Y$.required)})}}return a.\u0275fac=function(e){return new(e||a)(i.Y36(g.WI))},a.\u0275cmp=i.Xpm({type:a,selectors:[["ng-component"]],decls:13,vars:5,consts:[["mat-dialog-title",""],[3,"formGroup"],["type","text","matInput","","required","","formControlName","name"],["mat-button","",3,"mat-dialog-close"],["mat-flat-button","","type","submit","color","primary",3,"mat-dialog-close","disabled"]],template:function(e,n){1&e&&(i.TgZ(0,"h2",0),i._uU(1),i.qZA(),i.TgZ(2,"form",1),i.TgZ(3,"mat-dialog-content"),i.TgZ(4,"mat-form-field"),i.TgZ(5,"mat-label"),i._uU(6,"Name"),i.qZA(),i._UZ(7,"input",2),i.qZA(),i.qZA(),i.TgZ(8,"mat-dialog-actions"),i.TgZ(9,"button",3),i._uU(10,"Cancel"),i.qZA(),i.TgZ(11,"button",4),i._uU(12,"Save"),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(1),i.hij("Create ",n.data.title,""),i.xp6(1),i.Q6J("formGroup",n.form.ng),i.xp6(7),i.Q6J("mat-dialog-close",void 0),i.xp6(2),i.Q6J("mat-dialog-close",n.form.value)("disabled",n.form.invalid))},directives:[g.uh,oe._Y,oe.JL,oe.sg,g.xY,B.KE,B.hX,E.Nt,oe.Fj,oe.Q7,oe.JJ,oe.u,g.H8,Mn.lW,g.ZT],styles:["mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}"],changeDetection:0}),a})(),bi=(()=>{class a{constructor(e){this.data=e,this.form=new qt.CN({name:new qt.rV(this.data.name,_i.Y$.required)})}}return a.\u0275fac=function(e){return new(e||a)(i.Y36(g.WI))},a.\u0275cmp=i.Xpm({type:a,selectors:[["ng-component"]],decls:13,vars:5,consts:[["mat-dialog-title",""],[3,"formGroup"],["type","text","matInput","","required","","formControlName","name"],["mat-button","",3,"mat-dialog-close"],["mat-flat-button","","type","submit","color","primary",3,"mat-dialog-close","disabled"]],template:function(e,n){1&e&&(i.TgZ(0,"h2",0),i._uU(1),i.qZA(),i.TgZ(2,"form",1),i.TgZ(3,"mat-dialog-content"),i.TgZ(4,"mat-form-field"),i.TgZ(5,"mat-label"),i._uU(6,"Name"),i.qZA(),i._UZ(7,"input",2),i.qZA(),i.qZA(),i.TgZ(8,"mat-dialog-actions"),i.TgZ(9,"button",3),i._uU(10,"Cancel"),i.qZA(),i.TgZ(11,"button",4),i._uU(12,"Save"),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(1),i.hij("Rename ",n.data.title,""),i.xp6(1),i.Q6J("formGroup",n.form.ng),i.xp6(7),i.Q6J("mat-dialog-close",void 0),i.xp6(2),i.Q6J("mat-dialog-close",n.form.value.name)("disabled",n.form.invalid))},directives:[g.uh,oe._Y,oe.JL,oe.sg,g.xY,B.KE,B.hX,E.Nt,oe.Fj,oe.Q7,oe.JJ,oe.u,g.H8,Mn.lW,g.ZT],styles:["mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}"],changeDetection:0}),a})();var Yi=m(31387),zn=m(37791);let Ii=(()=>{class a{constructor(e,n,o,s,d){this.dialog=e,this.store=n,this.commitsApi=o,this.repositoriesApi=s,this.submodulesApi=d,this.fetchFromRemote=(p,V)=>this.repositoriesApi.fetchAll(p,V).pipe((0,Ne.w)(()=>this.store.dispatch(new _n.Vu(p))),(0,jt.K)(H=>rn.Ay.matches(H)||rn.T0.matches(H)?this.store.dispatch(new Ae.NN("error",H.message)).pipe((0,Ne.w)(()=>this.refreshAndThrow(p,H))):this.refreshAndThrow(p,H))),this.push=(p,V,H,U,ne=!1)=>(V?this.repositoriesApi.push(p,H,V,U,ne):this.repositoriesApi.pushToAllRemotes(p,H,U,ne)).pipe((0,Ne.w)(()=>this.store.dispatch(new _n.Vu(p))),(0,jt.K)(be=>rn.Ay.matches(be)||rn.a9.matches(be)||rn.T0.matches(be)?this.store.dispatch(new Ae.NN("error",be.message)).pipe((0,Ne.w)(()=>this.refreshAndThrow(p,be))):this.refreshAndThrow(p,be))),this.pull=(p,V,H,U)=>(V?this.repositoriesApi.fetch(p,V,H):this.repositoriesApi.fetchAll(p,H)).pipe((0,Ne.w)(()=>this.commitsApi.getBranchUpstreamCommitId(p,`refs/heads/${U}`)),(0,Ne.w)(ne=>{if(ne)return this.updateBranch(p,`refs/heads/${U}`,ne);throw new wn(U)}),(0,jt.K)(ne=>rn.Ay.matches(ne)||rn.Nu.matches(ne)||wn.matches(ne)||rn.T0.matches(ne)?this.store.dispatch(new Ae.NN("error",ne.message)).pipe((0,Ne.w)(()=>this.refreshAndThrow(p,ne))):this.refreshAndThrow(p,ne))),this.checkoutBranch=(p,V)=>this.repositoriesApi.checkoutBranch(p,V).pipe((0,Ne.w)(()=>this.store.dispatch(new _n.Vu(p))),(0,jt.K)(H=>rn.Nu.matches(H)?this.store.dispatch(new Ae.NN("error",H.message)).pipe((0,Ne.w)(()=>this.refreshAndThrow(p,H))):this.refreshAndThrow(p,H))),this.createBranch=(p,V,H=!0)=>this.dialog.open(Ti,{data:{title:"Branch"}}).afterClosed().pipe((0,Ne.w)(ne=>ne?this.repositoriesApi.createBranch(p,V,ne.name).pipe((0,Ne.w)(()=>H?this.repositoriesApi.checkoutBranch(p,ne.name):Mt.E),(0,jt.K)(be=>vn.matches(be)?this.store.dispatch(new Ae.NN("error",be.message)).pipe((0,Ne.w)(()=>this.refreshAndThrow(p,be))):rn.Nu.matches(be)?this.store.dispatch(new _n.Vu(p)):Sn.matches(be)?this.store.dispatch(new Ae.NN("error",be.message)).pipe((0,Ne.w)(()=>this.refreshAndThrow(p,be))):this.refreshAndThrow(p,be)),(0,Ne.w)(()=>this.store.dispatch(new _n.Vu(p)))):Mt.E)),this.createBranchWithDetails=(p,V,H,U=null,ne=!0)=>this.repositoriesApi.createBranch(p,V,H).pipe((0,Ne.w)(()=>ne?this.repositoriesApi.checkoutBranch(p,H):Mt.E),(0,jt.K)(be=>vn.matches(be)?this.store.dispatch(new Ae.NN("error",be.message)).pipe((0,Ne.w)(()=>this.refreshAndThrow(p,be))):rn.Nu.matches(be)?this.store.dispatch(new _n.Vu(p)):Sn.matches(be)?this.store.dispatch(new Ae.NN("error",be.message)).pipe((0,Ne.w)(()=>this.refreshAndThrow(p,be))):this.refreshAndThrow(p,be)),(0,Ne.w)(()=>U?this.repositoriesApi.setUpstreamBranch(p,H,U):Mt.E),(0,Ne.w)(()=>this.store.dispatch(new _n.Vu(p)))),this.createTag=(p,V,H="")=>this.dialog.open(Ti,{data:{title:"Tag"}}).afterClosed().pipe((0,Ne.w)(ne=>ne?this.repositoriesApi.createTag(p,V,ne.name,H).pipe((0,Ne.w)(()=>this.store.dispatch(new _n.Vu(p))),(0,jt.K)(be=>Sn.matches(be)?this.store.dispatch(new Ae.NN("error",be.message)).pipe((0,Ne.w)(()=>this.refreshAndThrow(p,be))):this.refreshAndThrow(p,be))):Mt.E)),this.renameBranch=(p,V)=>this.dialog.open(bi,{data:{title:"Branch",name:V}}).afterClosed().pipe((0,Ne.w)(U=>U?this.repositoriesApi.renameBranch(p,V,`refs/heads/${U}`).pipe((0,Ne.w)(()=>this.store.dispatch(new _n.Vu(p))),(0,jt.K)(ne=>vn.matches(ne)||Sn.matches(ne)?this.store.dispatch(new Ae.NN("error",ne.message)).pipe((0,Ne.w)(()=>this.refreshAndThrow(p,ne))):this.refreshAndThrow(p,ne))):Mt.E)),this.deleteBranch=(p,V)=>this.dialog.open(kn,{data:{title:"Delete Branch",branchName:V,toCommitId:null}}).afterClosed().pipe((0,Ne.w)(U=>U?this.repositoriesApi.deleteBranch(p,V).pipe((0,Ne.w)(()=>this.store.dispatch(new _n.Vu(p))),(0,jt.K)(ne=>this.refreshAndThrow(p,ne))):Mt.E)),this.deleteTag=(p,V)=>this.repositoriesApi.deleteTag(p,V).pipe((0,Ne.w)(()=>this.store.dispatch(new _n.Vu(p))),(0,jt.K)(H=>this.refreshAndThrow(p,H))),this.createMerge=(p,V,H,U)=>{const ne=this.store.selectSnapshot(Ei.$.selectedProfile);return this.repositoriesApi.createMerge(p,H,U,ne?.name??null,ne?.email??null,`merge: ${V??H} into ${U}`).pipe((0,Ne.w)(be=>this.store.dispatch([new _n.Vu(p),"string"==typeof be?new _n.jQ(p,be):new At.hb(p,be.fromCommitId,be.toCommitId)])),(0,jt.K)(be=>rn.Nu.matches(be)?this.store.dispatch(new Ae.NN("error",be.message)).pipe((0,Ne.w)(()=>this.refreshAndThrow(p,be))):this.refreshAndThrow(p,be)))},this.commitMerge=(p,V,H,U,ne)=>{const be=this.store.selectSnapshot(Ei.$.selectedProfile);return this.repositoriesApi.commitMerge(p,V,H,ne,be?.name??null,be?.email??null,U).pipe((0,Ne.w)(Ee=>this.store.dispatch([new _n.Vu(p),new _n.jQ(p,Ee)])),(0,jt.K)(Ee=>rn.Nu.matches(Ee)?this.store.dispatch(new Ae.NN("error",Ee.message)).pipe((0,Ne.w)(()=>this.refreshAndThrow(p,Ee))):this.refreshAndThrow(p,Ee)))},this.updateBranch=(p,V,H)=>this.dialog.open(kn,{data:{title:"Move Branch",branchName:V,toCommitId:H}}).afterClosed().pipe((0,Ne.w)(ne=>ne?this.repositoriesApi.updateBranch(p,V,H).pipe((0,Ne.w)(()=>this.store.dispatch(new _n.Vu(p))),(0,jt.K)(be=>rn.Nu.matches(be)?this.store.dispatch(new Ae.NN("error",be.message)).pipe((0,Ne.w)(()=>this.refreshAndThrow(p,be))):this.refreshAndThrow(p,be))):Mt.E)),this.setUpstreamBranch=(p,V,H)=>this.repositoriesApi.setUpstreamBranch(p,V,H).pipe((0,Ne.w)(()=>this.store.dispatch(new _n.Vu(p))),(0,jt.K)(U=>this.refreshAndThrow(p,U))),this.startEdit=(p,V)=>this.commitsApi.startCommitEditing(p,V).pipe((0,jt.K)(H=>rn.Ao.matches(H)?this.store.dispatch(new Ae.NN("error",`Tried to edit too many commits. ${H.message}`)).pipe((0,Ne.w)(()=>(0,Vt._)(H))):yn.matches(H)?this.store.dispatch(new Ae.NN("error",H.message)).pipe((0,Ne.w)(()=>(0,Vt._)(H))):(0,Vt._)(H))),this.discardEdit=p=>this.commitsApi.discardCommitEditing(p),this.revertCommit=(p,V)=>{const H=this.store.selectSnapshot(Ei.$.selectedProfile);return this.commitsApi.revertCommit(p,V,H?.name??null,H?.email??null).pipe((0,Ne.w)(U=>{const ne=[new _n.Vu(p)];return U&&ne.push(new _n.jQ(p,U)),this.store.dispatch(ne)}),(0,jt.K)(U=>this.refreshAndThrow(p,U)))},this.addSubmodule=(p,V,H,U)=>this.submodulesApi.addSubmodule(p,V,H,U).pipe((0,Ne.w)(ne=>this.store.dispatch(new _n.Vu(p)).pipe((0,nt.U)(()=>ne)))),this.editSubmodule=(p,V,H)=>this.submodulesApi.editSubmodule(p,V,H).pipe((0,Ne.w)(U=>this.store.dispatch(new _n.Vu(p)).pipe((0,nt.U)(()=>U))),(0,jt.K)(U=>rn.vV.matches(U)?this.store.dispatch(new Ae.NN("error",U.message)).pipe((0,Ne.w)(()=>this.refreshAndThrow(p,U))):(0,Vt._)(U))),this.refreshAndThrow=(p,V)=>this.store.dispatch(new _n.Vu(p)).pipe((0,Ne.w)(()=>(0,Vt._)(V)))}}return a.\u0275fac=function(e){return new(e||a)(i.LFG(g.uw),i.LFG(Pe.yh),i.LFG(Yt.T),i.LFG(Yi.a),i.LFG(zn.N))},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac,providedIn:f}),(0,et.gn)([(0,Pe.Ph)(Ei.$.selectedProfile)],a.prototype,"selectedProfile",void 0),a})(),so=(()=>{class a extends i.SBq{constructor(e){super(e.nativeElement)}}return a.\u0275fac=function(e){return new(e||a)(i.Y36(i.SBq))},a.\u0275dir=i.lG2({type:a,selectors:[["","appElementRef",""]],exportAs:["appElementRef"],features:[i.qOj]}),a})();var ei=m(88784);function go(a,t){if(1&a&&(i.TgZ(0,"mat-radio-button",34),i._uU(1),i.qZA()),2&a){const e=t.$implicit;i.Q6J("value",e.name),i.xp6(1),i.Oqu(e.name)}}function Di(a,t){if(1&a&&(i.TgZ(0,"div",32),i.TgZ(1,"mat-radio-group",33),i.TgZ(2,"mat-radio-button",34),i._uU(3,"All remotes"),i.qZA(),i.YNc(4,go,2,2,"mat-radio-button",35),i.qZA(),i.qZA()),2&a){const e=i.oxw(2).ngIf,n=i.oxw();i.xp6(1),i.Q6J("formControl",n.selectedRemoteControl.ng),i.xp6(1),i.Q6J("value",null),i.xp6(2),i.Q6J("ngForOf",e)}}function Mo(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"button",26),i.NdJ("click",function(){const s=i.CHM(e).$implicit;return i.oxw(3).pushBranch(s)}),i._uU(1),i.qZA()}if(2&a){const e=t.$implicit,n=i.oxw(3);i.xp6(1),i.hij("Push ",n.getBranchName(e.name),"")}}function bo(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"div",23),i.YNc(1,Di,5,3,"div",24),i.TgZ(2,"div",25),i.TgZ(3,"button",26),i.NdJ("click",function(){return i.CHM(e),i.oxw(2).pushEverything()}),i.TgZ(4,"mat-icon"),i._uU(5,"public"),i.qZA(),i._uU(6,"Push everything"),i.qZA(),i.TgZ(7,"button",26),i.NdJ("click",function(){return i.CHM(e),i.oxw(2).pushAllBranches()}),i._UZ(8,"mat-icon",27),i._uU(9,"Push all branches"),i.qZA(),i.TgZ(10,"button",26),i.NdJ("click",function(){return i.CHM(e),i.oxw(2).pushAllTags()}),i.TgZ(11,"mat-icon"),i._uU(12,"label"),i.qZA(),i._uU(13,"Push all tags"),i.qZA(),i.TgZ(14,"button",28,29),i.NdJ("click",function(o){i.CHM(e);const s=i.MAs(15);i.oxw();const d=i.MAs(30);return i.oxw().openSubMenu(o,s,d)}),i.TgZ(16,"mat-icon"),i._uU(17,"warning_amber"),i.qZA(),i.TgZ(18,"span"),i._uU(19,"Force push"),i.qZA(),i.TgZ(20,"mat-icon",30),i._uU(21,"chevron_right"),i.qZA(),i.qZA(),i.YNc(22,Mo,2,1,"button",31),i.ALo(23,"async"),i.qZA(),i.qZA()}if(2&a){const e=i.oxw().ngIf,n=i.oxw();i.xp6(1),i.Q6J("ngIf",e.length>0),i.xp6(21),i.Q6J("ngForOf",i.lcZ(23,2,n.pushableBranches))}}function vo(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"button",26),i.NdJ("click",function(){const s=i.CHM(e).$implicit;return i.oxw(3).pushBranch(s,!0)}),i._uU(1),i.qZA()}if(2&a){const e=t.$implicit,n=i.oxw(3);i.xp6(1),i.Oqu(n.getBranchName(e.name))}}function Ro(a,t){if(1&a&&(i.TgZ(0,"div",36),i.YNc(1,vo,2,1,"button",31),i.ALo(2,"async"),i.qZA()),2&a){const e=i.oxw(2);i.xp6(1),i.Q6J("ngForOf",i.lcZ(2,1,e.pushableBranches))}}function zs(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"div",4),i.TgZ(1,"button",5),i.NdJ("click",function(){return i.CHM(e),i.oxw().fetchFromRemote()}),i.ALo(2,"async"),i.ALo(3,"plural"),i.TgZ(4,"mat-icon",6),i._uU(5,"autorenew"),i.qZA(),i.qZA(),i.TgZ(6,"button",5),i.NdJ("click",function(){return i.CHM(e),i.oxw().pullFromRemote()}),i.ALo(7,"async"),i.ALo(8,"async"),i.ALo(9,"async"),i.ALo(10,"async"),i.ALo(11,"async"),i.ALo(12,"async"),i.TgZ(13,"mat-icon",7),i._uU(14,"arrow_downward"),i.qZA(),i.qZA(),i.TgZ(15,"div",8),i.TgZ(16,"button",9),i.NdJ("click",function(){return i.CHM(e),i.oxw().pushCurrentBranch()}),i.ALo(17,"async"),i.ALo(18,"async"),i.ALo(19,"async"),i.TgZ(20,"mat-icon",10),i._uU(21,"arrow_upward"),i.qZA(),i.qZA(),i.TgZ(22,"button",11,12),i.NdJ("click",function(o){i.CHM(e);const s=i.MAs(23),d=i.MAs(28);return i.oxw().openMenu(o,s,d)}),i.ALo(24,"async"),i.TgZ(25,"mat-icon"),i._uU(26,"keyboard_arrow_down"),i.qZA(),i.qZA(),i.qZA(),i.YNc(27,bo,24,4,"ng-template",null,13,i.W1O),i.YNc(29,Ro,3,3,"ng-template",null,14,i.W1O),i.TgZ(31,"button",15),i.NdJ("click",function(){return i.CHM(e),i.oxw().openTagDialog()}),i.ALo(32,"async"),i.ALo(33,"async"),i.TgZ(34,"mat-icon",16),i._uU(35,"label"),i.qZA(),i.qZA(),i.TgZ(36,"button",15),i.NdJ("click",function(){return i.CHM(e),i.oxw().createBranch()}),i.ALo(37,"async"),i.ALo(38,"async"),i._UZ(39,"mat-icon",17),i.qZA(),i.TgZ(40,"button",15),i.NdJ("click",function(){return i.CHM(e),i.oxw().editCommits()}),i.ALo(41,"async"),i.ALo(42,"async"),i.TgZ(43,"mat-icon",18),i._uU(44,"create"),i.qZA(),i.qZA(),i.TgZ(45,"button",19),i.NdJ("click",function(){return i.CHM(e),i.oxw().openSearch()}),i.TgZ(46,"mat-icon",20),i._uU(47,"search"),i.qZA(),i.qZA(),i.TgZ(48,"button",21),i.NdJ("click",function(){return i.CHM(e),i.oxw().openSettings()}),i.TgZ(49,"mat-icon",22),i._uU(50,"miscellaneous_services"),i.qZA(),i.qZA(),i.qZA()}if(2&a){const e=t.ngIf,n=i.oxw();i.xp6(1),i.Q6J("disabled",e.length<=0||i.lcZ(2,13,n.isLoading))("title",e.length<=0?"Cannot fetch when no remote is configured":i.xi3(3,15,"Fetch from remote",e.length)),i.xp6(5),i.Q6J("disabled",e.length<=0||i.lcZ(7,18,n.isLoading)||null===i.lcZ(8,20,n.currentUpstreamBranch))("title",e.length<=0?"Cannot pull when no remote is configured":null===i.lcZ(9,22,n.currentUpstreamBranch)?"Cannot pull when no upstream branch is configured for "+n.getBranchName(i.lcZ(10,24,n.currentBranch)):"Pull branch "+(n.getBranchName(i.lcZ(11,26,n.currentBranch))||"?")+" from "+n.getRemoteBranchName(i.lcZ(12,28,n.currentUpstreamBranch))),i.xp6(10),i.Q6J("disabled",e.length<=0||i.lcZ(17,30,n.isLoading))("title",e.length<=0?"Cannot push when no remote is configured":"Push "+(n.getBranchName(i.lcZ(18,32,n.currentBranch))||"?")+" to "+i.lcZ(19,34,n.selectedRemoteName)),i.xp6(6),i.Q6J("disabled",e.length<=0||i.lcZ(24,36,n.isLoading)),i.xp6(9),i.Q6J("title",i.lcZ(32,38,n.hideCreateButtons)?"Cannot create tag when no commit is selected":"Create Tag")("disabled",i.lcZ(33,40,n.hideCreateButtons)),i.xp6(5),i.Q6J("title",i.lcZ(37,42,n.hideCreateButtons)?"Cannot create branch when no commit is selected":"Create Branch")("disabled",i.lcZ(38,44,n.hideCreateButtons)),i.xp6(4),i.Q6J("title",i.lcZ(41,46,n.hideCreateButtons)?"Cannot edit commits when no commit is selected":"Rewrite the commit history from this point onwards")("disabled",i.lcZ(42,48,n.hideCreateButtons))}}let No=(()=>{class a extends((0,un.j)(Ln.A)){constructor(e,n,o,s,d){super(),this.router=e,this.overlay=n,this.viewContainerRef=o,this.store=s,this.repositoryActionsService=d,this.menuOverlayRef=new mn.X(null),this.subMenuOverlayRef=new mn.X(null),this.hideCreateButtons=this.store.select(cn.E.selectedCommitId).pipe((0,nt.U)(p=>!p||"head"===p)),this.selectedRemoteControl=new qt.rV,this.selectedRemoteName=this.selectedRemote.pipe((0,nt.U)(p=>p??"all remotes"),(0,at.d)(1)),this.isLoading=new mn.X(!1),this.getBranchName=p=>p?.replace(/^refs\/heads\//,""),this.getRemoteBranchName=p=>p?.replace(/^refs\/remotes\//,""),this.openMenu=(p,V,H)=>{p.preventDefault(),p.stopPropagation(),this.closeMenu();const U=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo(V).withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"}])});this.menuOverlayRef.next(U),U.attach(new He.UE(H,this.viewContainerRef)),(0,ni.T)(U.backdropClick(),U.outsidePointerEvents()).pipe((0,St.q)(1),(0,Se.R)(this.destroyed$)).subscribe(()=>this.closeMenu())},this.closeMenu=()=>{this.menuOverlayRef.value&&(this.menuOverlayRef.value.dispose(),this.menuOverlayRef.next(null))},this.openSubMenu=(p,V,H)=>{p.preventDefault(),p.stopPropagation(),this.closeSubMenu();const U=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo(V).withPositions([{originX:"end",originY:"top",overlayX:"start",overlayY:"top"}])});this.subMenuOverlayRef.next(U),U.attach(new He.UE(H,this.viewContainerRef)),(0,ni.T)(U.backdropClick(),U.outsidePointerEvents(),(0,fi.R)(U.overlayElement,"click")).pipe((0,St.q)(1),(0,Se.R)(this.destroyed$)).subscribe(()=>this.closeSubMenu())},this.closeSubMenu=()=>{this.subMenuOverlayRef.value&&(this.subMenuOverlayRef.value.dispose(),this.subMenuOverlayRef.next(null))},this.toggleBranches=()=>{this.defaultLayoutSizes.pipe((0,St.q)(1)).subscribe(p=>{this.store.dispatch(new Xe.ct("default-layout",["0"===p[0]||"0px"===p[0]||"0%"===p[0]?hn.q:"0px",...p.slice(1)]))})},this.fetchFromRemote=()=>{this.store.selectOnce(cn.E.selectedRepositoryPath).pipe(yt(this.selectedRepositoryCredentials),(0,Ne.w)(([p,V])=>{if(!p)throw new Error("Cannot fetch when no repository is selected.");return this.isLoading.next(!0),this.repositoryActionsService.fetchFromRemote(p,V)}),(0,Vn.x)(()=>{this.isLoading.next(!1)}),(0,Se.R)(this.destroyed$)).subscribe()},this.pullFromRemote=()=>{const p=this.store.selectSnapshot(cn.E.selectedRepositoryPath);if(!p)throw new Error("Cannot pull when no repository is selected.");const V=this.store.selectSnapshot(cn.E.selectedRepositoryCredentials),H=this.store.selectSnapshot(cn.E.selectedRepositoryCurrentBranch);if(!H)throw new Error("Cannot pull when no branch is checked out.");const U=this.selectedRemoteControl.value;if(!U)throw this.store.dispatch(new Ae.NN("error","Cannot pull from all remotes.")),new Error("Cannot pull from all remotes.");this.isLoading.next(!0),this.repositoryActionsService.pull(p,U,V,H.replace(/^refs\/heads\//,"")).pipe((0,Vn.x)(()=>{this.isLoading.next(!1)})).subscribe()},this.pushBranch=(p,V=!1)=>{this.push([p.name],V).subscribe(),this.closeMenu()},this.pushCurrentBranch=()=>{this.currentBranch.pipe((0,St.q)(1)).subscribe(p=>{if(p){const V=this.selectedRemoteControl.value,H=this.store.selectSnapshot(cn.E.selectedRepositoryCurrentBranchUpstreamBranch);this.push([p]).pipe((0,Ht.b)(()=>{if(!H&&V){const U=this.store.selectSnapshot(cn.E.selectedRepositoryPath);if(!U)throw new Error("Cannot set upstream branch when no repository is selected.");const ne=p.replace(/^refs\/heads\//,"");this.repositoryActionsService.setUpstreamBranch(U,ne,`${V}/${ne}`).subscribe()}})).subscribe()}else this.store.dispatch(new Ae.NN("error","Cannot push current branch when not on a branch"))}),this.closeMenu()},this.pushEverything=(p=!1)=>{(0,rt.aj)([this.pushableBranches,this.tags]).pipe((0,St.q)(1)).subscribe(([V,H])=>{const U=[...V,...H??[]];0===U.length&&this.store.dispatch(new Ae.NN("warn","There are no branches or tags to push")),this.push(U.map(ne=>ne.name),p).subscribe(),this.closeMenu()})},this.pushAllBranches=(p=!1)=>{this.pushableBranches.pipe((0,St.q)(1)).subscribe(V=>{0===V.length&&this.store.dispatch(new Ae.NN("warn","There are no branches to push")),this.push(V.map(H=>H.name),p).subscribe(),this.closeMenu()})},this.pushAllTags=(p=!1)=>{this.tags.pipe((0,St.q)(1)).subscribe(V=>{V||this.store.dispatch(new Ae.NN("warn","There are no tags to push")),this.push((V??[]).map(H=>H.name),p).subscribe(),this.closeMenu()})},this.push=(p,V=!1)=>this.store.selectOnce(cn.E.selectedRepositoryPath).pipe(yt(this.selectedRepositoryCredentials),(0,Ne.w)(([H,U])=>{if(!H)throw new Error("Cannot push when no repository is selected.");return this.isLoading.next(!0),this.repositoryActionsService.push(H,this.selectedRemoteControl.value,U,p,V)}),(0,Vn.x)(()=>{this.isLoading.next(!1)}),(0,Se.R)(this.destroyed$)),this.openTagDialog=()=>{const p=this.store.selectSnapshot(cn.E.selectedRepositoryPath),V=this.store.selectSnapshot(cn.E.selectedCommitId);if(!p)throw new Error("Cannot create tag when no repository is selected.");if(!V)throw new Error("Cannot create tag when no commit is selected.");this.repositoryActionsService.createTag(p,V).subscribe()},this.createBranch=()=>{(0,wi.D)([this.store.selectOnce(cn.E.selectedRepositoryPath),this.store.selectOnce(cn.E.selectedCommitId)]).pipe((0,Ne.w)(([p,V])=>{if(!p)throw new Error("Cannot create branch when no repository is selected.");if(!V)throw new Error("Cannot create branch when no commit is selected.");return this.repositoryActionsService.createBranch(p,V)})).subscribe()},this.createMerge=()=>{},this.editCommits=()=>{(0,wi.D)([this.store.selectOnce(cn.E.selectedRepositoryPath),this.store.selectOnce(cn.E.selectedCommitId)]).pipe((0,Ne.w)(([p,V])=>{if(!p)throw new Error("Cannot edit commits when no repository is selected.");if(!V)throw new Error("Cannot edit commits when no commit is selected.");return this.repositoryActionsService.startEdit(p,V).pipe((0,Ne.w)(()=>this.router.navigate(["/standard/rebase"])))})).subscribe()},this.openSearch=()=>{this.router.navigate(["/standard/search"])},this.openSettings=()=>{this.store.selectOnce(cn.E.selectedRepositoryPath).subscribe(p=>{this.router.navigate(["/settings/repositories"],{queryParams:{id:p}})})}}ngOnInit(){this.selectedRemote.pipe((0,Se.R)(this.destroyed$)).subscribe(e=>{this.selectedRemoteControl.setValue(e,{emitEvent:!1})}),this.branchesVisible=this.defaultLayoutSizes.pipe((0,nt.U)(e=>"0"!==e[0]&&"0px"!==e[0]&&"0%"!==e[0])),this.selectedRemoteControl.valueChanges.pipe(yt(this.store.select(cn.E.selectedRepositoryPath)),(0,Se.R)(this.destroyed$)).subscribe(([e,n])=>{if(!n)throw new Error("Cannot change default remote when no repository is selected.");this.store.dispatch(new _n.J2(n,e))}),this.pushableBranches=(0,rt.aj)([this.localBranches,this.remoteBranches,this.selectedRemote]).pipe((0,nt.U)(([e,n,o])=>{const s=o?(n??[]).filter(p=>p.name.startsWith(`refs/remotes/${o}/`)):n,d=(0,$e.Z)(s,p=>p.name.replace(/^refs\/remotes\/[^\/]*\//,""));return(e??[]).filter(p=>{const V=/^refs\/heads\/(.*)$/.exec(p.name)?.[1];return V&&(!d[V]||d[V].some(H=>H.target!==p.target))})}),(0,at.d)(1))}}return a.\u0275fac=function(e){return new(e||a)(i.Y36(Re.F0),i.Y36(dt.aV),i.Y36(i.s_b),i.Y36(Pe.yh),i.Y36(Ii))},a.\u0275cmp=i.Xpm({type:a,selectors:[["app-repository-action-view"]],features:[i.qOj],decls:8,vars:9,consts:[[1,"items","items-left"],["type","button","mat-stroked-button","",1,"item",3,"title","click"],[1,"branches-icon"],["class","items",4,"ngIf"],[1,"items"],["type","button","mat-stroked-button","",1,"item",3,"disabled","title","click"],[1,"fetch-icon"],[1,"pull-icon"],[1,"split-button","item"],["type","button","mat-stroked-button","",3,"disabled","title","click"],[1,"push-icon"],["type","button","mat-stroked-button","","appElementRef","",3,"disabled","click"],["pushMenuBtn","appElementRef"],["pushMenu",""],["forcePushMenu",""],["mat-stroked-button","",1,"item",3,"title","disabled","click"],[1,"tag-icon"],["svgIcon","source-branch",1,"branch-icon"],[1,"edit-icon"],["mat-stroked-button","","title","Search",1,"item",3,"click"],[1,"search-icon"],["mat-stroked-button","","title","Repository Settings",1,"item",3,"click"],[1,"settings-icon"],[1,"push-menu"],["class","remotes",4,"ngIf"],[1,"branches"],[1,"menu-item",3,"click"],["svgIcon","source-branch"],["title","Warning: this can cause commits on the remote to become lost","appElementRef","",1,"menu-item","warn",3,"click"],["forcePushMenuBtn","appElementRef"],[1,"expand-icon"],["class","menu-item",3,"click",4,"ngFor","ngForOf"],[1,"remotes"],[3,"formControl"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["title","Warning: this can cause commits on the remote to become lost",1,"force-push-menu"]],template:function(e,n){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"button",1),i.NdJ("click",function(){return n.toggleBranches()}),i.ALo(2,"async"),i.TgZ(3,"mat-icon",2),i._uU(4),i.ALo(5,"async"),i.qZA(),i.qZA(),i.qZA(),i.YNc(6,zs,51,50,"div",3),i.ALo(7,"async")),2&e&&(i.xp6(1),i.Q6J("title",i.lcZ(2,3,n.branchesVisible)?"Hide branches":"Show branches"),i.xp6(3),i.Oqu(i.lcZ(5,5,n.branchesVisible)?"unfold_less":"unfold_more"),i.xp6(2),i.Q6J("ngIf",i.lcZ(7,7,n.remotes)))},directives:[Mn.lW,En.Hw,Kt.O5,so,Kt.sg,ce,oe.JJ,oe.oH,Ue],pipes:[Kt.Ov,ei.r],styles:["[_nghost-%COMP%]{position:relative;display:block}.items-left[_ngcontent-%COMP%]{position:absolute;left:0;top:0;padding:0 10px}.items[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%}.item[_ngcontent-%COMP%]{cursor:pointer;font-size:0;margin-right:5px;min-width:45px;padding:0 10px}.item[_ngcontent-%COMP%]:last-child{margin-right:0}.branches-icon[_ngcontent-%COMP%]{transform:rotate(90deg)}.split-button[_ngcontent-%COMP%]{padding:0}.split-button[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{border-radius:0;font-size:0}.split-button[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:first-child{border-top-left-radius:4px;border-bottom-left-radius:4px}.split-button[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:last-child{border-top-right-radius:4px;border-bottom-right-radius:4px;padding:0 2px;min-width:10px}.split-button[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:not(:last-child){border-right:none;margin-right:0;min-width:45px;padding:0 10px}.push-menu[_ngcontent-%COMP%]{background:#424242;border-radius:4px;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;max-height:calc(100vh - 48px);max-width:25vw;min-height:48px;min-width:112px;overflow-x:hidden;overflow-y:auto;display:flex;max-width:400px}.push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;cursor:pointer;display:flex;font-family:Montserrat;font-size:14px;height:48px;line-height:48px;max-width:100%;outline:none;overflow:hidden;padding:0 16px;user-select:none;text-align:left;text-overflow:ellipsis;width:100%;white-space:nowrap}.push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:first-child{border-radius:4px 4px 0 0}.push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:last-child{border-radius:0 0 4px 4px}.push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover{background:#565656}.push-menu[_ngcontent-%COMP%]   .menu-item[disabled][_ngcontent-%COMP%]{pointer-events:none;color:#ffffff4d}.push-menu[_ngcontent-%COMP%]   .menu-item.bold[_ngcontent-%COMP%]{font-weight:bold}.push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin:12px 16px 12px 0;vertical-align:middle;flex:0 0 auto}.push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon.expand-icon[_ngcontent-%COMP%]{margin-left:auto;margin-right:0}.push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.push-menu.sub-menu-1[_ngcontent-%COMP%]{background:#4a4a4a}.push-menu[_ngcontent-%COMP%]   .branches[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto;overflow-x:hidden}.push-menu[_ngcontent-%COMP%]   .branches[_ngcontent-%COMP%]   .warn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:not(.expand-icon){color:#f44336;margin-right:10px}.push-menu[_ngcontent-%COMP%]   .remotes[_ngcontent-%COMP%]{padding:15px}.push-menu[_ngcontent-%COMP%]   .remotes[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.push-menu[_ngcontent-%COMP%]   .remotes[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]   mat-radio-button[_ngcontent-%COMP%]{margin-bottom:10px}.force-push-menu[_ngcontent-%COMP%]{background:#424242;border-radius:4px;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;max-height:calc(100vh - 48px);max-width:25vw;min-height:48px;min-width:112px;overflow-x:hidden;overflow-y:auto}.force-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;cursor:pointer;display:flex;font-family:Montserrat;font-size:14px;height:48px;line-height:48px;max-width:100%;outline:none;overflow:hidden;padding:0 16px;user-select:none;text-align:left;text-overflow:ellipsis;width:100%;white-space:nowrap}.force-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:first-child{border-radius:4px 4px 0 0}.force-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:last-child{border-radius:0 0 4px 4px}.force-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover{background:#565656}.force-push-menu[_ngcontent-%COMP%]   .menu-item[disabled][_ngcontent-%COMP%]{pointer-events:none;color:#ffffff4d}.force-push-menu[_ngcontent-%COMP%]   .menu-item.bold[_ngcontent-%COMP%]{font-weight:bold}.force-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin:12px 16px 12px 0;vertical-align:middle;flex:0 0 auto}.force-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon.expand-icon[_ngcontent-%COMP%]{margin-left:auto;margin-right:0}.force-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.force-push-menu.sub-menu-1[_ngcontent-%COMP%]{background:#4a4a4a}"],changeDetection:0}),(0,et.gn)([(0,Pe.Ph)(cn.E.selectedRepositoryCredentials)],a.prototype,"selectedRepositoryCredentials",void 0),(0,et.gn)([(0,Pe.Ph)(cn.E.selectedRemotes)],a.prototype,"remotes",void 0),(0,et.gn)([(0,Pe.Ph)(cn.E.selectedRemote)],a.prototype,"selectedRemote",void 0),(0,et.gn)([(0,Pe.Ph)(cn.E.selectedRepositoryLocalBranches)],a.prototype,"localBranches",void 0),(0,et.gn)([(0,Pe.Ph)(cn.E.selectedRepositoryRemoteBranches)],a.prototype,"remoteBranches",void 0),(0,et.gn)([(0,Pe.Ph)(cn.E.selectedRepositoryTags)],a.prototype,"tags",void 0),(0,et.gn)([(0,Pe.Ph)(cn.E.selectedRepositoryCurrentBranch)],a.prototype,"currentBranch",void 0),(0,et.gn)([(0,Pe.Ph)(cn.E.selectedRepositoryCurrentBranchUpstreamBranch)],a.prototype,"currentUpstreamBranch",void 0),(0,et.gn)([(0,Pe.Ph)(Ei.$.gridSizes("default-layout"))],a.prototype,"defaultLayoutSizes",void 0),a})();var ys=m(6939),ks=m(33116),Do=m(60173),Ss=m(748),ms=m(7765);const Fo=function(a,t,e,n){return null==a?[]:((0,ms.Z)(t)||(t=null==t?[]:[t]),(0,ms.Z)(e=n?void 0:e)||(e=null==e?[]:[e]),(0,Ss.Z)(a,t,e))};var ao=m(27807),dr=m(65944),Lr=m(10688),uo=m(50439),Io=m(54140),Us=m(46656),Zr=m(21934),js=m(73967),ps=m(66196),Eo=m(13358),xs=m(16702),er=m(85339);function ya(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"mat-icon",9),i.NdJ("contextmenu",function(o){const d=i.CHM(e).$implicit,p=i.oxw().$implicit;return i.oxw(2).contextMenuClicked(o,p,d)})("dblclick",function(o){const d=i.CHM(e).$implicit,p=i.oxw().$implicit;return i.oxw(2).dblClicked(o,p,d)}),i._uU(1),i.qZA()}if(2&a){const e=t.$implicit;i.Q6J("title",e.name),i.xp6(1),i.Oqu(e.icon)}}function zi(a,t){1&a&&(i.TgZ(0,"span",10),i.TgZ(1,"mat-icon"),i._uU(2,"expand_more"),i.qZA(),i.qZA())}function So(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"li",4),i.NdJ("contextmenu",function(o){const d=i.CHM(e).$implicit;return i.oxw(2).contextMenuClicked(o,d)})("dblclick",function(o){const d=i.CHM(e).$implicit;return i.oxw(2).dblClicked(o,d)}),i.TgZ(1,"span",5),i.YNc(2,ya,2,2,"mat-icon",6),i.qZA(),i.TgZ(3,"span",7),i.ALo(4,"async"),i._uU(5),i.qZA(),i.YNc(6,zi,3,0,"span",8),i.qZA()}if(2&a){const e=t.$implicit,n=t.first,o=i.oxw(2);i.Q6J("ngClass","color-"+o.color),i.xp6(1),i.Q6J("ngClass","color-"+o.color),i.xp6(1),i.Q6J("ngForOf",e.sources)("ngForTrackBy",o.trackBranchSource),i.xp6(1),i.ekj("current",o.branchMatches(i.lcZ(4,9,o.currentBranch),e)),i.Q6J("title",e.name),i.xp6(2),i.Oqu(e.name),i.xp6(1),i.Q6J("ngIf",n&&(o.branches.length>1||o.branches[0].sources.length>2))}}function Ts(a,t){if(1&a&&(i.TgZ(0,"ul",2),i.YNc(1,So,7,11,"li",3),i.qZA()),2&a){const e=i.oxw();i.xp6(1),i.Q6J("ngForOf",e.branches)("ngForTrackBy",e.trackBranch)}}function tr(a,t){if(1&a&&(i.TgZ(0,"mat-icon"),i._uU(1),i.qZA()),2&a){const e=t.$implicit;i.xp6(1),i.Oqu(e.icon)}}function bl(a,t){1&a&&(i.TgZ(0,"span",10),i.TgZ(1,"mat-icon"),i._uU(2,"expand_more"),i.qZA(),i.qZA())}function wt(a,t){if(1&a&&(i.TgZ(0,"div",11),i.TgZ(1,"span",12),i.YNc(2,tr,2,1,"mat-icon",13),i.qZA(),i.TgZ(3,"span",14),i._uU(4),i.qZA(),i.YNc(5,bl,3,0,"span",8),i.qZA()),2&a){const e=t.ngIf,n=i.oxw();i.xp6(2),i.Q6J("ngForOf",e.sources)("ngForTrackBy",n.trackBranchSource),i.xp6(2),i.Oqu(e.name),i.xp6(1),i.Q6J("ngIf",n.branches.length>1||n.branches[0].sources.length>2)}}let R=(()=>{class a{constructor(e,n,o){this.cdr=e,this.store=n,this.repositoryActionsService=o,this.contextMenu=new i.vpe,this.branchMatches=(s,d)=>d.sources.some(p=>"local"===p.type)&&`refs/heads/${d.name}`===s,this.contextMenuClicked=(s,d,p)=>{this.contextMenu.next({event:s,branch:d,source:p})},this.dblClicked=(s,d,p)=>{s.preventDefault(),s.stopPropagation();const V=this.store.selectSnapshot(cn.E.selectedRepositoryPath);if(V)if("local"===p?.type||!p&&d.sources.some(H=>"local"===H.type))this.repositoryActionsService.checkoutBranch(V,`refs/heads/${d.name}`).subscribe();else if("remote"===p?.type||!p&&d.sources.some(H=>"remote"===H.type)){const H=p?.name??d.sources.find(be=>"remote"===be.type)?.name;if(this.store.selectSnapshot(cn.E.selectedRepositoryLocalBranches)?.find(be=>be.name===`refs/heads/${d.name}`))this.repositoryActionsService.checkoutBranch(V,`refs/heads/${d.name}`).subscribe();else{const Ee=this.store.selectSnapshot(cn.E.selectedRepositoryRemoteBranches)?.find(Ke=>Ke.name===`refs/remotes/${H}/${d.name}`);Ee&&this.repositoryActionsService.createBranchWithDetails(V,Ee.target,d.name,`${H}/${d.name}`,!0).subscribe()}}},this.trackBranch=(s,d)=>d.name+d.sources.reduce((p,V,H)=>`${p},${this.trackBranchSource(H,V)}`,""),this.trackBranchSource=(s,d)=>`${d.type}:${d.name}`}ngOnChanges(e){!e.branches||!e.branches.currentValue||this.cdr.detectChanges()}}return a.\u0275fac=function(e){return new(e||a)(i.Y36(i.sBO),i.Y36(Pe.yh),i.Y36(Ii))},a.\u0275cmp=i.Xpm({type:a,selectors:[["app-branches"]],inputs:{branches:"branches",color:"color"},outputs:{contextMenu:"contextMenu"},features:[i.TTD],decls:3,vars:4,consts:[["class","branches",4,"ngIf"],["class","spacer branch",4,"ngIf"],[1,"branches"],["class","branch",3,"ngClass","contextmenu","dblclick",4,"ngFor","ngForOf","ngForTrackBy"],[1,"branch",3,"ngClass","contextmenu","dblclick"],[1,"icons",3,"ngClass"],[3,"title","contextmenu","dblclick",4,"ngFor","ngForOf","ngForTrackBy"],[1,"name",3,"title"],["class","expandable",4,"ngIf"],[3,"title","contextmenu","dblclick"],[1,"expandable"],[1,"spacer","branch"],[1,"icons"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"name"]],template:function(e,n){1&e&&(i.YNc(0,Ts,2,2,"ul",0),i.ALo(1,"nullEmpty"),i.YNc(2,wt,6,4,"div",1)),2&e&&(i.Q6J("ngIf",i.lcZ(1,2,n.branches)),i.xp6(2),i.Q6J("ngIf",n.branches.length>0&&n.branches[0]))},directives:[Kt.O5,Kt.sg,Kt.mk,En.Hw],pipes:[Hn.x,Kt.Ov],styles:["[_nghost-%COMP%]{display:block;position:relative}.branches[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:auto;max-width:250px;border:1px solid #616161;border-radius:6px;background:#3c3c3c}.branches[_ngcontent-%COMP%]:hover{width:fit-content;max-width:max-content;z-index:100}.branches[_ngcontent-%COMP%]:hover   .branch[_ngcontent-%COMP%]{display:flex}.branches[_ngcontent-%COMP%]:hover   .branch[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{max-width:none;border-radius:0}.branches[_ngcontent-%COMP%]:hover   .branch[_ngcontent-%COMP%]:first-child   .icons[_ngcontent-%COMP%]{border-top-left-radius:6px}.branches[_ngcontent-%COMP%]:hover   .branch[_ngcontent-%COMP%]:last-child   .icons[_ngcontent-%COMP%]{border-bottom-left-radius:6px}.branches[_ngcontent-%COMP%]:hover   .branch[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%]{visibility:hidden}.branch[_ngcontent-%COMP%]{display:none;height:24px;line-height:24px}.branch[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-right:5px}.branch[_ngcontent-%COMP%]   .name.current[_ngcontent-%COMP%]{font-weight:600}.branch[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{max-width:67px;flex-shrink:0;overflow:hidden;padding:0 5px;border-radius:6px 0 0 6px;margin-right:5px}.branch[_ngcontent-%COMP%]   .icons.color-0[_ngcontent-%COMP%]{background:#4363d8}.branch[_ngcontent-%COMP%]   .icons.color-1[_ngcontent-%COMP%]{background:#469990}.branch[_ngcontent-%COMP%]   .icons.color-2[_ngcontent-%COMP%]{background:#fabed4}.branch[_ngcontent-%COMP%]   .icons.color-3[_ngcontent-%COMP%]{background:#e6194B}.branch[_ngcontent-%COMP%]   .icons.color-4[_ngcontent-%COMP%]{background:#42d4f4}.branch[_ngcontent-%COMP%]   .icons.color-5[_ngcontent-%COMP%]{background:#f58231}.branch[_ngcontent-%COMP%]   .icons.color-6[_ngcontent-%COMP%]{background:#ffe119}.branch[_ngcontent-%COMP%]   .icons.color-7[_ngcontent-%COMP%]{background:#3cb44b}.branch[_ngcontent-%COMP%]   .icons.color-8[_ngcontent-%COMP%]{background:#f032e6}.branch[_ngcontent-%COMP%]   .icons.color-9[_ngcontent-%COMP%]{background:#ffffff}.branch[_ngcontent-%COMP%]   .icons.color-10[_ngcontent-%COMP%]{background:#800000}.branch[_ngcontent-%COMP%]   .icons.color-11[_ngcontent-%COMP%]{background:#9A6324}.branch[_ngcontent-%COMP%]   .icons.color-12[_ngcontent-%COMP%]{background:#fffac8}.branch[_ngcontent-%COMP%]   .icons.color-13[_ngcontent-%COMP%]{background:#aaffc3}.branch[_ngcontent-%COMP%]   .icons.color-14[_ngcontent-%COMP%]{background:#dcbeff}.branch[_ngcontent-%COMP%]   .icons.color-0[_ngcontent-%COMP%]{color:#eee}.branch[_ngcontent-%COMP%]   .icons.color-1[_ngcontent-%COMP%]{color:#1e1e1e}.branch[_ngcontent-%COMP%]   .icons.color-2[_ngcontent-%COMP%]{color:#1e1e1e}.branch[_ngcontent-%COMP%]   .icons.color-3[_ngcontent-%COMP%]{color:#eee}.branch[_ngcontent-%COMP%]   .icons.color-4[_ngcontent-%COMP%]{color:#1e1e1e}.branch[_ngcontent-%COMP%]   .icons.color-5[_ngcontent-%COMP%]{color:#1e1e1e}.branch[_ngcontent-%COMP%]   .icons.color-6[_ngcontent-%COMP%]{color:#1e1e1e}.branch[_ngcontent-%COMP%]   .icons.color-7[_ngcontent-%COMP%]{color:#1e1e1e}.branch[_ngcontent-%COMP%]   .icons.color-8[_ngcontent-%COMP%]{color:#eee}.branch[_ngcontent-%COMP%]   .icons.color-9[_ngcontent-%COMP%]{color:#1e1e1e}.branch[_ngcontent-%COMP%]   .icons.color-10[_ngcontent-%COMP%]{color:#eee}.branch[_ngcontent-%COMP%]   .icons.color-11[_ngcontent-%COMP%]{color:#eee}.branch[_ngcontent-%COMP%]   .icons.color-12[_ngcontent-%COMP%]{color:#1e1e1e}.branch[_ngcontent-%COMP%]   .icons.color-13[_ngcontent-%COMP%]{color:#1e1e1e}.branch[_ngcontent-%COMP%]   .icons.color-14[_ngcontent-%COMP%]{color:#1e1e1e}.branch[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:5px;padding-left:1px;width:26px}.branch[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:first-child{margin-left:0}.branch[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%]{margin-right:5px}.branch[_ngcontent-%COMP%]:first-child{display:flex}.branch.spacer[_ngcontent-%COMP%]{display:flex;user-select:none;max-width:250px;visibility:hidden}"],changeDetection:0}),(0,et.gn)([(0,Pe.Ph)(cn.E.selectedRepositoryCurrentBranch)],a.prototype,"currentBranch",void 0),a})();const h=["graphSvg"],x=["graphWrapper"],W=["floatingDates"],te=["contextMenu"];function ae(a,t){if(1&a&&(i.O4$(),i._UZ(0,"rect",17)),2&a){const e=t.ngIf,n=i.oxw();i.uIk("y",n.getYCoord(e.yIndex)-n.yOffset)("height",n.yUnit)}}function Ce(a,t){if(1&a&&(i.O4$(),i.TgZ(0,"g",18),i._UZ(1,"path",19),i.qZA()),2&a){const e=t.$implicit,n=i.oxw();i.xp6(1),i.ekj("dashed",e.isDashed),i.Q6J("ngClass","color-"+n.getTrailColorIndex(e.from.trail)),i.uIk("d",e.path)}}function Oe(a,t){if(1&a&&(i.O4$(),i.TgZ(0,"g",20),i._UZ(1,"path",19),i.qZA()),2&a){const e=t.$implicit,n=i.oxw();i.xp6(1),i.ekj("dashed",e.isDashed),i.Q6J("ngClass","color-"+n.getTrailColorIndex(e)),i.uIk("d",n.drawTrail(e))}}function Fe(a,t){if(1&a&&(i.O4$(),i.TgZ(0,"g"),i._UZ(1,"circle",21),i.qZA()),2&a){const e=t.$implicit,n=i.oxw();i.xp6(1),i.ekj("dashed","head"===e.id||e.id.startsWith("merge:")),i.Q6J("ngClass","color-"+n.getTrailColorIndex(e.trail)),i.uIk("cx",n.getXCoord(e.trail.lane.xIndex))("cy",n.getYCoord(e.yIndex))}}function Ge(a,t){if(1&a&&(i._UZ(0,"app-avatar",29),i.ALo(1,"async")),2&a){const e=i.oxw().$implicit,n=i.oxw();i.Q6J("title",e.commit.authorName+" ("+e.commit.authorEmail+")")("remotes",i.lcZ(1,3,n.remotes))("email",e.commit.authorEmail)}}function Je(a,t){1&a&&(i.TgZ(0,"mat-icon",30),i._uU(1,"unpublished"),i.qZA())}function it(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"span",31),i.TgZ(1,"app-branches",32),i.NdJ("contextMenu",function(o){i.CHM(e);const s=i.oxw().$implicit;return i.oxw().openContextMenu(o.event,s,o.branch,o.source)}),i.qZA(),i.qZA()}if(2&a){const e=t.ngIf,n=i.oxw().$implicit,o=i.oxw();i.xp6(1),i.Q6J("branches",e)("color",o.getTrailColorIndex(n.trail))}}function ht(a,t){if(1&a&&(i.TgZ(0,"span",33),i._uU(1),i.qZA()),2&a){const e=i.oxw().$implicit,n=i.oxw();i.xp6(1),i.hij(" ",n.getCommitSummary(e)," ")}}function gt(a,t){if(1&a&&(i.TgZ(0,"span",34),i._uU(1," You have "),i.TgZ(2,"strong"),i._uU(3),i.ALo(4,"async"),i.qZA(),i._uU(5),i.ALo(6,"plural"),i.ALo(7,"async"),i.qZA()),2&a){const e=i.oxw(2);i.xp6(3),i.Oqu(i.lcZ(4,2,e.uncommittedChangesCount)),i.xp6(2),i.hij(" ",i.xi3(6,4,"change",i.lcZ(7,7,e.uncommittedChangesCount))," in your working copy ")}}function Et(a,t){if(1&a&&(i.TgZ(0,"span",35),i._uU(1),i.qZA()),2&a){const e=i.oxw().$implicit,n=i.oxw();i.xp6(1),i.hij(" ",n.getCommitSummary(e)," ")}}function Ft(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"li",22),i.NdJ("click",function(){const s=i.CHM(e).$implicit;return i.oxw().changeCommit.next(s.id)})("dblclick",function(){const s=i.CHM(e).$implicit;return i.oxw().commitDblClicked(s)})("contextmenu",function(o){const d=i.CHM(e).$implicit;return i.oxw().openContextMenu(o,d)}),i.ALo(1,"async"),i.YNc(2,Ge,2,5,"app-avatar",23),i.YNc(3,Je,2,0,"mat-icon",24),i.YNc(4,it,2,2,"span",25),i.ALo(5,"nullEmpty"),i.ALo(6,"async"),i.YNc(7,ht,2,1,"span",26),i.YNc(8,gt,8,9,"span",27),i.YNc(9,Et,2,1,"span",28),i.qZA()}if(2&a){const e=t.$implicit,n=i.oxw();i.ekj("selected",e.id===i.lcZ(1,8,n.selectedCommitDetailId)),i.xp6(2),i.Q6J("ngIf","head"!==e.id&&!e.id.startsWith("merge:")),i.xp6(1),i.Q6J("ngIf","head"===e.id||e.id.startsWith("merge:")),i.xp6(1),i.Q6J("ngIf",i.lcZ(5,10,i.lcZ(6,12,n.getBranches(e)))),i.xp6(3),i.Q6J("ngIf","head"!==e.id&&!e.id.startsWith("merge:")),i.xp6(1),i.Q6J("ngIf","head"===e.id),i.xp6(1),i.Q6J("ngIf",e.id.startsWith("merge:"))}}function Zt(a,t){if(1&a&&(i.TgZ(0,"div",36),i.ALo(1,"async"),i.ALo(2,"async"),i._uU(3),i.ALo(4,"date"),i.qZA()),2&a){const e=t.ngIf,n=i.oxw();i.ekj("scrolled-to-top",i.lcZ(1,5,n.scrolledToTop))("selected",i.lcZ(2,7,n.topCommitSelected)),i.xp6(3),i.hij(" ",i.xi3(4,9,e,"d MMM yyyy")," ")}}function Tn(a,t){if(1&a&&(i.TgZ(0,"li"),i.ALo(1,"async"),i._uU(2),i.ALo(3,"date"),i.qZA()),2&a){const e=t.$implicit,n=i.oxw();i.Udp("top",e[0]*n.yUnit,"px"),i.ekj("selected",e[1].id===i.lcZ(1,5,n.selectedCommitDetailId)),i.xp6(2),i.Oqu(i.xi3(3,7,e[1].time,"MMM yyyy"))}}function Xn(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"button",44),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2).data,s=i.oxw();return s.checkout(o.commit,o.ref),s.closeContextMenu()}),i.TgZ(1,"mat-icon"),i._uU(2,"get_app"),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA(),i.qZA()}if(2&a){const e=i.oxw(2).data;i.Q6J("title","Checkout "+e.ref.typeName+" "+e.ref.fullName),i.xp6(4),i.AsE("Checkout ",e.ref.typeName," ",e.ref.fullName,"")}}function li(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"button",44),i.NdJ("click",function(){const s=i.CHM(e).$implicit,d=i.oxw(5).data,p=i.oxw();return p.merge(d.ref.shortName,s.commitId,s.name),p.closeContextMenu()}),i.ALo(1,"async"),i._uU(2),i.qZA()}if(2&a){const e=t.$implicit,n=i.oxw(6);i.ekj("bold",e.name===i.lcZ(1,4,n.currentBranchName)),i.Q6J("title",e.name),i.xp6(2),i.Oqu(e.name)}}function pt(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"button",44),i.NdJ("click",function(){const s=i.CHM(e).$implicit,d=i.oxw(5).data,p=i.oxw();return p.merge(d.ref.shortName,s.commitId,s.name),p.closeContextMenu()}),i._uU(1),i.qZA()}if(2&a){const e=t.$implicit;i.Q6J("title",e.name),i.xp6(1),i.Oqu(e.name)}}function Pi(a,t){if(1&a&&(i.TgZ(0,"div",49),i.YNc(1,li,3,6,"button",50),i.YNc(2,pt,2,2,"button",51),i.ALo(3,"async"),i.qZA()),2&a){const e=i.oxw().ngIf,n=i.oxw(3).data,o=i.oxw();i.xp6(1),i.Q6J("ngForOf",o.filterBranches(e,n.commit.id)),i.xp6(1),i.Q6J("ngForOf",o.filterBranches(i.lcZ(3,2,o.remoteBranches),n.commit.id))}}function si(a,t){if(1&a){const e=i.EpF();i.ynx(0),i.TgZ(1,"button",44,45),i.NdJ("click",function(o){i.CHM(e);const s=i.MAs(2),d=i.MAs(9);return i.oxw(4).openSubMenu(o,s,d)}),i._UZ(3,"mat-icon",46),i.TgZ(4,"span"),i._uU(5),i.qZA(),i.TgZ(6,"mat-icon",47),i._uU(7,"chevron_right"),i.qZA(),i.qZA(),i.YNc(8,Pi,4,4,"ng-template",null,48,i.W1O),i.BQk()}if(2&a){const e=i.oxw(3).data;i.xp6(1),i.Q6J("title","Merge into "+e.ref.shortName+" from..."),i.xp6(4),i.hij("Merge into ",e.ref.shortName," from")}}function ho(a,t){if(1&a&&(i.ynx(0),i.YNc(1,si,10,2,"ng-container",38),i.ALo(2,"async"),i.BQk()),2&a){const e=i.oxw(3);i.xp6(1),i.Q6J("ngIf",i.lcZ(2,1,e.localBranches))}}function Ps(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"button",55),i.NdJ("click",function(){const s=i.CHM(e).$implicit,d=i.oxw(5).data,p=i.oxw();return p.merge(s.name,d.commit.id,null==d.ref?null:d.ref.fullName),p.closeContextMenu()}),i.ALo(1,"async"),i._uU(2),i.qZA()}if(2&a){const e=t.$implicit,n=i.oxw(6);i.ekj("bold",e.name===i.lcZ(1,4,n.currentBranchName)),i.Q6J("title",e.name),i.xp6(2),i.Oqu(e.name)}}function _s(a,t){if(1&a&&(i.TgZ(0,"div",49),i.YNc(1,Ps,3,6,"button",54),i.qZA()),2&a){const e=i.oxw().ngIf,n=i.oxw(3).data,o=i.oxw();i.xp6(1),i.Q6J("ngForOf",o.filterBranches(e,n.commit.id))}}function Gr(a,t){if(1&a){const e=i.EpF();i.ynx(0),i.TgZ(1,"button",44,52),i.NdJ("click",function(o){i.CHM(e);const s=i.MAs(2),d=i.MAs(9);return i.oxw(4).openSubMenu(o,s,d)}),i._UZ(3,"mat-icon",46),i.TgZ(4,"span"),i._uU(5),i.qZA(),i.TgZ(6,"mat-icon",47),i._uU(7,"chevron_right"),i.qZA(),i.qZA(),i.YNc(8,_s,2,1,"ng-template",null,53,i.W1O),i.BQk()}if(2&a){const e=i.oxw(3).data;let n,o;i.xp6(1),i.Q6J("title","Merge from "+(null!==(n="tag"!==(null==e.ref?null:e.ref.type)?null==e.ref?null:e.ref.fullName:null)&&void 0!==n?n:"this commit")+" into..."),i.xp6(4),i.hij("Merge from ",null!==(o="tag"!==(null==e.ref?null:e.ref.type)?null==e.ref?null:e.ref.fullName:null)&&void 0!==o?o:"this commit"," into")}}function mo(a,t){if(1&a&&(i.ynx(0),i.YNc(1,Gr,10,2,"ng-container",38),i.ALo(2,"async"),i.BQk()),2&a){const e=i.oxw(3);i.xp6(1),i.Q6J("ngIf",i.lcZ(2,1,e.localBranches))}}function Ji(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"button",44),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2).data;return i.oxw().pull(o.ref.fullName)}),i.TgZ(1,"mat-icon"),i._uU(2,"arrow_downward"),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA(),i.qZA()}if(2&a){const e=i.oxw(2).data;i.Q6J("title","Pull from upstream branch "+e.upstreamName),i.xp6(4),i.hij("Pull from ",e.upstreamName,"")}}function Qr(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"button",55),i.NdJ("click",function(){const s=i.CHM(e).$implicit,d=i.oxw(5).data,p=i.oxw();return p.moveBranchToCommit(s.name,d.commit.id),p.closeContextMenu()}),i.ALo(1,"async"),i._uU(2),i.qZA()}if(2&a){const e=t.$implicit,n=i.oxw(6);i.ekj("bold",e.name===i.lcZ(1,4,n.currentBranchName)),i.Q6J("title",e.name),i.xp6(2),i.Oqu(e.name)}}function $a(a,t){if(1&a&&(i.TgZ(0,"div",49),i.YNc(1,Qr,3,6,"button",54),i.qZA()),2&a){const e=i.oxw().ngIf,n=i.oxw(3).data,o=i.oxw();i.xp6(1),i.Q6J("ngForOf",o.filterBranches(e,n.commit.id))}}function Dr(a,t){if(1&a){const e=i.EpF();i.ynx(0),i.TgZ(1,"button",56,57),i.NdJ("click",function(o){i.CHM(e);const s=i.MAs(2),d=i.MAs(10);return i.oxw(4).openSubMenu(o,s,d)}),i.TgZ(3,"mat-icon"),i._uU(4,"move_up"),i.qZA(),i.TgZ(5,"span"),i._uU(6,"Move branch to this commit"),i.qZA(),i.TgZ(7,"mat-icon",47),i._uU(8,"chevron_right"),i.qZA(),i.qZA(),i.YNc(9,$a,2,1,"ng-template",null,58,i.W1O),i.BQk()}}function Xo(a,t){if(1&a&&(i.ynx(0),i.YNc(1,Dr,11,0,"ng-container",38),i.ALo(2,"async"),i.BQk()),2&a){const e=i.oxw(3);i.xp6(1),i.Q6J("ngIf",i.lcZ(2,1,e.localBranches))}}function ur(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"button",59),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2).data,s=i.oxw();return s.editCommits(o.commit.id),s.closeContextMenu()}),i.TgZ(1,"mat-icon"),i._uU(2,"create"),i.qZA(),i.TgZ(3,"span"),i._uU(4,"Edit commits from here"),i.qZA(),i.qZA()}}function sc(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"button",44),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2).data,s=i.oxw();return s.deleteBranchOrTag(o.ref),s.closeContextMenu()}),i.TgZ(1,"mat-icon"),i._uU(2,"delete"),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA(),i.qZA()}if(2&a){const e=i.oxw(2).data;i.Q6J("title","Delete "+e.ref.typeName+" "+e.ref.fullName),i.xp6(4),i.AsE("Delete ",e.ref.typeName," ",e.ref.fullName,"")}}function vl(a,t){if(1&a){const e=i.EpF();i.ynx(0),i.YNc(1,Xn,5,3,"button",39),i.ALo(2,"async"),i.YNc(3,ho,3,3,"ng-container",38),i.YNc(4,mo,3,3,"ng-container",38),i.YNc(5,Ji,5,2,"button",39),i.YNc(6,Xo,3,3,"ng-container",38),i.YNc(7,ur,5,0,"button",40),i.TgZ(8,"button",41),i.NdJ("click",function(){i.CHM(e);const o=i.oxw().data,s=i.oxw();return s.revertCommit(o.commit.id),s.closeContextMenu()}),i.TgZ(9,"mat-icon"),i._uU(10,"undo"),i.qZA(),i.TgZ(11,"span"),i._uU(12,"Revert commit"),i.qZA(),i.qZA(),i.TgZ(13,"button",42),i.NdJ("click",function(){i.CHM(e);const o=i.oxw().data,s=i.oxw();return s.createBranch(o.commit.id),s.closeContextMenu()}),i._UZ(14,"mat-icon",43),i.TgZ(15,"span"),i._uU(16,"Create branch"),i.qZA(),i.qZA(),i.TgZ(17,"button",42),i.NdJ("click",function(){i.CHM(e);const o=i.oxw().data,s=i.oxw();return s.createTag(o.commit.id),s.closeContextMenu()}),i.TgZ(18,"mat-icon"),i._uU(19,"label"),i.qZA(),i.TgZ(20,"span"),i._uU(21,"Create tag"),i.qZA(),i.qZA(),i.YNc(22,sc,5,3,"button",39),i.BQk()}if(2&a){const e=i.oxw().data,n=i.oxw();i.xp6(1),i.Q6J("ngIf",e.ref&&"tag"!==e.ref.type&&e.ref.shortName!==i.lcZ(2,7,n.currentBranchName)),i.xp6(2),i.Q6J("ngIf","local"===(null==e.ref?null:e.ref.type)),i.xp6(1),i.Q6J("ngIf","stash"!==(null==e.ref?null:e.ref.type)),i.xp6(1),i.Q6J("ngIf","local"===(null==e.ref?null:e.ref.type)&&e.upstreamName),i.xp6(1),i.Q6J("ngIf","stash"!==(null==e.ref?null:e.ref.type)),i.xp6(1),i.Q6J("ngIf","stash"!==(null==e.ref?null:e.ref.type)),i.xp6(15),i.Q6J("ngIf",e.ref&&"remote"!==e.ref.type)}}function nr(a,t){1&a&&(i.ynx(0),i.TgZ(1,"button",60),i._uU(2," No actions here "),i.qZA(),i.BQk())}function Wr(a,t){if(1&a&&(i.TgZ(0,"div",37),i.YNc(1,vl,23,9,"ng-container",38),i.YNc(2,nr,3,0,"ng-container",38),i.qZA()),2&a){const e=t.data;i.xp6(1),i.Q6J("ngIf","head"!==e.commit.id),i.xp6(1),i.Q6J("ngIf","head"===e.commit.id)}}let os=(()=>{class a extends((0,un.j)(Ln.A)){constructor(e,n,o,s,d,p,V,H,U,ne){super(),this.element=e,this.router=n,this.overlay=o,this.viewContainerRef=s,this.store=d,this.repositoriesApi=p,this.repositoryActionsService=V,this.branchesService=H,this.graphCalculatorService=U,this.graphSharedService=ne,this.changeCommit=new i.vpe,this.commits=[],this.idToCommitDetail={},this.commitTrails=[],this.mergePaths=[],this.commitDetails=new mn.X([]),this.visibleCommitDetails=new mn.X([]),this.visibleCommitTrails=new mn.X([]),this.visibleMergePaths=new mn.X([]),this.visibleDates=new mn.X([]),this.topDate=new mn.X(null),this.scrolledToTop=new mn.X(!1),this.topCommitSelected=new mn.X(!1),this.xUnit=Eo.$.xUnit,this.yUnit=Eo.$.yUnit,this.xOffset=Eo.$.xOffset,this.yOffset=Eo.$.yOffset,this.totalColors=15,this.overlayRef=new mn.X(null),this.subMenuOverlayRef=new mn.X(null),this.getTrailColorIndex=be=>be.colorIndex%this.totalColors,this.getXCoord=be=>this.xOffset+this.xUnit*be,this.getYCoord=be=>this.yOffset+this.yUnit*be,this.getCommitSummary=be=>be.commit.message.split("\n")[0],this.getCommitTime=be=>new Date(be.time),this.openContextMenu=(be,Ee,Ke,ct)=>{be.preventDefault(),be.stopPropagation(),this.closeContextMenu();const Pt=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo({x:be.x,y:be.y}).withPositions([{originX:"end",originY:"bottom",overlayX:"start",overlayY:"top"}])});this.getReferenceDetails(Ee,Ke,ct).pipe((0,St.q)(1),(0,Ne.w)(Ot=>"local"===Ot?.type?this.repository.pipe((0,St.q)(1),(0,Ne.w)(Xt=>Xt?this.repositoriesApi.getUpstreamBranch(Xt.path,Ot.fullName):(0,ut.of)(null)),(0,nt.U)(Xt=>[Ot,Xt?.replace(/^refs\/remotes\//,"")])):(0,ut.of)([Ot,null]))).subscribe(([Ot,Xt])=>{this.overlayRef.next(Pt),Pt.attach(new He.UE(this.menuTemplate,this.viewContainerRef,{data:{commit:Ee,ref:Ot,upstreamName:Xt}})),(0,ni.T)(Pt.backdropClick(),Pt.outsidePointerEvents(),(0,fi.R)(Pt.overlayElement,"click")).pipe((0,St.q)(1),(0,Se.R)(this.destroyed$)).subscribe(()=>this.closeContextMenu())})},this.closeContextMenu=()=>{this.overlayRef.value&&(this.overlayRef.value.dispose(),this.overlayRef.next(null)),this.closeSubMenu()},this.openSubMenu=(be,Ee,Ke)=>{be.preventDefault(),be.stopPropagation(),this.closeSubMenu();const ct=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo(Ee).withPositions([{originX:"end",originY:"top",overlayX:"start",overlayY:"top"}])});this.subMenuOverlayRef.next(ct),ct.attach(new He.UE(Ke,this.viewContainerRef)),(0,ni.T)(ct.backdropClick(),ct.outsidePointerEvents(),(0,fi.R)(ct.overlayElement,"click")).pipe((0,St.q)(1),(0,Se.R)(this.destroyed$)).subscribe(()=>this.closeSubMenu())},this.closeSubMenu=()=>{this.subMenuOverlayRef.value&&(this.subMenuOverlayRef.value.dispose(),this.subMenuOverlayRef.next(null))},this.getBranches=be=>this.currentBranch.pipe((0,nt.U)(Ee=>this.branchesService.calculateBranches(be.commit.references,Ee))),this.getFirstBranch=be=>this.getBranches(be).pipe((0,nt.U)(Ee=>Ee.length>0?Ee[0]:void 0)),this.getReferenceDetails=(be,Ee,Ke)=>("head"===be.id?(0,ut.of)(void 0):Ee?(0,ut.of)(Ee):this.getFirstBranch(be)).pipe((0,nt.U)(ct=>{if(!ct)return;const Pt=Ke??ct.sources[0];let Ot,Xt;switch(Pt.type){case"local":Ot=ct.name,Xt="branch";break;case"tag":Ot=ct.name,Xt="tag";break;case"remote":Ot=`${Pt.name}/${ct.name}`,Xt="branch";break;case"stash":Ot="",Xt="stash";break;default:throw new Error(`Invalid branch source type: ${Pt.type}`)}return{shortName:ct.name,fullName:Ot,type:Pt.type,typeName:Xt}})),this.filterBranches=(be,Ee)=>(be??[]).filter(Ke=>Ke.commitId!==Ee),this.checkout=(be,Ee)=>{if(Ee)switch(Ee.type){case"local":this.repository.pipe((0,St.q)(1)).subscribe(Ke=>{if(!Ke)throw new Error("Cannot checkout when no repository is selected");this.repositoryActionsService.checkoutBranch(Ke.path,Ee.shortName).subscribe()});break;case"remote":this.repository.pipe((0,St.q)(1)).subscribe(Ke=>{if(!Ke)throw new Error("Cannot checkout branch when no repository is selected");Ke.references.filter(Ot=>"local"===Ot.type)?.find(Ot=>Ot.name===`refs/heads/${Ee.shortName}`)?this.repositoryActionsService.checkoutBranch(Ke.path,Ee.shortName).subscribe():this.repositoryActionsService.createBranchWithDetails(Ke.path,be.id,Ee.shortName,Ee.fullName,!0).subscribe()});break;case"tag":this.store.dispatch(new Ae.NN("error","Cannot checkout a tag!"));break;case"stash":this.store.dispatch(new Ae.NN("info","Checkout stash functionality not yet implemented!"))}else this.store.dispatch(new Ae.NN("info","Detach HEAD functionality not yet implemented!"))},this.editCommits=be=>{this.repository.pipe((0,St.q)(1)).subscribe(Ee=>{if(!Ee)throw new Error("Cannot edit commits when no repository is selected");this.repositoryActionsService.startEdit(Ee.path,be).pipe((0,Ne.w)(()=>this.router.navigate(["/standard/rebase"]))).subscribe()})},this.revertCommit=be=>{this.repository.pipe((0,St.q)(1)).subscribe(Ee=>{if(!Ee)throw new Error("Cannot revert commit when no repository is selected");this.repositoryActionsService.revertCommit(Ee.path,be).subscribe()})},this.createBranch=be=>{this.repository.pipe((0,St.q)(1)).subscribe(Ee=>{if(!Ee)throw new Error("Cannot create branch when no repository is selected");this.repositoryActionsService.createBranch(Ee.path,be).subscribe()})},this.createTag=be=>{this.repository.pipe((0,St.q)(1)).subscribe(Ee=>{if(!Ee)throw new Error("Cannot create tag when no repository is selected");this.repositoryActionsService.createTag(Ee.path,be).subscribe()})},this.deleteBranchOrTag=be=>{this.repository.pipe((0,St.q)(1)).subscribe(Ee=>{if(!Ee)throw new Error("Cannot delete branch when no repository is selected");"local"===be.type?this.repositoryActionsService.deleteBranch(Ee.path,be.fullName).subscribe():"tag"===be.type?this.repositoryActionsService.deleteTag(Ee.path,be.fullName).subscribe():this.store.dispatch("stash"===be.type?new Ae.NN("info","Delete stash functionality not yet implemented!"):new Ae.NN("error","Cannot delete remote branches"))})},this.merge=(be,Ee,Ke)=>{this.repository.pipe((0,St.q)(1)).subscribe(ct=>{if(!ct)throw new Error("Cannot merge when no repository is selected");this.repositoryActionsService.createMerge(ct.path,Ke??null,Ee,be).subscribe()})},this.pull=be=>{this.repository.pipe((0,St.q)(1)).subscribe(Ee=>{if(!Ee)throw new Error("Cannot pull from upstream branch when no repository is selected");const Ke=this.store.selectSnapshot(Ei.$.selectedProfileId),ct=Ee.profiles.get(Ke)?.remotes,Pt=ct?Object.fromEntries(Object.entries(ct).map(([Ot,{credentialId:Xt}])=>[Ot,null===Xt?null:this.store.selectSnapshot(Ei.$.credentials).get(Xt)??null])):{};this.repositoryActionsService.pull(Ee.path,Ee.selectedRemote,Pt,be).subscribe()})},this.moveBranchToCommit=(be,Ee)=>{this.repository.pipe((0,St.q)(1)).subscribe(Ke=>{if(!Ke)throw new Error("Cannot update current branch when no repository is selected");this.repositoryActionsService.updateBranch(Ke.path,be,Ee).subscribe()})}}ngOnInit(){this.localBranchReferences=this.repository.pipe((0,nt.U)(o=>o?.references.filter(s=>"local"===s.type)??null)),this.remoteBranchReferences=this.repository.pipe((0,nt.U)(o=>o?.references.filter(s=>"remote"===s.type)??null)),this.currentBranch=this.repository.pipe((0,nt.U)(o=>o?.currentBranch??null)),this.currentBranchCommitId=this.repository.pipe((0,nt.U)(o=>o?.currentBranchCommitId??null)),this.selectedStagedChanges=this.repository.pipe((0,nt.U)(o=>o?.stagedChanges??null)),this.selectedUnstagedChanges=this.repository.pipe((0,nt.U)(o=>o?.unstagedChanges??null)),this.mergeHeads=this.repository.pipe((0,nt.U)(o=>o?.mergeHeads??null)),this.remotes=this.repository.pipe((0,nt.U)(o=>o?.remotes??[])),this.localBranches=(0,rt.aj)([this.localBranchReferences,this.currentBranch]).pipe((0,nt.U)(([o,s])=>{const d=o?.find(p=>p.name===s);return[...d?[d]:[],...Fo(o??[],p=>p.name).filter(p=>p.name!==s)]}),(0,nt.U)(o=>o.map(s=>({commitId:s.target,name:s.name.replace(/^refs\/heads\//,"")})))),this.remoteBranches=this.remoteBranchReferences.pipe((0,nt.U)(o=>Fo(o??[],s=>s.name)),(0,nt.U)(o=>o.map(s=>({commitId:s.target,name:s.name.replace(/^refs\/remotes\//,"")})))),this.currentBranchName=this.currentBranch.pipe((0,nt.U)(o=>o?.replace(/^refs\/heads\//,"")??null)),this.uncommittedChangesCount=(0,rt.aj)([this.selectedStagedChanges,this.selectedUnstagedChanges]).pipe((0,nt.U)(([o,s])=>(o?.patches?.filter(d=>d.status!==js.v.Conflicted).length??0)+(s?.patches.length??0))),this.selectedCommitDetailId=(0,rt.aj)([this.commitId,this.selectedMerge]).pipe((0,nt.U)(([o,s])=>o??(s?`merge:${s?.fromCommitId}:${s?.toCommitId}`:null))),this.selectedCommitDetailId.pipe((0,Se.R)(this.destroyed$)).subscribe(o=>{this.topCommitSelected.next(o===this.commits[0]?.id)}),this.repository.pipe((0,dr.x)((o,s)=>o?.path===s?.path&&o?.commits===s?.commits&&o?.headCommitId===s?.headCommitId&&(o?.stagedChanges||o?.unstagedChanges)===(s?.stagedChanges||s?.unstagedChanges)&&o?.merges===s?.merges),(0,Ht.b)(o=>{this.calculate(o?.commits??[],o?.headCommitId??null,o?.merges??[])}),(0,Lr.g)(0),(0,Se.R)(this.destroyed$)).subscribe(o=>{this.viewport.scrollToIndex(o?.scrollIndex??0)});const e=new mn.X(!1);this.repository.pipe((0,nt.U)(o=>o?.scrollIndex),(0,uo.h)(ps.$K),(0,dr.x)(),(0,Se.R)(this.destroyed$)).subscribe(o=>{if(!e.value){const s=this.viewport.measureScrollOffset("top"),d=s+this.viewport.getViewportSize();this.scrolledToTop.next(s<=0),this.graphCalculatorService.isIndexInBounds(o,s,d)||this.viewport.scrollToIndex(o)}}),(0,fi.R)(this.graphSvgElement.nativeElement,"wheel",{passive:!0}).pipe((0,Se.R)(this.destroyed$)).subscribe(o=>{this.viewport.scrollTo({top:this.viewport.measureScrollOffset("top")+o.deltaY})}),this.viewport.elementScrolled().pipe((0,Ht.b)(()=>{const o=this.viewport.measureScrollOffset("top"),s=`translateY(-${o}px)`;this.graphWrapperElement.nativeElement.style.transform=s,this.floatingDatesElement.nativeElement.style.transform=s,this.scrolledToTop.next(o<=0)}),(0,Io.e)(20),(0,Se.R)(this.destroyed$)).subscribe(()=>{this.updateFloatingDates()});const n=new ao.xQ;n.pipe((0,dr.x)(),yt(this.repository),(0,Se.R)(this.destroyed$)).subscribe(([o,s])=>{o&&s&&this.store.dispatch(new _n._o(s.path)).subscribe(()=>{n.next(!1)})}),this.viewport.scrolledIndexChange.pipe(yt(this.repository),(0,Ht.b)(([o,s])=>{this.updateVisibleCommits(),s&&!s.allCommitsLoaded&&o+Zr.W/2>s.commits.length&&n.next(!0)}),(0,Us.b)(100),(0,Ht.b)(([o,s])=>{e.next(!0),null!==s&&this.store.dispatch(new _n.AL(s.path,o))}),(0,Lr.g)(0),(0,Ht.b)(()=>e.next(!1)),(0,Se.R)(this.destroyed$)).subscribe()}ngAfterViewInit(){this.updateFloatingDates()}graphClicked(e){const n=this.getCommitFromPosition(e.offsetY);n&&this.changeCommit.next(n.id)}graphDblClicked(e){const n=this.getCommitFromPosition(e.offsetY);n&&this.commitDblClicked(this.idToCommitDetail[n.id])}graphContextMenu(e){const n=this.getCommitFromPosition(e.offsetY);n&&this.openContextMenu(e,this.idToCommitDetail[n.id])}commitDblClicked(e){(0,wi.D)([this.repository.pipe((0,St.q)(1)),this.getFirstBranch(e).pipe((0,St.q)(1))]).subscribe(([n,o])=>{n&&o&&this.repositoryActionsService.checkoutBranch(n.path,o.name).subscribe()})}keyPressed(e){e.preventDefault(),(0,rt.aj)([this.repository,this.selectedCommitDetailId]).pipe((0,St.q)(1),(0,Se.R)(this.destroyed$)).subscribe(([n,o])=>{if(!n)return;const s=this.commits.findIndex(p=>p.id===o);if(-1===s)return;let d=null;switch(e.key){case"ArrowUp":if(!e.ctrlKey){s>0&&(d=this.commits[s-1].id);break}case"Home":d=this.commits[0].id;break;case"ArrowDown":if(!e.ctrlKey){s<this.commits.length-1&&(d=this.commits[s+1].id);break}case"End":d=this.commits[this.commits.length-1].id}if(d)if(d.startsWith("merge:")){const p=d.match(/^merge:([^:]+):([^:]+)$/);p&&this.store.dispatch([new At.hb(n.path,p[1],p[2]),new _n.BK(n.path,d)])}else this.store.dispatch([new _n.jQ(n.path,d),new _n.BK(n.path,d)])})}drawTrail(e){const n=e.isDashed?{x:0,y:.05}:{x:0,y:0};if(e.commits.length<1)return[`M ${this.getXCoord(e.lane.xIndex+n.x)} ${this.getYCoord(e.minYIndex+n.y)}`,`V ${this.getYCoord(e.maxYIndex-.5)}`,`L ${this.getXCoord(e.lane.xIndex)} ${this.getYCoord(e.maxYIndex)}`].join(" ");const o=e.commits[0],s=e.commits[e.commits.length-1],d=s.commit.parentIds.length>0?this.idToCommitDetail[s.commit.parentIds[0]]??s:s;return d||console.error(`Could not find parent ${s.commit.parentIds[0]}`,e),o.id===s.id&&s.id===d.id?"":[`M ${this.getXCoord(o.trail.lane.xIndex+n.x)} ${this.getYCoord(e.minYIndex+n.y)}`,`V ${this.getYCoord(e.maxYIndex-.5)}`,`L ${this.getXCoord(d.trail.lane.xIndex)} ${this.getYCoord(e.maxYIndex)}`].join(" ")}trackCommitDetail(e,n){return n.id}trackCommitTrail(e,n){return n.trailIndex}trackMergePath(e,n){return`${n.from.id}|${n.to.map(o=>o.id).join(";")}`}trackFloatingDate(e,n){return`${n[0]}:${n[1].id}`}updateFloatingDates(){if(this.selectedCommitDetailId.pipe((0,St.q)(1)).subscribe(U=>{this.topCommitSelected.next(U===this.commits[0]?.id)}),this.commits.length<=1)return this.visibleDates.next([]),this.topDate.next(null),void this.scrolledToTop.next(!0);const n=Math.ceil(this.element.nativeElement.clientHeight/this.yUnit),o=this.viewport.measureScrollOffset("top");let s=Math.floor(Math.max(0,o/this.yUnit));const d=Math.min(this.commits.length-1,s+n);for(;"head"===this.commits[s].id||this.commits[s].id.startsWith("merge:");)s++;const p=this.commits[s].time,V=[];let H=new Date(p);for(let U=s;U<d;U++){const ne=new Date(this.commits[U].time);(ne.getMonth()!==H.getMonth()||ne.getFullYear()!==H.getFullYear())&&(H=ne,V.push([U,this.commits[U]]))}this.visibleDates.next(V),this.topDate.next(p),this.scrolledToTop.next(o<=0)}updateVisibleCommits(){const o=Math.ceil((600+this.element.nativeElement.clientHeight)/this.yUnit),s=this.viewport.measureScrollOffset("top"),d=Math.floor(Math.max(0,(s-300)/this.yUnit)),p=this.graphCalculatorService.calculateVisible(this.commitDetails.value,this.commitTrails,this.mergePaths,d,d+o);this.visibleCommitDetails.next(p.commitDetails),this.visibleCommitTrails.next(p.commitTrails),this.visibleMergePaths.next(p.mergePaths),this.updateFloatingDates()}calculate(e,n,o){(0,rt.aj)([this.selectedStagedChanges,this.selectedUnstagedChanges,this.mergeHeads]).pipe((0,St.q)(1),(0,Se.R)(this.destroyed$)).subscribe(([s,d,p])=>{const H=this.graphCalculatorService.calculate(s?.patches?.length||d?.patches?.length||!e.length?{parentId:n,mergeHeads:p??[]}:null,o,e,this.getXCoord,this.getYCoord,this.totalColors);this.idToCommitDetail=H.commitDetails,this.commitTrails=H.commitTrails,this.mergePaths=H.mergePaths,this.commits=H.orderedCommits,this.commitDetails.next(this.commits.map(U=>H.commitDetails[U.id])),this.graphSharedService.setColors((0,ps.Tj)(H.commitDetails,(U,ne)=>this.getTrailColorIndex(ne.trail))),this.graphSharedService.setCommits(this.idToCommitDetail),this.updateVisibleCommits()})}getCommitFromPosition(e){const n=this.viewport.measureScrollOffset("top"),o=Math.floor((n+e)/this.yUnit);return this.commits[o]}}return a.\u0275fac=function(e){return new(e||a)(i.Y36(i.SBq),i.Y36(Re.F0),i.Y36(dt.aV),i.Y36(i.s_b),i.Y36(Pe.yh),i.Y36(Yi.a),i.Y36(Ii),i.Y36(xs.p),i.Y36(Eo.$),i.Y36(xn))},a.\u0275cmp=i.Xpm({type:a,selectors:[["app-graph-view"]],viewQuery:function(e,n){if(1&e&&(i.Gf(Do.N7,7),i.Gf(h,7),i.Gf(x,7),i.Gf(W,5),i.Gf(te,5)),2&e){let o;i.iGM(o=i.CRH())&&(n.viewport=o.first),i.iGM(o=i.CRH())&&(n.graphSvgElement=o.first),i.iGM(o=i.CRH())&&(n.graphWrapperElement=o.first),i.iGM(o=i.CRH())&&(n.floatingDatesElement=o.first),i.iGM(o=i.CRH())&&(n.menuTemplate=o.first)}},inputs:{repository:"repository",commitId:"commitId",selectedMerge:"selectedMerge",branchOrder:"branchOrder"},outputs:{changeCommit:"changeCommit"},features:[i.qOj],decls:27,vars:25,consts:[["id","graph-view","tabindex","0",3,"keydown"],[1,"graph",3,"click","dblclick","contextmenu"],["graphSvg",""],[1,"wrapper"],["graphWrapper",""],["class","selected-background","x","0","width","100%",4,"ngIf"],["class","merge-path",4,"ngFor","ngForOf","ngForTrackBy"],["class","commit-path",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"viewport","messages-viewport",3,"itemSize"],[1,"messages"],[3,"selected","click","dblclick","contextmenu",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"floating-dates"],["class","top-date",3,"scrolled-to-top","selected",4,"ngIf"],["floatingDates",""],[3,"selected","top",4,"ngFor","ngForOf","ngForTrackBy"],["contextMenu",""],["x","0","width","100%",1,"selected-background"],[1,"merge-path"],[3,"ngClass"],[1,"commit-path"],["r","5",1,"commit-circle",3,"ngClass"],[3,"click","dblclick","contextmenu"],[3,"title","remotes","email",4,"ngIf"],["class","uncommitted-icon","title","These changes have not yet been committed to the repository",4,"ngIf"],["class","branches",4,"ngIf"],["class","summary",4,"ngIf"],["class","summary dimmed",4,"ngIf"],["class","summary summary-merge dimmed",4,"ngIf"],[3,"title","remotes","email"],["title","These changes have not yet been committed to the repository",1,"uncommitted-icon"],[1,"branches"],[3,"branches","color","contextMenu"],[1,"summary"],[1,"summary","dimmed"],[1,"summary","summary-merge","dimmed"],[1,"top-date"],[1,"menu-panel"],[4,"ngIf"],["class","menu-item",3,"title","click",4,"ngIf"],["class","menu-item","title","Rewrite the commit history from this point onwards",3,"click",4,"ngIf"],["title","Create a new commit reverting the changes in this one",1,"menu-item",3,"click"],[1,"menu-item",3,"click"],["svgIcon","source-branch"],[1,"menu-item",3,"title","click"],["mergeToButton",""],["svgIcon","source-merge"],[1,"expand-icon"],["mergeTo",""],[1,"menu-panel","sub-menu-1"],["class","menu-item",3,"bold","title","click",4,"ngFor","ngForOf"],["class","menu-item",3,"title","click",4,"ngFor","ngForOf"],["mergeFromButton",""],["mergeFrom",""],["mat-menu-item","","class","menu-item",3,"bold","title","click",4,"ngFor","ngForOf"],["mat-menu-item","",1,"menu-item",3,"title","click"],["title","Move branch to this commit...",1,"menu-item",3,"click"],["moveBranchButton",""],["moveBranch",""],["title","Rewrite the commit history from this point onwards",1,"menu-item",3,"click"],[1,"menu-item"]],template:function(e,n){1&e&&(i.TgZ(0,"app-grid",0),i.NdJ("keydown",function(s){return n.keyPressed(s)}),i.TgZ(1,"app-grid-cell"),i.O4$(),i.TgZ(2,"svg",1,2),i.NdJ("click",function(s){return n.graphClicked(s)})("dblclick",function(s){return n.graphDblClicked(s)})("contextmenu",function(s){return n.graphContextMenu(s)}),i.TgZ(4,"g",3,4),i.YNc(6,ae,1,2,"rect",5),i.ALo(7,"async"),i.YNc(8,Ce,2,4,"g",6),i.ALo(9,"async"),i.YNc(10,Oe,2,4,"g",7),i.ALo(11,"async"),i.YNc(12,Fe,2,5,"g",8),i.ALo(13,"async"),i.qZA(),i.qZA(),i.qZA(),i.kcU(),i.TgZ(14,"app-grid-cell"),i.TgZ(15,"cdk-virtual-scroll-viewport",9),i.TgZ(16,"ul",10),i.YNc(17,Ft,10,14,"li",11),i.qZA(),i.qZA(),i.TgZ(18,"div",12),i.YNc(19,Zt,5,12,"div",13),i.ALo(20,"async"),i.TgZ(21,"ul",null,14),i.YNc(23,Tn,4,10,"li",15),i.ALo(24,"async"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.YNc(25,Wr,3,2,"ng-template",null,16,i.W1O)),2&e&&(i.xp6(6),i.Q6J("ngIf",n.idToCommitDetail[i.lcZ(7,13,n.selectedCommitDetailId)||""]),i.xp6(2),i.Q6J("ngForOf",i.lcZ(9,15,n.visibleMergePaths))("ngForTrackBy",n.trackMergePath),i.xp6(2),i.Q6J("ngForOf",i.lcZ(11,17,n.visibleCommitTrails))("ngForTrackBy",n.trackCommitTrail),i.xp6(2),i.Q6J("ngForOf",i.lcZ(13,19,n.visibleCommitDetails))("ngForTrackBy",n.trackCommitDetail),i.xp6(3),i.Q6J("itemSize",n.yUnit),i.xp6(2),i.Q6J("cdkVirtualForOf",n.commitDetails)("cdkVirtualForTrackBy",n.trackCommitDetail),i.xp6(2),i.Q6J("ngIf",i.lcZ(20,21,n.topDate)),i.xp6(4),i.Q6J("ngForOf",i.lcZ(24,23,n.visibleDates))("ngForTrackBy",n.trackFloatingDate))},directives:[ys.M,ks.Y,Kt.O5,Kt.sg,Do.N7,Do.xd,Do.x0,Kt.mk,er.A,En.Hw,R,b.OP],pipes:[Kt.Ov,Hn.x,ei.r,Kt.uU],styles:['[_nghost-%COMP%]{display:block;width:100%;height:100%}app-grid[_ngcontent-%COMP%]{outline:none}.graph[_ngcontent-%COMP%]{display:block;width:100%;height:100%;cursor:pointer}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path[_ngcontent-%COMP%]{fill:none;stroke-width:2;z-index:10}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-0[_ngcontent-%COMP%]{stroke:#4363d8}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-1[_ngcontent-%COMP%]{stroke:#469990}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-2[_ngcontent-%COMP%]{stroke:#fabed4}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-3[_ngcontent-%COMP%]{stroke:#e6194b}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-4[_ngcontent-%COMP%]{stroke:#42d4f4}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-5[_ngcontent-%COMP%]{stroke:#f58231}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-6[_ngcontent-%COMP%]{stroke:#ffe119}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-7[_ngcontent-%COMP%]{stroke:#3cb44b}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-8[_ngcontent-%COMP%]{stroke:#f032e6}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-9[_ngcontent-%COMP%]{stroke:#fff}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-10[_ngcontent-%COMP%]{stroke:maroon}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-11[_ngcontent-%COMP%]{stroke:#9a6324}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-12[_ngcontent-%COMP%]{stroke:#fffac8}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-13[_ngcontent-%COMP%]{stroke:#aaffc3}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-14[_ngcontent-%COMP%]{stroke:#dcbeff}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.dashed[_ngcontent-%COMP%]{stroke:#ffffff80;stroke-dasharray:4;stroke-dashoffset:4}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path[_ngcontent-%COMP%]{fill:none;stroke-width:2;z-index:20}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-0[_ngcontent-%COMP%]{stroke:#4363d8}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-1[_ngcontent-%COMP%]{stroke:#469990}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-2[_ngcontent-%COMP%]{stroke:#fabed4}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-3[_ngcontent-%COMP%]{stroke:#e6194b}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-4[_ngcontent-%COMP%]{stroke:#42d4f4}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-5[_ngcontent-%COMP%]{stroke:#f58231}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-6[_ngcontent-%COMP%]{stroke:#ffe119}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-7[_ngcontent-%COMP%]{stroke:#3cb44b}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-8[_ngcontent-%COMP%]{stroke:#f032e6}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-9[_ngcontent-%COMP%]{stroke:#fff}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-10[_ngcontent-%COMP%]{stroke:maroon}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-11[_ngcontent-%COMP%]{stroke:#9a6324}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-12[_ngcontent-%COMP%]{stroke:#fffac8}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-13[_ngcontent-%COMP%]{stroke:#aaffc3}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-14[_ngcontent-%COMP%]{stroke:#dcbeff}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.dashed[_ngcontent-%COMP%]{stroke:#ffffff80;stroke-dasharray:4;stroke-dashoffset:4}.graph[_ngcontent-%COMP%]   .commit-circle[_ngcontent-%COMP%]{stroke:#000;stroke-width:1.5;z-index:30}.graph[_ngcontent-%COMP%]   .commit-circle.color-0[_ngcontent-%COMP%]{fill:#4363d8}.graph[_ngcontent-%COMP%]   .commit-circle.color-1[_ngcontent-%COMP%]{fill:#469990}.graph[_ngcontent-%COMP%]   .commit-circle.color-2[_ngcontent-%COMP%]{fill:#fabed4}.graph[_ngcontent-%COMP%]   .commit-circle.color-3[_ngcontent-%COMP%]{fill:#e6194b}.graph[_ngcontent-%COMP%]   .commit-circle.color-4[_ngcontent-%COMP%]{fill:#42d4f4}.graph[_ngcontent-%COMP%]   .commit-circle.color-5[_ngcontent-%COMP%]{fill:#f58231}.graph[_ngcontent-%COMP%]   .commit-circle.color-6[_ngcontent-%COMP%]{fill:#ffe119}.graph[_ngcontent-%COMP%]   .commit-circle.color-7[_ngcontent-%COMP%]{fill:#3cb44b}.graph[_ngcontent-%COMP%]   .commit-circle.color-8[_ngcontent-%COMP%]{fill:#f032e6}.graph[_ngcontent-%COMP%]   .commit-circle.color-9[_ngcontent-%COMP%]{fill:#fff}.graph[_ngcontent-%COMP%]   .commit-circle.color-10[_ngcontent-%COMP%]{fill:maroon}.graph[_ngcontent-%COMP%]   .commit-circle.color-11[_ngcontent-%COMP%]{fill:#9a6324}.graph[_ngcontent-%COMP%]   .commit-circle.color-12[_ngcontent-%COMP%]{fill:#fffac8}.graph[_ngcontent-%COMP%]   .commit-circle.color-13[_ngcontent-%COMP%]{fill:#aaffc3}.graph[_ngcontent-%COMP%]   .commit-circle.color-14[_ngcontent-%COMP%]{fill:#dcbeff}.graph[_ngcontent-%COMP%]   .commit-circle.dashed[_ngcontent-%COMP%]{fill:none;stroke:#ffffff80}.graph[_ngcontent-%COMP%]   .selected-background[_ngcontent-%COMP%]{fill:#424242}.viewport[_ngcontent-%COMP%]{height:100%}.messages-viewport[_ngcontent-%COMP%]{overflow-y:scroll}.messages-viewport[_ngcontent-%COMP%]  .cdk-virtual-scroll-content-wrapper{contain:layout}.messages[_ngcontent-%COMP%]{position:relative;font-size:0}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative;cursor:pointer;height:26px;line-height:26px;padding-left:5px;user-select:none;white-space:nowrap}.messages[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%]{background-color:#424242}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%]{width:24px;height:24px;vertical-align:middle;margin-right:5px}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .branches[_ngcontent-%COMP%]{display:inline-block;height:26px;vertical-align:middle;font-size:16px;margin-right:10px}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]{font-size:16px;vertical-align:middle}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .summary.dimmed[_ngcontent-%COMP%]{color:#ffffff80}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .uncommitted-icon[_ngcontent-%COMP%]{margin-right:5px;color:#ffffff80}@property --bgColor{syntax: "<color>"; initial-value: transparent; inherits: false;}.floating-dates[_ngcontent-%COMP%]{position:absolute;top:0;right:17px;font-size:16px;pointer-events:none;overflow:hidden;height:100%;width:50%}.floating-dates[_ngcontent-%COMP%]   .top-date[_ngcontent-%COMP%], .floating-dates[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:absolute;right:0;padding-left:30px;padding-right:10px;height:26px;line-height:26px;color:#607d8b;background:linear-gradient(to right,transparent,var(--bgColor) 25px,var(--bgColor));--bgColor: #1e1e1e}.floating-dates[_ngcontent-%COMP%]   .top-date[_ngcontent-%COMP%]{z-index:200}.floating-dates[_ngcontent-%COMP%]   .top-date.selected[_ngcontent-%COMP%]:not(.scrolled-to-top){transition:--bgColor .3s ease-in-out}.floating-dates[_ngcontent-%COMP%]   .top-date.selected.scrolled-to-top[_ngcontent-%COMP%]{--bgColor: #424242}.floating-dates[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{--bgColor: #424242}.menu-panel[_ngcontent-%COMP%]{background:#424242;border-radius:4px;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;max-height:calc(100vh - 48px);max-width:25vw;min-height:48px;min-width:112px;overflow-x:hidden;overflow-y:auto}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;cursor:pointer;display:flex;font-family:Montserrat;font-size:14px;height:48px;line-height:48px;max-width:100%;outline:none;overflow:hidden;padding:0 16px;user-select:none;text-align:left;text-overflow:ellipsis;width:100%;white-space:nowrap}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:first-child{border-radius:4px 4px 0 0}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:last-child{border-radius:0 0 4px 4px}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover{background:#565656}.menu-panel[_ngcontent-%COMP%]   .menu-item[disabled][_ngcontent-%COMP%]{pointer-events:none;color:#ffffff4d}.menu-panel[_ngcontent-%COMP%]   .menu-item.bold[_ngcontent-%COMP%]{font-weight:bold}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin:12px 16px 12px 0;vertical-align:middle;flex:0 0 auto}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon.expand-icon[_ngcontent-%COMP%]{margin-left:auto;margin-right:0}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.menu-panel.sub-menu-1[_ngcontent-%COMP%]{background:#4a4a4a}'],changeDetection:0}),a})(),Vr=(()=>{class a extends Error{constructor(e,n,o){super(`The submodule '${n}' in repository '${e}' is already cloned.`),this.repositoryPath=e,this.submoduleName=n,this.submodulePath=o,this.type=a.Type}}return a.Type="SubmoduleAlreadyCloned",a.matches=t=>t.type===a.Type,a})();var Os=m(38056),pu=m(85692);const Yr=["branchContextMenu"],rc=["addSubmoduleDialog"],sa=["editSubmoduleDialog"],Za=["removeSubmoduleDialog"],ac=["addSubmoduleDialogFormField1","addSubmoduleDialogFormField2"],ra=["editSubmoduleDialogFormField1"];function xa(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"li",12),i.NdJ("click",function(){const s=i.CHM(e).$implicit;return i.oxw().jumpToCommit(s.commitId)})("dblclick",function(){const s=i.CHM(e).$implicit;return i.oxw().checkoutBranch(s.name)})("contextmenu",function(o){const d=i.CHM(e).$implicit;return i.oxw().openContextMenu(o,"local",d.name,d.commitId,d.upstreamName)}),i.ALo(1,"async"),i.TgZ(2,"span",13),i._uU(3),i.qZA(),i.TgZ(4,"button",14),i.NdJ("click",function(o){const d=i.CHM(e).$implicit;return i.oxw().toggleRefVisibility(o,d.refName)}),i.TgZ(5,"mat-icon"),i._uU(6),i.qZA(),i.qZA(),i.qZA()}if(2&a){const e=t.$implicit,n=i.oxw();i.ekj("selected",e.name===i.lcZ(1,8,n.currentBranch)),i.Q6J("title",e.refName),i.xp6(3),i.Oqu(e.name),i.xp6(1),i.ekj("show",null!==e.invisible),i.Q6J("title",n.visibilityTitle(e.invisible)),i.xp6(2),i.Oqu(e.invisible?"visibility_off":"visibility")}}function lc(a,t){1&a&&(i.TgZ(0,"mat-icon",17),i._uU(1,"visibility_off"),i.qZA())}function sd(a,t){1&a&&(i.TgZ(0,"mat-icon"),i._uU(1,"visibility_off"),i.qZA())}function cc(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"li",12),i.NdJ("click",function(o){const d=i.CHM(e).$implicit;return i.oxw(4).jumpToCommit(d.commitId),o.stopPropagation()})("dblclick",function(){const s=i.CHM(e).$implicit,d=i.oxw(2).$implicit;return i.oxw(2).checkoutRemoteBranch(d.key,s.commitId,s.name)})("contextmenu",function(o){const d=i.CHM(e).$implicit,p=i.oxw(2).$implicit;return i.oxw(2).openContextMenu(o,"remote",p.key+"/"+d.name,d.commitId,null,p.key)}),i.TgZ(1,"span",13),i._uU(2),i.qZA(),i.TgZ(3,"button",14),i.NdJ("click",function(o){const d=i.CHM(e).$implicit;return i.oxw(4).toggleRefVisibility(o,d.refName)}),i.TgZ(4,"mat-icon"),i._uU(5),i.qZA(),i.qZA(),i.qZA()}if(2&a){const e=t.$implicit,n=i.oxw(4);i.Q6J("title",e.refName),i.xp6(2),i.Oqu(e.name),i.xp6(1),i.ekj("show",null!==e.invisible),i.Q6J("title",n.visibilityTitle(e.invisible)),i.xp6(2),i.Oqu(e.invisible?"visibility_off":"visibility")}}function wl(a,t){if(1&a&&(i.TgZ(0,"ul",22),i.YNc(1,cc,6,6,"li",23),i.qZA()),2&a){const e=i.oxw().$implicit,n=i.oxw(2);i.Q6J("@slide",void 0),i.xp6(1),i.Q6J("ngForOf",e.value.branches)("ngForTrackBy",n.branchTrackBy)}}function dc(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"li",18),i.NdJ("click",function(){const s=i.CHM(e).$implicit;return i.oxw(2).expandRemote(s.key,!s.value.isExpanded)}),i.TgZ(1,"div",19),i.TgZ(2,"span",13),i._uU(3),i.qZA(),i.TgZ(4,"div",20),i.YNc(5,sd,2,0,"mat-icon",4),i.TgZ(6,"mat-icon"),i._uU(7),i.qZA(),i.qZA(),i.qZA(),i.YNc(8,wl,2,3,"ul",21),i.qZA()}if(2&a){const e=t.$implicit;i.Q6J("title",e.key),i.xp6(3),i.Oqu(e.key),i.xp6(2),i.Q6J("ngIf",e.value.invisible),i.xp6(2),i.Oqu(e.value.isExpanded?"expand_less":"expand_more"),i.xp6(1),i.Q6J("ngIf",e.value.isExpanded)}}function yl(a,t){if(1&a&&(i.TgZ(0,"mat-expansion-panel"),i.TgZ(1,"mat-expansion-panel-header"),i.TgZ(2,"mat-panel-title"),i.TgZ(3,"mat-icon",2),i._uU(4,"cloud_queue"),i.qZA(),i._uU(5," Remote "),i.YNc(6,lc,2,0,"mat-icon",15),i.qZA(),i.qZA(),i.TgZ(7,"ul"),i.YNc(8,dc,9,5,"li",16),i.qZA(),i.qZA()),2&a){const e=t.ngIf,n=i.oxw();i.xp6(6),i.Q6J("ngIf",n.remotesInvisible(e)),i.xp6(2),i.Q6J("ngForOf",e)("ngForTrackBy",n.remoteTrackBy)}}function ko(a,t){1&a&&(i.TgZ(0,"mat-icon",17),i._uU(1,"visibility_off"),i.qZA())}function Sl(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"li",25),i.NdJ("click",function(){const s=i.CHM(e).$implicit;return i.oxw(2).jumpToCommit(s.commitId)})("contextmenu",function(o){const d=i.CHM(e).$implicit;return i.oxw(2).openContextMenu(o,"tag",d.name,d.commitId)}),i.TgZ(1,"span",13),i._uU(2),i.qZA(),i.TgZ(3,"button",14),i.NdJ("click",function(o){const d=i.CHM(e).$implicit;return i.oxw(2).toggleRefVisibility(o,d.refName)}),i.TgZ(4,"mat-icon"),i._uU(5),i.qZA(),i.qZA(),i.qZA()}if(2&a){const e=t.$implicit,n=i.oxw(2);i.Q6J("title",e.refName),i.xp6(2),i.Oqu(e.name),i.xp6(1),i.ekj("show",null!==e.invisible),i.Q6J("title",n.visibilityTitle(e.invisible)),i.xp6(2),i.Oqu(e.invisible?"visibility_off":"visibility")}}function Ls(a,t){if(1&a&&(i.TgZ(0,"mat-expansion-panel"),i.TgZ(1,"mat-expansion-panel-header"),i.TgZ(2,"mat-panel-title"),i.TgZ(3,"mat-icon",2),i._uU(4,"label"),i.qZA(),i._uU(5," Tag "),i.YNc(6,ko,2,0,"mat-icon",15),i.qZA(),i.qZA(),i.TgZ(7,"ul"),i.YNc(8,Sl,6,6,"li",24),i.qZA(),i.qZA()),2&a){const e=t.ngIf,n=i.oxw();i.xp6(6),i.Q6J("ngIf",n.tagsInvisible(e)),i.xp6(2),i.Q6J("ngForOf",e)("ngForTrackBy",n.branchTrackBy)}}function Hr(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"button",29),i.NdJ("click",function(){i.CHM(e);const o=i.oxw().data,s=i.oxw();return s.checkoutBranch(o.name),s.closeContextMenu()}),i.TgZ(1,"mat-icon"),i._uU(2,"get_app"),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA(),i.qZA()}if(2&a){const e=i.oxw().data;i.Q6J("title","Checkout branch "+e.name),i.xp6(4),i.hij("Checkout branch ",e.name,"")}}function uc(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"button",29),i.NdJ("click",function(){i.CHM(e);const o=i.oxw().data,s=i.oxw();return s.checkoutRemoteBranch(o.remoteName,o.commitId,s.removeRemoteFromName(o.name)),s.closeContextMenu()}),i.TgZ(1,"mat-icon"),i._uU(2,"get_app"),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA(),i.qZA()}if(2&a){const e=i.oxw().data,n=i.oxw();i.Q6J("title","Checkout branch "+n.removeRemoteFromName(e.name)),i.xp6(4),i.hij("Checkout branch ",n.removeRemoteFromName(e.name),"")}}function hr(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"button",29),i.NdJ("click",function(){i.CHM(e);const o=i.oxw().data,s=i.oxw();return s.checkoutRemoteBranch(o.remoteName,o.commitId,s.removeRemoteFromName(o.name)),s.closeContextMenu()}),i.TgZ(1,"mat-icon"),i._uU(2,"arrow_downward"),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA(),i.qZA()}if(2&a){const e=i.oxw().data;i.Q6J("title","Create local branch from "+e.name),i.xp6(4),i.hij("Create local branch from ",e.name,"")}}function ir(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"button",29),i.NdJ("click",function(){const s=i.CHM(e).$implicit,d=i.oxw(4).data,p=i.oxw();return p.merge(d.name,s.commitId,s.name),p.closeContextMenu()}),i.ALo(1,"async"),i._uU(2),i.qZA()}if(2&a){const e=t.$implicit,n=i.oxw(5);i.ekj("bold",e.name===i.lcZ(1,4,n.currentBranch)),i.Q6J("title",e.name),i.xp6(2),i.Oqu(e.name)}}function La(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"button",29),i.NdJ("click",function(){const s=i.CHM(e).$implicit,d=i.oxw(4).data,p=i.oxw();return p.merge(d.name,s.commitId,s.name),p.closeContextMenu()}),i._uU(1),i.qZA()}if(2&a){const e=t.$implicit;i.Q6J("title",e.name),i.xp6(1),i.Oqu(e.name)}}function _u(a,t){if(1&a&&(i.TgZ(0,"div",34),i.YNc(1,ir,3,6,"button",35),i.YNc(2,La,2,2,"button",36),i.ALo(3,"async"),i.qZA()),2&a){const e=i.oxw().ngIf,n=i.oxw(2).data,o=i.oxw();i.xp6(1),i.Q6J("ngForOf",o.filterBranches(e,n.commitId)),i.xp6(1),i.Q6J("ngForOf",o.filterBranches(i.lcZ(3,2,o.remoteBranches),n.commitId))}}function xl(a,t){if(1&a){const e=i.EpF();i.ynx(0),i.TgZ(1,"button",29,30),i.NdJ("click",function(o){i.CHM(e);const s=i.MAs(2),d=i.MAs(9);return i.oxw(3).openSubMenu(o,s,d)}),i._UZ(3,"mat-icon",31),i.TgZ(4,"span"),i._uU(5),i.qZA(),i.TgZ(6,"mat-icon",32),i._uU(7,"chevron_right"),i.qZA(),i.qZA(),i.YNc(8,_u,4,4,"ng-template",null,33,i.W1O),i.BQk()}if(2&a){const e=i.oxw(2).data;i.xp6(1),i.Q6J("title","Merge into "+e.name+" from..."),i.xp6(4),i.hij("Merge into ",e.name," from")}}function Cu(a,t){if(1&a&&(i.ynx(0),i.YNc(1,xl,10,2,"ng-container",4),i.ALo(2,"async"),i.BQk()),2&a){const e=i.oxw(2);i.xp6(1),i.Q6J("ngIf",i.lcZ(2,1,e.local))}}function zr(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"button",29),i.NdJ("click",function(){const s=i.CHM(e).$implicit,d=i.oxw(3).data,p=i.oxw();return p.merge(s.name,d.commitId,d.name),p.closeContextMenu()}),i.ALo(1,"async"),i._uU(2),i.qZA()}if(2&a){const e=t.$implicit,n=i.oxw(4);i.ekj("bold",e.name===i.lcZ(1,4,n.currentBranch)),i.Q6J("title",e.name),i.xp6(2),i.Oqu(e.name)}}function Ga(a,t){if(1&a&&(i.TgZ(0,"div",34),i.YNc(1,zr,3,6,"button",35),i.qZA()),2&a){const e=i.oxw().ngIf,n=i.oxw().data,o=i.oxw();i.xp6(1),i.Q6J("ngForOf",o.filterBranches(e,n.commitId))}}function bu(a,t){if(1&a){const e=i.EpF();i.ynx(0),i.TgZ(1,"button",29,37),i.NdJ("click",function(o){i.CHM(e);const s=i.MAs(2),d=i.MAs(9);return i.oxw(2).openSubMenu(o,s,d)}),i._UZ(3,"mat-icon",31),i.TgZ(4,"span"),i._uU(5),i.qZA(),i.TgZ(6,"mat-icon",32),i._uU(7,"chevron_right"),i.qZA(),i.qZA(),i.YNc(8,Ga,2,1,"ng-template",null,38,i.W1O),i.BQk()}if(2&a){const e=i.oxw().data;let n,o;i.xp6(1),i.Q6J("title","Merge from "+(null!==(n="tag"!==e.type?e.name:null)&&void 0!==n?n:"this commit")+" into..."),i.xp6(4),i.hij("Merge from ",null!==(o="tag"!==e.type?e.name:null)&&void 0!==o?o:"this commit"," into")}}function rd(a,t){if(1&a&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&a){const e=i.oxw(2).data,n=i.oxw();i.xp6(1),i.hij("Pull from ",n.formatUpstreamName(e.upstreamName),"")}}function Ur(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"button",29),i.NdJ("click",function(){i.CHM(e);const o=i.oxw().data;return i.oxw().pull(o.name)}),i.TgZ(1,"mat-icon"),i._uU(2,"arrow_downward"),i.qZA(),i.YNc(3,rd,2,1,"span",4),i.qZA()}if(2&a){const e=i.oxw().data,n=i.oxw();i.Q6J("title","Pull from upstream branch "+n.formatUpstreamName(e.upstreamName)),i.xp6(3),i.Q6J("ngIf",e.upstreamName)}}function Er(a,t){if(1&a&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&a){const e=i.oxw(2).data,n=i.oxw();i.xp6(1),i.hij("Change upstream branch from ",n.formatUpstreamName(e.upstreamName)," to")}}function gi(a,t){1&a&&(i.TgZ(0,"span"),i._uU(1,"Set upstream branch to"),i.qZA())}function qo(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"button",29,39),i.NdJ("click",function(o){i.CHM(e);const s=i.MAs(1);i.oxw();const d=i.MAs(11);return i.oxw().openSubMenu(o,s,d)}),i.TgZ(2,"mat-icon"),i._uU(3,"keyboard_double_arrow_up"),i.qZA(),i.YNc(4,Er,2,1,"span",4),i.YNc(5,gi,2,0,"span",4),i.TgZ(6,"mat-icon",32),i._uU(7,"chevron_right"),i.qZA(),i.qZA()}if(2&a){const e=i.oxw().data,n=i.oxw();i.Q6J("title",e.upstreamName?"Change upstream branch from "+n.formatUpstreamName(e.upstreamName)+" to":"Set upstream branch to"),i.xp6(4),i.Q6J("ngIf",e.upstreamName),i.xp6(1),i.Q6J("ngIf",!e.upstreamName)}}function cs(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"button",29),i.NdJ("click",function(){const s=i.CHM(e).$implicit,d=i.oxw(2).data,p=i.oxw();return p.setUpstreamBranch(d.name,s.name),p.closeContextMenu()}),i._uU(1),i.qZA()}if(2&a){const e=t.$implicit;i.Q6J("title",e.name),i.xp6(1),i.Oqu(e.name)}}function Ds(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"div",34),i.TgZ(1,"button",40),i.NdJ("click",function(){i.CHM(e);const o=i.oxw().data,s=i.oxw();return s.setUpstreamBranch(o.name,null),s.closeContextMenu()}),i._uU(2,"None"),i.qZA(),i.YNc(3,cs,2,2,"button",36),i.ALo(4,"async"),i.qZA()}if(2&a){const e=i.oxw(2);i.xp6(3),i.Q6J("ngForOf",i.lcZ(4,1,e.remoteBranches))}}function $o(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"button",29),i.NdJ("click",function(){i.CHM(e);const o=i.oxw().data,s=i.oxw();return s.renameBranch(o.name,o.type),s.closeContextMenu()}),i.TgZ(1,"mat-icon"),i._uU(2,"edit"),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA(),i.qZA()}if(2&a){const e=i.oxw().data;i.Q6J("title","Rename "+e.typeName+" "+e.name),i.xp6(4),i.AsE("Rename ",e.typeName," ",e.name,"")}}function Es(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"button",29),i.NdJ("click",function(){i.CHM(e);const o=i.oxw().data,s=i.oxw();return s.deleteBranchOrTag(o.name,o.type),s.closeContextMenu()}),i.TgZ(1,"mat-icon"),i._uU(2,"delete"),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA(),i.qZA()}if(2&a){const e=i.oxw().data;i.Q6J("title","Delete "+e.typeName+" "+e.name),i.xp6(4),i.AsE("Delete ",e.typeName," ",e.name,"")}}function hc(a,t){if(1&a&&(i.TgZ(0,"div",26),i.YNc(1,Hr,5,2,"button",27),i.ALo(2,"async"),i.YNc(3,uc,5,2,"button",27),i.YNc(4,hr,5,2,"button",27),i.YNc(5,Cu,3,3,"ng-container",4),i.YNc(6,bu,10,2,"ng-container",4),i.ALo(7,"async"),i.YNc(8,Ur,4,2,"button",27),i.YNc(9,qo,8,3,"button",27),i.YNc(10,Ds,5,3,"ng-template",null,28,i.W1O),i.YNc(12,$o,5,3,"button",27),i.YNc(13,Es,5,3,"button",27),i.qZA()),2&a){const e=t.data,n=i.oxw();i.xp6(1),i.Q6J("ngIf","local"===e.type&&e.name!==i.lcZ(2,9,n.currentBranch)),i.xp6(2),i.Q6J("ngIf","remote"===e.type&&n.localBranchExists(n.removeRemoteFromName(e.name))),i.xp6(1),i.Q6J("ngIf","remote"===e.type&&!n.localBranchExists(n.removeRemoteFromName(e.name))),i.xp6(1),i.Q6J("ngIf","local"===e.type),i.xp6(1),i.Q6J("ngIf",i.lcZ(7,11,n.local)),i.xp6(2),i.Q6J("ngIf","local"===e.type&&e.upstreamName),i.xp6(1),i.Q6J("ngIf","local"===e.type),i.xp6(3),i.Q6J("ngIf","local"===e.type),i.xp6(1),i.Q6J("ngIf","remote"!==e.type)}}function Da(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"li",42),i.NdJ("click",function(){const s=i.CHM(e).$implicit;return i.oxw(2).openSubmodule(s)}),i.TgZ(1,"span",13),i._uU(2),i.qZA(),i.qZA()}if(2&a){const e=t.$implicit;i.oxw(2);const n=i.MAs(33);i.Q6J("title",e)("appContextMenu",n)("appContextMenuData",e),i.xp6(2),i.Oqu(e)}}function Oi(a,t){if(1&a&&(i.TgZ(0,"ul"),i.YNc(1,Da,3,4,"li",41),i.qZA()),2&a){const e=t.ngIf;i.xp6(1),i.Q6J("ngForOf",e)}}function no(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"div",26),i.TgZ(1,"button",29),i.NdJ("click",function(){const s=i.CHM(e).data;return i.oxw().editSubmodule(s)}),i.TgZ(2,"mat-icon"),i._uU(3,"edit"),i.qZA(),i.TgZ(4,"span"),i._uU(5,"Edit"),i.qZA(),i.qZA(),i.TgZ(6,"button",29),i.NdJ("click",function(){const s=i.CHM(e).data;return i.oxw().deleteSubmodule(s)}),i.TgZ(7,"mat-icon"),i._uU(8,"delete"),i.qZA(),i.TgZ(9,"span"),i._uU(10,"Delete"),i.qZA(),i.qZA(),i.qZA()}if(2&a){const e=t.data;i.xp6(1),i.Q6J("title",e.name),i.xp6(5),i.Q6J("title",e.name)}}function Bo(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"h2",43),i._uU(1,"Add Submodule"),i.qZA(),i.TgZ(2,"form",44),i.TgZ(3,"mat-dialog-content"),i.TgZ(4,"div"),i.TgZ(5,"mat-form-field",45,46),i.TgZ(7,"mat-icon",47),i._uU(8,"public"),i.qZA(),i.TgZ(9,"mat-label"),i._uU(10,"URL"),i.qZA(),i._UZ(11,"input",48),i.qZA(),i.TgZ(12,"mat-form-field",49,50),i.TgZ(14,"mat-label"),i._uU(15,"Path to clone to"),i.qZA(),i.TgZ(16,"mat-icon",47),i._uU(17,"folder"),i.qZA(),i._UZ(18,"input",51),i.TgZ(19,"button",52),i.NdJ("click",function(){return i.CHM(e),i.oxw().browsePath()}),i._uU(20,"Browse"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(21,"mat-dialog-actions"),i.TgZ(22,"button",53),i._uU(23,"Cancel"),i.qZA(),i.TgZ(24,"button",54),i._uU(25,"Add"),i.qZA(),i.qZA(),i.qZA()}if(2&a){const e=i.oxw();i.xp6(2),i.Q6J("formGroup",e.addSubmoduleForm.ng),i.xp6(20),i.Q6J("mat-dialog-close",null),i.xp6(2),i.Q6J("mat-dialog-close",e.addSubmoduleForm.value)("disabled",e.addSubmoduleForm.invalid)}}function To(a,t){if(1&a&&(i.TgZ(0,"h2",43),i._uU(1),i.qZA(),i.TgZ(2,"form",55),i.TgZ(3,"mat-dialog-content"),i.TgZ(4,"div"),i.TgZ(5,"mat-form-field",45,56),i.TgZ(7,"mat-icon",47),i._uU(8,"public"),i.qZA(),i.TgZ(9,"mat-label"),i._uU(10,"URL"),i.qZA(),i._UZ(11,"input",48),i.qZA(),i.qZA(),i.qZA(),i.TgZ(12,"mat-dialog-actions"),i.TgZ(13,"button",53),i._uU(14,"Cancel"),i.qZA(),i.TgZ(15,"button",57),i._uU(16,"Confirm"),i.qZA(),i.qZA(),i.qZA()),2&a){const e=t.$implicit,n=i.oxw();i.xp6(1),i.hij("Edit Submodule ",e.name,""),i.xp6(1),i.Q6J("formGroup",n.editSubmoduleForm.ng),i.xp6(11),i.Q6J("mat-dialog-close",null),i.xp6(2),i.Q6J("mat-dialog-close",n.editSubmoduleForm.value)}}function ss(a,t){if(1&a&&(i.TgZ(0,"h2",43),i._uU(1,"Remove Submodule"),i.qZA(),i.TgZ(2,"mat-dialog-content"),i._uU(3),i.qZA(),i.TgZ(4,"mat-dialog-actions"),i.TgZ(5,"button",53),i._uU(6,"Cancel"),i.qZA(),i.TgZ(7,"button",58),i._uU(8,"Confirm"),i.qZA(),i.qZA()),2&a){const e=t.$implicit;i.xp6(3),i.hij(" Submodule ",e.name," has uncommitted changes, are you sure you want to remove it? "),i.xp6(2),i.Q6J("mat-dialog-close",null),i.xp6(2),i.Q6J("mat-dialog-close",!0)}}let es=(()=>{class a extends((0,un.j)(Ln.A)){constructor(e,n,o,s,d,p,V){super(),this.overlay=e,this.viewContainerRef=n,this.dialog=o,this.store=s,this.filesApi=d,this.submodulesApi=p,this.repositoryActionsService=V,this.currentBranch=this.store.select(cn.E.selectedRepositoryCurrentBranch).pipe((0,nt.U)(H=>H?.replace(/^refs\/heads\//,""))),this.hasSubmodules=this.selectedRepositorySubmodules.pipe((0,nt.U)(H=>H.length>0)),this.addSubmoduleForm=new qt.CN({path:new qt.rV,url:new qt.rV}),this.editSubmoduleForm=new qt.CN({url:new qt.rV}),this.addSubmoduleDialogRef=null,this.editSubmoduleDialogRef=null,this.overlayRef=new mn.X(null),this.subMenuOverlayRef=new mn.X(null),this.openContextMenu=(H,U,ne,be,Ee=null,Ke=null)=>{H.preventDefault(),H.stopPropagation(),this.closeContextMenu();const ct=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo({x:H.x,y:H.y}).withPositions([{originX:"end",originY:"bottom",overlayX:"start",overlayY:"top"}])});let Pt;switch(U){case"local":case"remote":Pt="branch";break;case"tag":Pt="tag";break;default:throw new Error(`Invalid branch type: ${U}`)}this.overlayRef.next(ct),ct.attach(new He.UE(this.branchMenuTemplate,this.viewContainerRef,{data:{type:U,typeName:Pt,name:ne,commitId:be,upstreamName:Ee,remoteName:Ke}})),(0,ni.T)(ct.backdropClick(),ct.outsidePointerEvents(),(0,fi.R)(ct.overlayElement,"click")).pipe((0,St.q)(1),(0,Se.R)(this.destroyed$)).subscribe(()=>this.closeContextMenu())},this.closeContextMenu=()=>{this.overlayRef.value&&(this.overlayRef.value.dispose(),this.overlayRef.next(null)),this.closeSubMenu()},this.openSubMenu=(H,U,ne)=>{H.preventDefault(),H.stopPropagation(),this.closeSubMenu();const be=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo(U).withPositions([{originX:"end",originY:"top",overlayX:"start",overlayY:"top"}])});this.subMenuOverlayRef.next(be),be.attach(new He.UE(ne,this.viewContainerRef)),(0,ni.T)(be.backdropClick(),be.outsidePointerEvents(),(0,fi.R)(be.overlayElement,"click")).pipe((0,St.q)(1),(0,Se.R)(this.destroyed$)).subscribe(()=>this.closeSubMenu())},this.closeSubMenu=()=>{this.subMenuOverlayRef.value&&(this.subMenuOverlayRef.value.dispose(),this.subMenuOverlayRef.next(null))},this.filterBranches=(H,U)=>(H??[]).filter(ne=>ne.commitId!==U),this.merge=(H,U,ne)=>{const be=this.store.selectSnapshot(cn.E.selectedRepositoryPath);be&&this.repositoryActionsService.createMerge(be,ne??null,U,H).subscribe()},this.pull=H=>{const U=this.store.selectSnapshot(cn.E.selectedRepository);if(!U)throw new Error("Cannot pull when no repository is selected");this.repositoryActionsService.pull(U.path,U.selectedRemote,this.store.selectSnapshot(cn.E.selectedRepositoryCredentials),H).subscribe()},this.browsePath=()=>{const H=this.store.selectSnapshot(cn.E.selectedRepositoryPath);if(!H)throw new Error("Cannot browse submodule path when no repository is selected");this.filesApi.openFolderDialog(H).pipe((0,uo.h)(ps.$K),(0,Ne.w)(U=>this.filesApi.getRelativePath(H,U)),(0,Se.R)(this.destroyed$)).subscribe(U=>{this.addSubmoduleForm.controls.path.setValue(U)})},this.addSubmodule=()=>{this.addSubmoduleDialogRef&&this.addSubmoduleDialogRef.close(),this.addSubmoduleForm.reset(),this.addSubmoduleDialogRef=this.dialog.open(this.addSubmoduleDialog),this.addSubmoduleDialogRef.afterOpened().pipe((0,Se.R)(this.destroyed$)).subscribe(()=>{this.addSubmoduleDialogFormFields.forEach(H=>{H.updateOutlineGap()})}),this.addSubmoduleDialogRef.afterClosed().pipe((0,Se.R)(this.destroyed$)).subscribe(H=>{if(!H)return;if(!H.path)throw new Error("Cannot add a submodule with no path");if(!H.url)throw new Error("Cannot add a submodule with no url");const U=this.store.selectSnapshot(cn.E.selectedRepository);if(!U)throw new Error("Cannot add a submodule with no repository selected");const ne=this.store.selectSnapshot(cn.E.selectedRepositoryCredentials),be=U.selectedRemote;this.repositoryActionsService.addSubmodule(U.path,H.url,H.path,be?ne[be]??void 0:void 0).subscribe(Ke=>this.store.dispatch(new _n.gz(Ke.path,{profiles:U.profiles,selectedRemote:U.selectedRemote})))})},this.editSubmodule=H=>{this.editSubmoduleDialogRef&&this.editSubmoduleDialogRef.close();const U=this.store.selectSnapshot(cn.E.selectedRepositoryPath);if(!U)throw new Error("Cannot edit a submodule with no repository selected");this.editSubmoduleForm.reset(),this.submodulesApi.getSubmodule(U,H).subscribe(ne=>{this.editSubmoduleForm.controls.url.setValue(ne.url,{emitEvent:!1})}),this.editSubmoduleDialogRef=this.dialog.open(this.editSubmoduleDialog,{data:{name:H}}),this.editSubmoduleDialogRef.afterOpened().pipe((0,Se.R)(this.destroyed$)).subscribe(()=>{this.editSubmoduleDialogFormFields.forEach(ne=>{ne.updateOutlineGap()})}),this.editSubmoduleDialogRef.afterClosed().pipe((0,Se.R)(this.destroyed$)).subscribe(ne=>{if(ne){if(!ne.url)throw new Error("Cannot edit a submodule with no url");this.repositoryActionsService.editSubmodule(U,H,ne.url).subscribe()}})},this.deleteSubmodule=H=>{const U=this.store.selectSnapshot(cn.E.selectedRepositoryPath);if(!U)throw new Error("Cannot add a submodule with no repository selected");this.submodulesApi.deleteSubmodule(U,H,!1).pipe((0,jt.K)(ne=>rn.Nu.matches(ne)?(this.dialog.open(this.removeSubmoduleDialog,{data:{name:H}}).afterClosed().pipe((0,Se.R)(this.destroyed$)).subscribe(Ee=>{Ee&&this.submodulesApi.deleteSubmodule(U,H,!0).subscribe()}),Mt.E):(0,Vt._)(ne))).subscribe()},this.deleteBranchOrTag=(H,U)=>{const ne=this.store.selectSnapshot(cn.E.selectedRepositoryPath);if(!ne)throw new Error("Cannot delete branch when no repository is selected");if("local"===U)this.repositoryActionsService.deleteBranch(ne,`refs/heads/${H}`).subscribe();else{if("tag"!==U)throw new Error(`Cannot delete remote branch '${H}'`);this.repositoryActionsService.deleteTag(ne,H).subscribe()}},this.renameBranch=(H,U)=>{const ne=this.store.selectSnapshot(cn.E.selectedRepositoryPath);if(!ne)throw new Error("Cannot rename branch when no repository is selected");if("local"!==U)throw new Error(`Can only rename local branches, '${H}' is not valid`);this.repositoryActionsService.renameBranch(ne,H).subscribe()},this.mergeToCurrentBranch=(H,U,ne,be)=>{const Ee=this.store.selectSnapshot(cn.E.selectedRepositoryPath),Ke=this.store.selectSnapshot(cn.E.selectedRepositoryCurrentBranch);if(!Ee)throw new Error("Cannot merge when no repository is selected");if(!Ke)throw new Error("Cannot merge when no branch is checked out");if("local"!==ne&&"remote"!==ne&&"tag"!==ne)throw new Error("Cannot merge from the stash");this.repositoryActionsService.createMerge(Ee,"local"===ne?U:"remote"===ne?`${be}/${U}`:"tag"===ne?U:null,H,Ke).subscribe()},this.getBranchName=(H,U,ne)=>{switch(U){case"local":case"tag":return H;case"remote":return`${ne}/${H}`;default:throw new Error(`Invalid branch type: ${U}`)}},this.getBranchType=H=>{switch(H){case"local":case"remote":return"branch";case"tag":return"tag";default:throw new Error(`Invalid branch type: ${H}`)}},this.toggleRefVisibility=(H,U)=>{H.preventDefault(),H.stopPropagation();const ne=this.store.selectSnapshot(cn.E.selectedRepositoryPath);if(!ne)throw new Error("Cannot toggle reference visibility if no repository is selected.");let be=this.store.selectSnapshot(cn.E.selectedRepositoryVisibleReferences);be?be.findIndex(Ke=>Ke===U)>=0?(be=be.filter(Ke=>Ke!==U),be.length<=0&&(be=null)):be=[...be,U]:be=[U],this.store.dispatch([new At.Dr(ne,be),new _n.Vu(ne)])},this.visibilityTitle=H=>H?"Show":null===H?"Show only this":"Hide",this.remotesInvisible=H=>H.every(U=>U.value.invisible),this.tagsInvisible=H=>H.every(U=>U.invisible),this.localBranchExists=H=>this.store.selectSnapshot(cn.E.selectedRepositoryLocalBranches)?.some(ne=>ne.name===`refs/heads/${H}`)??!1,this.formatUpstreamName=H=>H?.replace(/^refs\/remotes\//,""),this.removeRemoteFromName=H=>H.replace(/^.*?\//,""),this.getLocalBranchName=H=>H.name.replace(/^refs\/heads\//,""),this.getRemoteName=H=>(/^refs\/remotes\/([^\/]+)\//.exec(H.name)??[])[1],this.getRemoteBranchName=H=>H.name.replace(/^refs\/remotes\/[^\/]+\//,""),this.getRemoteBranchFullName=H=>H.name.replace(/^refs\/remotes\//,""),this.getTagName=H=>H.name.replace(/^refs\/tags\//,""),this.sortTags=(H,U)=>{}}ngOnInit(){this.local=(0,rt.aj)([this.selectedRepositoryLocalBranches,this.store.select(cn.E.selectedRepositoryCurrentBranch),this.store.select(cn.E.selectedRepositoryVisibleReferences)]).pipe((0,nt.U)(([n,o,s])=>{const d=n?.find(V=>V.name===o);return[...d?[d]:[],...Fo(n??[],V=>V.name).filter(V=>V.name!==o)].map(V=>({commitId:V.target,name:this.getLocalBranchName(V),refName:V.name,upstreamName:V.upstreamName,invisible:s?!s.includes(V.name):null}))})),this.remoteBranches=(0,rt.aj)([this.selectedRepositoryRemoteBranches,this.store.select(cn.E.selectedRepositoryVisibleReferences)]).pipe((0,nt.U)(([n,o])=>Fo(n??[],s=>s.name).map(s=>({commitId:s.target,name:this.getRemoteBranchFullName(s),refName:s.name,upstreamName:null,invisible:o?!o.includes(s.name):null})))),this.remotes=(0,rt.aj)([this.selectedRepositoryRemoteBranches,this.store.select(cn.E.selectedRepositoryVisibleReferences)]).pipe(yt(this.remoteSettings),(0,nt.U)(([[n,o],s])=>Object.fromEntries(Object.entries((0,$e.Z)(n,d=>this.getRemoteName(d))).map(([d,p])=>[d,{isExpanded:s?.get(d)?.isExpanded??!1,invisible:o?!o.some(V=>V.startsWith(`refs/remotes/${d}/`)):null,branches:Fo(p.map(V=>({commitId:V.target,name:this.getRemoteBranchName(V),refName:V.name,upstreamName:null,invisible:o?!o.includes(V.name):null})),V=>V.name)}])))),this.tags=(0,rt.aj)([this.selectedRepositoryTags,this.store.select(cn.E.selectedRepositoryVisibleReferences)]).pipe((0,nt.U)(([n,o])=>(n??[]).map(s=>({commitId:s.target,name:this.getTagName(s),refName:s.name,upstreamName:null,invisible:o?!o.includes(s.name):null}))),(0,nt.U)(n=>Fo(n,o=>o.name)));const e=/\/([^/]*?)(?:\.git)?\/?$/;this.addSubmoduleForm.controls.url.valueChanges.pipe((0,Se.R)(this.destroyed$)).subscribe(n=>{if(this.addSubmoduleForm.controls.path.pristine){const o=e.exec(n);o&&this.addSubmoduleForm.controls.path.setValue(o[1])}})}jumpToCommit(e){this.store.selectOnce(cn.E.selectedRepositoryPath).subscribe(n=>{if(!n)throw new Error("Cannot jump to commit when no repository is selected.");this.store.dispatch([new _n.jQ(n,e),new _n.BK(n,e)])})}checkoutBranch(e){const n=this.store.selectSnapshot(cn.E.selectedRepositoryPath);n&&this.repositoryActionsService.checkoutBranch(n,`refs/heads/${e}`).subscribe()}checkoutRemoteBranch(e,n,o){if(this.store.selectSnapshot(cn.E.selectedRepositoryLocalBranches)?.find(p=>p.name===`refs/heads/${o}`))this.checkoutBranch(o);else{const p=this.store.selectSnapshot(cn.E.selectedRepositoryPath);if(!p)throw new Error("Cannot checkout branch when no repository is selected");this.repositoryActionsService.createBranchWithDetails(p,n,o,`${e}/${o}`,!0).subscribe()}}openSubmodule(e){const n=this.store.selectSnapshot(cn.E.selectedRepository);if(!n)throw new Error("Cannot open a submodule when no repository is selected");const o=n.selectedRemote,s=this.store.selectSnapshot(cn.E.selectedRepositoryCredentials);this.submodulesApi.cloneSubmodule(n.path,e,o?s[o]??void 0:void 0).pipe((0,jt.K)(p=>Vr.matches(p)?(0,ut.of)(p.submodulePath):(0,Vt._)(p)),(0,Ne.w)(p=>this.store.dispatch(new _n.gz(p)).pipe((0,Ne.w)(()=>this.store.dispatch(new _n.he(p))),(0,Ne.w)(()=>this.store.dispatch(new _n.BZ(p)))))).subscribe()}expandRemote(e,n){const o=this.store.selectSnapshot(cn.E.selectedRepositoryPath);o&&this.store.dispatch(new _n.Q7(o,e,{isExpanded:n}))}branchTrackBy(e,n){return`${n.commitId}:${n.refName}`}remoteTrackBy(e,n){return n.key}setUpstreamBranch(e,n){const o=this.store.selectSnapshot(cn.E.selectedRepositoryPath);if(!o)throw new Error("Cannot merge when no repository is selected");this.repositoryActionsService.setUpstreamBranch(o,e,n).subscribe()}}return a.\u0275fac=function(e){return new(e||a)(i.Y36(dt.aV),i.Y36(i.s_b),i.Y36(g.uw),i.Y36(Pe.yh),i.Y36(Os.k),i.Y36(zn.N),i.Y36(Ii))},a.\u0275cmp=i.Xpm({type:a,selectors:[["app-branches-view"]],viewQuery:function(e,n){if(1&e&&(i.Gf(Yr,5),i.Gf(rc,5),i.Gf(sa,5),i.Gf(Za,5),i.Gf(ac,5),i.Gf(ra,5)),2&e){let o;i.iGM(o=i.CRH())&&(n.branchMenuTemplate=o.first),i.iGM(o=i.CRH())&&(n.addSubmoduleDialog=o.first),i.iGM(o=i.CRH())&&(n.editSubmoduleDialog=o.first),i.iGM(o=i.CRH())&&(n.removeSubmoduleDialog=o.first),i.iGM(o=i.CRH())&&(n.addSubmoduleDialogFormFields=o),i.iGM(o=i.CRH())&&(n.editSubmoduleDialogFormFields=o)}},features:[i.qOj],decls:40,vars:24,consts:[["multi",""],["expanded",""],[1,"title-icon"],["class","item",3,"selected","title","click","dblclick","contextmenu",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["branchContextMenu",""],[3,"expanded"],["type","button","mat-stroked-button","","title","Add submodule",1,"add-submodule-button",3,"click"],["submoduleContextMenu",""],["addSubmoduleDialog",""],["editSubmoduleDialog",""],["removeSubmoduleDialog",""],[1,"item",3,"title","click","dblclick","contextmenu"],[1,"text"],["type","button","mat-icon-button","",3,"title","click"],["class","visible-icon",4,"ngIf"],["class","remote-item",3,"title","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"visible-icon"],[1,"remote-item",3,"title","click"],[1,"container"],[1,"icons"],["class","sub-list",4,"ngIf"],[1,"sub-list"],["class","item",3,"title","click","dblclick","contextmenu",4,"ngFor","ngForOf","ngForTrackBy"],["class","item",3,"title","click","contextmenu",4,"ngFor","ngForOf","ngForTrackBy"],[1,"item",3,"title","click","contextmenu"],[1,"menu-panel"],["class","menu-item",3,"title","click",4,"ngIf"],["upstream",""],[1,"menu-item",3,"title","click"],["mergeToButton",""],["svgIcon","source-merge"],[1,"expand-icon"],["mergeTo",""],[1,"menu-panel","sub-menu-1"],["class","menu-item",3,"bold","title","click",4,"ngFor","ngForOf"],["class","menu-item",3,"title","click",4,"ngFor","ngForOf"],["mergeFromButton",""],["mergeFrom",""],["upstreamButton",""],[1,"menu-item",3,"click"],["class","item",3,"title","appContextMenu","appContextMenuData","click",4,"ngFor","ngForOf"],[1,"item",3,"title","appContextMenu","appContextMenuData","click"],["mat-dialog-title",""],[1,"add-submodule-form",3,"formGroup"],[1,"url"],["addSubmoduleDialogFormField1",""],["matPrefix",""],["type","text","matInput","","required","","formControlName","url"],[1,"path"],["addSubmoduleDialogFormField2",""],["type","text","matInput","","required","","formControlName","path"],["type","button","matSuffix","","mat-button","",3,"click"],["type","button","mat-button","",3,"mat-dialog-close"],["type","submit","mat-flat-button","","color","primary",3,"mat-dialog-close","disabled"],[1,"edit-submodule-form",3,"formGroup"],["editSubmoduleDialogFormField1",""],["type","submit","mat-flat-button","","color","primary",3,"mat-dialog-close"],["type","submit","mat-button","","color","warn",3,"mat-dialog-close"]],template:function(e,n){1&e&&(i.TgZ(0,"mat-accordion",0),i.TgZ(1,"mat-expansion-panel",1),i.TgZ(2,"mat-expansion-panel-header"),i.TgZ(3,"mat-panel-title"),i.TgZ(4,"mat-icon",2),i._uU(5,"desktop_windows"),i.qZA(),i._uU(6," Local"),i.qZA(),i.qZA(),i.TgZ(7,"ul"),i.YNc(8,xa,7,10,"li",3),i.ALo(9,"async"),i.qZA(),i.qZA(),i.YNc(10,yl,9,3,"mat-expansion-panel",4),i.ALo(11,"nullEmpty"),i.ALo(12,"keyvalue"),i.ALo(13,"async"),i.YNc(14,Ls,9,3,"mat-expansion-panel",4),i.ALo(15,"nullEmpty"),i.ALo(16,"async"),i.YNc(17,hc,14,13,"ng-template",null,5,i.W1O),i.TgZ(19,"mat-expansion-panel",6),i.ALo(20,"async"),i.TgZ(21,"mat-expansion-panel-header"),i.TgZ(22,"mat-panel-title"),i.TgZ(23,"mat-icon",2),i._uU(24,"layers"),i.qZA(),i._uU(25," Submodule"),i.qZA(),i.qZA(),i.YNc(26,Oi,2,1,"ul",4),i.ALo(27,"nullEmpty"),i.ALo(28,"async"),i.TgZ(29,"button",7),i.NdJ("click",function(){return n.addSubmodule()}),i.TgZ(30,"mat-icon"),i._uU(31,"add"),i.qZA(),i.qZA(),i.YNc(32,no,11,2,"ng-template",null,8,i.W1O),i.YNc(34,Bo,26,4,"ng-template",null,9,i.W1O),i.YNc(36,To,17,4,"ng-template",null,10,i.W1O),i.YNc(38,ss,9,3,"ng-template",null,11,i.W1O),i.qZA(),i.qZA()),2&e&&(i.xp6(8),i.Q6J("ngForOf",i.lcZ(9,6,n.local))("ngForTrackBy",n.branchTrackBy),i.xp6(2),i.Q6J("ngIf",i.lcZ(11,8,i.lcZ(12,10,i.lcZ(13,12,n.remotes)))),i.xp6(4),i.Q6J("ngIf",i.lcZ(15,14,i.lcZ(16,16,n.tags))),i.xp6(5),i.Q6J("expanded",i.lcZ(20,18,n.hasSubmodules)),i.xp6(7),i.Q6J("ngIf",i.lcZ(27,20,i.lcZ(28,22,n.selectedRepositorySubmodules))))},directives:[Y.pp,Y.ib,Y.yz,Y.yK,En.Hw,Kt.sg,Kt.O5,Mn.lW,pu.l,g.uh,oe._Y,oe.JL,oe.sg,g.xY,B.KE,B.qo,B.hX,E.Nt,oe.Fj,oe.Q7,oe.JJ,oe.u,B.R9,g.H8,g.ZT],pipes:[Kt.Ov,Hn.x,Kt.Nd],styles:["[_nghost-%COMP%]{display:block;padding:0 10px 10px}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]{height:36px;padding:0 20px}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{height:48px}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]{line-height:24px}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{margin-right:10px}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]   .visible-icon[_ngcontent-%COMP%]{position:absolute;right:42px}mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-body{padding:0 20px 16px}.remote-item[_ngcontent-%COMP%]{cursor:pointer;line-height:28px}.remote-item[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.remote-item[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{overflow-x:hidden;text-overflow:ellipsis;white-space:nowrap;min-width:1px}.remote-item[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%] > .icons[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{line-height:28px;margin-left:5px}.remote-item[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%] > .icons[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]:last-child{margin-right:-7px}.item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;cursor:pointer;line-height:28px;user-select:none}.item.selected[_ngcontent-%COMP%]{font-weight:700}.item[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{overflow-x:hidden;text-overflow:ellipsis;white-space:nowrap;min-width:1px}.item[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:28px;height:28px;line-height:28px;font-size:0;margin-right:-9px;opacity:0;transition:opacity .3s ease-in-out}.item[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover{opacity:1}.item[_ngcontent-%COMP%] > button.show[_ngcontent-%COMP%]{opacity:1}.sub-list[_ngcontent-%COMP%]{margin-left:10px}.add-submodule-button[_ngcontent-%COMP%]{margin-top:10px}.menu-panel[_ngcontent-%COMP%]{background:#424242;border-radius:4px;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;max-height:calc(100vh - 48px);max-width:25vw;min-height:48px;min-width:112px;overflow-x:hidden;overflow-y:auto}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;cursor:pointer;display:flex;font-family:Montserrat;font-size:14px;height:48px;line-height:48px;max-width:100%;outline:none;overflow:hidden;padding:0 16px;user-select:none;text-align:left;text-overflow:ellipsis;width:100%;white-space:nowrap}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:first-child{border-radius:4px 4px 0 0}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:last-child{border-radius:0 0 4px 4px}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover{background:#565656}.menu-panel[_ngcontent-%COMP%]   .menu-item[disabled][_ngcontent-%COMP%]{pointer-events:none;color:#ffffff4d}.menu-panel[_ngcontent-%COMP%]   .menu-item.bold[_ngcontent-%COMP%]{font-weight:bold}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin:12px 16px 12px 0;vertical-align:middle;flex:0 0 auto}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon.expand-icon[_ngcontent-%COMP%]{margin-left:auto;margin-right:0}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.menu-panel.sub-menu-1[_ngcontent-%COMP%]{background:#4a4a4a}.add-submodule-form[_ngcontent-%COMP%], .edit-submodule-form[_ngcontent-%COMP%]{min-width:600px}.add-submodule-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%], .edit-submodule-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.add-submodule-form[_ngcontent-%COMP%]     .mat-form-field-prefix, .edit-submodule-form[_ngcontent-%COMP%]     .mat-form-field-prefix{margin-right:10px}.add-submodule-form[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]     .mat-form-field-suffix, .edit-submodule-form[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]     .mat-form-field-suffix{top:-.25em}"],data:{animation:[(0,Ze.X$)("slide",[(0,Ze.eR)(":enter",[(0,Ze.oB)({height:0}),(0,Ze.jt)("225ms ease-in-out",(0,Ze.oB)({height:"*"}))]),(0,Ze.eR)(":leave",[(0,Ze.oB)({height:"*"}),(0,Ze.jt)("225ms ease-in-out",(0,Ze.oB)({height:0}))])])]},changeDetection:0}),(0,et.gn)([(0,Pe.Ph)(cn.E.selectedRepositoryPath)],a.prototype,"selectedRepositoryPath",void 0),(0,et.gn)([(0,Pe.Ph)(cn.E.selectedRepositoryLocalBranches)],a.prototype,"selectedRepositoryLocalBranches",void 0),(0,et.gn)([(0,Pe.Ph)(cn.E.selectedRepositoryRemoteBranches)],a.prototype,"selectedRepositoryRemoteBranches",void 0),(0,et.gn)([(0,Pe.Ph)(cn.E.selectedRepositoryTags)],a.prototype,"selectedRepositoryTags",void 0),(0,et.gn)([(0,Pe.Ph)(cn.E.selectedRepositorySubmodules)],a.prototype,"selectedRepositorySubmodules",void 0),(0,et.gn)([(0,Pe.Ph)(cn.E.selectedRepositoryRemoteSettings)],a.prototype,"remoteSettings",void 0),a})();var Mr=m(98798),Wo=m(70031),ad=m(14724),ld=Object.defineProperty,Ea=Object.getOwnPropertyDescriptor,Ll=Object.getOwnPropertyNames,Ah=Object.prototype.hasOwnProperty,Qa={};((a,t,e,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of Ll(t))!Ah.call(a,o)&&"default"!==o&&ld(a,o,{get:()=>t[o],enumerable:!(n=Ea(t,o))||n.enumerable})})(Qa,Wo);var lo={},Ya={},fc=class{constructor(a){Uo(this,"_languageId"),Uo(this,"_loadingTriggered"),Uo(this,"_lazyLoadPromise"),Uo(this,"_lazyLoadPromiseResolve"),Uo(this,"_lazyLoadPromiseReject"),this._languageId=a,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((t,e)=>{this._lazyLoadPromiseResolve=t,this._lazyLoadPromiseReject=e})}static getOrCreate(a){return Ya[a]||(Ya[a]=new fc(a)),Ya[a]}load(){return this._loadingTriggered||(this._loadingTriggered=!0,lo[this._languageId].loader().then(a=>this._lazyLoadPromiseResolve(a),a=>this._lazyLoadPromiseReject(a))),this._lazyLoadPromise}};function An(a){const t=a.id;lo[t]=a,Qa.languages.register(a);const e=fc.getOrCreate(t);var n;Qa.languages.registerTokensProviderFactory(t,{create:(n=(0,ad.Z)(function*(){return(yield e.load()).language}),function(){return n.apply(this,arguments)})}),Qa.languages.onLanguage(t,(0,ad.Z)(function*(){const n=yield e.load();Qa.languages.setLanguageConfiguration(t,n.conf)}))}An({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>m.e(1537).then(m.bind(m,61537))}),An({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>m.e(1567).then(m.bind(m,11567))}),An({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>m.e(9815).then(m.bind(m,89815))}),An({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>m.e(929).then(m.bind(m,929))}),An({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>m.e(2925).then(m.bind(m,99307))}),An({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>m.e(1564).then(m.bind(m,41564))}),An({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>m.e(8948).then(m.bind(m,44689))}),An({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>m.e(9952).then(m.bind(m,79952))}),An({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>m.e(3902).then(m.bind(m,83902))}),An({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>m.e(3902).then(m.bind(m,83902))}),An({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>m.e(1695).then(m.bind(m,11695))}),An({id:"csp",extensions:[],aliases:["CSP","csp"],loader:()=>m.e(3417).then(m.bind(m,43417))}),An({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>m.e(5344).then(m.bind(m,5344))}),An({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>m.e(8183).then(m.bind(m,48183))}),An({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>m.e(4387).then(m.bind(m,14387))}),An({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>m.e(8401).then(m.bind(m,48401))}),An({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>m.e(2503).then(m.bind(m,32503))}),An({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>m.e(5437).then(m.bind(m,95437))}),An({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>m.e(8248).then(m.bind(m,38248))}),An({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:()=>m.e(3980).then(m.bind(m,13980)).then(a=>a.TagAutoInterpolationDollar)}),An({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:()=>m.e(3980).then(m.bind(m,13980)).then(a=>a.TagAngleInterpolationDollar)}),An({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:()=>m.e(3980).then(m.bind(m,13980)).then(a=>a.TagBracketInterpolationDollar)}),An({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:()=>m.e(3980).then(m.bind(m,13980)).then(a=>a.TagAngleInterpolationBracket)}),An({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:()=>m.e(3980).then(m.bind(m,13980)).then(a=>a.TagBracketInterpolationBracket)}),An({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:()=>m.e(3980).then(m.bind(m,13980)).then(a=>a.TagAutoInterpolationDollar)}),An({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:()=>m.e(3980).then(m.bind(m,13980)).then(a=>a.TagAutoInterpolationBracket)}),An({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>m.e(1842).then(m.bind(m,91842))}),An({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>m.e(2799).then(m.bind(m,32799))}),An({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>m.e(8379).then(m.bind(m,68379))}),An({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>m.e(2874).then(m.bind(m,82874))}),An({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>m.e(835).then(m.bind(m,80835))}),An({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>m.e(3531).then(m.bind(m,73531))}),An({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>m.e(9572).then(m.bind(m,19572))}),An({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>Promise.all([m.e(8592),m.e(6187)]).then(m.bind(m,26187))}),An({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>m.e(6863).then(m.bind(m,56863))}),An({id:"kotlin",extensions:[".kt"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>m.e(9778).then(m.bind(m,79778))}),An({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>m.e(4374).then(m.bind(m,44374))}),An({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>m.e(8826).then(m.bind(m,68826))}),An({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>m.e(2741).then(m.bind(m,32741))}),An({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>m.e(409).then(m.bind(m,60409))}),An({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>m.e(7264).then(m.bind(m,57264))}),An({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>m.e(727).then(m.bind(m,80727))}),An({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>m.e(4624).then(m.bind(m,44624))}),An({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>m.e(7965).then(m.bind(m,27965))}),An({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>m.e(5984).then(m.bind(m,25984))}),An({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>m.e(5798).then(m.bind(m,75798))}),An({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>m.e(9626).then(m.bind(m,89626))}),An({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>m.e(12).then(m.bind(m,10012))}),An({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:()=>m.e(247).then(m.bind(m,247))}),An({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>m.e(1343).then(m.bind(m,41343))}),An({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>m.e(2994).then(m.bind(m,52994))}),An({id:"pla",extensions:[".pla"],loader:()=>m.e(1823).then(m.bind(m,51823))}),An({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>m.e(3546).then(m.bind(m,23546))}),An({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>m.e(6419).then(m.bind(m,6419))}),An({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>m.e(3976).then(m.bind(m,33976))}),An({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>m.e(8142).then(m.bind(m,88142))}),An({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>m.e(1837).then(m.bind(m,41837))}),An({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>m.e(4677).then(m.bind(m,54677))}),An({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>m.e(2262).then(m.bind(m,32262))}),An({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>m.e(9526).then(m.bind(m,59526))}),An({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>m.e(3851).then(m.bind(m,33851))}),An({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>m.e(7498).then(m.bind(m,47498))}),An({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>m.e(7261).then(m.bind(m,87261))}),An({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>m.e(2469).then(m.bind(m,42469))}),An({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>m.e(2493).then(m.bind(m,52493))}),An({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>m.e(3432).then(m.bind(m,13432))}),An({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>m.e(603).then(m.bind(m,50603))}),An({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>m.e(1822).then(m.bind(m,1822))}),An({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>m.e(1533).then(m.bind(m,51533))}),An({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>m.e(3502).then(m.bind(m,33502))}),An({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>m.e(6010).then(m.bind(m,86010))}),An({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>m.e(8014).then(m.bind(m,78014))}),An({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>m.e(5271).then(m.bind(m,65271))}),An({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>m.e(5797).then(m.bind(m,75797))}),An({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>m.e(2792).then(m.bind(m,32792))}),An({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:()=>m.e(2604).then(m.bind(m,2604))}),An({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>m.e(9110).then(m.bind(m,29110))}),An({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>m.e(4623).then(m.bind(m,94623))}),An({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>m.e(4623).then(m.bind(m,94623))}),An({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>m.e(2621).then(m.bind(m,2621))}),An({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>m.e(3648).then(m.bind(m,33648))}),An({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>m.e(8592).then(m.bind(m,41245))}),An({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>m.e(435).then(m.bind(m,20435))}),An({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>m.e(470).then(m.bind(m,50470))}),An({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>m.e(5462).then(m.bind(m,25462))});var Rh=Object.defineProperty,wu=Object.getOwnPropertyDescriptor,gc=Object.getOwnPropertyNames,Jr=Object.prototype.hasOwnProperty,Xa={};((a,t,e,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of gc(t))!Jr.call(a,o)&&"default"!==o&&Rh(a,o,{get:()=>t[o],enumerable:!(n=wu(t,o))||n.enumerable})})(Xa,Wo);var dd=class{constructor(a,t,e){Uo(this,"_onDidChange",new Xa.Emitter),Uo(this,"_options"),Uo(this,"_modeConfiguration"),Uo(this,"_languageId"),this._languageId=a,this.setOptions(t),this.setModeConfiguration(e)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(a){this._options=a||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(a){this.setOptions(a)}setModeConfiguration(a){this._modeConfiguration=a||Object.create(null),this._onDidChange.fire(this)}},ud={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0}},El={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},mc=new dd("css",ud,El),Ml=new dd("scss",ud,El),Ks=new dd("less",ud,El);function Ma(){return m.e(6765).then(m.bind(m,26765))}Xa.languages.css={cssDefaults:mc,lessDefaults:Ks,scssDefaults:Ml},Xa.languages.onLanguage("less",()=>{Ma().then(a=>a.setupMode(Ks))}),Xa.languages.onLanguage("scss",()=>{Ma().then(a=>a.setupMode(Ml))}),Xa.languages.onLanguage("css",()=>{Ma().then(a=>a.setupMode(mc))});var hd=Object.defineProperty,pc=Object.getOwnPropertyDescriptor,_c=Object.getOwnPropertyNames,Fh=Object.prototype.hasOwnProperty,qa={};((a,t,e,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of _c(t))!Fh.call(a,o)&&"default"!==o&&hd(a,o,{get:()=>t[o],enumerable:!(n=pc(t,o))||n.enumerable})})(qa,Wo);var Cc={format:{tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},suggest:{},data:{useDefaultDataProvider:!0}};function bc(a){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:a===Nl,documentFormattingEdits:a===Nl,documentRangeFormattingEdits:a===Nl}}var Nl="html",Su="handlebars",gd=kl(Nl,Cc,bc(Nl)),md=gd.defaults,Nr=kl(Su,Cc,bc(Su)),pd=Nr.defaults,_d=kl("razor",Cc,bc("razor"));function kl(a,t=Cc,e=bc(a)){const n=new class{constructor(a,t,e){Uo(this,"_onDidChange",new qa.Emitter),Uo(this,"_options"),Uo(this,"_modeConfiguration"),Uo(this,"_languageId"),this._languageId=a,this.setOptions(t),this.setModeConfiguration(e)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(a){this._options=a||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(a){this._modeConfiguration=a||Object.create(null),this._onDidChange.fire(this)}}(a,t,e);let o;const s=qa.languages.onLanguage(a,(0,ad.Z)(function*(){o=(yield m.e(9630).then(m.bind(m,49630))).setupMode(n)}));return{defaults:n,dispose(){s.dispose(),o?.dispose(),o=void 0}}}qa.languages.html={htmlDefaults:md,razorDefaults:_d.defaults,handlebarDefaults:pd,htmlLanguageService:gd,handlebarLanguageService:Nr,razorLanguageService:_d,registerHTMLLanguageService:kl};var bd=Object.defineProperty,yg=Object.getOwnPropertyDescriptor,vc=Object.getOwnPropertyNames,wc=Object.prototype.hasOwnProperty,Na={};((a,t,e,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of vc(t))!wc.call(a,o)&&"default"!==o&&bd(a,o,{get:()=>t[o],enumerable:!(n=yg(t,o))||n.enumerable})})(Na,Wo);var aa=new class{constructor(a,t,e){Uo(this,"_onDidChange",new Na.Emitter),Uo(this,"_diagnosticsOptions"),Uo(this,"_modeConfiguration"),Uo(this,"_languageId"),this._languageId=a,this.setDiagnosticsOptions(t),this.setModeConfiguration(e)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(a){this._diagnosticsOptions=a||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(a){this._modeConfiguration=a||Object.create(null),this._onDidChange.fire(this)}}("json",{validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},{documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0});Na.languages.json={jsonDefaults:aa},Na.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]}),Na.languages.onLanguage("json",()=>{m.e(8026).then(m.bind(m,28026)).then(a=>a.setupMode(aa))}),m(99174);var el=m(20545),tl=m(17703),$s=(m(87155),m(37313),m(99034)),Zo=m(3102),Go=m(64073),Qe=(m(75777),m(44346)),ci=m(60745),Ct=m(20296),De=m(12918),Qt=m(6461),nl=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})};const la=new Qt.uy("selectionAnchorSet",!1);let As=class Qv{constructor(t,e){this.editor=t,this.selectionAnchorSetContextKey=la.bindTo(e),this.modelChangeListener=t.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(t){return t.getContribution(Qv.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const t=this.editor.getPosition(),n=this.editor.deltaDecorations(this.decorationId?[this.decorationId]:[],[{range:ci.Y.fromPositions(t,t),options:{description:"selection-anchor",stickiness:1,hoverMessage:(new Zo.W5).appendText((0,De.N)("selectionAnchor","Selection Anchor")),className:"selection-anchor"}}]);this.decorationId=n[0],this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,$s.Z9)((0,De.N)("anchorSet","Anchor set at {0}:{1}",t.lineNumber,t.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const t=this.editor.getModel().getDecorationRange(this.decorationId);t&&this.editor.setPosition(t.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const t=this.editor.getModel().getDecorationRange(this.decorationId);if(t){const e=this.editor.getPosition();this.editor.setSelection(ci.Y.fromPositions(t.getStartPosition(),e)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){this.decorationId&&(this.editor.deltaDecorations([this.decorationId],[]),this.decorationId=void 0,this.selectionAnchorSetContextKey.set(!1))}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};var t;As.ID="editor.contrib.selectionAnchorController",As=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([(1,t=Qt.i6,function(e,n){t(e,n,1)})],As),(0,Qe._K)(As.ID,As),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,De.N)("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:(0,Go.gx)(2089,2080),weight:100}})}run(t,e){var n;return nl(this,void 0,void 0,function*(){null===(n=As.get(e))||void 0===n||n.setSelectionAnchor()})}}),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,De.N)("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:la})}run(t,e){var n;return nl(this,void 0,void 0,function*(){null===(n=As.get(e))||void 0===n||n.goToSelectionAnchor()})}}),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,De.N)("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:la,kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:(0,Go.gx)(2089,2089),weight:100}})}run(t,e){var n;return nl(this,void 0,void 0,function*(){null===(n=As.get(e))||void 0===n||n.selectFromAnchorToCursor()})}}),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,De.N)("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:la,kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:9,weight:100}})}run(t,e){var n;return nl(this,void 0,void 0,function*(){null===(n=As.get(e))||void 0===n||n.cancelSelectionAnchor()})}});var Bn=m(89983),Tt=m(40189),di=(m(11009),m(67947)),kt=m(1873),Te=m(80067),r=m(45023),c=m(79695),_=m(46842),y=m(98275),A=m(53323);const ie=(0,y.P6G)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},De.N("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets."));class Le{constructor(t,e,n){this.position=t,this.brackets=e,this.options=n}}class Ie extends Tt.JT{constructor(t){super(),this._editor=t,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=[],this._updateBracketsSoon=this._register(new Bn.pY(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(64),this._updateBracketsSoon.schedule(),this._register(t.onDidChangeCursorPosition(e=>{"never"!==this._matchBrackets&&this._updateBracketsSoon.schedule()})),this._register(t.onDidChangeModelContent(e=>{this._updateBracketsSoon.schedule()})),this._register(t.onDidChangeModel(e=>{this._lastBracketsData=[],this._decorations=[],this._updateBracketsSoon.schedule()})),this._register(t.onDidChangeModelLanguageConfiguration(e=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(t.onDidChangeConfiguration(e=>{e.hasChanged(64)&&(this._matchBrackets=this._editor.getOption(64),this._decorations=this._editor.deltaDecorations(this._decorations,[]),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(t.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(t.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}static get(t){return t.getContribution(Ie.ID)}jumpToBracket(){if(!this._editor.hasModel())return;const t=this._editor.getModel(),e=this._editor.getSelections().map(n=>{const o=n.getStartPosition(),s=t.bracketPairs.matchBracket(o);let d=null;if(s)s[0].containsPosition(o)?d=s[1].getStartPosition():s[1].containsPosition(o)&&(d=s[0].getStartPosition());else{const p=t.bracketPairs.findEnclosingBrackets(o);if(p)d=p[0].getStartPosition();else{const V=t.bracketPairs.findNextBracket(o);V&&V.range&&(d=V.range.getStartPosition())}}return d?new ci.Y(d.lineNumber,d.column,d.lineNumber,d.column):new ci.Y(o.lineNumber,o.column,o.lineNumber,o.column)});this._editor.setSelections(e),this._editor.revealRange(e[0])}selectToBracket(t){if(!this._editor.hasModel())return;const e=this._editor.getModel(),n=[];this._editor.getSelections().forEach(o=>{const s=o.getStartPosition();let d=e.bracketPairs.matchBracket(s);if(!d&&(d=e.bracketPairs.findEnclosingBrackets(s),!d)){const H=e.bracketPairs.findNextBracket(s);H&&H.range&&(d=e.bracketPairs.matchBracket(H.range.getStartPosition()))}let p=null,V=null;if(d){d.sort(kt.e.compareRangesUsingStarts);const[H,U]=d;if(p=t?H.getStartPosition():H.getEndPosition(),V=t?U.getEndPosition():U.getStartPosition(),U.containsPosition(s)){const ne=p;p=V,V=ne}}p&&V&&n.push(new ci.Y(p.lineNumber,p.column,V.lineNumber,V.column))}),n.length>0&&(this._editor.setSelections(n),this._editor.revealRange(n[0]))}_updateBrackets(){if("never"===this._matchBrackets)return;this._recomputeBrackets();let t=[],e=0;for(const n of this._lastBracketsData){let o=n.brackets;o&&(t[e++]={range:o[0],options:n.options},t[e++]={range:o[1],options:n.options})}this._decorations=this._editor.deltaDecorations(this._decorations,t)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus())return this._lastBracketsData=[],void(this._lastVersionId=0);const t=this._editor.getSelections();if(t.length>100)return this._lastBracketsData=[],void(this._lastVersionId=0);const e=this._editor.getModel(),n=e.getVersionId();let o=[];this._lastVersionId===n&&(o=this._lastBracketsData);let s=[],d=0;for(let ne=0,be=t.length;ne<be;ne++){let Ee=t[ne];Ee.isEmpty()&&(s[d++]=Ee.getStartPosition())}s.length>1&&s.sort(di.L.compare);let p=[],V=0,H=0,U=o.length;for(let ne=0,be=s.length;ne<be;ne++){let Ee=s[ne];for(;H<U&&o[H].position.isBefore(Ee);)H++;if(H<U&&o[H].position.equals(Ee))p[V++]=o[H];else{let Ke=e.bracketPairs.matchBracket(Ee,20),ct=Ie._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!Ke&&"always"===this._matchBrackets&&(Ke=e.bracketPairs.findEnclosingBrackets(Ee,20),ct=Ie._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),p[V++]=new Le(Ee,Ke,ct)}}this._lastBracketsData=p,this._lastVersionId=n}}Ie.ID="editor.contrib.bracketMatchingController",Ie._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=r.qx.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,A.EN)(ie),position:Te.sh.Center}}),Ie._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=r.qx.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,Qe._K)(Ie.ID,Ie),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.selectToBracket",label:De.N("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(t,e,n){var o;let s=!0;n&&!1===n.selectBrackets&&(s=!1),null===(o=Ie.get(e))||void 0===o||o.selectToBracket(s)}}),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.jumpToBracket",label:De.N("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:3160,weight:100}})}run(t,e){var n;null===(n=Ie.get(e))||void 0===n||n.jumpToBracket()}}),(0,A.Ic)((a,t)=>{const e=a.getColor(c.TC);e&&t.addRule(`.monaco-editor .bracket-match { background-color: ${e}; }`);const n=a.getColor(c.Dl);n&&t.addRule(`.monaco-editor .bracket-match { border: 1px solid ${n}; }`)}),_.BH.appendMenuItem(_.eH.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:De.N({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2});class ze{constructor(t,e){this._selection=t,this._isMovingLeft=e}getEditOperations(t,e){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const n=this._selection.startLineNumber,o=this._selection.startColumn,s=this._selection.endColumn;if((!this._isMovingLeft||1!==o)&&(this._isMovingLeft||s!==t.getLineMaxColumn(n)))if(this._isMovingLeft){const d=new kt.e(n,o-1,n,o),p=t.getValueInRange(d);e.addEditOperation(d,null),e.addEditOperation(new kt.e(n,s,n,s),p)}else{const d=new kt.e(n,s,n,s+1),p=t.getValueInRange(d);e.addEditOperation(d,null),e.addEditOperation(new kt.e(n,o,n,o),p)}}computeCursorState(t,e){return this._isMovingLeft?new ci.Y(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new ci.Y(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}class qe extends Qe.R6{constructor(t,e){super(e),this.left=t}run(t,e){if(!e.hasModel())return;const n=[],o=e.getSelections();for(const s of o)n.push(new ze(s,this.left));e.pushUndoStop(),e.executeCommands(this.id,n),e.pushUndoStop()}}(0,Qe.Qr)(class extends qe{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:De.N("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:Ct.u.writable})}}),(0,Qe.Qr)(class extends qe{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:De.N("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:Ct.u.writable})}});var xt=m(49317),Nt=m(98596);(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.transposeLetters",label:De.N("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:Ct.u.writable,kbOpts:{kbExpr:Ct.u.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(t,e){if(!e.hasModel())return;let n=e.getModel(),o=[],s=e.getSelections();for(let d of s){if(!d.isEmpty())continue;let p=d.startLineNumber,V=d.startColumn,H=n.getLineMaxColumn(p);if(1===p&&(1===V||2===V&&2===H))continue;let U=V===H?d.getPosition():Nt.o.rightPosition(n,d.getPosition().lineNumber,d.getPosition().column),ne=Nt.o.leftPosition(n,U),be=Nt.o.leftPosition(n,ne),Ee=n.getValueInRange(kt.e.fromPositions(be,ne)),Ke=n.getValueInRange(kt.e.fromPositions(ne,U)),ct=kt.e.fromPositions(be,U);o.push(new xt.T4(ct,Ke+Ee))}o.length>0&&(e.pushUndoStop(),e.executeCommands(this.id,o),e.pushUndoStop())}});var ln=m(47306),$t=m(70700),On=m(78230),In=m(57623),Rn=m(37323);const Dn="9_cutcopypaste",Cn=$t.tY||document.queryCommandSupported("cut"),Mi=$t.tY||document.queryCommandSupported("copy"),ri=void 0!==navigator.clipboard&&!ln.isFirefox||document.queryCommandSupported("paste");function _o(a){return a.register(),a}const Co=Cn?_o(new Qe.AJ({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:$t.tY?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:_.eH.MenubarEditMenu,group:"2_ccp",title:De.N({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:_.eH.EditorContext,group:Dn,title:De.N("actions.clipboard.cutLabel","Cut"),when:Ct.u.writable,order:1},{menuId:_.eH.CommandPalette,group:"",title:De.N("actions.clipboard.cutLabel","Cut"),order:1},{menuId:_.eH.SimpleEditorContext,group:Dn,title:De.N("actions.clipboard.cutLabel","Cut"),when:Ct.u.writable,order:1}]})):void 0,ts=Mi?_o(new Qe.AJ({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:$t.tY?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:_.eH.MenubarEditMenu,group:"2_ccp",title:De.N({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:_.eH.EditorContext,group:Dn,title:De.N("actions.clipboard.copyLabel","Copy"),order:2},{menuId:_.eH.CommandPalette,group:"",title:De.N("actions.clipboard.copyLabel","Copy"),order:1},{menuId:_.eH.SimpleEditorContext,group:Dn,title:De.N("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;_.BH.appendMenuItem(_.eH.MenubarEditMenu,{submenu:_.eH.MenubarCopy,title:{value:De.N("copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3}),_.BH.appendMenuItem(_.eH.EditorContext,{submenu:_.eH.EditorContextCopy,title:{value:De.N("copy as","Copy As"),original:"Copy As"},group:Dn,order:3});const qi=ri?_o(new Qe.AJ({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:$t.tY?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:_.eH.MenubarEditMenu,group:"2_ccp",title:De.N({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:_.eH.EditorContext,group:Dn,title:De.N("actions.clipboard.pasteLabel","Paste"),when:Ct.u.writable,order:4},{menuId:_.eH.CommandPalette,group:"",title:De.N("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:_.eH.SimpleEditorContext,group:Dn,title:De.N("actions.clipboard.pasteLabel","Paste"),when:Ct.u.writable,order:4}]})):void 0;function Qo(a,t){!a||(a.addImplementation(1e4,"code-editor",(e,n)=>{const o=e.get(In.$).getFocusedCodeEditor();if(o&&o.hasTextFocus()){const s=o.getOption(32),d=o.getSelection();return d&&d.isEmpty()&&!s||document.execCommand(t),!0}return!1}),a.addImplementation(0,"generic-dom",(e,n)=>(document.execCommand(t),!0)))}Qo(Co,"cut"),Qo(ts,"copy"),qi&&(qi.addImplementation(1e4,"code-editor",(a,t)=>{const e=a.get(In.$),n=a.get(Rn.p),o=e.getFocusedCodeEditor();return!(!o||!o.hasTextFocus())&&(!(!document.execCommand("paste")&&$t.$L)||function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})}(void 0,void 0,void 0,function*(){const d=yield n.readText();if(""!==d){const p=On.Nl.INSTANCE.get(d);let V=!1,H=null,U=null;p&&(V=o.getOption(32)&&!!p.isFromEmptySelection,H=void 0!==p.multicursorText?p.multicursorText:null,U=p.mode),o.trigger("keyboard","paste",{text:d,pasteOnNewLine:V,multicursorText:H,mode:U})}}))}),qi.addImplementation(0,"generic-dom",(a,t)=>(document.execCommand("paste"),!0))),Mi&&(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:De.N("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:Ct.u.textInputFocus,primary:0,weight:100}})}run(t,e){!e.hasModel()||!e.getOption(32)&&e.getSelection().isEmpty()||(On.RA.forceCopyWithSyntaxHighlighting=!0,e.focus(),document.execCommand("copy"),On.RA.forceCopyWithSyntaxHighlighting=!1)}});var Zn=m(66607),Ms=m(90341),jn=m(74243),Hh=m(48882),Ui=m(3494),ro=m(89822),Qn=m(13226),wo=m(85459),Pl=m(55550),qr=m(39067),eo=m(10467),Ir=m(24763);class Wi{constructor(t){this.value=t}equals(t){return this.value===t.value}contains(t){return this.equals(t)||""===this.value||t.value.startsWith(this.value+Wi.sep)}intersects(t){return this.contains(t)||t.contains(this)}append(t){return new Wi(this.value+Wi.sep+t)}}function Sg(a,t,e){return!(!t.contains(a)||e&&t.contains(e))}Wi.sep=".",Wi.None=new Wi("@@none@@"),Wi.Empty=new Wi(""),Wi.QuickFix=new Wi("quickfix"),Wi.Refactor=new Wi("refactor"),Wi.Source=new Wi("source"),Wi.SourceOrganizeImports=Wi.Source.append("organizeImports"),Wi.SourceFixAll=Wi.Source.append("fixAll");class ka{constructor(t,e,n){this.kind=t,this.apply=e,this.preferred=n}static fromUser(t,e){return t&&"object"==typeof t?new ka(ka.getKindFromUser(t,e.kind),ka.getApplyFromUser(t,e.apply),ka.getPreferredUser(t)):new ka(e.kind,e.apply,!1)}static getApplyFromUser(t,e){switch("string"==typeof t.apply?t.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return e}}static getKindFromUser(t,e){return"string"==typeof t.kind?new Wi(t.kind):e}static getPreferredUser(t){return"boolean"==typeof t.preferred&&t.preferred}}var wd=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})};const xg="editor.action.codeAction",Tu="editor.action.refactor",kr="editor.action.sourceAction",zh="editor.action.organizeImports",Uh="editor.action.fixAll";class Lg{constructor(t,e){this.action=t,this.provider=e}resolve(t){var e;return wd(this,void 0,void 0,function*(){if((null===(e=this.provider)||void 0===e?void 0:e.resolveCodeAction)&&!this.action.edit){let n;try{n=yield this.provider.resolveCodeAction(this.action,t)}catch(o){(0,Qn.Cp)(o)}n&&(this.action.edit=n.edit)}return this})}}class Pu extends Tt.JT{constructor(t,e,n){super(),this.documentation=e,this._register(n),this.allActions=[...t].sort(Pu.codeActionsComparator),this.validActions=this.allActions.filter(({action:o})=>!o.disabled)}static codeActionsComparator({action:t},{action:e}){return t.isPreferred&&!e.isPreferred?-1:!t.isPreferred&&e.isPreferred?1:(0,ro.Of)(t.diagnostics)?(0,ro.Of)(e.diagnostics)?t.diagnostics[0].message.localeCompare(e.diagnostics[0].message):-1:(0,ro.Of)(e.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:t})=>!!t.kind&&Wi.QuickFix.contains(new Wi(t.kind))&&!!t.isPreferred)}}const kp={actions:[],documentation:void 0};function xc(a,t,e,n,o,s){var d;const p=n.filter||{},V={only:null===(d=p.include)||void 0===d?void 0:d.value,trigger:n.type},H=new Pl.YQ(t,s),U=function(a,t,e){return a.all(t).filter(n=>!n.providedCodeActionKinds||n.providedCodeActionKinds.some(o=>function(a,t){return!(a.include&&!a.include.intersects(t)||a.excludes&&a.excludes.some(e=>Sg(t,e,a.include))||!a.includeSourceActions&&Wi.Source.contains(t))}(e,new Wi(o))))}(a,t,p),ne=new Tt.SL,be=U.map(Ke=>wd(this,void 0,void 0,function*(){try{o.report(Ke);const ct=yield Ke.provideCodeActions(t,e,V,H.token);if(ct&&ne.add(ct),H.token.isCancellationRequested)return kp;const Pt=((null==ct?void 0:ct.actions)||[]).filter(Xt=>Xt&&function(a,t){const e=t.kind?new Wi(t.kind):void 0;return!(a.include&&(!e||!a.include.contains(e))||a.excludes&&e&&a.excludes.some(n=>Sg(e,n,a.include))||!a.includeSourceActions&&e&&Wi.Source.contains(e)||a.onlyIncludePreferredActions&&!t.isPreferred)}(p,Xt)),Ot=function(a,t,e){if(!a.documentation)return;const n=a.documentation.map(o=>({kind:new Wi(o.kind),command:o.command}));if(e){let o;for(const s of n)s.kind.contains(e)&&(o?o.kind.contains(s.kind)&&(o=s):o=s);if(o)return null==o?void 0:o.command}for(const o of t)if(o.kind)for(const s of n)if(s.kind.contains(new Wi(o.kind)))return s.command}(Ke,Pt,p.include);return{actions:Pt.map(Xt=>new Lg(Xt,Ke)),documentation:Ot}}catch(ct){if((0,Qn.n2)(ct))throw ct;return(0,Qn.Cp)(ct),kp}})),Ee=a.onDidChange(()=>{const Ke=a.all(t);(0,ro.fS)(Ke,U)||H.cancel()});return Promise.all(be).then(Ke=>{const ct=(0,ro.xH)(Ke.map(Ot=>Ot.actions)),Pt=(0,ro.kX)(Ke.map(Ot=>Ot.documentation));return new Pu(ct,Pt,ne)}).finally(()=>{Ee.dispose(),H.dispose()})}eo.P0.registerCommand("_executeCodeActionProvider",function(a,t,e,n,o){return wd(this,void 0,void 0,function*(){if(!(t instanceof wo.o))throw(0,Qn.b1)();const{codeActionProvider:s}=a.get(Ui.p),d=a.get(qr.q).getModel(t);if(!d)throw(0,Qn.b1)();const p=ci.Y.isISelection(e)?ci.Y.liftSelection(e):kt.e.isIRange(e)?d.validateRange(e):void 0;if(!p)throw(0,Qn.b1)();const V="string"==typeof n?new Wi(n):void 0,H=yield xc(s,d,p,{type:1,filter:{includeSourceActions:!0,include:V}},Ir.Ex.None,Zn.T.None),U=[],ne=Math.min(H.validActions.length,"number"==typeof o?o:0);for(let be=0;be<ne;be++)U.push(H.validActions[be].resolve(Zn.T.None));try{return yield Promise.all(U),H.validActions.map(be=>be.action)}finally{setTimeout(()=>H.dispose(),100)}})}),m(8546);let fr=class w1{constructor(t,e){this._messageWidget=new Tt.XK,this._messageListeners=new Tt.SL,this._editor=t,this._visible=w1.MESSAGE_VISIBLE.bindTo(e),this._editorListener=this._editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit())}static get(t){return t.getContribution(w1.ID)}dispose(){this._editorListener.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(t,e){let n;(0,$s.Z9)(t),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new Kh(this._editor,e,t),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new Bn._F(()=>this.closeMessage(),3e3)),this._messageListeners.add(this._editor.onMouseMove(o=>{!o.target.position||(n?n.containsPosition(o.target.position)||this.closeMessage():n=new kt.e(e.lineNumber-3,1,o.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(Kh.fadeOut(this._messageWidget.value))}_onDidAttemptReadOnlyEdit(){this._editor.hasModel()&&this.showMessage(De.N("editor.readonly","Cannot edit in read-only editor"),this._editor.getPosition())}};fr.ID="editor.contrib.messageController",fr.MESSAGE_VISIBLE=new Qt.uy("messageVisible",!1,De.N("messageVisible","Whether the editor is currently showing an inline message")),fr=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([function(a,t){return function(e,n){t(e,n,1)}}(0,Qt.i6)],fr);const Pp=Qe._l.bindToContribution(fr.get);(0,Qe.fK)(new Pp({id:"leaveEditorMessage",precondition:fr.MESSAGE_VISIBLE,handler:a=>a.closeMessage(),kbOpts:{weight:130,primary:9}}));class Kh{constructor(t,{lineNumber:e,column:n},o){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=t,this._editor.revealLinesInCenterIfOutsideViewport(e,e,0),this._position={lineNumber:e,column:n-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");const s=document.createElement("div");s.classList.add("anchor","top"),this._domNode.appendChild(s);const d=document.createElement("div");d.classList.add("message"),d.textContent=o,this._domNode.appendChild(d);const p=document.createElement("div");p.classList.add("anchor","below"),this._domNode.appendChild(p),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(t){let e;const n=()=>{t.dispose(),clearTimeout(e),t.getDomNode().removeEventListener("animationend",n)};return e=setTimeout(n,110),t.getDomNode().addEventListener("animationend",n),t.getDomNode().classList.add("fadeOut"),{dispose:n}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2]}}afterRender(t){this._domNode.classList.toggle("below",2===t)}}(0,Qe._K)(fr.ID,fr);var Qi=m(43569),st=m(86678),jo=m(50955),Ol=m(9719),Zs=m(96938),Po=function(a,t){return function(e,n){t(e,n,a)}};class Eg extends jo.aU{constructor(t,e){super(t.command?t.command.id:t.title,function(a){return a.replace(/\r\n|\r|\n/g," ")}(t.title),void 0,!t.disabled,e),this.action=t}}let Ou=class extends Tt.JT{constructor(t,e,n,o,s){super(),this._editor=t,this._delegate=e,this._contextMenuService=n,this._languageFeaturesService=s,this._visible=!1,this._showingActions=this._register(new Tt.XK),this._keybindingResolver=new gr({getKeybindings:()=>o.getKeybindings()})}get isVisible(){return this._visible}show(t,e,n,o){return function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})}(this,void 0,void 0,function*(){const s=o.includeDisabledActions?e.allActions:e.validActions;if(!s.length)return void(this._visible=!1);if(!this._editor.getDomNode())throw this._visible=!1,(0,Qn.F0)();this._visible=!0,this._showingActions.value=e;const d=this.getMenuActions(t,s,e.documentation),p=di.L.isIPosition(n)?this._toCoords(n):n||{x:0,y:0},V=this._keybindingResolver.getResolver(),H=this._editor.getOption(115);this._contextMenuService.showContextMenu({domForShadowRoot:H?this._editor.getDomNode():void 0,getAnchor:()=>p,getActions:()=>d,onHide:()=>{this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:U=>U instanceof Eg?V(U.action):void 0})})}getMenuActions(t,e,n){var o,s;const d=U=>new Eg(U.action,()=>this._delegate.onSelectCodeAction(U)),p=e.map(d),V=[...n],H=this._editor.getModel();if(H&&p.length)for(const U of this._languageFeaturesService.codeActionProvider.all(H))U._getAdditionalMenuItems&&V.push(...U._getAdditionalMenuItems({trigger:t.type,only:null===(s=null===(o=t.filter)||void 0===o?void 0:o.include)||void 0===s?void 0:s.value},e.map(ne=>ne.action)));return V.length&&p.push(new jo.Z0,...V.map(U=>d(new Lg({title:U.title,command:U},void 0)))),p}_toCoords(t){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(t,1),this._editor.render();const e=this._editor.getScrolledVisiblePosition(t),n=(0,st.i)(this._editor.getDomNode());return{x:n.left+e.left,y:n.top+e.top+e.height}}};Ou=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([Po(2,Ol.i),Po(3,Zs.d),Po(4,Ui.p)],Ou);let gr=(()=>{class a{constructor(e){this._keybindingProvider=e}getResolver(){const e=new Ms.o(()=>this._keybindingProvider.getKeybindings().filter(n=>a.codeActionCommands.indexOf(n.command)>=0).filter(n=>n.resolvedKeybinding).map(n=>{let o=n.commandArgs;return n.command===zh?o={kind:Wi.SourceOrganizeImports.value}:n.command===Uh&&(o={kind:Wi.SourceFixAll.value}),Object.assign({resolvedKeybinding:n.resolvedKeybinding},ka.fromUser(o,{kind:Wi.None,apply:"never"}))}));return n=>{if(n.kind){const o=this.bestKeybindingForCodeAction(n,e.getValue());return null==o?void 0:o.resolvedKeybinding}}}bestKeybindingForCodeAction(e,n){if(!e.kind)return;const o=new Wi(e.kind);return n.filter(s=>s.kind.contains(o)).filter(s=>!s.preferred||e.isPreferred).reduceRight((s,d)=>s?s.kind.contains(d.kind)?d:s:d,void 0)}}return a.codeActionCommands=[Tu,xg,kr,zh,Uh],a})();var Sd,il=m(8535),Ta=m(23945),Kn=m(78968),$n=m(71040),yd=(m(62803),m(50817));!function(a){a.Hidden={type:0},a.Showing=class{constructor(n,o,s,d){this.actions=n,this.trigger=o,this.editorPosition=s,this.widgetPosition=d,this.type=1}}}(Sd||(Sd={}));let xd=class Yv extends Tt.JT{constructor(t,e,n,o){super(),this._editor=t,this._quickFixActionId=e,this._preferredFixActionId=n,this._keybindingService=o,this._onClick=this._register(new $n.Q5),this.onClick=this._onClick.event,this._state=Sd.Hidden,this._domNode=document.createElement("div"),this._domNode.className=Kn.lA.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(s=>{const d=this._editor.getModel();(1!==this.state.type||!d||this.state.editorPosition.lineNumber>=d.getLineCount())&&this.hide()})),Ta.o.ignoreTarget(this._domNode),this._register(st.GQ(this._domNode,s=>{if(1!==this.state.type)return;this._editor.focus(),s.preventDefault();const{top:d,height:p}=st.i(this._domNode),V=this._editor.getOption(59);let H=Math.floor(V/3);null!==this.state.widgetPosition.position&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(H+=V),this._onClick.fire({x:s.posx,y:d+p+H,actions:this.state.actions,trigger:this.state.trigger})})),this._register(st.nm(this._domNode,"mouseenter",s=>{if(1!=(1&s.buttons))return;this.hide();const d=new il.Z;d.startMonitoring(s.target,s.buttons,il.e,()=>{},()=>{d.dispose()})})),this._register(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(57)&&!this._editor.getOption(57).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return 1===this._state.type?this._state.widgetPosition:null}update(t,e,n){if(t.validActions.length<=0)return this.hide();const o=this._editor.getOptions();if(!o.get(57).enabled)return this.hide();const s=this._editor.getModel();if(!s)return this.hide();const{lineNumber:d,column:p}=s.validatePosition(n),V=s.getOptions().tabSize,H=o.get(44),U=s.getLineContent(d),ne=(0,yd.q)(U,V),Ee=ct=>ct>2&&this._editor.getTopForLineNumber(ct)===this._editor.getTopForLineNumber(ct-1);let Ke=d;if(!(H.spaceWidth*ne>22))if(d>1&&!Ee(d-1))Ke-=1;else if(Ee(d+1)){if(p*H.spaceWidth<22)return this.hide()}else Ke+=1;this.state=new Sd.Showing(t,e,n,{position:{lineNumber:Ke,column:1},preference:Yv._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=Sd.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(t){this._state=t,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(1===this.state.type&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...Kn.lA.lightBulb.classNamesArray),this._domNode.classList.add(...Kn.lA.lightbulbAutofix.classNamesArray);const e=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(e)return void(this.title=De.N("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",e.getLabel()))}this._domNode.classList.remove(...Kn.lA.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...Kn.lA.lightBulb.classNamesArray);const t=this._keybindingService.lookupKeybinding(this._quickFixActionId);this.title=t?De.N("codeActionWithKb","Show Code Actions ({0})",t.getLabel()):De.N("codeAction","Show Code Actions")}set title(t){this._domNode.title=t}};xd._posPref=[0],xd=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([function(a,t){return function(e,n){t(e,n,3)}}(0,Zs.d)],xd),(0,A.Ic)((a,t)=>{var e;const n=null===(e=a.getColor(y.cvW))||void 0===e?void 0:e.transparent(.7),o=a.getColor(y.Fu1);o&&t.addRule(`\n\t\t.monaco-editor .contentWidgets ${Kn.lA.lightBulb.cssSelector} {\n\t\t\tcolor: ${o};\n\t\t\tbackground-color: ${n};\n\t\t}`);const s=a.getColor(y.sKV);s&&t.addRule(`\n\t\t.monaco-editor .contentWidgets ${Kn.lA.lightbulbAutofix.cssSelector} {\n\t\t\tcolor: ${s};\n\t\t\tbackground-color: ${n};\n\t\t}`)});var da,Al=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})};let Ld=class extends Tt.JT{constructor(t,e,n,o,s){super(),this._editor=t,this.delegate=o,this._activeCodeActions=this._register(new Tt.XK),da.set(this,!1),this._codeActionWidget=new Ms.o(()=>this._register(s.createInstance(Ou,this._editor,{onSelectCodeAction:d=>Al(this,void 0,void 0,function*(){this.delegate.applyCodeAction(d,!0)})}))),this._lightBulbWidget=new Ms.o(()=>{const d=this._register(s.createInstance(xd,this._editor,e,n));return this._register(d.onClick(p=>this.showCodeActionList(p.trigger,p.actions,p,{includeDisabledActions:!1}))),d})}dispose(){(function(a,t,e,n,o){if("function"==typeof t||!t.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");t.set(a,e)})(this,da,!0),super.dispose()}update(t){var e,n,o,s,d;return Al(this,void 0,void 0,function*(){if(1!==t.type)return void(null===(e=this._lightBulbWidget.rawValue)||void 0===e||e.hide());let p;try{p=yield t.actions}catch(V){return void(0,Qn.dL)(V)}if(!function(a,t,e,n){if("function"==typeof t||!t.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(a)}(this,da))if(this._lightBulbWidget.getValue().update(p,t.trigger,t.position),1===t.trigger.type){if(null===(n=t.trigger.filter)||void 0===n?void 0:n.include){const H=this.tryGetValidActionToApply(t.trigger,p);if(H){try{this._lightBulbWidget.getValue().hide(),yield this.delegate.applyCodeAction(H,!1)}finally{p.dispose()}return}if(t.trigger.context){const U=this.getInvalidActionThatWouldHaveBeenApplied(t.trigger,p);if(U&&U.action.disabled)return null===(o=fr.get(this._editor))||void 0===o||o.showMessage(U.action.disabled,t.trigger.context.position),void p.dispose()}}const V=!!(null===(s=t.trigger.filter)||void 0===s?void 0:s.include);if(t.trigger.context&&(!p.allActions.length||!V&&!p.validActions.length))return null===(d=fr.get(this._editor))||void 0===d||d.showMessage(t.trigger.context.notAvailableMessage,t.trigger.context.position),this._activeCodeActions.value=p,void p.dispose();this._activeCodeActions.value=p,this._codeActionWidget.getValue().show(t.trigger,p,t.position,{includeDisabledActions:V})}else this._codeActionWidget.getValue().isVisible?p.dispose():this._activeCodeActions.value=p})}getInvalidActionThatWouldHaveBeenApplied(t,e){if(e.allActions.length&&("first"===t.autoApply&&0===e.validActions.length||"ifSingle"===t.autoApply&&1===e.allActions.length))return e.allActions.find(({action:n})=>n.disabled)}tryGetValidActionToApply(t,e){if(e.validActions.length&&("first"===t.autoApply&&e.validActions.length>0||"ifSingle"===t.autoApply&&1===e.validActions.length))return e.validActions[0]}showCodeActionList(t,e,n,o){return Al(this,void 0,void 0,function*(){this._codeActionWidget.getValue().show(t,e,n,o)})}};da=new WeakMap,Ld=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([function(a,t){return function(e,n){t(e,n,4)}}(0,Qi.TG)],Ld);var Lc,Yo=m(81622),us=m(8135),Dd=m(87493),Oo=m(6228),Yh=function(a,t,e,n){if("a"===e&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?a!==t||!n:!t.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===e?n:"a"===e?n.call(a):n?n.value:t.get(a)};const kg=new Qt.uy("supportedCodeAction","");class Tg extends Tt.JT{constructor(t,e,n,o=250){super(),this._editor=t,this._markerService=e,this._signalChange=n,this._delay=o,this._autoTriggerTimer=this._register(new Bn._F),this._register(this._markerService.onMarkerChanged(s=>this._onMarkerChanges(s))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(t){const e=this._getRangeOfSelectionUnlessWhitespaceEnclosed(t);return this._createEventAndSignalChange(t,e)}_onMarkerChanges(t){const e=this._editor.getModel();!e||t.some(n=>(0,Oo.Xy)(n,e.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_getRangeOfMarker(t){const e=this._editor.getModel();if(e)for(const n of this._markerService.read({resource:e.uri})){const o=e.validateRange(n);if(kt.e.intersectRanges(o,t))return kt.e.lift(o)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(t){if(!this._editor.hasModel())return;const e=this._editor.getModel(),n=this._editor.getSelection();if(n.isEmpty()&&2===t.type){const{lineNumber:o,column:s}=n.getPosition(),d=e.getLineContent(o);if(0===d.length)return;if(1===s){if(/\s/.test(d[0]))return}else if(s===e.getLineMaxColumn(o)){if(/\s/.test(d[d.length-1]))return}else if(/\s/.test(d[s-2])&&/\s/.test(d[s-1]))return}return n}_createEventAndSignalChange(t,e){const n=this._editor.getModel();if(!e||!n)return void this._signalChange(void 0);const o=this._getRangeOfMarker(e),s=o?o.getStartPosition():e.getStartPosition(),d={trigger:t,selection:e,position:s};return this._signalChange(d),d}}var Rl;!function(a){a.Empty={type:0},a.Triggered=class{constructor(n,o,s,d){this.trigger=n,this.rangeOrSelection=o,this.position=s,this._cancellablePromise=d,this.type=1,this.actions=d.catch(p=>{if((0,Qn.n2)(p))return Bp;throw p})}cancel(){this._cancellablePromise.cancel()}}}(Rl||(Rl={}));const Bp={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class Wp extends Tt.JT{constructor(t,e,n,o,s){super(),this._editor=t,this._registry=e,this._markerService=n,this._progressService=s,this._codeActionOracle=this._register(new Tt.XK),this._state=Rl.Empty,this._onDidChangeState=this._register(new $n.Q5),this.onDidChangeState=this._onDidChangeState.event,Lc.set(this,!1),this._supportedCodeActions=kg.bindTo(o),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._update()}dispose(){Yh(this,Lc,"f")||(function(a,t,e,n,o){if("function"==typeof t||!t.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");t.set(a,e)}(this,Lc,!0),super.dispose(),this.setState(Rl.Empty,!0))}_update(){if(Yh(this,Lc,"f"))return;this._codeActionOracle.value=void 0,this.setState(Rl.Empty);const t=this._editor.getModel();if(t&&this._registry.has(t)&&!this._editor.getOption(81)){const e=[];for(const n of this._registry.all(t))Array.isArray(n.providedCodeActionKinds)&&e.push(...n.providedCodeActionKinds);this._supportedCodeActions.set(e.join(" ")),this._codeActionOracle.value=new Tg(this._editor,this._markerService,n=>{var o;if(!n)return void this.setState(Rl.Empty);const s=(0,Bn.PG)(d=>xc(this._registry,t,n.selection,n.trigger,Ir.Ex.None,d));1===n.trigger.type&&(null===(o=this._progressService)||void 0===o||o.showWhile(s,250)),this.setState(new Rl.Triggered(n.trigger,n.selection,n.position,s))},void 0),this._codeActionOracle.value.trigger({type:2})}else this._supportedCodeActions.reset()}trigger(t){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(t)}setState(t,e){t!==this._state&&(1===this._state.type&&this._state.cancel(),this._state=t,!e&&!Yh(this,Lc,"f")&&this._onDidChangeState.fire(t))}}Lc=new WeakMap;var Fl=function(a,t){return function(e,n){t(e,n,a)}},Pg=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})};function Ed(a){return Qt.Ao.regex(kg.keys()[0],new RegExp("(\\s|^)"+(0,jn.ec)(a.value)+"\\b"))}const Xh={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:De.N("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:De.N("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[De.N("args.schema.apply.first","Always apply the first returned code action."),De.N("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),De.N("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:De.N("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};let Bl=class Jv extends Tt.JT{constructor(t,e,n,o,s,d){super(),this._instantiationService=s,this._editor=t,this._model=this._register(new Wp(this._editor,d.codeActionProvider,e,n,o)),this._register(this._model.onDidChangeState(p=>this.update(p))),this._ui=new Ms.o(()=>this._register(new Ld(t,Au.Id,ef.Id,{applyCodeAction:(p,V)=>Pg(this,void 0,void 0,function*(){try{yield this._applyCodeAction(p)}finally{V&&this._trigger({type:2,filter:{}})}})},this._instantiationService)))}static get(t){return t.getContribution(Jv.ID)}update(t){this._ui.getValue().update(t)}showCodeActions(t,e,n){return this._ui.getValue().showCodeActionList(t,e,n,{includeDisabledActions:!1})}manualTriggerAtCurrentPosition(t,e,n){var o;if(!this._editor.hasModel())return;null===(o=fr.get(this._editor))||void 0===o||o.closeMessage();const s=this._editor.getPosition();this._trigger({type:1,filter:e,autoApply:n,context:{notAvailableMessage:t,position:s}})}_trigger(t){return this._model.trigger(t)}_applyCodeAction(t){return this._instantiationService.invokeFunction(qh,t,this._editor)}};function qh(a,t,e){return Pg(this,void 0,void 0,function*(){const n=a.get(Hh.vu),o=a.get(eo.Hy),s=a.get(Dd.b),d=a.get(us.lT);if(s.publicLog2("codeAction.applyCodeAction",{codeActionTitle:t.action.title,codeActionKind:t.action.kind,codeActionIsPreferred:!!t.action.isPreferred}),yield t.resolve(Zn.T.None),t.action.edit&&(yield n.apply(Hh.fo.convert(t.action.edit),{editor:e,label:t.action.title})),t.action.command)try{yield o.executeCommand(t.action.command.id,...t.action.command.arguments||[])}catch(p){const V=function(a){return"string"==typeof a?a:a instanceof Error&&"string"==typeof a.message?a.message:void 0}(p);d.error("string"==typeof V?V:De.N("applyCodeActionFailed","An unknown error occurred while applying the code action"))}})}function Wl(a,t,e,n){if(a.hasModel()){const o=Bl.get(a);o&&o.manualTriggerAtCurrentPosition(t,e,n)}}Bl.ID="editor.contrib.quickFixController",Bl=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([Fl(1,Yo.lT),Fl(2,Qt.i6),Fl(3,Ir.ek),Fl(4,Qi.TG),Fl(5,Ui.p)],Bl);let Au=(()=>{class a extends Qe.R6{constructor(){super({id:a.Id,label:De.N("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:Qt.Ao.and(Ct.u.writable,Ct.u.hasCodeActionsProvider),kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:2132,weight:100}})}run(e,n){return Wl(n,De.N("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0)}}return a.Id="editor.action.quickFix",a})(),ef=(()=>{class a extends Qe.R6{constructor(){super({id:a.Id,label:De.N("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:Qt.Ao.and(Ct.u.writable,Ed(Wi.QuickFix)),kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:1620,mac:{primary:2644},weight:100}})}run(e,n){return Wl(n,De.N("editor.action.autoFix.noneMessage","No auto fixes available"),{include:Wi.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")}}return a.Id="editor.action.autoFix",a})();(0,Qe._K)(Bl.ID,Bl),(0,Qe.Qr)(Au),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:Tu,label:De.N("refactor.label","Refactor..."),alias:"Refactor...",precondition:Qt.Ao.and(Ct.u.writable,Ct.u.hasCodeActionsProvider),kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:Qt.Ao.and(Ct.u.writable,Ed(Wi.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:Xh}]}})}run(t,e,n){const o=ka.fromUser(n,{kind:Wi.Refactor,apply:"never"});return Wl(e,"string"==typeof(null==n?void 0:n.kind)?o.preferred?De.N("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",n.kind):De.N("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",n.kind):o.preferred?De.N("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):De.N("editor.action.refactor.noneMessage","No refactorings available"),{include:Wi.Refactor.contains(o.kind)?o.kind:Wi.None,onlyIncludePreferredActions:o.preferred},o.apply)}}),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:kr,label:De.N("source.label","Source Action..."),alias:"Source Action...",precondition:Qt.Ao.and(Ct.u.writable,Ct.u.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:Qt.Ao.and(Ct.u.writable,Ed(Wi.Source))},description:{description:"Source Action...",args:[{name:"args",schema:Xh}]}})}run(t,e,n){const o=ka.fromUser(n,{kind:Wi.Source,apply:"never"});return Wl(e,"string"==typeof(null==n?void 0:n.kind)?o.preferred?De.N("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",n.kind):De.N("editor.action.source.noneMessage.kind","No source actions for '{0}' available",n.kind):o.preferred?De.N("editor.action.source.noneMessage.preferred","No preferred source actions available"):De.N("editor.action.source.noneMessage","No source actions available"),{include:Wi.Source.contains(o.kind)?o.kind:Wi.None,includeSourceActions:!0,onlyIncludePreferredActions:o.preferred},o.apply)}}),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:zh,label:De.N("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:Qt.Ao.and(Ct.u.writable,Ed(Wi.SourceOrganizeImports)),kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:1581,weight:100}})}run(t,e){return Wl(e,De.N("editor.action.organize.noneMessage","No organize imports action available"),{include:Wi.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")}}),(0,Qe.Qr)(ef),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:Uh,label:De.N("fixAll.label","Fix All"),alias:"Fix All",precondition:Qt.Ao.and(Ct.u.writable,Ed(Wi.SourceFixAll))})}run(t,e){return Wl(e,De.N("fixAll.noneMessage","No fix all action available"),{include:Wi.SourceFixAll,includeSourceActions:!0},"ifSingle")}}),(0,Qe.fK)(new class extends Qe._l{constructor(){super({id:xg,precondition:Qt.Ao.and(Ct.u.writable,Ct.u.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:Xh}]}})}runEditorCommand(t,e,n){const o=ka.fromUser(n,{kind:Wi.Empty,apply:"ifSingle"});return Wl(e,"string"==typeof(null==n?void 0:n.kind)?o.preferred?De.N("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",n.kind):De.N("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",n.kind):o.preferred?De.N("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):De.N("editor.action.codeAction.noneMessage","No code actions available"),{include:o.kind,includeSourceActions:!0,onlyIncludePreferredActions:o.preferred},o.apply)}});var Md=m(11791),Hl=m(78622),ns=m(52925),$i=m(99770),Tr=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})};class tf{constructor(){this.lenses=[],this._disposables=new Tt.SL}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(t,e){this._disposables.add(t);for(const n of t.lenses)this.lenses.push({symbol:n,provider:e})}}function nf(a,t,e){return Tr(this,void 0,void 0,function*(){const n=a.ordered(t),o=new Map,s=new tf,d=n.map((p,V)=>Tr(this,void 0,void 0,function*(){o.set(p,V);try{const H=yield Promise.resolve(p.provideCodeLenses(t,e));H&&s.add(H,p)}catch(H){(0,Qn.Cp)(H)}}));return yield Promise.all(d),s.lenses=s.lenses.sort((p,V)=>p.symbol.range.startLineNumber<V.symbol.range.startLineNumber?-1:p.symbol.range.startLineNumber>V.symbol.range.startLineNumber?1:o.get(p.provider)<o.get(V.provider)?-1:o.get(p.provider)>o.get(V.provider)?1:p.symbol.range.startColumn<V.symbol.range.startColumn?-1:p.symbol.range.startColumn>V.symbol.range.startColumn?1:0),s})}eo.P0.registerCommand("_executeCodeLensProvider",function(a,...t){let[e,n]=t;(0,$i.p_)(wo.o.isUri(e)),(0,$i.p_)("number"==typeof n||!n);const{codeLensProvider:o}=a.get(Ui.p),s=a.get(qr.q).getModel(e);if(!s)throw(0,Qn.b1)();const d=[],p=new Tt.SL;return nf(o,s,Zn.T.None).then(V=>{p.add(V);let H=[];for(const U of V.lenses)null==n||Boolean(U.symbol.command)?d.push(U.symbol):n-- >0&&U.provider.resolveCodeLens&&H.push(Promise.resolve(U.provider.resolveCodeLens(s,U.symbol,Zn.T.None)).then(ne=>d.push(ne||U.symbol)));return Promise.all(H)}).then(()=>d).finally(()=>{setTimeout(()=>p.dispose(),100)})});var Fu=m(16811),Cs=m(33439),ol=m(26033),mr=m(58070);const Rg=(0,Qi.yh)("ICodeLensCache");class rf{constructor(t,e){this.lineCount=t,this.data=e}}let zl=class{constructor(t){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new Cs.z6(20,.75),(0,Bn.To)(()=>t.remove("codelens/cache",1));const n="codelens/cache2",o=t.get(n,1,"{}");this._deserialize(o),(0,Fu.I)(t.onWillSaveState)(s=>{s.reason===mr.fk.SHUTDOWN&&t.store(n,this._serialize(),1,1)})}put(t,e){const n=e.lenses.map(d=>{var p;return{range:d.symbol.range,command:d.symbol.command&&{id:"",title:null===(p=d.symbol.command)||void 0===p?void 0:p.title}}}),o=new tf;o.add({lenses:n,dispose:()=>{}},this._fakeProvider);const s=new rf(t.getLineCount(),o);this._cache.set(t.uri.toString(),s)}get(t){const e=this._cache.get(t.uri.toString());return e&&e.lineCount===t.getLineCount()?e.data:void 0}delete(t){this._cache.delete(t.uri.toString())}_serialize(){const t=Object.create(null);for(const[e,n]of this._cache){const o=new Set;for(const s of n.data.lenses)o.add(s.symbol.range.startLineNumber);t[e]={lineCount:n.lineCount,lines:[...o.values()]}}return JSON.stringify(t)}_deserialize(t){try{const e=JSON.parse(t);for(const n in e){const o=e[n],s=[];for(const p of o.lines)s.push({range:new kt.e(p,1,p,11)});const d=new tf;d.add({lenses:s,dispose(){}},this._fakeProvider),this._cache.set(n,new rf(o.lineCount,d))}}catch{}}};zl=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([function(a,t){return function(e,n){t(e,n,0)}}(0,mr.Uy)],zl),(0,ol.z)(Rg,zl);var Bu=m(44339);m(50269);class Ec{constructor(t,e,n){this.afterColumn=1073741824,this.afterLineNumber=t,this.heightInPx=e,this._onHeight=n,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(t){void 0===this._lastHeight?this._lastHeight=t:this._lastHeight!==t&&(this._lastHeight=t,this._onHeight())}isVisible(){return 0!==this._lastHeight&&this.domNode.hasAttribute("monaco-visible-view-zone")}}let zp=(()=>{class a{constructor(e,n,o){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=e,this._id="codelens.widget-"+a._idPool++,this.updatePosition(o),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${n}`}withCommands(e,n){this._commands.clear();let o=[],s=!1;for(let d=0;d<e.length;d++){const p=e[d];if(p&&(s=!0,p.command)){const V=(0,Bu.T)(p.command.title.trim());p.command.id?(o.push(st.$("a",{id:String(d),title:p.command.tooltip},...V)),this._commands.set(String(d),p.command)):o.push(st.$("span",{title:p.command.tooltip},...V)),d+1<e.length&&o.push(st.$("span",void 0,"\xa0|\xa0"))}}s?(st.mc(this._domNode,...o),this._isEmpty&&n&&this._domNode.classList.add("fadein"),this._isEmpty=!1):st.mc(this._domNode,st.$("span",void 0,"no commands"))}getCommand(e){return e.parentElement===this._domNode?this._commands.get(e.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(e){const n=this._editor.getModel().getLineFirstNonWhitespaceColumn(e);this._widgetPosition={position:{lineNumber:e,column:n},preference:[1]}}getPosition(){return this._widgetPosition||null}}return a._idPool=0,a})();class af{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(t,e){this._addDecorations.push(t),this._addDecorationsCallbacks.push(e)}removeDecoration(t){this._removeDecorations.push(t)}commit(t){let e=t.deltaDecorations(this._removeDecorations,this._addDecorations);for(let n=0,o=e.length;n<o;n++)this._addDecorationsCallbacks[n](e[n])}}class Mc{constructor(t,e,n,o,s,d,p){this._isDisposed=!1,this._editor=e,this._className=n,this._data=t,this._decorationIds=[];let V,H=[];this._data.forEach((U,ne)=>{U.symbol.command&&H.push(U.symbol),o.addDecoration({range:U.symbol.range,options:r.qx.EMPTY},be=>this._decorationIds[ne]=be),V=V?kt.e.plusRange(V,U.symbol.range):kt.e.lift(U.symbol.range)}),this._viewZone=new Ec(V.startLineNumber-1,d,p),this._viewZoneId=s.addZone(this._viewZone),H.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(H,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new zp(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(t,e){this._decorationIds.forEach(t.removeDecoration,t),this._decorationIds=[],e&&e.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((t,e)=>{const n=this._editor.getModel().getDecorationRange(t);return!(!n||kt.e.isEmpty(this._data[e].symbol.range)!==n.isEmpty())})}updateCodeLensSymbols(t,e){this._decorationIds.forEach(e.removeDecoration,e),this._decorationIds=[],this._data=t,this._data.forEach((n,o)=>{e.addDecoration({range:n.symbol.range,options:r.qx.EMPTY},s=>this._decorationIds[o]=s)})}updateHeight(t,e){this._viewZone.heightInPx=t,e.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(t){if(!this._viewZone.isVisible())return null;for(let e=0;e<this._decorationIds.length;e++){const n=t.getDecorationRange(this._decorationIds[e]);n&&(this._data[e].symbol.range=n)}return this._data}updateCommands(t){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(t,!0);for(let e=0;e<this._data.length;e++){const n=t[e];if(n){const{symbol:o}=this._data[e];o.command=n.command||o.command}}}getCommand(t){var e;return null===(e=this._contentWidget)||void 0===e?void 0:e.getCommand(t)}getLineNumber(){const t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return t?t.startLineNumber:-1}update(t){if(this.isValid()){const e=this._editor.getModel().getDecorationRange(this._decorationIds[0]);e&&(this._viewZone.afterLineNumber=e.startLineNumber-1,t.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(e.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}var Pa=m(43413),pr=m(85034),Nd=function(a,t){return function(e,n){t(e,n,a)}};let Ul=class{constructor(t,e,n,o,s,d){this._editor=t,this._languageFeaturesService=e,this._commandService=o,this._notificationService=s,this._codeLensCache=d,this._disposables=new Tt.SL,this._localToDispose=new Tt.SL,this._lenses=[],this._oldCodeLensModels=new Tt.SL,this._provideCodeLensDebounce=n.for(e.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=n.for(e.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new Bn.pY(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(p=>{(p.hasChanged(44)||p.hasChanged(16)||p.hasChanged(15))&&this._updateLensStyle(),p.hasChanged(14)&&this._onModelChange()})),this._disposables.add(e.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+(0,Md.vp)(this._editor.getId()).toString(16),this._styleElement=st.dS(st.OO(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var t;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),null===(t=this._currentCodeLensModel)||void 0===t||t.dispose(),this._styleElement.remove()}_getLayoutInfo(){let e,t=this._editor.getOption(16);return!t||t<5?(t=.9*this._editor.getOption(46)|0,e=this._editor.getOption(59)):e=t*Math.max(1.3,this._editor.getOption(59)/this._editor.getOption(46))|0,{codeLensHeight:e,fontSize:t}}_updateLensStyle(){const{codeLensHeight:t,fontSize:e}=this._getLayoutInfo(),n=this._editor.getOption(15),o=this._editor.getOption(44),s=`--codelens-font-family${this._styleClassName}`,d=`--codelens-font-features${this._styleClassName}`;let p=`\n\t\t.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${t}px; font-size: ${e}px; padding-right: ${Math.round(.5*e)}px; font-feature-settings: var(${d}) }\n\t\t.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${t}px; font-size: ${e}px; }\n\t\t`;n&&(p+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${s}), ${ns.hL.fontFamily}}`),this._styleElement.textContent=p,this._editor.getContainerDomNode().style.setProperty(s,n??"inherit"),this._editor.getContainerDomNode().style.setProperty(d,o.fontFeatureSettings),this._editor.changeViewZones(V=>{for(let H of this._lenses)H.updateHeight(t,V)})}_localDispose(){var t,e,n;null===(t=this._getCodeLensModelPromise)||void 0===t||t.cancel(),this._getCodeLensModelPromise=void 0,null===(e=this._resolveCodeLensesPromise)||void 0===e||e.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),null===(n=this._currentCodeLensModel)||void 0===n||n.dispose()}_onModelChange(){this._localDispose();const t=this._editor.getModel();if(!t||!this._editor.getOption(14))return;const e=this._codeLensCache.get(t);if(e&&this._renderCodeLensSymbols(e),!this._languageFeaturesService.codeLensProvider.has(t))return void(e&&this._localToDispose.add((0,Bn.Vg)(()=>{const o=this._codeLensCache.get(t);e===o&&(this._codeLensCache.delete(t),this._onModelChange())},3e4)));for(const o of this._languageFeaturesService.codeLensProvider.all(t))if("function"==typeof o.onDidChange){let s=o.onDidChange(()=>n.schedule());this._localToDispose.add(s)}const n=new Bn.pY(()=>{var o;const s=Date.now();null===(o=this._getCodeLensModelPromise)||void 0===o||o.cancel(),this._getCodeLensModelPromise=(0,Bn.PG)(d=>nf(this._languageFeaturesService.codeLensProvider,t,d)),this._getCodeLensModelPromise.then(d=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=d,this._codeLensCache.put(t,d);const p=this._provideCodeLensDebounce.update(t,Date.now()-s);n.delay=p,this._renderCodeLensSymbols(d),this._resolveCodeLensesInViewportSoon()},Qn.dL)},this._provideCodeLensDebounce.get(t));this._localToDispose.add(n),this._localToDispose.add((0,Tt.OF)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(o=>{this._editor.changeViewZones(s=>{let d=[],p=-1;this._lenses.forEach(H=>{H.isValid()&&p!==H.getLineNumber()?(H.update(s),p=H.getLineNumber()):d.push(H)});let V=new af;d.forEach(H=>{H.dispose(V,s),this._lenses.splice(this._lenses.indexOf(H),1)}),V.commit(o)})}),n.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{n.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(o=>{o.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,Tt.OF)(()=>{if(this._editor.getModel()){const o=Hl.Z.capture(this._editor);this._editor.changeDecorations(s=>{this._editor.changeViewZones(d=>{this._disposeAllLenses(s,d)})}),o.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(o=>{if(9!==o.target.type)return;let s=o.target.element;if("SPAN"===(null==s?void 0:s.tagName)&&(s=s.parentElement),"A"===(null==s?void 0:s.tagName))for(const d of this._lenses){let p=d.getCommand(s);if(p){this._commandService.executeCommand(p.id,...p.arguments||[]).catch(V=>this._notificationService.error(V));break}}})),n.schedule()}_disposeAllLenses(t,e){const n=new af;for(const o of this._lenses)o.dispose(n,e);t&&n.commit(t),this._lenses.length=0}_renderCodeLensSymbols(t){if(!this._editor.hasModel())return;let o,e=this._editor.getModel().getLineCount(),n=[];for(let p of t.lenses){let V=p.symbol.range.startLineNumber;V<1||V>e||(o&&o[o.length-1].symbol.range.startLineNumber===V?o.push(p):(o=[p],n.push(o)))}const s=Hl.Z.capture(this._editor),d=this._getLayoutInfo();this._editor.changeDecorations(p=>{this._editor.changeViewZones(V=>{const H=new af;let U=0,ne=0;for(;ne<n.length&&U<this._lenses.length;){let be=n[ne][0].symbol.range.startLineNumber,Ee=this._lenses[U].getLineNumber();Ee<be?(this._lenses[U].dispose(H,V),this._lenses.splice(U,1)):Ee===be?(this._lenses[U].updateCodeLensSymbols(n[ne],H),ne++,U++):(this._lenses.splice(U,0,new Mc(n[ne],this._editor,this._styleClassName,H,V,d.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),U++,ne++)}for(;U<this._lenses.length;)this._lenses[U].dispose(H,V),this._lenses.splice(U,1);for(;ne<n.length;)this._lenses.push(new Mc(n[ne],this._editor,this._styleClassName,H,V,d.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),ne++;H.commit(p)})}),s.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var t;null===(t=this._resolveCodeLensesPromise)||void 0===t||t.cancel(),this._resolveCodeLensesPromise=void 0;const e=this._editor.getModel();if(!e)return;const n=[],o=[];if(this._lenses.forEach(p=>{const V=p.computeIfNecessary(e);V&&(n.push(V),o.push(p))}),0===n.length)return;const s=Date.now(),d=(0,Bn.PG)(p=>{const V=n.map((H,U)=>{const ne=new Array(H.length),be=H.map((Ee,Ke)=>Ee.symbol.command||"function"!=typeof Ee.provider.resolveCodeLens?(ne[Ke]=Ee.symbol,Promise.resolve(void 0)):Promise.resolve(Ee.provider.resolveCodeLens(e,Ee.symbol,p)).then(ct=>{ne[Ke]=ct},Qn.Cp));return Promise.all(be).then(()=>{!p.isCancellationRequested&&!o[U].isDisposed()&&o[U].updateCommands(ne)})});return Promise.all(V)});this._resolveCodeLensesPromise=d,this._resolveCodeLensesPromise.then(()=>{const p=this._resolveCodeLensesDebounce.update(e,Date.now()-s);this._resolveCodeLensesScheduler.delay=p,this._currentCodeLensModel&&this._codeLensCache.put(e,this._currentCodeLensModel),this._oldCodeLensModels.clear(),d===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},p=>{(0,Qn.dL)(p),d===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getModel(){return this._currentCodeLensModel}};Ul.ID="css.editor.codeLens",Ul=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([Nd(1,Ui.p),Nd(2,pr.A),Nd(3,eo.Hy),Nd(4,us.lT),Nd(5,Rg)],Ul),(0,Qe._K)(Ul.ID,Ul),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:Ct.u.hasCodeLensProvider,label:(0,De.N)("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}run(t,e){return function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})}(this,void 0,void 0,function*(){if(!e.hasModel())return;const n=t.get(Pa.eJ),o=t.get(eo.Hy),s=t.get(us.lT),d=e.getSelection().positionLineNumber,p=e.getContribution(Ul.ID);if(!p)return;const V=p.getModel();if(!V)return;const H=[];for(const ne of V.lenses)ne.symbol.command&&ne.symbol.range.startLineNumber===d&&H.push({label:ne.symbol.command.title,command:ne.symbol.command});if(0===H.length)return;const U=yield n.pick(H,{canPickMany:!1});if(U){if(V.isDisposed)return yield o.executeCommand(this.id);try{yield o.executeCommand(U.command.id,...U.command.arguments||[])}catch(ne){s.error(ne)}}})}});var ji=m(81897),ea=m(39932),Wu=m(96132);function Bg(a,t,e,n){return Promise.resolve(e.provideColorPresentations(a,t,n))}eo.P0.registerCommand("_executeDocumentColorProvider",function(a,...t){const[e]=t;if(!(e instanceof wo.o))throw(0,Qn.b1)();const{colorProvider:n}=a.get(Ui.p),o=a.get(qr.q).getModel(e);if(!o)throw(0,Qn.b1)();const s=[],p=n.ordered(o).reverse().map(V=>Promise.resolve(V.provideDocumentColors(o,Zn.T.None)).then(H=>{if(Array.isArray(H))for(let U of H)s.push({range:U.range,color:[U.color.red,U.color.green,U.color.blue,U.color.alpha]})}));return Promise.all(p).then(()=>s)}),eo.P0.registerCommand("_executeColorPresentationProvider",function(a,...t){const[e,n]=t,{uri:o,range:s}=n;if(!(o instanceof wo.o&&Array.isArray(e)&&4===e.length&&kt.e.isIRange(s)))throw(0,Qn.b1)();const[d,p,V,H]=e,{colorProvider:U}=a.get(Ui.p),ne=a.get(qr.q).getModel(o);if(!ne)throw(0,Qn.b1)();const be={range:s,color:{red:d,green:p,blue:V,alpha:H}},Ee=[],ct=U.ordered(ne).reverse().map(Pt=>Promise.resolve(Pt.provideColorPresentations(ne,be,Zn.T.None)).then(Ot=>{Array.isArray(Ot)&&Ee.push(...Ot)}));return Promise.all(ct).then(()=>Ee)});var Jo=m(13011),lf=function(a,t){return function(e,n){t(e,n,a)}};const cf=Object.create({});let Oa=class Xv extends Tt.JT{constructor(t,e,n,o){super(),this._editor=t,this._configurationService=e,this._languageFeaturesService=n,this._localToDispose=this._register(new Tt.SL),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=new Set,this._ruleFactory=new Wu.t7(this._editor),this._colorDecorationClassRefs=this._register(new Tt.SL),this._debounceInformation=o.for(n.colorProvider,"Document Colors",{min:Xv.RECOMPUTE_TIME}),this._register(t.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(t.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(n.colorProvider.onDidChange(()=>this.onModelChanged())),this._register(t.onDidChangeConfiguration(()=>{let s=this._isEnabled;this._isEnabled=this.isEnabled(),s!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const t=this._editor.getModel();if(!t)return!1;const e=t.getLanguageId(),n=this._configurationService.getValue(e);if(n&&"object"==typeof n){const o=n.colorDecorators;if(o&&void 0!==o.enable&&!o.enable)return o.enable}return this._editor.getOption(17)}static get(t){return t.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const t=this._editor.getModel();!t||!this._languageFeaturesService.colorProvider.has(t)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new Bn._F,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(t)))})),this.beginCompute())}beginCompute(){this._computePromise=(0,Bn.PG)(t=>function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})}(this,void 0,void 0,function*(){const e=this._editor.getModel();if(!e)return Promise.resolve([]);const n=new ea.G(!1),o=yield function(a,t,e){const n=[],s=a.ordered(t).reverse().map(d=>Promise.resolve(d.provideDocumentColors(t,e)).then(p=>{if(Array.isArray(p))for(let V of p)n.push({colorInfo:V,provider:d})}));return Promise.all(s).then(()=>n)}(this._languageFeaturesService.colorProvider,e,t);return this._debounceInformation.update(e,n.elapsed()),o})),this._computePromise.then(t=>{this.updateDecorations(t),this.updateColorDecorators(t),this._computePromise=null},Qn.dL)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(t){const e=t.map(n=>({range:{startLineNumber:n.colorInfo.range.startLineNumber,startColumn:n.colorInfo.range.startColumn,endLineNumber:n.colorInfo.range.endLineNumber,endColumn:n.colorInfo.range.endColumn},options:r.qx.EMPTY}));this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,e),this._colorDatas=new Map,this._decorationsIds.forEach((n,o)=>this._colorDatas.set(n,t[o]))}updateColorDecorators(t){this._colorDecorationClassRefs.clear();let e=[];for(let n=0;n<t.length&&e.length<500;n++){const{red:o,green:s,blue:d,alpha:p}=t[n].colorInfo.color,V=new ji.VS(Math.round(255*o),Math.round(255*s),Math.round(255*d),p),U=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:`rgba(${V.r}, ${V.g}, ${V.b}, ${V.a})`}));e.push({range:{startLineNumber:t[n].colorInfo.range.startLineNumber,startColumn:t[n].colorInfo.range.startColumn,endLineNumber:t[n].colorInfo.range.endLineNumber,endColumn:t[n].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:jn.B4,inlineClassName:`${U.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:cf}}})}this._colorDecoratorIds=new Set(this._editor.deltaDecorations([...this._colorDecoratorIds],e))}removeAllDecorations(){this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=new Set(this._editor.deltaDecorations([...this._colorDecoratorIds],[])),this._colorDecorationClassRefs.clear()}getColorData(t){const e=this._editor.getModel();if(!e)return null;const n=e.getDecorationsInRange(kt.e.fromPositions(t,t)).filter(o=>this._colorDatas.has(o.id));return 0===n.length?null:this._colorDatas.get(n[0].id)}isColorDecorationId(t){return this._colorDecoratorIds.has(t)}};Oa.ID="editor.contrib.colorDetector",Oa.RECOMPUTE_TIME=1e3,Oa=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([lf(1,Jo.Ui),lf(2,Ui.p),lf(3,pr.A)],Oa),(0,Qe._K)(Oa.ID,Oa);class _r{constructor(t,e,n){this.presentationIndex=n,this._onColorFlushed=new $n.Q5,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new $n.Q5,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new $n.Q5,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=t,this._color=t,this._colorPresentations=e}get color(){return this._color}set color(t){this._color.equals(t)||(this._color=t,this._onDidChangeColor.fire(t))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(t){this._colorPresentations=t,this.presentationIndex>t.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(t,e){for(let n=0;n<this.colorPresentations.length;n++)if(e.toLowerCase()===this.colorPresentations[n].label){this.presentationIndex=n,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}var sl=m(37450);m(77725);const Rs=st.$;class Hg extends Tt.JT{constructor(t,e,n){super(),this.model=e,this.domNode=Rs(".colorpicker-header"),st.R3(t,this.domNode),this.pickedColorNode=st.R3(this.domNode,Rs(".picked-color"));const o=(0,De.N)("clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)");this.pickedColorNode.setAttribute("title",o);const s=st.R3(this.domNode,Rs(".original-color"));s.style.backgroundColor=ji.Il.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=n.getColorTheme().getColor(y.yJx)||ji.Il.white,this._register((0,A.Ic)((d,p)=>{this.backgroundColor=d.getColor(y.yJx)||ji.Il.white})),this._register(st.nm(this.pickedColorNode,st.tw.CLICK,()=>this.model.selectNextColorPresentation())),this._register(st.nm(s,st.tw.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(e.onDidChangeColor(this.onDidChangeColor,this)),this._register(e.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=ji.Il.Format.CSS.format(e.color)||"",this.pickedColorNode.classList.toggle("light",e.color.rgba.a<.5?this.backgroundColor.isLighter():e.color.isLighter()),this.onDidChangeColor(this.model.color)}onDidChangeColor(t){this.pickedColorNode.style.backgroundColor=ji.Il.Format.CSS.format(t)||"",this.pickedColorNode.classList.toggle("light",t.rgba.a<.5?this.backgroundColor.isLighter():t.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:"",this.pickedColorNode.prepend(Rs(".codicon.codicon-color-mode"))}}class zg extends Tt.JT{constructor(t,e,n){super(),this.model=e,this.pixelRatio=n,this.domNode=Rs(".colorpicker-body"),st.R3(t,this.domNode),this.saturationBox=new Ug(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new $p(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new rl(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:t,v:e}){const n=this.model.color.hsva;this.model.color=new ji.Il(new ji.tx(n.h,t,e,n.a))}onDidOpacityChange(t){const e=this.model.color.hsva;this.model.color=new ji.Il(new ji.tx(e.h,e.s,e.v,t))}onDidHueChange(t){const e=this.model.color.hsva,n=360*(1-t);this.model.color=new ji.Il(new ji.tx(360===n?0:n,e.s,e.v,e.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}class Ug extends Tt.JT{constructor(t,e,n){super(),this.model=e,this.pixelRatio=n,this._onDidChange=new $n.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new $n.Q5,this.onColorFlushed=this._onColorFlushed.event,this.domNode=Rs(".saturation-wrap"),st.R3(t,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",st.R3(this.domNode,this.canvas),this.selection=Rs(".saturation-selection"),st.R3(this.domNode,this.selection),this.layout(),this._register(st.u0(this.domNode,o=>this.onMouseDown(o))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onMouseDown(t){this.monitor=this._register(new il.Z);const e=st.i(this.domNode);t.target!==this.selection&&this.onDidChangePosition(t.offsetX,t.offsetY),this.monitor.startMonitoring(t.target,t.buttons,il.e,o=>this.onDidChangePosition(o.posx-e.left,o.posy-e.top),()=>null);const n=st.q6(document,()=>{this._onColorFlushed.fire(),n.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(t,e){const n=Math.max(0,Math.min(1,t/this.width)),o=Math.max(0,Math.min(1,1-e/this.height));this.paintSelection(n,o),this._onDidChange.fire({s:n,v:o})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const t=this.model.color.hsva;this.paintSelection(t.s,t.v)}paint(){const e=new ji.Il(new ji.tx(this.model.color.hsva.h,1,1,1)),n=this.canvas.getContext("2d"),o=n.createLinearGradient(0,0,this.canvas.width,0);o.addColorStop(0,"rgba(255, 255, 255, 1)"),o.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),o.addColorStop(1,"rgba(255, 255, 255, 0)");const s=n.createLinearGradient(0,0,0,this.canvas.height);s.addColorStop(0,"rgba(0, 0, 0, 0)"),s.addColorStop(1,"rgba(0, 0, 0, 1)"),n.rect(0,0,this.canvas.width,this.canvas.height),n.fillStyle=ji.Il.Format.CSS.format(e),n.fill(),n.fillStyle=o,n.fill(),n.fillStyle=s,n.fill()}paintSelection(t,e){this.selection.style.left=t*this.width+"px",this.selection.style.top=this.height-e*this.height+"px"}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class Ao extends Tt.JT{constructor(t,e){super(),this.model=e,this._onDidChange=new $n.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new $n.Q5,this.onColorFlushed=this._onColorFlushed.event,this.domNode=st.R3(t,Rs(".strip")),this.overlay=st.R3(this.domNode,Rs(".overlay")),this.slider=st.R3(this.domNode,Rs(".slider")),this.slider.style.top="0px",this._register(st.u0(this.domNode,n=>this.onMouseDown(n))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const t=this.getValue(this.model.color);this.updateSliderPosition(t)}onMouseDown(t){const e=this._register(new il.Z),n=st.i(this.domNode);this.domNode.classList.add("grabbing"),t.target!==this.slider&&this.onDidChangeTop(t.offsetY),e.startMonitoring(t.target,t.buttons,il.e,s=>this.onDidChangeTop(s.posy-n.top),()=>null);const o=st.q6(document,()=>{this._onColorFlushed.fire(),o.dispose(),e.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(t){const e=Math.max(0,Math.min(1,1-t/this.height));this.updateSliderPosition(e),this._onDidChange.fire(e)}updateSliderPosition(t){this.slider.style.top=(1-t)*this.height+"px"}}class $p extends Ao{constructor(t,e){super(t,e),this.domNode.classList.add("opacity-strip"),this._register(e.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(t){const{r:e,g:n,b:o}=t.rgba,s=new ji.Il(new ji.VS(e,n,o,1)),d=new ji.Il(new ji.VS(e,n,o,0));this.overlay.style.background=`linear-gradient(to bottom, ${s} 0%, ${d} 100%)`}getValue(t){return t.hsva.a}}class rl extends Ao{constructor(t,e){super(t,e),this.domNode.classList.add("hue-strip")}getValue(t){return 1-t.hsva.h/360}}class Ns extends sl.${constructor(t,e,n,o){super(),this.model=e,this.pixelRatio=n,this._register(ln.PixelRatio.onDidChange(()=>this.layout()));const s=Rs(".colorpicker-widget");t.appendChild(s);const d=new Hg(s,this.model,o);this.body=new zg(s,this.model,this.pixelRatio),this._register(d),this._register(this.body)}layout(){this.body.layout()}}var Vu=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})};class Gp{constructor(t,e,n,o){this.owner=t,this.range=e,this.model=n,this.provider=o,this.forceShowAtRange=!0}isValidForHoverAnchor(t){return 1===t.type&&this.range.startColumn<=t.range.startColumn&&this.range.endColumn>=t.range.endColumn}}let df=class{constructor(t,e){this._editor=t,this._themeService=e,this.hoverOrdinal=1}computeSync(t,e){return[]}computeAsync(t,e,n){return Bn.Aq.fromPromise(this._computeAsync(t,e,n))}_computeAsync(t,e,n){return Vu(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const o=Oa.get(this._editor);if(!o)return[];for(const s of e){if(!o.isColorDecorationId(s.id))continue;const d=o.getColorData(s.range.getStartPosition());if(d)return[yield this._createColorHover(this._editor.getModel(),d.colorInfo,d.provider)]}return[]})}_createColorHover(t,e,n){return Vu(this,void 0,void 0,function*(){const o=t.getValueInRange(e.range),{red:s,green:d,blue:p,alpha:V}=e.color,H=new ji.VS(Math.round(255*s),Math.round(255*d),Math.round(255*p),V),U=new ji.Il(H),ne=yield Bg(t,e,n,Zn.T.None),be=new _r(U,[],0);return be.colorPresentations=ne||[],be.guessColorPresentation(U,o),new Gp(this,kt.e.lift(e.range),be,n)})}renderHoverParts(t,e){if(0===e.length||!this._editor.hasModel())return Tt.JT.None;const n=new Tt.SL,o=e[0],s=this._editor.getModel(),d=o.model,p=n.add(new Ns(t.fragment,d,this._editor.getOption(129),this._themeService));t.setColorPicker(p);let V=new kt.e(o.range.startLineNumber,o.range.startColumn,o.range.endLineNumber,o.range.endColumn);const H=()=>{let ne,be;if(d.presentation.textEdit){ne=[d.presentation.textEdit],be=new kt.e(d.presentation.textEdit.range.startLineNumber,d.presentation.textEdit.range.startColumn,d.presentation.textEdit.range.endLineNumber,d.presentation.textEdit.range.endColumn);const Ee=this._editor.getModel()._setTrackedRange(null,be,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",ne),be=this._editor.getModel()._getTrackedRange(Ee)||be}else ne=[{range:V,text:d.presentation.label,forceMoveMarkers:!1}],be=V.setEndPosition(V.endLineNumber,V.startColumn+d.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",ne);d.presentation.additionalTextEdits&&(ne=[...d.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",ne),t.hide()),this._editor.pushUndoStop(),V=be},U=ne=>Bg(s,{range:V,color:{red:ne.rgba.r/255,green:ne.rgba.g/255,blue:ne.rgba.b/255,alpha:ne.rgba.a}},o.provider,Zn.T.None).then(be=>{d.colorPresentations=be||[]});return n.add(d.onColorFlushed(ne=>{U(ne).then(H)})),n.add(d.onDidChangeColor(U)),n}};df=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([function(a,t){return function(e,n){t(e,n,1)}}(0,A.XE)],df);var or=m(80810),Cr=(m(55753),m(13591));function uf(a,t){return!!a[t]}class Hu{constructor(t,e){this.target=t.target,this.hasTriggerModifier=uf(t.event,e.triggerModifier),this.hasSideBySideModifier=uf(t.event,e.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=t.event.detail<=1}}class hf{constructor(t,e){this.keyCodeIsTriggerKey=t.keyCode===e.triggerKey,this.keyCodeIsSideBySideKey=t.keyCode===e.triggerSideBySideKey,this.hasTriggerModifier=uf(t,e.triggerModifier)}}class Nc{constructor(t,e,n,o){this.triggerKey=t,this.triggerModifier=e,this.triggerSideBySideKey=n,this.triggerSideBySideModifier=o}equals(t){return this.triggerKey===t.triggerKey&&this.triggerModifier===t.triggerModifier&&this.triggerSideBySideKey===t.triggerSideBySideKey&&this.triggerSideBySideModifier===t.triggerSideBySideModifier}}function zu(a){return"altKey"===a?$t.dz?new Nc(57,"metaKey",6,"altKey"):new Nc(5,"ctrlKey",6,"altKey"):$t.dz?new Nc(6,"altKey",57,"metaKey"):new Nc(6,"altKey",5,"ctrlKey")}class ff extends Tt.JT{constructor(t){super(),this._onMouseMoveOrRelevantKeyDown=this._register(new $n.Q5),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new $n.Q5),this.onExecute=this._onExecute.event,this._onCancel=this._register(new $n.Q5),this.onCancel=this._onCancel.event,this._editor=t,this._opts=zu(this._editor.getOption(70)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(e=>{if(e.hasChanged(70)){const n=zu(this._editor.getOption(70));if(this._opts.equals(n))return;this._opts=n,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(e=>this._onEditorMouseMove(new Hu(e,this._opts)))),this._register(this._editor.onMouseDown(e=>this._onEditorMouseDown(new Hu(e,this._opts)))),this._register(this._editor.onMouseUp(e=>this._onEditorMouseUp(new Hu(e,this._opts)))),this._register(this._editor.onKeyDown(e=>this._onEditorKeyDown(new hf(e,this._opts)))),this._register(this._editor.onKeyUp(e=>this._onEditorKeyUp(new hf(e,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(e=>this._onDidChangeCursorSelection(e))),this._register(this._editor.onDidChangeModel(e=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(e=>{(e.scrollTopChanged||e.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(t){t.selection&&t.selection.startColumn!==t.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(t){this._lastMouseMoveEvent=t,this._onMouseMoveOrRelevantKeyDown.fire([t,null])}_onEditorMouseDown(t){this._hasTriggerKeyOnMouseDown=t.hasTriggerModifier,this._lineNumberOnMouseDown=t.target.position?t.target.position.lineNumber:0}_onEditorMouseUp(t){this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===(t.target.position?t.target.position.lineNumber:0)&&this._onExecute.fire(t)}_onEditorKeyDown(t){this._lastMouseMoveEvent&&(t.keyCodeIsTriggerKey||t.keyCodeIsSideBySideKey&&t.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,t]):t.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(t){t.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}var Uu=m(60291),al=m(60842),Ic=(m(68819),m(13976)),Vo=m(92119),Aa=function(a,t){return function(e,n){t(e,n,a)}};let jl=class extends tl.Gm{constructor(t,e,n,o,s,d,p,V,H,U,ne,be){super(t,Object.assign(Object.assign({},n.getRawOptions()),{overflowWidgetsDomNode:n.getOverflowWidgetsDomNode()}),{},o,s,d,p,V,H,U,ne,be),this._parentEditor=n,this._overwriteOptions=e,super.updateOptions(this._overwriteOptions),this._register(n.onDidChangeConfiguration(Ee=>this._onParentConfigurationChanged(Ee)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(t){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(t){al.jB(this._overwriteOptions,t,!0),super.updateOptions(this._overwriteOptions)}};jl=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([Aa(3,Qi.TG),Aa(4,In.$),Aa(5,eo.Hy),Aa(6,Qt.i6),Aa(7,A.XE),Aa(8,us.lT),Aa(9,Ic.F),Aa(10,Vo.c_),Aa(11,Ui.p)],jl);var ua=m(54789),ui=m(90546);m(13911);const po=new ji.Il(new ji.VS(0,122,204)),Yp={showArrow:!0,showFrame:!0,className:"",frameColor:po,arrowColor:po,keepEditorSelection:!1};class Jp{constructor(t,e,n,o,s,d){this.id="",this.domNode=t,this.afterLineNumber=e,this.afterColumn=n,this.heightInLines=o,this._onDomNodeTop=s,this._onComputedHeight=d}onDomNodeTop(t){this._onDomNodeTop(t)}onComputedHeight(t){this._onComputedHeight(t)}}class ju{constructor(t,e){this._id=t,this._domNode=e}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}class kc{constructor(t){this._editor=t,this._ruleName=kc._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}dispose(){this.hide(),st.uN(this._ruleName)}set color(t){this._color!==t&&(this._color=t,this._updateStyle())}set height(t){this._height!==t&&(this._height=t,this._updateStyle())}_updateStyle(){st.uN(this._ruleName),st.fk(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(t){1===t.column&&(t={lineNumber:t.lineNumber,column:2}),this._decorations=this._editor.deltaDecorations(this._decorations,[{range:kt.e.fromPositions(t),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._editor.deltaDecorations(this._decorations,[])}}kc._IdGenerator=new ui.R(".arrow-decoration-");var Tc=m(714),Pc=m(48727);m(98735);class Xp extends jo.Wi{constructor(t,e){super(),this._onDidChangeVisibility=this._register(new $n.Q5),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,st.R3)(t,(0,st.$)(".monaco-dropdown")),this._label=(0,st.R3)(this._element,(0,st.$)(".dropdown-label"));let n=e.labelRenderer;n||(n=s=>(s.textContent=e.label||"",null));for(const s of[st.tw.CLICK,st.tw.MOUSE_DOWN,Ta.t.Tap])this._register((0,st.nm)(this.element,s,d=>st.zB.stop(d,!0)));for(const s of[st.tw.MOUSE_DOWN,Ta.t.Tap])this._register((0,st.nm)(this._label,s,d=>{d instanceof MouseEvent&&d.detail>1||(this.visible?this.hide():this.show())}));this._register((0,st.nm)(this._label,st.tw.KEY_UP,s=>{const d=new Tc.y(s);(d.equals(3)||d.equals(10))&&(st.zB.stop(s,!0),this.visible?this.hide():this.show())}));const o=n(this._label);o&&this._register(o),this._register(Ta.o.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class qp extends Xp{constructor(t,e){super(t,e),this._actions=[],this._contextMenuProvider=e.contextMenuProvider,this.actions=e.actions||[],this.actionProvider=e.actionProvider,this.menuClassName=e.menuClassName||"",this.menuAsChild=!!e.menuAsChild}set menuOptions(t){this._menuOptions=t}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(t){this._actions=t}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:t=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(t):void 0,getKeyBinding:t=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(t):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}class Qg extends Pc.Y{constructor(t,e,n,o=Object.create(null)){super(null,t,o),this.actionItem=null,this._onDidChangeVisibility=this._register(new $n.Q5),this.menuActionsOrProvider=e,this.contextMenuProvider=n,this.options=o,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(t){this.actionItem=t;const n=Array.isArray(this.menuActionsOrProvider);if(this.dropdownMenu=this._register(new qp(t,{contextMenuProvider:this.contextMenuProvider,labelRenderer:s=>{this.element=(0,st.R3)(s,(0,st.$)("a.action-label"));let d=[];return"string"==typeof this.options.classNames?d=this.options.classNames.split(/\s+/g).filter(p=>!!p):this.options.classNames&&(d=this.options.classNames),d.find(p=>"icon"===p)||d.push("codicon"),this.element.classList.add(...d),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",null},menuAsChild:this.options.menuAsChild,actions:n?this.menuActionsOrProvider:void 0,actionProvider:n?void 0:this.menuActionsOrProvider})),this._register(this.dropdownMenu.onDidChangeVisibility(s=>{var d;null===(d=this.element)||void 0===d||d.setAttribute("aria-expanded",`${s}`),this._onDidChangeVisibility.fire(s)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const s=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return s.options.anchorAlignmentProvider()}})}this.updateEnabled()}setActionContext(t){super.setActionContext(t),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=t:this.dropdownMenu.menuOptions={context:t})}updateEnabled(){var t,e;const n=!this.getAction().enabled;null===(t=this.actionItem)||void 0===t||t.classList.toggle("disabled",n),null===(e=this.element)||void 0===e||e.classList.toggle("disabled",n)}}var e0=m(99802),mf=(m(62922),function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}),ha=function(a,t){return function(e,n){t(e,n,a)}},Yg=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})};let Oc=class extends Pc.g{constructor(t,e,n,o,s){super(void 0,t,{icon:!(!t.class&&!t.item.icon),label:!t.class&&!t.item.icon,draggable:null==e?void 0:e.draggable}),this._keybindingService=n,this._notificationService=o,this._contextKeyService=s,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new Tt.XK),this._altKey=st._q.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(t){return Yg(this,void 0,void 0,function*(){t.preventDefault(),t.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(e){this._notificationService.error(e)}})}render(t){super.render(t),t.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let e=!1,n=this._altKey.keyStatus.altKey||($t.ED||$t.IJ)&&this._altKey.keyStatus.shiftKey;const o=()=>{const s=e&&n;s!==this._wantsAltCommand&&(this._wantsAltCommand=s,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(s=>{n=s.altKey||($t.ED||$t.IJ)&&s.shiftKey,o()})),this._register((0,st.nm)(t,"mouseleave",s=>{e=!1,o()})),this._register((0,st.nm)(t,"mouseenter",s=>{e=!0,o()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}updateTooltip(){if(this.label){const t=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),e=t&&t.getLabel(),n=this._commandAction.tooltip||this._commandAction.label;let o=e?(0,De.N)("titleAndKb","{0} ({1})",n,e):n;if(!this._wantsAltCommand&&this._menuItemAction.alt){const s=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,d=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),p=d&&d.getLabel(),V=p?(0,De.N)("titleAndKb","{0} ({1})",s,p):s;o+=`\n[${e0.xo.modifierLabels[$t.OS].altKey}] ${V}`}this.label.title=o}}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.item))}_updateItemClass(t){var e;this._itemClassDispose.value=void 0;const{element:n,label:o}=this;if(!n||!o)return;const s=this._commandAction.checked&&(null===(e=t.toggled)||void 0===e?void 0:e.icon)?t.toggled.icon:t.icon;if(s)if(A.kS.isThemeIcon(s)){const d=A.kS.asClassNameArray(s);o.classList.add(...d),this._itemClassDispose.value=(0,Tt.OF)(()=>{o.classList.remove(...d)})}else s.light&&o.style.setProperty("--menu-entry-icon-light",(0,st.wY)(s.light)),s.dark&&o.style.setProperty("--menu-entry-icon-dark",(0,st.wY)(s.dark)),o.classList.add("icon"),this._itemClassDispose.value=(0,Tt.OF)(()=>{o.classList.remove("icon"),o.style.removeProperty("--menu-entry-icon-light"),o.style.removeProperty("--menu-entry-icon-dark")})}};Oc=mf([ha(2,Zs.d),ha(3,us.lT),ha(4,Qt.i6)],Oc);let pf=class extends Qg{constructor(t,e,n){var o,s;const d=Object.assign({},e??Object.create(null),{menuAsChild:null!==(o=null==e?void 0:e.menuAsChild)&&void 0!==o&&o,classNames:null!==(s=null==e?void 0:e.classNames)&&void 0!==s?s:A.kS.isThemeIcon(t.item.icon)?A.kS.asClassName(t.item.icon):void 0});super(t,{getActions:()=>t.actions},n,d)}render(t){if(super.render(t),this.element){t.classList.add("menu-entry");const{icon:e}=this._action.item;e&&!A.kS.isThemeIcon(e)&&(this.element.classList.add("icon"),e.light&&this.element.style.setProperty("--menu-entry-icon-light",(0,st.wY)(e.light)),e.dark&&this.element.style.setProperty("--menu-entry-icon-dark",(0,st.wY)(e.dark)))}}};pf=mf([ha(2,Ol.i)],pf);let _f=class extends Pc.Y{constructor(t,e,n,o,s,d,p,V){var H,U,ne;super(null,t),this._keybindingService=n,this._notificationService=o,this._contextMenuService=s,this._menuService=d,this._instaService=p,this._storageService=V,this._container=null,this._storageKey=`${t.item.submenu._debugName}_lastActionId`;let be,Ee=V.get(this._storageKey,1);Ee&&(be=t.actions.find(ct=>Ee===ct.id)),be||(be=t.actions[0]),this._defaultAction=this._instaService.createInstance(Oc,be,void 0);const Ke=Object.assign({},e??Object.create(null),{menuAsChild:null===(H=null==e?void 0:e.menuAsChild)||void 0===H||H,classNames:null!==(U=null==e?void 0:e.classNames)&&void 0!==U?U:["codicon","codicon-chevron-down"],actionRunner:null!==(ne=null==e?void 0:e.actionRunner)&&void 0!==ne?ne:new jo.Wi});this._dropdown=new Qg(t,t.actions,this._contextMenuService,Ke),this._dropdown.actionRunner.onDidRun(ct=>{ct.action instanceof _.U8&&this.update(ct.action)})}update(t){this._storageService.store(this._storageKey,t.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(Oc,t,void 0),this._defaultAction.actionRunner=new class extends jo.Wi{runAction(e,n){return Yg(this,void 0,void 0,function*(){yield e.run(void 0)})}},this._container&&this._defaultAction.render((0,st.Ce)(this._container,(0,st.$)(".action-container")))}setActionContext(t){super.setActionContext(t),this._defaultAction.setActionContext(t),this._dropdown.setActionContext(t)}render(t){this._container=t,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const e=(0,st.$)(".action-container");this._defaultAction.render((0,st.R3)(this._container,e)),this._register((0,st.nm)(e,st.tw.KEY_DOWN,o=>{const s=new Tc.y(o);s.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),s.stopPropagation())}));const n=(0,st.$)(".dropdown-action-container");this._dropdown.render((0,st.R3)(this._container,n)),this._register((0,st.nm)(n,st.tw.KEY_DOWN,o=>{var s;const d=new Tc.y(o);d.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),null===(s=this._defaultAction.element)||void 0===s||s.focus(),d.stopPropagation())}))}focus(t){t?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(t){t?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};function o0(a,t,e){return t instanceof _.U8?a.createInstance(Oc,t,void 0):t instanceof _.NZ?a.createInstance(t.item.rememberDefaultAction?_f:pf,t,e):void 0}_f=mf([ha(2,Zs.d),ha(3,us.lT),ha(4,Ol.i),ha(5,_.co),ha(6,Qi.TG),ha(7,mr.Uy)],_f);var Jg=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Xg=function(a,t){return function(e,n){t(e,n,a)}};const qg=(0,Qi.yh)("IPeekViewService");var Gs;(0,ol.z)(qg,class{constructor(){this._widgets=new Map}addExclusiveWidget(a,t){const e=this._widgets.get(a);e&&(e.listener.dispose(),e.widget.dispose()),this._widgets.set(a,{widget:t,listener:t.onDidClose(()=>{const o=this._widgets.get(a);o&&o.widget===t&&(o.listener.dispose(),this._widgets.delete(a))})})}}),function(a){a.inPeekEditor=new Qt.uy("inReferenceSearchEditor",!0,De.N("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),a.notInPeekEditor=a.inPeekEditor.toNegated()}(Gs||(Gs={}));let Id=class{constructor(t,e){t instanceof jl&&Gs.inPeekEditor.bindTo(e)}dispose(){}};Id.ID="editor.contrib.referenceController",Id=Jg([Xg(1,Qt.i6)],Id),(0,Qe._K)(Id.ID,Id);const r0={headerBackgroundColor:ji.Il.white,primaryHeadingColor:ji.Il.fromHex("#333333"),secondaryHeadingColor:ji.Il.fromHex("#6c6c6cb3")};let Ku=class extends class{constructor(t,e={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new Tt.SL,this.container=null,this._isShowing=!1,this.editor=t,this.options=al.I8(e),al.jB(this.options,Yp,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(n=>{const o=this._getWidth(n);this.domNode.style.width=o+"px",this.domNode.style.left=this._getLeft(n)+"px",this._onWidth(o)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(t=>{this._viewZone&&t.removeZone(this._viewZone.id),this._viewZone=null}),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new kc(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(t){t.frameColor&&(this.options.frameColor=t.frameColor),t.arrowColor&&(this.options.arrowColor=t.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){let t=this.options.frameColor.toString();this.container.style.borderTopColor=t,this.container.style.borderBottomColor=t}if(this._arrow&&this.options.arrowColor){let t=this.options.arrowColor.toString();this._arrow.color=t}}_getWidth(t){return t.width-t.minimap.minimapWidth-t.verticalScrollbarWidth}_getLeft(t){return t.minimap.minimapWidth>0&&0===t.minimap.minimapLeft?t.minimap.minimapWidth:0}_onViewZoneTop(t){this.domNode.style.top=t+"px"}_onViewZoneHeight(t){if(this.domNode.style.height=`${t}px`,this.container){let e=t-this._decoratingElementsHeight();this.container.style.height=`${e}px`;const n=this.editor.getLayoutInfo();this._doLayout(e,this._getWidth(n))}this._resizeSash&&this._resizeSash.layout()}get position(){const[t]=this._positionMarkerId;if(!t)return;const e=this.editor.getModel();if(!e)return;const n=e.getDecorationRange(t);return n?n.getStartPosition():void 0}show(t,e){const n=kt.e.isIRange(t)?kt.e.lift(t):kt.e.fromPositions(t);this._isShowing=!0,this._showImpl(n,e),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:n,options:r.qx.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(t=>{this._viewZone&&t.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){let t=this.editor.getOption(59),e=0;return this.options.showArrow&&(e+=2*Math.round(t/3)),this.options.showFrame&&(e+=2*Math.round(t/9)),e}_showImpl(t,e){const n=t.getStartPosition(),o=this.editor.getLayoutInfo(),s=this._getWidth(o);this.domNode.style.width=`${s}px`,this.domNode.style.left=this._getLeft(o)+"px";const d=document.createElement("div");d.style.overflow="hidden";const p=this.editor.getOption(59),V=Math.max(12,this.editor.getLayoutInfo().height/p*.8);e=Math.min(e,V);let H=0,U=0;if(this._arrow&&this.options.showArrow&&(H=Math.round(p/3),this._arrow.height=H,this._arrow.show(n)),this.options.showFrame&&(U=Math.round(p/9)),this.editor.changeViewZones(Ee=>{this._viewZone&&Ee.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new Jp(d,n.lineNumber,n.column,e,Ke=>this._onViewZoneTop(Ke),Ke=>this._onViewZoneHeight(Ke)),this._viewZone.id=Ee.addZone(this._viewZone),this._overlayWidget=new ju("vs.editor.contrib.zoneWidget"+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const Ee=this.options.frameWidth?this.options.frameWidth:U;this.container.style.borderTopWidth=Ee+"px",this.container.style.borderBottomWidth=Ee+"px"}let ne=e*p-this._decoratingElementsHeight();this.container&&(this.container.style.top=H+"px",this.container.style.height=ne+"px",this.container.style.overflow="hidden"),this._doLayout(ne,s),this.options.keepEditorSelection||this.editor.setSelection(t);const be=this.editor.getModel();if(be){const Ee=t.endLineNumber+1;Ee<=be.getLineCount()?this.revealLine(Ee,!1):this.revealLine(be.getLineCount(),!0)}}revealLine(t,e){e?this.editor.revealLineInCenter(t,0):this.editor.revealLine(t,0)}setCssClass(t,e){!this.container||(e&&this.container.classList.remove(e),this.container.classList.add(t))}_onWidth(t){}_doLayout(t,e){}_relayout(t){this._viewZone&&this._viewZone.heightInLines!==t&&this.editor.changeViewZones(e=>{this._viewZone&&(this._viewZone.heightInLines=t,e.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;let t;this._resizeSash=this._disposables.add(new ua.g(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0),this._disposables.add(this._resizeSash.onDidStart(e=>{this._viewZone&&(t={startY:e.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{t=void 0})),this._disposables.add(this._resizeSash.onDidChange(e=>{if(t){let n=(e.currentY-t.startY)/this.editor.getOption(59),o=n<0?Math.ceil(n):Math.floor(n),s=t.heightInLines+o;s>5&&s<35&&this._relayout(s)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(null===this.domNode.style.height?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const t=this.editor.getLayoutInfo();return t.width-t.minimap.minimapWidth}}{constructor(t,e,n){super(t,e),this.instantiationService=n,this._onDidClose=new $n.Q5,this.onDidClose=this._onDidClose.event,al.jB(this.options,r0,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(t){let e=this.options;t.headerBackgroundColor&&(e.headerBackgroundColor=t.headerBackgroundColor),t.primaryHeadingColor&&(e.primaryHeadingColor=t.primaryHeadingColor),t.secondaryHeadingColor&&(e.secondaryHeadingColor=t.secondaryHeadingColor),super.style(t)}_applyStyles(){super._applyStyles();let t=this.options;this._headElement&&t.headerBackgroundColor&&(this._headElement.style.backgroundColor=t.headerBackgroundColor.toString()),this._primaryHeading&&t.primaryHeadingColor&&(this._primaryHeading.style.color=t.primaryHeadingColor.toString()),this._secondaryHeading&&t.secondaryHeadingColor&&(this._secondaryHeading.style.color=t.secondaryHeadingColor.toString()),this._bodyElement&&t.frameColor&&(this._bodyElement.style.borderColor=t.frameColor.toString())}_fillContainer(t){this.setCssClass("peekview-widget"),this._headElement=st.$(".head"),this._bodyElement=st.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),t.appendChild(this._headElement),t.appendChild(this._bodyElement)}_fillHead(t,e){const n=st.$(".peekview-title");this.options.supportOnTitleClick&&(n.classList.add("clickable"),st.mu(n,"click",d=>this._onTitleClick(d))),st.R3(this._headElement,n),this._fillTitleIcon(n),this._primaryHeading=st.$("span.filename"),this._secondaryHeading=st.$("span.dirname"),this._metaHeading=st.$("span.meta"),st.R3(n,this._primaryHeading,this._secondaryHeading,this._metaHeading);const o=st.$(".peekview-actions");st.R3(this._headElement,o);const s=this._getActionBarOptions();this._actionbarWidget=new Uu.o(o,s),this._disposables.add(this._actionbarWidget),e||this._actionbarWidget.push(new jo.aU("peekview.close",De.N("label.close","Close"),Kn.lA.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(t){}_getActionBarOptions(){return{actionViewItemProvider:o0.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(t){}setTitle(t,e){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=t,this._primaryHeading.setAttribute("title",t),e?this._secondaryHeading.innerText=e:st.PO(this._secondaryHeading))}setMetaTitle(t){this._metaHeading&&(t?(this._metaHeading.innerText=t,st.$Z(this._metaHeading)):st.Cp(this._metaHeading))}_doLayout(t,e){if(!this._isShowing&&t<0)return void this.dispose();const n=Math.ceil(1.2*this.editor.getOption(59)),o=Math.round(t-(n+2));this._doLayoutHead(n,e),this._doLayoutBody(o,e)}_doLayoutHead(t,e){this._headElement&&(this._headElement.style.height=`${t}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(t,e){this._bodyElement&&(this._bodyElement.style.height=`${t}px`)}};Ku=Jg([Xg(2,Qi.TG)],Ku);const a0=(0,y.P6G)("peekViewTitle.background",{dark:(0,y.ZnX)(y.c63,.1),light:(0,y.ZnX)(y.c63,.1),hc:null},De.N("peekViewTitleBackground","Background color of the peek view title area.")),em=(0,y.P6G)("peekViewTitleLabel.foreground",{dark:ji.Il.white,light:ji.Il.black,hc:ji.Il.white},De.N("peekViewTitleForeground","Color of the peek view title.")),kd=(0,y.P6G)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hc:"#FFFFFF99"},De.N("peekViewTitleInfoForeground","Color of the peek view title info.")),tm=(0,y.P6G)("peekView.border",{dark:y.c63,light:y.c63,hc:y.lRK},De.N("peekViewBorder","Color of the peek view borders and arrow.")),l0=(0,y.P6G)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:ji.Il.black},De.N("peekViewResultsBackground","Background color of the peek view result list.")),Td=((0,y.P6G)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:ji.Il.white},De.N("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),(0,y.P6G)("peekViewResult.fileForeground",{dark:ji.Il.white,light:"#1E1E1E",hc:ji.Il.white},De.N("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),(0,y.P6G)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},De.N("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),(0,y.P6G)("peekViewResult.selectionForeground",{dark:ji.Il.white,light:"#6C6C6C",hc:ji.Il.white},De.N("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),(0,y.P6G)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:ji.Il.black},De.N("peekViewEditorBackground","Background color of the peek view editor.")));(0,y.P6G)("peekViewEditorGutter.background",{dark:Td,light:Td,hc:Td},De.N("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),(0,y.P6G)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},De.N("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),(0,y.P6G)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},De.N("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),(0,y.P6G)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:y.xL1},De.N("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."));var Pd=m(79837),Xi=m(33979),Pr=m(22115),fa=m(68526);class jr{constructor(t,e,n,o){this.isProviderFirst=t,this.parent=e,this.link=n,this._rangeCallback=o,this.id=ui.a.nextId()}get uri(){return this.link.uri}get range(){var t,e;return null!==(e=null!==(t=this._range)&&void 0!==t?t:this.link.targetSelectionRange)&&void 0!==e?e:this.link.range}set range(t){this._range=t,this._rangeCallback(this)}get ariaMessage(){var t;const e=null===(t=this.parent.getPreview(this))||void 0===t?void 0:t.preview(this.range);return e?(0,De.N)({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"symbol in {0} on line {1} at column {2}, {3}",(0,Oo.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn,e.value):(0,De.N)("aria.oneReference","symbol in {0} on line {1} at column {2}",(0,Oo.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn)}}class h0{constructor(t){this._modelReference=t}dispose(){this._modelReference.dispose()}preview(t,e=8){const n=this._modelReference.object.textEditorModel;if(!n)return;const{startLineNumber:o,startColumn:s,endLineNumber:d,endColumn:p}=t,V=n.getWordUntilPosition({lineNumber:o,column:s-e}),H=new kt.e(o,V.startColumn,o,s),U=new kt.e(d,p,d,1073741824),ne=n.getValueInRange(H).replace(/^\s+/,""),be=n.getValueInRange(t);return{value:ne+be+n.getValueInRange(U).replace(/\s+$/,""),highlight:{start:ne.length,end:ne.length+be.length}}}}class Od{constructor(t,e){this.parent=t,this.uri=e,this.children=[],this._previews=new Cs.Y9}dispose(){(0,Tt.B9)(this._previews.values()),this._previews.clear()}getPreview(t){return this._previews.get(t.uri)}get ariaMessage(){const t=this.children.length;return 1===t?(0,De.N)("aria.fileReferences.1","1 symbol in {0}, full path {1}",(0,Oo.EZ)(this.uri),this.uri.fsPath):(0,De.N)("aria.fileReferences.N","{0} symbols in {1}, full path {2}",t,(0,Oo.EZ)(this.uri),this.uri.fsPath)}resolve(t){return function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})}(this,void 0,void 0,function*(){if(0!==this._previews.size)return this;for(let e of this.children)if(!this._previews.has(e.uri))try{const n=yield t.createModelReference(e.uri);this._previews.set(e.uri,new h0(n))}catch(n){(0,Qn.dL)(n)}return this})}}class Qs{constructor(t,e){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new $n.Q5,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=t,this._title=e;const[n]=t;let o;t.sort(Qs._compareReferences);for(let s of t)if((!o||!Oo.SF.isEqual(o.uri,s.uri,!0))&&(o=new Od(this,s.uri),this.groups.push(o)),0===o.children.length||0!==Qs._compareReferences(s,o.children[o.children.length-1])){const d=new jr(n===s,o,s,p=>this._onDidChangeReferenceRange.fire(p));this.references.push(d),o.children.push(d)}}dispose(){(0,Tt.B9)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new Qs(this._links,this._title)}get title(){return this._title}get isEmpty(){return 0===this.groups.length}get ariaMessage(){return this.isEmpty?(0,De.N)("aria.result.0","No results found"):1===this.references.length?(0,De.N)("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):1===this.groups.length?(0,De.N)("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):(0,De.N)("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(t,e){let{parent:n}=t,o=n.children.indexOf(t),s=n.children.length,d=n.parent.groups.length;return 1===d||e&&o+1<s||!e&&o>0?(o=e?(o+1)%s:(o+s-1)%s,n.children[o]):(o=n.parent.groups.indexOf(n),e?(o=(o+1)%d,n.parent.groups[o].children[0]):(o=(o+d-1)%d,n.parent.groups[o].children[n.parent.groups[o].children.length-1]))}nearestReference(t,e){const n=this.references.map((o,s)=>({idx:s,prefixLen:jn.Mh(o.uri.toString(),t.toString()),offsetDist:100*Math.abs(o.range.startLineNumber-e.lineNumber)+Math.abs(o.range.startColumn-e.column)})).sort((o,s)=>o.prefixLen>s.prefixLen?-1:o.prefixLen<s.prefixLen?1:o.offsetDist<s.offsetDist?-1:o.offsetDist>s.offsetDist?1:0)[0];if(n)return this.references[n.idx]}referenceAt(t,e){for(const n of this.references)if(n.uri.toString()===t.toString()&&kt.e.containsPosition(n.range,e))return n}firstReference(){for(const t of this.references)if(t.isProviderFirst)return t;return this.references[0]}static _compareReferences(t,e){return Oo.SF.compare(t.uri,e.uri)||kt.e.compareRangesUsingStarts(t.range,e.range)}}var Cf=m(14410),hs=m(98318),bf=(m(86414),m(12282)),f0=m(24061),g0=m(54708),om=m(25601),Ys=m(56260),sm=m(46359);function rm(a){if(!a)return;"string"==typeof a&&(a=wo.o.file(a));const t=(0,Oo.EZ)(a)||(a.scheme===hs.lg.file?a.fsPath:a.path);return $t.ED&&(0,sm.vY)(t)?vf(t):t}function vf(a,t){return(0,sm.oP)(a,t)?a.charAt(0).toUpperCase()+a.slice(1):a}Object.create(null);var $u=m(7022),am=m(905),Zu=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Ad=function(a,t){return function(e,n){t(e,n,a)}};let wf=class{constructor(t){this._resolverService=t}hasChildren(t){return t instanceof Qs||t instanceof Od}getChildren(t){if(t instanceof Qs)return t.groups;if(t instanceof Od)return t.resolve(this._resolverService).then(e=>e.children);throw new Error("bad tree")}};wf=Zu([Ad(0,Cr.S)],wf);class m0{getHeight(){return 23}getTemplateId(t){return t instanceof Od?Rd.id:lm.id}}let yf=class{constructor(t){this._keybindingService=t}getKeyboardNavigationLabel(t){var e;if(t instanceof jr){const n=null===(e=t.parent.getPreview(t))||void 0===e?void 0:e.preview(t.range);if(n)return n.value}return(0,Oo.EZ)(t.uri)}};yf=Zu([Ad(0,Zs.d)],yf);class p0{getId(t){return t instanceof jr?t.id:t.uri}}let Sf=class extends Tt.JT{constructor(t,e,n){super(),this._uriLabel=e;const o=document.createElement("div");o.classList.add("reference-file"),this.file=this._register(new om.g(o,{supportHighlights:!0})),this.badge=new f0.Z(st.R3(o,st.$(".count"))),this._register((0,am.WZ)(this.badge,n)),t.appendChild(o)}set(t,e){let n=(0,Oo.XX)(t.uri);this.file.setLabel(rm(t.uri),this._uriLabel.getUriLabel(n,{relative:!0}),{title:this._uriLabel.getUriLabel(t.uri),matches:e});const o=t.children.length;this.badge.setCount(o),this.badge.setTitleFormat(o>1?(0,De.N)("referencesCount","{0} references",o):(0,De.N)("referenceCount","{0} reference",o))}};Sf=Zu([Ad(1,$u.e),Ad(2,A.XE)],Sf);let Rd=class qv{constructor(t){this._instantiationService=t,this.templateId=qv.id}renderTemplate(t){return this._instantiationService.createInstance(Sf,t)}renderElement(t,e,n){n.set(t.element,(0,Ys.mB)(t.filterData))}disposeTemplate(t){t.dispose()}};Rd.id="FileReferencesRenderer",Rd=Zu([Ad(0,Qi.TG)],Rd);class _0{constructor(t){this.label=new g0.q(t)}set(t,e){var n;const o=null===(n=t.parent.getPreview(t))||void 0===n?void 0:n.preview(t.range);if(o&&o.value){const{value:s,highlight:d}=o;e&&!Ys.CL.isDefault(e)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(s,(0,Ys.mB)(e))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(s,[d]))}else this.label.set(`${(0,Oo.EZ)(t.uri)}:${t.range.startLineNumber+1}:${t.range.startColumn+1}`)}}let lm=(()=>{class a{constructor(){this.templateId=a.id}renderTemplate(e){return new _0(e)}renderElement(e,n,o){o.set(e.element,e.filterData)}disposeTemplate(){}}return a.id="OneReferenceRenderer",a})();class C0{getWidgetAriaLabel(){return(0,De.N)("treeAriaLabel","References")}getAriaLabel(t){return t.ariaMessage}}var b0=m(10352),Ra=function(a,t){return function(e,n){t(e,n,a)}},cm=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})};class Gu{constructor(t,e){this._editor=t,this._model=e,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new Tt.SL,this._callOnModelChange=new Tt.SL,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const t=this._editor.getModel();if(t)for(let e of this._model.references)if(e.uri.toString()===t.uri.toString())return void this._addDecorations(e.parent)}_addDecorations(t){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const e=[],n=[];for(let s=0,d=t.children.length;s<d;s++){let p=t.children[s];this._decorationIgnoreSet.has(p.id)||p.uri.toString()===this._editor.getModel().uri.toString()&&(e.push({range:p.range,options:Gu.DecorationOptions}),n.push(s))}const o=this._editor.deltaDecorations([],e);for(let s=0;s<o.length;s++)this._decorations.set(o[s],t.children[n[s]])}_onDecorationChanged(){const t=[],e=this._editor.getModel();if(e){for(let[n,o]of this._decorations){const s=e.getDecorationRange(n);if(!s)continue;let d=!1;kt.e.equalsRange(s,o.range)||((kt.e.spansMultipleLines(s)||o.range.endColumn-o.range.startColumn!=s.endColumn-s.startColumn)&&(d=!0),d?(this._decorationIgnoreSet.add(o.id),t.push(n)):o.range=s)}for(let n=0,o=t.length;n<o;n++)this._decorations.delete(t[n]);this._editor.deltaDecorations(t,[])}}removeDecorations(){this._editor.deltaDecorations([...this._decorations.keys()],[]),this._decorations.clear()}}Gu.DecorationOptions=r.qx.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class y0 extends fa.ls{}let Fd=class extends Ku{constructor(t,e,n,o,s,d,p,V,H,U,ne,be){super(t,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},d),this._defaultTreeKeyboardSupport=e,this.layoutData=n,this._textModelResolverService=s,this._instantiationService=d,this._peekViewService=p,this._uriLabel=V,this._undoRedoService=H,this._keybindingService=U,this._languageService=ne,this._languageConfigurationService=be,this._disposeOnNewModel=new Tt.SL,this._callOnDispose=new Tt.SL,this._onDidSelectReference=new $n.Q5,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new st.Ro(0,0),this._applyTheme(o.getColorTheme()),this._callOnDispose.add(o.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(t,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,Tt.B9)(this._preview),(0,Tt.B9)(this._previewNotAvailableMessage),(0,Tt.B9)(this._tree),(0,Tt.B9)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(t){const e=t.getColor(tm)||ji.Il.transparent;this.style({arrowColor:e,frameColor:e,headerBackgroundColor:t.getColor(a0)||ji.Il.transparent,primaryHeadingColor:t.getColor(em),secondaryHeadingColor:t.getColor(kd)})}show(t){this.editor.revealRangeInCenterIfOutsideViewport(t,0),super.show(t,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(t){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:t.ctrlKey||t.metaKey||t.altKey?"side":"open",source:"title"})}_fillBody(t){this.setCssClass("reference-zone-widget"),this._messageContainer=st.R3(t,st.$("div.messages")),st.Cp(this._messageContainer),this._splitView=new Cf.z(t,{orientation:1}),this._previewContainer=st.R3(t,st.$("div.preview.inline")),this._preview=this._instantiationService.createInstance(jl,this._previewContainer,{scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}},this.editor),st.Cp(this._previewContainer),this._previewNotAvailableMessage=new r.yO(De.N("missingPreviewMessage","no preview available"),bf.bd,r.yO.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=st.R3(t,st.$("div.ref-tree.inline"));const n={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new C0,keyboardNavigationLabelProvider:this._instantiationService.createInstance(yf),identityProvider:new p0,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:l0}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(st.mu(this._treeContainer,"keydown",s=>{s.equals(9)&&(this._keybindingService.dispatchEvent(s,s.target),s.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(y0,"ReferencesWidget",this._treeContainer,new m0,[this._instantiationService.createInstance(Rd),this._instantiationService.createInstance(lm)],this._instantiationService.createInstance(wf),n),this._splitView.addView({onDidChange:$n.ju.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:s=>{this._preview.layout({height:this._dim.height,width:s})}},Cf.M.Distribute),this._splitView.addView({onDidChange:$n.ju.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:s=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${s}px`,this._tree.layout(this._dim.height,s)}},Cf.M.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));let o=(s,d)=>{s instanceof jr&&("show"===d&&this._revealReference(s,!1),this._onDidSelectReference.fire({element:s,kind:d,source:"tree"}))};this._tree.onDidOpen(s=>{o(s.element,s.sideBySide?"side":s.editorOptions.pinned?"goto":"show")}),st.Cp(this._treeContainer)}_onWidth(t){this._dim&&this._doLayoutBody(this._dim.height,t)}_doLayoutBody(t,e){super._doLayoutBody(t,e),this._dim=new st.Ro(e,t),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(e),this._splitView.resizeView(0,e*this.layoutData.ratio)}setSelection(t){return this._revealReference(t,!0).then(()=>{!this._model||(this._tree.setSelection([t]),this._tree.setFocus([t]))})}setModel(t){return this._disposeOnNewModel.clear(),this._model=t,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=De.N("noResults","No results"),st.$Z(this._messageContainer),Promise.resolve(void 0)):(st.Cp(this._messageContainer),this._decorationsManager=new Gu(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(t=>this._tree.rerender(t))),this._disposeOnNewModel.add(this._preview.onMouseDown(t=>{const{event:e,target:n}=t;if(2!==e.detail)return;const o=this._getFocusedReference();!o||this._onDidSelectReference.fire({element:{uri:o.uri,range:n.range},kind:e.ctrlKey||e.metaKey||e.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),st.$Z(this._treeContainer),st.$Z(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(1===this._model.groups.length?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[t]=this._tree.getFocus();return t instanceof jr?t:t instanceof Od&&t.children.length>0?t.children[0]:void 0}revealReference(t){return cm(this,void 0,void 0,function*(){yield this._revealReference(t,!1),this._onDidSelectReference.fire({element:t,kind:"goto",source:"tree"})})}_revealReference(t,e){return cm(this,void 0,void 0,function*(){if(this._revealedReference===t)return;this._revealedReference=t,t.uri.scheme!==hs.lg.inMemory?this.setTitle((0,Oo.Hx)(t.uri),this._uriLabel.getUriLabel((0,Oo.XX)(t.uri))):this.setTitle(De.N("peekView.alternateTitle","References"));const n=this._textModelResolverService.createModelReference(t.uri);this._tree.getInput()===t.parent||(e&&this._tree.reveal(t.parent),yield this._tree.expand(t.parent)),this._tree.reveal(t);const o=yield n;if(!this._model)return void o.dispose();(0,Tt.B9)(this._previewModelReference);const s=o.object;if(s){const d=this._preview.getModel()===s.textEditorModel?0:1,p=kt.e.lift(t.range).collapseToStart();this._previewModelReference=o,this._preview.setModel(s.textEditorModel),this._preview.setSelection(p),this._preview.revealRangeInCenter(p,d)}else this._preview.setModel(this._previewNotAvailableMessage),o.dispose()})}};Fd=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([Ra(3,A.XE),Ra(4,Cr.S),Ra(5,Qi.TG),Ra(6,qg),Ra(7,$u.e),Ra(8,b0.tJ),Ra(9,Zs.d),Ra(10,or.O),Ra(11,Vo.c_)],Fd);var Ac=function(a,t){return function(e,n){t(e,n,a)}},dm=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})};const Kl=new Qt.uy("referenceSearchVisible",!1,De.N("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));let ll=class y1{constructor(t,e,n,o,s,d,p,V){this._defaultTreeKeyboardSupport=t,this._editor=e,this._editorService=o,this._notificationService=s,this._instantiationService=d,this._storageService=p,this._configurationService=V,this._disposables=new Tt.SL,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=Kl.bindTo(n)}static get(t){return t.getContribution(y1.ID)}dispose(){var t,e;this._referenceSearchVisible.reset(),this._disposables.dispose(),null===(t=this._widget)||void 0===t||t.dispose(),null===(e=this._model)||void 0===e||e.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(t,e,n){let o;if(this._widget&&(o=this._widget.position),this.closeWidget(),o&&t.containsPosition(o))return;this._peekMode=n,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const s="peekViewLayout",d=class{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(t){let e,n;try{const o=JSON.parse(t);e=o.ratio,n=o.heightInLines}catch{}return{ratio:e||.7,heightInLines:n||18}}}.fromJSON(this._storageService.get(s,0,"{}"));this._widget=this._instantiationService.createInstance(Fd,this._editor,this._defaultTreeKeyboardSupport,d),this._widget.setTitle(De.N("labelLoading","Loading...")),this._widget.show(t),this._disposables.add(this._widget.onDidClose(()=>{e.cancel(),this._widget&&(this._storageService.store(s,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(V=>{let{element:H,kind:U}=V;if(H)switch(U){case"open":("editor"!==V.source||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(H,!1,!1);break;case"side":this.openReference(H,!0,!1);break;case"goto":n?this._gotoReference(H):this.openReference(H,!1,!0)}}));const p=++this._requestIdPool;e.then(V=>{var H;if(p===this._requestIdPool&&this._widget)return null===(H=this._model)||void 0===H||H.dispose(),this._model=V,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._widget.setMetaTitle(this._model.isEmpty?"":De.N("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));let U=this._editor.getModel().uri,ne=new di.L(t.startLineNumber,t.startColumn),be=this._model.nearestReference(U,ne);if(be)return this._widget.setSelection(be).then(()=>{this._widget&&"editor"===this._editor.getOption(77)&&this._widget.focusOnPreviewEditor()})}});V.dispose()},V=>{this._notificationService.error(V)})}changeFocusBetweenPreviewAndReferences(){!this._widget||(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(t){return dm(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const e=this._widget.position;if(!e)return;const n=this._model.nearestReference(this._editor.getModel().uri,e);if(!n)return;const o=this._model.nextOrPreviousReference(n,t),s=this._editor.hasTextFocus(),d=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(o),yield this._gotoReference(o),s?this._editor.focus():this._widget&&d&&this._widget.focusOnPreviewEditor()})}revealReference(t){return dm(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(t))})}closeWidget(t=!0){var e,n;null===(e=this._widget)||void 0===e||e.dispose(),null===(n=this._model)||void 0===n||n.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,t&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(t){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const e=kt.e.lift(t.range).collapseToStart();return this._editorService.openCodeEditor({resource:t.uri,options:{selection:e,selectionSource:"code.jump"}},this._editor).then(n=>{var o;if(this._ignoreModelChangeEvent=!1,n&&this._widget)if(this._editor===n)this._widget.show(e),this._widget.focusOnReferenceTree();else{const s=y1.get(n),d=this._model.clone();this.closeWidget(),n.focus(),null==s||s.toggleWidget(e,(0,Bn.PG)(p=>Promise.resolve(d)),null!==(o=this._peekMode)&&void 0!==o&&o)}else this.closeWidget()},n=>{this._ignoreModelChangeEvent=!1,(0,Qn.dL)(n)})}openReference(t,e,n){e||this.closeWidget();const{uri:o,range:s}=t;this._editorService.openCodeEditor({resource:o,options:{selection:s,selectionSource:"code.jump",pinned:n}},this._editor,e)}};function $l(a,t){const e=function(a){let t=a.get(In.$).getFocusedCodeEditor();return t instanceof jl?t.getParentEditor():t}(a);if(!e)return;const n=ll.get(e);n&&t(n)}ll.ID="editor.contrib.referencesController",ll=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([Ac(2,Qt.i6),Ac(3,In.$),Ac(4,us.lT),Ac(5,Qi.TG),Ac(6,mr.Uy),Ac(7,Jo.Ui)],ll),Pr.W.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,Go.gx)(2089,60),when:Qt.Ao.or(Kl,Gs.inPeekEditor),handler(a){$l(a,t=>{t.changeFocusBetweenPreviewAndReferences()})}}),Pr.W.registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:Qt.Ao.or(Kl,Gs.inPeekEditor),handler(a){$l(a,t=>{t.goToNextOrPreviousReference(!0)})}}),Pr.W.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:Qt.Ao.or(Kl,Gs.inPeekEditor),handler(a){$l(a,t=>{t.goToNextOrPreviousReference(!1)})}}),eo.P0.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),eo.P0.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),eo.P0.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),eo.P0.registerCommand("closeReferenceSearch",a=>$l(a,t=>t.closeWidget())),Pr.W.registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:Qt.Ao.and(Gs.inPeekEditor,Qt.Ao.not("config.editor.stablePeek"))}),Pr.W.registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:Qt.Ao.and(Kl,Qt.Ao.not("config.editor.stablePeek"))}),Pr.W.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:Qt.Ao.and(Kl,fa.CQ,fa.PS.negate(),fa.uJ.negate()),handler(a){var t;const n=null===(t=a.get(fa.Lw).lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(n)&&n[0]instanceof jr&&$l(a,o=>o.revealReference(n[0]))}}),Pr.W.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:Qt.Ao.and(Kl,fa.CQ,fa.PS.negate(),fa.uJ.negate()),handler(a){var t;const n=null===(t=a.get(fa.Lw).lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(n)&&n[0]instanceof jr&&$l(a,o=>o.openReference(n[0],!0,!0))}}),eo.P0.registerCommand("openReference",a=>{var t;const n=null===(t=a.get(fa.Lw).lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(n)&&n[0]instanceof jr&&$l(a,o=>o.openReference(n[0],!1,!0))});var um=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Bd=function(a,t){return function(e,n){t(e,n,a)}};const xf=new Qt.uy("hasSymbols",!1,(0,De.N)("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),Qu=(0,Qi.yh)("ISymbolNavigationService");let Lf=class{constructor(t,e,n,o){this._editorService=e,this._notificationService=n,this._keybindingService=o,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=xf.bindTo(t)}reset(){var t,e;this._ctxHasSymbols.reset(),null===(t=this._currentState)||void 0===t||t.dispose(),null===(e=this._currentMessage)||void 0===e||e.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(t){const e=t.parent.parent;if(e.references.length<=1)return void this.reset();this._currentModel=e,this._currentIdx=e.references.indexOf(t),this._ctxHasSymbols.set(!0),this._showMessage();const n=new Df(this._editorService),o=n.onDidChange(s=>{if(this._ignoreEditorChange)return;const d=this._editorService.getActiveCodeEditor();if(!d)return;const p=d.getModel(),V=d.getPosition();if(!p||!V)return;let H=!1,U=!1;for(const ne of e.references)if((0,Oo.Xy)(ne.uri,p.uri))H=!0,U=U||kt.e.containsPosition(ne.range,V);else if(H)break;(!H||!U)&&this.reset()});this._currentState=(0,Tt.F8)(n,o)}revealNext(t){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const e=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:e.uri,options:{selection:kt.e.collapseToStart(e.range),selectionRevealType:3}},t).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var t;null===(t=this._currentMessage)||void 0===t||t.dispose();const e=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),n=e?(0,De.N)("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,e.getLabel()):(0,De.N)("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(n)}};Lf=um([Bd(0,Qt.i6),Bd(1,In.$),Bd(2,us.lT),Bd(3,Zs.d)],Lf),(0,ol.z)(Qu,Lf,!0),(0,Qe.fK)(new class extends Qe._l{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:xf,kbOpts:{weight:100,primary:70}})}runEditorCommand(a,t){return a.get(Qu).revealNext(t)}}),Pr.W.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:xf,primary:9,handler(a){a.get(Qu).reset()}});let Df=class{constructor(t){this._listener=new Map,this._disposables=new Tt.SL,this._onDidChange=new $n.Q5,this.onDidChange=this._onDidChange.event,this._disposables.add(t.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(t.onCodeEditorAdd(this._onDidAddEditor,this)),t.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,Tt.B9)(this._listener.values())}_onDidAddEditor(t){this._listener.set(t,(0,Tt.F8)(t.onDidChangeCursorPosition(e=>this._onDidChange.fire({editor:t})),t.onDidChangeModelContent(e=>this._onDidChange.fire({editor:t}))))}_onDidRemoveEditor(t){var e;null===(e=this._listener.get(t))||void 0===e||e.dispose(),this._listener.delete(t)}};Df=um([Bd(0,In.$)],Df);var hm=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})};function Wd(a,t,e,n){const s=e.ordered(a).map(d=>Promise.resolve(n(d,a,t)).then(void 0,p=>{(0,Qn.Cp)(p)}));return Promise.all(s).then(d=>{const p=[];for(let V of d)Array.isArray(V)?p.push(...V):V&&p.push(V);return p})}function Ef(a,t,e,n){return Wd(t,e,a,(o,s,d)=>o.provideDefinition(s,d,n))}function w(a,t,e,n){return Wd(t,e,a,(o,s,d)=>o.provideDeclaration(s,d,n))}function l(a,t,e,n){return Wd(t,e,a,(o,s,d)=>o.provideImplementation(s,d,n))}function u(a,t,e,n){return Wd(t,e,a,(o,s,d)=>o.provideTypeDefinition(s,d,n))}function v(a,t,e,n,o){return Wd(t,e,a,(s,d,p)=>hm(this,void 0,void 0,function*(){const V=yield s.provideReferences(d,p,{includeDeclaration:!0},o);if(!n||!V||2!==V.length)return V;const H=yield s.provideReferences(d,p,{includeDeclaration:!1},o);return H&&1===H.length?H:V}))}function K(a){return hm(this,void 0,void 0,function*(){const t=yield a(),e=new Qs(t,""),n=e.references.map(o=>o.link);return e.dispose(),n})}(0,Qe.sb)("_executeDefinitionProvider",(a,t,e)=>{const o=Ef(a.get(Ui.p).definitionProvider,t,e,Zn.T.None);return K(()=>o)}),(0,Qe.sb)("_executeTypeDefinitionProvider",(a,t,e)=>{const o=u(a.get(Ui.p).typeDefinitionProvider,t,e,Zn.T.None);return K(()=>o)}),(0,Qe.sb)("_executeDeclarationProvider",(a,t,e)=>{const o=w(a.get(Ui.p).declarationProvider,t,e,Zn.T.None);return K(()=>o)}),(0,Qe.sb)("_executeReferenceProvider",(a,t,e)=>{const o=v(a.get(Ui.p).referenceProvider,t,e,!1,Zn.T.None);return K(()=>o)}),(0,Qe.sb)("_executeImplementationProvider",(a,t,e)=>{const o=l(a.get(Ui.p).implementationProvider,t,e,Zn.T.None);return K(()=>o)});var se,me,xe,We,je,ft,Jt,gn,J=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})};_.BH.appendMenuItem(_.eH.EditorContext,{submenu:_.eH.EditorContextPeek,title:De.N("peek.submenu","Peek"),group:"navigation",order:100});const Yn=new Set;function vi(a){const t=new a;return(0,Qe.QG)(t),Yn.add(t.id),t}class Ci{constructor(t,e){this.model=t,this.position=e}static is(t){return!(!t||"object"!=typeof t||!(t instanceof Ci||di.L.isIPosition(t.position)&&t.model))}}class to extends Qe.R6{constructor(t,e){super(e),this.configuration=t}run(t,e,n){if(!e.hasModel())return Promise.resolve(void 0);const o=t.get(us.lT),s=t.get(In.$),d=t.get(Ir.ek),p=t.get(Qu),V=t.get(Ui.p),H=e.getModel(),U=e.getPosition(),ne=Ci.is(n)?n:new Ci(H,U),be=new Pl.Dl(e,5),Ee=(0,Bn.eP)(this._getLocationModel(V,ne.model,ne.position,be.token),be.token).then(Ke=>J(this,void 0,void 0,function*(){var ct;if(!Ke||be.token.isCancellationRequested)return;let Pt;if((0,$s.Z9)(Ke.ariaMessage),Ke.referenceAt(H.uri,U)){const Xt=this._getAlternativeCommand(e);Xt!==this.id&&Yn.has(Xt)&&(Pt=e.getAction(Xt))}const Ot=Ke.references.length;if(0===Ot){if(!this.configuration.muteMessage){const Xt=H.getWordAtPosition(U);null===(ct=fr.get(e))||void 0===ct||ct.showMessage(this._getNoResultFoundMessage(Xt),U)}}else{if(1!==Ot||!Pt)return this._onResult(s,p,e,Ke);Pt.run()}}),Ke=>{o.error(Ke)}).finally(()=>{be.dispose()});return d.showWhile(Ee,250),Ee}_onResult(t,e,n,o){return J(this,void 0,void 0,function*(){const s=this._getGoToPreference(n);if(n instanceof jl||!(this.configuration.openInPeek||"peek"===s&&o.references.length>1)){const d=o.firstReference(),p=o.references.length>1&&"gotoAndPeek"===s,V=yield this._openReference(n,t,d,this.configuration.openToSide,!p);p&&V?this._openInPeek(V,o):o.dispose(),"goto"===s&&e.put(d)}else this._openInPeek(n,o)})}_openReference(t,e,n,o,s){return J(this,void 0,void 0,function*(){let d;if((0,Xi.vx)(n)&&(d=n.targetSelectionRange),d||(d=n.range),!d)return;const p=yield e.openCodeEditor({resource:n.uri,options:{selection:kt.e.collapseToStart(d),selectionRevealType:3,selectionSource:"code.jump"}},t,o);if(p){if(s){const V=p.getModel(),H=p.deltaDecorations([],[{range:d,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{p.getModel()===V&&p.deltaDecorations(H,[])},350)}return p}})}_openInPeek(t,e){const n=ll.get(t);n&&t.hasModel()?n.toggleWidget(t.getSelection(),(0,Bn.PG)(o=>Promise.resolve(e)),this.configuration.openInPeek):e.dispose()}}class io extends to{_getLocationModel(t,e,n,o){return J(this,void 0,void 0,function*(){return new Qs(yield Ef(t.definitionProvider,e,n,o),De.N("def.title","Definitions"))})}_getNoResultFoundMessage(t){return t&&t.word?De.N("noResultWord","No definition found for '{0}'",t.word):De.N("generic.noResults","No definition found")}_getAlternativeCommand(t){return t.getOption(51).alternativeDefinitionCommand}_getGoToPreference(t){return t.getOption(51).multipleDefinitions}}const Vi=$t.$L&&!ln.isStandalone?2118:70;vi(((se=class S1 extends io{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:S1.id,label:De.N("actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:Qt.Ao.and(Ct.u.hasDefinitionProvider,Ct.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:Vi,weight:100},contextMenuOpts:{group:"navigation",order:1.1}}),eo.P0.registerCommandAlias("editor.action.goToDeclaration",S1.id)}}).id="editor.action.revealDefinition",se)),vi(((me=class x1 extends io{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:x1.id,label:De.N("actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:Qt.Ao.and(Ct.u.hasDefinitionProvider,Ct.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:(0,Go.gx)(2089,Vi),weight:100}}),eo.P0.registerCommandAlias("editor.action.openDeclarationToTheSide",x1.id)}}).id="editor.action.revealDefinitionAside",me)),vi(((xe=class L1 extends io{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:L1.id,label:De.N("actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:Qt.Ao.and(Ct.u.hasDefinitionProvider,Gs.notInPeekEditor,Ct.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:582,linux:{primary:3140},weight:100},contextMenuOpts:{menuId:_.eH.EditorContextPeek,group:"peek",order:2}}),eo.P0.registerCommandAlias("editor.action.previewDeclaration",L1.id)}}).id="editor.action.peekDefinition",xe));class Zi extends to{_getLocationModel(t,e,n,o){return J(this,void 0,void 0,function*(){return new Qs(yield w(t.declarationProvider,e,n,o),De.N("decl.title","Declarations"))})}_getNoResultFoundMessage(t){return t&&t.word?De.N("decl.noResultWord","No declaration found for '{0}'",t.word):De.N("decl.generic.noResults","No declaration found")}_getAlternativeCommand(t){return t.getOption(51).alternativeDeclarationCommand}_getGoToPreference(t){return t.getOption(51).multipleDeclarations}}vi((We=class ew extends Zi{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:ew.id,label:De.N("actions.goToDeclaration.label","Go to Declaration"),alias:"Go to Declaration",precondition:Qt.Ao.and(Ct.u.hasDeclarationProvider,Ct.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3}})}_getNoResultFoundMessage(t){return t&&t.word?De.N("decl.noResultWord","No declaration found for '{0}'",t.word):De.N("decl.generic.noResults","No declaration found")}},We.id="editor.action.revealDeclaration",We)),vi(class extends Zi{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:De.N("actions.peekDecl.label","Peek Declaration"),alias:"Peek Declaration",precondition:Qt.Ao.and(Ct.u.hasDeclarationProvider,Gs.notInPeekEditor,Ct.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:_.eH.EditorContextPeek,group:"peek",order:3}})}});class br extends to{_getLocationModel(t,e,n,o){return J(this,void 0,void 0,function*(){return new Qs(yield u(t.typeDefinitionProvider,e,n,o),De.N("typedef.title","Type Definitions"))})}_getNoResultFoundMessage(t){return t&&t.word?De.N("goToTypeDefinition.noResultWord","No type definition found for '{0}'",t.word):De.N("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(t){return t.getOption(51).alternativeTypeDefinitionCommand}_getGoToPreference(t){return t.getOption(51).multipleTypeDefinitions}}vi(((je=class tw extends br{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:tw.ID,label:De.N("actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:Qt.Ao.and(Ct.u.hasTypeDefinitionProvider,Ct.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4}})}}).ID="editor.action.goToTypeDefinition",je)),vi(((ft=class nw extends br{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:nw.ID,label:De.N("actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:Qt.Ao.and(Ct.u.hasTypeDefinitionProvider,Gs.notInPeekEditor,Ct.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:_.eH.EditorContextPeek,group:"peek",order:4}})}}).ID="editor.action.peekTypeDefinition",ft));class ga extends to{_getLocationModel(t,e,n,o){return J(this,void 0,void 0,function*(){return new Qs(yield l(t.implementationProvider,e,n,o),De.N("impl.title","Implementations"))})}_getNoResultFoundMessage(t){return t&&t.word?De.N("goToImplementation.noResultWord","No implementation found for '{0}'",t.word):De.N("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(t){return t.getOption(51).alternativeImplementationCommand}_getGoToPreference(t){return t.getOption(51).multipleImplementations}}vi(((Jt=class iw extends ga{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:iw.ID,label:De.N("actions.goToImplementation.label","Go to Implementations"),alias:"Go to Implementations",precondition:Qt.Ao.and(Ct.u.hasImplementationProvider,Ct.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:2118,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}}).ID="editor.action.goToImplementation",Jt)),vi(((gn=class ow extends ga{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:ow.ID,label:De.N("actions.peekImplementation.label","Peek Implementations"),alias:"Peek Implementations",precondition:Qt.Ao.and(Ct.u.hasImplementationProvider,Gs.notInPeekEditor,Ct.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:3142,weight:100},contextMenuOpts:{menuId:_.eH.EditorContextPeek,group:"peek",order:5}})}}).ID="editor.action.peekImplementation",gn));class bs extends to{_getNoResultFoundMessage(t){return t?De.N("references.no","No references found for '{0}'",t.word):De.N("references.noGeneric","No references found")}_getAlternativeCommand(t){return t.getOption(51).alternativeReferenceCommand}_getGoToPreference(t){return t.getOption(51).multipleReferences}}vi(class extends bs{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:De.N("goToReferences.label","Go to References"),alias:"Go to References",precondition:Qt.Ao.and(Ct.u.hasReferenceProvider,Gs.notInPeekEditor,Ct.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:1094,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}_getLocationModel(t,e,n,o){return J(this,void 0,void 0,function*(){return new Qs(yield v(t.referenceProvider,e,n,!0,o),De.N("ref.title","References"))})}}),vi(class extends bs{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:De.N("references.action.label","Peek References"),alias:"Peek References",precondition:Qt.Ao.and(Ct.u.hasReferenceProvider,Gs.notInPeekEditor,Ct.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:_.eH.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(t,e,n,o){return J(this,void 0,void 0,function*(){return new Qs(yield v(t.referenceProvider,e,n,!1,o),De.N("ref.title","References"))})}});class ta extends to{constructor(t,e,n){super(t,{id:"editor.action.goToLocation",label:De.N("label.generic","Go to Any Symbol"),alias:"Go to Any Symbol",precondition:Qt.Ao.and(Gs.notInPeekEditor,Ct.u.isInWalkThroughSnippet.toNegated())}),this._references=e,this._gotoMultipleBehaviour=n}_getLocationModel(t,e,n,o){return J(this,void 0,void 0,function*(){return new Qs(this._references,De.N("generic.title","Locations"))})}_getNoResultFoundMessage(t){return t&&De.N("generic.noResult","No results for '{0}'",t.word)||""}_getGoToPreference(t){var e;return null!==(e=this._gotoMultipleBehaviour)&&void 0!==e?e:t.getOption(51).multipleReferences}_getAlternativeCommand(){return""}}eo.P0.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:wo.o},{name:"position",description:"The position at which to start",constraint:di.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(a,t,e,n,o,s,d)=>J(void 0,void 0,void 0,function*(){(0,$i.p_)(wo.o.isUri(t)),(0,$i.p_)(di.L.isIPosition(e)),(0,$i.p_)(Array.isArray(n)),(0,$i.p_)(void 0===o||"string"==typeof o),(0,$i.p_)(void 0===d||"boolean"==typeof d);const p=a.get(In.$),V=yield p.openCodeEditor({resource:t},p.getFocusedCodeEditor());if((0,Pd.CL)(V))return V.setPosition(e),V.revealPositionInCenterIfOutsideViewport(e,0),V.invokeWithinContext(H=>{const U=new class extends ta{_getNoResultFoundMessage(ne){return s||super._getNoResultFoundMessage(ne)}}({muteMessage:!Boolean(s),openInPeek:Boolean(d),openToSide:!1},n,o);H.get(Qi.TG).invokeFunction(U.run.bind(U),V)})})}),eo.P0.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:wo.o},{name:"position",description:"The position at which to start",constraint:di.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(a,t,e,n,o)=>J(void 0,void 0,void 0,function*(){a.get(eo.Hy).executeCommand("editor.action.goToLocations",t,e,n,o,void 0,!0)})}),eo.P0.registerCommand({id:"editor.action.findReferences",handler:(a,t,e)=>{(0,$i.p_)(wo.o.isUri(t)),(0,$i.p_)(di.L.isIPosition(e));const n=a.get(Ui.p),o=a.get(In.$);return o.openCodeEditor({resource:t},o.getFocusedCodeEditor()).then(s=>{if(!(0,Pd.CL)(s)||!s.hasModel())return;const d=ll.get(s);if(!d)return;const p=(0,Bn.PG)(H=>v(n.referenceProvider,s.getModel(),di.L.lift(e),!1,H).then(U=>new Qs(U,De.N("ref.title","References")))),V=new kt.e(e.lineNumber,e.column,e.lineNumber,e.column);return Promise.resolve(d.toggleWidget(V,p,!1))})}}),eo.P0.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations"),_.BH.appendMenuItems([{id:_.eH.MenubarGoMenu,item:{command:{id:"editor.action.revealDefinition",title:De.N({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},group:"4_symbol_nav",order:2}},{id:_.eH.MenubarGoMenu,item:{command:{id:"editor.action.revealDeclaration",title:De.N({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")},group:"4_symbol_nav",order:3}},{id:_.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToTypeDefinition",title:De.N({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},group:"4_symbol_nav",order:3}},{id:_.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToImplementation",title:De.N({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},group:"4_symbol_nav",order:4}},{id:_.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToReferences",title:De.N({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")},group:"4_symbol_nav",order:5}}]);var rs=function(a,t){return function(e,n){t(e,n,a)}};let Ki=class vg{constructor(t,e,n,o){this.textModelResolverService=e,this.languageService=n,this.languageFeaturesService=o,this.toUnhook=new Tt.SL,this.toUnhookForKeyboard=new Tt.SL,this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=t;let s=new ff(t);this.toUnhook.add(s),this.toUnhook.add(s.onMouseMoveOrRelevantKeyDown(([d,p])=>{this.startFindDefinitionFromMouse(d,(0,$i.f6)(p))})),this.toUnhook.add(s.onExecute(d=>{this.isEnabled(d)&&this.gotoDefinition(d.target.position,d.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},p=>{this.removeLinkDecorations(),(0,Qn.dL)(p)})})),this.toUnhook.add(s.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(t){return t.getContribution(vg.ID)}startFindDefinitionFromCursor(t){return this.startFindDefinition(t).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(e=>{e&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(t,e){if(!(9===t.target.type&&this.linkDecorations.length>0))return this.editor.hasModel()&&this.isEnabled(t,e)?void this.startFindDefinition(t.target.position):(this.currentWordAtPosition=null,void this.removeLinkDecorations())}startFindDefinition(t){var e;this.toUnhookForKeyboard.clear();const n=t?null===(e=this.editor.getModel())||void 0===e?void 0:e.getWordAtPosition(t):null;if(!n)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===n.startColumn&&this.currentWordAtPosition.endColumn===n.endColumn&&this.currentWordAtPosition.word===n.word)return Promise.resolve(0);this.currentWordAtPosition=n;let o=new Pl.yy(this.editor,15);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,Bn.PG)(s=>this.findDefinition(t,s)),this.previousPromise.then(s=>{if(s&&s.length&&o.validate(this.editor))if(s.length>1)this.addDecoration(new kt.e(t.lineNumber,n.startColumn,t.lineNumber,n.endColumn),(new Zo.W5).appendText(De.N("multipleResults","Click to show {0} definitions.",s.length)));else{let d=s[0];if(!d.uri)return;this.textModelResolverService.createModelReference(d.uri).then(p=>{if(!p.object||!p.object.textEditorModel)return void p.dispose();const{object:{textEditorModel:V}}=p,{startLineNumber:H}=d.range;if(H<1||H>V.getLineCount())return void p.dispose();const U=this.getPreviewValue(V,H,d);let ne;ne=d.originSelectionRange?kt.e.lift(d.originSelectionRange):new kt.e(t.lineNumber,n.startColumn,t.lineNumber,n.endColumn);const be=this.languageService.guessLanguageIdByFilepathOrFirstLine(V.uri);this.addDecoration(ne,(new Zo.W5).appendCodeblock(be||"",U)),p.dispose()})}else this.removeLinkDecorations()}).then(void 0,Qn.dL)}getPreviewValue(t,e,n){let o=n.targetSelectionRange?n.range:this.getPreviewRangeBasedOnBrackets(t,e);return o.endLineNumber-o.startLineNumber>=vg.MAX_SOURCE_PREVIEW_LINES&&(o=this.getPreviewRangeBasedOnIndentation(t,e)),this.stripIndentationFromPreviewRange(t,e,o)}stripIndentationFromPreviewRange(t,e,n){let s=t.getLineFirstNonWhitespaceColumn(e);for(let p=e+1;p<n.endLineNumber;p++){const V=t.getLineFirstNonWhitespaceColumn(p);s=Math.min(s,V)}return t.getValueInRange(n).replace(new RegExp(`^\\s{${s-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(t,e){const n=t.getLineFirstNonWhitespaceColumn(e),o=Math.min(t.getLineCount(),e+vg.MAX_SOURCE_PREVIEW_LINES);let s=e+1;for(;s<o&&n!==t.getLineFirstNonWhitespaceColumn(s);s++);return new kt.e(e,1,s+1,1)}getPreviewRangeBasedOnBrackets(t,e){const n=Math.min(t.getLineCount(),e+vg.MAX_SOURCE_PREVIEW_LINES),o=[];let s=!0,d=t.bracketPairs.findNextBracket(new di.L(e,1));for(;null!==d;){if(0===o.length)o.push(d);else{const U=o[o.length-1];if(U.open[0]===d.open[0]&&U.isOpen&&!d.isOpen?o.pop():o.push(d),0===o.length){if(!s)return new kt.e(e,1,d.range.endLineNumber+1,1);s=!1}}const p=t.getLineMaxColumn(e);let V=d.range.endLineNumber,H=d.range.endColumn;if(p===d.range.endColumn&&(V++,H=1),V>n)return new kt.e(e,1,n+1,1);d=t.bracketPairs.findNextBracket(new di.L(V,H))}return new kt.e(e,1,n+1,1)}addDecoration(t,e){this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[{range:t,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:e}}])}removeLinkDecorations(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))}isEnabled(t,e){return this.editor.hasModel()&&t.isNoneOrSingleMouseDown&&6===t.target.type&&(t.hasTriggerModifier||!!e&&e.keyCodeIsTriggerKey)&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(t,e){const n=this.editor.getModel();return n?Ef(this.languageFeaturesService.definitionProvider,n,t,e):Promise.resolve(null)}gotoDefinition(t,e){return this.editor.setPosition(t),this.editor.invokeWithinContext(n=>{const o=!e&&this.editor.getOption(78)&&!this.isInPeekEditor(n);return new io({openToSide:e,openInPeek:o,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(n,this.editor)})}isInPeekEditor(t){const e=t.get(Qt.i6);return Gs.inPeekEditor.getValue(e)}dispose(){this.toUnhook.dispose()}};Ki.ID="editor.contrib.gotodefinitionatposition",Ki.MAX_SOURCE_PREVIEW_LINES=8,Ki=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([rs(1,Cr.S),rs(2,or.O),rs(3,Ui.p)],Ki),(0,Qe._K)(Ki.ID,Ki),(0,A.Ic)((a,t)=>{const e=a.getColor(y._Yy);e&&t.addRule(`.monaco-editor .goto-definition-link { color: ${e} !important; }`)});var sr=m(6491);m(97886);const Fa=st.$;class H1 extends Tt.JT{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new sr.s$(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}class S0 extends Tt.JT{constructor(t,e,n){super(),this.actionContainer=st.R3(t,Fa("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=st.R3(this.actionContainer,Fa("a.action")),this.action.setAttribute("role","button"),e.iconClass&&st.R3(this.action,Fa(`span.icon.${e.iconClass}`)),st.R3(this.action,Fa("span")).textContent=n?`${e.label} (${n})`:e.label,this._register(st.nm(this.actionContainer,st.tw.CLICK,s=>{s.stopPropagation(),s.preventDefault(),e.run(this.actionContainer)})),this._register(st.nm(this.actionContainer,st.tw.KEY_UP,s=>{new Tc.y(s).equals(3)&&(s.stopPropagation(),s.preventDefault(),e.run(this.actionContainer))})),this.setEnabled(!0)}static render(t,e,n){return new S0(t,e,n)}setEnabled(t){t?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}class Mw{constructor(t,e,n){this.value=t,this.isComplete=e,this.hasLoadingMessage=n}}class z1 extends Tt.JT{constructor(t,e){super(),this._editor=t,this._computer=e,this._onResult=this._register(new $n.Q5),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new Bn.pY(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new Bn.pY(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new Bn.pY(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(53).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(t,e=!0){this._state=t,e&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,Bn.zS)(t=>this._computer.computeAsync(t)),(()=>{!function(a,t,e,n){new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})}(this,void 0,void 0,function*(){var t,e;try{try{for(var o,n=function(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=a[Symbol.asyncIterator];return t?t.call(a):(a="function"==typeof __values?__values(a):a[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(s){e[s]=a[s]&&function(d){return new Promise(function(p,V){!function(s,d,p,V){Promise.resolve(V).then(function(H){s({value:H,done:p})},d)}(p,V,(d=a[s](d)).done,d.value)})}}}(this._asyncIterable);!(o=yield n.next()).done;){const s=o.value;s&&(this._result.push(s),this._fireResult())}}catch(s){t={error:s}}finally{try{o&&!o.done&&(e=n.return)&&(yield e.call(n))}finally{if(t)throw t.error}}this._asyncIterableDone=!0,(3===this._state||4===this._state)&&this._setState(0)}catch(s){(0,Qn.dL)(s)}})})()):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){3===this._state&&this._setState(4)}_fireResult(){if(1===this._state||2===this._state)return;const t=0===this._state,e=4===this._state;this._onResult.fire(new Mw(this._result.slice(0),t,e))}start(t){if(0===t)0===this._state&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation()}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}class x0{constructor(t,e){this.priority=t,this.range=e,this.type=1}equals(t){return 1===t.type&&this.range.equalsRange(t.range)}canAdoptVisibleHover(t,e){return 1===t.type&&e.lineNumber===this.range.startLineNumber}}class fm{constructor(t,e,n){this.priority=t,this.owner=e,this.range=n,this.type=2}equals(t){return 2===t.type&&this.owner===t.owner}canAdoptVisibleHover(t,e){return 2===t.type&&this.owner===t.owner}}const Vd=new class{constructor(){this._participants=[]}register(t){this._participants.push(t)}getAll(){return this._participants}};let Nw=(()=>{class a{constructor(){this.value="",this.pos=0}static isDigitCharacter(e){return e>=48&&e<=57}static isVariableCharacter(e){return 95===e||e>=97&&e<=122||e>=65&&e<=90}text(e){this.value=e,this.pos=0}tokenText(e){return this.value.substr(e.pos,e.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let s,e=this.pos,n=0,o=this.value.charCodeAt(e);if(s=a._table[o],"number"==typeof s)return this.pos+=1,{type:s,pos:e,len:1};if(a.isDigitCharacter(o)){s=8;do{n+=1,o=this.value.charCodeAt(e+n)}while(a.isDigitCharacter(o));return this.pos+=n,{type:s,pos:e,len:n}}if(a.isVariableCharacter(o)){s=9;do{o=this.value.charCodeAt(e+ ++n)}while(a.isVariableCharacter(o)||a.isDigitCharacter(o));return this.pos+=n,{type:s,pos:e,len:n}}s=10;do{n+=1,o=this.value.charCodeAt(e+n)}while(!isNaN(o)&&void 0===a._table[o]&&!a.isDigitCharacter(o)&&!a.isVariableCharacter(o));return this.pos+=n,{type:s,pos:e,len:n}}}return a._table={36:0,58:1,44:2,123:3,125:4,92:5,47:6,124:7,43:11,45:12,63:13},a})();class Yu{constructor(){this._children=[]}appendChild(t){return t instanceof Or&&this._children[this._children.length-1]instanceof Or?this._children[this._children.length-1].value+=t.value:(t.parent=this,this._children.push(t)),this}replace(t,e){const{parent:n}=t,o=n.children.indexOf(t),s=n.children.slice(0);s.splice(o,1,...e),n._children=s,function d(p,V){for(const H of p)H.parent=V,d(H.children,H)}(e,n)}get children(){return this._children}get snippet(){let t=this;for(;;){if(!t)return;if(t instanceof gm)return t;t=t.parent}}toString(){return this.children.reduce((t,e)=>t+e.toString(),"")}len(){return 0}}class Or extends Yu{constructor(t){super(),this.value=t}toString(){return this.value}len(){return this.value.length}clone(){return new Or(this.value)}}class U1 extends Yu{}class ma extends U1{constructor(t){super(),this.index=t}static compareByIndex(t,e){return t.index===e.index?0:t.isFinalTabstop?1:e.isFinalTabstop||t.index<e.index?-1:t.index>e.index?1:0}get isFinalTabstop(){return 0===this.index}get choice(){return 1===this._children.length&&this._children[0]instanceof Nf?this._children[0]:void 0}clone(){let t=new ma(this.index);return this.transform&&(t.transform=this.transform.clone()),t._children=this.children.map(e=>e.clone()),t}}class Nf extends Yu{constructor(){super(...arguments),this.options=[]}appendChild(t){return t instanceof Or&&(t.parent=this,this.options.push(t)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){let t=new Nf;return this.options.forEach(t.appendChild,t),t}}class L0 extends Yu{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(t){const e=this;let n=!1,o=t.replace(this.regexp,function(){return n=!0,e._replace(Array.prototype.slice.call(arguments,0,-2))});return!n&&this._children.some(s=>s instanceof Ba&&Boolean(s.elseValue))&&(o=this._replace([])),o}_replace(t){let e="";for(const n of this._children)if(n instanceof Ba){let o=t[n.index]||"";o=n.resolve(o),e+=o}else e+=n.toString();return e}toString(){return""}clone(){let t=new L0;return t.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),t._children=this.children.map(e=>e.clone()),t}}class Ba extends Yu{constructor(t,e,n,o){super(),this.index=t,this.shorthandName=e,this.ifValue=n,this.elseValue=o}resolve(t){return"upcase"===this.shorthandName?t?t.toLocaleUpperCase():"":"downcase"===this.shorthandName?t?t.toLocaleLowerCase():"":"capitalize"===this.shorthandName?t?t[0].toLocaleUpperCase()+t.substr(1):"":"pascalcase"===this.shorthandName?t?this._toPascalCase(t):"":"camelcase"===this.shorthandName?t?this._toCamelCase(t):"":Boolean(t)&&"string"==typeof this.ifValue?this.ifValue:Boolean(t)||"string"!=typeof this.elseValue?t||"":this.elseValue}_toPascalCase(t){const e=t.match(/[a-z0-9]+/gi);return e?e.map(n=>n.charAt(0).toUpperCase()+n.substr(1).toLowerCase()).join(""):t}_toCamelCase(t){const e=t.match(/[a-z0-9]+/gi);return e?e.map((n,o)=>0===o?n.toLowerCase():n.charAt(0).toUpperCase()+n.substr(1).toLowerCase()).join(""):t}clone(){return new Ba(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class If extends U1{constructor(t){super(),this.name=t}resolve(t){let e=t.resolve(this);return this.transform&&(e=this.transform.resolve(e||"")),void 0!==e&&(this._children=[new Or(e)],!0)}clone(){const t=new If(this.name);return this.transform&&(t.transform=this.transform.clone()),t._children=this.children.map(e=>e.clone()),t}}function j1(a,t){const e=[...a];for(;e.length>0;){const n=e.shift();if(!t(n))break;e.unshift(...n.children)}}class gm extends Yu{get placeholderInfo(){if(!this._placeholders){let e,t=[];this.walk(function(n){return n instanceof ma&&(t.push(n),e=!e||e.index<n.index?n:e),!0}),this._placeholders={all:t,last:e}}return this._placeholders}get placeholders(){const{all:t}=this.placeholderInfo;return t}offset(t){let e=0,n=!1;return this.walk(o=>o===t?(n=!0,!1):(e+=o.len(),!0)),n?e:-1}fullLen(t){let e=0;return j1([t],n=>(e+=n.len(),!0)),e}enclosingPlaceholders(t){let e=[],{parent:n}=t;for(;n;)n instanceof ma&&e.push(n),n=n.parent;return e}resolveVariables(t){return this.walk(e=>(e instanceof If&&e.resolve(t)&&(this._placeholders=void 0),!0)),this}appendChild(t){return this._placeholders=void 0,super.appendChild(t)}replace(t,e){return this._placeholders=void 0,super.replace(t,e)}clone(){let t=new gm;return this._children=this.children.map(e=>e.clone()),t}walk(t){j1(this.children,t)}}class mm{constructor(){this._scanner=new Nw,this._token={type:14,pos:0,len:0}}static escape(t){return t.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(t){return/\${?CLIPBOARD/.test(t)}parse(t,e,n){this._scanner.text(t),this._token=this._scanner.next();const o=new gm;for(;this._parse(o););const s=new Map,d=[];let p=0;o.walk(V=>(V instanceof ma&&(p+=1,V.isFinalTabstop?s.set(0,void 0):!s.has(V.index)&&V.children.length>0?s.set(V.index,V.children):d.push(V)),!0));for(const V of d){const H=s.get(V.index);if(H){const U=new ma(V.index);U.transform=V.transform;for(const ne of H)U.appendChild(ne.clone());o.replace(V,[U])}}return n||(n=p>0&&e),!s.has(0)&&n&&o.appendChild(new ma(0)),o}_accept(t,e){if(void 0===t||this._token.type===t){let n=!e||this._scanner.tokenText(this._token);return this._token=this._scanner.next(),n}return!1}_backTo(t){return this._scanner.pos=t.pos+t.len,this._token=t,!1}_until(t){const e=this._token;for(;this._token.type!==t;){if(14===this._token.type)return!1;if(5===this._token.type){const o=this._scanner.next();if(0!==o.type&&4!==o.type&&5!==o.type)return!1}this._token=this._scanner.next()}const n=this._scanner.value.substring(e.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),n}_parse(t){return this._parseEscaped(t)||this._parseTabstopOrVariableName(t)||this._parseComplexPlaceholder(t)||this._parseComplexVariable(t)||this._parseAnything(t)}_parseEscaped(t){let e;return!!(e=this._accept(5,!0))&&(e=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||e,t.appendChild(new Or(e)),!0)}_parseTabstopOrVariableName(t){let e;const n=this._token;return this._accept(0)&&(e=this._accept(9,!0)||this._accept(8,!0))?(t.appendChild(/^\d+$/.test(e)?new ma(Number(e)):new If(e)),!0):this._backTo(n)}_parseComplexPlaceholder(t){let e;const n=this._token;if(!(this._accept(0)&&this._accept(3)&&(e=this._accept(8,!0))))return this._backTo(n);const s=new ma(Number(e));if(this._accept(1))for(;;){if(this._accept(4))return t.appendChild(s),!0;if(!this._parse(s))return t.appendChild(new Or("${"+e+":")),s.children.forEach(t.appendChild,t),!0}else{if(!(s.index>0&&this._accept(7)))return this._accept(6)?this._parseTransform(s)?(t.appendChild(s),!0):(this._backTo(n),!1):this._accept(4)?(t.appendChild(s),!0):this._backTo(n);{const d=new Nf;for(;;){if(this._parseChoiceElement(d)){if(this._accept(2))continue;if(this._accept(7)&&(s.appendChild(d),this._accept(4)))return t.appendChild(s),!0}return this._backTo(n),!1}}}}_parseChoiceElement(t){const e=this._token,n=[];for(;2!==this._token.type&&7!==this._token.type;){let o;if(o=(o=this._accept(5,!0))?this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||o:this._accept(void 0,!0),!o)return this._backTo(e),!1;n.push(o)}return 0===n.length?(this._backTo(e),!1):(t.appendChild(new Or(n.join(""))),!0)}_parseComplexVariable(t){let e;const n=this._token;if(!(this._accept(0)&&this._accept(3)&&(e=this._accept(9,!0))))return this._backTo(n);const s=new If(e);if(!this._accept(1))return this._accept(6)?this._parseTransform(s)?(t.appendChild(s),!0):(this._backTo(n),!1):this._accept(4)?(t.appendChild(s),!0):this._backTo(n);for(;;){if(this._accept(4))return t.appendChild(s),!0;if(!this._parse(s))return t.appendChild(new Or("${"+e+":")),s.children.forEach(t.appendChild,t),!0}}_parseTransform(t){let e=new L0,n="",o="";for(;!this._accept(6);){let s;if(s=this._accept(5,!0))s=this._accept(6,!0)||s,n+=s;else{if(14===this._token.type)return!1;n+=this._accept(void 0,!0)}}for(;!this._accept(6);){let s;if(s=this._accept(5,!0))s=this._accept(5,!0)||this._accept(6,!0)||s,e.appendChild(new Or(s));else if(!this._parseFormatString(e)&&!this._parseAnything(e))return!1}for(;!this._accept(4);){if(14===this._token.type)return!1;o+=this._accept(void 0,!0)}try{e.regexp=new RegExp(n,o)}catch{return!1}return t.transform=e,!0}_parseFormatString(t){const e=this._token;if(!this._accept(0))return!1;let n=!1;this._accept(3)&&(n=!0);let o=this._accept(8,!0);if(!o)return this._backTo(e),!1;if(!n)return t.appendChild(new Ba(Number(o))),!0;if(this._accept(4))return t.appendChild(new Ba(Number(o))),!0;if(!this._accept(1))return this._backTo(e),!1;if(this._accept(6)){let s=this._accept(9,!0);return s&&this._accept(4)?(t.appendChild(new Ba(Number(o),s)),!0):(this._backTo(e),!1)}if(this._accept(11)){let s=this._until(4);if(s)return t.appendChild(new Ba(Number(o),void 0,s,void 0)),!0}else if(this._accept(12)){let s=this._until(4);if(s)return t.appendChild(new Ba(Number(o),void 0,void 0,s)),!0}else if(this._accept(13)){let s=this._until(1);if(s){let d=this._until(4);if(d)return t.appendChild(new Ba(Number(o),void 0,s,d)),!0}}else{let s=this._until(4);if(s)return t.appendChild(new Ba(Number(o),void 0,void 0,s)),!0}return this._backTo(e),!1}_parseAnything(t){return 14!==this._token.type&&(t.appendChild(new Or(this._scanner.tokenText(this._token))),this._accept(void 0),!0)}}m(84570);const Iw={inputActiveOptionBorder:ji.Il.fromHex("#007ACC00"),inputActiveOptionForeground:ji.Il.fromHex("#FFFFFF"),inputActiveOptionBackground:ji.Il.fromHex("#0E639C50")};class kf extends sl.${constructor(t){super(),this._onChange=this._register(new $n.Q5),this.onChange=this._onChange.event,this._onKeyDown=this._register(new $n.Q5),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},Iw),t),this._checked=this._opts.isChecked;const e=["monaco-custom-checkbox"];this._opts.icon&&e.push(...Kn.dT.asClassNameArray(this._opts.icon)),this._opts.actionClassName&&e.push(...this._opts.actionClassName.split(" ")),this._checked&&e.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...e),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,n=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),n.preventDefault())}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,n=>{if(10===n.keyCode||3===n.keyCode)return this.checked=!this._checked,this._onChange.fire(!0),void n.preventDefault();this._onKeyDown.fire(n)})}get enabled(){return"true"!==this.domNode.getAttribute("aria-disabled")}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(t){this._checked=t,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}style(t){t.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=t.inputActiveOptionBorder),t.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=t.inputActiveOptionForeground),t.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=t.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}const kw=De.N("caseDescription","Match Case"),Tw=De.N("wordsDescription","Match Whole Word"),Pw=De.N("regexDescription","Use Regular Expression");class K1 extends kf{constructor(t){super({icon:Kn.lA.caseSensitive,title:kw+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionForeground:t.inputActiveOptionForeground,inputActiveOptionBackground:t.inputActiveOptionBackground})}}class $1 extends kf{constructor(t){super({icon:Kn.lA.wholeWord,title:Tw+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionForeground:t.inputActiveOptionForeground,inputActiveOptionBackground:t.inputActiveOptionBackground})}}class Z1 extends kf{constructor(t){super({icon:Kn.lA.regex,title:Pw+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionForeground:t.inputActiveOptionForeground,inputActiveOptionBackground:t.inputActiveOptionBackground})}}var G1=m(39402);m(80090);const Ow=De.N("defaultLabel","input");class Aw extends sl.${constructor(t,e,n,o){super(),this._showOptionButtons=n,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this._onDidOptionChange=this._register(new $n.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new $n.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new $n.Q5),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new $n.Q5),this._onKeyUp=this._register(new $n.Q5),this._onCaseSensitiveKeyDown=this._register(new $n.Q5),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new $n.Q5),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=e,this.placeholder=o.placeholder||"",this.validation=o.validation,this.label=o.label||Ow,this.inputActiveOptionBorder=o.inputActiveOptionBorder,this.inputActiveOptionForeground=o.inputActiveOptionForeground,this.inputActiveOptionBackground=o.inputActiveOptionBackground,this.inputBackground=o.inputBackground,this.inputForeground=o.inputForeground,this.inputBorder=o.inputBorder,this.inputValidationInfoBorder=o.inputValidationInfoBorder,this.inputValidationInfoBackground=o.inputValidationInfoBackground,this.inputValidationInfoForeground=o.inputValidationInfoForeground,this.inputValidationWarningBorder=o.inputValidationWarningBorder,this.inputValidationWarningBackground=o.inputValidationWarningBackground,this.inputValidationWarningForeground=o.inputValidationWarningForeground,this.inputValidationErrorBorder=o.inputValidationErrorBorder,this.inputValidationErrorBackground=o.inputValidationErrorBackground,this.inputValidationErrorForeground=o.inputValidationErrorForeground;const s=o.appendCaseSensitiveLabel||"",d=o.appendWholeWordsLabel||"",p=o.appendRegexLabel||"",V=o.history||[],H=!!o.flexibleHeight,U=!!o.flexibleWidth,ne=o.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new G1.p(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:V,showHistoryHint:o.showHistoryHint,flexibleHeight:H,flexibleWidth:U,flexibleMaxHeight:ne})),this.regex=this._register(new Z1({appendTitle:p,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(Ee=>{this._onDidOptionChange.fire(Ee),!Ee&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(Ee=>{this._onRegexKeyDown.fire(Ee)})),this.wholeWords=this._register(new $1({appendTitle:d,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(Ee=>{this._onDidOptionChange.fire(Ee),!Ee&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new K1({appendTitle:s,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(Ee=>{this._onDidOptionChange.fire(Ee),!Ee&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(Ee=>{this._onCaseSensitiveKeyDown.fire(Ee)})),this._showOptionButtons&&(this.inputBox.paddingRight=this.caseSensitive.width()+this.wholeWords.width()+this.regex.width());let be=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,Ee=>{if(Ee.equals(15)||Ee.equals(17)||Ee.equals(9)){let Ke=be.indexOf(document.activeElement);if(Ke>=0){let ct=-1;Ee.equals(17)?ct=(Ke+1)%be.length:Ee.equals(15)&&(ct=0===Ke?be.length-1:Ke-1),Ee.equals(9)?(be[Ke].blur(),this.inputBox.focus()):ct>=0&&be[ct].focus(),st.zB.stop(Ee,!0)}}}),this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this._showOptionButtons?"block":"none",this.controls.appendChild(this.caseSensitive.domNode),this.controls.appendChild(this.wholeWords.domNode),this.controls.appendChild(this.regex.domNode),this.domNode.appendChild(this.controls),t&&t.appendChild(this.domNode),this._register(st.nm(this.inputBox.inputElement,"compositionstart",Ee=>{this.imeSessionInProgress=!0})),this._register(st.nm(this.inputBox.inputElement,"compositionend",Ee=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,Ee=>this._onKeyDown.fire(Ee)),this.onkeyup(this.inputBox.inputElement,Ee=>this._onKeyUp.fire(Ee)),this.oninput(this.inputBox.inputElement,Ee=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,Ee=>this._onMouseDown.fire(Ee))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()}setFocusInputOnOptionClick(t){this.fixFocusOnOptionClickEnabled=t}setEnabled(t){t?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(t){this.inputBox.value!==t&&(this.inputBox.value=t)}style(t){this.inputActiveOptionBorder=t.inputActiveOptionBorder,this.inputActiveOptionForeground=t.inputActiveOptionForeground,this.inputActiveOptionBackground=t.inputActiveOptionBackground,this.inputBackground=t.inputBackground,this.inputForeground=t.inputForeground,this.inputBorder=t.inputBorder,this.inputValidationInfoBackground=t.inputValidationInfoBackground,this.inputValidationInfoForeground=t.inputValidationInfoForeground,this.inputValidationInfoBorder=t.inputValidationInfoBorder,this.inputValidationWarningBackground=t.inputValidationWarningBackground,this.inputValidationWarningForeground=t.inputValidationWarningForeground,this.inputValidationWarningBorder=t.inputValidationWarningBorder,this.inputValidationErrorBackground=t.inputValidationErrorBackground,this.inputValidationErrorForeground=t.inputValidationErrorForeground,this.inputValidationErrorBorder=t.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const t={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(t),this.wholeWords.style(t),this.caseSensitive.style(t),this.inputBox.style({inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder})}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(t){this.caseSensitive.checked=t}getWholeWords(){return this.wholeWords.checked}setWholeWords(t){this.wholeWords.checked=t}getRegex(){return this.regex.checked}setRegex(t){this.regex.checked=t,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}clearMessage(){this.inputBox.hideMessage()}}const Rw=De.N("defaultLabel","input"),Fw=De.N("label.preserveCaseCheckbox","Preserve Case");class Bw extends kf{constructor(t){super({icon:Kn.lA.preserveCase,title:Fw+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionForeground:t.inputActiveOptionForeground,inputActiveOptionBackground:t.inputActiveOptionBackground})}}class Ww extends sl.${constructor(t,e,n,o){super(),this._showOptionButtons=n,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new $n.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new $n.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new $n.Q5),this._onInput=this._register(new $n.Q5),this._onKeyUp=this._register(new $n.Q5),this._onPreserveCaseKeyDown=this._register(new $n.Q5),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=e,this.placeholder=o.placeholder||"",this.validation=o.validation,this.label=o.label||Rw,this.inputActiveOptionBorder=o.inputActiveOptionBorder,this.inputActiveOptionForeground=o.inputActiveOptionForeground,this.inputActiveOptionBackground=o.inputActiveOptionBackground,this.inputBackground=o.inputBackground,this.inputForeground=o.inputForeground,this.inputBorder=o.inputBorder,this.inputValidationInfoBorder=o.inputValidationInfoBorder,this.inputValidationInfoBackground=o.inputValidationInfoBackground,this.inputValidationInfoForeground=o.inputValidationInfoForeground,this.inputValidationWarningBorder=o.inputValidationWarningBorder,this.inputValidationWarningBackground=o.inputValidationWarningBackground,this.inputValidationWarningForeground=o.inputValidationWarningForeground,this.inputValidationErrorBorder=o.inputValidationErrorBorder,this.inputValidationErrorBackground=o.inputValidationErrorBackground,this.inputValidationErrorForeground=o.inputValidationErrorForeground;const s=o.appendPreserveCaseLabel||"",d=o.history||[],p=!!o.flexibleHeight,V=!!o.flexibleWidth,H=o.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new G1.p(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:d,showHistoryHint:o.showHistoryHint,flexibleHeight:p,flexibleWidth:V,flexibleMaxHeight:H})),this.preserveCase=this._register(new Bw({appendTitle:s,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(be=>{this._onDidOptionChange.fire(be),!be&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(be=>{this._onPreserveCaseKeyDown.fire(be)})),this.cachedOptionsWidth=this._showOptionButtons?this.preserveCase.width():0;let U=[this.preserveCase.domNode];this.onkeydown(this.domNode,be=>{if(be.equals(15)||be.equals(17)||be.equals(9)){let Ee=U.indexOf(document.activeElement);if(Ee>=0){let Ke=-1;be.equals(17)?Ke=(Ee+1)%U.length:be.equals(15)&&(Ke=0===Ee?U.length-1:Ee-1),be.equals(9)?(U[Ee].blur(),this.inputBox.focus()):Ke>=0&&U[Ke].focus(),st.zB.stop(be,!0)}}});let ne=document.createElement("div");ne.className="controls",ne.style.display=this._showOptionButtons?"block":"none",ne.appendChild(this.preserveCase.domNode),this.domNode.appendChild(ne),t&&t.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,be=>this._onKeyDown.fire(be)),this.onkeyup(this.inputBox.inputElement,be=>this._onKeyUp.fire(be)),this.oninput(this.inputBox.inputElement,be=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,be=>this._onMouseDown.fire(be))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(t){t?this.enable():this.disable()}style(t){this.inputActiveOptionBorder=t.inputActiveOptionBorder,this.inputActiveOptionForeground=t.inputActiveOptionForeground,this.inputActiveOptionBackground=t.inputActiveOptionBackground,this.inputBackground=t.inputBackground,this.inputForeground=t.inputForeground,this.inputBorder=t.inputBorder,this.inputValidationInfoBackground=t.inputValidationInfoBackground,this.inputValidationInfoForeground=t.inputValidationInfoForeground,this.inputValidationInfoBorder=t.inputValidationInfoBorder,this.inputValidationWarningBackground=t.inputValidationWarningBackground,this.inputValidationWarningForeground=t.inputValidationWarningForeground,this.inputValidationWarningBorder=t.inputValidationWarningBorder,this.inputValidationErrorBackground=t.inputValidationErrorBackground,this.inputValidationErrorForeground=t.inputValidationErrorForeground,this.inputValidationErrorBorder=t.inputValidationErrorBorder,this.applyStyles()}applyStyles(){this.domNode&&(this.preserveCase.style({inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground}),this.inputBox.style({inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder}))}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(t){this.preserveCase.checked=t}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(t){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=t,this.domNode.style.width=t+"px"}dispose(){super.dispose()}}var Q1=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Y1=function(a,t){return function(e,n){t(e,n,a)}};const D0=new Qt.uy("suggestWidgetVisible",!1,(0,De.N)("suggestWidgetVisible","Whether suggestion are visible")),Tf="historyNavigationWidget",J1="historyNavigationForwardsEnabled",X1="historyNavigationBackwardsEnabled";function q1(a,t){return a.getContext(document.activeElement).getValue(t)}function eC(a,t){const e=function(a,t){return a.createScoped(t.target)}(a,t);return function(a,t,e){new Qt.uy("historyNavigationWidget",t).bindTo(a)}(e,t),{scopedContextKeyService:e,historyNavigationForwardsEnablement:new Qt.uy(J1,!0).bindTo(e),historyNavigationBackwardsEnablement:new Qt.uy(X1,!0).bindTo(e)}}let E0=class extends Aw{constructor(t,e,n,o,s=!1){super(t,e,s,n),this._register(eC(o,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};E0=Q1([Y1(3,Qt.i6)],E0);let M0=class extends Ww{constructor(t,e,n,o,s=!1){super(t,e,s,n),this._register(eC(o,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};M0=Q1([Y1(3,Qt.i6)],M0),Pr.W.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:Qt.Ao.and(Qt.Ao.has(Tf),Qt.Ao.equals(X1,!0),D0.isEqualTo(!1)),primary:16,secondary:[528],handler:a=>{const t=q1(a.get(Qt.i6),Tf);t&&t.historyNavigator.showPreviousValue()}}),Pr.W.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:Qt.Ao.and(Qt.Ao.has(Tf),Qt.Ao.equals(J1,!0),D0.isEqualTo(!1)),primary:18,secondary:[530],handler:a=>{const t=q1(a.get(Qt.i6),Tf);t&&t.historyNavigator.showNextValue()}});var Pf=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})};const Gi={Visible:D0,DetailsVisible:new Qt.uy("suggestWidgetDetailsVisible",!1,(0,De.N)("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new Qt.uy("suggestWidgetMultipleSuggestions",!1,(0,De.N)("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new Qt.uy("suggestionMakesTextEdit",!0,(0,De.N)("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new Qt.uy("acceptSuggestionOnEnter",!0,(0,De.N)("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new Qt.uy("suggestionHasInsertAndReplaceRange",!1,(0,De.N)("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new Qt.uy("suggestionInsertMode",void 0,{type:"string",description:(0,De.N)("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new Qt.uy("suggestionCanResolve",!1,(0,De.N)("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},Rc=new _.eH("suggestWidgetStatusBar");class zw{constructor(t,e,n,o){this.position=t,this.completion=e,this.container=n,this.provider=o,this.isInvalid=!1,this.score=Ys.CL.Default,this.distance=0,this.textLabel="string"==typeof e.label?e.label:e.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=e.sortText&&e.sortText.toLowerCase(),this.filterTextLow=e.filterText&&e.filterText.toLowerCase(),kt.e.isIRange(e.range)?(this.editStart=new di.L(e.range.startLineNumber,e.range.startColumn),this.editInsertEnd=new di.L(e.range.endLineNumber,e.range.endColumn),this.editReplaceEnd=new di.L(e.range.endLineNumber,e.range.endColumn),this.isInvalid=this.isInvalid||kt.e.spansMultipleLines(e.range)||e.range.startLineNumber!==t.lineNumber):(this.editStart=new di.L(e.range.insert.startLineNumber,e.range.insert.startColumn),this.editInsertEnd=new di.L(e.range.insert.endLineNumber,e.range.insert.endColumn),this.editReplaceEnd=new di.L(e.range.replace.endLineNumber,e.range.replace.endColumn),this.isInvalid=this.isInvalid||kt.e.spansMultipleLines(e.range.insert)||kt.e.spansMultipleLines(e.range.replace)||e.range.insert.startLineNumber!==t.lineNumber||e.range.replace.startLineNumber!==t.lineNumber||e.range.insert.startColumn!==e.range.replace.startColumn),"function"!=typeof o.resolveCompletionItem&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(t){return Pf(this,void 0,void 0,function*(){if(!this._resolveCache){const e=t.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,t)).then(n=>{Object.assign(this.completion,n),this._isResolved=!0,e.dispose()},n=>{(0,Qn.n2)(n)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}}class pm{constructor(t=2,e=new Set,n=new Set,o=!0){this.snippetSortOrder=t,this.kindFilter=e,this.providerFilter=n,this.showDeprecated=o}}pm.default=new pm;class jw{constructor(t,e,n,o){this.items=t,this.needsClipboard=e,this.durations=n,this.disposable=o}}function tC(a,t,e,n=pm.default,o={triggerKind:0},s=Zn.T.None){return Pf(this,void 0,void 0,function*(){const d=new ea.G(!0);e=e.clone();const p=t.getWordAtPosition(e),V=p?new kt.e(e.lineNumber,p.startColumn,e.lineNumber,p.endColumn):kt.e.fromPositions(e),H={replace:V,insert:V.setEndPosition(e.lineNumber,e.column)},U=[],ne=new Tt.SL,be=[];let Ee=!1;const Ke=(Pt,Ot,Xt)=>{var on,Wn,Pn;let Ai=!1;if(!Ot)return Ai;for(let Si of Ot.suggestions)if(!n.kindFilter.has(Si.kind)){if(!n.showDeprecated&&(null===(on=null==Si?void 0:Si.tags)||void 0===on?void 0:on.includes(1)))continue;Si.range||(Si.range=H),Si.sortText||(Si.sortText="string"==typeof Si.label?Si.label:Si.label.label),!Ee&&Si.insertTextRules&&4&Si.insertTextRules&&(Ee=mm.guessNeedsClipboard(Si.insertText)),U.push(new zw(e,Si,Ot,Pt)),Ai=!0}return(0,Tt.Wf)(Ot)&&ne.add(Ot),be.push({providerName:null!==(Wn=Pt._debugDisplayName)&&void 0!==Wn?Wn:"unknown_provider",elapsedProvider:null!==(Pn=Ot.duration)&&void 0!==Pn?Pn:-1,elapsedOverall:Xt.elapsed()}),Ai},ct=(()=>Pf(this,void 0,void 0,function*(){}))();for(let Pt of a.orderedGroups(t)){let Ot=!1;if(yield Promise.all(Pt.map(Xt=>Pf(this,void 0,void 0,function*(){if(!(n.providerFilter.size>0)||n.providerFilter.has(Xt))try{const on=new ea.G(!0),Wn=yield Xt.provideCompletionItems(t,e,o,s);Ot=Ke(Xt,Wn,on)||Ot}catch(on){(0,Qn.Cp)(on)}}))),Ot||s.isCancellationRequested)break}return yield ct,s.isCancellationRequested?(ne.dispose(),Promise.reject((0,Qn.F0)())):new jw(U.sort(nC(n.snippetSortOrder)),Ee,{entries:be,elapsed:d.elapsed()},ne)})}function N0(a,t){if(a.sortTextLow&&t.sortTextLow){if(a.sortTextLow<t.sortTextLow)return-1;if(a.sortTextLow>t.sortTextLow)return 1}return a.completion.label<t.completion.label?-1:a.completion.label>t.completion.label?1:a.completion.kind-t.completion.kind}const _m=new Map;function nC(a){return _m.get(a)}_m.set(0,function(a,t){if(a.completion.kind!==t.completion.kind){if(27===a.completion.kind)return-1;if(27===t.completion.kind)return 1}return N0(a,t)}),_m.set(2,function(a,t){if(a.completion.kind!==t.completion.kind){if(27===a.completion.kind)return 1;if(27===t.completion.kind)return-1}return N0(a,t)}),_m.set(1,N0),eo.P0.registerCommand("_executeCompletionItemProvider",(a,...t)=>Pf(void 0,void 0,void 0,function*(){const[e,n,o,s]=t;(0,$i.p_)(wo.o.isUri(e)),(0,$i.p_)(di.L.isIPosition(n)),(0,$i.p_)("string"==typeof o||!o),(0,$i.p_)("number"==typeof s||!s);const{completionProvider:d}=a.get(Ui.p),p=yield a.get(Cr.S).createModelReference(e);try{const V={incomplete:!1,suggestions:[]},H=[],U=yield tC(d,p.object.textEditorModel,di.L.lift(n),void 0,{triggerCharacter:o,triggerKind:o?1:0});for(const ne of U.items)H.length<(s??0)&&H.push(ne.resolve(Zn.T.None)),V.incomplete=V.incomplete||ne.container.incomplete,V.suggestions.push(ne.completion);try{return yield Promise.all(H),V}finally{setTimeout(()=>U.disposable.dispose(),100)}}finally{p.dispose()}}));let Cm,I0=[];function Zw(a,t,e){const{completionProvider:n}=a.get(Ui.p);Cm||(Cm=new class{provideCompletionItems(){let s={suggestions:I0.slice(0)};return I0.length=0,s}},n.register("*",Cm)),setTimeout(()=>{var o;I0.push(...e),null===(o=t.getContribution("editor.contrib.suggestController"))||void 0===o||o.triggerSuggest((new Set).add(Cm))},0)}var k0=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},bm=function(a,t){return function(e,n){t(e,n,a)}};const iC=st.$;let vm=class sw extends Tt.JT{constructor(t,e,n){super(),this._editor=t,this._instantiationService=e,this._keybindingService=n,this._widget=this._register(this._instantiationService.createInstance(Hd,this._editor)),this._decorationsChangerListener=this._register(new Gw(this._editor)),this._messages=[],this._messagesAreComplete=!1,this._participants=[];for(const o of Vd.getAll())this._participants.push(this._instantiationService.createInstance(o,this._editor));this._participants.sort((o,s)=>o.hoverOrdinal-s.hoverOrdinal),this._computer=new wm(this._editor,this._participants),this._hoverOperation=this._register(new z1(this._editor,this._computer)),this._register(this._hoverOperation.onResult(o=>{this._withResult(o.value,o.isComplete,o.hasLoadingMessage)})),this._register(this._decorationsChangerListener.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(st.mu(this._widget.getDomNode(),"keydown",o=>{o.equals(9)&&this.hide()})),this._register(Xi.RW.onDidChange(()=>{this._widget.position&&this._computer.anchor&&this._messages.length>0&&(this._widget.clear(),this._renderMessages(this._computer.anchor,this._messages))}))}_onModelDecorationsChanged(){this._widget.position&&(this._hoverOperation.cancel(),this._widget.isColorPickerVisible||this._hoverOperation.start(0))}maybeShowAt(t){const e=[];for(const o of this._participants)if(o.suggestHoverAnchor){const s=o.suggestHoverAnchor(t);s&&e.push(s)}const n=t.target;if(6===n.type&&e.push(new x0(0,n.range)),7===n.type){const o=this._editor.getOption(44).typicalHalfwidthCharacterWidth/2;!n.detail.isAfterLines&&"number"==typeof n.detail.horizontalDistanceToText&&n.detail.horizontalDistanceToText<o&&e.push(new x0(0,n.range))}return 0!==e.length&&(e.sort((o,s)=>s.priority-o.priority),this._startShowingAt(e[0],0,!1),!0)}startShowingAtRange(t,e,n){this._startShowingAt(new x0(0,t),e,n)}_startShowingAt(t,e,n){if(!this._computer.anchor||!this._computer.anchor.equals(t)){if(this._hoverOperation.cancel(),this._widget.position)if(this._computer.anchor&&t.canAdoptVisibleHover(this._computer.anchor,this._widget.position)){const o=this._messages.filter(s=>s.isValidForHoverAnchor(t));if(0===o.length)this.hide();else{if(o.length===this._messages.length&&this._messagesAreComplete)return;this._renderMessages(t,o)}}else this.hide();this._computer.anchor=t,this._computer.shouldFocus=n,this._hoverOperation.start(e)}}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._widget.hide()}isColorPickerVisible(){return this._widget.isColorPickerVisible}_addLoadingMessage(t){if(this._computer.anchor)for(const e of this._participants)if(e.createLoadingMessage){const n=e.createLoadingMessage(this._computer.anchor);if(n)return t.slice(0).concat([n])}return t}_withResult(t,e,n){this._messages=n?this._addLoadingMessage(t):t,this._messagesAreComplete=e,this._computer.anchor&&this._messages.length>0?this._renderMessages(this._computer.anchor,this._messages):e&&this.hide()}_renderMessages(t,e){let n=1073741824,o=e[0].range,s=null;for(const ne of e)n=Math.min(n,ne.range.startColumn),o=kt.e.plusRange(o,ne.range),ne.forceShowAtRange&&(s=ne.range);const d=new Tt.SL,p=d.add(new T0(this._keybindingService)),V=document.createDocumentFragment();let H=null;const U={fragment:V,statusBar:p,setColorPicker:ne=>H=ne,onContentsChanged:()=>this._widget.onContentsChanged(),hide:()=>this.hide()};for(const ne of this._participants){const be=e.filter(Ee=>Ee.owner===ne);be.length>0&&d.add(ne.renderHoverParts(U,be))}if(p.hasContent&&V.appendChild(p.hoverElement),V.hasChildNodes()){if(o){const ne=this._decorationsChangerListener.deltaDecorations([],[{range:o,options:sw._DECORATION_OPTIONS}]);d.add((0,Tt.OF)(()=>{this._decorationsChangerListener.deltaDecorations(ne,[])}))}this._widget.showAt(V,new Qw(H,s?s.getStartPosition():new di.L(t.range.startLineNumber,n),s||o,this._editor.getOption(53).above,this._computer.shouldFocus,d))}else d.dispose()}};vm._DECORATION_OPTIONS=r.qx.register({description:"content-hover-highlight",className:"hoverHighlight"}),vm=k0([bm(1,Qi.TG),bm(2,Zs.d)],vm);class Gw extends Tt.JT{constructor(t){super(),this._editor=t,this._onDidChangeModelDecorations=this._register(new $n.Q5),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._isChangingDecorations=!1,this._register(this._editor.onDidChangeModelDecorations(e=>{this._isChangingDecorations||this._onDidChangeModelDecorations.fire(e)}))}deltaDecorations(t,e){try{return this._isChangingDecorations=!0,this._editor.deltaDecorations(t,e)}finally{this._isChangingDecorations=!1}}}class Qw{constructor(t,e,n,o,s,d){this.colorPicker=t,this.showAtPosition=e,this.showAtRange=n,this.preferAbove=o,this.stoleFocus=s,this.disposables=d}}let Hd=class rw extends Tt.JT{constructor(t,e){super(),this._editor=t,this._contextKeyService=e,this.allowEditorOverflow=!0,this._hoverVisibleKey=Ct.u.hoverVisible.bindTo(this._contextKeyService),this._hover=this._register(new H1),this._visibleData=null,this._register(this._editor.onDidLayoutChange(()=>this._layout())),this._register(this._editor.onDidChangeConfiguration(n=>{n.hasChanged(44)&&this._updateFont()})),this._setVisibleData(null),this._layout(),this._editor.addContentWidget(this)}get position(){var t,e;return null!==(e=null===(t=this._visibleData)||void 0===t?void 0:t.showAtPosition)&&void 0!==e?e:null}get isColorPickerVisible(){var t;return Boolean(null===(t=this._visibleData)||void 0===t?void 0:t.colorPicker)}dispose(){this._editor.removeContentWidget(this),this._visibleData&&this._visibleData.disposables.dispose(),super.dispose()}getId(){return rw.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){if(!this._visibleData)return null;let t=this._visibleData.preferAbove;return!t&&this._contextKeyService.getContextKeyValue(Gi.Visible.key)&&(t=!0),{position:this._visibleData.showAtPosition,range:this._visibleData.showAtRange,preference:t?[1,2]:[2,1]}}_setVisibleData(t){this._visibleData&&this._visibleData.disposables.dispose(),this._visibleData=t,this._hoverVisibleKey.set(!!this._visibleData),this._hover.containerDomNode.classList.toggle("hidden",!this._visibleData)}_layout(){const t=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:e,lineHeight:n}=this._editor.getOption(44);this._hover.contentsDomNode.style.fontSize=`${e}px`,this._hover.contentsDomNode.style.lineHeight=""+n/e,this._hover.contentsDomNode.style.maxHeight=`${t}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(.66*this._editor.getLayoutInfo().width,500)}px`}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(e=>this._editor.applyFontInfo(e))}showAt(t,e){this._setVisibleData(e),this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(t),this._hover.contentsDomNode.style.paddingBottom="",this._updateFont(),this._editor.layoutContentWidget(this),this.onContentsChanged(),this._editor.render(),this._editor.layoutContentWidget(this),this.onContentsChanged(),e.stoleFocus&&this._hover.containerDomNode.focus(),e.colorPicker&&e.colorPicker.layout()}hide(){if(this._visibleData){const t=this._visibleData.stoleFocus;this._setVisibleData(null),this._editor.layoutContentWidget(this),t&&this._editor.focus()}}onContentsChanged(){this._hover.onContentsChanged();const t=this._hover.scrollbar.getScrollDimensions();if(t.scrollWidth>t.width){const n=`${this._hover.scrollbar.options.horizontalScrollbarSize}px`;this._hover.contentsDomNode.style.paddingBottom!==n&&(this._hover.contentsDomNode.style.paddingBottom=n,this._editor.layoutContentWidget(this),this._hover.onContentsChanged())}}clear(){this._hover.contentsDomNode.textContent=""}};Hd.ID="editor.contrib.contentHoverWidget",Hd=k0([bm(1,Qt.i6)],Hd);let T0=class extends Tt.JT{constructor(t){super(),this._keybindingService=t,this._hasContent=!1,this.hoverElement=iC("div.hover-row.status-bar"),this.actionsElement=st.R3(this.hoverElement,iC("div.actions"))}get hasContent(){return this._hasContent}addAction(t){const e=this._keybindingService.lookupKeybinding(t.commandId),n=e?e.getLabel():null;return this._hasContent=!0,this._register(S0.render(this.actionsElement,t,n))}append(t){const e=st.R3(this.actionsElement,t);return this._hasContent=!0,e}};T0=k0([bm(0,Zs.d)],T0);class wm{constructor(t,e){this._editor=t,this._participants=e,this._anchor=null,this._shouldFocus=!1}get anchor(){return this._anchor}set anchor(t){this._anchor=t}get shouldFocus(){return this._shouldFocus}set shouldFocus(t){this._shouldFocus=t}static _getLineDecorations(t,e){if(1!==e.type)return[];const n=t.getModel(),o=e.range.startLineNumber,s=n.getLineMaxColumn(o);return t.getLineDecorations(o).filter(d=>{if(d.options.isWholeLine)return!0;const p=d.range.startLineNumber===o?d.range.startColumn:1,V=d.range.endLineNumber===o?d.range.endColumn:s;if(d.options.showIfCollapsed){if(p>e.range.startColumn+1||e.range.endColumn-1>V)return!1}else if(p>e.range.startColumn||e.range.endColumn>V)return!1;return!0})}computeAsync(t){const e=this._anchor;if(!this._editor.hasModel()||!e)return Bn.Aq.EMPTY;const n=wm._getLineDecorations(this._editor,e);return Bn.Aq.merge(this._participants.map(o=>o.computeAsync?o.computeAsync(e,n,t):Bn.Aq.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const t=wm._getLineDecorations(this._editor,this._anchor);let e=[];for(const n of this._participants)e=e.concat(n.computeSync(this._anchor,t));return(0,ro.kX)(e)}}var Jw=Object.hasOwnProperty,oC=Object.setPrototypeOf,Xw=Object.isFrozen,qw=Object.getPrototypeOf,ey=Object.getOwnPropertyDescriptor,Ar=Object.freeze,Zl=Object.seal,ty=Object.create,sC="undefined"!=typeof Reflect&&Reflect,ym=sC.apply,P0=sC.construct;ym||(ym=function(t,e,n){return t.apply(e,n)}),Ar||(Ar=function(t){return t}),Zl||(Zl=function(t){return t}),P0||(P0=function(t,e){return new(Function.prototype.bind.apply(t,[null].concat(function(a){if(Array.isArray(a)){for(var t=0,e=Array(a.length);t<a.length;t++)e[t]=a[t];return e}return Array.from(a)}(e))))});var ny=Wa(Array.prototype.forEach),rC=Wa(Array.prototype.pop),Af=Wa(Array.prototype.push),zd=Wa(String.prototype.toLowerCase),aC=Wa(String.prototype.match),Fc=Wa(String.prototype.replace),iy=Wa(String.prototype.indexOf),oy=Wa(String.prototype.trim),Gl=Wa(RegExp.prototype.test),lC=function(a){return function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return P0(a,e)}}(TypeError);function Wa(a){return function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return ym(a,t,n)}}function co(a,t){oC&&oC(a,null);for(var e=t.length;e--;){var n=t[e];if("string"==typeof n){var o=zd(n);o!==n&&(Xw(t)||(t[e]=o),n=o)}a[n]=!0}return a}function Ud(a){var t=ty(null),e=void 0;for(e in a)ym(Jw,a,[e])&&(t[e]=a[e]);return t}function Sm(a,t){for(;null!==a;){var e=ey(a,t);if(e){if(e.get)return Wa(e.get);if("function"==typeof e.value)return Wa(e.value)}a=qw(a)}return function(o){return console.warn("fallback value for",o),null}}var cC=Ar(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),O0=Ar(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),A0=Ar(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ry=Ar(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),R0=Ar(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),ay=Ar(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),dC=Ar(["#text"]),uC=Ar(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),F0=Ar(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),hC=Ar(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xm=Ar(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ly=Zl(/\{\{[\s\S]*|[\s\S]*\}\}/gm),cy=Zl(/<%[\s\S]*|[\s\S]*%>/gm),dy=Zl(/^data-[\-\w.\u00B7-\uFFFF]/),uy=Zl(/^aria-[\-\w]+$/),hy=Zl(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),fy=Zl(/^(?:\w+script|data):/i),gy=Zl(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Rf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};function cl(a){if(Array.isArray(a)){for(var t=0,e=Array(a.length);t<a.length;t++)e[t]=a[t];return e}return Array.from(a)}var my=function(){return"undefined"==typeof window?null:window},py=function(t,e){if("object"!==(void 0===t?"undefined":Rf(t))||"function"!=typeof t.createPolicy)return null;var n=null,o="data-tt-policy-suffix";e.currentScript&&e.currentScript.hasAttribute(o)&&(n=e.currentScript.getAttribute(o));var s="dompurify"+(n?"#"+n:"");try{return t.createPolicy(s,{createHTML:function(p){return p}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},dl=function fC(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:my(),t=function(nn){return fC(nn)};if(t.version="2.3.1",t.removed=[],!a||!a.document||9!==a.document.nodeType)return t.isSupported=!1,t;var e=a.document,n=a.document,o=a.DocumentFragment,s=a.HTMLTemplateElement,d=a.Node,p=a.Element,V=a.NodeFilter,H=a.NamedNodeMap,U=void 0===H?a.NamedNodeMap||a.MozNamedAttrMap:H,ne=a.Text,be=a.Comment,Ee=a.DOMParser,Ke=a.trustedTypes,ct=p.prototype,Pt=Sm(ct,"cloneNode"),Ot=Sm(ct,"nextSibling"),Xt=Sm(ct,"childNodes"),on=Sm(ct,"parentNode");if("function"==typeof s){var Wn=n.createElement("template");Wn.content&&Wn.content.ownerDocument&&(n=Wn.content.ownerDocument)}var Pn=py(Ke,e),Ai=Pn&&Th?Pn.createHTML(""):"",Si=n,as=Si.implementation,Ws=Si.createNodeIterator,Vs=Si.createDocumentFragment,wa=Si.getElementsByTagName,Ha=e.importNode,cr={};try{cr=Ud(n).documentMode?n.documentMode:{}}catch{}var wr={};t.isSupported="function"==typeof on&&as&&void 0!==as.createHTMLDocument&&9!==cr;var za=ly,Xc=cy,cu=dy,du=uy,mp=fy,pp=gy,qc=hy,ii=null,oi=co({},[].concat(cl(cC),cl(O0),cl(A0),cl(R0),cl(dC))),Xs=null,gg=co({},[].concat(cl(uC),cl(F0),cl(hC),cl(xm))),Ua=null,ed=null,Ih=!0,uu=!0,Cl=!1,ki=!1,td=!1,mg=!1,pg=!1,nd=!1,kh=!1,_p=!0,Th=!1,Cp=!0,an=!0,Ut=!1,Gt={},tt=null,lt=co({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),It=null,vt=co({},["audio","video","img","source","image","track"]),dn=null,bn=co({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ti="http://www.w3.org/1998/Math/MathML",Gn="http://www.w3.org/2000/svg",Ri="http://www.w3.org/1999/xhtml",Fi=Ri,Lo=!1,oo=null,hi=n.createElement("form"),ls=function(nn){oo&&oo===nn||((!nn||"object"!==(void 0===nn?"undefined":Rf(nn)))&&(nn={}),nn=Ud(nn),ii="ALLOWED_TAGS"in nn?co({},nn.ALLOWED_TAGS):oi,Xs="ALLOWED_ATTR"in nn?co({},nn.ALLOWED_ATTR):gg,dn="ADD_URI_SAFE_ATTR"in nn?co(Ud(bn),nn.ADD_URI_SAFE_ATTR):bn,It="ADD_DATA_URI_TAGS"in nn?co(Ud(vt),nn.ADD_DATA_URI_TAGS):vt,tt="FORBID_CONTENTS"in nn?co({},nn.FORBID_CONTENTS):lt,Ua="FORBID_TAGS"in nn?co({},nn.FORBID_TAGS):{},ed="FORBID_ATTR"in nn?co({},nn.FORBID_ATTR):{},Ih=!1!==nn.ALLOW_ARIA_ATTR,uu=!1!==nn.ALLOW_DATA_ATTR,Cl=nn.ALLOW_UNKNOWN_PROTOCOLS||!1,td=nn.WHOLE_DOCUMENT||!1,nd=nn.RETURN_DOM||!1,_p=!1!==nn.RETURN_DOM_IMPORT,Th=nn.RETURN_TRUSTED_TYPE||!1,pg=nn.FORCE_BODY||!1,Cp=!1!==nn.SANITIZE_DOM,an=!1!==nn.KEEP_CONTENT,Ut=nn.IN_PLACE||!1,qc=nn.ALLOWED_URI_REGEXP||qc,Fi=nn.NAMESPACE||Ri,(ki=nn.SAFE_FOR_TEMPLATES||!1)&&(uu=!1),(kh=nn.RETURN_DOM_FRAGMENT||!1)&&(nd=!0),(Gt="USE_PROFILES"in nn&&nn.USE_PROFILES)&&(ii=co({},[].concat(cl(dC))),Xs=[],!0===Gt.html&&(co(ii,cC),co(Xs,uC)),!0===Gt.svg&&(co(ii,O0),co(Xs,F0),co(Xs,xm)),!0===Gt.svgFilters&&(co(ii,A0),co(Xs,F0),co(Xs,xm)),!0===Gt.mathMl&&(co(ii,R0),co(Xs,hC),co(Xs,xm))),nn.ADD_TAGS&&(ii===oi&&(ii=Ud(ii)),co(ii,nn.ADD_TAGS)),nn.ADD_ATTR&&(Xs===gg&&(Xs=Ud(Xs)),co(Xs,nn.ADD_ATTR)),nn.ADD_URI_SAFE_ATTR&&co(dn,nn.ADD_URI_SAFE_ATTR),nn.FORBID_CONTENTS&&(tt===lt&&(tt=Ud(tt)),co(tt,nn.FORBID_CONTENTS)),an&&(ii["#text"]=!0),td&&co(ii,["html","head","body"]),ii.table&&(co(ii,["tbody"]),delete Ua.tbody),Ar&&Ar(nn),oo=nn)},Ko=co({},["mi","mo","mn","ms","mtext"]),oa=co({},["foreignobject","desc","title","annotation-xml"]),Ho=co({},O0);co(Ho,A0),co(Ho,ry);var ws=co({},R0);co(ws,ay);var hu=function(nn){var Un=on(nn);(!Un||!Un.tagName)&&(Un={namespaceURI:Ri,tagName:"template"});var xi=zd(nn.tagName),zo=zd(Un.tagName);if(nn.namespaceURI===Gn)return Un.namespaceURI===Ri?"svg"===xi:Un.namespaceURI===ti?"svg"===xi&&("annotation-xml"===zo||Ko[zo]):Boolean(Ho[xi]);if(nn.namespaceURI===ti)return Un.namespaceURI===Ri?"math"===xi:Un.namespaceURI===Gn?"math"===xi&&oa[zo]:Boolean(ws[xi]);if(nn.namespaceURI===Ri){if(Un.namespaceURI===Gn&&!oa[zo]||Un.namespaceURI===ti&&!Ko[zo])return!1;var yr=co({},["title","style","font","a","script"]);return!ws[xi]&&(yr[xi]||!Ho[xi])}return!1},$r=function(nn){Af(t.removed,{element:nn});try{nn.parentNode.removeChild(nn)}catch{try{nn.outerHTML=Ai}catch{nn.remove()}}},ja=function(nn,Un){try{Af(t.removed,{attribute:Un.getAttributeNode(nn),from:Un})}catch{Af(t.removed,{attribute:null,from:Un})}if(Un.removeAttribute(nn),"is"===nn&&!Xs[nn])if(nd||kh)try{$r(Un)}catch{}else try{Un.setAttribute(nn,"")}catch{}},id=function(nn){var Un=void 0,xi=void 0;if(pg)nn="<remove></remove>"+nn;else{var zo=aC(nn,/^[\r\n\t ]+/);xi=zo&&zo[0]}var yr=Pn?Pn.createHTML(nn):nn;if(Fi===Ri)try{Un=(new Ee).parseFromString(yr,"text/html")}catch{}if(!Un||!Un.documentElement){Un=as.createDocument(Fi,"template",null);try{Un.documentElement.innerHTML=Lo?"":yr}catch{}}var Sr=Un.body||Un.documentElement;return nn&&xi&&Sr.insertBefore(n.createTextNode(xi),Sr.childNodes[0]||null),Fi===Ri?wa.call(Un,td?"html":"body")[0]:td?Un.documentElement:Sr},ic=function(nn){return Ws.call(nn.ownerDocument||nn,nn,V.SHOW_ELEMENT|V.SHOW_COMMENT|V.SHOW_TEXT,null,!1)},Ph=function(nn){return!(nn instanceof ne||nn instanceof be||"string"==typeof nn.nodeName&&"string"==typeof nn.textContent&&"function"==typeof nn.removeChild&&nn.attributes instanceof U&&"function"==typeof nn.removeAttribute&&"function"==typeof nn.setAttribute&&"string"==typeof nn.namespaceURI&&"function"==typeof nn.insertBefore)},od=function(nn){return"object"===(void 0===d?"undefined":Rf(d))?nn instanceof d:nn&&"object"===(void 0===nn?"undefined":Rf(nn))&&"number"==typeof nn.nodeType&&"string"==typeof nn.nodeName},Ka=function(nn,Un,xi){!wr[nn]||ny(wr[nn],function(zo){zo.call(t,Un,xi,oo)})},_g=function(nn){var Un=void 0;if(Ka("beforeSanitizeElements",nn,null),Ph(nn)||aC(nn.nodeName,/[\u0080-\uFFFF]/))return $r(nn),!0;var xi=zd(nn.nodeName);if(Ka("uponSanitizeElement",nn,{tagName:xi,allowedTags:ii}),!od(nn.firstElementChild)&&(!od(nn.content)||!od(nn.content.firstElementChild))&&Gl(/<[/\w]/g,nn.innerHTML)&&Gl(/<[/\w]/g,nn.textContent)||"select"===xi&&Gl(/<template/i,nn.innerHTML))return $r(nn),!0;if(!ii[xi]||Ua[xi]){if(an&&!tt[xi]){var zo=on(nn)||nn.parentNode,yr=Xt(nn)||nn.childNodes;if(yr&&zo)for(var xr=yr.length-1;xr>=0;--xr)zo.insertBefore(Pt(yr[xr],!0),Ot(nn))}return $r(nn),!0}return nn instanceof p&&!hu(nn)||("noscript"===xi||"noembed"===xi)&&Gl(/<\/no(script|embed)/i,nn.innerHTML)?($r(nn),!0):(ki&&3===nn.nodeType&&(Un=Fc(Un=nn.textContent,za," "),Un=Fc(Un,Xc," "),nn.textContent!==Un&&(Af(t.removed,{element:nn.cloneNode()}),nn.textContent=Un)),Ka("afterSanitizeElements",nn,null),!1)},bp=function(nn,Un,xi){if(Cp&&("id"===Un||"name"===Un)&&(xi in n||xi in hi))return!1;if((!uu||ed[Un]||!Gl(cu,Un))&&(!Ih||!Gl(du,Un))){if(!Xs[Un]||ed[Un])return!1;if(!dn[Un]&&!Gl(qc,Fc(xi,pp,""))&&("src"!==Un&&"xlink:href"!==Un&&"href"!==Un||"script"===nn||0!==iy(xi,"data:")||!It[nn])&&(!Cl||Gl(mp,Fc(xi,pp,"")))&&xi)return!1}return!0},$v=function(nn){var Un=void 0,xi=void 0,zo=void 0,yr=void 0;Ka("beforeSanitizeAttributes",nn,null);var Sr=nn.attributes;if(Sr){var xr={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Xs};for(yr=Sr.length;yr--;){var Cg=(Un=Sr[yr]).name,Zv=Un.namespaceURI;if(xi=oy(Un.value),zo=zd(Cg),xr.attrName=zo,xr.attrValue=xi,xr.keepAttr=!0,xr.forceKeepAttr=void 0,Ka("uponSanitizeAttribute",nn,xr),xi=xr.attrValue,!xr.forceKeepAttr&&(ja(Cg,nn),xr.keepAttr)){if(Gl(/\/>/i,xi)){ja(Cg,nn);continue}ki&&(xi=Fc(xi,za," "),xi=Fc(xi,Xc," "));var bI=nn.nodeName.toLowerCase();if(bp(bI,zo,xi))try{Zv?nn.setAttributeNS(Zv,Cg,xi):nn.setAttribute(Cg,xi),rC(t.removed)}catch{}}}Ka("afterSanitizeAttributes",nn,null)}},CI=function Hi(nn){var Un=void 0,xi=ic(nn);for(Ka("beforeSanitizeShadowDOM",nn,null);Un=xi.nextNode();)Ka("uponSanitizeShadowNode",Un,null),!_g(Un)&&(Un.content instanceof o&&Hi(Un.content),$v(Un));Ka("afterSanitizeShadowDOM",nn,null)};return t.sanitize=function(Hi,nn){var Un=void 0,xi=void 0,zo=void 0,yr=void 0,Sr=void 0;if((Lo=!Hi)&&(Hi="\x3c!--\x3e"),"string"!=typeof Hi&&!od(Hi)){if("function"!=typeof Hi.toString)throw lC("toString is not a function");if("string"!=typeof(Hi=Hi.toString()))throw lC("dirty is not a string, aborting")}if(!t.isSupported){if("object"===Rf(a.toStaticHTML)||"function"==typeof a.toStaticHTML){if("string"==typeof Hi)return a.toStaticHTML(Hi);if(od(Hi))return a.toStaticHTML(Hi.outerHTML)}return Hi}if(mg||ls(nn),t.removed=[],"string"==typeof Hi&&(Ut=!1),!Ut)if(Hi instanceof d)1===(xi=(Un=id("\x3c!----\x3e")).ownerDocument.importNode(Hi,!0)).nodeType&&"BODY"===xi.nodeName||"HTML"===xi.nodeName?Un=xi:Un.appendChild(xi);else{if(!nd&&!ki&&!td&&-1===Hi.indexOf("<"))return Pn&&Th?Pn.createHTML(Hi):Hi;if(!(Un=id(Hi)))return nd?null:Ai}Un&&pg&&$r(Un.firstChild);for(var xr=ic(Ut?Hi:Un);zo=xr.nextNode();)3===zo.nodeType&&zo===yr||_g(zo)||(zo.content instanceof o&&CI(zo.content),$v(zo),yr=zo);if(yr=null,Ut)return Hi;if(nd){if(kh)for(Sr=Vs.call(Un.ownerDocument);Un.firstChild;)Sr.appendChild(Un.firstChild);else Sr=Un;return _p&&(Sr=Ha.call(e,Sr,!0)),Sr}var oc=td?Un.outerHTML:Un.innerHTML;return ki&&(oc=Fc(oc,za," "),oc=Fc(oc,Xc," ")),Pn&&Th?Pn.createHTML(oc):oc},t.setConfig=function(Hi){ls(Hi),mg=!0},t.clearConfig=function(){oo=null,mg=!1},t.isValidAttribute=function(Hi,nn,Un){oo||ls({});var xi=zd(Hi),zo=zd(nn);return bp(xi,zo,Un)},t.addHook=function(Hi,nn){"function"==typeof nn&&(wr[Hi]=wr[Hi]||[],Af(wr[Hi],nn))},t.removeHook=function(Hi){wr[Hi]&&rC(wr[Hi])},t.removeHooks=function(Hi){wr[Hi]&&(wr[Hi]=[])},t.removeAllHooks=function(){wr={}},t}();const _y=dl.sanitize,gC=dl.addHook,mC=dl.removeHook;var Ff=m(71172),pC=m(25662),Cy=m(2886),_C=m(42623);let CC={};!function(){function a(t,e){e(CC)}a.amd=!0,function(t,e){"object"==typeof exports?e(exports):a.amd?a(0,e):e((t="undefined"!=typeof globalThis?globalThis:t||self).marked={})}(this,function(t){function e(an,Ut){for(var Gt=0;Gt<Ut.length;Gt++){var tt=Ut[Gt];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(an,tt.key,tt)}}function s(an,Ut){(null==Ut||Ut>an.length)&&(Ut=an.length);for(var Gt=0,tt=new Array(Ut);Gt<Ut;Gt++)tt[Gt]=an[Gt];return tt}function d(an,Ut){var Gt="undefined"!=typeof Symbol&&an[Symbol.iterator]||an["@@iterator"];if(Gt)return(Gt=Gt.call(an)).next.bind(Gt);if(Array.isArray(an)||(Gt=function(an,Ut){if(an){if("string"==typeof an)return s(an,undefined);var Gt=Object.prototype.toString.call(an).slice(8,-1);if("Object"===Gt&&an.constructor&&(Gt=an.constructor.name),"Map"===Gt||"Set"===Gt)return Array.from(an);if("Arguments"===Gt||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Gt))return s(an,undefined)}}(an))||Ut&&an&&"number"==typeof an.length){Gt&&(an=Gt);var tt=0;return function(){return tt>=an.length?{done:!0}:{done:!1,value:an[tt++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}t.defaults={baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};var H=/[&<>"']/,U=/[&<>"']/g,ne=/[<>"']|&(?!#?\w+;)/,be=/[<>"']|&(?!#?\w+;)/g,Ee={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ke=function(Ut){return Ee[Ut]};function ct(an,Ut){if(Ut){if(H.test(an))return an.replace(U,Ke)}else if(ne.test(an))return an.replace(be,Ke);return an}var Pt=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function Ot(an){return an.replace(Pt,function(Ut,Gt){return"colon"===(Gt=Gt.toLowerCase())?":":"#"===Gt.charAt(0)?"x"===Gt.charAt(1)?String.fromCharCode(parseInt(Gt.substring(2),16)):String.fromCharCode(+Gt.substring(1)):""})}var Xt=/(^|[^\[])\^/g;function on(an,Ut){an=an.source||an,Ut=Ut||"";var Gt={replace:function(lt,It){return It=(It=It.source||It).replace(Xt,"$1"),an=an.replace(lt,It),Gt},getRegex:function(){return new RegExp(an,Ut)}};return Gt}var Wn=/[^\w:]/g,Pn=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Ai(an,Ut,Gt){if(an){var tt;try{tt=decodeURIComponent(Ot(Gt)).replace(Wn,"").toLowerCase()}catch{return null}if(0===tt.indexOf("javascript:")||0===tt.indexOf("vbscript:")||0===tt.indexOf("data:"))return null}Ut&&!Pn.test(Gt)&&(Gt=function(an,Ut){Si[" "+an]||(Si[" "+an]=as.test(an)?an+"/":za(an,"/",!0));var Gt=-1===(an=Si[" "+an]).indexOf(":");return"//"===Ut.substring(0,2)?Gt?Ut:an.replace(Ws,"$1")+Ut:"/"===Ut.charAt(0)?Gt?Ut:an.replace(Vs,"$1")+Ut:an+Ut}(Ut,Gt));try{Gt=encodeURI(Gt).replace(/%25/g,"%")}catch{return null}return Gt}var Si={},as=/^[^:]+:\/*[^/]*$/,Ws=/^([^:]+:)[\s\S]*$/,Vs=/^([^:]+:\/*[^/]*)[\s\S]*$/,Ha={exec:function(){}};function cr(an){for(var Gt,tt,Ut=1;Ut<arguments.length;Ut++)for(tt in Gt=arguments[Ut])Object.prototype.hasOwnProperty.call(Gt,tt)&&(an[tt]=Gt[tt]);return an}function wr(an,Ut){var tt=an.replace(/\|/g,function(It,vt,dn){for(var bn=!1,ti=vt;--ti>=0&&"\\"===dn[ti];)bn=!bn;return bn?"|":" |"}).split(/ \|/),lt=0;if(tt[0].trim()||tt.shift(),tt[tt.length-1].trim()||tt.pop(),tt.length>Ut)tt.splice(Ut);else for(;tt.length<Ut;)tt.push("");for(;lt<tt.length;lt++)tt[lt]=tt[lt].trim().replace(/\\\|/g,"|");return tt}function za(an,Ut,Gt){var tt=an.length;if(0===tt)return"";for(var lt=0;lt<tt;){var It=an.charAt(tt-lt-1);if(It!==Ut||Gt){if(It===Ut||!Gt)break;lt++}else lt++}return an.substr(0,tt-lt)}function cu(an){an&&an.sanitize&&!an.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function du(an,Ut){if(Ut<1)return"";for(var Gt="";Ut>1;)1&Ut&&(Gt+=an),Ut>>=1,an+=an;return Gt+an}function mp(an,Ut,Gt,tt){var lt=Ut.href,It=Ut.title?ct(Ut.title):null,vt=an[1].replace(/\\([\[\]])/g,"$1");if("!"!==an[0].charAt(0)){tt.state.inLink=!0;var dn={type:"link",raw:Gt,href:lt,title:It,text:vt,tokens:tt.inlineTokens(vt,[])};return tt.state.inLink=!1,dn}return{type:"image",raw:Gt,href:lt,title:It,text:ct(vt)}}var qc=function(){function an(Gt){this.options=Gt||t.defaults}var Ut=an.prototype;return Ut.space=function(tt){var lt=this.rules.block.newline.exec(tt);if(lt&&lt[0].length>0)return{type:"space",raw:lt[0]}},Ut.code=function(tt){var lt=this.rules.block.code.exec(tt);if(lt){var It=lt[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:lt[0],codeBlockStyle:"indented",text:this.options.pedantic?It:za(It,"\n")}}},Ut.fences=function(tt){var lt=this.rules.block.fences.exec(tt);if(lt){var It=lt[0],vt=function(an,Ut){var Gt=an.match(/^(\s+)(?:```)/);if(null===Gt)return Ut;var tt=Gt[1];return Ut.split("\n").map(function(lt){var It=lt.match(/^\s+/);return null===It?lt:It[0].length>=tt.length?lt.slice(tt.length):lt}).join("\n")}(It,lt[3]||"");return{type:"code",raw:It,lang:lt[2]?lt[2].trim():lt[2],text:vt}}},Ut.heading=function(tt){var lt=this.rules.block.heading.exec(tt);if(lt){var It=lt[2].trim();if(/#$/.test(It)){var vt=za(It,"#");(this.options.pedantic||!vt||/ $/.test(vt))&&(It=vt.trim())}var dn={type:"heading",raw:lt[0],depth:lt[1].length,text:It,tokens:[]};return this.lexer.inline(dn.text,dn.tokens),dn}},Ut.hr=function(tt){var lt=this.rules.block.hr.exec(tt);if(lt)return{type:"hr",raw:lt[0]}},Ut.blockquote=function(tt){var lt=this.rules.block.blockquote.exec(tt);if(lt){var It=lt[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:lt[0],tokens:this.lexer.blockTokens(It,[]),text:It}}},Ut.list=function(tt){var lt=this.rules.block.list.exec(tt);if(lt){var It,vt,dn,bn,ti,Gn,Ri,Fi,Lo,oo,hi,ls,Ko=lt[1].trim(),oa=Ko.length>1,Ho={type:"list",raw:"",ordered:oa,start:oa?+Ko.slice(0,-1):"",loose:!1,items:[]};Ko=oa?"\\d{1,9}\\"+Ko.slice(-1):"\\"+Ko,this.options.pedantic&&(Ko=oa?Ko:"[*+-]");for(var ws=new RegExp("^( {0,3}"+Ko+")((?: [^\\n]*)?(?:\\n|$))");tt&&(ls=!1,(lt=ws.exec(tt))&&!this.rules.block.hr.test(tt));){if(tt=tt.substring((It=lt[0]).length),Fi=lt[2].split("\n",1)[0],Lo=tt.split("\n",1)[0],this.options.pedantic?(bn=2,hi=Fi.trimLeft()):(bn=lt[2].search(/[^ ]/),hi=Fi.slice(bn=bn>4?1:bn),bn+=lt[1].length),Gn=!1,!Fi&&/^ *$/.test(Lo)&&(It+=Lo+"\n",tt=tt.substring(Lo.length+1),ls=!0),!ls)for(var hu=new RegExp("^ {0,"+Math.min(3,bn-1)+"}(?:[*+-]|\\d{1,9}[.)])");tt&&(Fi=oo=tt.split("\n",1)[0],this.options.pedantic&&(Fi=Fi.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!hu.test(Fi));){if(Fi.search(/[^ ]/)>=bn||!Fi.trim())hi+="\n"+Fi.slice(bn);else{if(Gn)break;hi+="\n"+Fi}!Gn&&!Fi.trim()&&(Gn=!0),It+=oo+"\n",tt=tt.substring(oo.length+1)}Ho.loose||(Ri?Ho.loose=!0:/\n *\n *$/.test(It)&&(Ri=!0)),this.options.gfm&&(vt=/^\[[ xX]\] /.exec(hi))&&(dn="[ ] "!==vt[0],hi=hi.replace(/^\[[ xX]\] +/,"")),Ho.items.push({type:"list_item",raw:It,task:!!vt,checked:dn,loose:!1,text:hi}),Ho.raw+=It}Ho.items[Ho.items.length-1].raw=It.trimRight(),Ho.items[Ho.items.length-1].text=hi.trimRight(),Ho.raw=Ho.raw.trimRight();var $r=Ho.items.length;for(ti=0;ti<$r;ti++){this.lexer.state.top=!1,Ho.items[ti].tokens=this.lexer.blockTokens(Ho.items[ti].text,[]);var ja=Ho.items[ti].tokens.filter(function(ic){return"space"===ic.type}),id=ja.every(function(ic){for(var _g,od=0,Ka=d(ic.raw.split(""));!(_g=Ka()).done;)if("\n"===_g.value&&(od+=1),od>1)return!0;return!1});!Ho.loose&&ja.length&&id&&(Ho.loose=!0,Ho.items[ti].loose=!0)}return Ho}},Ut.html=function(tt){var lt=this.rules.block.html.exec(tt);if(lt){var It={type:"html",raw:lt[0],pre:!this.options.sanitizer&&("pre"===lt[1]||"script"===lt[1]||"style"===lt[1]),text:lt[0]};return this.options.sanitize&&(It.type="paragraph",It.text=this.options.sanitizer?this.options.sanitizer(lt[0]):ct(lt[0]),It.tokens=[],this.lexer.inline(It.text,It.tokens)),It}},Ut.def=function(tt){var lt=this.rules.block.def.exec(tt);if(lt)return lt[3]&&(lt[3]=lt[3].substring(1,lt[3].length-1)),{type:"def",tag:lt[1].toLowerCase().replace(/\s+/g," "),raw:lt[0],href:lt[2],title:lt[3]}},Ut.table=function(tt){var lt=this.rules.block.table.exec(tt);if(lt){var It={type:"table",header:wr(lt[1]).map(function(Ri){return{text:Ri}}),align:lt[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:lt[3]?lt[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(It.header.length===It.align.length){It.raw=lt[0];var dn,bn,ti,Gn,vt=It.align.length;for(dn=0;dn<vt;dn++)It.align[dn]=/^ *-+: *$/.test(It.align[dn])?"right":/^ *:-+: *$/.test(It.align[dn])?"center":/^ *:-+ *$/.test(It.align[dn])?"left":null;for(vt=It.rows.length,dn=0;dn<vt;dn++)It.rows[dn]=wr(It.rows[dn],It.header.length).map(function(Ri){return{text:Ri}});for(vt=It.header.length,bn=0;bn<vt;bn++)It.header[bn].tokens=[],this.lexer.inlineTokens(It.header[bn].text,It.header[bn].tokens);for(vt=It.rows.length,bn=0;bn<vt;bn++)for(Gn=It.rows[bn],ti=0;ti<Gn.length;ti++)Gn[ti].tokens=[],this.lexer.inlineTokens(Gn[ti].text,Gn[ti].tokens);return It}}},Ut.lheading=function(tt){var lt=this.rules.block.lheading.exec(tt);if(lt){var It={type:"heading",raw:lt[0],depth:"="===lt[2].charAt(0)?1:2,text:lt[1],tokens:[]};return this.lexer.inline(It.text,It.tokens),It}},Ut.paragraph=function(tt){var lt=this.rules.block.paragraph.exec(tt);if(lt){var It={type:"paragraph",raw:lt[0],text:"\n"===lt[1].charAt(lt[1].length-1)?lt[1].slice(0,-1):lt[1],tokens:[]};return this.lexer.inline(It.text,It.tokens),It}},Ut.text=function(tt){var lt=this.rules.block.text.exec(tt);if(lt){var It={type:"text",raw:lt[0],text:lt[0],tokens:[]};return this.lexer.inline(It.text,It.tokens),It}},Ut.escape=function(tt){var lt=this.rules.inline.escape.exec(tt);if(lt)return{type:"escape",raw:lt[0],text:ct(lt[1])}},Ut.tag=function(tt){var lt=this.rules.inline.tag.exec(tt);if(lt)return!this.lexer.state.inLink&&/^<a /i.test(lt[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(lt[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(lt[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(lt[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:lt[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(lt[0]):ct(lt[0]):lt[0]}},Ut.link=function(tt){var lt=this.rules.inline.link.exec(tt);if(lt){var It=lt[2].trim();if(!this.options.pedantic&&/^</.test(It)){if(!/>$/.test(It))return;var vt=za(It.slice(0,-1),"\\");if((It.length-vt.length)%2==0)return}else{var dn=function(an,Ut){if(-1===an.indexOf("()"[1]))return-1;for(var Gt=an.length,tt=0,lt=0;lt<Gt;lt++)if("\\"===an[lt])lt++;else if(an[lt]==="()"[0])tt++;else if(an[lt]==="()"[1]&&--tt<0)return lt;return-1}(lt[2]);if(dn>-1){var ti=(0===lt[0].indexOf("!")?5:4)+lt[1].length+dn;lt[2]=lt[2].substring(0,dn),lt[0]=lt[0].substring(0,ti).trim(),lt[3]=""}}var Gn=lt[2],Ri="";if(this.options.pedantic){var Fi=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Gn);Fi&&(Gn=Fi[1],Ri=Fi[3])}else Ri=lt[3]?lt[3].slice(1,-1):"";return Gn=Gn.trim(),/^</.test(Gn)&&(Gn=this.options.pedantic&&!/>$/.test(It)?Gn.slice(1):Gn.slice(1,-1)),mp(lt,{href:Gn&&Gn.replace(this.rules.inline._escapes,"$1"),title:Ri&&Ri.replace(this.rules.inline._escapes,"$1")},lt[0],this.lexer)}},Ut.reflink=function(tt,lt){var It;if((It=this.rules.inline.reflink.exec(tt))||(It=this.rules.inline.nolink.exec(tt))){var vt=(It[2]||It[1]).replace(/\s+/g," ");if(!(vt=lt[vt.toLowerCase()])||!vt.href){var dn=It[0].charAt(0);return{type:"text",raw:dn,text:dn}}return mp(It,vt,It[0],this.lexer)}},Ut.emStrong=function(tt,lt,It){void 0===It&&(It="");var vt=this.rules.inline.emStrong.lDelim.exec(tt);if(vt&&(!vt[3]||!It.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var dn=vt[1]||vt[2]||"";if(!dn||dn&&(""===It||this.rules.inline.punctuation.exec(It))){var ti,Gn,bn=vt[0].length-1,Ri=bn,Fi=0,Lo="*"===vt[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Lo.lastIndex=0,lt=lt.slice(-1*tt.length+bn);null!=(vt=Lo.exec(lt));)if(ti=vt[1]||vt[2]||vt[3]||vt[4]||vt[5]||vt[6]){if(Gn=ti.length,vt[3]||vt[4]){Ri+=Gn;continue}if((vt[5]||vt[6])&&bn%3&&!((bn+Gn)%3)){Fi+=Gn;continue}if(!((Ri-=Gn)>0)){if(Gn=Math.min(Gn,Gn+Ri+Fi),Math.min(bn,Gn)%2){var oo=tt.slice(1,bn+vt.index+Gn);return{type:"em",raw:tt.slice(0,bn+vt.index+Gn+1),text:oo,tokens:this.lexer.inlineTokens(oo,[])}}var hi=tt.slice(2,bn+vt.index+Gn-1);return{type:"strong",raw:tt.slice(0,bn+vt.index+Gn+1),text:hi,tokens:this.lexer.inlineTokens(hi,[])}}}}}},Ut.codespan=function(tt){var lt=this.rules.inline.code.exec(tt);if(lt){var It=lt[2].replace(/\n/g," "),vt=/[^ ]/.test(It),dn=/^ /.test(It)&&/ $/.test(It);return vt&&dn&&(It=It.substring(1,It.length-1)),It=ct(It,!0),{type:"codespan",raw:lt[0],text:It}}},Ut.br=function(tt){var lt=this.rules.inline.br.exec(tt);if(lt)return{type:"br",raw:lt[0]}},Ut.del=function(tt){var lt=this.rules.inline.del.exec(tt);if(lt)return{type:"del",raw:lt[0],text:lt[2],tokens:this.lexer.inlineTokens(lt[2],[])}},Ut.autolink=function(tt,lt){var vt,dn,It=this.rules.inline.autolink.exec(tt);if(It)return dn="@"===It[2]?"mailto:"+(vt=ct(this.options.mangle?lt(It[1]):It[1])):vt=ct(It[1]),{type:"link",raw:It[0],text:vt,href:dn,tokens:[{type:"text",raw:vt,text:vt}]}},Ut.url=function(tt,lt){var It;if(It=this.rules.inline.url.exec(tt)){var vt,dn;if("@"===It[2])dn="mailto:"+(vt=ct(this.options.mangle?lt(It[0]):It[0]));else{var bn;do{bn=It[0],It[0]=this.rules.inline._backpedal.exec(It[0])[0]}while(bn!==It[0]);vt=ct(It[0]),dn="www."===It[1]?"http://"+vt:vt}return{type:"link",raw:It[0],text:vt,href:dn,tokens:[{type:"text",raw:vt,text:vt}]}}},Ut.inlineText=function(tt,lt){var vt,It=this.rules.inline.text.exec(tt);if(It)return vt=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(It[0]):ct(It[0]):It[0]:ct(this.options.smartypants?lt(It[0]):It[0]),{type:"text",raw:It[0],text:vt}},an}(),ii={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Ha,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};ii.def=on(ii.def).replace("label",ii._label).replace("title",ii._title).getRegex(),ii.bullet=/(?:[*+-]|\d{1,9}[.)])/,ii.listItemStart=on(/^( *)(bull) */).replace("bull",ii.bullet).getRegex(),ii.list=on(ii.list).replace(/bull/g,ii.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+ii.def.source+")").getRegex(),ii._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ii._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,ii.html=on(ii.html,"i").replace("comment",ii._comment).replace("tag",ii._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ii.paragraph=on(ii._paragraph).replace("hr",ii.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ii._tag).getRegex(),ii.blockquote=on(ii.blockquote).replace("paragraph",ii.paragraph).getRegex(),ii.normal=cr({},ii),ii.gfm=cr({},ii.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),ii.gfm.table=on(ii.gfm.table).replace("hr",ii.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ii._tag).getRegex(),ii.gfm.paragraph=on(ii._paragraph).replace("hr",ii.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",ii.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ii._tag).getRegex(),ii.pedantic=cr({},ii.normal,{html:on("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",ii._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ha,paragraph:on(ii.normal._paragraph).replace("hr",ii.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",ii.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var oi={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Ha,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Ha,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function Xs(an){return an.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function gg(an){var Gt,tt,Ut="",lt=an.length;for(Gt=0;Gt<lt;Gt++)tt=an.charCodeAt(Gt),Math.random()>.5&&(tt="x"+tt.toString(16)),Ut+="&#"+tt+";";return Ut}oi._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",oi.punctuation=on(oi.punctuation).replace(/punctuation/g,oi._punctuation).getRegex(),oi.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,oi.escapedEmSt=/\\\*|\\_/g,oi._comment=on(ii._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),oi.emStrong.lDelim=on(oi.emStrong.lDelim).replace(/punct/g,oi._punctuation).getRegex(),oi.emStrong.rDelimAst=on(oi.emStrong.rDelimAst,"g").replace(/punct/g,oi._punctuation).getRegex(),oi.emStrong.rDelimUnd=on(oi.emStrong.rDelimUnd,"g").replace(/punct/g,oi._punctuation).getRegex(),oi._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,oi._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,oi._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,oi.autolink=on(oi.autolink).replace("scheme",oi._scheme).replace("email",oi._email).getRegex(),oi._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,oi.tag=on(oi.tag).replace("comment",oi._comment).replace("attribute",oi._attribute).getRegex(),oi._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,oi._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,oi._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,oi.link=on(oi.link).replace("label",oi._label).replace("href",oi._href).replace("title",oi._title).getRegex(),oi.reflink=on(oi.reflink).replace("label",oi._label).replace("ref",ii._label).getRegex(),oi.nolink=on(oi.nolink).replace("ref",ii._label).getRegex(),oi.reflinkSearch=on(oi.reflinkSearch,"g").replace("reflink",oi.reflink).replace("nolink",oi.nolink).getRegex(),oi.normal=cr({},oi),oi.pedantic=cr({},oi.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:on(/^!?\[(label)\]\((.*?)\)/).replace("label",oi._label).getRegex(),reflink:on(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",oi._label).getRegex()}),oi.gfm=cr({},oi.normal,{escape:on(oi.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),oi.gfm.url=on(oi.gfm.url,"i").replace("email",oi.gfm._extended_email).getRegex(),oi.breaks=cr({},oi.gfm,{br:on(oi.br).replace("{2,}","*").getRegex(),text:on(oi.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var Ua=function(){function an(Gt){this.tokens=[],this.tokens.links=Object.create(null),this.options=Gt||t.defaults,this.options.tokenizer=this.options.tokenizer||new qc,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var tt={block:ii.normal,inline:oi.normal};this.options.pedantic?(tt.block=ii.pedantic,tt.inline=oi.pedantic):this.options.gfm&&(tt.block=ii.gfm,tt.inline=this.options.breaks?oi.breaks:oi.gfm),this.tokenizer.rules=tt}an.lex=function(tt,lt){return new an(lt).lex(tt)},an.lexInline=function(tt,lt){return new an(lt).inlineTokens(tt)};var Ut=an.prototype;return Ut.lex=function(tt){tt=tt.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(tt,this.tokens);for(var lt;lt=this.inlineQueue.shift();)this.inlineTokens(lt.src,lt.tokens);return this.tokens},Ut.blockTokens=function(tt,lt){var vt,dn,bn,ti,It=this;for(void 0===lt&&(lt=[]),this.options.pedantic&&(tt=tt.replace(/^ +$/gm,""));tt;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(Ri){return!!(vt=Ri.call({lexer:It},tt,lt))&&(tt=tt.substring(vt.raw.length),lt.push(vt),!0)}))){if(vt=this.tokenizer.space(tt)){tt=tt.substring(vt.raw.length),1===vt.raw.length&&lt.length>0?lt[lt.length-1].raw+="\n":lt.push(vt);continue}if(vt=this.tokenizer.code(tt)){tt=tt.substring(vt.raw.length),!(dn=lt[lt.length-1])||"paragraph"!==dn.type&&"text"!==dn.type?lt.push(vt):(dn.raw+="\n"+vt.raw,dn.text+="\n"+vt.text,this.inlineQueue[this.inlineQueue.length-1].src=dn.text);continue}if(vt=this.tokenizer.fences(tt)){tt=tt.substring(vt.raw.length),lt.push(vt);continue}if(vt=this.tokenizer.heading(tt)){tt=tt.substring(vt.raw.length),lt.push(vt);continue}if(vt=this.tokenizer.hr(tt)){tt=tt.substring(vt.raw.length),lt.push(vt);continue}if(vt=this.tokenizer.blockquote(tt)){tt=tt.substring(vt.raw.length),lt.push(vt);continue}if(vt=this.tokenizer.list(tt)){tt=tt.substring(vt.raw.length),lt.push(vt);continue}if(vt=this.tokenizer.html(tt)){tt=tt.substring(vt.raw.length),lt.push(vt);continue}if(vt=this.tokenizer.def(tt)){tt=tt.substring(vt.raw.length),!(dn=lt[lt.length-1])||"paragraph"!==dn.type&&"text"!==dn.type?this.tokens.links[vt.tag]||(this.tokens.links[vt.tag]={href:vt.href,title:vt.title}):(dn.raw+="\n"+vt.raw,dn.text+="\n"+vt.raw,this.inlineQueue[this.inlineQueue.length-1].src=dn.text);continue}if(vt=this.tokenizer.table(tt)){tt=tt.substring(vt.raw.length),lt.push(vt);continue}if(vt=this.tokenizer.lheading(tt)){tt=tt.substring(vt.raw.length),lt.push(vt);continue}if(bn=tt,this.options.extensions&&this.options.extensions.startBlock&&function(){var Ri=1/0,Fi=tt.slice(1),Lo=void 0;It.options.extensions.startBlock.forEach(function(oo){"number"==typeof(Lo=oo.call({lexer:this},Fi))&&Lo>=0&&(Ri=Math.min(Ri,Lo))}),Ri<1/0&&Ri>=0&&(bn=tt.substring(0,Ri+1))}(),this.state.top&&(vt=this.tokenizer.paragraph(bn))){dn=lt[lt.length-1],ti&&"paragraph"===dn.type?(dn.raw+="\n"+vt.raw,dn.text+="\n"+vt.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=dn.text):lt.push(vt),ti=bn.length!==tt.length,tt=tt.substring(vt.raw.length);continue}if(vt=this.tokenizer.text(tt)){tt=tt.substring(vt.raw.length),(dn=lt[lt.length-1])&&"text"===dn.type?(dn.raw+="\n"+vt.raw,dn.text+="\n"+vt.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=dn.text):lt.push(vt);continue}if(tt){var Gn="Infinite loop on byte: "+tt.charCodeAt(0);if(this.options.silent){console.error(Gn);break}throw new Error(Gn)}}return this.state.top=!0,lt},Ut.inline=function(tt,lt){this.inlineQueue.push({src:tt,tokens:lt})},Ut.inlineTokens=function(tt,lt){var It=this;void 0===lt&&(lt=[]);var vt,dn,bn,Gn,Ri,Fi,ti=tt;if(this.tokens.links){var Lo=Object.keys(this.tokens.links);if(Lo.length>0)for(;null!=(Gn=this.tokenizer.rules.inline.reflinkSearch.exec(ti));)Lo.includes(Gn[0].slice(Gn[0].lastIndexOf("[")+1,-1))&&(ti=ti.slice(0,Gn.index)+"["+du("a",Gn[0].length-2)+"]"+ti.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(Gn=this.tokenizer.rules.inline.blockSkip.exec(ti));)ti=ti.slice(0,Gn.index)+"["+du("a",Gn[0].length-2)+"]"+ti.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(Gn=this.tokenizer.rules.inline.escapedEmSt.exec(ti));)ti=ti.slice(0,Gn.index)+"++"+ti.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;tt;)if(Ri||(Fi=""),Ri=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(hi){return!!(vt=hi.call({lexer:It},tt,lt))&&(tt=tt.substring(vt.raw.length),lt.push(vt),!0)}))){if(vt=this.tokenizer.escape(tt)){tt=tt.substring(vt.raw.length),lt.push(vt);continue}if(vt=this.tokenizer.tag(tt)){tt=tt.substring(vt.raw.length),(dn=lt[lt.length-1])&&"text"===vt.type&&"text"===dn.type?(dn.raw+=vt.raw,dn.text+=vt.text):lt.push(vt);continue}if(vt=this.tokenizer.link(tt)){tt=tt.substring(vt.raw.length),lt.push(vt);continue}if(vt=this.tokenizer.reflink(tt,this.tokens.links)){tt=tt.substring(vt.raw.length),(dn=lt[lt.length-1])&&"text"===vt.type&&"text"===dn.type?(dn.raw+=vt.raw,dn.text+=vt.text):lt.push(vt);continue}if(vt=this.tokenizer.emStrong(tt,ti,Fi)){tt=tt.substring(vt.raw.length),lt.push(vt);continue}if(vt=this.tokenizer.codespan(tt)){tt=tt.substring(vt.raw.length),lt.push(vt);continue}if(vt=this.tokenizer.br(tt)){tt=tt.substring(vt.raw.length),lt.push(vt);continue}if(vt=this.tokenizer.del(tt)){tt=tt.substring(vt.raw.length),lt.push(vt);continue}if(vt=this.tokenizer.autolink(tt,gg)){tt=tt.substring(vt.raw.length),lt.push(vt);continue}if(!this.state.inLink&&(vt=this.tokenizer.url(tt,gg))){tt=tt.substring(vt.raw.length),lt.push(vt);continue}if(bn=tt,this.options.extensions&&this.options.extensions.startInline&&function(){var hi=1/0,ls=tt.slice(1),Ko=void 0;It.options.extensions.startInline.forEach(function(oa){"number"==typeof(Ko=oa.call({lexer:this},ls))&&Ko>=0&&(hi=Math.min(hi,Ko))}),hi<1/0&&hi>=0&&(bn=tt.substring(0,hi+1))}(),vt=this.tokenizer.inlineText(bn,Xs)){tt=tt.substring(vt.raw.length),"_"!==vt.raw.slice(-1)&&(Fi=vt.raw.slice(-1)),Ri=!0,(dn=lt[lt.length-1])&&"text"===dn.type?(dn.raw+=vt.raw,dn.text+=vt.text):lt.push(vt);continue}if(tt){var oo="Infinite loop on byte: "+tt.charCodeAt(0);if(this.options.silent){console.error(oo);break}throw new Error(oo)}}return lt},function(an,Ut,Gt){Gt&&e(an,Gt),Object.defineProperty(an,"prototype",{writable:!1})}(an,0,[{key:"rules",get:function(){return{block:ii,inline:oi}}}]),an}(),ed=function(){function an(Gt){this.options=Gt||t.defaults}var Ut=an.prototype;return Ut.code=function(tt,lt,It){var vt=(lt||"").match(/\S*/)[0];if(this.options.highlight){var dn=this.options.highlight(tt,vt);null!=dn&&dn!==tt&&(It=!0,tt=dn)}return tt=tt.replace(/\n$/,"")+"\n",vt?'<pre><code class="'+this.options.langPrefix+ct(vt,!0)+'">'+(It?tt:ct(tt,!0))+"</code></pre>\n":"<pre><code>"+(It?tt:ct(tt,!0))+"</code></pre>\n"},Ut.blockquote=function(tt){return"<blockquote>\n"+tt+"</blockquote>\n"},Ut.html=function(tt){return tt},Ut.heading=function(tt,lt,It,vt){return this.options.headerIds?"<h"+lt+' id="'+this.options.headerPrefix+vt.slug(It)+'">'+tt+"</h"+lt+">\n":"<h"+lt+">"+tt+"</h"+lt+">\n"},Ut.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},Ut.list=function(tt,lt,It){var vt=lt?"ol":"ul";return"<"+vt+(lt&&1!==It?' start="'+It+'"':"")+">\n"+tt+"</"+vt+">\n"},Ut.listitem=function(tt){return"<li>"+tt+"</li>\n"},Ut.checkbox=function(tt){return"<input "+(tt?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},Ut.paragraph=function(tt){return"<p>"+tt+"</p>\n"},Ut.table=function(tt,lt){return lt&&(lt="<tbody>"+lt+"</tbody>"),"<table>\n<thead>\n"+tt+"</thead>\n"+lt+"</table>\n"},Ut.tablerow=function(tt){return"<tr>\n"+tt+"</tr>\n"},Ut.tablecell=function(tt,lt){var It=lt.header?"th":"td";return(lt.align?"<"+It+' align="'+lt.align+'">':"<"+It+">")+tt+"</"+It+">\n"},Ut.strong=function(tt){return"<strong>"+tt+"</strong>"},Ut.em=function(tt){return"<em>"+tt+"</em>"},Ut.codespan=function(tt){return"<code>"+tt+"</code>"},Ut.br=function(){return this.options.xhtml?"<br/>":"<br>"},Ut.del=function(tt){return"<del>"+tt+"</del>"},Ut.link=function(tt,lt,It){if(null===(tt=Ai(this.options.sanitize,this.options.baseUrl,tt)))return It;var vt='<a href="'+ct(tt)+'"';return lt&&(vt+=' title="'+lt+'"'),vt+">"+It+"</a>"},Ut.image=function(tt,lt,It){if(null===(tt=Ai(this.options.sanitize,this.options.baseUrl,tt)))return It;var vt='<img src="'+tt+'" alt="'+It+'"';return lt&&(vt+=' title="'+lt+'"'),vt+(this.options.xhtml?"/>":">")},Ut.text=function(tt){return tt},an}(),Ih=function(){function an(){}var Ut=an.prototype;return Ut.strong=function(tt){return tt},Ut.em=function(tt){return tt},Ut.codespan=function(tt){return tt},Ut.del=function(tt){return tt},Ut.html=function(tt){return tt},Ut.text=function(tt){return tt},Ut.link=function(tt,lt,It){return""+It},Ut.image=function(tt,lt,It){return""+It},Ut.br=function(){return""},an}(),uu=function(){function an(){this.seen={}}var Ut=an.prototype;return Ut.serialize=function(tt){return tt.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},Ut.getNextSafeSlug=function(tt,lt){var It=tt,vt=0;if(this.seen.hasOwnProperty(It)){vt=this.seen[tt];do{It=tt+"-"+ ++vt}while(this.seen.hasOwnProperty(It))}return lt||(this.seen[tt]=vt,this.seen[It]=0),It},Ut.slug=function(tt,lt){void 0===lt&&(lt={});var It=this.serialize(tt);return this.getNextSafeSlug(It,lt.dryrun)},an}(),Cl=function(){function an(Gt){this.options=Gt||t.defaults,this.options.renderer=this.options.renderer||new ed,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Ih,this.slugger=new uu}an.parse=function(tt,lt){return new an(lt).parse(tt)},an.parseInline=function(tt,lt){return new an(lt).parseInline(tt)};var Ut=an.prototype;return Ut.parse=function(tt,lt){void 0===lt&&(lt=!0);var vt,dn,bn,ti,Gn,Ri,Fi,Lo,oo,hi,ls,Ko,oa,Ho,ws,hu,$r,ja,id,It="",ic=tt.length;for(vt=0;vt<ic;vt++)if(hi=tt[vt],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[hi.type]&&(!1!==(id=this.options.extensions.renderers[hi.type].call({parser:this},hi))||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(hi.type)))It+=id||"";else switch(hi.type){case"space":continue;case"hr":It+=this.renderer.hr();continue;case"heading":It+=this.renderer.heading(this.parseInline(hi.tokens),hi.depth,Ot(this.parseInline(hi.tokens,this.textRenderer)),this.slugger);continue;case"code":It+=this.renderer.code(hi.text,hi.lang,hi.escaped);continue;case"table":for(Lo="",Fi="",ti=hi.header.length,dn=0;dn<ti;dn++)Fi+=this.renderer.tablecell(this.parseInline(hi.header[dn].tokens),{header:!0,align:hi.align[dn]});for(Lo+=this.renderer.tablerow(Fi),oo="",ti=hi.rows.length,dn=0;dn<ti;dn++){for(Fi="",Gn=(Ri=hi.rows[dn]).length,bn=0;bn<Gn;bn++)Fi+=this.renderer.tablecell(this.parseInline(Ri[bn].tokens),{header:!1,align:hi.align[bn]});oo+=this.renderer.tablerow(Fi)}It+=this.renderer.table(Lo,oo);continue;case"blockquote":oo=this.parse(hi.tokens),It+=this.renderer.blockquote(oo);continue;case"list":for(ls=hi.ordered,Ko=hi.start,oa=hi.loose,ti=hi.items.length,oo="",dn=0;dn<ti;dn++)hu=(ws=hi.items[dn]).checked,$r=ws.task,Ho="",ws.task&&(ja=this.renderer.checkbox(hu),oa?ws.tokens.length>0&&"paragraph"===ws.tokens[0].type?(ws.tokens[0].text=ja+" "+ws.tokens[0].text,ws.tokens[0].tokens&&ws.tokens[0].tokens.length>0&&"text"===ws.tokens[0].tokens[0].type&&(ws.tokens[0].tokens[0].text=ja+" "+ws.tokens[0].tokens[0].text)):ws.tokens.unshift({type:"text",text:ja}):Ho+=ja),Ho+=this.parse(ws.tokens,oa),oo+=this.renderer.listitem(Ho,$r,hu);It+=this.renderer.list(oo,ls,Ko);continue;case"html":It+=this.renderer.html(hi.text);continue;case"paragraph":It+=this.renderer.paragraph(this.parseInline(hi.tokens));continue;case"text":for(oo=hi.tokens?this.parseInline(hi.tokens):hi.text;vt+1<ic&&"text"===tt[vt+1].type;)oo+="\n"+((hi=tt[++vt]).tokens?this.parseInline(hi.tokens):hi.text);It+=lt?this.renderer.paragraph(oo):oo;continue;default:var Ph='Token with "'+hi.type+'" type was not found.';if(this.options.silent)return void console.error(Ph);throw new Error(Ph)}return It},Ut.parseInline=function(tt,lt){lt=lt||this.renderer;var vt,dn,bn,It="",ti=tt.length;for(vt=0;vt<ti;vt++)if(dn=tt[vt],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[dn.type]&&(!1!==(bn=this.options.extensions.renderers[dn.type].call({parser:this},dn))||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(dn.type)))It+=bn||"";else switch(dn.type){case"escape":case"text":It+=lt.text(dn.text);break;case"html":It+=lt.html(dn.text);break;case"link":It+=lt.link(dn.href,dn.title,this.parseInline(dn.tokens,lt));break;case"image":It+=lt.image(dn.href,dn.title,dn.text);break;case"strong":It+=lt.strong(this.parseInline(dn.tokens,lt));break;case"em":It+=lt.em(this.parseInline(dn.tokens,lt));break;case"codespan":It+=lt.codespan(dn.text);break;case"br":It+=lt.br();break;case"del":It+=lt.del(this.parseInline(dn.tokens,lt));break;default:var Gn='Token with "'+dn.type+'" type was not found.';if(this.options.silent)return void console.error(Gn);throw new Error(Gn)}return It},an}();function ki(an,Ut,Gt){if(null==an)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof an)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(an)+", string expected");if("function"==typeof Ut&&(Gt=Ut,Ut=null),cu(Ut=cr({},ki.defaults,Ut||{})),Gt){var lt,tt=Ut.highlight;try{lt=Ua.lex(an,Ut)}catch(bn){return Gt(bn)}var It=function(ti){var Gn;if(!ti)try{Ut.walkTokens&&ki.walkTokens(lt,Ut.walkTokens),Gn=Cl.parse(lt,Ut)}catch(Ri){ti=Ri}return Ut.highlight=tt,ti?Gt(ti):Gt(null,Gn)};if(!tt||tt.length<3||(delete Ut.highlight,!lt.length))return It();var vt=0;return ki.walkTokens(lt,function(bn){"code"===bn.type&&(vt++,setTimeout(function(){tt(bn.text,bn.lang,function(ti,Gn){if(ti)return It(ti);null!=Gn&&Gn!==bn.text&&(bn.text=Gn,bn.escaped=!0),0==--vt&&It()})},0))}),void(0===vt&&It())}try{var dn=Ua.lex(an,Ut);return Ut.walkTokens&&ki.walkTokens(dn,Ut.walkTokens),Cl.parse(dn,Ut)}catch(bn){if(bn.message+="\nPlease report this to https://github.com/markedjs/marked.",Ut.silent)return"<p>An error occurred:</p><pre>"+ct(bn.message+"",!0)+"</pre>";throw bn}}ki.options=ki.setOptions=function(an){return cr(ki.defaults,an),function(an){t.defaults=an}(ki.defaults),ki},ki.getDefaults=p,ki.defaults=t.defaults,ki.use=function(){for(var an=arguments.length,Ut=new Array(an),Gt=0;Gt<an;Gt++)Ut[Gt]=arguments[Gt];var It,tt=cr.apply(void 0,[{}].concat(Ut)),lt=ki.defaults.extensions||{renderers:{},childTokens:{}};Ut.forEach(function(vt){if(vt.extensions&&(It=!0,vt.extensions.forEach(function(bn){if(!bn.name)throw new Error("extension name required");if(bn.renderer){var ti=lt.renderers?lt.renderers[bn.name]:null;lt.renderers[bn.name]=ti?function(){for(var Gn=arguments.length,Ri=new Array(Gn),Fi=0;Fi<Gn;Fi++)Ri[Fi]=arguments[Fi];var Lo=bn.renderer.apply(this,Ri);return!1===Lo&&(Lo=ti.apply(this,Ri)),Lo}:bn.renderer}if(bn.tokenizer){if(!bn.level||"block"!==bn.level&&"inline"!==bn.level)throw new Error("extension level must be 'block' or 'inline'");lt[bn.level]?lt[bn.level].unshift(bn.tokenizer):lt[bn.level]=[bn.tokenizer],bn.start&&("block"===bn.level?lt.startBlock?lt.startBlock.push(bn.start):lt.startBlock=[bn.start]:"inline"===bn.level&&(lt.startInline?lt.startInline.push(bn.start):lt.startInline=[bn.start]))}bn.childTokens&&(lt.childTokens[bn.name]=bn.childTokens)})),vt.renderer&&function(){var bn=ki.defaults.renderer||new ed,ti=function(Fi){var Lo=bn[Fi];bn[Fi]=function(){for(var oo=arguments.length,hi=new Array(oo),ls=0;ls<oo;ls++)hi[ls]=arguments[ls];var Ko=vt.renderer[Fi].apply(bn,hi);return!1===Ko&&(Ko=Lo.apply(bn,hi)),Ko}};for(var Gn in vt.renderer)ti(Gn);tt.renderer=bn}(),vt.tokenizer&&function(){var bn=ki.defaults.tokenizer||new qc,ti=function(Fi){var Lo=bn[Fi];bn[Fi]=function(){for(var oo=arguments.length,hi=new Array(oo),ls=0;ls<oo;ls++)hi[ls]=arguments[ls];var Ko=vt.tokenizer[Fi].apply(bn,hi);return!1===Ko&&(Ko=Lo.apply(bn,hi)),Ko}};for(var Gn in vt.tokenizer)ti(Gn);tt.tokenizer=bn}(),vt.walkTokens){var dn=ki.defaults.walkTokens;tt.walkTokens=function(bn){vt.walkTokens.call(this,bn),dn&&dn.call(this,bn)}}It&&(tt.extensions=lt),ki.setOptions(tt)})},ki.walkTokens=function(an,Ut){for(var lt,Gt=function(){var vt=lt.value;switch(Ut.call(ki,vt),vt.type){case"table":for(var bn,dn=d(vt.header);!(bn=dn()).done;)ki.walkTokens(bn.value.tokens,Ut);for(var Ri,Gn=d(vt.rows);!(Ri=Gn()).done;)for(var oo,Lo=d(Ri.value);!(oo=Lo()).done;)ki.walkTokens(oo.value.tokens,Ut);break;case"list":ki.walkTokens(vt.items,Ut);break;default:ki.defaults.extensions&&ki.defaults.extensions.childTokens&&ki.defaults.extensions.childTokens[vt.type]?ki.defaults.extensions.childTokens[vt.type].forEach(function(ls){ki.walkTokens(vt[ls],Ut)}):vt.tokens&&ki.walkTokens(vt.tokens,Ut)}},tt=d(an);!(lt=tt()).done;)Gt()},ki.parseInline=function(an,Ut){if(null==an)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof an)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(an)+", string expected");cu(Ut=cr({},ki.defaults,Ut||{}));try{var Gt=Ua.lexInline(an,Ut);return Ut.walkTokens&&ki.walkTokens(Gt,Ut.walkTokens),Cl.parseInline(Gt,Ut)}catch(tt){if(tt.message+="\nPlease report this to https://github.com/markedjs/marked.",Ut.silent)return"<p>An error occurred:</p><pre>"+ct(tt.message+"",!0)+"</pre>";throw tt}},ki.Parser=Cl,ki.parser=Cl.parse,ki.Renderer=ed,ki.TextRenderer=Ih,ki.Lexer=Ua,ki.lexer=Ua.lex,ki.Tokenizer=qc,ki.Slugger=uu,ki.parse=ki;var td=ki.options,mg=ki.setOptions,pg=ki.use,nd=ki.walkTokens,kh=ki.parseInline,_p=ki,Th=Cl.parse,Cp=Ua.lex;t.Lexer=Ua,t.Parser=Cl,t.Renderer=ed,t.Slugger=uu,t.TextRenderer=Ih,t.Tokenizer=qc,t.getDefaults=p,t.lexer=Cp,t.marked=ki,t.options=td,t.parse=_p,t.parseInline=kh,t.parser=Th,t.setOptions=mg,t.use=pg,t.walkTokens=nd,Object.defineProperty(t,"__esModule",{value:!0})})}();var bC=CC||exports,by=m(7272);function vy(a,t={},e={}){var n;const o=new Tt.SL;let s=!1;const d=o.add(new Zn.A),p=(0,pC.az)(t),V=function(Ot){let Xt;try{Xt=(0,by.Q)(decodeURIComponent(Ot))}catch{}return Xt?(Xt=(0,al.rs)(Xt,on=>{if(a.uris&&a.uris[on])return wo.o.revive(a.uris[on])}),encodeURIComponent(JSON.stringify(Xt))):Ot},H=function(Ot,Xt){let Wn=wo.o.revive(a.uris&&a.uris[Ot]);return Xt?Ot.startsWith(hs.lg.data+":")?Ot:(Wn||(Wn=wo.o.parse(Ot)),hs.Gi.asBrowserUri(Wn).toString(!0)):Wn&&wo.o.parse(Ot).toString()!==Wn.toString()?(Wn.query&&(Wn=Wn.with({query:V(Wn.query)})),Wn.toString()):Ot};let U;const ne=new Promise(Ot=>U=Ot),be=new bC.Renderer;if(be.image=(Ot,Xt,on)=>{let Wn=[],Pn=[];return Ot&&(({href:Ot,dimensions:Wn}=(0,Zo.v1)(Ot)),Pn.push(`src="${Ot}"`)),on&&Pn.push(`alt="${on}"`),Xt&&Pn.push(`title="${Xt}"`),Wn.length&&(Pn=Pn.concat(Wn)),"<img "+Pn.join(" ")+">"},be.link=(Ot,Xt,on)=>"string"!=typeof Ot?"":(Ot===on&&(on=(0,Zo.oR)(on)),Ot=H(Ot,!1),a.baseUri&&(Ot=B0(wo.o.from(a.baseUri),Ot)),Xt="string"==typeof Xt?(0,Zo.oR)(Xt):"",!(Ot=(0,Zo.oR)(Ot))||/^data:|javascript:/i.test(Ot)||/^command:/i.test(Ot)&&!a.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(Ot)?on:`<a data-href="${Ot=Ot.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}" title="${Xt||Ot}">${on}</a>`),be.paragraph=Ot=>`<p>${Ot}</p>`,t.codeBlockRenderer&&(be.code=(Ot,Xt)=>{const on=t.codeBlockRenderer(Xt??"",Ot),Wn=ui.a.nextId();return(0,Bn.eP)(Promise.all([on,ne]),d.token).then(Pn=>{var Ai;if(!s&&Pn){const Si=p.querySelector(`div[data-code="${Wn}"]`);Si&&st.mc(Si,Pn[0]),null===(Ai=t.asyncRenderCallback)||void 0===Ai||Ai.call(t)}}).catch(()=>{}),`<div class="code" data-code="${Wn}">${(0,jn.YU)(Ot)}</div>`}),t.actionHandler){const Ot=t.actionHandler.disposables.add(new Ff.Y(p,"click")),Xt=t.actionHandler.disposables.add(new Ff.Y(p,"auxclick"));t.actionHandler.disposables.add($n.ju.any(Ot.event,Xt.event)(on=>{const Wn=new Cy.n(on);if(!Wn.leftButton&&!Wn.middleButton)return;let Pn=Wn.target;if("A"===Pn.tagName||(Pn=Pn.parentElement,Pn&&"A"===Pn.tagName))try{let Ai=Pn.dataset.href;Ai&&(a.baseUri&&(Ai=B0(wo.o.from(a.baseUri),Ai)),t.actionHandler.callback(Ai,Wn))}catch(Ai){(0,Qn.dL)(Ai)}finally{Wn.preventDefault()}}))}a.supportHtml||(e.sanitizer=Ot=>(a.isTrusted?Ot.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?Ot:"",e.sanitize=!0,e.silent=!0),e.renderer=be;let Ee=null!==(n=a.value)&&void 0!==n?n:"";Ee.length>1e5&&(Ee=`${Ee.substr(0,1e5)}\u2026`),a.supportThemeIcons&&(Ee=(0,_C.f$)(Ee));let Ke=bC.parse(Ee,e);a.supportThemeIcons&&(Ke=(0,Bu.T)(Ke).map(Xt=>"string"==typeof Xt?Xt:Xt.outerHTML).join(""));const Pt=(new DOMParser).parseFromString(vC(a,Ke),"text/html");if(Pt.body.querySelectorAll("img").forEach(Ot=>{const Xt=Ot.getAttribute("src");if(Xt){let on=Xt;try{a.baseUri&&(on=B0(wo.o.from(a.baseUri),on))}catch{}Ot.src=H(on,!0)}}),p.innerHTML=vC(a,Pt.body.innerHTML),U(),t.asyncRenderCallback)for(const Ot of p.getElementsByTagName("img")){const Xt=o.add(st.nm(Ot,"load",()=>{Xt.dispose(),t.asyncRenderCallback()}))}return{element:p,dispose:()=>{s=!0,d.cancel(),o.dispose()}}}function B0(a,t){return/^\w[\w\d+.-]*:/.test(t)?t:a.path.endsWith("/")?(0,Oo.i3)(a,t).toString():(0,Oo.i3)((0,Oo.XX)(a),t).toString()}function vC(a,t){const{config:e,allowedSchemes:n}=function(a){const t=[hs.lg.http,hs.lg.https,hs.lg.mailto,hs.lg.data,hs.lg.file,hs.lg.vscodeFileResource,hs.lg.vscodeRemote,hs.lg.vscodeRemoteResource];return a.isTrusted&&t.push(hs.lg.command),{config:{ALLOWED_TAGS:["ul","li","p","b","i","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],ALLOWED_ATTR:["href","data-href","target","title","src","alt","class","style","data-code","width","height","align"],ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:t}}(a);gC("uponSanitizeAttribute",(s,d)=>{if("style"!==d.attrName&&"class"!==d.attrName);else{if("SPAN"===s.tagName){if("style"===d.attrName)return void(d.keepAttr=/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/.test(d.attrValue));if("class"===d.attrName)return void(d.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(d.attrValue))}d.keepAttr=!1}});const o=document.createElement("a");gC("afterSanitizeAttributes",s=>{for(const d of["href","src"])s.hasAttribute(d)&&(o.href=s.getAttribute(d),n.includes(o.protocol.replace(/:$/,""))||s.removeAttribute(d))});try{return _y(t,Object.assign(Object.assign({},e),{RETURN_TRUSTED_TYPE:!0}))}finally{mC("uponSanitizeAttribute"),mC("afterSanitizeAttributes")}}var V0,na=m(23813),yy=m(42137),W0=m(6809),wC=function(a,t){return function(e,n){t(e,n,a)}};let Ql=class aw{constructor(t,e,n){this._options=t,this._languageService=e,this._openerService=n,this._onDidRenderAsync=new $n.Q5,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(t,e,n){if(!t)return{element:document.createElement("span"),dispose:()=>{}};const o=new Tt.SL;return{element:o.add(vy(t,Object.assign(Object.assign({},this._getRenderOptions(t,o)),e),n)).element,dispose:()=>o.dispose()}}_getRenderOptions(t,e){return{codeBlockRenderer:(n,o)=>function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})}(this,void 0,void 0,function*(){var s,d,p;let V;n?V=this._languageService.getLanguageIdByLanguageName(n):this._options.editor&&(V=null===(s=this._options.editor.getModel())||void 0===s?void 0:s.getLanguageId()),V||(V=bf.bd);const H=yield(0,yy.C2)(this._languageService,o,V),U=document.createElement("span");if(U.innerHTML=null!==(p=null===(d=aw._ttpTokenizer)||void 0===d?void 0:d.createHTML(H))&&void 0!==p?p:H,this._options.editor){const ne=this._options.editor.getOption(44);(0,W0.N)(U,ne)}else this._options.codeBlockFontFamily&&(U.style.fontFamily=this._options.codeBlockFontFamily);return U}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:n=>this._openerService.open(n,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:t.isTrusted}).catch(Qn.dL),disposables:e}}}};Ql._ttpTokenizer=null===(V0=window.trustedTypes)||void 0===V0?void 0:V0.createPolicy("tokenizeToString",{createHTML:a=>a}),Ql=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([wC(1,or.O),wC(2,na.v4)],Ql);const yC=st.$;let H0=(()=>{class a extends Tt.JT{constructor(e,n,o=na.SW){super(),this._renderDisposeables=this._register(new Tt.SL),this._editor=e,this._isVisible=!1,this._messages=[],this._hover=this._register(new H1),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new Ql({editor:this._editor},n,o)),this._computer=new Ly(this._editor),this._hoverOperation=this._register(new z1(this._editor,this._computer)),this._register(this._hoverOperation.onResult(s=>{this._withResult(s.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(44)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return a.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(n=>this._editor.applyFontInfo(n))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(e){this._computer.lineNumber!==e&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=e,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(e){this._messages=e,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(e,n){this._renderDisposeables.clear();const o=document.createDocumentFragment();for(const s of n){const d=yC("div.hover-row.markdown-hover"),p=st.R3(d,yC("div.hover-contents")),V=this._renderDisposeables.add(this._markdownRenderer.render(s.value));p.appendChild(V.element),o.appendChild(d)}this._updateContents(o),this._showAt(e)}_updateContents(e){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._updateFont()}_showAt(e){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const n=this._editor.getLayoutInfo(),o=this._editor.getTopForLineNumber(e),s=this._editor.getScrollTop(),d=this._editor.getOption(59),V=o-s-(this._hover.containerDomNode.clientHeight-d)/2;this._hover.containerDomNode.style.left=`${n.glyphMarginLeft+n.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(V),0)}px`}}return a.ID="editor.contrib.modesGlyphHoverWidget",a})();class Ly{constructor(t){this._editor=t,this._lineNumber=-1}get lineNumber(){return this._lineNumber}set lineNumber(t){this._lineNumber=t}computeSync(){const t=o=>({value:o}),e=this._editor.getLineDecorations(this._lineNumber),n=[];if(!e)return n;for(const o of e){if(!o.options.glyphMarginClassName)continue;const s=o.options.glyphMarginHoverMessage;!s||(0,Zo.CP)(s)||n.push(...(0,ro._2)(s).map(t))}return n}}class Ey{constructor(t,e,n){this.provider=t,this.hover=e,this.ordinal=n}}function z0(a,t,e,n){const s=a.ordered(t).map((d,p)=>function(a,t,e,n,o){return function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})}(this,void 0,void 0,function*(){try{const s=yield Promise.resolve(a.provideHover(e,n,o));if(s&&function(a){return void 0!==a.range&&void 0!==a.contents&&a.contents&&a.contents.length>0}(s))return new Ey(a,s,t)}catch(s){(0,Qn.Cp)(s)}})}(d,p,t,e,n));return Bn.Aq.fromPromises(s).coalesce()}(0,Qe.sb)("_executeHoverProvider",(a,t,e)=>function(a,t,e,n){return z0(a,t,e,n).map(o=>o.hover).toPromise()}(a.get(Ui.p).hoverProvider,t,e,Zn.T.None));var Lm=function(a,t){return function(e,n){t(e,n,a)}};const SC=st.$;class Yl{constructor(t,e,n,o){this.owner=t,this.range=e,this.contents=n,this.ordinal=o}isValidForHoverAnchor(t){return 1===t.type&&this.range.startColumn<=t.range.startColumn&&this.range.endColumn>=t.range.endColumn}}let Dm=class{constructor(t,e,n,o,s){this._editor=t,this._languageService=e,this._openerService=n,this._configurationService=o,this._languageFeaturesService=s,this.hoverOrdinal=2}createLoadingMessage(t){return new Yl(this,t.range,[(new Zo.W5).appendText(De.N("modesContentHover.loading","Loading..."))],2e3)}computeSync(t,e){if(!this._editor.hasModel()||1!==t.type)return[];const n=this._editor.getModel(),o=t.range.startLineNumber,s=n.getLineMaxColumn(o),d=[];let p=1e3;const V=n.getLineLength(o),H=n.getLanguageIdAtPosition(t.range.startLineNumber,t.range.startColumn),U=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:H});"number"==typeof U&&V>=U&&d.push(new Yl(this,t.range,[{value:De.N("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],p++));for(const ne of e){const be=ne.range.startLineNumber===o?ne.range.startColumn:1,Ee=ne.range.endLineNumber===o?ne.range.endColumn:s,Ke=ne.options.hoverMessage;if(!Ke||(0,Zo.CP)(Ke))continue;const ct=new kt.e(t.range.startLineNumber,be,t.range.startLineNumber,Ee);d.push(new Yl(this,ct,(0,ro._2)(Ke),p++))}return d}computeAsync(t,e,n){if(!this._editor.hasModel()||1!==t.type)return Bn.Aq.EMPTY;const o=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(o))return Bn.Aq.EMPTY;const s=new di.L(t.range.startLineNumber,t.range.startColumn);return z0(this._languageFeaturesService.hoverProvider,o,s,n).filter(d=>!(0,Zo.CP)(d.hover.contents)).map(d=>{const p=d.hover.range?kt.e.lift(d.hover.range):t.range;return new Yl(this,p,d.hover.contents,d.ordinal)})}renderHoverParts(t,e){return xC(t,e,this._editor,this._languageService,this._openerService)}};function xC(a,t,e,n,o){t.sort((d,p)=>d.ordinal-p.ordinal);const s=new Tt.SL;for(const d of t)for(const p of d.contents){if((0,Zo.CP)(p))continue;const V=SC("div.hover-row.markdown-hover"),H=st.R3(V,SC("div.hover-contents")),U=s.add(new Ql({editor:e},n,o));s.add(U.onDidRenderAsync(()=>{H.className="hover-contents code-hover-contents",a.onContentsChanged()}));const ne=s.add(U.render(p));H.appendChild(ne.element),a.fragment.appendChild(V)}return s}Dm=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([Lm(1,or.O),Lm(2,na.v4),Lm(3,Jo.Ui),Lm(4,Ui.p)],Dm);var Ty=m(64757),LC=m(62253),DC=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Em=function(a,t){return function(e,n){t(e,n,a)}};class EC{constructor(t,e,n){this.marker=t,this.index=e,this.total=n}}let U0=class{constructor(t,e,n){this._markerService=e,this._configService=n,this._onDidChange=new $n.Q5,this.onDidChange=this._onDidChange.event,this._dispoables=new Tt.SL,this._markers=[],this._nextIdx=-1,wo.o.isUri(t)?this._resourceFilter=p=>p.toString()===t.toString():t&&(this._resourceFilter=t);const o=this._configService.getValue("problems.sortOrder"),s=(p,V)=>{let H=(0,jn.qu)(p.resource.toString(),V.resource.toString());return 0===H&&(H="position"===o?kt.e.compareRangesUsingStarts(p,V)||Yo.ZL.compare(p.severity,V.severity):Yo.ZL.compare(p.severity,V.severity)||kt.e.compareRangesUsingStarts(p,V)),H},d=()=>{this._markers=this._markerService.read({resource:wo.o.isUri(t)?t:void 0,severities:Yo.ZL.Error|Yo.ZL.Warning|Yo.ZL.Info}),"function"==typeof t&&(this._markers=this._markers.filter(p=>this._resourceFilter(p.resource))),this._markers.sort(s)};d(),this._dispoables.add(e.onMarkerChanged(p=>{(!this._resourceFilter||p.some(V=>this._resourceFilter(V)))&&(d(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(t){return!this._resourceFilter&&!t||!(!this._resourceFilter||!t)&&this._resourceFilter(t)}get selected(){const t=this._markers[this._nextIdx];return t&&new EC(t,this._nextIdx+1,this._markers.length)}_initIdx(t,e,n){let o=!1,s=this._markers.findIndex(d=>d.resource.toString()===t.uri.toString());s<0&&(s=(0,ro.ry)(this._markers,{resource:t.uri},(d,p)=>(0,jn.qu)(d.resource.toString(),p.resource.toString())),s<0&&(s=~s));for(let d=s;d<this._markers.length;d++){let p=kt.e.lift(this._markers[d]);if(p.isEmpty()){const V=t.getWordAtPosition(p.getStartPosition());V&&(p=new kt.e(p.startLineNumber,V.startColumn,p.startLineNumber,V.endColumn))}if(e&&(p.containsPosition(e)||e.isBeforeOrEqual(p.getStartPosition()))){this._nextIdx=d,o=!0;break}if(this._markers[d].resource.toString()!==t.uri.toString())break}o||(this._nextIdx=n?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(t,e,n){if(0===this._markers.length)return!1;let o=this._nextIdx;return-1===this._nextIdx?this._initIdx(e,n,t):t?this._nextIdx=(this._nextIdx+1)%this._markers.length:t||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),o!==this._nextIdx}find(t,e){let n=this._markers.findIndex(o=>o.resource.toString()===t.toString());if(!(n<0))for(;n<this._markers.length;n++)if(kt.e.containsPosition(this._markers[n],e))return new EC(this._markers[n],n+1,this._markers.length)}};U0=DC([Em(1,Yo.lT),Em(2,Jo.Ui)],U0);const MC=(0,Qi.yh)("IMarkerNavigationService");let j0=class{constructor(t,e){this._markerService=t,this._configService=e,this._provider=new LC.S}getMarkerList(t){for(let e of this._provider){const n=e.getMarkerList(t);if(n)return n}return new U0(t,this._markerService,this._configService)}};j0=DC([Em(0,Yo.lT),Em(1,Jo.Ui)],j0),(0,ol.z)(MC,j0,!0);var K0,rr=m(80974),Ju=(m(76149),m(13310));(function(a){a.className=function(e){switch(e){case Ju.Z.Ignore:return"severity-ignore "+Kn.lA.info.classNames;case Ju.Z.Info:return Kn.lA.info.classNames;case Ju.Z.Warning:return Kn.lA.warning.classNames;case Ju.Z.Error:return Kn.lA.error.classNames;default:return""}}})(K0||(K0={})),(0,A.Ic)((a,t)=>{const e=a.getColor(y.JpG);if(e){const s=Kn.lA.error.cssSelector;t.addRule(`\n\t\t\t.monaco-editor .zone-widget ${s},\n\t\t\t.markers-panel .marker-icon${s},\n\t\t\t.text-search-provider-messages .providerMessage ${s},\n\t\t\t.extensions-viewlet > .extensions ${s} {\n\t\t\t\tcolor: ${e};\n\t\t\t}\n\t\t`)}const n=a.getColor(y.BOY);if(n){const s=Kn.lA.warning.cssSelector;t.addRule(`\n\t\t\t.monaco-editor .zone-widget ${s},\n\t\t\t.markers-panel .marker-icon${s},\n\t\t\t.extensions-viewlet > .extensions ${s},\n\t\t\t.extension-editor ${s},\n\t\t\t.text-search-provider-messages .providerMessage ${s},\n\t\t\t.preferences-editor ${s} {\n\t\t\t\tcolor: ${n};\n\t\t\t}\n\t\t`)}const o=a.getColor(y.OLZ);if(o){const s=Kn.lA.info.cssSelector;t.addRule(`\n\t\t\t.monaco-editor .zone-widget ${s},\n\t\t\t.markers-panel .marker-icon${s},\n\t\t\t.extensions-viewlet > .extensions ${s},\n\t\t\t.text-search-provider-messages .providerMessage ${s},\n\t\t\t.extension-editor ${s} {\n\t\t\t\tcolor: ${o};\n\t\t\t}\n\t\t`)}});var Xu=function(a,t){return function(e,n){t(e,n,a)}};class Oy{constructor(t,e,n,o,s){this._openerService=o,this._labelService=s,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new Tt.SL,this._editor=e;const d=document.createElement("div");d.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),d.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),d.appendChild(this._relatedBlock),this._disposables.add(st.mu(this._relatedBlock,"click",p=>{p.preventDefault();const V=this._relatedDiagnostics.get(p.target);V&&n(V)})),this._scrollable=new sr.NB(d,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),t.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(p=>{d.style.left=`-${p.scrollLeft}px`,d.style.top=`-${p.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,Tt.B9)(this._disposables)}update(t){const{source:e,message:n,relatedInformation:o,code:s}=t;let d=((null==e?void 0:e.length)||0)+"()".length;s&&(d+="string"==typeof s?s.length:s.value.length);const p=(0,jn.uq)(n);this._lines=p.length,this._longestLineLength=0;for(const be of p)this._longestLineLength=Math.max(be.length+d,this._longestLineLength);st.PO(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(t)),this._editor.applyFontInfo(this._messageBlock);let V=this._messageBlock;for(const be of p)V=document.createElement("div"),V.innerText=be,""===be&&(V.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(V);if(e||s){const be=document.createElement("span");if(be.classList.add("details"),V.appendChild(be),e){const Ee=document.createElement("span");Ee.innerText=e,Ee.classList.add("source"),be.appendChild(Ee)}if(s)if("string"==typeof s){const Ee=document.createElement("span");Ee.innerText=`(${s})`,Ee.classList.add("code"),be.appendChild(Ee)}else this._codeLink=st.$("a.code-link"),this._codeLink.setAttribute("href",`${s.target.toString()}`),this._codeLink.onclick=Ke=>{this._openerService.open(s.target,{allowCommands:!0}),Ke.preventDefault(),Ke.stopPropagation()},st.R3(this._codeLink,st.$("span")).innerText=s.value,be.appendChild(this._codeLink)}if(st.PO(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,ro.Of)(o)){const be=this._relatedBlock.appendChild(document.createElement("div"));be.style.paddingTop=`${Math.floor(.66*this._editor.getOption(59))}px`,this._lines+=1;for(const Ee of o){let Ke=document.createElement("div"),ct=document.createElement("a");ct.classList.add("filename"),ct.innerText=`${rm(Ee.resource)}(${Ee.startLineNumber}, ${Ee.startColumn}): `,ct.title=this._labelService.getUriLabel(Ee.resource),this._relatedDiagnostics.set(ct,Ee);let Pt=document.createElement("span");Pt.innerText=Ee.message,Ke.appendChild(ct),Ke.appendChild(Pt),this._lines+=1,be.appendChild(Ke)}}const H=this._editor.getOption(44),U=Math.ceil(H.typicalFullwidthCharacterWidth*this._longestLineLength*.75);this._scrollable.setScrollDimensions({scrollWidth:U,scrollHeight:H.lineHeight*this._lines})}layout(t,e){this._scrollable.getDomNode().style.height=`${t}px`,this._scrollable.getDomNode().style.width=`${e}px`,this._scrollable.setScrollDimensions({width:e,height:t})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(t){let e="";switch(t.severity){case Yo.ZL.Error:e=De.N("Error","Error");break;case Yo.ZL.Warning:e=De.N("Warning","Warning");break;case Yo.ZL.Info:e=De.N("Info","Info");break;case Yo.ZL.Hint:e=De.N("Hint","Hint")}let n=De.N("marker aria","{0} at {1}. ",e,t.startLineNumber+":"+t.startColumn);const o=this._editor.getModel();return o&&t.startLineNumber<=o.getLineCount()&&t.startLineNumber>=1&&(n=`${o.getLineContent(t.startLineNumber)}, ${n}`),n}}let qu=class lw extends Ku{constructor(t,e,n,o,s,d,p){super(t,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},s),this._themeService=e,this._openerService=n,this._menuService=o,this._contextKeyService=d,this._labelService=p,this._callOnDispose=new Tt.SL,this._onDidSelectRelatedInformation=new $n.Q5,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=Yo.ZL.Warning,this._backgroundColor=ji.Il.white,this._applyTheme(e.getColorTheme()),this._callOnDispose.add(e.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(t){this._backgroundColor=t.getColor(By);let e=$0,n=Ay;this._severity===Yo.ZL.Warning?(e=Z0,n=Ry):this._severity===Yo.ZL.Info&&(e=G0,n=Fy);const o=t.getColor(e),s=t.getColor(n);this.style({arrowColor:o,frameColor:o,headerBackgroundColor:s,primaryHeadingColor:t.getColor(em),secondaryHeadingColor:t.getColor(kd)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(t){super._fillHead(t),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(o=>this.editor.focus()));const e=[],n=this._menuService.createMenu(lw.TitleMenu,this._contextKeyService);(function(a,t,e,n,o,s,d){const p=a.getActions(t);(function(a,t,e,n=(p=>"navigation"===p),o=Number.MAX_SAFE_INTEGER,s=(()=>!1),d=!1){let p,V;Array.isArray(t)?(p=t,V=t):(p=t.primary,V=t.secondary);const H=new Set;for(const[U,ne]of a){let be;n(U)?(be=p,be.length>0&&d&&be.push(new jo.Z0)):(be=V,be.length>0&&be.push(new jo.Z0));for(let Ee of ne){e&&(Ee=Ee instanceof _.U8&&Ee.alt?Ee.alt:Ee);const Ke=be.push(Ee);Ee instanceof jo.wY&&H.add({group:U,action:Ee,index:Ke-1})}}for(const{group:U,action:ne,index:be}of H){const Ee=n(U)?p:V,Ke=ne.actions;(Ke.length<=1||Ee.length+Ke.length-2<=o)&&s(ne,U,Ee.length)&&Ee.splice(be,1,...Ke)}if(p!==V&&p.length>o){const U=p.splice(o,p.length-o);V.unshift(...U,new jo.Z0)}})(p,e,!1,"string"==typeof n?H=>H===n:n,o,s,d),function(a){const t=new Tt.SL;for(const[,e]of a)for(const n of e)t.add(n)}(p)})(n,void 0,e),this._actionbarWidget.push(e,{label:!1,icon:!0,index:0}),n.dispose()}_fillTitleIcon(t){this._icon=st.R3(t,st.$(""))}_fillBody(t){this._parentContainer=t,t.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),t.appendChild(this._container),this._message=new Oy(this._container,this.editor,e=>this._onDidSelectRelatedInformation.fire(e),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(t,e,n){this._container.classList.remove("stale"),this._message.update(t),this._severity=t.severity,this._applyTheme(this._themeService.getColorTheme());let o=kt.e.lift(t);const s=this.editor.getPosition();let d=s&&o.containsPosition(s)?s:o.getStartPosition();super.show(d,this.computeRequiredHeight());const p=this.editor.getModel();if(p){const V=n>1?De.N("problems","{0} of {1} problems",e,n):De.N("change","{0} of {1} problem",e,n);this.setTitle((0,Oo.EZ)(p.uri),V)}this._icon.className=`codicon ${K0.className(Yo.ZL.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(d,0),this.editor.focus()}updateMarker(t){this._container.classList.remove("stale"),this._message.update(t)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(t,e){super._doLayoutBody(t,e),this._heightInPixel=t,this._message.layout(t,e),this._container.style.height=`${t}px`}_onWidth(t){this._message.layout(this._heightInPixel,t)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};qu.TitleMenu=new _.eH("gotoErrorTitleMenu"),qu=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([Xu(1,A.XE),Xu(2,na.v4),Xu(3,_.co),Xu(4,Qi.TG),Xu(5,Qt.i6),Xu(6,$u.e)],qu);let NC=(0,y.kwl)(y.lXJ,y.b6y),IC=(0,y.kwl)(y.uoC,y.pW3),kC=(0,y.kwl)(y.c63,y.T83);const $0=(0,y.P6G)("editorMarkerNavigationError.background",{dark:NC,light:NC,hc:y.lRK},De.N("editorMarkerNavigationError","Editor marker navigation widget error color.")),Ay=(0,y.P6G)("editorMarkerNavigationError.headerBackground",{dark:(0,y.ZnX)($0,.1),light:(0,y.ZnX)($0,.1),hc:null},De.N("editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),Z0=(0,y.P6G)("editorMarkerNavigationWarning.background",{dark:IC,light:IC,hc:y.lRK},De.N("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),Ry=(0,y.P6G)("editorMarkerNavigationWarning.headerBackground",{dark:(0,y.ZnX)(Z0,.1),light:(0,y.ZnX)(Z0,.1),hc:"#0C141F"},De.N("editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),G0=(0,y.P6G)("editorMarkerNavigationInfo.background",{dark:kC,light:kC,hc:y.lRK},De.N("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),Fy=(0,y.P6G)("editorMarkerNavigationInfo.headerBackground",{dark:(0,y.ZnX)(G0,.1),light:(0,y.ZnX)(G0,.1),hc:null},De.N("editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),By=(0,y.P6G)("editorMarkerNavigation.background",{dark:y.cvW,light:y.cvW,hc:y.cvW},De.N("editorMarkerNavigationBackground","Editor marker navigation widget background."));var Mm=function(a,t){return function(e,n){t(e,n,a)}},TC=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})};let Bc=class wp{constructor(t,e,n,o,s){this._markerNavigationService=e,this._contextKeyService=n,this._editorService=o,this._instantiationService=s,this._sessionDispoables=new Tt.SL,this._editor=t,this._widgetVisible=PC.bindTo(this._contextKeyService)}static get(t){return t.getContribution(wp.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(t){if(this._model&&this._model.matches(t))return this._model;let e=!1;return this._model&&(e=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(t),e&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(qu,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(n=>{var o,s,d;(!(null===(o=this._model)||void 0===o?void 0:o.selected)||!kt.e.containsPosition(null===(s=this._model)||void 0===s?void 0:s.selected.marker,n.position))&&(null===(d=this._model)||void 0===d||d.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const n=this._model.find(this._editor.getModel().uri,this._widget.position);n?this._widget.updateMarker(n.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(n=>{this._editorService.openCodeEditor({resource:n.resource,options:{pinned:!0,revealIfOpened:!0,selection:kt.e.lift(n).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(t=!0){this._cleanUp(),t&&this._editor.focus()}showAtMarker(t){if(this._editor.hasModel()){const e=this._getOrCreateModel(this._editor.getModel().uri);e.resetIndex(),e.move(!0,this._editor.getModel(),new di.L(t.startLineNumber,t.startColumn)),e.selected&&this._widget.showAtMarker(e.selected.marker,e.selected.index,e.selected.total)}}nagivate(t,e){var n,o;return TC(this,void 0,void 0,function*(){if(this._editor.hasModel()){const s=this._getOrCreateModel(e?void 0:this._editor.getModel().uri);if(s.move(t,this._editor.getModel(),this._editor.getPosition()),!s.selected)return;if(s.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const d=yield this._editorService.openCodeEditor({resource:s.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:s.selected.marker}},this._editor);d&&(null===(n=wp.get(d))||void 0===n||n.close(),null===(o=wp.get(d))||void 0===o||o.nagivate(t,e))}else this._widget.showAtMarker(s.selected.marker,s.selected.index,s.selected.total)}})}};Bc.ID="editor.contrib.markerController",Bc=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([Mm(1,MC),Mm(2,Qt.i6),Mm(3,In.$),Mm(4,Qi.TG)],Bc);class Nm extends Qe.R6{constructor(t,e,n){super(n),this._next=t,this._multiFile=e}run(t,e){var n;return TC(this,void 0,void 0,function*(){e.hasModel()&&(null===(n=Bc.get(e))||void 0===n||n.nagivate(this._next,this._multiFile))})}}class Wc extends Nm{constructor(){super(!0,!1,{id:Wc.ID,label:Wc.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:Ct.u.focus,primary:578,weight:100},menuOpts:{menuId:qu.TitleMenu,title:Wc.LABEL,icon:(0,rr.q5)("marker-navigation-next",Kn.lA.arrowDown,De.N("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}}Wc.ID="editor.action.marker.next",Wc.LABEL=De.N("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");class jd extends Nm{constructor(){super(!1,!1,{id:jd.ID,label:jd.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:Ct.u.focus,primary:1602,weight:100},menuOpts:{menuId:qu.TitleMenu,title:jd.LABEL,icon:(0,rr.q5)("marker-navigation-previous",Kn.lA.arrowUp,De.N("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}}jd.ID="editor.action.marker.prev",jd.LABEL=De.N("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)"),(0,Qe._K)(Bc.ID,Bc),(0,Qe.Qr)(Wc),(0,Qe.Qr)(jd),(0,Qe.Qr)(class extends Nm{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:De.N("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:Ct.u.focus,primary:66,weight:100},menuOpts:{menuId:_.eH.MenubarGoMenu,title:De.N({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}}),(0,Qe.Qr)(class extends Nm{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:De.N("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:Ct.u.focus,primary:1090,weight:100},menuOpts:{menuId:_.eH.MenubarGoMenu,title:De.N({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}});const PC=new Qt.uy("markersNavigationVisible",!1),zy=Qe._l.bindToContribution(Bc.get);(0,Qe.fK)(new zy({id:"closeMarkersNavigation",precondition:PC,handler:a=>a.close(),kbOpts:{weight:150,kbExpr:Ct.u.focus,primary:9,secondary:[1033]}}));var Q0=function(a,t){return function(e,n){t(e,n,a)}};const pa=st.$;class jy{constructor(t,e,n){this.owner=t,this.range=e,this.marker=n}isValidForHoverAnchor(t){return 1===t.type&&this.range.startColumn<=t.range.startColumn&&this.range.endColumn>=t.range.endColumn}}const OC={type:1,filter:{include:Wi.QuickFix}};let Y0=class{constructor(t,e,n,o){this._editor=t,this._markerDecorationsService=e,this._openerService=n,this._languageFeaturesService=o,this.hoverOrdinal=5,this.recentMarkerCodeActionsInfo=void 0}computeSync(t,e){if(!this._editor.hasModel()||1!==t.type)return[];const n=this._editor.getModel(),o=t.range.startLineNumber,s=n.getLineMaxColumn(o),d=[];for(const p of e){const V=p.range.startLineNumber===o?p.range.startColumn:1,H=p.range.endLineNumber===o?p.range.endColumn:s,U=this._markerDecorationsService.getMarker(n.uri,p);if(!U)continue;const ne=new kt.e(t.range.startLineNumber,V,t.range.startLineNumber,H);d.push(new jy(this,ne,U))}return d}renderHoverParts(t,e){if(!e.length)return Tt.JT.None;const n=new Tt.SL;e.forEach(s=>t.fragment.appendChild(this.renderMarkerHover(s,n)));const o=1===e.length?e[0]:e.sort((s,d)=>Yo.ZL.compare(s.marker.severity,d.marker.severity))[0];return this.renderMarkerStatusbar(t,o,n),n}renderMarkerHover(t,e){const n=pa("div.hover-row"),o=st.R3(n,pa("div.marker.hover-contents")),{source:s,message:d,code:p,relatedInformation:V}=t.marker;this._editor.applyFontInfo(o);const H=st.R3(o,pa("span"));if(H.style.whiteSpace="pre-wrap",H.innerText=d,s||p)if(p&&"string"!=typeof p){const U=pa("span");s&&(st.R3(U,pa("span")).innerText=s);const ne=st.R3(U,pa("a.code-link"));ne.setAttribute("href",p.target.toString()),e.add(st.nm(ne,"click",Ke=>{this._openerService.open(p.target,{allowCommands:!0}),Ke.preventDefault(),Ke.stopPropagation()})),st.R3(ne,pa("span")).innerText=p.value;const Ee=st.R3(o,U);Ee.style.opacity="0.6",Ee.style.paddingLeft="6px"}else{const U=st.R3(o,pa("span"));U.style.opacity="0.6",U.style.paddingLeft="6px",U.innerText=s&&p?`${s}(${p})`:s||`(${p})`}if((0,ro.Of)(V))for(const{message:U,resource:ne,startLineNumber:be,startColumn:Ee}of V){const Ke=st.R3(o,pa("div"));Ke.style.marginTop="8px";const ct=st.R3(Ke,pa("a"));ct.innerText=`${(0,Oo.EZ)(ne)}(${be}, ${Ee}): `,ct.style.cursor="pointer",e.add(st.nm(ct,"click",Ot=>{Ot.stopPropagation(),Ot.preventDefault(),this._openerService&&this._openerService.open(ne,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:be,startColumn:Ee}}}).catch(Qn.dL)}));const Pt=st.R3(Ke,pa("span"));Pt.innerText=U,this._editor.applyFontInfo(Pt)}return n}renderMarkerStatusbar(t,e,n){if((e.marker.severity===Yo.ZL.Error||e.marker.severity===Yo.ZL.Warning||e.marker.severity===Yo.ZL.Info)&&t.statusBar.addAction({label:De.N("view problem","View Problem"),commandId:Wc.ID,run:()=>{var o;t.hide(),null===(o=Bc.get(this._editor))||void 0===o||o.showAtMarker(e.marker),this._editor.focus()}}),!this._editor.getOption(81)){const o=t.statusBar.append(pa("div"));this.recentMarkerCodeActionsInfo&&(Yo.H0.makeKey(this.recentMarkerCodeActionsInfo.marker)===Yo.H0.makeKey(e.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(o.textContent=De.N("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);const s=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?Tt.JT.None:n.add((0,Bn.Vg)(()=>o.textContent=De.N("checkingForQuickFixes","Checking for quick fixes..."),200));o.textContent||(o.textContent=String.fromCharCode(160));const d=this.getCodeActions(e.marker);n.add((0,Tt.OF)(()=>d.cancel())),d.then(p=>{if(s.dispose(),this.recentMarkerCodeActionsInfo={marker:e.marker,hasCodeActions:p.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions)return p.dispose(),void(o.textContent=De.N("noQuickFixes","No quick fixes available"));o.style.display="none";let V=!1;n.add((0,Tt.OF)(()=>{V||p.dispose()})),t.statusBar.addAction({label:De.N("quick fixes","Quick Fix..."),commandId:Au.Id,run:H=>{V=!0;const U=Bl.get(this._editor),ne=st.i(H);t.hide(),null==U||U.showCodeActions(OC,p,{x:ne.left+6,y:ne.top+ne.height+6})}})},Qn.dL)}}getCodeActions(t){return(0,Bn.PG)(e=>xc(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new kt.e(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn),OC,Ir.Ex.None,e))}};Y0=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([Q0(1,Ty.i),Q0(2,na.v4),Q0(3,Ui.p)],Y0),(0,A.Ic)((a,t)=>{const e=a.getColor(y.url);e&&t.addRule(`.monaco-hover .hover-contents a.code-link span { color: ${e}; }`);const n=a.getColor(y.sgC);n&&t.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${n}; }`)});var Im=function(a,t){return function(e,n){t(e,n,a)}};let Vc=class cw{constructor(t,e,n,o,s){this._editor=t,this._instantiationService=e,this._openerService=n,this._languageService=o,this._toUnhook=new Tt.SL,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(d=>{d.hasChanged(53)&&(this._unhookEvents(),this._hookEvents())})}static get(t){return t.getContribution(cw.ID)}_hookEvents(){const t=()=>this._hideWidgets(),e=this._editor.getOption(53);this._isHoverEnabled=e.enabled,this._isHoverSticky=e.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(n=>this._onEditorMouseDown(n))),this._toUnhook.add(this._editor.onMouseUp(n=>this._onEditorMouseUp(n))),this._toUnhook.add(this._editor.onMouseMove(n=>this._onEditorMouseMove(n))),this._toUnhook.add(this._editor.onKeyDown(n=>this._onKeyDown(n)))):(this._toUnhook.add(this._editor.onMouseMove(n=>this._onEditorMouseMove(n))),this._toUnhook.add(this._editor.onKeyDown(n=>this._onKeyDown(n)))),this._toUnhook.add(this._editor.onMouseLeave(t)),this._toUnhook.add(this._editor.onDidChangeModel(t)),this._toUnhook.add(this._editor.onDidScrollChange(n=>this._onEditorScrollChanged(n)))}_unhookEvents(){this._toUnhook.clear()}_onEditorScrollChanged(t){(t.scrollTopChanged||t.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(t){this._isMouseDown=!0;const e=t.target;9!==e.type||e.detail!==Hd.ID?12===e.type&&e.detail===H0.ID||(12!==e.type&&(this._hoverClicked=!1),this._hideWidgets()):this._hoverClicked=!0}_onEditorMouseUp(t){this._isMouseDown=!1}_onEditorMouseMove(t){var e,n,o,s,d;const p=t.target;if(!(this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&9===p.type&&p.detail===Hd.ID||this._isHoverSticky&&!(null===(n=null===(e=t.event.browserEvent.view)||void 0===e?void 0:e.getSelection())||void 0===n?void 0:n.isCollapsed)||!this._isHoverSticky&&9===p.type&&p.detail===Hd.ID&&(null===(o=this._contentWidget)||void 0===o?void 0:o.isColorPickerVisible())||this._isHoverSticky&&12===p.type&&p.detail===H0.ID))if(this._isHoverEnabled){if(!this._getOrCreateContentWidget().maybeShowAt(t))return 2===p.type&&p.position?(null===(d=this._contentWidget)||void 0===d||d.hide(),this._glyphWidget||(this._glyphWidget=new H0(this._editor,this._languageService,this._openerService)),void this._glyphWidget.startShowingAt(p.position.lineNumber)):void this._hideWidgets();null===(s=this._glyphWidget)||void 0===s||s.hide()}else this._hideWidgets()}_onKeyDown(t){5!==t.keyCode&&6!==t.keyCode&&57!==t.keyCode&&4!==t.keyCode&&this._hideWidgets()}_hideWidgets(){var t,e,n;this._isMouseDown&&this._hoverClicked&&(null===(t=this._contentWidget)||void 0===t?void 0:t.isColorPickerVisible())||(this._hoverClicked=!1,null===(e=this._glyphWidget)||void 0===e||e.hide(),null===(n=this._contentWidget)||void 0===n||n.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(vm,this._editor)),this._contentWidget}isColorPickerVisible(){var t;return(null===(t=this._contentWidget)||void 0===t?void 0:t.isColorPickerVisible())||!1}showContentHover(t,e,n){this._getOrCreateContentWidget().startShowingAtRange(t,e,n)}dispose(){var t,e;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),null===(t=this._glyphWidget)||void 0===t||t.dispose(),null===(e=this._contentWidget)||void 0===e||e.dispose()}};Vc.ID="editor.contrib.hover",Vc=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([Im(1,Qi.TG),Im(2,na.v4),Im(3,or.O),Im(4,Qt.i6)],Vc),(0,Qe._K)(Vc.ID,Vc),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.showHover",label:De.N({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:(0,Go.gx)(2089,2087),weight:100}})}run(t,e){if(!e.hasModel())return;let n=Vc.get(e);if(!n)return;const o=e.getPosition(),s=new kt.e(o.lineNumber,o.column,o.lineNumber,o.column),d=2===e.getOption(2);n.showContentHover(s,1,d)}}),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:De.N({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}run(t,e){const n=Vc.get(e);if(!n)return;const o=e.getPosition();if(!o)return;const s=new kt.e(o.lineNumber,o.column,o.lineNumber,o.column),d=Ki.get(e);d&&d.startFindDefinitionFromCursor(o).then(()=>{n.showContentHover(s,1,!0)})}}),Vd.register(Dm),Vd.register(Y0),(0,A.Ic)((a,t)=>{const e=a.getColor(y.ptc);e&&t.addRule(`.monaco-editor .hoverHighlight { background-color: ${e}; }`);const n=a.getColor(y.yJx);n&&t.addRule(`.monaco-editor .monaco-hover { background-color: ${n}; }`);const o=a.getColor(y.CNo);o&&(t.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${o}; }`),t.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${o.transparent(.5)}; }`),t.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${o.transparent(.5)}; }`),t.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${o.transparent(.5)}; }`));const s=a.getColor(y.url);s&&t.addRule(`.monaco-editor .monaco-hover a { color: ${s}; }`);const d=a.getColor(y.sgC);d&&t.addRule(`.monaco-editor .monaco-hover a:hover { color: ${d}; }`);const p=a.getColor(y.Sbf);p&&t.addRule(`.monaco-editor .monaco-hover { color: ${p}; }`);const V=a.getColor(y.LoV);V&&t.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${V}; }`);const H=a.getColor(y.SwI);H&&t.addRule(`.monaco-editor .monaco-hover code { background-color: ${H}; }`)});let AC=(()=>{class a extends Tt.JT{constructor(e){super(),this._editor=e,this._register(e.onMouseDown(n=>this.onMouseDown(n)))}dispose(){super.dispose()}onMouseDown(e){const n=e.target;if(6!==n.type||!n.detail.injectedText||n.detail.injectedText.options.attachedData!==cf||!n.range)return;const o=this._editor.getContribution(Vc.ID);if(o&&!o.isColorPickerVisible()){const s=new kt.e(n.range.startLineNumber,n.range.startColumn+1,n.range.endLineNumber,n.range.endColumn+1);o.showContentHover(s,1,!1)}}}return a.ID="editor.contrib.colorContribution",a})();(0,Qe._K)(AC.ID,AC),Vd.register(df);var is=m(19420);class Hc{constructor(t,e,n){this.languageConfigurationService=n,this._selection=t,this._insertSpace=e,this._usedEndToken=null}static _haystackHasNeedleAtOffset(t,e,n){if(n<0)return!1;const o=e.length;if(n+o>t.length)return!1;for(let d=0;d<o;d++){const p=t.charCodeAt(n+d),V=e.charCodeAt(d);if(!(p===V||p>=65&&p<=90&&p+32===V||V>=65&&V<=90&&V+32===p))return!1}return!0}_createOperationsForBlockComment(t,e,n,o,s,d){const p=t.startLineNumber,V=t.startColumn,H=t.endLineNumber,U=t.endColumn,ne=s.getLineContent(p),be=s.getLineContent(H);let ct,Ee=ne.lastIndexOf(e,V-1+e.length),Ke=be.indexOf(n,U-1-n.length);if(-1!==Ee&&-1!==Ke)if(p===H)ne.substring(Ee+e.length,Ke).indexOf(n)>=0&&(Ee=-1,Ke=-1);else{const Pt=ne.substring(Ee+e.length),Ot=be.substring(0,Ke);(Pt.indexOf(n)>=0||Ot.indexOf(n)>=0)&&(Ee=-1,Ke=-1)}-1!==Ee&&-1!==Ke?(o&&Ee+e.length<ne.length&&32===ne.charCodeAt(Ee+e.length)&&(e+=" "),o&&Ke>0&&32===be.charCodeAt(Ke-1)&&(n=" "+n,Ke-=1),ct=Hc._createRemoveBlockCommentOperations(new kt.e(p,Ee+e.length+1,H,Ke+1),e,n)):(ct=Hc._createAddBlockCommentOperations(t,e,n,this._insertSpace),this._usedEndToken=1===ct.length?n:null);for(const Pt of ct)d.addTrackedEditOperation(Pt.range,Pt.text)}static _createRemoveBlockCommentOperations(t,e,n){let o=[];return kt.e.isEmpty(t)?o.push(is.h.delete(new kt.e(t.startLineNumber,t.startColumn-e.length,t.endLineNumber,t.endColumn+n.length))):(o.push(is.h.delete(new kt.e(t.startLineNumber,t.startColumn-e.length,t.startLineNumber,t.startColumn))),o.push(is.h.delete(new kt.e(t.endLineNumber,t.endColumn,t.endLineNumber,t.endColumn+n.length)))),o}static _createAddBlockCommentOperations(t,e,n,o){let s=[];return kt.e.isEmpty(t)?s.push(is.h.replace(new kt.e(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn),e+"  "+n)):(s.push(is.h.insert(new di.L(t.startLineNumber,t.startColumn),e+(o?" ":""))),s.push(is.h.insert(new di.L(t.endLineNumber,t.endColumn),(o?" ":"")+n))),s}getEditOperations(t,e){const n=this._selection.startLineNumber,o=this._selection.startColumn;t.tokenizeIfCheap(n);const s=t.getLanguageIdAtPosition(n,o),d=this.languageConfigurationService.getLanguageConfiguration(s).comments;!d||!d.blockCommentStartToken||!d.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,d.blockCommentStartToken,d.blockCommentEndToken,this._insertSpace,t,e)}computeCursorState(t,e){const n=e.getInverseEditOperations();if(2===n.length){const o=n[0],s=n[1];return new ci.Y(o.range.endLineNumber,o.range.endColumn,s.range.startLineNumber,s.range.startColumn)}{const o=n[0].range,s=this._usedEndToken?-this._usedEndToken.length-1:0;return new ci.Y(o.endLineNumber,o.endColumn+s,o.endLineNumber,o.endColumn+s)}}}class Jl{constructor(t,e,n,o,s,d,p){this.languageConfigurationService=t,this._selection=e,this._tabSize=n,this._type=o,this._insertSpace=s,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=d,this._ignoreFirstLine=p||!1}static _gatherPreflightCommentStrings(t,e,n,o){t.tokenizeIfCheap(e);const s=t.getLanguageIdAtPosition(e,1),d=o.getLanguageConfiguration(s).comments,p=d?d.lineCommentToken:null;if(!p)return null;let V=[];for(let H=0,U=n-e+1;H<U;H++)V[H]={ignore:!1,commentStr:p,commentStrOffset:0,commentStrLength:p.length};return V}static _analyzeLines(t,e,n,o,s,d,p,V){let U,H=!0;U=0===t||1!==t;for(let ne=0,be=o.length;ne<be;ne++){const Ee=o[ne],Ke=s+ne;if(Ke===s&&p){Ee.ignore=!0;continue}const ct=n.getLineContent(Ke),Pt=jn.LC(ct);if(-1!==Pt){if(H=!1,Ee.ignore=!1,Ee.commentStrOffset=Pt,U&&!Hc._haystackHasNeedleAtOffset(ct,Ee.commentStr,Pt)&&(0===t?U=!1:1===t||(Ee.ignore=!0)),U&&e){const Ot=Pt+Ee.commentStrLength;Ot<ct.length&&32===ct.charCodeAt(Ot)&&(Ee.commentStrLength+=1)}}else Ee.ignore=d,Ee.commentStrOffset=ct.length}if(0===t&&H){U=!1;for(let ne=0,be=o.length;ne<be;ne++)o[ne].ignore=!1}return{supported:!0,shouldRemoveComments:U,lines:o}}static _gatherPreflightData(t,e,n,o,s,d,p,V){const H=Jl._gatherPreflightCommentStrings(n,o,s,V);return null===H?{supported:!1}:Jl._analyzeLines(t,e,n,H,o,d,p,V)}_executeLineComments(t,e,n,o){let s;n.shouldRemoveComments?s=Jl._createRemoveLineCommentsOperations(n.lines,o.startLineNumber):(Jl._normalizeInsertionPoint(t,n.lines,o.startLineNumber,this._tabSize),s=this._createAddLineCommentsOperations(n.lines,o.startLineNumber));const d=new di.L(o.positionLineNumber,o.positionColumn);for(let p=0,V=s.length;p<V;p++)e.addEditOperation(s[p].range,s[p].text),kt.e.isEmpty(s[p].range)&&kt.e.getStartPosition(s[p].range).equals(d)&&t.getLineContent(d.lineNumber).length+1===d.column&&(this._deltaColumn=(s[p].text||"").length);this._selectionId=e.trackSelection(o)}_attemptRemoveBlockComment(t,e,n,o){let s=e.startLineNumber,d=e.endLineNumber,p=o.length+Math.max(t.getLineFirstNonWhitespaceColumn(e.startLineNumber),e.startColumn),V=t.getLineContent(s).lastIndexOf(n,p-1),H=t.getLineContent(d).indexOf(o,e.endColumn-1-n.length);return-1!==V&&-1===H&&(H=t.getLineContent(s).indexOf(o,V+n.length),d=s),-1===V&&-1!==H&&(V=t.getLineContent(d).lastIndexOf(n,H),s=d),e.isEmpty()&&(-1===V||-1===H)&&(V=t.getLineContent(s).indexOf(n),-1!==V&&(H=t.getLineContent(s).indexOf(o,V+n.length))),-1!==V&&32===t.getLineContent(s).charCodeAt(V+n.length)&&(n+=" "),-1!==H&&32===t.getLineContent(d).charCodeAt(H-1)&&(o=" "+o,H-=1),-1!==V&&-1!==H?Hc._createRemoveBlockCommentOperations(new kt.e(s,V+n.length+1,d,H+1),n,o):null}_executeBlockComment(t,e,n){t.tokenizeIfCheap(n.startLineNumber);let o=t.getLanguageIdAtPosition(n.startLineNumber,1),s=Vo.zu.getComments(o);if(!s||!s.blockCommentStartToken||!s.blockCommentEndToken)return;const d=s.blockCommentStartToken,p=s.blockCommentEndToken;let V=this._attemptRemoveBlockComment(t,n,d,p);if(!V){if(n.isEmpty()){const H=t.getLineContent(n.startLineNumber);let U=jn.LC(H);-1===U&&(U=H.length),V=Hc._createAddBlockCommentOperations(new kt.e(n.startLineNumber,U+1,n.startLineNumber,H.length+1),d,p,this._insertSpace)}else V=Hc._createAddBlockCommentOperations(new kt.e(n.startLineNumber,t.getLineFirstNonWhitespaceColumn(n.startLineNumber),n.endLineNumber,t.getLineMaxColumn(n.endLineNumber)),d,p,this._insertSpace);1===V.length&&(this._deltaColumn=d.length+1)}this._selectionId=e.trackSelection(n);for(const H of V)e.addEditOperation(H.range,H.text)}getEditOperations(t,e){let n=this._selection;if(this._moveEndPositionDown=!1,n.startLineNumber===n.endLineNumber&&this._ignoreFirstLine)return e.addEditOperation(new kt.e(n.startLineNumber,t.getLineMaxColumn(n.startLineNumber),n.startLineNumber+1,1),n.startLineNumber===t.getLineCount()?"":"\n"),void(this._selectionId=e.trackSelection(n));n.startLineNumber<n.endLineNumber&&1===n.endColumn&&(this._moveEndPositionDown=!0,n=n.setEndPosition(n.endLineNumber-1,t.getLineMaxColumn(n.endLineNumber-1)));const o=Jl._gatherPreflightData(this._type,this._insertSpace,t,n.startLineNumber,n.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return o.supported?this._executeLineComments(t,e,o,n):this._executeBlockComment(t,e,n)}computeCursorState(t,e){let n=e.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),new ci.Y(n.selectionStartLineNumber,n.selectionStartColumn+this._deltaColumn,n.positionLineNumber,n.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(t,e){let n=[];for(let o=0,s=t.length;o<s;o++){const d=t[o];d.ignore||n.push(is.h.delete(new kt.e(e+o,d.commentStrOffset+1,e+o,d.commentStrOffset+d.commentStrLength+1)))}return n}_createAddLineCommentsOperations(t,e){let n=[];const o=this._insertSpace?" ":"";for(let s=0,d=t.length;s<d;s++){const p=t[s];p.ignore||n.push(is.h.insert(new di.L(e+s,p.commentStrOffset+1),p.commentStr+o))}return n}static nextVisibleColumn(t,e,n,o){return n?t+(e-t%e):t+o}static _normalizeInsertionPoint(t,e,n,o){let d,p,s=1073741824;for(let V=0,H=e.length;V<H;V++){if(e[V].ignore)continue;const U=t.getLineContent(n+V);let ne=0;for(let be=0,Ee=e[V].commentStrOffset;ne<s&&be<Ee;be++)ne=Jl.nextVisibleColumn(ne,o,9===U.charCodeAt(be),1);ne<s&&(s=ne)}s=Math.floor(s/o)*o;for(let V=0,H=e.length;V<H;V++){if(e[V].ignore)continue;const U=t.getLineContent(n+V);let ne=0;for(d=0,p=e[V].commentStrOffset;ne<s&&d<p;d++)ne=Jl.nextVisibleColumn(ne,o,9===U.charCodeAt(d),1);e[V].commentStrOffset=ne>s?d-1:d}}}class J0 extends Qe.R6{constructor(t,e){super(e),this._type=t}run(t,e){const n=t.get(Vo.c_);if(!e.hasModel())return;const s=[],d=e.getModel().getOptions(),p=e.getOption(19),V=e.getSelections().map((U,ne)=>({selection:U,index:ne,ignoreFirstLine:!1}));V.sort((U,ne)=>kt.e.compareRangesUsingStarts(U.selection,ne.selection));let H=V[0];for(let U=1;U<V.length;U++){const ne=V[U];H.selection.endLineNumber===ne.selection.startLineNumber&&(H.index<ne.index?ne.ignoreFirstLine=!0:(H.ignoreFirstLine=!0,H=ne))}for(const U of V)s.push(new Jl(n,U.selection,d.tabSize,this._type,p.insertSpace,p.ignoreEmptyLines,U.ignoreFirstLine));e.pushUndoStop(),e.executeCommands(this.id,s),e.pushUndoStop()}}(0,Qe.Qr)(class extends J0{constructor(){super(0,{id:"editor.action.commentLine",label:De.N("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:Ct.u.writable,kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:2133,weight:100},menuOpts:{menuId:_.eH.MenubarEditMenu,group:"5_insert",title:De.N({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}}),(0,Qe.Qr)(class extends J0{constructor(){super(1,{id:"editor.action.addCommentLine",label:De.N("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:Ct.u.writable,kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:(0,Go.gx)(2089,2081),weight:100}})}}),(0,Qe.Qr)(class extends J0{constructor(){super(2,{id:"editor.action.removeCommentLine",label:De.N("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:Ct.u.writable,kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:(0,Go.gx)(2089,2099),weight:100}})}}),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.blockComment",label:De.N("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:Ct.u.writable,kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:_.eH.MenubarEditMenu,group:"5_insert",title:De.N({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(t,e){const n=t.get(Vo.c_);if(!e.hasModel())return;const o=e.getOption(19),s=[],d=e.getSelections();for(const p of d)s.push(new Hc(p,o.insertSpace,n));e.pushUndoStop(),e.executeCommands(this.id,s),e.pushUndoStop()}});var Bf=function(a,t){return function(e,n){t(e,n,a)}};let eh=class dw{constructor(t,e,n,o,s,d){this._contextMenuService=e,this._contextViewService=n,this._contextKeyService=o,this._keybindingService=s,this._menuService=d,this._toDispose=new Tt.SL,this._contextMenuIsBeingShownCount=0,this._editor=t,this._toDispose.add(this._editor.onContextMenu(p=>this._onContextMenu(p))),this._toDispose.add(this._editor.onMouseWheel(p=>{if(this._contextMenuIsBeingShownCount>0){const V=this._contextViewService.getContextViewElement(),H=p.srcElement;H.shadowRoot&&st.Ay(V)===H.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(p=>{58===p.keyCode&&(p.preventDefault(),p.stopPropagation(),this.showContextMenu())}))}static get(t){return t.getContribution(dw.ID)}_onContextMenu(t){if(!this._editor.hasModel())return;if(!this._editor.getOption(20))return this._editor.focus(),void(t.target.position&&!this._editor.getSelection().containsPosition(t.target.position)&&this._editor.setPosition(t.target.position));if(12===t.target.type||6===t.target.type&&t.target.detail.injectedText||(t.event.preventDefault(),t.event.stopPropagation(),6!==t.target.type&&7!==t.target.type&&1!==t.target.type))return;if(this._editor.focus(),t.target.position){let n=!1;for(const o of this._editor.getSelections())if(o.containsPosition(t.target.position)){n=!0;break}n||this._editor.setPosition(t.target.position)}let e=null;1!==t.target.type&&(e={x:t.event.posx-1,width:2,y:t.event.posy-1,height:2}),this.showContextMenu(e)}showContextMenu(t){if(!this._editor.getOption(20)||!this._editor.hasModel())return;if(!this._contextMenuService)return void this._editor.focus();const e=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?_.eH.SimpleEditorContext:_.eH.EditorContext);e.length>0&&this._doShowContextMenu(e,t)}_getMenuActions(t,e){const n=[],o=this._menuService.createMenu(e,this._contextKeyService),s=o.getActions({arg:t.uri});o.dispose();for(let d of s){const[,p]=d;let V=0;for(const H of p)if(H instanceof _.NZ){const U=this._getMenuActions(t,H.item.submenu);U.length>0&&(n.push(new jo.wY(H.id,H.label,U)),V++)}else n.push(H),V++;V&&n.push(new jo.Z0)}return n.length&&n.pop(),n}_doShowContextMenu(t,e=null){if(!this._editor.hasModel())return;const n=this._editor.getOption(53);if(this._editor.updateOptions({hover:{enabled:!1}}),!e){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const s=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),d=st.i(this._editor.getDomNode());e={x:d.left+s.left,y:d.top+s.top+s.height}}const o=this._editor.getOption(115)&&!$t.gn;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:o?this._editor.getDomNode():void 0,getAnchor:()=>e,getActions:()=>t,getActionViewItem:s=>{const d=this._keybindingFor(s);return d?new Pc.g(s,s,{label:!0,keybinding:d.getLabel(),isMenu:!0}):"function"==typeof s.getActionViewItem?s.getActionViewItem():new Pc.g(s,s,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:s=>this._keybindingFor(s),onHide:s=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:n})}})}_keybindingFor(t){return this._keybindingService.lookupKeybinding(t.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};eh.ID="editor.contrib.contextmenu",eh=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([Bf(1,Ol.i),Bf(2,Ol.u),Bf(3,Qt.i6),Bf(4,Zs.d),Bf(5,_.co)],eh),(0,Qe._K)(eh.ID,eh),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.showContextMenu",label:De.N("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:Ct.u.textInputFocus,primary:1092,weight:100}})}run(t,e){var n;null===(n=eh.get(e))||void 0===n||n.showContextMenu()}});class X0{constructor(t){this.selections=t}equals(t){const e=this.selections.length;if(e!==t.selections.length)return!1;for(let o=0;o<e;o++)if(!this.selections[o].equalsSelection(t.selections[o]))return!1;return!0}}class q0{constructor(t,e,n){this.cursorState=t,this.scrollTop=e,this.scrollLeft=n}}let km=(()=>{class a extends Tt.JT{constructor(e){super(),this._editor=e,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(e.onDidChangeModel(n=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeModelContent(n=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeCursorSelection(n=>{if(this._isCursorUndoRedo||!n.oldSelections||n.oldModelVersionId!==n.modelVersionId)return;const o=new X0(n.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(o)||(this._undoStack.push(new q0(o,e.getScrollTop(),e.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}static get(e){return e.getContribution(a.ID)}cursorUndo(){!this._editor.hasModel()||0===this._undoStack.length||(this._redoStack.push(new q0(new X0(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||0===this._redoStack.length||(this._undoStack.push(new q0(new X0(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(e){this._isCursorUndoRedo=!0,this._editor.setSelections(e.cursorState.selections),this._editor.setScrollPosition({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),this._isCursorUndoRedo=!1}}return a.ID="editor.contrib.cursorUndoRedoController",a})();(0,Qe._K)(km.ID,km),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"cursorUndo",label:De.N("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:Ct.u.textInputFocus,primary:2099,weight:100}})}run(t,e,n){var o;null===(o=km.get(e))||void 0===o||o.cursorUndo()}}),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"cursorRedo",label:De.N("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(t,e,n){var o;null===(o=km.get(e))||void 0===o||o.cursorRedo()}}),m(63593);class nS{constructor(t,e,n){this.selection=t,this.targetPosition=e,this.copy=n,this.targetSelection=null}getEditOperations(t,e){let n=t.getValueInRange(this.selection);this.copy||e.addEditOperation(this.selection,null),e.addEditOperation(new kt.e(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),n),this.targetSelection=!this.selection.containsPosition(this.targetPosition)||this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition))?this.copy?new ci.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber>this.selection.endLineNumber?new ci.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber<this.selection.endLineNumber?new ci.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.selection.endColumn<=this.targetPosition.column?new ci.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):new ci.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn):this.selection}computeCursorState(t,e){return this.targetSelection}}function th(a){return $t.dz?a.altKey:a.ctrlKey}class Xl extends Tt.JT{constructor(t){super(),this._editor=t,this._register(this._editor.onMouseDown(e=>this._onEditorMouseDown(e))),this._register(this._editor.onMouseUp(e=>this._onEditorMouseUp(e))),this._register(this._editor.onMouseDrag(e=>this._onEditorMouseDrag(e))),this._register(this._editor.onMouseDrop(e=>this._onEditorMouseDrop(e))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(e=>this.onEditorKeyDown(e))),this._register(this._editor.onKeyUp(e=>this.onEditorKeyUp(e))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._dndDecorationIds=[],this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(t){!this._editor.getOption(31)||this._editor.getOption(18)||(th(t)&&(this._modifierPressed=!0),this._mouseDown&&th(t)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(t){!this._editor.getOption(31)||this._editor.getOption(18)||(th(t)&&(this._modifierPressed=!1),this._mouseDown&&t.keyCode===Xl.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(t){this._mouseDown=!0}_onEditorMouseUp(t){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(t){let e=t.target;if(null===this._dragSelection){let o=(this._editor.getSelections()||[]).filter(s=>e.position&&s.containsPosition(e.position));if(1!==o.length)return;this._dragSelection=o[0]}th(t.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),e.position&&(this._dragSelection.containsPosition(e.position)?this._removeDecoration():this.showAt(e.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(t){if(t.target&&(this._hitContent(t.target)||this._hitMargin(t.target))&&t.target.position){let e=new di.L(t.target.position.lineNumber,t.target.position.column);if(null===this._dragSelection){let n=null;if(t.event.shiftKey){let o=this._editor.getSelection();if(o){const{selectionStartLineNumber:s,selectionStartColumn:d}=o;n=[new ci.Y(s,d,e.lineNumber,e.column)]}}else n=(this._editor.getSelections()||[]).map(o=>o.containsPosition(e)?new ci.Y(e.lineNumber,e.column,e.lineNumber,e.column):o);this._editor.setSelections(n||[],"mouse",3)}else(!this._dragSelection.containsPosition(e)||(th(t.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(e)||this._dragSelection.getStartPosition().equals(e)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(Xl.ID,new nS(this._dragSelection,e,th(t.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(t){let e=[{range:new kt.e(t.lineNumber,t.column,t.lineNumber,t.column),options:Xl._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,e),this._editor.revealPosition(t,1)}_removeDecoration(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])}_hitContent(t){return 6===t.type||7===t.type}_hitMargin(t){return 2===t.type||3===t.type||4===t.type}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}Xl.ID="editor.contrib.dragAndDrop",Xl.TRIGGER_KEY_VALUE=$t.dz?6:5,Xl._DECORATION_OPTIONS=r.qx.register({description:"dnd-target",className:"dnd-target"}),(0,Qe._K)(Xl.ID,Xl);var iS=m(82711);class Js{constructor(t){this._editor=t,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const t=this._findScopeDecorationIds.map(e=>this._editor.getModel().getDecorationRange(e)).filter(e=>!!e);if(t.length)return t}return null}getStartPosition(){return this._startPosition}setStartPosition(t){this._startPosition=t,this.setCurrentFindMatch(null)}_getDecorationIndex(t){const e=this._decorations.indexOf(t);return e>=0?e+1:1}getCurrentMatchesPosition(t){let e=this._editor.getModel().getDecorationsInRange(t);for(const n of e){const o=n.options;if(o===Js._FIND_MATCH_DECORATION||o===Js._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(n.id)}return 0}setCurrentFindMatch(t){let e=null,n=0;if(t)for(let o=0,s=this._decorations.length;o<s;o++){let d=this._editor.getModel().getDecorationRange(this._decorations[o]);if(t.equalsRange(d)){e=this._decorations[o],n=o+1;break}}return(null!==this._highlightedDecorationId||null!==e)&&this._editor.changeDecorations(o=>{if(null!==this._highlightedDecorationId&&(o.changeDecorationOptions(this._highlightedDecorationId,Js._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),null!==e&&(this._highlightedDecorationId=e,o.changeDecorationOptions(this._highlightedDecorationId,Js._CURRENT_FIND_MATCH_DECORATION)),null!==this._rangeHighlightDecorationId&&(o.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),null!==e){let s=this._editor.getModel().getDecorationRange(e);if(s.startLineNumber!==s.endLineNumber&&1===s.endColumn){let d=s.endLineNumber-1,p=this._editor.getModel().getLineMaxColumn(d);s=new kt.e(s.startLineNumber,s.startColumn,d,p)}this._rangeHighlightDecorationId=o.addDecoration(s,Js._RANGE_HIGHLIGHT_DECORATION)}}),n}set(t,e){this._editor.changeDecorations(n=>{let o=Js._FIND_MATCH_DECORATION,s=[];if(t.length>1e3){o=Js._FIND_MATCH_NO_OVERVIEW_DECORATION;const p=this._editor.getModel().getLineCount(),H=this._editor.getLayoutInfo().height/p,U=Math.max(2,Math.ceil(3/H));let ne=t[0].range.startLineNumber,be=t[0].range.endLineNumber;for(let Ee=1,Ke=t.length;Ee<Ke;Ee++){const ct=t[Ee].range;be+U>=ct.startLineNumber?ct.endLineNumber>be&&(be=ct.endLineNumber):(s.push({range:new kt.e(ne,1,be,1),options:Js._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),ne=ct.startLineNumber,be=ct.endLineNumber)}s.push({range:new kt.e(ne,1,be,1),options:Js._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let d=new Array(t.length);for(let p=0,V=t.length;p<V;p++)d[p]={range:t[p].range,options:o};this._decorations=n.deltaDecorations(this._decorations,d),this._overviewRulerApproximateDecorations=n.deltaDecorations(this._overviewRulerApproximateDecorations,s),this._rangeHighlightDecorationId&&(n.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(p=>n.removeDecoration(p)),this._findScopeDecorationIds=[]),(null==e?void 0:e.length)&&(this._findScopeDecorationIds=e.map(p=>n.addDecoration(p,Js._FIND_SCOPE_DECORATION)))})}matchBeforePosition(t){if(0===this._decorations.length)return null;for(let e=this._decorations.length-1;e>=0;e--){let n=this._decorations[e],o=this._editor.getModel().getDecorationRange(n);if(o&&!(o.endLineNumber>t.lineNumber)){if(o.endLineNumber<t.lineNumber)return o;if(!(o.endColumn>t.column))return o}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(t){if(0===this._decorations.length)return null;for(let e=0,n=this._decorations.length;e<n;e++){let o=this._decorations[e],s=this._editor.getModel().getDecorationRange(o);if(s&&!(s.startLineNumber<t.lineNumber)){if(s.startLineNumber>t.lineNumber)return s;if(!(s.startColumn<t.column))return s}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let t=[];return t=t.concat(this._decorations),t=t.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&t.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&t.push(this._rangeHighlightDecorationId),t}}Js._CURRENT_FIND_MATCH_DECORATION=r.qx.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,A.EN)(y.Fm_),position:Te.sh.Center},minimap:{color:(0,A.EN)(y.SUY),position:Te.F5.Inline}}),Js._FIND_MATCH_DECORATION=r.qx.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,A.EN)(y.Fm_),position:Te.sh.Center},minimap:{color:(0,A.EN)(y.SUY),position:Te.F5.Inline}}),Js._FIND_MATCH_NO_OVERVIEW_DECORATION=r.qx.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),Js._FIND_MATCH_ONLY_OVERVIEW_DECORATION=r.qx.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,A.EN)(y.Fm_),position:Te.sh.Center}}),Js._RANGE_HIGHLIGHT_DECORATION=r.qx.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),Js._FIND_SCOPE_DECORATION=r.qx.register({description:"find-scope",className:"findScope",isWholeLine:!0});class oS{constructor(t,e,n){this._editorSelection=t,this._ranges=e,this._replaceStrings=n,this._trackedEditorSelectionId=null}getEditOperations(t,e){if(this._ranges.length>0){let n=[];for(let d=0;d<this._ranges.length;d++)n.push({range:this._ranges[d],text:this._replaceStrings[d]});n.sort((d,p)=>kt.e.compareRangesUsingStarts(d.range,p.range));let o=[],s=n[0];for(let d=1;d<n.length;d++)s.range.endLineNumber===n[d].range.startLineNumber&&s.range.endColumn===n[d].range.startColumn?(s.range=s.range.plusRange(n[d].range),s.text=s.text+n[d].text):(o.push(s),s=n[d]);o.push(s);for(const d of o)e.addEditOperation(d.range,d.text)}this._trackedEditorSelectionId=e.trackSelection(this._editorSelection)}computeCursorState(t,e){return e.getTrackedSelection(this._trackedEditorSelectionId)}}function RC(a,t){if(a&&""!==a[0]){const e=FC(a,t,"-"),n=FC(a,t,"_");return e&&!n?BC(a,t,"-"):!e&&n?BC(a,t,"_"):a[0].toUpperCase()===a[0]?t.toUpperCase():a[0].toLowerCase()===a[0]?t.toLowerCase():jn.Kw(a[0][0])&&t.length>0?t[0].toUpperCase()+t.substr(1):a[0][0].toUpperCase()!==a[0][0]&&t.length>0?t[0].toLowerCase()+t.substr(1):t}return t}function FC(a,t,e){return-1!==a[0].indexOf(e)&&-1!==t.indexOf(e)&&a[0].split(e).length===t.split(e).length}function BC(a,t,e){const n=t.split(e),o=a[0].split(e);let s="";return n.forEach((d,p)=>{s+=RC([o[p]],d)+e}),s.slice(0,-1)}class WC{constructor(t){this.staticValue=t,this.kind=0}}class sS{constructor(t){this.pieces=t,this.kind=1}}class nh{constructor(t){this._state=t&&0!==t.length?1===t.length&&null!==t[0].staticValue?new WC(t[0].staticValue):new sS(t):new WC("")}static fromStaticValue(t){return new nh([Kd.staticValue(t)])}get hasReplacementPatterns(){return 1===this._state.kind}buildReplaceString(t,e){if(0===this._state.kind)return e?RC(t,this._state.staticValue):this._state.staticValue;let n="";for(let o=0,s=this._state.pieces.length;o<s;o++){let d=this._state.pieces[o];if(null!==d.staticValue){n+=d.staticValue;continue}let p=nh._substitute(d.matchIndex,t);if(null!==d.caseOps&&d.caseOps.length>0){let V=[],H=d.caseOps.length,U=0;for(let ne=0,be=p.length;ne<be;ne++){if(U>=H){V.push(p.slice(ne));break}switch(d.caseOps[U]){case"U":V.push(p[ne].toUpperCase());break;case"u":V.push(p[ne].toUpperCase()),U++;break;case"L":V.push(p[ne].toLowerCase());break;case"l":V.push(p[ne].toLowerCase()),U++;break;default:V.push(p[ne])}}p=V.join("")}n+=p}return n}static _substitute(t,e){if(null===e)return"";if(0===t)return e[0];let n="";for(;t>0;){if(t<e.length)return(e[t]||"")+n;n=String(t%10)+n,t=Math.floor(t/10)}return"$"+n}}class Kd{constructor(t,e,n){this.staticValue=t,this.matchIndex=e,this.caseOps=n&&0!==n.length?n.slice(0):null}static staticValue(t){return new Kd(t,-1,null)}static caseOps(t,e){return new Kd(null,t,e)}}class rS{constructor(t){this._source=t,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(t){this._emitStatic(this._source.substring(this._lastCharIndex,t)),this._lastCharIndex=t}emitStatic(t,e){this._emitStatic(t),this._lastCharIndex=e}_emitStatic(t){0!==t.length&&(this._currentStaticPiece+=t)}emitMatchIndex(t,e,n){0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=Kd.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=Kd.caseOps(t,n),this._lastCharIndex=e}finalize(){return this.emitUnchanged(this._source.length),0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=Kd.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new nh(this._result)}}const zc=new Qt.uy("findWidgetVisible",!1),Tm=(zc.toNegated(),new Qt.uy("findInputFocussed",!1)),e_=new Qt.uy("replaceInputFocussed",!1),Pm={primary:545,mac:{primary:2593}},Om={primary:565,mac:{primary:2613}},Am={primary:560,mac:{primary:2608}},Rm={primary:554,mac:{primary:2602}},Fm={primary:558,mac:{primary:2606}},Uc=19999;class Wf{constructor(t,e){this._toDispose=new Tt.SL,this._editor=t,this._state=e,this._isDisposed=!1,this._startSearchingTimer=new Bn._F,this._decorations=new Js(t),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new Bn.pY(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(n=>{(3===n.reason||5===n.reason||6===n.reason)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(n=>{this._ignoreModelContentChanged||(n.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(n=>this._onStateChanged(n))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,Tt.B9)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(t){this._isDisposed||!this._editor.hasModel()||(t.searchString||t.isReplaceRevealed||t.isRegex||t.wholeWord||t.matchCase||t.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{t.searchScope?this.research(t.moveCursor,this._state.searchScope):this.research(t.moveCursor)},240)):t.searchScope?this.research(t.moveCursor,this._state.searchScope):this.research(t.moveCursor))}static _getSearchRange(t,e){return e||t.getFullModelRange()}research(t,e){let n=null;void 0!==e?null!==e&&(n=Array.isArray(e)?e:[e]):n=this._decorations.getFindScopes(),null!==n&&(n=n.map(p=>{if(p.startLineNumber!==p.endLineNumber){let V=p.endLineNumber;return 1===p.endColumn&&(V-=1),new kt.e(p.startLineNumber,1,V,this._editor.getModel().getLineMaxColumn(V))}return p}));let o=this._findMatches(n,!1,Uc);this._decorations.set(o,n);const s=this._editor.getSelection();let d=this._decorations.getCurrentMatchesPosition(s);if(0===d&&o.length>0){const p=(0,ro.lG)(o.map(V=>V.range),V=>kt.e.compareRangesUsingStarts(V,s)>=0);d=p>0?p-1+1:d}this._state.changeMatchInfo(d,this._decorations.getCount(),void 0),t&&this._editor.getOption(35).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let t=this._decorations.getFindScope();return t&&this._editor.revealRangeInCenterIfOutsideViewport(t,0),!0}return!1}_setCurrentFindMatch(t){let e=this._decorations.setCurrentFindMatch(t);this._state.changeMatchInfo(e,this._decorations.getCount(),t),this._editor.setSelection(t),this._editor.revealRangeInCenterIfOutsideViewport(t,0)}_prevSearchPosition(t){let e=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:n,column:o}=t,s=this._editor.getModel();return e||1===o?(1===n?n=s.getLineCount():n--,o=s.getLineMaxColumn(n)):o--,new di.L(n,o)}_moveToPrevMatch(t,e=!1){if(!this._state.canNavigateBack()){const U=this._decorations.matchAfterPosition(t);return void(U&&this._setCurrentFindMatch(U))}if(this._decorations.getCount()<Uc){let U=this._decorations.matchBeforePosition(t);return U&&U.isEmpty()&&U.getStartPosition().equals(t)&&(t=this._prevSearchPosition(t),U=this._decorations.matchBeforePosition(t)),void(U&&this._setCurrentFindMatch(U))}if(this._cannotFind())return;let n=this._decorations.getFindScope(),o=Wf._getSearchRange(this._editor.getModel(),n);o.getEndPosition().isBefore(t)&&(t=o.getEndPosition()),t.isBefore(o.getStartPosition())&&(t=o.getEndPosition());let{lineNumber:s,column:d}=t,p=this._editor.getModel(),V=new di.L(s,d),H=p.findPreviousMatch(this._state.searchString,V,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,!1);if(H&&H.range.isEmpty()&&H.range.getStartPosition().equals(V)&&(V=this._prevSearchPosition(V),H=p.findPreviousMatch(this._state.searchString,V,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,!1)),H){if(!e&&!o.containsRange(H.range))return this._moveToPrevMatch(H.range.getStartPosition(),!0);this._setCurrentFindMatch(H.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(t){let e=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:n,column:o}=t,s=this._editor.getModel();return e||o===s.getLineMaxColumn(n)?(n===s.getLineCount()?n=1:n++,o=1):o++,new di.L(n,o)}_moveToNextMatch(t){if(!this._state.canNavigateForward()){const n=this._decorations.matchBeforePosition(t);return void(n&&this._setCurrentFindMatch(n))}if(this._decorations.getCount()<Uc){let n=this._decorations.matchAfterPosition(t);return n&&n.isEmpty()&&n.getStartPosition().equals(t)&&(t=this._nextSearchPosition(t),n=this._decorations.matchAfterPosition(t)),void(n&&this._setCurrentFindMatch(n))}let e=this._getNextMatch(t,!1,!0);e&&this._setCurrentFindMatch(e.range)}_getNextMatch(t,e,n,o=!1){if(this._cannotFind())return null;let s=this._decorations.getFindScope(),d=Wf._getSearchRange(this._editor.getModel(),s);d.getEndPosition().isBefore(t)&&(t=d.getStartPosition()),t.isBefore(d.getStartPosition())&&(t=d.getStartPosition());let{lineNumber:p,column:V}=t,H=this._editor.getModel(),U=new di.L(p,V),ne=H.findNextMatch(this._state.searchString,U,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,e);return n&&ne&&ne.range.isEmpty()&&ne.range.getStartPosition().equals(U)&&(U=this._nextSearchPosition(U),ne=H.findNextMatch(this._state.searchString,U,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,e)),ne?o||d.containsRange(ne.range)?ne:this._getNextMatch(ne.range.getEndPosition(),e,n,!0):null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?function(a){if(!a||0===a.length)return new nh(null);let t=[],e=new rS(a);for(let n=0,o=a.length;n<o;n++){let s=a.charCodeAt(n);if(92!==s){if(36===s){if(n++,n>=o)break;let d=a.charCodeAt(n);if(36===d){e.emitUnchanged(n-1),e.emitStatic("$",n+1);continue}if(48===d||38===d){e.emitUnchanged(n-1),e.emitMatchIndex(0,n+1,t),t.length=0;continue}if(49<=d&&d<=57){let p=d-48;if(n+1<o){let V=a.charCodeAt(n+1);if(48<=V&&V<=57){n++,p=10*p+(V-48),e.emitUnchanged(n-2),e.emitMatchIndex(p,n+1,t),t.length=0;continue}}e.emitUnchanged(n-1),e.emitMatchIndex(p,n+1,t),t.length=0;continue}}}else{if(n++,n>=o)break;let d=a.charCodeAt(n);switch(d){case 92:e.emitUnchanged(n-1),e.emitStatic("\\",n+1);break;case 110:e.emitUnchanged(n-1),e.emitStatic("\n",n+1);break;case 116:e.emitUnchanged(n-1),e.emitStatic("\t",n+1);break;case 117:case 85:case 108:case 76:e.emitUnchanged(n-1),e.emitStatic("",n+1),t.push(String.fromCharCode(d))}}}return e.finalize()}(this._state.replaceString):nh.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;let t=this._getReplacePattern(),e=this._editor.getSelection(),n=this._getNextMatch(e.getStartPosition(),!0,!1);if(n)if(e.equalsRange(n.range)){let o=t.buildReplaceString(n.matches,this._state.preserveCase),s=new xt.T4(e,o);this._executeEditorCommand("replace",s),this._decorations.setStartPosition(new di.L(e.startLineNumber,e.startColumn+o.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(n.range)}_findMatches(t,e,n){const o=(t||[null]).map(s=>Wf._getSearchRange(this._editor.getModel(),s));return this._editor.getModel().findMatches(this._state.searchString,o,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,e,n)}replaceAll(){if(!this._hasMatches())return;const t=this._decorations.getFindScopes();null===t&&this._state.matchesCount>=Uc?this._largeReplaceAll():this._regularReplaceAll(t),this.research(!1)}_largeReplaceAll(){const e=new iS.bc(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null).parseSearchRequest();if(!e)return;let n=e.regex;if(!n.multiline){let ne="mu";n.ignoreCase&&(ne+="i"),n.global&&(ne+="g"),n=new RegExp(n.source,ne)}const o=this._editor.getModel(),s=o.getValue(1),d=o.getFullModelRange(),p=this._getReplacePattern();let V;const H=this._state.preserveCase;V=s.replace(n,p.hasReplacementPatterns||H?function(){return p.buildReplaceString(arguments,H)}:p.buildReplaceString(null,H));let U=new xt.hP(d,V,this._editor.getSelection());this._executeEditorCommand("replaceAll",U)}_regularReplaceAll(t){const e=this._getReplacePattern();let n=this._findMatches(t,e.hasReplacementPatterns||this._state.preserveCase,1073741824),o=[];for(let d=0,p=n.length;d<p;d++)o[d]=e.buildReplaceString(n[d].matches,this._state.preserveCase);let s=new oS(this._editor.getSelection(),n.map(d=>d.range),o);this._executeEditorCommand("replaceAll",s)}selectAllMatches(){if(!this._hasMatches())return;let t=this._decorations.getFindScopes(),n=this._findMatches(t,!1,1073741824).map(s=>new ci.Y(s.range.startLineNumber,s.range.startColumn,s.range.endLineNumber,s.range.endColumn)),o=this._editor.getSelection();for(let s=0,d=n.length;s<d;s++)if(n[s].equalsRange(o)){n=[o].concat(n.slice(0,s)).concat(n.slice(s+1));break}this._editor.setSelections(n)}_executeEditorCommand(t,e){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(t,e),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}let cS=(()=>{class a extends sl.${constructor(e,n,o,s){super(),this._hideSoon=this._register(new Bn.pY(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=e,this._state=n,this._keybindingService=o,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const d=s.getColorTheme().getColor(y.PRb),p=s.getColorTheme().getColor(y.Pvw),V=s.getColorTheme().getColor(y.XEs);this.caseSensitive=this._register(new K1({appendTitle:this._keybindingLabelFor("toggleFindCaseSensitive"),isChecked:this._state.matchCase,inputActiveOptionBorder:d,inputActiveOptionForeground:p,inputActiveOptionBackground:V})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new $1({appendTitle:this._keybindingLabelFor("toggleFindWholeWord"),isChecked:this._state.wholeWord,inputActiveOptionBorder:d,inputActiveOptionForeground:p,inputActiveOptionBackground:V})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new Z1({appendTitle:this._keybindingLabelFor("toggleFindRegex"),isChecked:this._state.isRegex,inputActiveOptionBorder:d,inputActiveOptionForeground:p,inputActiveOptionBackground:V})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(H=>{let U=!1;H.isRegex&&(this.regex.checked=this._state.isRegex,U=!0),H.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,U=!0),H.matchCase&&(this.caseSensitive.checked=this._state.matchCase,U=!0),!this._state.isRevealed&&U&&this._revealTemporarily()})),this._register(st.j_(this._domNode,H=>this._onMouseOut())),this._register(st.nm(this._domNode,"mouseover",H=>this._onMouseOver())),this._applyTheme(s.getColorTheme()),this._register(s.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(e){let n=this._keybindingService.lookupKeybinding(e);return n?` (${n.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return a.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseOut(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){!this._isVisible||(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(e){let n={inputActiveOptionBorder:e.getColor(y.PRb),inputActiveOptionForeground:e.getColor(y.Pvw),inputActiveOptionBackground:e.getColor(y.XEs)};this.caseSensitive.style(n),this.wholeWords.style(n),this.regex.style(n)}}return a.ID="editor.contrib.findOptionsWidget",a})();function Bm(a,t){return 1===a||2!==a&&t}(0,A.Ic)((a,t)=>{const e=a.getColor(y.D0T);e&&t.addRule(`.monaco-editor .findOptionsWidget { background-color: ${e}; }`);const n=a.getColor(y.Hfx);n&&t.addRule(`.monaco-editor .findOptionsWidget { color: ${n}; }`);const o=a.getColor(y.rh);o&&t.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${o}; }`);const s=a.getColor(y.lRK);s&&t.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${s}; }`)});class dS extends Tt.JT{constructor(){super(),this._onFindReplaceStateChange=this._register(new $n.Q5),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return Bm(this._isRegexOverride,this._isRegex)}get wholeWord(){return Bm(this._wholeWordOverride,this._wholeWord)}get matchCase(){return Bm(this._matchCaseOverride,this._matchCase)}get preserveCase(){return Bm(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(t,e,n){let o={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},s=!1;0===e&&(t=0),t>e&&(t=e),this._matchesPosition!==t&&(this._matchesPosition=t,o.matchesPosition=!0,s=!0),this._matchesCount!==e&&(this._matchesCount=e,o.matchesCount=!0,s=!0),void 0!==n&&(kt.e.equalsRange(this._currentMatch,n)||(this._currentMatch=n,o.currentMatch=!0,s=!0)),s&&this._onFindReplaceStateChange.fire(o)}change(t,e,n=!0){var o;let s={moveCursor:e,updateHistory:n,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},d=!1;const p=this.isRegex,V=this.wholeWord,H=this.matchCase,U=this.preserveCase;void 0!==t.searchString&&this._searchString!==t.searchString&&(this._searchString=t.searchString,s.searchString=!0,d=!0),void 0!==t.replaceString&&this._replaceString!==t.replaceString&&(this._replaceString=t.replaceString,s.replaceString=!0,d=!0),void 0!==t.isRevealed&&this._isRevealed!==t.isRevealed&&(this._isRevealed=t.isRevealed,s.isRevealed=!0,d=!0),void 0!==t.isReplaceRevealed&&this._isReplaceRevealed!==t.isReplaceRevealed&&(this._isReplaceRevealed=t.isReplaceRevealed,s.isReplaceRevealed=!0,d=!0),void 0!==t.isRegex&&(this._isRegex=t.isRegex),void 0!==t.wholeWord&&(this._wholeWord=t.wholeWord),void 0!==t.matchCase&&(this._matchCase=t.matchCase),void 0!==t.preserveCase&&(this._preserveCase=t.preserveCase),void 0!==t.searchScope&&((null===(o=t.searchScope)||void 0===o?void 0:o.every(ne=>{var be;return null===(be=this._searchScope)||void 0===be?void 0:be.some(Ee=>!kt.e.equalsRange(Ee,ne))}))||(this._searchScope=t.searchScope,s.searchScope=!0,d=!0)),void 0!==t.loop&&this._loop!==t.loop&&(this._loop=t.loop,s.loop=!0,d=!0),void 0!==t.isSearching&&this._isSearching!==t.isSearching&&(this._isSearching=t.isSearching,s.isSearching=!0,d=!0),void 0!==t.filters&&(this._filters?this._filters.update(t.filters):this._filters=t.filters,s.filters=!0,d=!0),this._isRegexOverride=void 0!==t.isRegexOverride?t.isRegexOverride:0,this._wholeWordOverride=void 0!==t.wholeWordOverride?t.wholeWordOverride:0,this._matchCaseOverride=void 0!==t.matchCaseOverride?t.matchCaseOverride:0,this._preserveCaseOverride=void 0!==t.preserveCaseOverride?t.preserveCaseOverride:0,p!==this.isRegex&&(d=!0,s.isRegex=!0),V!==this.wholeWord&&(d=!0,s.wholeWord=!0),H!==this.matchCase&&(d=!0,s.matchCase=!0),U!==this.preserveCase&&(d=!0,s.preserveCase=!0),d&&this._onFindReplaceStateChange.fire(s)}canNavigateBack(){return this.canNavigateInLoop()||1!==this.matchesPosition}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=Uc}}function VC(a){var t,e;return"Up"===(null===(t=a.lookupKeybinding("history.showPrevious"))||void 0===t?void 0:t.getElectronAccelerator())&&"Down"===(null===(e=a.lookupKeybinding("history.showNext"))||void 0===e?void 0:e.getElectronAccelerator())}m(47009);const hS=(0,rr.q5)("find-selection",Kn.lA.selection,De.N("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),HC=(0,rr.q5)("find-collapsed",Kn.lA.chevronRight,De.N("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),zC=(0,rr.q5)("find-expanded",Kn.lA.chevronDown,De.N("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),fS=(0,rr.q5)("find-replace",Kn.lA.replace,De.N("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),gS=(0,rr.q5)("find-replace-all",Kn.lA.replaceAll,De.N("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),mS=(0,rr.q5)("find-previous-match",Kn.lA.arrowUp,De.N("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),pS=(0,rr.q5)("find-next-match",Kn.lA.arrowDown,De.N("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),_S=De.N("label.find","Find"),CS=De.N("placeholder.find","Find"),bS=De.N("label.previousMatchButton","Previous Match"),vS=De.N("label.nextMatchButton","Next Match"),wS=De.N("label.toggleSelectionFind","Find in Selection"),yS=De.N("label.closeButton","Close"),SS=De.N("label.replace","Replace"),xS=De.N("placeholder.replace","Replace"),LS=De.N("label.replaceButton","Replace"),DS=De.N("label.replaceAllButton","Replace All"),ES=De.N("label.toggleReplaceButton","Toggle Replace"),MS=De.N("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",Uc),NS=De.N("label.matchesLocation","{0} of {1}"),UC=De.N("label.noResults","No results");let Vf=69;const jC="ctrlEnterReplaceAll.windows.donotask",KC=$t.dz?256:2048;class t_{constructor(t){this.afterLineNumber=t,this.heightInPx=33,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function $C(a,t,e){const n=!!t.match(/\n/);e&&n&&e.selectionStart>0&&a.stopPropagation()}function ZC(a,t,e){const n=!!t.match(/\n/);e&&n&&e.selectionEnd<e.value.length&&a.stopPropagation()}let TS=(()=>{class a extends sl.${constructor(e,n,o,s,d,p,V,H,U){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=e,this._controller=n,this._state=o,this._contextViewProvider=s,this._keybindingService=d,this._contextKeyService=p,this._storageService=H,this._notificationService=U,this._ctrlEnterReplaceAllWarningPrompted=!!H.getBoolean(jC,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new Bn.vp(500),this._register((0,Tt.OF)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(ne=>this._onStateChanged(ne))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(ne=>{if(ne.hasChanged(81)&&(this._codeEditor.getOption(81)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),ne.hasChanged(131)&&this._tryUpdateWidgetWidth(),ne.hasChanged(2)&&this.updateAccessibilitySupport(),ne.hasChanged(35)){const be=this._codeEditor.getOption(35).addExtraSpaceOnTop;be&&!this._viewZone&&(this._viewZone=new t_(0),this._showViewZone()),!be&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})}(this,void 0,void 0,function*(){if(this._isVisible){let ne=yield this._controller.getGlobalBufferTerm();ne&&ne!==this._state.searchString&&(this._state.change({searchString:ne},!1),this._findInput.select())}}))),this._findInputFocused=Tm.bindTo(p),this._findFocusTracker=this._register(st.go(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=e_.bindTo(p),this._replaceFocusTracker=this._register(st.go(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(35).addExtraSpaceOnTop&&(this._viewZone=new t_(0)),this._applyTheme(V.getColorTheme()),this._register(V.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{!this._isVisible||(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(ne=>{ne.scrollTopChanged?this._layoutViewZone():setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return a.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(e){if(e.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}e.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),e.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),e.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(81)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=st.w(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(e.isRevealed||e.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),e.isRegex&&this._findInput.setRegex(this._state.isRegex),e.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),e.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),e.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),e.searchScope&&(this._toggleSelectionFind.checked=!!this._state.searchScope,this._updateToggleSelectionFindButton()),(e.searchString||e.matchesCount||e.matchesPosition)&&(this._domNode.classList.toggle("no-results",this._state.searchString.length>0&&0===this._state.matchesCount),this._updateMatchesCount(),this._updateButtons()),(e.searchString||e.currentMatch)&&this._layoutViewZone(),e.updateHistory&&this._delayedUpdateHistory(),e.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,Qn.dL)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){let e;if(this._matchesCount.style.minWidth=Vf+"px",this._matchesCount.title=this._state.matchesCount>=Uc?MS:"",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild),this._state.matchesCount>0){let n=String(this._state.matchesCount);this._state.matchesCount>=Uc&&(n+="+");let o=String(this._state.matchesPosition);"0"===o&&(o="?"),e=jn.WU(NS,o,n)}else e=UC;this._matchesCount.appendChild(document.createTextNode(e)),(0,$s.Z9)(this._getAriaLabel(e,this._state.currentMatch,this._state.searchString)),Vf=Math.max(Vf,this._matchesCount.clientWidth)}_getAriaLabel(e,n,o){if(e===UC)return""===o?De.N("ariaSearchNoResultEmpty","{0} found",e):De.N("ariaSearchNoResult","{0} found for '{1}'",e,o);if(n){const s=De.N("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",e,o,n.startLineNumber+":"+n.startColumn),d=this._codeEditor.getModel();return d&&n.startLineNumber<=d.getLineCount()&&n.startLineNumber>=1?`${d.getLineContent(n.startLineNumber)}, ${s}`:s}return De.N("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",e,o)}_updateToggleSelectionFindButton(){let e=this._codeEditor.getSelection();this._isVisible&&(this._toggleSelectionFind.checked||e&&(e.startLineNumber!==e.endLineNumber||e.startColumn!==e.endColumn))?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let e=this._state.searchString.length>0,n=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&e&&n&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&e&&n&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let o=!this._codeEditor.getOption(81);this._toggleReplaceBtn.setEnabled(this._isVisible&&o)}_reveal(){if(this._revealTimeouts.forEach(e=>{clearTimeout(e)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const e=this._codeEditor.getSelection();switch(this._codeEditor.getOption(35).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":this._toggleSelectionFind.checked=!!e&&e.startLineNumber!==e.endLineNumber}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let n=!0;if(this._codeEditor.getOption(35).seedSearchStringFromSelection&&e){const o=this._codeEditor.getDomNode();if(o){const s=st.i(o),d=this._codeEditor.getScrolledVisiblePosition(e.getStartPosition()),p=s.left+(d?d.left:0),V=d?d.top:0;if(this._viewZone&&V<this._viewZone.heightInPx){e.endLineNumber>e.startLineNumber&&(n=!1);const H=st.xQ(this._domNode).left;p>H&&(n=!1);const U=this._codeEditor.getScrolledVisiblePosition(e.getEndPosition());s.left+(U?U.left:0)>H&&(n=!1)}}}this._showViewZone(n)}}_hide(e){this._revealTimeouts.forEach(n=>{clearTimeout(n)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),e&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(e){if(!this._codeEditor.getOption(35).addExtraSpaceOnTop)return void this._removeViewZone();if(!this._isVisible)return;const o=this._viewZone;void 0!==this._viewZoneId||!o||this._codeEditor.changeViewZones(s=>{o.heightInPx=this._getHeight(),this._viewZoneId=s.addZone(o),this._codeEditor.setScrollTop(e||this._codeEditor.getScrollTop()+o.heightInPx)})}_showViewZone(e=!0){if(!this._isVisible||!this._codeEditor.getOption(35).addExtraSpaceOnTop)return;void 0===this._viewZone&&(this._viewZone=new t_(0));const o=this._viewZone;this._codeEditor.changeViewZones(s=>{if(void 0!==this._viewZoneId){const d=this._getHeight();if(d===o.heightInPx)return;let p=d-o.heightInPx;return o.heightInPx=d,s.layoutZone(this._viewZoneId),void(e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+p))}{let d=this._getHeight();if(d-=this._codeEditor.getOption(75).top,d<=0)return;o.heightInPx=d,this._viewZoneId=s.addZone(o),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+d)}})}_removeViewZone(){this._codeEditor.changeViewZones(e=>{void 0!==this._viewZoneId&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(e){let n={inputActiveOptionBorder:e.getColor(y.PRb),inputActiveOptionBackground:e.getColor(y.XEs),inputActiveOptionForeground:e.getColor(y.Pvw),inputBackground:e.getColor(y.sEe),inputForeground:e.getColor(y.zJb),inputBorder:e.getColor(y.dt_),inputValidationInfoBackground:e.getColor(y._lC),inputValidationInfoForeground:e.getColor(y.YI3),inputValidationInfoBorder:e.getColor(y.EPQ),inputValidationWarningBackground:e.getColor(y.RV_),inputValidationWarningForeground:e.getColor(y.SUG),inputValidationWarningBorder:e.getColor(y.C3g),inputValidationErrorBackground:e.getColor(y.paE),inputValidationErrorForeground:e.getColor(y._t9),inputValidationErrorBorder:e.getColor(y.OZR)};this._findInput.style(n),this._replaceInput.style(n),this._toggleSelectionFind.style(n)}_tryUpdateWidgetWidth(){if(!this._isVisible||!st.Uw(this._domNode))return;const e=this._codeEditor.getLayoutInfo();if(e.contentWidth<=0)return void this._domNode.classList.add("hiddenEditor");this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const o=e.width,s=e.minimap.minimapWidth;let d=!1,p=!1,V=!1;if(this._resized&&st.w(this._domNode)>419)return this._domNode.style.maxWidth=o-28-s-15+"px",void(this._replaceInput.width=st.w(this._findInput.domNode));if(447+s>=o&&(p=!0),447+s-Vf>=o&&(V=!0),447+s-Vf>=o+50&&(d=!0),this._domNode.classList.toggle("collapsed-find-widget",d),this._domNode.classList.toggle("narrow-find-widget",V),this._domNode.classList.toggle("reduced-find-widget",p),!V&&!d&&(this._domNode.style.maxWidth=o-28-s-15+"px"),this._resized){this._findInput.inputBox.layout();let H=this._findInput.inputBox.element.clientWidth;H>0&&(this._replaceInput.width=H)}else this._isReplaceVisible&&(this._replaceInput.width=st.w(this._findInput.domNode))}_getHeight(){let e=0;return e+=4,e+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(e+=4,e+=this._replaceInput.inputBox.height+2),e+=4,e}_tryUpdateHeight(){const e=this._getHeight();return(null===this._cachedHeight||this._cachedHeight!==e)&&(this._cachedHeight=e,this._domNode.style.height=`${e}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let e=this._codeEditor.getSelections();e.map(n=>(1===n.endColumn&&n.endLineNumber>n.startLineNumber&&(n=n.setEndPosition(n.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(n.endLineNumber-1))),n.startLineNumber===n.endLineNumber||kt.e.equalsRange(n,this._state.currentMatch)?null:n)).filter(n=>!!n),e.length&&this._state.change({searchScope:e},!0)}}_onFindInputMouseDown(e){e.middleButton&&e.stopPropagation()}_onFindInputKeyDown(e){return e.equals(3|KC)?(this._keybindingService.dispatchEvent(e,e.target)||this._findInput.inputBox.insertAtCursor("\n"),void e.preventDefault()):e.equals(2)?(this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),void e.preventDefault()):e.equals(2066)?(this._codeEditor.focus(),void e.preventDefault()):e.equals(16)?$C(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):e.equals(18)?ZC(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):void 0}_onReplaceInputKeyDown(e){return e.equals(3|KC)?(this._keybindingService.dispatchEvent(e,e.target)||($t.ED&&$t.tY&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(De.N("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(jC,!0,0,0)),this._replaceInput.inputBox.insertAtCursor("\n")),void e.preventDefault()):e.equals(2)?(this._findInput.focusOnCaseSensitive(),void e.preventDefault()):e.equals(1026)?(this._findInput.focus(),void e.preventDefault()):e.equals(2066)?(this._codeEditor.focus(),void e.preventDefault()):e.equals(16)?$C(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):e.equals(18)?ZC(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):void 0}getVerticalSashLeft(e){return 0}_keybindingLabelFor(e){let n=this._keybindingService.lookupKeybinding(e);return n?` (${n.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new E0(null,this._contextViewProvider,{width:221,label:_S,placeholder:CS,appendCaseSensitiveLabel:this._keybindingLabelFor("toggleFindCaseSensitive"),appendWholeWordsLabel:this._keybindingLabelFor("toggleFindWholeWord"),appendRegexLabel:this._keybindingLabelFor("toggleFindRegex"),validation:H=>{if(0===H.length||!this._findInput.getRegex())return null;try{return new RegExp(H,"gu"),null}catch(U){return{content:U.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>VC(this._keybindingService)},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(H=>this._onFindInputKeyDown(H))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(H=>{H.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),H.preventDefault())})),this._register(this._findInput.onRegexKeyDown(H=>{H.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),H.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(H=>{this._tryUpdateHeight()&&this._showViewZone()})),$t.IJ&&this._register(this._findInput.onMouseDown(H=>this._onFindInputMouseDown(H))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new ih({label:bS+this._keybindingLabelFor("editor.action.previousMatchFindAction"),icon:mS,onTrigger:()=>{this._codeEditor.getAction("editor.action.previousMatchFindAction").run().then(void 0,Qn.dL)}})),this._nextBtn=this._register(new ih({label:vS+this._keybindingLabelFor("editor.action.nextMatchFindAction"),icon:pS,onTrigger:()=>{this._codeEditor.getAction("editor.action.nextMatchFindAction").run().then(void 0,Qn.dL)}}));let o=document.createElement("div");o.className="find-part",o.appendChild(this._findInput.domNode);const s=document.createElement("div");s.className="find-actions",o.appendChild(s),s.appendChild(this._matchesCount),s.appendChild(this._prevBtn.domNode),s.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new kf({icon:hS,title:wS+this._keybindingLabelFor("toggleFindInSelection"),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let H=this._codeEditor.getSelections();H.map(U=>(1===U.endColumn&&U.endLineNumber>U.startLineNumber&&(U=U.setEndPosition(U.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(U.endLineNumber-1))),U.isEmpty()?null:U)).filter(U=>!!U),H.length&&this._state.change({searchScope:H},!0)}}else this._state.change({searchScope:null},!0)})),s.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new ih({label:yS+this._keybindingLabelFor("closeFindWidget"),icon:rr.s_,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:H=>{H.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),H.preventDefault())}})),s.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new M0(null,void 0,{label:SS,placeholder:xS,appendPreserveCaseLabel:this._keybindingLabelFor("togglePreserveCase"),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>VC(this._keybindingService)},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(H=>this._onReplaceInputKeyDown(H))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(H=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(H=>{H.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),H.preventDefault())})),this._replaceBtn=this._register(new ih({label:LS+this._keybindingLabelFor("editor.action.replaceOne"),icon:fS,onTrigger:()=>{this._controller.replace()},onKeyDown:H=>{H.equals(1026)&&(this._closeBtn.focus(),H.preventDefault())}})),this._replaceAllBtn=this._register(new ih({label:DS+this._keybindingLabelFor("editor.action.replaceAll"),icon:gS,onTrigger:()=>{this._controller.replaceAll()}}));let d=document.createElement("div");d.className="replace-part",d.appendChild(this._replaceInput.domNode);const p=document.createElement("div");p.className="replace-actions",d.appendChild(p),p.appendChild(this._replaceBtn.domNode),p.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new ih({label:ES,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=st.w(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width="419px",this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(o),this._domNode.appendChild(d),this._resizeSash=new ua.g(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let V=419;this._register(this._resizeSash.onDidStart(()=>{V=st.w(this._domNode)})),this._register(this._resizeSash.onDidChange(H=>{this._resized=!0;let U=V+H.startX-H.currentX;U<419||U>(parseFloat(st.Dx(this._domNode).maxWidth)||0)||(this._domNode.style.width=`${U}px`,this._isReplaceVisible&&(this._replaceInput.width=st.w(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const H=st.w(this._domNode);if(H<419)return;let U=419;if(!this._resized||419===H){const ne=this._codeEditor.getLayoutInfo();U=ne.width-28-ne.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${U}px`,this._isReplaceVisible&&(this._replaceInput.width=st.w(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const e=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(2!==e)}}return a.ID="editor.contrib.findWidget",a})();class ih extends sl.${constructor(t){super(),this._opts=t;let e="button";this._opts.className&&(e=e+" "+this._opts.className),this._opts.icon&&(e=e+" "+A.kS.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=e,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,n=>{this._opts.onTrigger(),n.preventDefault()}),this.onkeydown(this._domNode,n=>{if(n.equals(10)||n.equals(3))return this._opts.onTrigger(),void n.preventDefault();this._opts.onKeyDown&&this._opts.onKeyDown(n)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(t){this._domNode.classList.toggle("disabled",!t),this._domNode.setAttribute("aria-disabled",String(!t)),this._domNode.tabIndex=t?0:-1}setExpanded(t){this._domNode.setAttribute("aria-expanded",String(!!t)),t?(this._domNode.classList.remove(...A.kS.asClassNameArray(HC)),this._domNode.classList.add(...A.kS.asClassNameArray(zC))):(this._domNode.classList.remove(...A.kS.asClassNameArray(zC)),this._domNode.classList.add(...A.kS.asClassNameArray(HC)))}}(0,A.Ic)((a,t)=>{const e=(Ke,ct)=>{ct&&t.addRule(`.monaco-editor ${Ke} { background-color: ${ct}; }`)};e(".findMatch",a.getColor(y.MUv)),e(".currentFindMatch",a.getColor(y.nyM)),e(".findScope",a.getColor(y.jUe)),e(".find-widget",a.getColor(y.D0T));const o=a.getColor(y.rh);o&&t.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${o}; }`);const s=a.getColor(y.EiJ);s&&t.addRule(`.monaco-editor .findMatch { border: 1px ${"hc"===a.type?"dotted":"solid"} ${s}; box-sizing: border-box; }`);const d=a.getColor(y.pnM);d&&t.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${d}; padding: 1px; box-sizing: border-box; }`);const p=a.getColor(y.gkn);p&&t.addRule(`.monaco-editor .findScope { border: 1px ${"hc"===a.type?"dashed":"solid"} ${p}; }`);const V=a.getColor(y.lRK);V&&t.addRule(`.monaco-editor .find-widget { border: 1px solid ${V}; }`);const H=a.getColor(y.Hfx);H&&t.addRule(`.monaco-editor .find-widget { color: ${H}; }`);const U=a.getColor(y.Ido);U&&t.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${U}; }`);const ne=a.getColor(y.Ng6);if(ne)t.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${ne}; }`);else{const Ke=a.getColor(y.D1_);Ke&&t.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${Ke}; }`)}const be=a.getColor(y.lUq);be&&t.addRule(`\n\t\t.monaco-editor .find-widget .button:not(.disabled):hover,\n\t\t.monaco-editor .find-widget .codicon-find-selection:hover {\n\t\t\tbackground-color: ${be} !important;\n\t\t}\n\t`);const Ee=a.getColor(y.R80);Ee&&t.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${Ee}; }`)});var GC=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},hl=function(a,t){return function(e,n){t(e,n,a)}},$d=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})};function n_(a,t="single",e=!1){if(!a.hasModel())return null;const n=a.getSelection();if("single"===t&&n.startLineNumber===n.endLineNumber||"multiple"===t)if(n.isEmpty()){const o=a.getConfiguredWordAtPosition(n.getStartPosition());if(o&&!1===e)return o.word}else if(a.getModel().getValueLengthInRange(n)<524288)return a.getModel().getValueInRange(n);return null}let Rr=class uw extends Tt.JT{constructor(t,e,n,o){super(),this._editor=t,this._findWidgetVisible=zc.bindTo(e),this._contextKeyService=e,this._storageService=n,this._clipboardService=o,this._updateHistoryDelayer=new Bn.vp(500),this._state=this._register(new dS),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(s=>this._onStateChanged(s))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{let s=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),s&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(35).loop})}))}get editor(){return this._editor}static get(t){return t.getContribution(uw.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(t){this.saveQueryState(t),t.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),t.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(t){t.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),t.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),t.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),t.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!Tm.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let t=this._editor.getSelections();t.map(e=>(1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,this._editor.getModel().getLineMaxColumn(e.endLineNumber-1))),e.isEmpty()?null:e)).filter(e=>!!e),t.length&&this._state.change({searchScope:t},!0)}}setSearchString(t){this._state.isRegex&&(t=jn.ec(t)),this._state.change({searchString:t},!1)}highlightFindOptions(t=!1){}_start(t,e){return $d(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;let n=Object.assign(Object.assign({},e),{isRevealed:!0});if("single"===t.seedSearchStringFromSelection){let o=n_(this._editor,t.seedSearchStringFromSelection,t.seedSearchStringFromNonEmptySelection);o&&(n.searchString=this._state.isRegex?jn.ec(o):o)}else if("multiple"===t.seedSearchStringFromSelection&&!t.updateSearchScope){let o=n_(this._editor,t.seedSearchStringFromSelection);o&&(n.searchString=o)}if(!n.searchString&&t.seedSearchStringFromGlobalClipboard){let o=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;o&&(n.searchString=o)}if(t.forceRevealReplace||n.isReplaceRevealed?n.isReplaceRevealed=!0:this._findWidgetVisible.get()||(n.isReplaceRevealed=!1),t.updateSearchScope){let o=this._editor.getSelections();o.some(s=>!s.isEmpty())&&(n.searchScope=o)}n.loop=t.loop,this._state.change(n,!1),this._model||(this._model=new Wf(this._editor,this._state))})}start(t,e){return this._start(t,e)}moveToNextMatch(){return!!this._model&&(this._model.moveToNextMatch(),!0)}moveToPrevMatch(){return!!this._model&&(this._model.moveToPrevMatch(),!0)}replace(){return!!this._model&&(this._model.replace(),!0)}replaceAll(){return!!this._model&&(this._model.replaceAll(),!0)}selectAllMatches(){return!!this._model&&(this._model.selectAllMatches(),this._editor.focus(),!0)}getGlobalBufferTerm(){return $d(this,void 0,void 0,function*(){return this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(t){this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(t)}};Rr.ID="editor.contrib.findController",Rr=GC([hl(1,Qt.i6),hl(2,mr.Uy),hl(3,Rn.p)],Rr);let i_=class extends Rr{constructor(t,e,n,o,s,d,p,V){super(t,n,p,V),this._contextViewService=e,this._keybindingService=o,this._themeService=s,this._notificationService=d,this._widget=null,this._findOptionsWidget=null}_start(t,e){const n=Object.create(null,{_start:{get:()=>super._start}});return $d(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const o=this._editor.getSelection();let s=!1;switch(this._editor.getOption(35).autoFindInSelection){case"always":s=!0;break;case"never":s=!1;break;case"multiline":s=!!o&&o.startLineNumber!==o.endLineNumber}t.updateSearchScope=t.updateSearchScope||s,yield n._start.call(this,t,e),this._widget&&(2===t.shouldFocus?this._widget.focusReplaceInput():1===t.shouldFocus&&this._widget.focusFindInput())})}highlightFindOptions(t=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!t?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new TS(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new cS(this._editor,this._state,this._keybindingService,this._themeService))}};i_=GC([hl(1,Ol.u),hl(2,Qt.i6),hl(3,Zs.d),hl(4,A.XE),hl(5,us.lT),hl(6,mr.Uy),hl(7,Rn.p)],i_),(0,Qe.rn)(new Qe.jY({id:"actions.find",label:De.N("startFindAction","Find"),alias:"Find",precondition:Qt.Ao.or(Ct.u.focus,Qt.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:_.eH.MenubarEditMenu,group:"3_find",title:De.N({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}})).addImplementation(0,(a,t,e)=>{const n=Rr.get(t);return!!n&&n.start({forceRevealReplace:!1,seedSearchStringFromSelection:"never"!==t.getOption(35).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===t.getOption(35).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:t.getOption(35).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(35).loop})});const OS={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:De.N("actions.find.isRegexOverride",'Overrides "Use Regular Expression" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:De.N("actions.find.wholeWordOverride",'Overrides "Match Whole Word" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:De.N("actions.find.matchCaseOverride",'Overrides "Math Case" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:De.N("actions.find.preserveCaseOverride",'Overrides "Preserve Case" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},findInSelection:{type:"boolean"}}}}]};class QC extends Qe.R6{run(t,e){return $d(this,void 0,void 0,function*(){const n=Rr.get(e);n&&!this._run(n)&&(yield n.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===n.getState().searchString.length&&"never"!==e.getOption(35).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===e.getOption(35).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:e.getOption(35).loop}),this._run(n))})}}class YC extends Qe.R6{run(t,e){return $d(this,void 0,void 0,function*(){const n=Rr.get(e);if(!n)return;const o="selection"===e.getOption(35).seedSearchStringFromSelection;let s=null;"never"!==e.getOption(35).seedSearchStringFromSelection&&(s=n_(e,"single",o)),s&&n.setSearchString(s),this._run(n)||(yield n.start({forceRevealReplace:!1,seedSearchStringFromSelection:"never"!==e.getOption(35).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:o,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:e.getOption(35).loop}),this._run(n))})}}(0,Qe.rn)(new Qe.jY({id:"editor.action.startFindReplaceAction",label:De.N("startReplace","Replace"),alias:"Replace",precondition:Qt.Ao.or(Ct.u.focus,Qt.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:_.eH.MenubarEditMenu,group:"3_find",title:De.N({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}})).addImplementation(0,(a,t,e)=>{if(!t.hasModel()||t.getOption(81))return!1;const n=Rr.get(t);if(!n)return!1;const o=t.getSelection(),s=n.isFindInputFocused(),d=!o.isEmpty()&&o.startLineNumber===o.endLineNumber&&"never"!==t.getOption(35).seedSearchStringFromSelection&&!s,p=s||d?2:1;return n.start({forceRevealReplace:!0,seedSearchStringFromSelection:d?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===t.getOption(35).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:"never"!==t.getOption(35).seedSearchStringFromSelection,shouldFocus:p,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(35).loop})}),(0,Qe._K)(Rr.ID,i_),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.actions.findWithArgs",label:De.N("startFindWithArgsAction","Find With Arguments"),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:OS})}run(t,e,n){return $d(this,void 0,void 0,function*(){const o=Rr.get(e);if(o){const s=n?{searchString:n.searchString,replaceString:n.replaceString,isReplaceRevealed:void 0!==n.replaceString,isRegex:n.isRegex,wholeWord:n.matchWholeWord,matchCase:n.isCaseSensitive,preserveCase:n.preserveCase}:{};yield o.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===o.getState().searchString.length&&"never"!==e.getOption(35).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===e.getOption(35).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:(null==n?void 0:n.findInSelection)||!1,loop:e.getOption(35).loop},s),o.setGlobalBufferTerm(o.getState().searchString)}})}}),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"actions.findWithSelection",label:De.N("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(t,e){return $d(this,void 0,void 0,function*(){const n=Rr.get(e);n&&(yield n.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:e.getOption(35).loop}),n.setGlobalBufferTerm(n.getState().searchString))})}}),(0,Qe.Qr)(class extends QC{constructor(){super({id:"editor.action.nextMatchFindAction",label:De.N("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:Ct.u.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:Qt.Ao.and(Ct.u.focus,Tm),primary:3,weight:100}]})}_run(t){return!!t.moveToNextMatch()&&(t.editor.pushUndoStop(),!0)}}),(0,Qe.Qr)(class extends QC{constructor(){super({id:"editor.action.previousMatchFindAction",label:De.N("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:Ct.u.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:Qt.Ao.and(Ct.u.focus,Tm),primary:1027,weight:100}]})}_run(t){return t.moveToPrevMatch()}}),(0,Qe.Qr)(class extends YC{constructor(){super({id:"editor.action.nextSelectionMatchFindAction",label:De.N("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:Ct.u.focus,primary:2109,weight:100}})}_run(t){return t.moveToNextMatch()}}),(0,Qe.Qr)(class extends YC{constructor(){super({id:"editor.action.previousSelectionMatchFindAction",label:De.N("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:Ct.u.focus,primary:3133,weight:100}})}_run(t){return t.moveToPrevMatch()}});const Va=Qe._l.bindToContribution(Rr.get);(0,Qe.fK)(new Va({id:"closeFindWidget",precondition:zc,handler:a=>a.closeFindWidget(),kbOpts:{weight:105,kbExpr:Qt.Ao.and(Ct.u.focus,Qt.Ao.not("isComposing")),primary:9,secondary:[1033]}})),(0,Qe.fK)(new Va({id:"toggleFindCaseSensitive",precondition:void 0,handler:a=>a.toggleCaseSensitive(),kbOpts:{weight:105,kbExpr:Ct.u.focus,primary:Pm.primary,mac:Pm.mac,win:Pm.win,linux:Pm.linux}})),(0,Qe.fK)(new Va({id:"toggleFindWholeWord",precondition:void 0,handler:a=>a.toggleWholeWords(),kbOpts:{weight:105,kbExpr:Ct.u.focus,primary:Om.primary,mac:Om.mac,win:Om.win,linux:Om.linux}})),(0,Qe.fK)(new Va({id:"toggleFindRegex",precondition:void 0,handler:a=>a.toggleRegex(),kbOpts:{weight:105,kbExpr:Ct.u.focus,primary:Am.primary,mac:Am.mac,win:Am.win,linux:Am.linux}})),(0,Qe.fK)(new Va({id:"toggleFindInSelection",precondition:void 0,handler:a=>a.toggleSearchScope(),kbOpts:{weight:105,kbExpr:Ct.u.focus,primary:Rm.primary,mac:Rm.mac,win:Rm.win,linux:Rm.linux}})),(0,Qe.fK)(new Va({id:"togglePreserveCase",precondition:void 0,handler:a=>a.togglePreserveCase(),kbOpts:{weight:105,kbExpr:Ct.u.focus,primary:Fm.primary,mac:Fm.mac,win:Fm.win,linux:Fm.linux}})),(0,Qe.fK)(new Va({id:"editor.action.replaceOne",precondition:zc,handler:a=>a.replace(),kbOpts:{weight:105,kbExpr:Ct.u.focus,primary:3094}})),(0,Qe.fK)(new Va({id:"editor.action.replaceOne",precondition:zc,handler:a=>a.replace(),kbOpts:{weight:105,kbExpr:Qt.Ao.and(Ct.u.focus,e_),primary:3}})),(0,Qe.fK)(new Va({id:"editor.action.replaceAll",precondition:zc,handler:a=>a.replaceAll(),kbOpts:{weight:105,kbExpr:Ct.u.focus,primary:2563}})),(0,Qe.fK)(new Va({id:"editor.action.replaceAll",precondition:zc,handler:a=>a.replaceAll(),kbOpts:{weight:105,kbExpr:Qt.Ao.and(Ct.u.focus,e_),primary:void 0,mac:{primary:2051}}})),(0,Qe.fK)(new Va({id:"editor.action.selectAllMatches",precondition:zc,handler:a=>a.selectAllMatches(),kbOpts:{weight:105,kbExpr:Ct.u.focus,primary:515}})),m(45618);const ql=16777215,XC=4278190080;class Hf{constructor(t,e,n){if(t.length!==e.length||t.length>65535)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=t,this._endIndexes=e,this._collapseStates=new Uint32Array(Math.ceil(t.length/32)),this._types=n,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let t=[],e=(n,o)=>{let s=t[t.length-1];return this.getStartLineNumber(s)<=n&&this.getEndLineNumber(s)>=o};for(let n=0,o=this._startIndexes.length;n<o;n++){let s=this._startIndexes[n],d=this._endIndexes[n];if(s>ql||d>ql)throw new Error("startLineNumber or endLineNumber must not exceed "+ql);for(;t.length>0&&!e(s,d);)t.pop();let p=t.length>0?t[t.length-1]:-1;t.push(n),this._startIndexes[n]=s+((255&p)<<24),this._endIndexes[n]=d+((65280&p)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(t){return this._startIndexes[t]&ql}getEndLineNumber(t){return this._endIndexes[t]&ql}getType(t){return this._types?this._types[t]:void 0}hasTypes(){return!!this._types}isCollapsed(t){return 0!=(this._collapseStates[t/32|0]&1<<t%32)}setCollapsed(t,e){let n=t/32|0,o=t%32,s=this._collapseStates[n];this._collapseStates[n]=e?s|1<<o:s&~(1<<o)}setCollapsedAllOfType(t,e){let n=!1;if(this._types)for(let o=0;o<this._types.length;o++)this._types[o]===t&&(this.setCollapsed(o,e),n=!0);return n}toRegion(t){return new HS(this,t)}getParentIndex(t){this.ensureParentIndices();let e=((this._startIndexes[t]&XC)>>>24)+((this._endIndexes[t]&XC)>>>16);return 65535===e?-1:e}contains(t,e){return this.getStartLineNumber(t)<=e&&this.getEndLineNumber(t)>=e}findIndex(t){let e=0,n=this._startIndexes.length;if(0===n)return-1;for(;e<n;){let o=Math.floor((e+n)/2);t<this.getStartLineNumber(o)?n=o:e=o+1}return e-1}findRange(t){let e=this.findIndex(t);if(e>=0){if(this.getEndLineNumber(e)>=t)return e;for(e=this.getParentIndex(e);-1!==e;){if(this.contains(e,t))return e;e=this.getParentIndex(e)}}return-1}toString(){let t=[];for(let e=0;e<this.length;e++)t[e]=`[${this.isCollapsed(e)?"+":"-"}] ${this.getStartLineNumber(e)}/${this.getEndLineNumber(e)}`;return t.join(", ")}}class HS{constructor(t,e){this.ranges=t,this.index=e}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(t){return t.startLineNumber<=this.startLineNumber&&t.endLineNumber>=this.endLineNumber}containsLine(t){return this.startLineNumber<=t&&t<=this.endLineNumber}}class zS{constructor(t,e){this._updateEventEmitter=new $n.Q5,this.onDidChange=this._updateEventEmitter.event,this._textModel=t,this._decorationProvider=e,this._regions=new Hf(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}get regions(){return this._regions}get textModel(){return this._textModel}get isInitialized(){return this._isInitialized}toggleCollapseState(t){if(!t.length)return;t=t.sort((n,o)=>n.regionIndex-o.regionIndex);const e={};this._decorationProvider.changeDecorations(n=>{let o=0,s=-1,d=-1;const p=V=>{for(;o<V;){const H=this._regions.getEndLineNumber(o),U=this._regions.isCollapsed(o);H<=s&&n.changeDecorationOptions(this._editorDecorationIds[o],this._decorationProvider.getDecorationOption(U,H<=d)),U&&H>d&&(d=H),o++}};for(let V of t){let H=V.regionIndex,U=this._editorDecorationIds[H];if(U&&!e[U]){e[U]=!0,p(H);let ne=!this._regions.isCollapsed(H);this._regions.setCollapsed(H,ne),s=Math.max(s,this._regions.getEndLineNumber(H))}}p(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:t})}update(t,e=[]){let n=[],s=-1,d=(ne,be)=>{const Ee=t.getStartLineNumber(ne),Ke=t.getEndLineNumber(ne);be||(be=t.isCollapsed(ne)),be&&((ne,be)=>{for(let Ee of e)if(ne<Ee&&Ee<=be)return!0;return!1})(Ee,Ke)&&(be=!1),t.setCollapsed(ne,be);const ct=this._textModel.getLineMaxColumn(Ee),Pt={startLineNumber:Ee,startColumn:Math.max(ct-1,1),endLineNumber:Ee,endColumn:ct};n.push({range:Pt,options:this._decorationProvider.getDecorationOption(be,Ke<=s)}),be&&Ke>s&&(s=Ke)},p=0,V=()=>{for(;p<this._regions.length;){let ne=this._regions.isCollapsed(p);if(p++,ne)return p-1}return-1},H=0,U=V();for(;-1!==U&&H<t.length;){let ne=this._textModel.getDecorationRange(this._editorDecorationIds[U]);if(ne){let be=ne.startLineNumber;if(ne.startColumn===Math.max(ne.endColumn-1,1)&&this._textModel.getLineMaxColumn(be)===ne.endColumn)for(;H<t.length;){let Ee=t.getStartLineNumber(H);if(!(be>=Ee))break;d(H,be===Ee),H++}}U=V()}for(;H<t.length;)d(H,!1),H++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,n),this._regions=t,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})}getMemento(){let t=[];for(let e=0;e<this._regions.length;e++)if(this._regions.isCollapsed(e)){let n=this._textModel.getDecorationRange(this._editorDecorationIds[e]);if(n){let o=n.startLineNumber,s=n.endLineNumber+this._regions.getEndLineNumber(e)-this._regions.getStartLineNumber(e);t.push({startLineNumber:o,endLineNumber:s})}}if(t.length>0)return t}applyMemento(t){if(!Array.isArray(t))return;let e=[];for(let n of t){let o=this.getRegionAtLine(n.startLineNumber);o&&!o.isCollapsed&&e.push(o)}this.toggleCollapseState(e)}dispose(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])}getAllRegionsAtLine(t,e){let n=[];if(this._regions){let o=this._regions.findRange(t),s=1;for(;o>=0;){let d=this._regions.toRegion(o);(!e||e(d,s))&&n.push(d),s++,o=d.parentIndex}}return n}getRegionAtLine(t){if(this._regions){let e=this._regions.findRange(t);if(e>=0)return this._regions.toRegion(e)}return null}getRegionsInside(t,e){let n=[],o=t?t.regionIndex+1:0,s=t?t.endLineNumber:Number.MAX_VALUE;if(e&&2===e.length){const d=[];for(let p=o,V=this._regions.length;p<V;p++){let H=this._regions.toRegion(p);if(!(this._regions.getStartLineNumber(p)<s))break;for(;d.length>0&&!H.containedBy(d[d.length-1]);)d.pop();d.push(H),e(H,d.length)&&n.push(H)}}else for(let d=o,p=this._regions.length;d<p;d++){let V=this._regions.toRegion(d);if(!(this._regions.getStartLineNumber(d)<s))break;(!e||e(V))&&n.push(V)}return n}}function oh(a,t,e=Number.MAX_VALUE,n){let o=[];if(n&&n.length>0)for(let s of n){let d=a.getRegionAtLine(s);if(d&&(d.isCollapsed!==t&&o.push(d),e>1)){let p=a.getRegionsInside(d,(V,H)=>V.isCollapsed!==t&&H<e);o.push(...p)}}else{let s=a.getRegionsInside(null,(d,p)=>d.isCollapsed!==t&&p<e);o.push(...s)}a.toggleCollapseState(o)}function qC(a,t,e,n){let o=[];for(let s of n){let d=a.getAllRegionsAtLine(s,(p,V)=>p.isCollapsed!==t&&V<=e);o.push(...d)}a.toggleCollapseState(o)}function eb(a,t,e){let n=[];for(let d of e){const p=a.getAllRegionsAtLine(d,void 0);p.length>0&&n.push(p[0])}let s=a.getRegionsInside(null,d=>n.every(p=>!p.containedBy(d)&&!d.containedBy(p))&&d.isCollapsed!==t);a.toggleCollapseState(s)}function o_(a,t,e){let n=a.textModel,o=a.regions,s=[];for(let d=o.length-1;d>=0;d--)if(e!==o.isCollapsed(d)){let p=o.getStartLineNumber(d);t.test(n.getLineContent(p))&&s.push(o.toRegion(d))}a.toggleCollapseState(s)}function s_(a,t,e){let n=a.regions,o=[];for(let s=n.length-1;s>=0;s--)e!==n.isCollapsed(s)&&t===n.getType(s)&&o.push(n.toRegion(s));a.toggleCollapseState(o)}var QS=m(34048);class YS{constructor(t){this._updateEventEmitter=new $n.Q5,this._hasLineChanges=!1,this._foldingModel=t,this._foldingModelListener=t.onDidChange(e=>this.updateHiddenRanges()),this._hiddenRanges=[],t.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}notifyChangeModelContent(t){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=t.changes.some(e=>e.range.endLineNumber!==e.range.startLineNumber||0!==(0,QS.Q)(e.text)[0]))}updateHiddenRanges(){let t=!1,e=[],n=0,o=0,s=Number.MAX_VALUE,d=-1,p=this._foldingModel.regions;for(;n<p.length;n++){if(!p.isCollapsed(n))continue;let V=p.getStartLineNumber(n)+1,H=p.getEndLineNumber(n);s<=V&&H<=d||(!t&&o<this._hiddenRanges.length&&this._hiddenRanges[o].startLineNumber===V&&this._hiddenRanges[o].endLineNumber===H?(e.push(this._hiddenRanges[o]),o++):(t=!0,e.push(new kt.e(V,1,H,1))),s=V,d=H)}(this._hasLineChanges||t||o<this._hiddenRanges.length)&&this.applyHiddenRanges(e)}applyMemento(t){if(!Array.isArray(t)||0===t.length)return!1;let e=[];for(let n of t){if(!n.startLineNumber||!n.endLineNumber)return!1;e.push(new kt.e(n.startLineNumber+1,1,n.endLineNumber,1))}return this.applyHiddenRanges(e),!0}getMemento(){return this._hiddenRanges.map(t=>({startLineNumber:t.startLineNumber-1,endLineNumber:t.endLineNumber}))}applyHiddenRanges(t){this._hiddenRanges=t,this._hasLineChanges=!1,this._updateEventEmitter.fire(t)}hasRanges(){return this._hiddenRanges.length>0}isHidden(t){return null!==tb(this._hiddenRanges,t)}adjustSelections(t){let e=!1,n=this._foldingModel.textModel,o=null,s=d=>((!o||!function(a,t){return a>=t.startLineNumber&&a<=t.endLineNumber}(d,o))&&(o=tb(this._hiddenRanges,d)),o?o.startLineNumber-1:null);for(let d=0,p=t.length;d<p;d++){let V=t[d],H=s(V.startLineNumber);H&&(V=V.setStartPosition(H,n.getLineMaxColumn(H)),e=!0);let U=s(V.endLineNumber);U&&(V=V.setEndPosition(U,n.getLineMaxColumn(U)),e=!0),t[d]=V}return e}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}function tb(a,t){let e=(0,ro.lG)(a,n=>t<n.startLineNumber)-1;return e>=0&&a[e].endLineNumber>=t?a[e]:null}class ex{constructor(t,e,n){this.editorModel=t,this.languageConfigurationService=e,this.maxFoldingRegions=n,this.id="indent"}dispose(){}compute(t,e){let n=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules;return Promise.resolve(function(a,t,e,n,o){const s=a.getOptions().tabSize;let p,d=new tx(n=n??5e3,o);e&&(p=new RegExp(`(${e.start.source})|(?:${e.end.source})`));let V=[],H=a.getLineCount()+1;V.push({indent:-1,endAbove:H,line:H});for(let U=a.getLineCount();U>0;U--){let Ke,ne=a.getLineContent(U),be=(0,yd.q)(ne,s),Ee=V[V.length-1];if(-1!==be){if(p&&(Ke=ne.match(p))){if(!Ke[1]){V.push({indent:-2,endAbove:U,line:U});continue}{let ct=V.length-1;for(;ct>0&&-2!==V[ct].indent;)ct--;if(ct>0){V.length=ct+1,Ee=V[ct],d.insertFirst(U,Ee.line,be),Ee.line=U,Ee.indent=be,Ee.endAbove=U;continue}}}if(Ee.indent>be){do{V.pop(),Ee=V[V.length-1]}while(Ee.indent>be);let ct=Ee.endAbove-1;ct-U>=1&&d.insertFirst(U,ct,be)}Ee.indent===be?Ee.endAbove=U:V.push({indent:be,endAbove:U,line:U})}else t&&(Ee.endAbove=U)}return d.toIndentRanges(a)}(this.editorModel,n&&!!n.offSide,n&&n.markers,this.maxFoldingRegions,e))}}class tx{constructor(t,e){this._notifyTooManyRegions=e,this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=t}insertFirst(t,e,n){if(t>ql||e>ql)return;let o=this._length;this._startIndexes[o]=t,this._endIndexes[o]=e,this._length++,n<1e3&&(this._indentOccurrences[n]=(this._indentOccurrences[n]||0)+1)}toIndentRanges(t){if(this._length<=this._foldingRangesLimit){let e=new Uint32Array(this._length),n=new Uint32Array(this._length);for(let o=this._length-1,s=0;o>=0;o--,s++)e[s]=this._startIndexes[o],n[s]=this._endIndexes[o];return new Hf(e,n)}{this._notifyTooManyRegions&&this._notifyTooManyRegions(this._foldingRangesLimit);let e=0,n=this._indentOccurrences.length;for(let p=0;p<this._indentOccurrences.length;p++){let V=this._indentOccurrences[p];if(V){if(V+e>this._foldingRangesLimit){n=p;break}e+=V}}const o=t.getOptions().tabSize;let s=new Uint32Array(this._foldingRangesLimit),d=new Uint32Array(this._foldingRangesLimit);for(let p=this._length-1,V=0;p>=0;p--){let H=this._startIndexes[p],U=t.getLineContent(H),ne=(0,yd.q)(U,o);(ne<n||ne===n&&e++<this._foldingRangesLimit)&&(s[V]=H,d[V]=this._endIndexes[p],V++)}return new Hf(s,d)}}}const ix={};class ox{constructor(t,e,n,o){this.editorModel=t,this.providers=e,this.limit=o,this.id="syntax";for(const s of e)"function"==typeof s.onDidChange&&(this.disposables||(this.disposables=new Tt.SL),this.disposables.add(s.onDidChange(n)))}compute(t,e){return function(a,t,e){let n=null,o=a.map((s,d)=>Promise.resolve(s.provideFoldingRanges(t,ix,e)).then(p=>{if(!e.isCancellationRequested&&Array.isArray(p)){Array.isArray(n)||(n=[]);let V=t.getLineCount();for(let H of p)H.start>0&&H.end>H.start&&H.end<=V&&n.push({start:H.start,end:H.end,rank:d,kind:H.kind})}},Qn.Cp));return Promise.all(o).then(s=>n)}(this.providers,this.editorModel,t).then(n=>n?ib(n,this.limit,e):null)}dispose(){var t;null===(t=this.disposables)||void 0===t||t.dispose()}}class rx{constructor(t,e){this._notifyTooManyRegions=e,this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=t}add(t,e,n,o){if(t>ql||e>ql)return;let s=this._length;this._startIndexes[s]=t,this._endIndexes[s]=e,this._nestingLevels[s]=o,this._types[s]=n,this._length++,o<30&&(this._nestingLevelCounts[o]=(this._nestingLevelCounts[o]||0)+1)}toIndentRanges(){if(this._length<=this._foldingRangesLimit){let t=new Uint32Array(this._length),e=new Uint32Array(this._length);for(let n=0;n<this._length;n++)t[n]=this._startIndexes[n],e[n]=this._endIndexes[n];return new Hf(t,e,this._types)}{this._notifyTooManyRegions&&this._notifyTooManyRegions(this._foldingRangesLimit);let t=0,e=this._nestingLevelCounts.length;for(let d=0;d<this._nestingLevelCounts.length;d++){let p=this._nestingLevelCounts[d];if(p){if(p+t>this._foldingRangesLimit){e=d;break}t+=p}}let n=new Uint32Array(this._foldingRangesLimit),o=new Uint32Array(this._foldingRangesLimit),s=[];for(let d=0,p=0;d<this._length;d++){let V=this._nestingLevels[d];(V<e||V===e&&t++<this._foldingRangesLimit)&&(n[p]=this._startIndexes[d],o[p]=this._endIndexes[d],s[p]=this._types[d],p++)}return new Hf(n,o,s)}}}function ib(a,t,e){let s,n=a.sort((p,V)=>{let H=p.start-V.start;return 0===H&&(H=p.rank-V.rank),H}),o=new rx(t,e),d=[];for(let p of n)if(s){if(p.start>s.start)if(p.end<=s.end)d.push(s),s=p,o.add(p.start,p.end,p.kind&&p.kind.value,d.length);else{if(p.start>s.end){do{s=d.pop()}while(s&&p.start>s.end);s&&d.push(s),s=p}o.add(p.start,p.end,p.kind&&p.kind.value,d.length)}}else s=p,o.add(p.start,p.end,p.kind&&p.kind.value,d.length);return o.toIndentRanges()}class ax{constructor(t,e,n,o){if(this.editorModel=t,this.id="init",e.length){let s=d=>({range:{startLineNumber:d.startLineNumber,startColumn:0,endLineNumber:d.endLineNumber,endColumn:t.getLineLength(d.endLineNumber)},options:{description:"folding-initializing-range-provider",stickiness:1}});this.decorationIds=t.deltaDecorations([],e.map(s)),this.timeout=setTimeout(n,o)}}dispose(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),"number"==typeof this.timeout&&(clearTimeout(this.timeout),this.timeout=void 0)}compute(t){let e=[];if(this.decorationIds)for(let n of this.decorationIds){let o=this.editorModel.getDecorationRange(n);o&&e.push({start:o.startLineNumber,end:o.endLineNumber,rank:1})}return Promise.resolve(ib(e,Number.MAX_VALUE))}}const r_=(0,rr.q5)("folding-expanded",Kn.lA.chevronDown,(0,De.N)("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),a_=(0,rr.q5)("folding-collapsed",Kn.lA.chevronRight,(0,De.N)("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin."));class _a{constructor(t){this.editor=t,this.autoHideFoldingControls=!0,this.showFoldingHighlights=!0}getDecorationOption(t,e){return e?_a.HIDDEN_RANGE_DECORATION:t?this.showFoldingHighlights?_a.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:_a.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?_a.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:_a.EXPANDED_VISUAL_DECORATION}deltaDecorations(t,e){return this.editor.deltaDecorations(t,e)}changeDecorations(t){return this.editor.changeDecorations(t)}}_a.COLLAPSED_VISUAL_DECORATION=r.qx.register({description:"folding-collapsed-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:A.kS.asClassName(a_)}),_a.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=r.qx.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:A.kS.asClassName(a_)}),_a.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=r.qx.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:A.kS.asClassName(r_)}),_a.EXPANDED_VISUAL_DECORATION=r.qx.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+A.kS.asClassName(r_)}),_a.HIDDEN_RANGE_DECORATION=r.qx.register({description:"folding-hidden-range-decoration",stickiness:1});var zf=function(a,t){return function(e,n){t(e,n,a)}};const ar=new Qt.uy("foldingEnabled",!1);let sh=class hw extends Tt.JT{constructor(t,e,n,o,s,d){super(),this.contextKeyService=e,this.languageConfigurationService=n,this.languageFeaturesService=d,this._tooManyRegionsNotified=!1,this.localToDispose=this._register(new Tt.SL),this.editor=t;const p=this.editor.getOptions();this._isEnabled=p.get(37),this._useFoldingProviders="indentation"!==p.get(38),this._unfoldOnClickAfterEndOfLine=p.get(42),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=p.get(40),this._maxFoldingRegions=p.get(41),this.updateDebounceInfo=s.for(d.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingStateMemento=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new _a(t),this.foldingDecorationProvider.autoHideFoldingControls="mouseover"===p.get(99),this.foldingDecorationProvider.showFoldingHighlights=p.get(39),this.foldingEnabled=ar.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._notifyTooManyRegions=V=>{this._tooManyRegionsNotified||(o.notify({severity:Ju.Z.Warning,sticky:!0,message:De.N("maximum fold ranges","The number of foldable regions is limited to a maximum of {0}. Increase configuration option ['Folding Maximum Regions'](command:workbench.action.openSettings?[\"editor.foldingMaximumRegions\"]) to enable more.",V)}),this._tooManyRegionsNotified=!0)},this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(V=>{if(V.hasChanged(37)&&(this._isEnabled=this.editor.getOptions().get(37),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),V.hasChanged(41)&&(this._maxFoldingRegions=this.editor.getOptions().get(41),this._tooManyRegionsNotified=!1,this.onModelChanged()),V.hasChanged(99)||V.hasChanged(39)){const H=this.editor.getOptions();this.foldingDecorationProvider.autoHideFoldingControls="mouseover"===H.get(99),this.foldingDecorationProvider.showFoldingHighlights=H.get(39),this.triggerFoldingModelChanged()}V.hasChanged(38)&&(this._useFoldingProviders="indentation"!==this.editor.getOptions().get(38),this.onFoldingStrategyChanged()),V.hasChanged(42)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(42)),V.hasChanged(40)&&(this._foldingImportsByDefault=this.editor.getOptions().get(40))})),this.onModelChanged()}static get(t){return t.getContribution(hw.ID)}saveViewState(){let t=this.editor.getModel();if(!t||!this._isEnabled||t.isTooLargeForTokenization())return{};if(this.foldingModel){let e=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),n=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:e,lineCount:t.getLineCount(),provider:n,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(t){let e=this.editor.getModel();if(!e||!this._isEnabled||e.isTooLargeForTokenization()||!this.hiddenRangeModel||!t||t.lineCount!==e.getLineCount()||(this._currentModelHasFoldedImports=!!t.foldedImports,!t.collapsedRegions))return;("syntax"===t.provider||"init"===t.provider)&&(this.foldingStateMemento=t);const n=t.collapsedRegions;if(this.hiddenRangeModel.applyMemento(n)){const o=this.getFoldingModel();o&&o.then(s=>{if(s){this._restoringViewState=!0;try{s.applyMemento(n)}finally{this._restoringViewState=!1}}}).then(void 0,Qn.dL)}}onModelChanged(){this.localToDispose.clear();let t=this.editor.getModel();!this._isEnabled||!t||t.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new zS(t,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new YS(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(e=>this.onHiddenRangesChanges(e))),this.updateScheduler=new Bn.vp(this.updateDebounceInfo.get(t)),this.cursorChangedScheduler=new Bn.pY(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(e=>this.onDidChangeModelContent(e))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(e=>this.onEditorMouseDown(e))),this.localToDispose.add(this.editor.onMouseUp(e=>this.onEditorMouseUp(e))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.foldingStateMemento=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(t){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new ex(t,this.languageConfigurationService,this._maxFoldingRegions),this._useFoldingProviders&&this.foldingModel){let e=this.languageFeaturesService.foldingRangeProvider.ordered(this.foldingModel.textModel);if(0===e.length&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions)return this.rangeProvider=new ax(t,this.foldingStateMemento.collapsedRegions,()=>{this.foldingStateMemento=null,this.onFoldingStrategyChanged()},3e4);e.length>0&&(this.rangeProvider=new ox(t,e,()=>this.triggerFoldingModelChanged(),this._maxFoldingRegions))}return this.foldingStateMemento=null,this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(t){var e;null===(e=this.hiddenRangeModel)||void 0===e||e.notifyChangeModelContent(t),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const t=this.foldingModel;if(!t)return null;const e=new ea.G(!0),n=this.getRangeProvider(t.textModel);let o=this.foldingRegionPromise=(0,Bn.PG)(s=>n.compute(s,this._notifyTooManyRegions));return o.then(s=>{if(s&&o===this.foldingRegionPromise){let d;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const U=s.setCollapsedAllOfType(Xi.AD.Imports.value,!0);U&&(d=Hl.Z.capture(this.editor),this._currentModelHasFoldedImports=U)}let p=this.editor.getSelections(),V=p?p.map(U=>U.startLineNumber):[];t.update(s,V),d&&d.restore(this.editor);const H=this.updateDebounceInfo.update(t.textModel,e.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=H)}return t})}).then(void 0,t=>((0,Qn.dL)(t),null)))}onHiddenRangesChanges(t){if(this.hiddenRangeModel&&t.length&&!this._restoringViewState){let e=this.editor.getSelections();e&&this.hiddenRangeModel.adjustSelections(e)&&this.editor.setSelections(e)}this.editor.setHiddenAreas(t)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const t=this.getFoldingModel();!t||t.then(e=>{if(e){let n=this.editor.getSelections();if(n&&n.length>0){let o=[];for(let s of n){let d=s.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(d)&&o.push(...e.getAllRegionsAtLine(d,p=>p.isCollapsed&&d>p.startLineNumber))}o.length&&(e.toggleCollapseState(o),this.reveal(n[0].getPosition()))}}}).then(void 0,Qn.dL)}onEditorMouseDown(t){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!t.target||!t.target.range||!t.event.leftButton&&!t.event.middleButton)return;const e=t.target.range;let n=!1;switch(t.target.type){case 4:if(t.target.detail.offsetX-t.target.element.offsetLeft<5)return;n=!0;break;case 7:if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!t.target.detail.isAfterLines)break;return;case 6:if(this.hiddenRangeModel.hasRanges()){let o=this.editor.getModel();if(o&&e.startColumn===o.getLineMaxColumn(e.startLineNumber))break}return;default:return}this.mouseDownInfo={lineNumber:e.startLineNumber,iconClicked:n}}onEditorMouseUp(t){const e=this.getFoldingModel();if(!e||!this.mouseDownInfo||!t.target)return;let n=this.mouseDownInfo.lineNumber,o=this.mouseDownInfo.iconClicked,s=t.target.range;if(s&&s.startLineNumber===n){if(o){if(4!==t.target.type)return}else{let d=this.editor.getModel();if(!d||s.startColumn!==d.getLineMaxColumn(n))return}e.then(d=>{if(d){let p=d.getRegionAtLine(n);if(p&&p.startLineNumber===n){let V=p.isCollapsed;if(o||V){let U=[];if(t.event.altKey){let be=d.getRegionsInside(null,Ee=>!Ee.containedBy(p)&&!p.containedBy(Ee));for(const Ee of be)Ee.isCollapsed&&U.push(Ee);0===U.length&&(U=be)}else{let ne=t.event.middleButton||t.event.shiftKey;if(ne)for(const be of d.getRegionsInside(p))be.isCollapsed===V&&U.push(be);(V||!ne||0===U.length)&&U.push(p)}d.toggleCollapseState(U),this.reveal({lineNumber:n,column:1})}}}}).then(void 0,Qn.dL)}}reveal(t){this.editor.revealPositionInCenterIfOutsideViewport(t,0)}};sh.ID="editor.contrib.folding",sh=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([zf(1,Qt.i6),zf(2,Vo.c_),zf(3,us.lT),zf(4,pr.A),zf(5,Ui.p)],sh);class vr extends Qe.R6{runEditorCommand(t,e,n){const o=t.get(Vo.c_),s=sh.get(e);if(!s)return;const d=s.getFoldingModel();return d?(this.reportTelemetry(t,e),d.then(p=>{if(p){this.invoke(s,p,e,n,o);const V=e.getSelection();V&&s.reveal(V.getStartPosition())}})):void 0}getSelectedLines(t){let e=t.getSelections();return e?e.map(n=>n.startLineNumber):[]}getLineNumbers(t,e){return t&&t.selectionLines?t.selectionLines.map(n=>n+1):this.getSelectedLines(e)}run(t,e){}}function sb(a){if(!$i.o8(a)){if(!$i.Kn(a))return!1;const t=a;if(!$i.o8(t.levels)&&!$i.hj(t.levels)||!$i.o8(t.direction)&&!$i.HD(t.direction)||!$i.o8(t.selectionLines)&&(!$i.kJ(t.selectionLines)||!t.selectionLines.every($i.hj)))return!1}return!0}let rb=(()=>{class a extends vr{getFoldingLevel(){return parseInt(this.id.substr(a.ID_PREFIX.length))}invoke(e,n,o){!function(a,t,e,n){let s=a.getRegionsInside(null,(d,p)=>p===t&&true!==d.isCollapsed&&!n.some(V=>d.containsLine(V)));a.toggleCollapseState(s)}(n,this.getFoldingLevel(),0,this.getSelectedLines(o))}}return a.ID_PREFIX="editor.foldLevel",a.ID=t=>a.ID_PREFIX+t,a})();(0,Qe._K)(sh.ID,sh),(0,Qe.Qr)(class extends vr{constructor(){super({id:"editor.unfold",label:De.N("unfoldAction.label","Unfold"),alias:"Unfold",precondition:ar,kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t* 'levels': Number of levels to unfold. If not set, defaults to 1.\n\t\t\t\t\t\t* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.\n\t\t\t\t\t\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t",constraint:sb,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(t,e,n,o){let s=o&&o.levels||1,d=this.getLineNumbers(o,n);o&&"up"===o.direction?qC(e,!1,s,d):oh(e,!1,s,d)}}),(0,Qe.Qr)(class extends vr{constructor(){super({id:"editor.unfoldRecursively",label:De.N("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:ar,kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:(0,Go.gx)(2089,2137),weight:100}})}invoke(t,e,n,o){oh(e,!1,Number.MAX_VALUE,this.getSelectedLines(n))}}),(0,Qe.Qr)(class extends vr{constructor(){super({id:"editor.fold",label:De.N("foldAction.label","Fold"),alias:"Fold",precondition:ar,kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t\t* 'levels': Number of levels to fold.\n\t\t\t\t\t\t\t* 'direction': If 'up', folds given number of levels up otherwise folds down.\n\t\t\t\t\t\t\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t\tIf no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.\n\t\t\t\t\t\t",constraint:sb,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(t,e,n,o){let s=this.getLineNumbers(o,n);const d=o&&o.levels,p=o&&o.direction;"number"!=typeof d&&"string"!=typeof p?function(a,t,e){let n=[];for(let o of e){let s=a.getAllRegionsAtLine(o,d=>true!==d.isCollapsed);s.length>0&&n.push(s[0])}a.toggleCollapseState(n)}(e,0,s):"up"===p?qC(e,!0,d||1,s):oh(e,!0,d||1,s)}}),(0,Qe.Qr)(class extends vr{constructor(){super({id:"editor.foldRecursively",label:De.N("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:ar,kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:(0,Go.gx)(2089,2135),weight:100}})}invoke(t,e,n){let o=this.getSelectedLines(n);oh(e,!0,Number.MAX_VALUE,o)}}),(0,Qe.Qr)(class extends vr{constructor(){super({id:"editor.foldAll",label:De.N("foldAllAction.label","Fold All"),alias:"Fold All",precondition:ar,kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:(0,Go.gx)(2089,2069),weight:100}})}invoke(t,e,n){oh(e,!0)}}),(0,Qe.Qr)(class extends vr{constructor(){super({id:"editor.unfoldAll",label:De.N("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:ar,kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:(0,Go.gx)(2089,2088),weight:100}})}invoke(t,e,n){oh(e,!1)}}),(0,Qe.Qr)(class extends vr{constructor(){super({id:"editor.foldAllBlockComments",label:De.N("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:ar,kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:(0,Go.gx)(2089,2133),weight:100}})}invoke(t,e,n,o,s){if(e.regions.hasTypes())s_(e,Xi.AD.Comment.value,!0);else{const d=n.getModel();if(!d)return;const p=s.getLanguageConfiguration(d.getLanguageId()).comments;p&&p.blockCommentStartToken&&o_(e,new RegExp("^\\s*"+(0,jn.ec)(p.blockCommentStartToken)),!0)}}}),(0,Qe.Qr)(class extends vr{constructor(){super({id:"editor.foldAllMarkerRegions",label:De.N("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:ar,kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:(0,Go.gx)(2089,2077),weight:100}})}invoke(t,e,n,o,s){if(e.regions.hasTypes())s_(e,Xi.AD.Region.value,!0);else{const d=n.getModel();if(!d)return;const p=s.getLanguageConfiguration(d.getLanguageId()).foldingRules;p&&p.markers&&p.markers.start&&o_(e,new RegExp(p.markers.start),!0)}}}),(0,Qe.Qr)(class extends vr{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:De.N("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:ar,kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:(0,Go.gx)(2089,2078),weight:100}})}invoke(t,e,n,o,s){if(e.regions.hasTypes())s_(e,Xi.AD.Region.value,!1);else{const d=n.getModel();if(!d)return;const p=s.getLanguageConfiguration(d.getLanguageId()).foldingRules;p&&p.markers&&p.markers.start&&o_(e,new RegExp(p.markers.start),!1)}}}),(0,Qe.Qr)(class extends vr{constructor(){super({id:"editor.foldAllExcept",label:De.N("foldAllExcept.label","Fold All Regions Except Selected"),alias:"Fold All Regions Except Selected",precondition:ar,kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:(0,Go.gx)(2089,2131),weight:100}})}invoke(t,e,n){eb(e,!0,this.getSelectedLines(n))}}),(0,Qe.Qr)(class extends vr{constructor(){super({id:"editor.unfoldAllExcept",label:De.N("unfoldAllExcept.label","Unfold All Regions Except Selected"),alias:"Unfold All Regions Except Selected",precondition:ar,kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:(0,Go.gx)(2089,2129),weight:100}})}invoke(t,e,n){eb(e,!1,this.getSelectedLines(n))}}),(0,Qe.Qr)(class extends vr{constructor(){super({id:"editor.toggleFold",label:De.N("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:ar,kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:(0,Go.gx)(2089,2090),weight:100}})}invoke(t,e,n){!function(a,t,e){let n=[];for(let o of e){let s=a.getRegionAtLine(o);if(s){n.push(s),0}}a.toggleCollapseState(n)}(e,0,this.getSelectedLines(n))}}),(0,Qe.Qr)(class extends vr{constructor(){super({id:"editor.gotoParentFold",label:De.N("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:ar,kbOpts:{kbExpr:Ct.u.editorTextFocus,weight:100}})}invoke(t,e,n){let o=this.getSelectedLines(n);if(o.length>0){let s=function(a,t){let e=null,n=t.getRegionAtLine(a);if(null!==n&&(e=n.startLineNumber,a===e)){let o=n.parentIndex;e=-1!==o?t.regions.getStartLineNumber(o):null}return e}(o[0],e);null!==s&&n.setSelection({startLineNumber:s,startColumn:1,endLineNumber:s,endColumn:1})}}}),(0,Qe.Qr)(class extends vr{constructor(){super({id:"editor.gotoPreviousFold",label:De.N("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:ar,kbOpts:{kbExpr:Ct.u.editorTextFocus,weight:100}})}invoke(t,e,n){let o=this.getSelectedLines(n);if(o.length>0){let s=function(a,t){let e=t.getRegionAtLine(a);if(null!==e&&e.startLineNumber===a){if(a!==e.startLineNumber)return e.startLineNumber;{let n=e.parentIndex,o=0;for(-1!==n&&(o=t.regions.getStartLineNumber(e.parentIndex));null!==e;){if(!(e.regionIndex>0))return null;if(e=t.regions.toRegion(e.regionIndex-1),e.startLineNumber<=o)return null;if(e.parentIndex===n)return e.startLineNumber}}}else if(t.regions.length>0)for(e=t.regions.toRegion(t.regions.length-1);null!==e;){if(e.startLineNumber<a)return e.startLineNumber;e=e.regionIndex>0?t.regions.toRegion(e.regionIndex-1):null}return null}(o[0],e);null!==s&&n.setSelection({startLineNumber:s,startColumn:1,endLineNumber:s,endColumn:1})}}}),(0,Qe.Qr)(class extends vr{constructor(){super({id:"editor.gotoNextFold",label:De.N("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:ar,kbOpts:{kbExpr:Ct.u.editorTextFocus,weight:100}})}invoke(t,e,n){let o=this.getSelectedLines(n);if(o.length>0){let s=function(a,t){let e=t.getRegionAtLine(a);if(null!==e&&e.startLineNumber===a){let n=e.parentIndex,o=0;if(-1!==n)o=t.regions.getEndLineNumber(e.parentIndex);else{if(0===t.regions.length)return null;o=t.regions.getEndLineNumber(t.regions.length-1)}for(;null!==e;){if(!(e.regionIndex<t.regions.length))return null;if(e=t.regions.toRegion(e.regionIndex+1),e.startLineNumber>=o)return null;if(e.parentIndex===n)return e.startLineNumber}}else if(t.regions.length>0)for(e=t.regions.toRegion(0);null!==e;){if(e.startLineNumber>a)return e.startLineNumber;e=e.regionIndex<t.regions.length?t.regions.toRegion(e.regionIndex+1):null}return null}(o[0],e);null!==s&&n.setSelection({startLineNumber:s,startColumn:1,endLineNumber:s,endColumn:1})}}});for(let a=1;a<=7;a++)(0,Qe.QG)(new rb({id:rb.ID(a),label:De.N("foldLevelAction.label","Fold Level {0}",a),alias:`Fold Level ${a}`,precondition:ar,kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:(0,Go.gx)(2089,2048|21+a),weight:100}}));const xx=(0,y.P6G)("editor.foldBackground",{light:(0,y.ZnX)(y.hEj,.3),dark:(0,y.ZnX)(y.hEj,.3),hc:null},De.N("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0),Lx=(0,y.P6G)("editorGutter.foldingControlForeground",{dark:y.XZx,light:y.XZx,hc:y.XZx},De.N("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));(0,A.Ic)((a,t)=>{const e=a.getColor(xx);e&&t.addRule(`.monaco-editor .folded-background { background-color: ${e}; }`);const n=a.getColor(Lx);n&&t.addRule(`\n\t\t.monaco-editor .cldr${A.kS.asCSSSelector(r_)},\n\t\t.monaco-editor .cldr${A.kS.asCSSSelector(a_)} {\n\t\t\tcolor: ${n} !important;\n\t\t}\n\t\t`)});var Uf=m(86627);(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.fontZoomIn",label:De.N("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})}run(t,e){Uf.C.setZoomLevel(Uf.C.getZoomLevel()+1)}}),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.fontZoomOut",label:De.N("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})}run(t,e){Uf.C.setZoomLevel(Uf.C.getZoomLevel()-1)}}),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.fontZoomReset",label:De.N("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})}run(t,e){Uf.C.setZoomLevel(0)}});var rh=m(59242),jf=m(78339),Kf=m(86349),Nx=m(38696),ab=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Wm=function(a,t){return function(e,n){t(e,n,a)}},l_=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})};let $f=class{constructor(t,e,n){this._editor=t,this._languageFeaturesService=e,this._workerService=n,this._disposables=new Tt.SL,this._sessionDisposables=new Tt.SL,this._disposables.add(e.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(t.onDidChangeModel(()=>this._update())),this._disposables.add(t.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(t.onDidChangeConfiguration(o=>{o.hasChanged(49)&&this._update()}))}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(49)||!this._editor.hasModel())return;const t=this._editor.getModel(),[e]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(t);if(!e||!e.autoFormatTriggerCharacters)return;let n=new rh.q;for(let o of e.autoFormatTriggerCharacters)n.add(o.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(o=>{let s=o.charCodeAt(o.length-1);n.has(s)&&this._trigger(String.fromCharCode(s))}))}_trigger(t){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const e=this._editor.getModel(),n=this._editor.getPosition(),o=new Zn.A,s=this._editor.onDidChangeModelContent(d=>{if(d.isFlush)return o.cancel(),void s.dispose();for(let p=0,V=d.changes.length;p<V;p++)if(d.changes[p].range.endLineNumber<=n.lineNumber)return o.cancel(),void s.dispose()});(0,Kf.Qs)(this._workerService,this._languageFeaturesService,e,n,t,e.getFormattingOptions(),o.token).then(d=>{o.token.isCancellationRequested||(0,ro.Of)(d)&&(Nx.V.execute(this._editor,d,!0),(0,Kf.Zg)(d))}).finally(()=>{s.dispose()})}};$f.ID="editor.contrib.autoFormat",$f=ab([Wm(1,Ui.p),Wm(2,jf.p)],$f);let Zf=class{constructor(t,e,n){this.editor=t,this._languageFeaturesService=e,this._instantiationService=n,this._callOnDispose=new Tt.SL,this._callOnModel=new Tt.SL,this._callOnDispose.add(t.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(t.onDidChangeModel(()=>this._update())),this._callOnDispose.add(t.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(e.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(48)&&(!this.editor.hasModel()||!this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())||this._callOnModel.add(this.editor.onDidPaste(({range:t})=>this._trigger(t))))}_trigger(t){!this.editor.hasModel()||this.editor.getSelections().length>1||this._instantiationService.invokeFunction(Kf.x$,this.editor,t,2,Ir.Ex.None,Zn.T.None).catch(Qn.dL)}};Zf.ID="editor.contrib.formatOnPaste",Zf=ab([Wm(1,Ui.p),Wm(2,Qi.TG)],Zf),(0,Qe._K)($f.ID,$f),(0,Qe._K)(Zf.ID,Zf),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.formatDocument",label:De.N("formatDocument.label","Format Document"),alias:"Format Document",precondition:Qt.Ao.and(Ct.u.notInCompositeEditor,Ct.u.writable,Ct.u.hasDocumentFormattingProvider),kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(t,e){return l_(this,void 0,void 0,function*(){if(e.hasModel()){const n=t.get(Qi.TG);yield t.get(Ir.ek).showWhile(n.invokeFunction(Kf.Qq,e,1,Ir.Ex.None,Zn.T.None),250)}})}}),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.formatSelection",label:De.N("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:Qt.Ao.and(Ct.u.writable,Ct.u.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:(0,Go.gx)(2089,2084),weight:100},contextMenuOpts:{when:Ct.u.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(t,e){return l_(this,void 0,void 0,function*(){if(!e.hasModel())return;const n=t.get(Qi.TG),o=e.getModel(),s=e.getSelections().map(p=>p.isEmpty()?new kt.e(p.startLineNumber,1,p.startLineNumber,o.getLineMaxColumn(p.startLineNumber)):p);yield t.get(Ir.ek).showWhile(n.invokeFunction(Kf.x$,e,s,1,Ir.Ex.None,Zn.T.None),250)})}}),eo.P0.registerCommand("editor.action.format",a=>l_(void 0,void 0,void 0,function*(){const t=a.get(In.$).getFocusedCodeEditor();if(!t||!t.hasModel())return;const e=a.get(eo.Hy);t.getSelection().isEmpty()?yield e.executeCommand("editor.action.formatDocument"):yield e.executeCommand("editor.action.formatSelection")}));var lb=m(58151),c_=function(a,t){return function(e,n){t(e,n,a)}};class ah{remove(){this.parent&&this.parent.children.delete(this.id)}static findId(t,e){let n;"string"==typeof t?n=`${e.id}/${t}`:(n=`${e.id}/${t.name}`,void 0!==e.children.get(n)&&(n=`${e.id}/${t.name}_${t.range.startLineNumber}_${t.range.startColumn}`));let o=n;for(let s=0;void 0!==e.children.get(o);s++)o=`${n}_${s}`;return o}static empty(t){return 0===t.children.size}}class cb extends ah{constructor(t,e,n){super(),this.id=t,this.parent=e,this.symbol=n,this.children=new Map}}class Ox extends ah{constructor(t,e,n,o){super(),this.id=t,this.parent=e,this.label=n,this.order=o,this.children=new Map}}class jc extends ah{constructor(t){super(),this.uri=t,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(t,e,n){const o=new Zn.A(n),s=new jc(e.uri),d=t.ordered(e),p=d.map((H,U)=>{var ne;let be=ah.findId(`provider_${U}`,s),Ee=new Ox(be,s,null!==(ne=H.displayName)&&void 0!==ne?ne:"Unknown Outline Provider",U);return Promise.resolve(H.provideDocumentSymbols(e,o.token)).then(Ke=>{for(const ct of Ke||[])jc._makeOutlineElement(ct,Ee);return Ee},Ke=>((0,Qn.Cp)(Ke),Ee)).then(Ke=>{ah.empty(Ke)?Ke.remove():s._groups.set(be,Ke)})}),V=t.onDidChange(()=>{const H=t.ordered(e);(0,ro.fS)(H,d)||o.cancel()});return Promise.all(p).then(()=>o.token.isCancellationRequested&&!n.isCancellationRequested?jc.create(t,e,n):s._compact()).finally(()=>{V.dispose()})}static _makeOutlineElement(t,e){let n=ah.findId(t,e),o=new cb(n,e,t);if(t.children)for(const s of t.children)jc._makeOutlineElement(s,o);e.children.set(o.id,o)}_compact(){let t=0;for(const[e,n]of this._groups)0===n.children.size?this._groups.delete(e):t+=1;if(1!==t)this.children=this._groups;else{let e=lb.$.first(this._groups.values());for(let[,n]of e.children)n.parent=this,this.children.set(n.id,n)}return this}getTopLevelSymbols(){const t=[];for(const e of this.children.values())e instanceof cb?t.push(e.symbol):t.push(...lb.$.map(e.children.values(),n=>n.symbol));return t.sort((e,n)=>kt.e.compareRangesUsingStarts(e.range,n.range))}asListOfDocumentSymbols(){const t=this.getTopLevelSymbols(),e=[];return jc._flattenDocumentSymbols(e,t,""),e.sort((n,o)=>di.L.compare(kt.e.getStartPosition(n.range),kt.e.getStartPosition(o.range))||di.L.compare(kt.e.getEndPosition(o.range),kt.e.getEndPosition(n.range)))}static _flattenDocumentSymbols(t,e,n){for(const o of e)t.push({kind:o.kind,tags:o.tags,name:o.name,detail:o.detail,containerName:o.containerName||n,range:o.range,selectionRange:o.selectionRange,children:void 0}),o.children&&jc._flattenDocumentSymbols(t,o.children,o.name)}}const Vm=(0,Qi.yh)("IOutlineModelService");let d_=class{constructor(t,e,n){this._languageFeaturesService=t,this._disposables=new Tt.SL,this._cache=new Cs.z6(10,.7),this._debounceInformation=e.for(t.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(n.onModelRemoved(o=>{this._cache.delete(o.id)}))}dispose(){this._disposables.dispose()}getOrCreate(t,e){return function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})}(this,void 0,void 0,function*(){const n=this._languageFeaturesService.documentSymbolProvider,o=n.ordered(t);let s=this._cache.get(t.id);if(!s||s.versionId!==t.getVersionId()||!(0,ro.fS)(s.provider,o)){let p=new Zn.A;s={versionId:t.getVersionId(),provider:o,promiseCnt:0,source:p,promise:jc.create(n,t,p.token),model:void 0},this._cache.set(t.id,s);const V=Date.now();s.promise.then(H=>{s.model=H,this._debounceInformation.update(t,Date.now()-V)}).catch(H=>{this._cache.delete(t.id)})}if(s.model)return s.model;s.promiseCnt+=1;const d=e.onCancellationRequested(()=>{0==--s.promiseCnt&&(s.source.cancel(),this._cache.delete(t.id))});try{return yield s.promise}finally{d.dispose()}})}};d_=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([c_(0,Ui.p),c_(1,pr.A),c_(2,qr.q)],d_),(0,ol.z)(Vm,d_,!0);eo.P0.registerCommand("_executeDocumentSymbolProvider",function(a,...t){return function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})}(this,void 0,void 0,function*(){const[e]=t;(0,$i.p_)(wo.o.isUri(e));const n=a.get(Vm),s=yield a.get(Cr.S).createModelReference(e);try{return(yield n.getOrCreate(s.object.textEditorModel,Zn.T.None)).getTopLevelSymbols()}finally{s.dispose()}})});var Rx=m(90784);const db="editor.action.inlineSuggest.commit";class ub{constructor(t,e,n=0){this.lineNumber=t,this.parts=e,this.additionalReservedLineCount=n}renderForScreenReader(t){return 0===this.parts.length?"":function(a,t){const e=new Fx(a),n=t.map(o=>{const s=kt.e.lift(o.range);return{startOffset:e.getOffset(s.getStartPosition()),endOffset:e.getOffset(s.getEndPosition()),text:o.text}});n.sort((o,s)=>s.startOffset-o.startOffset);for(const o of n)a=a.substring(0,o.startOffset)+o.text+a.substring(o.endOffset);return a}(t.substr(0,this.parts[this.parts.length-1].column-1),this.parts.map(s=>({range:{startLineNumber:1,endLineNumber:1,startColumn:s.column,endColumn:s.column},text:s.lines.join("\n")}))).substring(this.parts[0].column-1)}}class Fx{constructor(t){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let e=0;e<t.length;e++)"\n"===t.charAt(e)&&this.lineStartOffsetByLineIdx.push(e+1)}getOffset(t){return this.lineStartOffsetByLineIdx[t.lineNumber-1]+t.column-1}}class hb{constructor(t,e,n){this.column=t,this.lines=e,this.preview=n}}class fb extends Tt.JT{constructor(t){super(),this.editor=t,this._expanded=void 0,this.onDidChangeEmitter=new $n.Q5,this.onDidChange=this.onDidChangeEmitter.event,this._register(t.onDidChangeConfiguration(e=>{e.hasChanged(106)&&void 0===this._expanded&&this.onDidChangeEmitter.fire()}))}setExpanded(t){this._expanded=!0,this.onDidChangeEmitter.fire()}}var Wx=m(87481);function gb(a,t,e,n,o=0){if(a.range.startLineNumber!==a.range.endLineNumber)return;const s=t.getLineContent(a.range.startLineNumber),d=jn.V8(s).length;if(a.range.startColumn-1<=d){const Ee=jn.V8(a.text).length,Ke=s.substring(a.range.startColumn-1,d),ct=kt.e.fromPositions(a.range.getStartPosition().delta(0,Ke.length),a.range.getEndPosition()),Pt=a.text.startsWith(Ke)?a.text.substring(Ke.length):a.text.substring(Ee);a={range:ct,text:Pt,command:a.command}}const V=t.getValueInRange(a.range),H=function(a,t){if((null==fl?void 0:fl.originalValue)===a&&(null==fl?void 0:fl.newValue)===t)return null==fl?void 0:fl.changes;{const e=function(a,t){if(a.length>5e3||t.length>5e3)return;function e(V){let H=0;for(let U=0,ne=V.length;U<ne;U++){const be=V.charCodeAt(U);be>H&&(H=be)}return H}const n=Math.max(e(a),e(t));function o(V){if(V<0)throw new Error("unexpected");return n+V+1}function s(V){let H=0,U=0;const ne=new Int32Array(V.length);for(let be=0,Ee=V.length;be<Ee;be++){const Ke=100*U+H;"("===V[be]?(ne[be]=o(2*Ke),H++):")"===V[be]?(ne[be]=o(2*Ke+1),1===H&&U++,H=Math.max(H-1,0)):ne[be]=V.charCodeAt(be)}return ne}const d=s(a),p=s(t);return new Wx.Hs({getElements:()=>d},{getElements:()=>p}).ComputeDiff(!1).changes}(a,t);return fl={originalValue:a,newValue:t,changes:e},e}}(V,a.text);if(!H)return;const U=a.range.startLineNumber,ne=new Array;if("prefix"===e){const Ee=H.filter(Ke=>0===Ke.originalLength);if(Ee.length>1||1===Ee.length&&Ee[0].originalStart!==V.length)return}const be=a.text.length-o;for(const Ee of H){const Ke=a.range.startColumn+Ee.originalStart+Ee.originalLength;if("subwordSmart"===e&&n&&n.lineNumber===a.range.startLineNumber&&Ke<n.column||Ee.originalLength>0)return;if(0===Ee.modifiedLength)continue;const ct=Ee.modifiedStart+Ee.modifiedLength,Pt=Math.max(Ee.modifiedStart,Math.min(ct,be)),Ot=a.text.substring(Ee.modifiedStart,Pt),Xt=a.text.substring(Pt,Math.max(Ee.modifiedStart,ct));if(Ot.length>0){const on=jn.uq(Ot);ne.push(new hb(Ke,on,!1))}if(Xt.length>0){const on=jn.uq(Xt);ne.push(new hb(Ke,on,!0))}}return new ub(U,ne,0)}let fl;var Ux=m(67875),Kc=m(79615),jx=m(95818),Kx=m(25453),$x=m(21944);class Gx{constructor(t){this.lines=t}getLineCount(){return this.lines.length}getLineLength(t){return this.lines[t-1].getLineContent().length}getLineTokens(t){return this.lines[t-1]}}var Hm=function(a,t){return function(e,n){t(e,n,a)}},ec=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})};let u_=class extends Tt.JT{constructor(t,e,n,o,s,d){super(),this.editor=t,this.cache=e,this.commandService=n,this.languageConfigurationService=o,this.languageFeaturesService=s,this.debounceService=d,this.onDidChangeEmitter=new $n.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new Tt.XK),this.active=!1,this.disposed=!1,this.debounceValue=this.debounceService.for(this.languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:200}),this._register(n.onDidExecuteCommand(p=>{new Set([el.wk.Tab.id,el.wk.DeleteLeft.id,el.wk.DeleteRight.id,db,"acceptSelectedSuggestion"]).has(p.commandId)&&t.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(p=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(p=>{this.session&&!this.session.isValid&&this.hide()})),this._register((0,Tt.OF)(()=>{this.disposed=!0})),this._register(this.editor.onDidBlurEditorWidget(()=>{this.hide()}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.disposed||this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var t;return null===(t=this.session)||void 0===t?void 0:t.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}setExpanded(t){var e;null===(e=this.session)||void 0===e||e.setExpanded(t)}setActive(t){var e;this.active=t,t&&(null===(e=this.session)||void 0===e||e.scheduleAutomaticUpdate())}startSessionIfTriggered(){!this.editor.getOption(55).enabled||this.session&&this.session.isValid||this.trigger(Xi.bw.Automatic)}trigger(t){this.completionSession.value?t===Xi.bw.Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext():(this.completionSession.value=new Yx(this.editor,this.editor.getPosition(),()=>this.active,this.commandService,this.cache,t,this.languageConfigurationService,this.languageFeaturesService.inlineCompletionsProvider,this.debounceValue),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()})))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var t;null===(t=this.session)||void 0===t||t.commitCurrentCompletion()}showNext(){var t;null===(t=this.session)||void 0===t||t.showNextInlineCompletion()}showPrevious(){var t;null===(t=this.session)||void 0===t||t.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var t;return ec(this,void 0,void 0,function*(){const e=yield null===(t=this.session)||void 0===t?void 0:t.hasMultipleInlineCompletions();return void 0!==e&&e})}};u_=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([Hm(2,eo.Hy),Hm(3,Vo.c_),Hm(4,Ui.p),Hm(5,pr.A)],u_);class Yx extends fb{constructor(t,e,n,o,s,d,p,V,H){let U;super(t),this.triggerPosition=e,this.shouldUpdate=n,this.commandService=o,this.cache=s,this.initialTriggerKind=d,this.languageConfigurationService=p,this.registry=V,this.debounce=H,this.minReservedLineCount=0,this.updateOperation=this._register(new Tt.XK),this.updateSoon=this._register(new Bn.pY(()=>{let ne=this.initialTriggerKind;return this.initialTriggerKind=Xi.bw.Automatic,this.update(ne)},50)),this.currentlySelectedCompletionId=void 0,this._register(this.onDidChange(()=>{const ne=this.currentCompletion;if(ne&&ne.sourceInlineCompletion!==U){U=ne.sourceInlineCompletion;const be=ne.sourceProvider;be.handleItemDidShow&&be.handleItemDidShow(ne.sourceInlineCompletions,U)}})),this._register((0,Tt.OF)(()=>{this.cache.clear()})),this._register(this.editor.onDidChangeCursorPosition(ne=>{this.cache.value&&this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeModelContent(ne=>{this.scheduleAutomaticUpdate()})),this._register(this.registry.onDidChange(()=>{this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))})),this.scheduleAutomaticUpdate()}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value||0===this.cache.value.completions.length)return 0;const t=this.cache.value.completions.findIndex(e=>e.semanticId===this.currentlySelectedCompletionId);return-1===t?(this.currentlySelectedCompletionId=void 0,0):t}get currentCachedCompletion(){if(this.cache.value)return this.cache.value.completions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){var t;return ec(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const e=(null===(t=this.cache.value)||void 0===t?void 0:t.completions)||[];if(e.length>0){const n=(this.fixAndGetIndexOfCurrentSelection()+1)%e.length;this.currentlySelectedCompletionId=e[n].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}showPreviousInlineCompletion(){var t;return ec(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const e=(null===(t=this.cache.value)||void 0===t?void 0:t.completions)||[];if(e.length>0){const n=(this.fixAndGetIndexOfCurrentSelection()+e.length-1)%e.length;this.currentlySelectedCompletionId=e[n].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}ensureUpdateWithExplicitContext(){var t;return ec(this,void 0,void 0,function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===Xi.bw.Explicit?yield this.updateOperation.value.promise:yield this.update(Xi.bw.Explicit):(null===(t=this.cache.value)||void 0===t?void 0:t.triggerKind)!==Xi.bw.Explicit&&(yield this.update(Xi.bw.Explicit))})}hasMultipleInlineCompletions(){var t;return ec(this,void 0,void 0,function*(){return yield this.ensureUpdateWithExplicitContext(),((null===(t=this.cache.value)||void 0===t?void 0:t.completions.length)||0)>1})}get ghostText(){const t=this.currentCompletion,e=this.editor.getOptions().get(55).mode;return t?gb(t,this.editor.getModel(),e,this.editor.getPosition()):void 0}get currentCompletion(){const t=this.currentCachedCompletion;if(t)return t.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))}update(t){return ec(this,void 0,void 0,function*(){if(!this.shouldUpdate())return;const e=this.editor.getPosition(),n=new Date,o=(0,Bn.PG)(d=>ec(this,void 0,void 0,function*(){let p;try{p=yield pb(this.registry,e,this.editor.getModel(),{triggerKind:t,selectedSuggestionInfo:void 0},d,this.languageConfigurationService);const V=new Date;this.debounce.update(this.editor.getModel(),V.getTime()-n.getTime())}catch(V){return void(0,Qn.dL)(V)}d.isCancellationRequested||(this.cache.setValue(this.editor,p,t),this.onDidChangeEmitter.fire())})),s=new mb(o,t);this.updateOperation.value=s,yield o,this.updateOperation.value===s&&this.updateOperation.clear()})}takeOwnership(t){this._register(t)}commitCurrentCompletion(){if(!this.ghostText)return;const t=this.currentCompletion;t&&this.commit(t)}commit(t){const e=this.cache.clearAndLeak();this.editor.executeEdits("inlineSuggestion.accept",[is.h.replaceMove(t.range,t.text)]),t.command?this.commandService.executeCommand(t.command.id,...t.command.arguments||[]).finally(()=>{null==e||e.dispose()}).then(void 0,Qn.Cp):null==e||e.dispose(),this.onDidChangeEmitter.fire()}}class mb{constructor(t,e){this.promise=t,this.triggerKind=e}dispose(){this.promise.cancel()}}class Jx extends Tt.JT{constructor(t,e,n,o){super(),this.triggerKind=o;const s=t.deltaDecorations([],e.items.map(d=>({range:d.range,options:{description:"inline-completion-tracking-range"}})));this._register((0,Tt.OF)(()=>{t.deltaDecorations(s,[])})),this.completions=e.items.map((d,p)=>new Xx(d,s[p])),this._register(t.onDidChangeModelContent(()=>{let d=!1;const p=t.getModel();for(const V of this.completions){const H=p.getDecorationRange(V.decorationId);H?V.synchronizedRange.equalsRange(H)||(d=!0,V.synchronizedRange=H):(0,Qn.dL)(new Error("Decoration has no range"))}d&&n()})),this._register(e)}}class Xx{constructor(t,e){this.inlineCompletion=t,this.decorationId=e,this.semanticId=JSON.stringify({text:this.inlineCompletion.text,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=t.range}toLiveInlineCompletion(){return{text:this.inlineCompletion.text,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion}}}function pb(a,t,e,n,o=Zn.T.None,s){return ec(this,void 0,void 0,function*(){const d=function(a,t){const e=t.getWordAtPosition(a),n=t.getLineMaxColumn(a.lineNumber);return e?new kt.e(a.lineNumber,e.startColumn,a.lineNumber,n):kt.e.fromPositions(a,a.with(void 0,n))}(t,e),p=a.all(e),V=yield Promise.all(p.map(U=>ec(this,void 0,void 0,function*(){const ne=yield Promise.resolve(U.provideInlineCompletions(e,t,n,o)).catch(Qn.Cp);return{completions:ne,provider:U,dispose:()=>{ne&&U.freeInlineCompletions(ne)}}}))),H=new Map;for(const U of V){const ne=U.completions;if(ne)for(const be of ne.items){const Ee=be.range?kt.e.lift(be.range):d;if(Ee.startLineNumber!==Ee.endLineNumber)continue;const Ke=s&&be.completeBracketPairs?eL(be.text,Ee.getStartPosition(),e,s):be.text,ct={text:Ke,range:Ee,command:be.command,sourceProvider:U.provider,sourceInlineCompletions:ne,sourceInlineCompletion:be};H.set(JSON.stringify({text:Ke,range:be.range}),ct)}}return{items:[...H.values()],dispose:()=>{for(const U of V)U.dispose()}}})}function eL(a,t,e,n){const s=e.getLineContent(t.lineNumber).substring(0,t.column-1)+a,d=e.tokenizeLineWithEdit(t,s.length-(t.column-1),a),p=null==d?void 0:d.sliceAndInflate(t.column-1,s.length,0);return p?(console.log(p),function(a,t){const e=new Kx.FE,n=new Ux.Z(e,H=>t.getLanguageConfiguration(H)),o=new $x.xH(new Gx([a]),n),s=(0,jx.w)(o,[],void 0,!0);let d="";const p=a.getLineContent();return function V(H,U){if(2===H.kind)V(H.openingBracket,U),U=(0,Kc.Ii)(U,H.openingBracket.length),H.child&&(V(H.child,U),U=(0,Kc.Ii)(U,H.child.length)),H.closingBracket?(V(H.closingBracket,U),U=(0,Kc.Ii)(U,H.closingBracket.length)):d+=n.getSingleLanguageBracketTokens(H.openingBracket.languageId).findClosingTokenText(H.openingBracket.bracketIds);else if(3!==H.kind)if(0===H.kind||1===H.kind)d+=p.substring((0,Kc.F_)(U),(0,Kc.F_)((0,Kc.Ii)(U,H.length)));else if(4===H.kind)for(const ne of H.children)V(ne,U),U=(0,Kc.Ii)(U,ne.length)}(s,Kc.xl),d}(p,n)):a}function zm(a,t){if(!t)return t;const e=a.getValueInRange(t.range),n=(0,jn.Mh)(e,t.text),o=a.getOffsetAt(t.range.getStartPosition())+n,s=a.getPositionAt(o),d=e.substr(n),p=(0,jn.P1)(d,t.text),V=a.getPositionAt(Math.max(o,a.getOffsetAt(t.range.getEndPosition())-p));return{range:kt.e.fromPositions(s,V),text:t.text.substr(n,t.text.length-n-p)}}m(14700);var lh=m(17184),tc=m(84491);const vs=new Uint8Array(16),lr=[];for(let a=0;a<256;a++)lr.push(a.toString(16).padStart(2,"0"));let h_;h_="object"==typeof crypto&&"function"==typeof crypto.getRandomValues?crypto.getRandomValues.bind(crypto):function(a){for(let t=0;t<a.length;t++)a[t]=Math.floor(256*Math.random());return a},Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class nL{constructor(t){this._delegates=t}resolve(t){for(const e of this._delegates){let n=e.resolve(t);if(void 0!==n)return n}}}class iL{constructor(t,e,n,o){this._model=t,this._selection=e,this._selectionIdx=n,this._overtypingCapturer=o}resolve(t){const{name:e}=t;if("SELECTION"===e||"TM_SELECTED_TEXT"===e){let n=this._model.getValueInRange(this._selection)||void 0,o=this._selection.startLineNumber!==this._selection.endLineNumber;if(!n&&this._overtypingCapturer){const s=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);s&&(n=s.value,o=s.multiline)}if(n&&o&&t.snippet){const s=this._model.getLineContent(this._selection.startLineNumber),d=(0,jn.V8)(s,0,this._selection.startColumn-1);let p=d;t.snippet.walk(H=>H!==t&&(H instanceof Or&&(p=(0,jn.V8)((0,jn.uq)(H.value).pop())),!0));const V=(0,jn.Mh)(p,d);n=n.replace(/(\r\n|\r|\n)(.*)/g,(H,U,ne)=>`${U}${p.substr(V)}${ne}`)}return n}if("TM_CURRENT_LINE"===e)return this._model.getLineContent(this._selection.positionLineNumber);if("TM_CURRENT_WORD"===e){const n=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return n&&n.word||void 0}return"TM_LINE_INDEX"===e?String(this._selection.positionLineNumber-1):"TM_LINE_NUMBER"===e?String(this._selection.positionLineNumber):void 0}}class oL{constructor(t,e){this._labelService=t,this._model=e}resolve(t){const{name:e}=t;if("TM_FILENAME"===e)return tc.EZ(this._model.uri.fsPath);if("TM_FILENAME_BASE"===e){const n=tc.EZ(this._model.uri.fsPath),o=n.lastIndexOf(".");return o<=0?n:n.slice(0,o)}return"TM_DIRECTORY"===e?"."===tc.XX(this._model.uri.fsPath)?"":this._labelService.getUriLabel((0,Oo.XX)(this._model.uri)):"TM_FILEPATH"===e?this._labelService.getUriLabel(this._model.uri):"RELATIVE_FILEPATH"===e?this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0}):void 0}}class sL{constructor(t,e,n,o){this._readClipboardText=t,this._selectionIdx=e,this._selectionCount=n,this._spread=o}resolve(t){if("CLIPBOARD"!==t.name)return;const e=this._readClipboardText();if(e){if(this._spread){const n=e.split(/\r\n|\n|\r/).filter(o=>!(0,jn.m5)(o));if(n.length===this._selectionCount)return n[this._selectionIdx]}return e}}}class rL{constructor(t,e){this._model=t,this._selection=e}resolve(t){const{name:e}=t,n=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),o=Vo.zu.getComments(n);if(o){if("LINE_COMMENT"===e)return o.lineCommentToken||void 0;if("BLOCK_COMMENT_START"===e)return o.blockCommentStartToken||void 0;if("BLOCK_COMMENT_END"===e)return o.blockCommentEndToken||void 0}}}class gl{constructor(){this._date=new Date}resolve(t){const{name:e}=t;return"CURRENT_YEAR"===e?String(this._date.getFullYear()):"CURRENT_YEAR_SHORT"===e?String(this._date.getFullYear()).slice(-2):"CURRENT_MONTH"===e?String(this._date.getMonth().valueOf()+1).padStart(2,"0"):"CURRENT_DATE"===e?String(this._date.getDate().valueOf()).padStart(2,"0"):"CURRENT_HOUR"===e?String(this._date.getHours().valueOf()).padStart(2,"0"):"CURRENT_MINUTE"===e?String(this._date.getMinutes().valueOf()).padStart(2,"0"):"CURRENT_SECOND"===e?String(this._date.getSeconds().valueOf()).padStart(2,"0"):"CURRENT_DAY_NAME"===e?gl.dayNames[this._date.getDay()]:"CURRENT_DAY_NAME_SHORT"===e?gl.dayNamesShort[this._date.getDay()]:"CURRENT_MONTH_NAME"===e?gl.monthNames[this._date.getMonth()]:"CURRENT_MONTH_NAME_SHORT"===e?gl.monthNamesShort[this._date.getMonth()]:"CURRENT_SECONDS_UNIX"===e?String(Math.floor(this._date.getTime()/1e3)):void 0}}gl.dayNames=[De.N("Sunday","Sunday"),De.N("Monday","Monday"),De.N("Tuesday","Tuesday"),De.N("Wednesday","Wednesday"),De.N("Thursday","Thursday"),De.N("Friday","Friday"),De.N("Saturday","Saturday")],gl.dayNamesShort=[De.N("SundayShort","Sun"),De.N("MondayShort","Mon"),De.N("TuesdayShort","Tue"),De.N("WednesdayShort","Wed"),De.N("ThursdayShort","Thu"),De.N("FridayShort","Fri"),De.N("SaturdayShort","Sat")],gl.monthNames=[De.N("January","January"),De.N("February","February"),De.N("March","March"),De.N("April","April"),De.N("May","May"),De.N("June","June"),De.N("July","July"),De.N("August","August"),De.N("September","September"),De.N("October","October"),De.N("November","November"),De.N("December","December")],gl.monthNamesShort=[De.N("JanuaryShort","Jan"),De.N("FebruaryShort","Feb"),De.N("MarchShort","Mar"),De.N("AprilShort","Apr"),De.N("MayShort","May"),De.N("JuneShort","Jun"),De.N("JulyShort","Jul"),De.N("AugustShort","Aug"),De.N("SeptemberShort","Sep"),De.N("OctoberShort","Oct"),De.N("NovemberShort","Nov"),De.N("DecemberShort","Dec")];class aL{constructor(t){this._workspaceService=t}resolve(t){if(!this._workspaceService)return;const e=(0,lh.uT)(this._workspaceService.getWorkspace());if(e){if("WORKSPACE_NAME"===t.name)return this._resolveWorkspaceName(e);if("WORKSPACE_FOLDER"===t.name)return this._resoveWorkspacePath(e)}}_resolveWorkspaceName(t){if((0,lh.eb)(t))return tc.EZ(t.uri.path);let e=tc.EZ(t.configPath.path);return e.endsWith(lh.A6)&&(e=e.substr(0,e.length-lh.A6.length-1)),e}_resoveWorkspacePath(t){if((0,lh.eb)(t))return vf(t.uri.fsPath);let e=tc.EZ(t.configPath.path),n=t.configPath.fsPath;return n.endsWith(e)&&(n=n.substr(0,n.length-e.length-1)),n?vf(n):"/"}}class lL{resolve(t){const{name:e}=t;return"RANDOM"===e?Math.random().toString().slice(-6):"RANDOM_HEX"===e?Math.random().toString(16).slice(-6):"UUID"===e?function(){h_(vs),vs[6]=15&vs[6]|64,vs[8]=63&vs[8]|128;let a=0,t="";return t+=lr[vs[a++]],t+=lr[vs[a++]],t+=lr[vs[a++]],t+=lr[vs[a++]],t+="-",t+=lr[vs[a++]],t+=lr[vs[a++]],t+="-",t+=lr[vs[a++]],t+=lr[vs[a++]],t+="-",t+=lr[vs[a++]],t+=lr[vs[a++]],t+="-",t+=lr[vs[a++]],t+=lr[vs[a++]],t+=lr[vs[a++]],t+=lr[vs[a++]],t+=lr[vs[a++]],t+=lr[vs[a++]],t}():void 0}}class Ca{constructor(t,e,n,o){this._editor=t,this._snippet=e,this._offset=n,this._snippetLineLeadingWhitespace=o,this._nestingLevel=1,this._placeholderGroups=(0,ro.vM)(e.placeholders,ma.compareByIndex),this._placeholderGroupsIdx=-1}dispose(){this._placeholderDecorations&&this._editor.deltaDecorations([...this._placeholderDecorations.values()],[]),this._placeholderGroups.length=0}_initDecorations(){if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const t=this._editor.getModel();this._editor.changeDecorations(e=>{for(const n of this._snippet.placeholders){const o=this._snippet.offset(n),s=this._snippet.fullLen(n),d=kt.e.fromPositions(t.getPositionAt(this._offset+o),t.getPositionAt(this._offset+o+s)),V=e.addDecoration(d,n.isFinalTabstop?Ca._decor.inactiveFinal:Ca._decor.inactive);this._placeholderDecorations.set(n,V)}})}move(t){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){let o=[];for(const s of this._placeholderGroups[this._placeholderGroupsIdx])if(s.transform){const d=this._placeholderDecorations.get(s),p=this._editor.getModel().getDecorationRange(d),V=this._editor.getModel().getValueInRange(p),H=s.transform.resolve(V).split(/\r\n|\r|\n/);for(let U=1;U<H.length;U++)H[U]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+H[U]);o.push(is.h.replace(p,H.join(this._editor.getModel().getEOL())))}o.length>0&&this._editor.executeEdits("snippet.placeholderTransform",o)}let e=!1;!0===t&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,e=!0):!1===t&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,e=!0);const n=this._editor.getModel().changeDecorations(o=>{const s=new Set,d=[];for(const p of this._placeholderGroups[this._placeholderGroupsIdx]){const V=this._placeholderDecorations.get(p),H=this._editor.getModel().getDecorationRange(V);d.push(new ci.Y(H.startLineNumber,H.startColumn,H.endLineNumber,H.endColumn)),e=e&&this._hasPlaceholderBeenCollapsed(p),o.changeDecorationOptions(V,p.isFinalTabstop?Ca._decor.activeFinal:Ca._decor.active),s.add(p);for(const U of this._snippet.enclosingPlaceholders(p)){const ne=this._placeholderDecorations.get(U);o.changeDecorationOptions(ne,U.isFinalTabstop?Ca._decor.activeFinal:Ca._decor.active),s.add(U)}}for(const[p,V]of this._placeholderDecorations)s.has(p)||o.changeDecorationOptions(V,p.isFinalTabstop?Ca._decor.inactiveFinal:Ca._decor.inactive);return d});return e?this.move(t):n??[]}_hasPlaceholderBeenCollapsed(t){let e=t;for(;e;){if(e instanceof ma){const n=this._placeholderDecorations.get(e);if(this._editor.getModel().getDecorationRange(n).isEmpty()&&e.toString().length>0)return!0}e=e.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||0===this._placeholderGroups.length}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}computePossibleSelections(){const t=new Map;for(const e of this._placeholderGroups){let n;for(const o of e){if(o.isFinalTabstop)break;n||(n=[],t.set(o.index,n));const s=this._placeholderDecorations.get(o),d=this._editor.getModel().getDecorationRange(s);if(!d){t.delete(o.index);break}n.push(d)}}return t}get choice(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice}merge(t){const e=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(n=>{for(const o of this._placeholderGroups[this._placeholderGroupsIdx]){const s=t.shift();console.assert(!s._placeholderDecorations);const d=s._snippet.placeholderInfo.last.index;for(const V of s._snippet.placeholderInfo.all)V.index=V.isFinalTabstop?o.index+(d+1)/this._nestingLevel:o.index+V.index/this._nestingLevel;this._snippet.replace(o,s._snippet.children);const p=this._placeholderDecorations.get(o);n.removeDecoration(p),this._placeholderDecorations.delete(o);for(const V of s._snippet.placeholders){const H=s._snippet.offset(V),U=s._snippet.fullLen(V),ne=kt.e.fromPositions(e.getPositionAt(s._offset+H),e.getPositionAt(s._offset+H+U)),be=n.addDecoration(ne,Ca._decor.inactive);this._placeholderDecorations.set(V,be)}}this._placeholderGroups=(0,ro.vM)(this._snippet.placeholders,ma.compareByIndex)})}}Ca._decor={active:r.qx.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:r.qx.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:r.qx.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:r.qx.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const _b={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};class ml{constructor(t,e,n=_b){this._templateMerges=[],this._snippets=[],this._editor=t,this._template=e,this._options=n}static adjustWhitespace(t,e,n,o,s){const d=t.getLineContent(e.lineNumber),p=(0,jn.V8)(d,0,e.column-1);let V;return n.walk(H=>{if(!(H instanceof Or)||H.parent instanceof Nf)return!0;const U=H.value.split(/\r\n|\r|\n/);if(o){const be=n.offset(H);if(0===be)U[0]=t.normalizeIndentation(U[0]);else{V=V??n.toString();let Ee=V.charCodeAt(be-1);(10===Ee||13===Ee)&&(U[0]=t.normalizeIndentation(p+U[0]))}for(let Ee=1;Ee<U.length;Ee++)U[Ee]=t.normalizeIndentation(p+U[Ee])}const ne=U.join(t.getEOL());return ne!==H.value&&(H.parent.replace(H,[new Or(ne)]),V=void 0),!0}),p}static adjustSelection(t,e,n,o){if(0!==n||0!==o){const{positionLineNumber:s,positionColumn:d}=e,H=t.validateRange({startLineNumber:s,startColumn:d-n,endLineNumber:s,endColumn:d+o});e=ci.Y.createWithDirection(H.startLineNumber,H.startColumn,H.endLineNumber,H.endColumn,e.getDirection())}return e}static createEditsAndSnippets(t,e,n,o,s,d,p,V){const H=[],U=[];if(!t.hasModel())return{edits:H,snippets:U};const ne=t.getModel(),be=t.invokeWithinContext(Wn=>Wn.get(lh.ec)),Ee=t.invokeWithinContext(Wn=>new oL(Wn.get($u.e),ne)),Ke=()=>p;let ct=0,Pt=ne.getValueInRange(ml.adjustSelection(ne,t.getSelection(),n,0)),Ot=ne.getValueInRange(ml.adjustSelection(ne,t.getSelection(),0,o)),Xt=ne.getLineFirstNonWhitespaceColumn(t.getSelection().positionLineNumber);const on=t.getSelections().map((Wn,Pn)=>({selection:Wn,idx:Pn})).sort((Wn,Pn)=>kt.e.compareRangesUsingStarts(Wn.selection,Pn.selection));for(const{selection:Wn,idx:Pn}of on){let Ai=ml.adjustSelection(ne,Wn,n,0),Si=ml.adjustSelection(ne,Wn,0,o);Pt!==ne.getValueInRange(Ai)&&(Ai=Wn),Ot!==ne.getValueInRange(Si)&&(Si=Wn);const as=Wn.setStartPosition(Ai.startLineNumber,Ai.startColumn).setEndPosition(Si.endLineNumber,Si.endColumn),Ws=(new mm).parse(e,!0,s),Vs=as.getStartPosition(),wa=ml.adjustWhitespace(ne,Vs,Ws,d||Pn>0&&Xt!==ne.getLineFirstNonWhitespaceColumn(Wn.positionLineNumber),!0);Ws.resolveVariables(new nL([Ee,new sL(Ke,Pn,on.length,"spread"===t.getOption(71)),new iL(ne,Wn,Pn,V),new rL(ne,Wn),new gl,new aL(be),new lL]));const Ha=ne.getOffsetAt(Vs)+ct;ct+=Ws.toString().length-ne.getValueLengthInRange(as),H[Pn]=is.h.replace(as,Ws.toString()),H[Pn].identifier={major:Pn,minor:0},U[Pn]=new Ca(t,Ws,Ha,wa)}return{edits:H,snippets:U}}dispose(){(0,Tt.B9)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:t,snippets:e}=ml.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer);this._snippets=e,this._editor.executeEdits("snippet",t,n=>this._snippets[0].hasPlaceholder?this._move(!0):n.filter(o=>!!o.identifier).map(o=>ci.Y.fromPositions(o.range.getEndPosition()))),this._editor.revealRange(this._editor.getSelections()[0])}merge(t,e=_b){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,t]);const{edits:n,snippets:o}=ml.createEditsAndSnippets(this._editor,t,e.overwriteBefore,e.overwriteAfter,!0,e.adjustWhitespace,e.clipboardText,e.overtypingCapturer);this._editor.executeEdits("snippet",n,s=>{for(const d of this._snippets)d.merge(o);return console.assert(0===o.length),this._snippets[0].hasPlaceholder?this._move(void 0):s.filter(d=>!!d.identifier).map(d=>ci.Y.fromPositions(d.range.getEndPosition()))})}next(){const t=this._move(!0);this._editor.setSelections(t),this._editor.revealPositionInCenterIfOutsideViewport(t[0].getPosition())}prev(){const t=this._move(!1);this._editor.setSelections(t),this._editor.revealPositionInCenterIfOutsideViewport(t[0].getPosition())}_move(t){const e=[];for(const n of this._snippets){const o=n.move(t);e.push(...o)}return e}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get choice(){return this._snippets[0].choice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const t=this._editor.getSelections();if(t.length<this._snippets.length)return!1;let e=new Map;for(const n of this._snippets){const o=n.computePossibleSelections();if(0===e.size)for(const[s,d]of o){d.sort(kt.e.compareRangesUsingStarts);for(const p of t)if(d[0].containsRange(p)){e.set(s,[]);break}}if(0===e.size)return!1;e.forEach((s,d)=>{s.push(...o.get(d))})}t.sort(kt.e.compareRangesUsingStarts);for(let[n,o]of e)if(o.length===t.length){o.sort(kt.e.compareRangesUsingStarts);for(let s=0;s<o.length;s++)if(!o[s].containsRange(t[s])){e.delete(n);continue}}else e.delete(n);return e.size>0}}var Cb=m(99315),Um=m(2646),f_=function(a,t){return function(e,n){t(e,n,a)}};const bb={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let Is=class wg{constructor(t,e,n,o){this._editor=t,this._instantiationService=e,this._logService=n,this._snippetListener=new Tt.SL,this._modelVersionId=-1,this._inSnippet=wg.InSnippetMode.bindTo(o),this._hasNextTabstop=wg.HasNextTabstop.bindTo(o),this._hasPrevTabstop=wg.HasPrevTabstop.bindTo(o)}static get(t){return t.getContribution(wg.ID)}dispose(){var t;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),null===(t=this._session)||void 0===t||t.dispose(),this._snippetListener.dispose()}insert(t,e){try{this._doInsert(t,void 0===e?bb:Object.assign(Object.assign({},bb),e))}catch(n){this.cancel(),this._logService.error(n),this._logService.error("snippet_error"),this._logService.error("insert_template=",t),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(t,e){!this._editor.hasModel()||(this._snippetListener.clear(),e.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(t,e):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new ml(this._editor,t,e),this._session.insert()),e.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(n=>n.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState())))}_updateState(){if(this._session&&this._editor.hasModel()){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel())return void(this._currentChoice=void 0);const{choice:t}=this._session;if(t){if(this._currentChoice!==t){this._currentChoice=t,this._editor.setSelections(this._editor.getSelections().map(n=>ci.Y.fromPositions(n.getStartPosition())));const[e]=t.options;this._instantiationService.invokeFunction(Zw,this._editor,t.options.map((n,o)=>({kind:13,label:n.value,insertText:n.value,sortText:"a".repeat(o+1),range:kt.e.fromPositions(this._editor.getPosition(),this._editor.getPosition().delta(0,e.value.length))})))}}else this._currentChoice=void 0}finish(){for(;this._inSnippet.get();)this.next()}cancel(t=!1){var e;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),null===(e=this._session)||void 0===e||e.dispose(),this._session=void 0,this._modelVersionId=-1,t&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};Is.ID="snippetController2",Is.InSnippetMode=new Qt.uy("inSnippetMode",!1,(0,De.N)("inSnippetMode","Whether the editor in current in snippet mode")),Is.HasNextTabstop=new Qt.uy("hasNextTabstop",!1,(0,De.N)("hasNextTabstop","Whether there is a next tab stop when in snippet mode")),Is.HasPrevTabstop=new Qt.uy("hasPrevTabstop",!1,(0,De.N)("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode")),Is=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([f_(1,Qi.TG),f_(2,Um.VZ),f_(3,Qt.i6)],Is),(0,Qe._K)(Is.ID,Is);const jm=Qe._l.bindToContribution(Is.get);(0,Qe.fK)(new jm({id:"jumpToNextSnippetPlaceholder",precondition:Qt.Ao.and(Is.InSnippetMode,Is.HasNextTabstop),handler:a=>a.next(),kbOpts:{weight:130,kbExpr:Ct.u.editorTextFocus,primary:2}})),(0,Qe.fK)(new jm({id:"jumpToPrevSnippetPlaceholder",precondition:Qt.Ao.and(Is.InSnippetMode,Is.HasPrevTabstop),handler:a=>a.prev(),kbOpts:{weight:130,kbExpr:Ct.u.editorTextFocus,primary:1026}})),(0,Qe.fK)(new jm({id:"leaveSnippet",precondition:Is.InSnippetMode,handler:a=>a.cancel(!0),kbOpts:{weight:130,kbExpr:Ct.u.editorTextFocus,primary:9,secondary:[1033]}})),(0,Qe.fK)(new jm({id:"acceptSnippet",precondition:Is.InSnippetMode,handler:a=>a.finish()}));var vb=function(a,t){return function(e,n){t(e,n,a)}};class g_{constructor(t){this.name=t}select(t,e,n){if(0===n.length)return 0;let o=n[0].score[0];for(let s=0;s<n.length;s++){const{score:d,completion:p}=n[s];if(d[0]!==o)break;if(p.preselect)return s}return 0}}class wb extends g_{constructor(){super("first")}memorize(t,e,n){}toJSON(){}fromJSON(){}}let Gf=class yp{constructor(t,e){this._storageService=t,this._configService=e,this._disposables=new Tt.SL,this._persistSoon=new Bn.pY(()=>this._saveState(),500),this._disposables.add(t.onWillSaveState(n=>{n.reason===mr.fk.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(t,e,n){this._withStrategy(t,e).memorize(t,e,n),this._persistSoon.schedule()}select(t,e,n){return this._withStrategy(t,e).select(t,e,n)}_withStrategy(t,e){var n;const o=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:t.getLanguageIdAtPosition(e.lineNumber,e.column),resource:t.uri});if((null===(n=this._strategy)||void 0===n?void 0:n.name)!==o){this._saveState();const s=yp._strategyCtors.get(o)||wb;this._strategy=new s;try{const p=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,V=this._storageService.get(`${yp._storagePrefix}/${o}`,p);V&&this._strategy.fromJSON(JSON.parse(V))}catch{}}return this._strategy}_saveState(){if(this._strategy){const e=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,n=JSON.stringify(this._strategy);this._storageService.store(`${yp._storagePrefix}/${this._strategy.name}`,n,e,1)}}};Gf._strategyCtors=new Map([["recentlyUsedByPrefix",class extends g_{constructor(){super("recentlyUsedByPrefix"),this._trie=Cs.Id.forStrings(),this._seq=0}memorize(t,e,n){const{word:o}=t.getWordUntilPosition(e),s=`${t.getLanguageId()}/${o}`;this._trie.set(s,{type:n.completion.kind,insertText:n.completion.insertText,touch:this._seq++})}select(t,e,n){let{word:o}=t.getWordUntilPosition(e);if(!o)return super.select(t,e,n);let s=`${t.getLanguageId()}/${o}`,d=this._trie.get(s);if(d||(d=this._trie.findSubstr(s)),d)for(let p=0;p<n.length;p++){let{kind:V,insertText:H}=n[p].completion;if(V===d.type&&H===d.insertText)return p}return super.select(t,e,n)}toJSON(){let t=[];return this._trie.forEach((e,n)=>t.push([n,e])),t.sort((e,n)=>-(e[1].touch-n[1].touch)).forEach((e,n)=>e[1].touch=n),t.slice(0,200)}fromJSON(t){if(this._trie.clear(),t.length>0){this._seq=t[0][1].touch+1;for(const[e,n]of t)n.type="number"==typeof n.type?n.type:Xi.gX.fromString(n.type),this._trie.set(e,n)}}}],["recentlyUsed",class extends g_{constructor(){super("recentlyUsed"),this._cache=new Cs.z6(300,.66),this._seq=0}memorize(t,e,n){const o=`${t.getLanguageId()}/${n.textLabel}`;this._cache.set(o,{touch:this._seq++,type:n.completion.kind,insertText:n.completion.insertText})}select(t,e,n){if(0===n.length)return 0;const o=t.getLineContent(e.lineNumber).substr(e.column-10,e.column-1);if(/\s$/.test(o))return super.select(t,e,n);let s=n[0].score[0],p=-1,V=-1;for(let H=0;H<n.length&&n[H].score[0]===s;H++){const U=`${t.getLanguageId()}/${n[H].textLabel}`,ne=this._cache.peek(U);if(ne&&ne.touch>V&&ne.type===n[H].completion.kind&&ne.insertText===n[H].completion.insertText&&(V=ne.touch,p=H),n[H].completion.preselect)return H}return-1!==p?p:0}toJSON(){return this._cache.toJSON()}fromJSON(t){this._cache.clear();for(const[n,o]of t)o.touch=0,o.type="number"==typeof o.type?o.type:Xi.gX.fromString(o.type),this._cache.set(n,o);this._seq=this._cache.size}}],["first",wb]]),Gf._storagePrefix="suggest/memories",Gf=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([vb(0,mr.Uy),vb(1,Jo.Ui)],Gf);const yb=(0,Qi.yh)("ISuggestMemories");(0,ol.z)(yb,Gf,!0);let Qf=class fw{constructor(t,e){this._editor=t,this._enabled=!1,this._ckAtEnd=fw.AtEnd.bindTo(e),this._configListener=this._editor.onDidChangeConfiguration(n=>n.hasChanged(111)&&this._update()),this._update()}dispose(){var t;this._configListener.dispose(),null===(t=this._selectionListener)||void 0===t||t.dispose(),this._ckAtEnd.reset()}_update(){const t="on"===this._editor.getOption(111);if(this._enabled!==t)if(this._enabled=t,this._enabled){const e=()=>{if(!this._editor.hasModel())return void this._ckAtEnd.set(!1);const n=this._editor.getModel(),o=this._editor.getSelection(),s=n.getWordAtPosition(o.getStartPosition());this._ckAtEnd.set(!!s&&s.endColumn===o.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(e),e()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};Qf.AtEnd=new Qt.uy("atEndOfWord",!1),Qf=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([function(a,t){return function(e,n){t(e,n,1)}}(0,Qt.i6)],Qf);let Zd=class Sp{constructor(t,e){this._editor=t,this._index=0,this._ckOtherSuggestions=Sp.OtherSuggestions.bindTo(e)}dispose(){this.reset()}reset(){var t;this._ckOtherSuggestions.reset(),null===(t=this._listener)||void 0===t||t.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:t,index:e},n){0!==t.items.length&&Sp._moveIndex(!0,t,e)!==e?(this._acceptNext=n,this._model=t,this._index=e,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)):this.reset()}static _moveIndex(t,e,n){let o=n;for(;o=(o+e.items.length+(t?1:-1))%e.items.length,o!==n&&e.items[o].completion.additionalTextEdits;);return o}next(){this._move(!0)}prev(){this._move(!1)}_move(t){if(this._model)try{this._ignore=!0,this._index=Sp._moveIndex(t,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};Zd.OtherSuggestions=new Qt.uy("hasOtherSuggestions",!1),Zd=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([function(a,t){return function(e,n){t(e,n,1)}}(0,Qt.i6)],Zd);class _L{constructor(t,e,n){this._disposables=new Tt.SL,this._disposables.add(e.onDidShow(()=>this._onItem(e.getFocusedItem()))),this._disposables.add(e.onDidFocus(this._onItem,this)),this._disposables.add(e.onDidHide(this.reset,this)),this._disposables.add(t.onWillType(o=>{if(this._active&&!e.isFrozen()){const s=o.charCodeAt(o.length-1);this._active.acceptCharacters.has(s)&&t.getOption(0)&&n(this._active.item)}}))}_onItem(t){if(!t||!(0,ro.Of)(t.item.completion.commitCharacters))return void this.reset();if(this._active&&this._active.item.item===t.item)return;const e=new rh.q;for(const n of t.item.completion.commitCharacters)n.length>0&&e.add(n.charCodeAt(0));this._active={acceptCharacters:e,item:t}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}let Sb=(()=>{class a{provideSelectionRanges(e,n){return function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})}(this,void 0,void 0,function*(){const o=[];for(const s of n){const d=[];o.push(d);const p=new Map;yield new Promise(V=>a._bracketsRightYield(V,0,e,s,p)),yield new Promise(V=>a._bracketsLeftYield(V,0,e,s,p,d))}return o})}static _bracketsRightYield(e,n,o,s,d){const p=new Map,V=Date.now();for(;;){if(n>=a._maxRounds){e();break}if(!s){e();break}let H=o.bracketPairs.findNextBracket(s);if(!H){e();break}if(Date.now()-V>a._maxDuration){setTimeout(()=>a._bracketsRightYield(e,n+1,o,s,d));break}const ne=H.close[0];if(H.isOpen){let be=p.has(ne)?p.get(ne):0;p.set(ne,be+1)}else{let be=p.has(ne)?p.get(ne):0;if(be-=1,p.set(ne,Math.max(0,be)),be<0){let Ee=d.get(ne);Ee||(Ee=new LC.S,d.set(ne,Ee)),Ee.push(H.range)}}s=H.range.getEndPosition()}}static _bracketsLeftYield(e,n,o,s,d,p){const V=new Map,H=Date.now();for(;;){if(n>=a._maxRounds&&0===d.size){e();break}if(!s){e();break}let U=o.bracketPairs.findPrevBracket(s);if(!U){e();break}if(Date.now()-H>a._maxDuration){setTimeout(()=>a._bracketsLeftYield(e,n+1,o,s,d,p));break}const be=U.close[0];if(U.isOpen){let Ee=V.has(be)?V.get(be):0;if(Ee-=1,V.set(be,Math.max(0,Ee)),Ee<0){let Ke=d.get(be);if(Ke){let ct=Ke.shift();0===Ke.size&&d.delete(be);const Pt=kt.e.fromPositions(U.range.getEndPosition(),ct.getStartPosition()),Ot=kt.e.fromPositions(U.range.getStartPosition(),ct.getEndPosition());p.push({range:Pt}),p.push({range:Ot}),a._addBracketLeading(o,Ot,p)}}}else{let Ee=V.has(be)?V.get(be):0;V.set(be,Ee+1)}s=U.range.getStartPosition()}}static _addBracketLeading(e,n,o){if(n.startLineNumber===n.endLineNumber)return;const s=n.startLineNumber,d=e.getLineFirstNonWhitespaceColumn(s);0!==d&&d!==n.startColumn&&(o.push({range:kt.e.fromPositions(new di.L(s,d),n.getEndPosition())}),o.push({range:kt.e.fromPositions(new di.L(s,1),n.getEndPosition())}));const p=s-1;if(p>0){const V=e.getLineFirstNonWhitespaceColumn(p);V===n.startColumn&&V!==e.getLineLastNonWhitespaceColumn(p)&&(o.push({range:kt.e.fromPositions(new di.L(p,V),n.getEndPosition())}),o.push({range:kt.e.fromPositions(new di.L(p,1),n.getEndPosition())}))}}}return a._maxDuration=30,a._maxRounds=2,a})();class pl{static create(t,e){return function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})}(this,void 0,void 0,function*(){if(!e.getOption(106).localityBonus||!e.hasModel())return pl.None;const n=e.getModel(),o=e.getPosition();if(!t.canComputeWordRanges(n.uri))return pl.None;const[s]=yield(new Sb).provideSelectionRanges(n,[o]);if(0===s.length)return pl.None;const d=yield t.computeWordRanges(n.uri,s[0].range);if(!d)return pl.None;const p=n.getWordUntilPosition(o);return delete d[p.word],new class extends pl{distance(V,H){if(!o.equals(e.getPosition()))return 0;if(17===H.kind)return 2<<20;let ne=d["string"==typeof H.label?H.label:H.label.label];if((0,ro.XY)(ne))return 2<<20;let be=(0,ro.ry)(ne,kt.e.fromPositions(V),kt.e.compareRangesUsingStarts),Ee=be>=0?ne[be]:ne[Math.max(0,~be-1)],Ke=s.length;for(const ct of s){if(!kt.e.containsRange(ct.range,Ee))break;Ke-=1}return Ke}}})}}pl.None=new class extends pl{distance(){return 0}};class Gd{constructor(t,e,n,o,s,d,p){this.clipboardText=p,this._snippetCompareFn=Gd._compareCompletionItems,this._items=t,this._column=e,this._wordDistance=o,this._options=s,this._refilterKind=1,this._lineContext=n,"top"===d?this._snippetCompareFn=Gd._compareCompletionItemsSnippetsUp:"bottom"===d&&(this._snippetCompareFn=Gd._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(t){(this._lineContext.leadingLineContent!==t.leadingLineContent||this._lineContext.characterCountDelta!==t.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<t.characterCountDelta&&this._filteredItems?2:1,this._lineContext=t)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const t=new Set;for(let[e,n]of this._providerInfo)n&&t.add(e);return t}adopt(t){let e=[];for(let n=0;n<this._items.length;)t.has(this._items[n].provider)?n++:(e.push(this._items[n]),this._items[n]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,e}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){0!==this._refilterKind&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const t=[],{leadingLineContent:e,characterCountDelta:n}=this._lineContext;let o="",s="";const d=1===this._refilterKind?this._items:this._filteredItems,p=[],V=!this._options.filterGraceful||d.length>2e3?Ys.EW:Ys.l7;for(let H=0;H<d.length;H++){const U=d[H];if(U.isInvalid)continue;this._providerInfo.set(U.provider,Boolean(U.container.incomplete));const ne=U.position.column-U.editStart.column,be=ne+n-(U.position.column-this._column);if(o.length!==be&&(o=0===be?"":e.slice(-be),s=o.toLowerCase()),U.word=o,0===be)U.score=Ys.CL.Default;else{let Ee=0;for(;Ee<ne;){const Ke=o.charCodeAt(Ee);if(32!==Ke&&9!==Ke)break;Ee+=1}if(Ee>=be)U.score=Ys.CL.Default;else if("string"==typeof U.completion.filterText){let Ke=V(o,s,Ee,U.completion.filterText,U.filterTextLow,0,!1);if(!Ke)continue;0===(0,jn.zY)(U.completion.filterText,U.textLabel)?U.score=Ke:(U.score=(0,Ys.jB)(o,s,Ee,U.textLabel,U.labelLow,0),U.score[0]=Ke[0])}else{let Ke=V(o,s,Ee,U.textLabel,U.labelLow,0,!1);if(!Ke)continue;U.score=Ke}}U.idx=H,U.distance=this._wordDistance.distance(U.position,U.completion),p.push(U),t.push(U.textLabel.length)}this._filteredItems=p.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:t.length?(0,ro.HW)(t.length-.85,t,(H,U)=>H-U):0}}static _compareCompletionItems(t,e){return t.score[0]>e.score[0]?-1:t.score[0]<e.score[0]?1:t.distance<e.distance?-1:t.distance>e.distance?1:t.idx<e.idx?-1:t.idx>e.idx?1:0}static _compareCompletionItemsSnippetsDown(t,e){if(t.completion.kind!==e.completion.kind){if(27===t.completion.kind)return 1;if(27===e.completion.kind)return-1}return Gd._compareCompletionItems(t,e)}static _compareCompletionItemsSnippetsUp(t,e){if(t.completion.kind!==e.completion.kind){if(27===t.completion.kind)return-1;if(27===e.completion.kind)return 1}return Gd._compareCompletionItems(t,e)}}var Qd=function(a,t){return function(e,n){t(e,n,a)}};class ch{constructor(t,e,n,o){this.leadingLineContent=t.getLineContent(e.lineNumber).substr(0,e.column-1),this.leadingWord=t.getWordUntilPosition(e),this.lineNumber=e.lineNumber,this.column=e.column,this.auto=n,this.shy=o}static shouldAutoTrigger(t){if(!t.hasModel())return!1;const e=t.getModel(),n=t.getPosition();e.tokenizeIfCheap(n.lineNumber);const o=e.getWordAtPosition(n);return!(!o||o.endColumn!==n.column||!isNaN(Number(o.word)))}}let m_=class gw{constructor(t,e,n,o,s,d,p,V){this._editor=t,this._editorWorkerService=e,this._clipboardService=n,this._telemetryService=o,this._logService=s,this._contextKeyService=d,this._configurationService=p,this._languageFeaturesService=V,this._toDispose=new Tt.SL,this._quickSuggestDelay=10,this._triggerCharacterListener=new Tt.SL,this._triggerQuickSuggest=new Bn._F,this._state=0,this._completionDisposables=new Tt.SL,this._onDidCancel=new $n.Q5,this._onDidTrigger=new $n.Q5,this._onDidSuggest=new $n.Q5,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new ci.Y(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters(),this._updateQuickSuggest()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let H=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{H=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{H=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(U=>{H||this._onCursorChange(U)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{H||this._refilterCompletionItems()})),this._updateTriggerCharacters(),this._updateQuickSuggest()}dispose(){(0,Tt.B9)(this._triggerCharacterListener),(0,Tt.B9)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateQuickSuggest(){this._quickSuggestDelay=this._editor.getOption(80),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&0!==this._quickSuggestDelay||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(81)||!this._editor.hasModel()||!this._editor.getOption(109))return;const t=new Map;for(const n of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(const o of n.triggerCharacters||[]){let s=t.get(o);s||(s=new Set,s.add(undefined),t.set(o,s)),s.add(n)}const e=n=>{if(!function(a,t,e){if(!Boolean(t.getContextKeyValue("inlineSuggestionVisible")))return!0;const n=e.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters");return void 0!==n&&Boolean(n)}(0,this._contextKeyService,this._configurationService)||ch.shouldAutoTrigger(this._editor))return;if(!n){const d=this._editor.getPosition();n=this._editor.getModel().getLineContent(d.lineNumber).substr(0,d.column-1)}let o="";(0,jn.YK)(n.charCodeAt(n.length-1))?(0,jn.ZG)(n.charCodeAt(n.length-2))&&(o=n.substr(n.length-2)):o=n.charAt(n.length-1);const s=t.get(o);if(s){const d=this._completionModel?{items:this._completionModel.adopt(s),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,triggerCharacter:o},Boolean(this._completionModel),s,d)}};this._triggerCharacterListener.add(this._editor.onDidType(e)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>e()))}get state(){return this._state}cancel(t=!1){var e;0!==this._state&&(this._triggerQuickSuggest.cancel(),null===(e=this._requestToken)||void 0===e||e.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:t}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){0!==this._state&&(this._editor.hasModel()&&this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.trigger({auto:2===this._state,shy:!1},!0):this.cancel())}_onCursorChange(t){if(!this._editor.hasModel())return;const e=this._currentSelection;this._currentSelection=this._editor.getSelection(),!t.selection.isEmpty()||0!==t.reason&&3!==t.reason||"keyboard"!==t.source&&"deleteLeft"!==t.source?this.cancel():0===this._state&&0===t.reason?(e.containsRange(this._currentSelection)||e.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():0!==this._state&&3===t.reason&&this._refilterCompletionItems()}_onCompositionEnd(){0===this._state?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var t;!1!==this._editor.getOption(79)&&(this._editor.getOption(106).snippetsPreventQuickSuggestions&&(null===(t=Is.get(this._editor))||void 0===t?void 0:t.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(0!==this._state||!ch.shouldAutoTrigger(this._editor)||!this._editor.hasModel())return;const e=this._editor.getModel(),n=this._editor.getPosition(),o=this._editor.getOption(79);if(!1!==o){if(!0!==o){e.tokenizeIfCheap(n.lineNumber);const s=e.getLineTokens(n.lineNumber),d=s.getStandardTokenType(s.findTokenIndexAtOffset(Math.max(n.column-1-1,0)));if(!(o.other&&0===d||o.comments&&1===d||o.strings&&2===d))return}!function(a,t,e){if(!Boolean(t.getContextKeyValue("inlineSuggestionVisible")))return!0;const n=e.getValue("editor.inlineSuggest.allowQuickSuggestions");return void 0!==n&&Boolean(n)}(0,this._contextKeyService,this._configurationService)||!this._languageFeaturesService.completionProvider.has(e)||this.trigger({auto:!0,shy:!1})}},this._quickSuggestDelay)))}_refilterCompletionItems(){Promise.resolve().then(()=>{if(0===this._state||!this._editor.hasModel())return;const t=this._editor.getModel(),e=this._editor.getPosition(),n=new ch(t,e,2===this._state,!1);this._onNewContext(n)})}trigger(t,e=!1,n,o){var s;if(!this._editor.hasModel())return;const d=this._editor.getModel(),p=t.auto,V=new ch(d,this._editor.getPosition(),p,t.shy);this.cancel(e),this._state=p?2:1,this._onDidTrigger.fire({auto:p,shy:t.shy,position:this._editor.getPosition()}),this._context=V;let H={triggerKind:null!==(s=t.triggerKind)&&void 0!==s?s:0};t.triggerCharacter&&(H={triggerKind:1,triggerCharacter:t.triggerCharacter}),this._requestToken=new Zn.A;const U=this._editor.getOption(101);let ne=1;switch(U){case"top":ne=0;break;case"bottom":ne=2}const{itemKind:be,showDeprecated:Ee}=gw._createSuggestFilter(this._editor),Ke=pl.create(this._editorWorkerService,this._editor),ct=tC(this._languageFeaturesService.completionProvider,d,this._editor.getPosition(),new pm(ne,be,n,Ee),H,this._requestToken.token);Promise.all([ct,Ke]).then(([Pt,Ot])=>function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})}(this,void 0,void 0,function*(){var Xt;if(null===(Xt=this._requestToken)||void 0===Xt||Xt.dispose(),!this._editor.hasModel())return;let on=null==o?void 0:o.clipboardText;if(!on&&Pt.needsClipboard&&(on=yield this._clipboardService.readText()),0===this._state)return;const Wn=this._editor.getModel();let Pn=Pt.items;if(o){const Si=nC(ne);Pn=Pn.concat(o.items).sort(Si)}const Ai=new ch(Wn,this._editor.getPosition(),p,t.shy);this._completionModel=new Gd(Pn,this._context.column,{leadingLineContent:Ai.leadingLineContent,characterCountDelta:Ai.column-this._context.column},Ot,this._editor.getOption(106),this._editor.getOption(101),on),this._completionDisposables.add(Pt.disposable),this._onNewContext(Ai),this._reportDurationsTelemetry(Pt.durations)})).catch(Qn.dL)}_reportDurationsTelemetry(t){this._telemetryGate++%230==0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(t)}),this._logService.debug("suggest.durations.json",t)})}static _createSuggestFilter(t){const e=new Set;"none"===t.getOption(101)&&e.add(27);const o=t.getOption(106);return o.showMethods||e.add(0),o.showFunctions||e.add(1),o.showConstructors||e.add(2),o.showFields||e.add(3),o.showVariables||e.add(4),o.showClasses||e.add(5),o.showStructs||e.add(6),o.showInterfaces||e.add(7),o.showModules||e.add(8),o.showProperties||e.add(9),o.showEvents||e.add(10),o.showOperators||e.add(11),o.showUnits||e.add(12),o.showValues||e.add(13),o.showConstants||e.add(14),o.showEnums||e.add(15),o.showEnumMembers||e.add(16),o.showKeywords||e.add(17),o.showWords||e.add(18),o.showColors||e.add(19),o.showFiles||e.add(20),o.showReferences||e.add(21),o.showColors||e.add(22),o.showFolders||e.add(23),o.showTypeParameters||e.add(24),o.showSnippets||e.add(27),o.showUsers||e.add(25),o.showIssues||e.add(26),{itemKind:e,showDeprecated:o.showDeprecated}}_onNewContext(t){if(this._context){if(t.lineNumber!==this._context.lineNumber)return void this.cancel();if((0,jn.V8)(t.leadingLineContent)!==(0,jn.V8)(this._context.leadingLineContent))return void this.cancel();if(t.column<this._context.column)return void(t.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel());if(this._completionModel){if(0!==t.leadingWord.word.length&&t.leadingWord.startColumn>this._context.leadingWord.startColumn){const e=new Set(this._languageFeaturesService.completionProvider.all(this._editor.getModel()));for(let o of this._completionModel.allProvider)e.delete(o);const n=this._completionModel.adopt(new Set);return void this.trigger({auto:this._context.auto,shy:!1},!0,e,{items:n,clipboardText:this._completionModel.clipboardText})}if(t.column>this._context.column&&this._completionModel.incomplete.size>0&&0!==t.leadingWord.word.length){const{incomplete:e}=this._completionModel,n=this._completionModel.adopt(e);this.trigger({auto:2===this._state,shy:!1,triggerKind:2},!0,e,{items:n,clipboardText:this._completionModel.clipboardText})}else{let e=this._completionModel.lineContext,n=!1;if(this._completionModel.lineContext={leadingLineContent:t.leadingLineContent,characterCountDelta:t.column-this._context.column},0===this._completionModel.items.length){if(ch.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<t.leadingWord.startColumn)return void this.trigger({auto:this._context.auto,shy:!1},!0);if(this._context.auto)return void this.cancel();if(this._completionModel.lineContext=e,n=this._completionModel.items.length>0,n&&0===t.leadingWord.word.length)return void this.cancel()}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:n})}}}}};m_=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([Qd(1,jf.p),Qd(2,Rn.p),Qd(3,Dd.b),Qd(4,Um.VZ),Qd(5,Qt.i6),Qd(6,Jo.Ui),Qd(7,Ui.p)],m_);let xL=(()=>{class a{constructor(e,n){this._disposables=new Tt.SL,this._lastOvertyped=[],this._empty=!0,this._disposables.add(e.onWillType(()=>{if(!this._empty||!e.hasModel())return;const o=e.getSelections(),s=o.length;let d=!1;for(let V=0;V<s;V++)if(!o[V].isEmpty()){d=!0;break}if(!d)return;this._lastOvertyped=[];const p=e.getModel();for(let V=0;V<s;V++){const H=o[V];if(p.getValueLengthInRange(H)>a._maxSelectionLength)return;this._lastOvertyped[V]={value:p.getValueInRange(H),multiline:H.startLineNumber!==H.endLineNumber}}this._empty=!1})),this._disposables.add(n.onDidCancel(o=>{!this._empty&&!o.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(e){if(!this._empty&&e>=0&&e<this._lastOvertyped.length)return this._lastOvertyped[e]}dispose(){this._disposables.dispose()}}return a._maxSelectionLength=51200,a})();m(19226);var LL=m(2393),DL=m(31096),p_=(m(1494),function(a,t){return function(e,n){t(e,n,a)}});class __ extends Oc{updateLabel(){const t=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!t)return super.updateLabel();this.label&&(this.label.textContent=(0,De.N)("ddd","{0} ({1})",this._action.label,__.symbolPrintEnter(t)))}static symbolPrintEnter(t){var e;return null===(e=t.getLabel())||void 0===e?void 0:e.replace(/\benter\b/gi,"\u23ce")}}let C_=class{constructor(t,e,n,o){this._menuService=n,this._contextKeyService=o,this._menuDisposables=new Tt.SL,this.element=st.R3(t,st.$(".suggest-status-bar"));const s=d=>d instanceof _.U8?e.createInstance(__,d,void 0):void 0;this._leftActions=new Uu.o(this.element,{actionViewItemProvider:s}),this._rightActions=new Uu.o(this.element,{actionViewItemProvider:s}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const t=this._menuService.createMenu(Rc,this._contextKeyService),e=()=>{const n=[],o=[];for(let[s,d]of t.getActions())"left"===s?n.push(...d):o.push(...d);this._leftActions.clear(),this._leftActions.push(n),this._rightActions.clear(),this._rightActions.push(o)};this._menuDisposables.add(t.onDidChange(()=>e())),this._menuDisposables.add(t)}hide(){this._menuDisposables.clear()}};C_=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([p_(1,Qi.TG),p_(2,_.co),p_(3,Qt.i6)],C_);const ML=(0,y.P6G)("symbolIcon.arrayForeground",{dark:y.dRz,light:y.dRz,hc:y.dRz},(0,De.N)("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),NL=(0,y.P6G)("symbolIcon.booleanForeground",{dark:y.dRz,light:y.dRz,hc:y.dRz},(0,De.N)("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),IL=(0,y.P6G)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,De.N)("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),kL=(0,y.P6G)("symbolIcon.colorForeground",{dark:y.dRz,light:y.dRz,hc:y.dRz},(0,De.N)("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),TL=(0,y.P6G)("symbolIcon.constantForeground",{dark:y.dRz,light:y.dRz,hc:y.dRz},(0,De.N)("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),PL=(0,y.P6G)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,De.N)("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),OL=(0,y.P6G)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,De.N)("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),AL=(0,y.P6G)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,De.N)("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),RL=(0,y.P6G)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,De.N)("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),FL=(0,y.P6G)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,De.N)("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),BL=(0,y.P6G)("symbolIcon.fileForeground",{dark:y.dRz,light:y.dRz,hc:y.dRz},(0,De.N)("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),WL=(0,y.P6G)("symbolIcon.folderForeground",{dark:y.dRz,light:y.dRz,hc:y.dRz},(0,De.N)("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),VL=(0,y.P6G)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,De.N)("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),HL=(0,y.P6G)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,De.N)("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),zL=(0,y.P6G)("symbolIcon.keyForeground",{dark:y.dRz,light:y.dRz,hc:y.dRz},(0,De.N)("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),UL=(0,y.P6G)("symbolIcon.keywordForeground",{dark:y.dRz,light:y.dRz,hc:y.dRz},(0,De.N)("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),jL=(0,y.P6G)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,De.N)("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),KL=(0,y.P6G)("symbolIcon.moduleForeground",{dark:y.dRz,light:y.dRz,hc:y.dRz},(0,De.N)("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),$L=(0,y.P6G)("symbolIcon.namespaceForeground",{dark:y.dRz,light:y.dRz,hc:y.dRz},(0,De.N)("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ZL=(0,y.P6G)("symbolIcon.nullForeground",{dark:y.dRz,light:y.dRz,hc:y.dRz},(0,De.N)("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),GL=(0,y.P6G)("symbolIcon.numberForeground",{dark:y.dRz,light:y.dRz,hc:y.dRz},(0,De.N)("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),QL=(0,y.P6G)("symbolIcon.objectForeground",{dark:y.dRz,light:y.dRz,hc:y.dRz},(0,De.N)("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),YL=(0,y.P6G)("symbolIcon.operatorForeground",{dark:y.dRz,light:y.dRz,hc:y.dRz},(0,De.N)("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),JL=(0,y.P6G)("symbolIcon.packageForeground",{dark:y.dRz,light:y.dRz,hc:y.dRz},(0,De.N)("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),XL=(0,y.P6G)("symbolIcon.propertyForeground",{dark:y.dRz,light:y.dRz,hc:y.dRz},(0,De.N)("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),qL=(0,y.P6G)("symbolIcon.referenceForeground",{dark:y.dRz,light:y.dRz,hc:y.dRz},(0,De.N)("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),e2=(0,y.P6G)("symbolIcon.snippetForeground",{dark:y.dRz,light:y.dRz,hc:y.dRz},(0,De.N)("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),t2=(0,y.P6G)("symbolIcon.stringForeground",{dark:y.dRz,light:y.dRz,hc:y.dRz},(0,De.N)("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),n2=(0,y.P6G)("symbolIcon.structForeground",{dark:y.dRz,light:y.dRz,hc:y.dRz},(0,De.N)("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),i2=(0,y.P6G)("symbolIcon.textForeground",{dark:y.dRz,light:y.dRz,hc:y.dRz},(0,De.N)("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),o2=(0,y.P6G)("symbolIcon.typeParameterForeground",{dark:y.dRz,light:y.dRz,hc:y.dRz},(0,De.N)("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),s2=(0,y.P6G)("symbolIcon.unitForeground",{dark:y.dRz,light:y.dRz,hc:y.dRz},(0,De.N)("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),r2=(0,y.P6G)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,De.N)("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));(0,A.Ic)((a,t)=>{const e=a.getColor(ML);e&&t.addRule(`${Kn.lA.symbolArray.cssSelector} { color: ${e}; }`);const n=a.getColor(NL);n&&t.addRule(`${Kn.lA.symbolBoolean.cssSelector} { color: ${n}; }`);const o=a.getColor(IL);o&&t.addRule(`${Kn.lA.symbolClass.cssSelector} { color: ${o}; }`);const s=a.getColor(jL);s&&t.addRule(`${Kn.lA.symbolMethod.cssSelector} { color: ${s}; }`);const d=a.getColor(kL);d&&t.addRule(`${Kn.lA.symbolColor.cssSelector} { color: ${d}; }`);const p=a.getColor(TL);p&&t.addRule(`${Kn.lA.symbolConstant.cssSelector} { color: ${p}; }`);const V=a.getColor(PL);V&&t.addRule(`${Kn.lA.symbolConstructor.cssSelector} { color: ${V}; }`);const H=a.getColor(OL);H&&t.addRule(`\n\t\t\t${Kn.lA.symbolValue.cssSelector},${Kn.lA.symbolEnum.cssSelector} { color: ${H}; }`);const U=a.getColor(AL);U&&t.addRule(`${Kn.lA.symbolEnumMember.cssSelector} { color: ${U}; }`);const ne=a.getColor(RL);ne&&t.addRule(`${Kn.lA.symbolEvent.cssSelector} { color: ${ne}; }`);const be=a.getColor(FL);be&&t.addRule(`${Kn.lA.symbolField.cssSelector} { color: ${be}; }`);const Ee=a.getColor(BL);Ee&&t.addRule(`${Kn.lA.symbolFile.cssSelector} { color: ${Ee}; }`);const Ke=a.getColor(WL);Ke&&t.addRule(`${Kn.lA.symbolFolder.cssSelector} { color: ${Ke}; }`);const ct=a.getColor(VL);ct&&t.addRule(`${Kn.lA.symbolFunction.cssSelector} { color: ${ct}; }`);const Pt=a.getColor(HL);Pt&&t.addRule(`${Kn.lA.symbolInterface.cssSelector} { color: ${Pt}; }`);const Ot=a.getColor(zL);Ot&&t.addRule(`${Kn.lA.symbolKey.cssSelector} { color: ${Ot}; }`);const Xt=a.getColor(UL);Xt&&t.addRule(`${Kn.lA.symbolKeyword.cssSelector} { color: ${Xt}; }`);const on=a.getColor(KL);on&&t.addRule(`${Kn.lA.symbolModule.cssSelector} { color: ${on}; }`);const Wn=a.getColor($L);Wn&&t.addRule(`${Kn.lA.symbolNamespace.cssSelector} { color: ${Wn}; }`);const Pn=a.getColor(ZL);Pn&&t.addRule(`${Kn.lA.symbolNull.cssSelector} { color: ${Pn}; }`);const Ai=a.getColor(GL);Ai&&t.addRule(`${Kn.lA.symbolNumber.cssSelector} { color: ${Ai}; }`);const Si=a.getColor(QL);Si&&t.addRule(`${Kn.lA.symbolObject.cssSelector} { color: ${Si}; }`);const as=a.getColor(YL);as&&t.addRule(`${Kn.lA.symbolOperator.cssSelector} { color: ${as}; }`);const Ws=a.getColor(JL);Ws&&t.addRule(`${Kn.lA.symbolPackage.cssSelector} { color: ${Ws}; }`);const Vs=a.getColor(XL);Vs&&t.addRule(`${Kn.lA.symbolProperty.cssSelector} { color: ${Vs}; }`);const wa=a.getColor(qL);wa&&t.addRule(`${Kn.lA.symbolReference.cssSelector} { color: ${wa}; }`);const Ha=a.getColor(e2);Ha&&t.addRule(`${Kn.lA.symbolSnippet.cssSelector} { color: ${Ha}; }`);const cr=a.getColor(t2);cr&&t.addRule(`${Kn.lA.symbolString.cssSelector} { color: ${cr}; }`);const wr=a.getColor(n2);wr&&t.addRule(`${Kn.lA.symbolStruct.cssSelector} { color: ${wr}; }`);const za=a.getColor(i2);za&&t.addRule(`${Kn.lA.symbolText.cssSelector} { color: ${za}; }`);const Xc=a.getColor(o2);Xc&&t.addRule(`${Kn.lA.symbolTypeParameter.cssSelector} { color: ${Xc}; }`);const cu=a.getColor(s2);cu&&t.addRule(`${Kn.lA.symbolUnit.cssSelector} { color: ${cu}; }`);const du=a.getColor(r2);du&&t.addRule(`${Kn.lA.symbolVariable.cssSelector} { color: ${du}; }`)});class xb{constructor(){this._onDidWillResize=new $n.Q5,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new $n.Q5,this.onDidResize=this._onDidResize.event,this._sashListener=new Tt.SL,this._size=new st.Ro(0,0),this._minSize=new st.Ro(0,0),this._maxSize=new st.Ro(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new ua.g(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new ua.g(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new ua.g(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:ua.l.North}),this._southSash=new ua.g(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:ua.l.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let t,e=0,n=0;this._sashListener.add($n.ju.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{void 0===t&&(this._onDidWillResize.fire(),t=this._size,e=0,n=0)})),this._sashListener.add($n.ju.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{void 0!==t&&(t=void 0,e=0,n=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(o=>{t&&(n=o.currentX-o.startX,this.layout(t.height+e,t.width+n),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(o=>{t&&(n=-(o.currentX-o.startX),this.layout(t.height+e,t.width+n),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(o=>{t&&(e=-(o.currentY-o.startY),this.layout(t.height+e,t.width+n),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(o=>{t&&(e=o.currentY-o.startY,this.layout(t.height+e,t.width+n),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add($n.ju.any(this._eastSash.onDidReset,this._westSash.onDidReset)(o=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add($n.ju.any(this._northSash.onDidReset,this._southSash.onDidReset)(o=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(t,e,n,o){this._northSash.state=t?3:0,this._eastSash.state=e?3:0,this._southSash.state=n?3:0,this._westSash.state=o?3:0}layout(t=this.size.height,e=this.size.width){const{height:n,width:o}=this._minSize,{height:s,width:d}=this._maxSize;t=Math.max(n,Math.min(s,t)),e=Math.max(o,Math.min(d,e));const p=new st.Ro(e,t);st.Ro.equals(p,this._size)||(this.domNode.style.height=t+"px",this.domNode.style.width=e+"px",this._size=p,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(t){this._maxSize=t}get maxSize(){return this._maxSize}set minSize(t){this._minSize=t}get minSize(){return this._minSize}set preferredSize(t){this._preferredSize=t}get preferredSize(){return this._preferredSize}}function b_(a){return!!a&&Boolean(a.completion.documentation||a.completion.detail&&a.completion.detail!==a.completion.label)}let v_=class{constructor(t,e){this._editor=t,this._onDidClose=new $n.Q5,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new $n.Q5,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new Tt.SL,this._renderDisposeable=new Tt.SL,this._borderWidth=1,this._size=new st.Ro(330,0),this.domNode=st.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=e.createInstance(Ql,{editor:t}),this._body=st.$(".body"),this._scrollbar=new sr.s$(this._body,{}),st.R3(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=st.R3(this._body,st.$(".header")),this._close=st.R3(this._header,st.$("span"+Kn.lA.close.cssSelector)),this._close.title=De.N("details.close","Close"),this._type=st.R3(this._header,st.$("p.type")),this._docs=st.R3(this._body,st.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(n=>{n.hasChanged(44)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const t=this._editor.getOptions(),e=t.get(44),n=e.getMassagedFontFamily(ln.isSafari?ns.hL.fontFamily:null),o=t.get(107)||e.fontSize,s=t.get(108)||e.lineHeight,d=e.fontWeight,V=`${s}px`;this.domNode.style.fontSize=`${o}px`,this.domNode.style.lineHeight=""+s/o,this.domNode.style.fontWeight=d,this.domNode.style.fontFeatureSettings=e.fontFeatureSettings,this._type.style.fontFamily=n,this._close.style.height=V,this._close.style.width=V}getLayoutInfo(){const t=this._editor.getOption(108)||this._editor.getOption(44).lineHeight,e=this._borderWidth;return{lineHeight:t,borderWidth:e,borderHeight:2*e,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=De.N("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,2*this.getLayoutInfo().lineHeight),this._onDidChangeContents.fire(this)}renderItem(t,e){var n,o;this._renderDisposeable.clear();let{detail:s,documentation:d}=t.completion;if(e){let p="";p+=`score: ${t.score[0]}\n`,p+=`prefix: ${null!==(n=t.word)&&void 0!==n?n:"(no prefix)"}\n`,p+=`word: ${t.completion.filterText?t.completion.filterText+" (filterText)":t.textLabel}\n`,p+=`distance: ${t.distance} (localityBonus-setting)\n`,p+=`index: ${t.idx}, based on ${t.completion.sortText&&`sortText: "${t.completion.sortText}"`||"label"}\n`,p+=`commit_chars: ${null===(o=t.completion.commitCharacters)||void 0===o?void 0:o.join("")}\n`,d=(new Zo.W5).appendCodeblock("empty",p),s=`Provider: ${t.provider._debugDisplayName}`}if(e||b_(t)){if(this.domNode.classList.remove("no-docs","no-type"),s){const p=s.length>1e5?`${s.substr(0,1e5)}\u2026`:s;this._type.textContent=p,this._type.title=p,st.$Z(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gim.test(p))}else st.PO(this._type),this._type.title="",st.Cp(this._type),this.domNode.classList.add("no-type");if(st.PO(this._docs),"string"==typeof d)this._docs.classList.remove("markdown-docs"),this._docs.textContent=d;else if(d){this._docs.classList.add("markdown-docs"),st.PO(this._docs);const p=this._markdownRenderer.render(d);this._docs.appendChild(p.element),this._renderDisposeable.add(p),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=p=>{p.preventDefault(),p.stopPropagation()},this._close.onclick=p=>{p.preventDefault(),p.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}else this.clearContents()}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(t,e){const n=new st.Ro(t,e);st.Ro.equals(n,this._size)||(this._size=n,st.dp(this.domNode,t,e)),this._scrollbar.scanDomNode()}scrollDown(t=8){this._body.scrollTop+=t}scrollUp(t=8){this._body.scrollTop-=t}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(t){this._borderWidth=t}get borderWidth(){return this._borderWidth}};v_=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([function(a,t){return function(e,n){t(e,n,1)}}(0,Qi.TG)],v_);class c2{constructor(t,e){this.widget=t,this._editor=e,this._disposables=new Tt.SL,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new xb,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(t.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let n,o,s=0,d=0;this._disposables.add(this._resizable.onDidWillResize(()=>{n=this._topLeft,o=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(p=>{if(n&&o){this.widget.layout(p.dimension.width,p.dimension.height);let V=!1;p.west&&(d=o.width-p.dimension.width,V=!0),p.north&&(s=o.height-p.dimension.height,V=!0),V&&this._applyTopLeft({top:n.top+s,left:n.left+d})}p.done&&(n=void 0,o=void 0,s=0,d=0,this._userSize=p.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var p;this._anchorBox&&this._placeAtAnchor(this._anchorBox,null!==(p=this._userSize)&&void 0!==p?p:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(t=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),t&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(t,e){var n;const o=t.getBoundingClientRect();this._anchorBox=o,this._preferAlignAtTop=e,this._placeAtAnchor(this._anchorBox,null!==(n=this._userSize)&&void 0!==n?n:this.widget.size,e)}_placeAtAnchor(t,e,n){var o;const s=st.D6(document.body),d=this.widget.getLayoutInfo(),p=new st.Ro(220,2*d.lineHeight),V=t.top,H=function(){const on=s.width-(t.left+t.width+d.borderWidth+d.horizontalPadding),Wn=-d.borderWidth+t.left+t.width,Pn=new st.Ro(on,s.height-t.top-d.borderHeight-d.verticalPadding),Ai=Pn.with(void 0,t.top+t.height-d.borderHeight-d.verticalPadding);return{top:V,left:Wn,fit:on-e.width,maxSizeTop:Pn,maxSizeBottom:Ai,minSize:p.with(Math.min(on,p.width))}}(),be=[H,function(){const on=t.left-d.borderWidth-d.horizontalPadding,Wn=Math.max(d.horizontalPadding,t.left-e.width-d.borderWidth),Pn=new st.Ro(on,s.height-t.top-d.borderHeight-d.verticalPadding),Ai=Pn.with(void 0,t.top+t.height-d.borderHeight-d.verticalPadding);return{top:V,left:Wn,fit:on-e.width,maxSizeTop:Pn,maxSizeBottom:Ai,minSize:p.with(Math.min(on,p.width))}}(),function(){const on=t.left,Wn=-d.borderWidth+t.top+t.height,Pn=new st.Ro(t.width-d.borderHeight,s.height-t.top-t.height-d.verticalPadding);return{top:Wn,left:on,fit:Pn.height-e.height,maxSizeBottom:Pn,maxSizeTop:Pn,minSize:p.with(Pn.width)}}()],Ee=null!==(o=be.find(on=>on.fit>=0))&&void 0!==o?o:be.sort((on,Wn)=>Wn.fit-on.fit)[0],Ke=t.top+t.height-d.borderHeight;let ct,Pt=e.height;const Ot=Math.max(Ee.maxSizeTop.height,Ee.maxSizeBottom.height);let Xt;Pt>Ot&&(Pt=Ot),n?Pt<=Ee.maxSizeTop.height?(ct=!0,Xt=Ee.maxSizeTop):(ct=!1,Xt=Ee.maxSizeBottom):Pt<=Ee.maxSizeBottom.height?(ct=!1,Xt=Ee.maxSizeBottom):(ct=!0,Xt=Ee.maxSizeTop),this._applyTopLeft({left:Ee.left,top:ct?Ee.top:Ke-Pt}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!ct,Ee===H,ct,Ee!==H),this._resizable.minSize=Ee.minSize,this._resizable.maxSize=Xt,this._resizable.layout(Pt,Math.min(Xt.width,e.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(t){this._topLeft=t,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}var _l=(()=>(function(a){a[a.FILE=0]="FILE",a[a.FOLDER=1]="FOLDER",a[a.ROOT_FOLDER=2]="ROOT_FOLDER"}(_l||(_l={})),_l))();const d2=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function Km(a,t,e,n){const o=n===_l.ROOT_FOLDER?["rootfolder-icon"]:n===_l.FOLDER?["folder-icon"]:["file-icon"];if(e){let s;if(e.scheme===hs.lg.data)s=Oo.Vb.parseMetaData(e).get(Oo.Vb.META_DATA_LABEL);else{const d=e.path.match(d2);d?(s=$m(d[2].toLowerCase()),d[1]&&o.push(`${$m(d[1].toLowerCase())}-name-dir-icon`)):s=$m(e.authority.toLowerCase())}if(n===_l.FOLDER)o.push(`${s}-name-folder-icon`);else{if(s){if(o.push(`${s}-name-file-icon`),o.push("name-file-icon"),s.length<=255){const p=s.split(".");for(let V=1;V<p.length;V++)o.push(`${p.slice(V).join(".")}-ext-file-icon`)}o.push("ext-file-icon")}const d=function(a,t,e){if(!e)return null;let n=null;if(e.scheme===hs.lg.data){const s=Oo.Vb.parseMetaData(e).get(Oo.Vb.META_DATA_MIME);s&&(n=t.getLanguageIdByMimeType(s))}else{const o=a.getModel(e);o&&(n=o.getLanguageId())}return n&&n!==bf.bd?n:t.guessLanguageIdByFilepathOrFirstLine(e)}(a,t,e);d&&o.push(`${$m(d)}-lang-file-icon`)}}return o}function $m(a){return a.replace(/[\11\12\14\15\40]/g,"/")}var Yf,w_=function(a,t){return function(e,n){t(e,n,a)}};function Lb(a){return`suggest-aria-id:${a}`}const f2=(0,rr.q5)("suggest-more-info",Kn.lA.chevronRight,De.N("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),g2=new(Yf=class xp{extract(t,e){if(t.textLabel.match(xp._regexStrict))return e[0]=t.textLabel,!0;if(t.completion.detail&&t.completion.detail.match(xp._regexStrict))return e[0]=t.completion.detail,!0;if("string"==typeof t.completion.documentation){const n=xp._regexRelaxed.exec(t.completion.documentation);if(n&&(0===n.index||n.index+n[0].length===t.completion.documentation.length))return e[0]=n[0],!0}return!1}},Yf._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,Yf._regexStrict=new RegExp(`^${Yf._regexRelaxed.source}$`,"i"),Yf);let y_=class{constructor(t,e,n,o){this._editor=t,this._modelService=e,this._languageService=n,this._themeService=o,this._onDidToggleDetails=new $n.Q5,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(t){const e=Object.create(null);e.disposables=new Tt.SL,e.root=t,e.root.classList.add("show-file-icons"),e.icon=(0,st.R3)(t,(0,st.$)(".icon")),e.colorspan=(0,st.R3)(e.icon,(0,st.$)("span.colorspan"));const n=(0,st.R3)(t,(0,st.$)(".contents")),o=(0,st.R3)(n,(0,st.$)(".main"));e.iconContainer=(0,st.R3)(o,(0,st.$)(".icon-label.codicon")),e.left=(0,st.R3)(o,(0,st.$)("span.left")),e.right=(0,st.R3)(o,(0,st.$)("span.right")),e.iconLabel=new om.g(e.left,{supportHighlights:!0,supportIcons:!0}),e.disposables.add(e.iconLabel),e.parametersLabel=(0,st.R3)(e.left,(0,st.$)("span.signature-label")),e.qualifierLabel=(0,st.R3)(e.left,(0,st.$)("span.qualifier-label")),e.detailsLabel=(0,st.R3)(e.right,(0,st.$)("span.details-label")),e.readMore=(0,st.R3)(e.right,(0,st.$)("span.readMore"+A.kS.asCSSSelector(f2))),e.readMore.title=De.N("readMore","Read More");const s=()=>{const d=this._editor.getOptions(),p=d.get(44),V=p.getMassagedFontFamily(ln.isSafari?ns.hL.fontFamily:null),H=p.fontFeatureSettings,U=d.get(107)||p.fontSize,ne=d.get(108)||p.lineHeight,be=p.fontWeight,Ke=`${ne}px`;e.root.style.fontSize=`${U}px`,e.root.style.fontWeight=be,o.style.fontFamily=V,o.style.fontFeatureSettings=H,o.style.lineHeight=Ke,e.icon.style.height=Ke,e.icon.style.width=Ke,e.readMore.style.height=Ke,e.readMore.style.width=Ke};return s(),e.disposables.add(this._editor.onDidChangeConfiguration(d=>{(d.hasChanged(44)||d.hasChanged(107)||d.hasChanged(108))&&s()})),e}renderElement(t,e,n){const{completion:o}=t;n.root.id=Lb(e),n.colorspan.style.backgroundColor="";const s={labelEscapeNewLines:!0,matches:(0,Ys.mB)(t.score)};let d=[];if(19===o.kind&&g2.extract(t,d))n.icon.className="icon customcolor",n.iconContainer.className="icon hide",n.colorspan.style.backgroundColor=d[0];else if(20===o.kind&&this._themeService.getFileIconTheme().hasFileIcons){n.icon.className="icon hide",n.iconContainer.className="icon hide";const p=Km(this._modelService,this._languageService,wo.o.from({scheme:"fake",path:t.textLabel}),_l.FILE),V=Km(this._modelService,this._languageService,wo.o.from({scheme:"fake",path:o.detail}),_l.FILE);s.extraClasses=p.length>V.length?p:V}else 23===o.kind&&this._themeService.getFileIconTheme().hasFolderIcons?(n.icon.className="icon hide",n.iconContainer.className="icon hide",s.extraClasses=(0,ro.xH)([Km(this._modelService,this._languageService,wo.o.from({scheme:"fake",path:t.textLabel}),_l.FOLDER),Km(this._modelService,this._languageService,wo.o.from({scheme:"fake",path:o.detail}),_l.FOLDER)])):(n.icon.className="icon hide",n.iconContainer.className="",n.iconContainer.classList.add("suggest-icon",...Kn.dT.asClassNameArray(Xi.gX.toIcon(o.kind))));o.tags&&o.tags.indexOf(1)>=0&&(s.extraClasses=(s.extraClasses||[]).concat(["deprecated"]),s.matches=[]),n.iconLabel.setLabel(t.textLabel,void 0,s),"string"==typeof o.label?(n.parametersLabel.textContent="",n.detailsLabel.textContent=S_(o.detail||""),n.root.classList.add("string-label")):(n.parametersLabel.textContent=S_(o.label.detail||""),n.detailsLabel.textContent=S_(o.label.description||""),n.root.classList.remove("string-label")),this._editor.getOption(106).showInlineDetails?(0,st.$Z)(n.detailsLabel):(0,st.Cp)(n.detailsLabel),b_(t)?(n.right.classList.add("can-expand-details"),(0,st.$Z)(n.readMore),n.readMore.onmousedown=p=>{p.stopPropagation(),p.preventDefault()},n.readMore.onclick=p=>{p.stopPropagation(),p.preventDefault(),this._onDidToggleDetails.fire()}):(n.right.classList.remove("can-expand-details"),(0,st.Cp)(n.readMore),n.readMore.onmousedown=null,n.readMore.onclick=null)}disposeTemplate(t){t.disposables.dispose()}};function S_(a){return a.replace(/\r\n|\r|\n/g,"")}y_=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([w_(1,qr.q),w_(2,or.O),w_(3,A.XE)],y_);var Zm=function(a,t){return function(e,n){t(e,n,a)}};(0,y.P6G)("editorSuggestWidget.background",{dark:y.D0T,light:y.D0T,hc:y.D0T},De.N("editorSuggestWidgetBackground","Background color of the suggest widget.")),(0,y.P6G)("editorSuggestWidget.border",{dark:y.D1_,light:y.D1_,hc:y.D1_},De.N("editorSuggestWidgetBorder","Border color of the suggest widget."));const x_=(0,y.P6G)("editorSuggestWidget.foreground",{dark:y.NOs,light:y.NOs,hc:y.NOs},De.N("editorSuggestWidgetForeground","Foreground color of the suggest widget.")),_2=((0,y.P6G)("editorSuggestWidget.selectedForeground",{dark:y.NPS,light:y.NPS,hc:y.NPS},De.N("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget.")),(0,y.P6G)("editorSuggestWidget.selectedIconForeground",{dark:y.cbQ,light:y.cbQ,hc:y.cbQ},De.N("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget.")),(0,y.P6G)("editorSuggestWidget.selectedBackground",{dark:y.Vqd,light:y.Vqd,hc:y.Vqd},De.N("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget.")));(0,y.P6G)("editorSuggestWidget.highlightForeground",{dark:y.Gwp,light:y.Gwp,hc:y.Gwp},De.N("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),(0,y.P6G)("editorSuggestWidget.focusHighlightForeground",{dark:y.PX0,light:y.PX0,hc:y.PX0},De.N("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused.")),(0,y.P6G)("editorSuggestWidgetStatus.foreground",{dark:(0,y.ZnX)(x_,.5),light:(0,y.ZnX)(x_,.5),hc:(0,y.ZnX)(x_,.5)},De.N("editorSuggestWidgetStatusForeground","Foreground color of the suggest widget status."));class C2{constructor(t,e){this._service=t,this._key=`suggestWidget.size/${e.getEditorType()}/${e instanceof jl}`}restore(){var t;const e=null!==(t=this._service.get(this._key,0))&&void 0!==t?t:"";try{const n=JSON.parse(e);if(st.Ro.is(n))return st.Ro.lift(n)}catch{}}store(t){this._service.store(this._key,JSON.stringify(t),0,1)}reset(){this._service.remove(this._key,0)}}let Jf=class D1{constructor(t,e,n,o,s){this.editor=t,this._storageService=e,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new Bn._F,this._disposables=new Tt.SL,this._onDidSelect=new $n.Q5,this._onDidFocus=new $n.Q5,this._onDidHide=new $n.Q5,this._onDidShow=new $n.Q5,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new $n.Q5,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new xb,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new b2(this,t),this._persistedSize=new C2(e,t);class d{constructor(Ee,Ke,ct=!1,Pt=!1){this.persistedSize=Ee,this.currentSize=Ke,this.persistHeight=ct,this.persistWidth=Pt}}let p;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),p=new d(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(be=>{var Ee,Ke,ct,Pt;if(this._resize(be.dimension.width,be.dimension.height),p&&(p.persistHeight=p.persistHeight||!!be.north||!!be.south,p.persistWidth=p.persistWidth||!!be.east||!!be.west),be.done){if(p){const{itemHeight:Ot,defaultSize:Xt}=this.getLayoutInfo(),on=Math.round(Ot/2);let{width:Wn,height:Pn}=this.element.size;(!p.persistHeight||Math.abs(p.currentSize.height-Pn)<=on)&&(Pn=null!==(Ke=null===(Ee=p.persistedSize)||void 0===Ee?void 0:Ee.height)&&void 0!==Ke?Ke:Xt.height),(!p.persistWidth||Math.abs(p.currentSize.width-Wn)<=on)&&(Wn=null!==(Pt=null===(ct=p.persistedSize)||void 0===ct?void 0:ct.width)&&void 0!==Pt?Pt:Xt.width),this._persistedSize.store(new st.Ro(Wn,Pn))}this._contentWidget.unlockPreference(),p=void 0}})),this._messageElement=st.R3(this.element.domNode,st.$(".message")),this._listElement=st.R3(this.element.domNode,st.$(".tree"));const V=s.createInstance(v_,this.editor);V.onDidClose(this.toggleDetails,this,this._disposables),this._details=new c2(V,this.editor);const H=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(106).showIcons);H();const U=s.createInstance(y_,this.editor);this._disposables.add(U),this._disposables.add(U.onDidToggleDetails(()=>this.toggleDetails())),this._list=new LL.aV("SuggestWidget",this._listElement,{getHeight:be=>this.getLayoutInfo().itemHeight,getTemplateId:be=>"suggestion"},[U],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>De.N("suggest","Suggest"),getWidgetRole:()=>"listbox",getAriaLabel:be=>{let Ee=be.textLabel;if("string"!=typeof be.completion.label){const{detail:Ot,description:Xt}=be.completion.label;Ot&&Xt?Ee=De.N("label.full","{0}{1}, {2}",Ee,Ot,Xt):Ot?Ee=De.N("label.detail","{0}{1}",Ee,Ot):Xt&&(Ee=De.N("label.desc","{0}, {1}",Ee,Xt))}if(!be.isResolved||!this._isDetailsVisible())return Ee;const{documentation:Ke,detail:ct}=be.completion,Pt=jn.WU("{0}{1}",ct||"",Ke?"string"==typeof Ke?Ke:Ke.value:"");return De.N("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",Ee,Pt)}}}),this._status=s.createInstance(C_,this.element.domNode);const ne=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(106).showStatusBar);ne(),this._disposables.add((0,am.Jl)(this._list,o,{listInactiveFocusBackground:_2,listInactiveFocusOutline:y.xL1})),this._disposables.add(o.onDidColorThemeChange(be=>this._onThemeChange(be))),this._onThemeChange(o.getColorTheme()),this._disposables.add(this._list.onMouseDown(be=>this._onListMouseDownOrTap(be))),this._disposables.add(this._list.onTap(be=>this._onListMouseDownOrTap(be))),this._disposables.add(this._list.onDidChangeSelection(be=>this._onListSelection(be))),this._disposables.add(this._list.onDidChangeFocus(be=>this._onListFocus(be))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(be=>{be.hasChanged(106)&&(ne(),H())})),this._ctxSuggestWidgetVisible=Gi.Visible.bindTo(n),this._ctxSuggestWidgetDetailsVisible=Gi.DetailsVisible.bindTo(n),this._ctxSuggestWidgetMultipleSuggestions=Gi.MultipleSuggestions.bindTo(n),this._disposables.add(st.mu(this._details.widget.domNode,"keydown",be=>{this._onDetailsKeydown.fire(be)})),this._disposables.add(this.editor.onMouseDown(be=>this._onEditorMouseDown(be)))}dispose(){var t;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),null===(t=this._loadingTimeout)||void 0===t||t.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(t){this._details.widget.domNode.contains(t.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(t.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){0!==this._state&&this._contentWidget.layout()}_onListMouseDownOrTap(t){void 0===t.element||void 0===t.index||(t.browserEvent.preventDefault(),t.browserEvent.stopPropagation(),this._select(t.element,t.index))}_onListSelection(t){t.elements.length&&this._select(t.elements[0],t.indexes[0])}_select(t,e){const n=this._completionModel;n&&(this._onDidSelect.fire({item:t,index:e,model:n}),this.editor.focus())}_onThemeChange(t){this._details.widget.borderWidth="hc"===t.type?2:1}_onListFocus(t){var e;if(this._ignoreFocusEvents)return;if(!t.elements.length)return this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),void this.editor.setAriaOptions({activeDescendant:void 0});if(!this._completionModel)return;const n=t.elements[0],o=t.indexes[0];n!==this._focusedItem&&(null===(e=this._currentSuggestionDetails)||void 0===e||e.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=n,this._list.reveal(o),this._currentSuggestionDetails=(0,Bn.PG)(s=>function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})}(this,void 0,void 0,function*(){const d=(0,Bn.Vg)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),p=s.onCancellationRequested(()=>d.dispose()),V=yield n.resolve(s);return d.dispose(),p.dispose(),V})),this._currentSuggestionDetails.then(()=>{o>=this._list.length||n!==this._list.element(o)||(this._ignoreFocusEvents=!0,this._list.splice(o,1,[n]),this._list.setFocus([o]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:Lb(o)}))}).catch(Qn.dL)),this._onDidFocus.fire({item:n,index:o,model:this._completionModel})}_setState(t){if(this._state!==t)switch(this._state=t,this.element.domNode.classList.toggle("frozen",4===t),this.element.domNode.classList.remove("message"),t){case 0:st.Cp(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=D1.LOADING_MESSAGE,st.Cp(this._listElement,this._status.element),st.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=D1.NO_SUGGESTIONS_MESSAGE,st.Cp(this._listElement,this._status.element),st.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:case 4:st.Cp(this._messageElement),st.$Z(this._listElement,this._status.element),this._show();break;case 5:st.Cp(this._messageElement),st.$Z(this._listElement,this._status.element),this._details.show(),this._show()}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(t,e){0===this._state&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!t,this._isAuto||(this._loadingTimeout=(0,Bn.Vg)(()=>this._setState(1),e)))}showSuggestions(t,e,n,o){var s,d;if(this._contentWidget.setPosition(this.editor.getPosition()),null===(s=this._loadingTimeout)||void 0===s||s.dispose(),null===(d=this._currentSuggestionDetails)||void 0===d||d.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==t&&(this._completionModel=t),n&&2!==this._state&&0!==this._state)return void this._setState(4);const p=this._completionModel.items.length,V=0===p;if(this._ctxSuggestWidgetMultipleSuggestions.set(p>1),V)return this._setState(o?0:2),void(this._completionModel=void 0);this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(n?4:3),this._list.reveal(e,0),this._list.setFocus([e]),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(0!==this._state&&2!==this._state&&1!==this._state&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){5===this._state?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):3===this._state&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):(b_(this._list.getFocusedElements()[0])||this._explainMode)&&(3===this._state||5===this._state||4===this._state)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(t){this._details.show(),t?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var t;null===(t=this._loadingTimeout)||void 0===t||t.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const e=this._persistedSize.restore(),n=Math.ceil(4.3*this.getLayoutInfo().itemHeight);e&&e.height<n&&this._persistedSize.store(e.with(void 0,n))}isFrozen(){return 4===this._state}_afterRender(t){null!==t?2===this._state||1===this._state||(this._isDetailsVisible()&&this._details.show(),this._positionDetails()):this._isDetailsVisible()&&this._details.hide()}_layout(t){var e,n,o;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const s=st.D6(document.body),d=this.getLayoutInfo();t||(t=d.defaultSize);let p=t.height,V=t.width;if(this._status.element.style.lineHeight=`${d.itemHeight}px`,2===this._state||1===this._state)p=d.itemHeight+d.borderHeight,V=d.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new st.Ro(V,p),this._contentWidget.setPreference(2);else{const H=s.width-d.borderHeight-2*d.horizontalPadding;V>H&&(V=H);const U=this._completionModel?this._completionModel.stats.pLabelLen*d.typicalHalfwidthCharacterWidth:V,ne=d.statusBarHeight+this._list.contentHeight+d.borderHeight,be=d.itemHeight+d.statusBarHeight,Ee=st.i(this.editor.getDomNode()),Ke=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),Pt=Math.min(s.height-(Ee.top+Ke.top+Ke.height)-d.verticalPadding,ne),Ot=Ee.top+Ke.top-d.verticalPadding,Xt=Math.min(Ot,ne);let on=Math.min(Math.max(Xt,Pt)+d.borderHeight,ne);p===(null===(e=this._cappedHeight)||void 0===e?void 0:e.capped)&&(p=this._cappedHeight.wanted),p<be&&(p=be),p>on&&(p=on);const Wn=150;p>Pt||this._forceRenderingAbove&&Ot>Wn?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),on=Xt):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),on=Pt),this.element.preferredSize=new st.Ro(U,d.defaultSize.height),this.element.maxSize=new st.Ro(H,on),this.element.minSize=new st.Ro(220,be),this._cappedHeight=p===ne?{wanted:null!==(o=null===(n=this._cappedHeight)||void 0===n?void 0:n.wanted)&&void 0!==o?o:t.height,capped:p}:void 0}this._resize(V,p)}_resize(t,e){const{width:n,height:o}=this.element.maxSize;t=Math.min(n,t),e=Math.min(o,e);const{statusBarHeight:s}=this.getLayoutInfo();this._list.layout(e-s,t),this._listElement.style.height=e-s+"px",this.element.layout(e,t),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var t;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,2===(null===(t=this._contentWidget.getPosition())||void 0===t?void 0:t.preference[0]))}getLayoutInfo(){const t=this.editor.getOption(44),e=(0,DL.uZ)(this.editor.getOption(108)||t.lineHeight,8,1e3),n=this.editor.getOption(106).showStatusBar&&2!==this._state&&1!==this._state?e:0,o=this._details.widget.borderWidth,s=2*o;return{itemHeight:e,statusBarHeight:n,borderWidth:o,borderHeight:s,typicalHalfwidthCharacterWidth:t.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new st.Ro(430,n+12*e+s)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(t){this._storageService.store("expandSuggestionDocs",t,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};Jf.LOADING_MESSAGE=De.N("suggestWidget.loading","Loading..."),Jf.NO_SUGGESTIONS_MESSAGE=De.N("suggestWidget.noSuggestions","No suggestions."),Jf=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([Zm(1,mr.Uy),Zm(2,Qt.i6),Zm(3,A.XE),Zm(4,Qi.TG)],Jf);class b2{constructor(t,e){this._widget=t,this._editor=e,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return!this._hidden&&this._position&&this._preference?{position:this._position,preference:[this._preference]}:null}beforeRender(){const{height:t,width:e}=this._widget.element.size,{borderWidth:n,horizontalPadding:o}=this._widget.getLayoutInfo();return new st.Ro(e+2*n+o,t+2*n)}afterRender(t){this._widget._afterRender(t)}setPreference(t){this._preferenceLocked||(this._preference=t)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(t){this._position=t}}var dh=function(a,t){return function(e,n){t(e,n,a)}};class y2{constructor(t,e){if(this._model=t,this._position=e,t.getLineMaxColumn(e.lineNumber)!==e.column){const o=t.getOffsetAt(e),s=t.getPositionAt(o+1);this._marker=t.deltaDecorations([],[{range:kt.e.fromPositions(e,s),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(t){if(this._model.isDisposed()||this._position.lineNumber!==t.lineNumber)return 0;if(this._marker){const e=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(e.getStartPosition())-this._model.getOffsetAt(t)}return this._model.getLineMaxColumn(t.lineNumber)-t.column}}let ba=class mw{constructor(t,e,n,o,s,d,p){this._memoryService=e,this._commandService=n,this._contextKeyService=o,this._instantiationService=s,this._logService=d,this._telemetryService=p,this._lineSuffix=new Tt.XK,this._toDispose=new Tt.SL,this._selectors=new S2(ne=>ne.priority),this._telemetryGate=0,this.editor=t,this.model=s.createInstance(m_,this.editor);const V=Gi.InsertMode.bindTo(o);V.set(t.getOption(106).insertMode),this.model.onDidTrigger(()=>V.set(t.getOption(106).insertMode)),this.widget=this._toDispose.add(new Bn.Ue(()=>{const ne=this._instantiationService.createInstance(Jf,this.editor);this._toDispose.add(ne),this._toDispose.add(ne.onDidSelect(Pt=>this._insertSuggestion(Pt,0),this));const be=new _L(this.editor,ne,Pt=>this._insertSuggestion(Pt,2));this._toDispose.add(be),this._toDispose.add(this.model.onDidSuggest(Pt=>{0===Pt.completionModel.items.length&&be.reset()}));const Ee=Gi.MakesTextEdit.bindTo(this._contextKeyService),Ke=Gi.HasInsertAndReplaceRange.bindTo(this._contextKeyService),ct=Gi.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,Tt.OF)(()=>{Ee.reset(),Ke.reset(),ct.reset()})),this._toDispose.add(ne.onDidFocus(({item:Pt})=>{const Ot=this.editor.getPosition(),Xt=Pt.editStart.column,on=Ot.column;let Wn=!0;"smart"===this.editor.getOption(1)&&2===this.model.state&&!Pt.completion.additionalTextEdits&&!(4&Pt.completion.insertTextRules)&&on-Xt===Pt.completion.insertText.length&&(Wn=this.editor.getModel().getValueInRange({startLineNumber:Ot.lineNumber,startColumn:Xt,endLineNumber:Ot.lineNumber,endColumn:on})!==Pt.completion.insertText),Ee.set(Wn),Ke.set(!di.L.equals(Pt.editInsertEnd,Pt.editReplaceEnd)),ct.set(Boolean(Pt.provider.resolveCompletionItem)||Boolean(Pt.completion.documentation)||Pt.completion.detail!==Pt.completion.label)})),this._toDispose.add(ne.onDetailsKeyDown(Pt=>{Pt.toKeybinding().equals(new Cb.QC(!0,!1,!1,!1,33))||$t.dz&&Pt.toKeybinding().equals(new Cb.QC(!1,!1,!1,!0,33))?Pt.stopPropagation():Pt.toKeybinding().isModifierKey()||this.editor.focus()})),ne})),this._overtypingCapturer=this._toDispose.add(new Bn.Ue(()=>this._toDispose.add(new xL(this.editor,this.model)))),this._alternatives=this._toDispose.add(new Bn.Ue(()=>this._toDispose.add(new Zd(this.editor,this._contextKeyService)))),this._toDispose.add(s.createInstance(Qf,t)),this._toDispose.add(this.model.onDidTrigger(ne=>{this.widget.value.showTriggered(ne.auto,ne.shy?250:50),this._lineSuffix.value=new y2(this.editor.getModel(),ne.position)})),this._toDispose.add(this.model.onDidSuggest(ne=>{if(!ne.shy){let be=-1;for(const Ee of this._selectors.itemsOrderedByPriorityDesc)if(be=Ee.select(this.editor.getModel(),this.editor.getPosition(),ne.completionModel.items),-1!==be)break;-1===be&&(be=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),ne.completionModel.items)),this.widget.value.showSuggestions(ne.completionModel,be,ne.isFrozen,ne.auto)}})),this._toDispose.add(this.model.onDidCancel(ne=>{ne.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{this.model.cancel(),this.model.clear()}));let H=Gi.AcceptSuggestionsOnEnter.bindTo(o),U=()=>{const ne=this.editor.getOption(1);H.set("on"===ne||"smart"===ne)};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>U())),U()}static get(t){return t.getContribution(mw.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(t,e){if(!t||!t.item)return this._alternatives.value.reset(),this.model.cancel(),void this.model.clear();if(!this.editor.hasModel())return;const n=Is.get(this.editor);if(!n)return;const o=this.editor.getModel(),s=o.getAlternativeVersionId(),{item:d}=t,p=[],V=new Zn.A;1&e||this.editor.pushUndoStop();const H=this.getOverwriteInfo(d,Boolean(8&e));if(this._memoryService.memorize(o,this.editor.getPosition(),d),Array.isArray(d.completion.additionalTextEdits)){const ne=Hl.Z.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",d.completion.additionalTextEdits.map(be=>is.h.replace(kt.e.lift(be.range),be.text))),ne.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!d.isResolved){const ne=new ea.G(!0);let be;const Ee=o.onDidChangeContent(Ot=>{if(Ot.isFlush)return V.cancel(),void Ee.dispose();for(let Xt of Ot.changes){const on=kt.e.getEndPosition(Xt.range);(!be||di.L.isBefore(on,be))&&(be=on)}});let Ke=e;e|=2;let ct=!1,Pt=this.editor.onWillType(()=>{Pt.dispose(),ct=!0,2&Ke||this.editor.pushUndoStop()});p.push(d.resolve(V.token).then(()=>{if(!d.completion.additionalTextEdits||V.token.isCancellationRequested||be&&d.completion.additionalTextEdits.some(Xt=>di.L.isBefore(be,kt.e.getStartPosition(Xt.range))))return!1;ct&&this.editor.pushUndoStop();const Ot=Hl.Z.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",d.completion.additionalTextEdits.map(Xt=>is.h.replace(kt.e.lift(Xt.range),Xt.text))),Ot.restoreRelativeVerticalPositionOfCursor(this.editor),(ct||!(2&Ke))&&this.editor.pushUndoStop(),!0}).then(Ot=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",ne.elapsed(),Ot),Ee.dispose(),Pt.dispose()}))}let{insertText:U}=d.completion;4&d.completion.insertTextRules||(U=mm.escape(U)),n.insert(U,{overwriteBefore:H.overwriteBefore,overwriteAfter:H.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(1&d.completion.insertTextRules),clipboardText:t.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),2&e||this.editor.pushUndoStop(),d.completion.command?d.completion.command.id===Db.id?this.model.trigger({auto:!0,shy:!1},!0):(p.push(this._commandService.executeCommand(d.completion.command.id,...d.completion.command.arguments?[...d.completion.command.arguments]:[]).catch(Qn.dL)),this.model.cancel()):this.model.cancel(),4&e&&this._alternatives.value.set(t,ne=>{for(V.cancel();o.canUndo();){s!==o.getAlternativeVersionId()&&o.undo(),this._insertSuggestion(ne,3|(8&e?8:0));break}}),this._alertCompletionItem(d),Promise.all(p).finally(()=>{this._reportSuggestionAcceptedTelemetry(o,t),this.model.clear(),V.dispose()})}_reportSuggestionAcceptedTelemetry(t,e){var n;if(this._telemetryGate++%100!=0)return;const o=(null!==(n=e.item.provider._debugDisplayName)&&void 0!==n?n:"unknown").split("(",1)[0].toLowerCase();this._telemetryService.publicLog2("suggest.acceptedSuggestion",{providerId:o,basenameHash:(0,Md.vp)((0,Oo.EZ)(t.uri)).toString(16),languageId:t.getLanguageId(),fileExtension:(0,Oo.DZ)(t.uri)})}getOverwriteInfo(t,e){(0,$i.p_)(this.editor.hasModel());let n="replace"===this.editor.getOption(106).insertMode;e&&(n=!n);const s=(n?t.editReplaceEnd.column:t.editInsertEnd.column)-t.position.column;return{overwriteBefore:t.position.column-t.editStart.column+(this.editor.getPosition().column-t.position.column),overwriteAfter:s+(this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0)}}_alertCompletionItem(t){if((0,ro.Of)(t.completion.additionalTextEdits)){let e=De.N("aria.alert.snippet","Accepting '{0}' made {1} additional edits",t.textLabel,t.completion.additionalTextEdits.length);(0,$s.Z9)(e)}}triggerSuggest(t,e){this.editor.hasModel()&&(this.model.trigger({auto:e??!1,shy:!1},!1,t),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(t){if(!this.editor.hasModel())return;const e=this.editor.getPosition(),n=()=>{e.equals(this.editor.getPosition())&&this._commandService.executeCommand(t.fallback)},o=s=>{if(4&s.completion.insertTextRules||s.completion.additionalTextEdits)return!0;const d=this.editor.getPosition(),p=s.editStart.column,V=d.column;return V-p!==s.completion.insertText.length||this.editor.getModel().getValueInRange({startLineNumber:d.lineNumber,startColumn:p,endLineNumber:d.lineNumber,endColumn:V})!==s.completion.insertText};$n.ju.once(this.model.onDidTrigger)(s=>{let d=[];$n.ju.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,Tt.B9)(d),n()},void 0,d),this.model.onDidSuggest(({completionModel:p})=>{if((0,Tt.B9)(d),0===p.items.length)return void n();const V=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),p.items),H=p.items[V];o(H)?(this.editor.pushUndoStop(),this._insertSuggestion({index:V,item:H,model:p},7)):n()},void 0,d)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(e,0),this.editor.focus()}acceptSelectedSuggestion(t,e){const n=this.widget.value.getFocusedItem();let o=0;t&&(o|=4),e&&(o|=8),this._insertSuggestion(n,o)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){!this.widget.isInitialized||this.widget.value.stopForceRenderingAbove()}registerSelector(t){return this._selectors.register(t)}};ba.ID="editor.contrib.suggestController",ba=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([dh(1,yb),dh(2,eo.Hy),dh(3,Qt.i6),dh(4,Qi.TG),dh(5,Um.VZ),dh(6,Dd.b)],ba);class S2{constructor(t){this.prioritySelector=t,this._items=new Array}register(t){if(-1!==this._items.indexOf(t))throw new Error("Value is already registered");return this._items.push(t),this._items.sort((e,n)=>this.prioritySelector(n)-this.prioritySelector(e)),{dispose:()=>{const e=this._items.indexOf(t);e>=0&&this._items.splice(e,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}let Db=(()=>{class a extends Qe.R6{constructor(){super({id:a.id,label:De.N("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:Qt.Ao.and(Ct.u.writable,Ct.u.hasCompletionItemProvider),kbOpts:{kbExpr:Ct.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(e,n,o){const s=ba.get(n);if(!s)return;let d;o&&"object"==typeof o&&!0===o.auto&&(d=!0),s.triggerSuggest(void 0,d)}}return a.id="editor.action.triggerSuggest",a})();(0,Qe._K)(ba.ID,ba),(0,Qe.Qr)(Db);const ia=190,Fr=Qe._l.bindToContribution(ba.get);(0,Qe.fK)(new Fr({id:"acceptSelectedSuggestion",precondition:Gi.Visible,handler(a){a.acceptSelectedSuggestion(!0,!1)}})),Pr.W.registerKeybindingRule({id:"acceptSelectedSuggestion",when:Qt.Ao.and(Gi.Visible,Ct.u.textInputFocus),primary:2,weight:ia}),Pr.W.registerKeybindingRule({id:"acceptSelectedSuggestion",when:Qt.Ao.and(Gi.Visible,Ct.u.textInputFocus,Gi.AcceptSuggestionsOnEnter,Gi.MakesTextEdit),primary:3,weight:ia}),_.BH.appendMenuItem(Rc,{command:{id:"acceptSelectedSuggestion",title:De.N("accept.insert","Insert")},group:"left",order:1,when:Gi.HasInsertAndReplaceRange.toNegated()}),_.BH.appendMenuItem(Rc,{command:{id:"acceptSelectedSuggestion",title:De.N("accept.insert","Insert")},group:"left",order:1,when:Qt.Ao.and(Gi.HasInsertAndReplaceRange,Gi.InsertMode.isEqualTo("insert"))}),_.BH.appendMenuItem(Rc,{command:{id:"acceptSelectedSuggestion",title:De.N("accept.replace","Replace")},group:"left",order:1,when:Qt.Ao.and(Gi.HasInsertAndReplaceRange,Gi.InsertMode.isEqualTo("replace"))}),(0,Qe.fK)(new Fr({id:"acceptAlternativeSelectedSuggestion",precondition:Qt.Ao.and(Gi.Visible,Ct.u.textInputFocus),kbOpts:{weight:ia,kbExpr:Ct.u.textInputFocus,primary:1027,secondary:[1026]},handler(a){a.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:Rc,group:"left",order:2,when:Qt.Ao.and(Gi.HasInsertAndReplaceRange,Gi.InsertMode.isEqualTo("insert")),title:De.N("accept.replace","Replace")},{menuId:Rc,group:"left",order:2,when:Qt.Ao.and(Gi.HasInsertAndReplaceRange,Gi.InsertMode.isEqualTo("replace")),title:De.N("accept.insert","Insert")}]})),eo.P0.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,Qe.fK)(new Fr({id:"hideSuggestWidget",precondition:Gi.Visible,handler:a=>a.cancelSuggestWidget(),kbOpts:{weight:ia,kbExpr:Ct.u.textInputFocus,primary:9,secondary:[1033]}})),(0,Qe.fK)(new Fr({id:"selectNextSuggestion",precondition:Qt.Ao.and(Gi.Visible,Gi.MultipleSuggestions),handler:a=>a.selectNextSuggestion(),kbOpts:{weight:ia,kbExpr:Ct.u.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,Qe.fK)(new Fr({id:"selectNextPageSuggestion",precondition:Qt.Ao.and(Gi.Visible,Gi.MultipleSuggestions),handler:a=>a.selectNextPageSuggestion(),kbOpts:{weight:ia,kbExpr:Ct.u.textInputFocus,primary:12,secondary:[2060]}})),(0,Qe.fK)(new Fr({id:"selectLastSuggestion",precondition:Qt.Ao.and(Gi.Visible,Gi.MultipleSuggestions),handler:a=>a.selectLastSuggestion()})),(0,Qe.fK)(new Fr({id:"selectPrevSuggestion",precondition:Qt.Ao.and(Gi.Visible,Gi.MultipleSuggestions),handler:a=>a.selectPrevSuggestion(),kbOpts:{weight:ia,kbExpr:Ct.u.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,Qe.fK)(new Fr({id:"selectPrevPageSuggestion",precondition:Qt.Ao.and(Gi.Visible,Gi.MultipleSuggestions),handler:a=>a.selectPrevPageSuggestion(),kbOpts:{weight:ia,kbExpr:Ct.u.textInputFocus,primary:11,secondary:[2059]}})),(0,Qe.fK)(new Fr({id:"selectFirstSuggestion",precondition:Qt.Ao.and(Gi.Visible,Gi.MultipleSuggestions),handler:a=>a.selectFirstSuggestion()})),(0,Qe.fK)(new Fr({id:"toggleSuggestionDetails",precondition:Gi.Visible,handler:a=>a.toggleSuggestionDetails(),kbOpts:{weight:ia,kbExpr:Ct.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:Rc,group:"right",order:1,when:Qt.Ao.and(Gi.DetailsVisible,Gi.CanResolve),title:De.N("detail.more","show less")},{menuId:Rc,group:"right",order:1,when:Qt.Ao.and(Gi.DetailsVisible.toNegated(),Gi.CanResolve),title:De.N("detail.less","show more")}]})),(0,Qe.fK)(new Fr({id:"toggleExplainMode",precondition:Gi.Visible,handler:a=>a.toggleExplainMode(),kbOpts:{weight:100,primary:2133}})),(0,Qe.fK)(new Fr({id:"toggleSuggestionFocus",precondition:Gi.Visible,handler:a=>a.toggleSuggestionFocus(),kbOpts:{weight:ia,kbExpr:Ct.u.textInputFocus,primary:2570,mac:{primary:778}}})),(0,Qe.fK)(new Fr({id:"insertBestCompletion",precondition:Qt.Ao.and(Ct.u.textInputFocus,Qt.Ao.equals("config.editor.tabCompletion","on"),Qf.AtEnd,Gi.Visible.toNegated(),Zd.OtherSuggestions.toNegated(),Is.InSnippetMode.toNegated()),handler:(a,t)=>{a.triggerSuggestAndAcceptBest((0,$i.Kn)(t)?Object.assign({fallback:"tab"},t):{fallback:"tab"})},kbOpts:{weight:ia,primary:2}})),(0,Qe.fK)(new Fr({id:"insertNextSuggestion",precondition:Qt.Ao.and(Ct.u.textInputFocus,Qt.Ao.equals("config.editor.tabCompletion","on"),Zd.OtherSuggestions,Gi.Visible.toNegated(),Is.InSnippetMode.toNegated()),handler:a=>a.acceptNextSuggestion(),kbOpts:{weight:ia,kbExpr:Ct.u.textInputFocus,primary:2}})),(0,Qe.fK)(new Fr({id:"insertPrevSuggestion",precondition:Qt.Ao.and(Ct.u.textInputFocus,Qt.Ao.equals("config.editor.tabCompletion","on"),Zd.OtherSuggestions,Gi.Visible.toNegated(),Is.InSnippetMode.toNegated()),handler:a=>a.acceptPrevSuggestion(),kbOpts:{weight:ia,kbExpr:Ct.u.textInputFocus,primary:1026}})),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.resetSuggestSize",label:De.N("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(a,t){var e;null===(e=ba.get(t))||void 0===e||e.resetWidgetSize()}});class x2 extends Tt.JT{constructor(t,e){super(),this.editor=t,this.suggestControllerPreselector=e,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this.onDidChangeEmitter=new $n.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.setInactiveDelayed=this._register(new Bn.pY(()=>{this.isSuggestWidgetVisible||this._isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100)),this._register(t.onKeyDown(o=>{o.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(t.onKeyUp(o=>{o.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const n=ba.get(this.editor);if(n){this._register(n.registerSelector({priority:100,select:(d,p,V)=>{const H=this.editor.getModel(),U=zm(H,this.suggestControllerPreselector());if(!U)return-1;const ne=di.L.lift(p),be=V.map((Ke,ct)=>{const Pt=Eb(n,ne,Ke,this.isShiftKeyPressed),Ot=zm(H,null==Pt?void 0:Pt.normalizedInlineCompletion);if(!Ot)return;const Xt=function(a,t){return t.startLineNumber===a.startLineNumber&&t.startColumn===a.startColumn&&(t.endLineNumber<a.endLineNumber||t.endLineNumber===a.endLineNumber&&t.endColumn<=a.endColumn)}(U.range,Ot.range)&&U.text.startsWith(Ot.text);return{index:ct,valid:Xt,prefixLength:Ot.text.length,suggestItem:Ke}}).filter(Ke=>Ke&&Ke.valid),Ee=(0,ro.Dc)(be,(0,ro.tT)(Ke=>Ke.prefixLength,ro.fv));return Ee?Ee.index:-1}}));let o=!1;const s=()=>{o||(o=!0,this._register(n.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(n.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.update(this._isActive)})),this._register(n.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register($n.ju.once(n.model.onDidTrigger)(d=>{s()}))}this.update(this._isActive)}get state(){if(this._isActive)return{selectedItem:this._currentSuggestItemInfo}}update(t){const e=this.getSuggestItemInfo();let n=!1;(function(a,t){return a===t||!(!a||!t)&&a.completionItemKind===t.completionItemKind&&a.isSnippetText===t.isSnippetText&&function(a,t){return a===t||!(!a||!t)&&a.range.equalsRange(t.range)&&a.text===t.text&&a.command===t.command}(a.normalizedInlineCompletion,t.normalizedInlineCompletion)})(this._currentSuggestItemInfo,e)||(this._currentSuggestItemInfo=e,n=!0),this._isActive!==t&&(this._isActive=t,n=!0),n&&this.onDidChangeEmitter.fire()}getSuggestItemInfo(){const t=ba.get(this.editor);if(!t||!this.isSuggestWidgetVisible)return;const e=t.widget.value.getFocusedItem();return e?Eb(t,this.editor.getPosition(),e.item,this.isShiftKeyPressed):void 0}stopForceRenderingAbove(){const t=ba.get(this.editor);t&&t.stopForceRenderingAbove()}forceRenderingAbove(){const t=ba.get(this.editor);t&&t.forceRenderingAbove()}}function Eb(a,t,e,n){if(Array.isArray(e.completion.additionalTextEdits)&&e.completion.additionalTextEdits.length>0)return{completionItemKind:e.completion.kind,isSnippetText:!1,normalizedInlineCompletion:{range:kt.e.fromPositions(t,t),text:""}};let{insertText:o}=e.completion,s=!1;if(4&e.completion.insertTextRules){const p=(new mm).parse(o),V=a.editor.getModel();if(p.children.length>100)return;ml.adjustWhitespace(V,t,p,!0,!0),o=p.toString(),s=!0}const d=a.getOverwriteInfo(e,n);return{isSnippetText:s,completionItemKind:e.completion.kind,normalizedInlineCompletion:{text:o,range:kt.e.fromPositions(t.delta(0,-d.overwriteBefore),t.delta(0,Math.max(d.overwriteAfter,0)))}}}var Mb=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})};let L_=class extends fb{constructor(t,e,n){super(t),this.cache=e,this.languageFeaturesService=n,this.suggestionInlineCompletionSource=this._register(new x2(this.editor,()=>{var o,s;return null===(s=null===(o=this.cache.value)||void 0===o?void 0:o.completions[0])||void 0===s?void 0:s.toLiveInlineCompletion()})),this.updateOperation=this._register(new Tt.XK),this.updateCacheSoon=this._register(new Bn.pY(()=>this.updateCache(),50)),this.minReservedLineCount=0,this._register(this.suggestionInlineCompletionSource.onDidChange(()=>{this.updateCacheSoon.schedule(),this.suggestionInlineCompletionSource.state||(this.minReservedLineCount=0);const s=this.ghostText;s&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,function(a){return a.reduce((t,e)=>t+e,0)}(s.parts.map(d=>d.lines.length-1)))),this.minReservedLineCount>=1?this.suggestionInlineCompletionSource.forceRenderingAbove():this.suggestionInlineCompletionSource.stopForceRenderingAbove(),this.onDidChangeEmitter.fire()})),this._register(this.cache.onDidChange(()=>{this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeCursorPosition(o=>{this.minReservedLineCount=0,this.updateCacheSoon.schedule(),this.onDidChangeEmitter.fire()})),this._register((0,Tt.OF)(()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove()))}get isActive(){return void 0!==this.suggestionInlineCompletionSource.state}isSuggestionPreviewEnabled(){return this.editor.getOption(106).preview}updateCache(){return Mb(this,void 0,void 0,function*(){const t=this.suggestionInlineCompletionSource.state;if(!t||!t.selectedItem)return;const e={text:t.selectedItem.normalizedInlineCompletion.text,range:t.selectedItem.normalizedInlineCompletion.range,isSnippetText:t.selectedItem.isSnippetText,completionKind:t.selectedItem.completionItemKind},n=this.editor.getPosition(),o=(0,Bn.PG)(d=>Mb(this,void 0,void 0,function*(){let p;try{p=yield pb(this.languageFeaturesService.inlineCompletionsProvider,n,this.editor.getModel(),{triggerKind:Xi.bw.Automatic,selectedSuggestionInfo:e},d)}catch(V){return void(0,Qn.dL)(V)}d.isCancellationRequested||(this.cache.setValue(this.editor,p,Xi.bw.Automatic),this.onDidChangeEmitter.fire())})),s=new mb(o,Xi.bw.Automatic);this.updateOperation.value=s,yield o,this.updateOperation.value===s&&this.updateOperation.clear()})}get ghostText(){var t,e,n;const o=this.isSuggestionPreviewEnabled(),s=zm(this.editor.getModel(),null===(e=null===(t=this.cache.value)||void 0===t?void 0:t.completions[0])||void 0===e?void 0:e.toLiveInlineCompletion()),d=this.suggestionInlineCompletionSource.state,p=zm(this.editor.getModel(),null===(n=null==d?void 0:d.selectedItem)||void 0===n?void 0:n.normalizedInlineCompletion),V=s&&p&&s.text.startsWith(p.text)&&s.range.equalsRange(p.range);if(!o&&!V)return;const H=V?s:p||s;return this.toGhostText(H,V?H.text.length-p.text.length:0)}toGhostText(t,e){const n=this.editor.getOptions().get(106).previewMode;return t?gb(t,this.editor.getModel(),n,this.editor.getPosition(),e)||new ub(t.range.endLineNumber,[],this.minReservedLineCount):void 0}};L_=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([function(a,t){return function(e,n){t(e,n,2)}}(0,Ui.p)],L_);class O2 extends Tt.JT{constructor(){super(...arguments),this.onDidChangeEmitter=new $n.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new Tt.XK)}get targetModel(){var t;return null===(t=this.currentModelRef.value)||void 0===t?void 0:t.object}setTargetModel(t){var e;(null===(e=this.currentModelRef.value)||void 0===e?void 0:e.object)!==t&&(this.currentModelRef.clear(),this.currentModelRef.value=t?function(a,t){return{object:a,dispose:()=>null==t?void 0:t.dispose()}}(t,t.onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var t,e;return this.hasCachedGhostText||(this.cachedGhostText=null===(e=null===(t=this.currentModelRef.value)||void 0===t?void 0:t.object)||void 0===e?void 0:e.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(t){var e;null===(e=this.targetModel)||void 0===e||e.setExpanded(t)}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}let D_=class extends O2{constructor(t,e){super(),this.editor=t,this.instantiationService=e,this.sharedCache=this._register(new A2),this.suggestWidgetAdapterModel=this._register(this.instantiationService.createInstance(L_,this.editor,this.sharedCache)),this.inlineCompletionsModel=this._register(this.instantiationService.createInstance(u_,this.editor,this.sharedCache)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(t){var e;const n=null===(e=this.activeInlineCompletionsModel)||void 0===e?void 0:e.ghostText;return!!n&&n.parts.some(o=>t.containsPosition(new di.L(n.lineNumber,o.column)))}triggerInlineCompletion(){var t;null===(t=this.activeInlineCompletionsModel)||void 0===t||t.trigger(Xi.bw.Explicit)}commitInlineCompletion(){var t;null===(t=this.activeInlineCompletionsModel)||void 0===t||t.commitCurrentSuggestion()}hideInlineCompletion(){var t;null===(t=this.activeInlineCompletionsModel)||void 0===t||t.hide()}showNextInlineCompletion(){var t;null===(t=this.activeInlineCompletionsModel)||void 0===t||t.showNext()}showPreviousInlineCompletion(){var t;null===(t=this.activeInlineCompletionsModel)||void 0===t||t.showPrevious()}hasMultipleInlineCompletions(){var t;return function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})}(this,void 0,void 0,function*(){const e=yield null===(t=this.activeInlineCompletionsModel)||void 0===t?void 0:t.hasMultipleInlineCompletions();return void 0!==e&&e})}};D_=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([function(a,t){return function(e,n){t(e,n,1)}}(0,Qi.TG)],D_);class A2 extends Tt.JT{constructor(){super(...arguments),this.onDidChangeEmitter=new $n.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.cache=this._register(new Tt.XK)}get value(){return this.cache.value}setValue(t,e,n){this.cache.value=new Jx(t,e,()=>this.onDidChangeEmitter.fire(),n)}clearAndLeak(){return this.cache.clearAndLeak()}clear(){this.cache.clear()}}m(4946);var E_,R2=m(5928),F2=m(53269),Nb=m(82287),Ib=m(19362),kb=function(a,t){return function(e,n){t(e,n,a)}};const Tb=null===(E_=window.trustedTypes)||void 0===E_?void 0:E_.createPolicy("editorGhostText",{createHTML:a=>a});let M_=class extends Tt.JT{constructor(t,e,n,o){super(),this.editor=t,this.model=e,this.instantiationService=n,this.languageService=o,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(W2,this.editor)),this.additionalLinesWidget=this._register(new V2(this.editor,this.languageService.languageIdCodec)),this.viewMoreContentWidget=void 0,this._register(this.editor.onDidChangeConfiguration(s=>{(s.hasChanged(29)||s.hasChanged(105)||s.hasChanged(88)||s.hasChanged(83)||s.hasChanged(45)||s.hasChanged(44)||s.hasChanged(59))&&this.update()})),this._register((0,Tt.OF)(()=>{var s;this.disposed=!0,this.update(),null===(s=this.viewMoreContentWidget)||void 0===s||s.dispose(),this.viewMoreContentWidget=void 0})),this._register(e.onDidChange(()=>{this.update()})),this.update()}shouldShowHoverAtViewZone(t){return this.additionalLinesWidget.viewZoneId===t}update(){var t;const e=this.model.ghostText;if(!this.editor.hasModel()||!e||this.disposed)return this.partsWidget.clear(),void this.additionalLinesWidget.clear();const n=new Array,o=new Array;function s(H,U){if(o.length>0){const ne=o[o.length-1];U&&ne.decorations.push(new Nb.Kp(ne.content.length+1,ne.content.length+1+H[0].length,U,0)),ne.content+=H[0],H=H.slice(1)}for(const ne of H)o.push({content:ne,decorations:U?[new Nb.Kp(1,ne.length+1,U,0)]:[]})}const d=this.editor.getModel().getLineContent(e.lineNumber);this.editor.getModel().getLineTokens(e.lineNumber);let p,V=0;for(const H of e.parts){let U=H.lines;void 0===p?(n.push({column:H.column,text:U[0],preview:H.preview}),U=U.slice(1)):s([d.substring(V,H.column-1)],void 0),U.length>0&&(s(U,"ghost-text"),void 0===p&&H.column<=d.length&&(p=H.column)),V=H.column-1}void 0!==p&&s([d.substring(V)],void 0),this.partsWidget.setParts(e.lineNumber,n,void 0!==p?{column:p,length:d.length+1-p}:void 0),this.additionalLinesWidget.updateLines(e.lineNumber,o,e.additionalReservedLineCount),e.parts.some(H=>H.lines.length<0)?this.viewMoreContentWidget=this.renderViewMoreLines(new di.L(e.lineNumber,this.editor.getModel().getLineMaxColumn(e.lineNumber)),"",0):(null===(t=this.viewMoreContentWidget)||void 0===t||t.dispose(),this.viewMoreContentWidget=void 0)}renderViewMoreLines(t,e,n){const o=this.editor.getOption(44),s=document.createElement("div");s.className="suggest-preview-additional-widget",(0,W0.N)(s,o);const d=document.createElement("span");d.className="content-spacer",d.append(e),s.append(d);const p=document.createElement("span");p.className="content-newline suggest-preview-text",p.append("\u23ce  "),s.append(p);const V=new Tt.SL,H=document.createElement("div");return H.className="button suggest-preview-text",H.append(`+${n} lines\u2026`),V.add(st.mu(H,"mousedown",U=>{var ne;null===(ne=this.model)||void 0===ne||ne.setExpanded(!0),U.preventDefault(),this.editor.focus()})),s.append(H),new z2(this.editor,t,s,V)}};M_=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([kb(2,Qi.TG),kb(3,or.O)],M_);class W2{constructor(t){this.editor=t,this.decorationIds=[],this.disposableStore=new Tt.SL}dispose(){this.clear(),this.disposableStore.dispose()}clear(){this.editor.deltaDecorations(this.decorationIds,[]),this.disposableStore.clear()}setParts(t,e,n){if(this.disposableStore.clear(),!this.editor.getModel())return;const s=new Array;n&&s.push({range:kt.e.fromPositions(new di.L(t,n.column),new di.L(t,n.column+n.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}}),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,e.map(d=>({range:kt.e.fromPositions(new di.L(t,d.column)),options:{description:"ghost-text",after:{content:d.text,inlineClassName:d.preview?"ghost-text-decoration-preview":"ghost-text-decoration"},showIfCollapsed:!0}})).concat(s))}}class V2{constructor(t,e){this.editor=t,this.languageIdCodec=e,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones(t=>{this._viewZoneId&&(t.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(t,e,n){const o=this.editor.getModel();if(!o)return;const{tabSize:s}=o.getOptions();this.editor.changeViewZones(d=>{this._viewZoneId&&(d.removeZone(this._viewZoneId),this._viewZoneId=void 0);const p=Math.max(e.length,n);if(p>0){const V=document.createElement("div");(function(a,t,e,n,o){const s=n.get(29),d=n.get(105),V=n.get(83),H=n.get(45),U=n.get(44),ne=n.get(59),be=(0,F2.l$)(1e4);be.appendASCIIString('<div class="suggest-preview-text">');for(let ct=0,Pt=e.length;ct<Pt;ct++){const Ot=e[ct],Xt=Ot.content;be.appendASCIIString('<div class="view-line'),be.appendASCIIString('" style="top:'),be.appendASCIIString(String(ct*ne)),be.appendASCIIString('px;width:1000000px;">');const on=jn.$i(Xt),Wn=jn.Ut(Xt),Pn=R2.A.createEmpty(Xt,o);(0,Ib.d1)(new Ib.IJ(U.isMonospace&&!s,U.canUseHalfwidthRightwardsArrow,Xt,!1,on,Wn,0,Pn,Ot.decorations,t,0,U.spaceWidth,U.middotWidth,U.wsmiddotWidth,d,"none",V,H!==ns.n0.OFF,null),be),be.appendASCIIString("</div>")}be.appendASCIIString("</div>"),(0,W0.N)(a,U);const Ee=be.build(),Ke=Tb?Tb.createHTML(Ee):Ee;a.innerHTML=Ke})(V,s,e,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=d.addZone({afterLineNumber:t,heightInLines:p,domNode:V,afterColumnAffinity:1})}})}}class z2 extends Tt.JT{constructor(t,e,n,o){super(),this.editor=t,this.position=e,this.domNode=n,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(o),this._register((0,Tt.OF)(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}(0,A.Ic)((a,t)=>{const e=a.getColor(c.N5);e&&(t.addRule(`.monaco-editor .ghost-text-decoration { color: ${e.toString()} !important; }`),t.addRule(`.monaco-editor .ghost-text-decoration-preview { color: ${e.toString()} !important; }`),t.addRule(`.monaco-editor .suggest-preview-text .ghost-text { color: ${e.toString()} !important; }`));const n=a.getColor(c.IO);n&&(t.addRule(`.monaco-editor .ghost-text-decoration { background-color: ${n.toString()}; }`),t.addRule(`.monaco-editor .ghost-text-decoration-preview { background-color: ${n.toString()}; }`),t.addRule(`.monaco-editor .suggest-preview-text .ghost-text { background-color: ${n.toString()}; }`));const o=a.getColor(c.x3);o&&(t.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 1px solid ${o}; }`),t.addRule(`.monaco-editor .ghost-text-decoration { border: 1px solid ${o}; }`),t.addRule(`.monaco-editor .ghost-text-decoration-preview { border: 1px solid ${o}; }`))});var Pb=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},N_=function(a,t){return function(e,n){t(e,n,a)}},Gm=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})};let fs=class pw extends Tt.JT{constructor(t,e){super(),this.editor=t,this.instantiationService=e,this.triggeredExplicitly=!1,this.activeController=this._register(new Tt.XK),this.activeModelDidChangeEmitter=this._register(new $n.Q5),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration(n=>{n.hasChanged(106)&&this.updateModelController(),n.hasChanged(55)&&this.updateModelController()})),this.updateModelController()}static get(t){return t.getContribution(pw.ID)}get activeModel(){var t;return null===(t=this.activeController.value)||void 0===t?void 0:t.model}updateModelController(){const t=this.editor.getOption(106),e=this.editor.getOption(55);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(t.preview||e.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(I_,this.editor):void 0,this.activeModelDidChangeEmitter.fire()}shouldShowHoverAt(t){var e;return(null===(e=this.activeModel)||void 0===e?void 0:e.shouldShowHoverAt(t))||!1}shouldShowHoverAtViewZone(t){var e,n;return(null===(n=null===(e=this.activeController.value)||void 0===e?void 0:e.widget)||void 0===n?void 0:n.shouldShowHoverAtViewZone(t))||!1}trigger(){var t;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),null===(t=this.activeModel)||void 0===t||t.triggerInlineCompletion()}commit(){var t;null===(t=this.activeModel)||void 0===t||t.commitInlineCompletion()}hide(){var t;null===(t=this.activeModel)||void 0===t||t.hideInlineCompletion()}showNextInlineCompletion(){var t;null===(t=this.activeModel)||void 0===t||t.showNextInlineCompletion()}showPreviousInlineCompletion(){var t;null===(t=this.activeModel)||void 0===t||t.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var t;return Gm(this,void 0,void 0,function*(){const e=yield null===(t=this.activeModel)||void 0===t?void 0:t.hasMultipleInlineCompletions();return void 0!==e&&e})}};fs.inlineSuggestionVisible=new Qt.uy("inlineSuggestionVisible",!1,De.N("inlineSuggestionVisible","Whether an inline suggestion is visible")),fs.inlineSuggestionHasIndentation=new Qt.uy("inlineSuggestionHasIndentation",!1,De.N("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace")),fs.inlineSuggestionHasIndentationLessThanTabSize=new Qt.uy("inlineSuggestionHasIndentationLessThanTabSize",!0,De.N("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab")),fs.ID="editor.contrib.ghostTextController",fs=Pb([N_(1,Qi.TG)],fs);class U2{constructor(t){this.contextKeyService=t,this.inlineCompletionVisible=fs.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=fs.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=fs.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService)}}let I_=class extends Tt.JT{constructor(t,e,n){super(),this.editor=t,this.instantiationService=e,this.contextKeyService=n,this.contextKeys=new U2(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(D_,this.editor)),this.widget=this._register(this.instantiationService.createInstance(M_,this.editor,this.model)),this._register((0,Tt.OF)(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(!0)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){var t;this.contextKeys.inlineCompletionVisible.set(void 0!==(null===(t=this.model.activeInlineCompletionsModel)||void 0===t?void 0:t.ghostText));let e=!1,n=!0;const o=this.model.inlineCompletionsModel.ghostText;if(this.model.activeInlineCompletionsModel&&o&&o.parts.length>0){const{column:s,lines:d}=o.parts[0],p=d[0];if(s<=this.editor.getModel().getLineIndentColumn(o.lineNumber)){let U=(0,jn.LC)(p);-1===U&&(U=p.length-1),e=U>0;const ne=this.editor.getModel().getOptions().tabSize;n=Rx.i.visibleColumnFromColumn(p,U+1,ne)<ne}}this.contextKeys.inlineCompletionSuggestsIndentation.set(e),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(n)}};I_=Pb([N_(1,Qi.TG),N_(2,Qt.i6)],I_);const Ob=Qe._l.bindToContribution(fs.get),Xf=new Ob({id:db,precondition:fs.inlineSuggestionVisible,handler(a){a.commit(),a.editor.focus()}});(0,Qe.fK)(Xf),Pr.W.registerKeybindingRule({primary:2,weight:200,id:Xf.id,when:Qt.Ao.and(Xf.precondition,Ct.u.tabMovesFocus.toNegated(),fs.inlineSuggestionHasIndentationLessThanTabSize)}),(0,Qe.fK)(new Ob({id:"editor.action.inlineSuggest.hide",precondition:fs.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(a){a.hide()}}));let k_=(()=>{class a extends Qe.R6{constructor(){super({id:a.ID,label:De.N("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:Qt.Ao.and(Ct.u.writable,fs.inlineSuggestionVisible),kbOpts:{weight:100,primary:601}})}run(e,n){return Gm(this,void 0,void 0,function*(){const o=fs.get(n);o&&(o.showNextInlineCompletion(),n.focus())})}}return a.ID="editor.action.inlineSuggest.showNext",a})(),T_=(()=>{class a extends Qe.R6{constructor(){super({id:a.ID,label:De.N("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:Qt.Ao.and(Ct.u.writable,fs.inlineSuggestionVisible),kbOpts:{weight:100,primary:599}})}run(e,n){return Gm(this,void 0,void 0,function*(){const o=fs.get(n);o&&(o.showPreviousInlineCompletion(),n.focus())})}}return a.ID="editor.action.inlineSuggest.showPrevious",a})();var uh=function(a,t){return function(e,n){t(e,n,a)}};class $2{constructor(t,e,n){this.owner=t,this.range=e,this.controller=n}isValidForHoverAnchor(t){return 1===t.type&&this.range.startColumn<=t.range.startColumn&&this.range.endColumn>=t.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}}let P_=class{constructor(t,e,n,o,s,d,p){this._editor=t,this._commandService=e,this._menuService=n,this._contextKeyService=o,this._languageService=s,this._openerService=d,this.accessibilityService=p,this.hoverOrdinal=3}suggestHoverAnchor(t){const e=fs.get(this._editor);if(!e)return null;const n=t.target;if(8===n.type){const o=n.detail;if(e.shouldShowHoverAtViewZone(o.viewZoneId))return new fm(1e3,this,kt.e.fromPositions(o.positionBefore||o.position,o.positionBefore||o.position))}return 7===n.type&&e.shouldShowHoverAt(n.range)||6===n.type&&n.detail.mightBeForeignElement&&e.shouldShowHoverAt(n.range)?new fm(1e3,this,n.range):null}computeSync(t,e){const n=fs.get(this._editor);return n&&n.shouldShowHoverAt(t.range)?[new $2(this,t.range,n)]:[]}renderHoverParts(t,e){const n=new Tt.SL,o=e[0];this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(t,o,n);const s=n.add(this._menuService.createMenu(_.eH.InlineCompletionsActions,this._contextKeyService)),d=t.statusBar.addAction({label:De.N("showNextInlineSuggestion","Next"),commandId:k_.ID,run:()=>this._commandService.executeCommand(k_.ID)}),p=t.statusBar.addAction({label:De.N("showPreviousInlineSuggestion","Previous"),commandId:T_.ID,run:()=>this._commandService.executeCommand(T_.ID)});t.statusBar.addAction({label:De.N("acceptInlineSuggestion","Accept"),commandId:Xf.id,run:()=>this._commandService.executeCommand(Xf.id)});const V=[d,p];for(const H of V)H.setEnabled(!1);o.hasMultipleSuggestions().then(H=>{for(const U of V)U.setEnabled(H)});for(const[H,U]of s.getActions())for(const ne of U)ne instanceof _.U8&&t.statusBar.addAction({label:ne.label,commandId:ne.item.id,run:()=>this._commandService.executeCommand(ne.item.id)});return n}renderScreenReaderText(t,e,n){var o,s;const d=st.$,p=d("div.hover-row.markdown-hover"),V=st.R3(p,d("div.hover-contents")),H=n.add(new Ql({editor:this._editor},this._languageService,this._openerService)),ne=null===(s=null===(o=e.controller.activeModel)||void 0===o?void 0:o.inlineCompletionsModel)||void 0===s?void 0:s.ghostText;if(ne){const be=this._editor.getModel().getLineContent(ne.lineNumber);(be=>{n.add(H.onDidRenderAsync(()=>{V.className="hover-contents code-hover-contents",t.onContentsChanged()}));const Ee=De.N("inlineSuggestionFollows","Suggestion:"),Ke=n.add(H.render((new Zo.W5).appendText(Ee).appendCodeblock("text",be)));V.replaceChildren(Ke.element)})(ne.renderForScreenReader(be))}t.fragment.appendChild(p)}};P_=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([uh(1,eo.Hy),uh(2,_.co),uh(3,Qt.i6),uh(4,or.O),uh(5,na.v4),uh(6,Ic.F)],P_),(0,Qe._K)(fs.ID,fs),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:De.N("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:Ct.u.writable})}run(t,e){return Gm(this,void 0,void 0,function*(){const n=fs.get(e);n&&n.trigger()})}}),(0,Qe.Qr)(k_),(0,Qe.Qr)(T_),Vd.register(P_);var hh=m(51788);function Br(a,t){let e=0;for(let n=0;n<a.length;n++)"\t"===a.charAt(n)?e+=t:e++;return e}function qf(a,t,e){a=a<0?0:a;let n="";if(!e){let o=Math.floor(a/t);a%=t;for(let s=0;s<o;s++)n+="\t"}for(let o=0;o<a;o++)n+=" ";return n}var Ab=m(66200);function Rb(a,t,e,n,o){if(1===a.getLineCount()&&1===a.getLineMaxColumn(1))return[];const s=t.getLanguageConfiguration(a.getLanguageId()).indentationRules;if(!s)return[];for(n=Math.min(n,a.getLineCount());e<=n&&s.unIndentedLinePattern;){let Pt=a.getLineContent(e);if(!s.unIndentedLinePattern.test(Pt))break;e++}if(e>n-1)return[];const{tabSize:d,indentSize:p,insertSpaces:V}=a.getOptions(),H=(Pt,Ot)=>hh.U.shiftIndent(Pt,Pt.length+(Ot=Ot||1),d,p,V),U=(Pt,Ot)=>hh.U.unshiftIndent(Pt,Pt.length+(Ot=Ot||1),d,p,V);let be,ne=[],Ee=a.getLineContent(e),Ke=Ee;if(null!=o){be=o;let Pt=jn.V8(Ee);Ke=be+Ee.substring(Pt.length),s.decreaseIndentPattern&&s.decreaseIndentPattern.test(Ke)&&(be=U(be),Ke=be+Ee.substring(Pt.length)),Ee!==Ke&&ne.push(is.h.replaceMove(new ci.Y(e,1,e,Pt.length+1),(0,Ab.x)(be,p,V)))}else be=jn.V8(Ee);let ct=be;s.increaseIndentPattern&&s.increaseIndentPattern.test(Ke)?(ct=H(ct),be=H(be)):s.indentNextLinePattern&&s.indentNextLinePattern.test(Ke)&&(ct=H(ct));for(let Pt=++e;Pt<=n;Pt++){let Ot=a.getLineContent(Pt),Xt=jn.V8(Ot),on=ct+Ot.substring(Xt.length);s.decreaseIndentPattern&&s.decreaseIndentPattern.test(on)&&(ct=U(ct),be=U(be)),Xt!==ct&&ne.push(is.h.replaceMove(new ci.Y(Pt,1,Pt,Xt.length+1),(0,Ab.x)(ct,p,V))),(!s.unIndentedLinePattern||!s.unIndentedLinePattern.test(Ot))&&(s.increaseIndentPattern&&s.increaseIndentPattern.test(on)?(be=H(be),ct=be):ct=s.indentNextLinePattern&&s.indentNextLinePattern.test(on)?H(ct):be)}return ne}let Z2=(()=>{class a extends Qe.R6{constructor(){super({id:a.ID,label:De.N("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:Ct.u.writable})}run(e,n){let o=n.getModel();if(!o)return;let s=o.getOptions(),d=n.getSelection();if(!d)return;const p=new tD(d,s.tabSize);n.pushUndoStop(),n.executeCommands(this.id,[p]),n.pushUndoStop(),o.updateOptions({insertSpaces:!0})}}return a.ID="editor.action.indentationToSpaces",a})(),G2=(()=>{class a extends Qe.R6{constructor(){super({id:a.ID,label:De.N("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:Ct.u.writable})}run(e,n){let o=n.getModel();if(!o)return;let s=o.getOptions(),d=n.getSelection();if(!d)return;const p=new nD(d,s.tabSize);n.pushUndoStop(),n.executeCommands(this.id,[p]),n.pushUndoStop(),o.updateOptions({insertSpaces:!1})}}return a.ID="editor.action.indentationToTabs",a})();class Fb extends Qe.R6{constructor(t,e){super(e),this.insertSpaces=t}run(t,e){const n=t.get(Pa.eJ),o=t.get(qr.q);let s=e.getModel();if(!s)return;const d=o.getCreationOptions(s.getLanguageId(),s.uri,s.isForSimpleWidget),p=[1,2,3,4,5,6,7,8].map(H=>({id:H.toString(),label:H.toString(),description:H===d.tabSize?De.N("configuredTabSize","Configured Tab Size"):void 0})),V=Math.min(s.getOptions().tabSize-1,7);setTimeout(()=>{n.pick(p,{placeHolder:De.N({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:p[V]}).then(H=>{H&&s&&!s.isDisposed()&&s.updateOptions({tabSize:parseInt(H.label,10),insertSpaces:this.insertSpaces})})},50)}}let Q2=(()=>{class a extends Fb{constructor(){super(!1,{id:a.ID,label:De.N("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}}return a.ID="editor.action.indentUsingTabs",a})(),Y2=(()=>{class a extends Fb{constructor(){super(!0,{id:a.ID,label:De.N("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}}return a.ID="editor.action.indentUsingSpaces",a})(),J2=(()=>{class a extends Qe.R6{constructor(){super({id:a.ID,label:De.N("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(e,n){const o=e.get(qr.q);let s=n.getModel();if(!s)return;const d=o.getCreationOptions(s.getLanguageId(),s.uri,s.isForSimpleWidget);s.detectIndentation(d.insertSpaces,d.tabSize)}}return a.ID="editor.action.detectIndentation",a})();class eD{constructor(t,e){this._initialSelection=e,this._edits=[],this._selectionId=null;for(let n of t)n.range&&"string"==typeof n.text&&this._edits.push(n)}getEditOperations(t,e){for(let o of this._edits)e.addEditOperation(kt.e.lift(o.range),o.text);let n=!1;Array.isArray(this._edits)&&1===this._edits.length&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(n=!0,this._selectionId=e.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(n=!0,this._selectionId=e.trackSelection(this._initialSelection,!1))),n||(this._selectionId=e.trackSelection(this._initialSelection))}computeCursorState(t,e){return e.getTrackedSelection(this._selectionId)}}let Bb=(()=>{class a{constructor(e){this.callOnDispose=new Tt.SL,this.callOnModel=new Tt.SL,this.editor=e,this.callOnDispose.add(e.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(e.onDidChangeModel(()=>this.update())),this.callOnDispose.add(e.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(9)<4||this.editor.getOption(48))&&(!this.editor.hasModel()||this.callOnModel.add(this.editor.onDidPaste(({range:e})=>{this.trigger(e)})))}trigger(e){let n=this.editor.getSelections();if(null===n||n.length>1)return;const o=this.editor.getModel();if(!o||!o.isCheapToTokenize(e.getStartPosition().lineNumber))return;const s=this.editor.getOption(9),{tabSize:d,indentSize:p,insertSpaces:V}=o.getOptions();let H=[],U={shiftIndent:Ke=>hh.U.shiftIndent(Ke,Ke.length+1,d,p,V),unshiftIndent:Ke=>hh.U.unshiftIndent(Ke,Ke.length+1,d,p,V)},ne=e.startLineNumber;for(;ne<=e.endLineNumber&&this.shouldIgnoreLine(o,ne);)ne++;if(ne>e.endLineNumber)return;let be=o.getLineContent(ne);if(!/\S/.test(be.substring(0,e.startColumn-1))){const Ke=Vo.zu.getGoodIndentForLine(s,o,o.getLanguageId(),ne,U);if(null!==Ke){let ct=jn.V8(be),Pt=Br(Ke,d);if(Pt!==Br(ct,d)){let Xt=qf(Pt,d,V);H.push({range:new kt.e(ne,1,ne,ct.length+1),text:Xt}),be=Xt+be.substr(ct.length)}else{let Xt=Vo.zu.getIndentMetadata(o,ne);if(0===Xt||8===Xt)return}}}const Ee=ne;for(;ne<e.endLineNumber&&!/\S/.test(o.getLineContent(ne+1));)ne++;if(ne!==e.endLineNumber){let ct=Vo.zu.getGoodIndentForLine(s,{getLineTokens:Pt=>o.getLineTokens(Pt),getLanguageId:()=>o.getLanguageId(),getLanguageIdAtPosition:(Pt,Ot)=>o.getLanguageIdAtPosition(Pt,Ot),getLineContent:Pt=>Pt===Ee?be:o.getLineContent(Pt)},o.getLanguageId(),ne+1,U);if(null!==ct){let Pt=Br(ct,d),Ot=Br(jn.V8(o.getLineContent(ne+1)),d);if(Pt!==Ot){let Xt=Pt-Ot;for(let on=ne+1;on<=e.endLineNumber;on++){let Wn=o.getLineContent(on),Pn=jn.V8(Wn),as=qf(Br(Pn,d)+Xt,d,V);as!==Pn&&H.push({range:new kt.e(on,1,on,Pn.length+1),text:as})}}}}if(H.length>0){this.editor.pushUndoStop();let Ke=new eD(H,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",Ke),this.editor.pushUndoStop()}}shouldIgnoreLine(e,n){e.forceTokenization(n);let o=e.getLineFirstNonWhitespaceColumn(n);if(0===o)return!0;let s=e.getLineTokens(n);if(s.getCount()>0){let d=s.findTokenIndexAtOffset(o);if(d>=0&&1===s.getStandardTokenType(d))return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}return a.ID="editor.contrib.autoIndentOnPaste",a})();function Wb(a,t,e,n){if(1===a.getLineCount()&&1===a.getLineMaxColumn(1))return;let o="";for(let d=0;d<e;d++)o+=" ";let s=new RegExp(o,"gi");for(let d=1,p=a.getLineCount();d<=p;d++){let V=a.getLineFirstNonWhitespaceColumn(d);if(0===V&&(V=a.getLineMaxColumn(d)),1===V)continue;const H=new kt.e(d,1,d,V),U=a.getValueInRange(H),ne=n?U.replace(/\t/gi,o):U.replace(s,"\t");t.addEditOperation(H,ne)}}class tD{constructor(t,e){this.selection=t,this.tabSize=e,this.selectionId=null}getEditOperations(t,e){this.selectionId=e.trackSelection(this.selection),Wb(t,e,this.tabSize,!0)}computeCursorState(t,e){return e.getTrackedSelection(this.selectionId)}}class nD{constructor(t,e){this.selection=t,this.tabSize=e,this.selectionId=null}getEditOperations(t,e){this.selectionId=e.trackSelection(this.selection),Wb(t,e,this.tabSize,!1)}computeCursorState(t,e){return e.getTrackedSelection(this.selectionId)}}(0,Qe._K)(Bb.ID,Bb),(0,Qe.Qr)(Z2),(0,Qe.Qr)(G2),(0,Qe.Qr)(Q2),(0,Qe.Qr)(Y2),(0,Qe.Qr)(J2),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.reindentlines",label:De.N("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:Ct.u.writable})}run(t,e){const n=t.get(Vo.c_);let o=e.getModel();if(!o)return;let s=Rb(o,n,1,o.getLineCount());s.length>0&&(e.pushUndoStop(),e.executeEdits(this.id,s),e.pushUndoStop())}}),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.reindentselectedlines",label:De.N("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:Ct.u.writable})}run(t,e){const n=t.get(Vo.c_);let o=e.getModel();if(!o)return;let s=e.getSelections();if(null===s)return;let d=[];for(let p of s){let V=p.startLineNumber,H=p.endLineNumber;if(V!==H&&1===p.endColumn&&H--,1===V){if(V===H)continue}else V--;let U=Rb(o,n,V,H);d.push(...U)}d.length>0&&(e.pushUndoStop(),e.executeEdits(this.id,d),e.pushUndoStop())}});var Qm=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})};class Vb{constructor(t,e){this.range=t,this.direction=e}}class O_{constructor(t,e,n){this.hint=t,this.anchor=e,this.provider=n,this._isResolved=!1}with(t){const e=new O_(this.hint,t.anchor,this.provider);return e._isResolved=this._isResolved,e._currentResolve=this._currentResolve,e}resolve(t){return Qm(this,void 0,void 0,function*(){if("function"==typeof this.provider.resolveInlayHint){if(this._currentResolve)return yield this._currentResolve,t.isCancellationRequested?void 0:this.resolve(t);this._isResolved||(this._currentResolve=this._doResolve(t).finally(()=>this._currentResolve=void 0)),yield this._currentResolve}})}_doResolve(t){var e,n;return Qm(this,void 0,void 0,function*(){try{const o=yield Promise.resolve(this.provider.resolveInlayHint(this.hint,t));this.hint.tooltip=null!==(e=null==o?void 0:o.tooltip)&&void 0!==e?e:this.hint.tooltip,this.hint.label=null!==(n=null==o?void 0:o.label)&&void 0!==n?n:this.hint.label,this._isResolved=!0}catch(o){(0,Qn.Cp)(o),this._isResolved=!1}})}}class eg{constructor(t,e,n){this._disposables=new Tt.SL,this.ranges=t,this.provider=new Set;const o=[];for(const[s,d]of e){this._disposables.add(s),this.provider.add(d);for(const p of s.hints){let V=n.validatePosition(p.position),H="before";const U=eg._getRangeAtPosition(n,V);let ne;U.getStartPosition().isBefore(V)?(ne=kt.e.fromPositions(U.getStartPosition(),V),H="after"):(ne=kt.e.fromPositions(V,U.getEndPosition()),H="before"),o.push(new O_(p,new Vb(ne,H),d))}}this.items=o.sort((s,d)=>di.L.compare(s.hint.position,d.hint.position))}static create(t,e,n,o){return Qm(this,void 0,void 0,function*(){const s=[],d=t.ordered(e).reverse().map(p=>n.map(V=>Qm(this,void 0,void 0,function*(){try{const H=yield p.provideInlayHints(e,V,o);(null==H?void 0:H.hints.length)&&s.push([H,p])}catch(H){(0,Qn.Cp)(H)}})));if(yield Promise.all(d.flat()),o.isCancellationRequested||e.isDisposed())throw new Qn.FU;return new eg(n,s,e)})}dispose(){this._disposables.dispose()}static _getRangeAtPosition(t,e){const n=e.lineNumber,o=t.getWordAtPosition(e);if(o)return new kt.e(n,o.startColumn,n,o.endColumn);t.tokenizeIfCheap(n);const s=t.getLineTokens(n),d=e.column-1,p=s.findTokenIndexAtOffset(d);let V=s.getStartOffset(p),H=s.getEndOffset(p);return H-V==1&&(V===d&&p>1?(V=s.getStartOffset(p-1),H=s.getEndOffset(p-1)):H===d&&p<s.getCount()-1&&(V=s.getStartOffset(p+1),H=s.getEndOffset(p+1))),new kt.e(n,V+1,n,H+1)}}var tg=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})};function oD(a,t,e,n){var o;return tg(this,void 0,void 0,function*(){const s=a.get(Cr.S),d=a.get(Ol.i),p=a.get(eo.Hy),V=a.get(Qi.TG),H=a.get(us.lT);if(yield n.item.resolve(Zn.T.None),!n.part.location)return;const U=n.part.location,ne=[],be=new Set(_.BH.getMenuItems(_.eH.EditorContext).map(Ke=>(0,_.vr)(Ke)?Ke.command.id:""));for(const Ke of Qe.Uc.getEditorActions())Ke instanceof to&&be.has(Ke.id)&&ne.push(new jo.aU(Ke.id,Ke.label,void 0,!0,()=>tg(this,void 0,void 0,function*(){const ct=yield s.createModelReference(U.uri);try{yield V.invokeFunction(Ke.run.bind(Ke),t,new Ci(ct.object.textEditorModel,kt.e.getStartPosition(U.range)))}finally{ct.dispose()}})));if(n.part.command){const{command:Ke}=n.part;ne.push(new jo.Z0),ne.push(new jo.aU(Ke.id,Ke.title,void 0,!0,()=>tg(this,void 0,void 0,function*(){var ct;try{yield p.executeCommand(Ke.id,...null!==(ct=Ke.arguments)&&void 0!==ct?ct:[])}catch(Pt){H.notify({severity:us.zb.Error,source:n.item.provider.displayName,message:Pt})}})))}const Ee=t.getOption(115);d.showContextMenu({domForShadowRoot:Ee&&null!==(o=t.getDomNode())&&void 0!==o?o:void 0,getAnchor:()=>{const Ke=st.i(e);return{x:Ke.left,y:Ke.top+Ke.height+8}},getActions:()=>ne,onHide:()=>{t.focus()},autoSelectFirstItem:!0})})}function sD(a,t,e,n){return tg(this,void 0,void 0,function*(){const s=yield a.get(Cr.S).createModelReference(n.uri);yield e.invokeWithinContext(d=>tg(this,void 0,void 0,function*(){const p=t.hasSideBySideModifier,V=d.get(Qt.i6),H=Gs.inPeekEditor.getValue(V),U=!p&&e.getOption(78)&&!H;return new io({openToSide:p,openInPeek:U,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(d,e,{model:s.object.textEditorModel,position:kt.e.getStartPosition(n.range)})})),s.dispose()})}var fh=function(a,t){return function(e,n){t(e,n,a)}},gh=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})};class Ym{constructor(){this._entries=new Cs.z6(50)}get(t){const e=Ym._key(t);return this._entries.get(e)}set(t,e){const n=Ym._key(t);this._entries.set(n,e)}static _key(t){return`${t.uri.toString()}/${t.getVersionId()}`}}const Hb=(0,Qi.yh)("IInlayHintsCache");(0,ol.z)(Hb,Ym,!0);class A_{constructor(t,e){this.item=t,this.index=e}get part(){const t=this.item.hint.label;return"string"==typeof t?{label:t}:t[this.index]}}class aD{constructor(t,e){this.part=t,this.hasTriggerModifier=e}}let Yd=class E1{constructor(t,e,n,o,s,d,p){this._editor=t,this._languageFeaturesService=e,this._inlayHintsCache=o,this._commandService=s,this._notificationService=d,this._instaService=p,this._disposables=new Tt.SL,this._sessionDisposables=new Tt.SL,this._decorationsMetadata=new Map,this._ruleFactory=new Wu.t7(this._editor),this._debounceInfo=n.for(e.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(e.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(t.onDidChangeModel(()=>this._update())),this._disposables.add(t.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(t.onDidChangeConfiguration(V=>{V.hasChanged(127)&&this._update()})),this._update()}static get(t){var e;return null!==(e=t.getContribution(E1.ID))&&void 0!==e?e:void 0}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){if(this._sessionDisposables.clear(),this._removeAllDecorations(),!this._editor.getOption(127).enabled)return;const t=this._editor.getModel();if(!t||!this._languageFeaturesService.inlayHintsProvider.has(t))return;const e=this._inlayHintsCache.get(t);e&&this._updateHintsDecorators([t.getFullModelRange()],e),this._sessionDisposables.add((0,Tt.OF)(()=>{t.isDisposed()||this._cacheHintsForFastRestore(t)}));let n,o=new Set;const s=new Bn.pY(()=>gh(this,void 0,void 0,function*(){const d=Date.now();null==n||n.dispose(!0),n=new Zn.A;const p=t.onWillDispose(()=>null==n?void 0:n.cancel());try{const V=n.token,H=yield eg.create(this._languageFeaturesService.inlayHintsProvider,t,this._getHintsRanges(),V);if(s.delay=this._debounceInfo.update(t,Date.now()-d),V.isCancellationRequested)return void H.dispose();for(const U of H.provider)"function"==typeof U.onDidChangeInlayHints&&!o.has(U)&&(o.add(U),this._sessionDisposables.add(U.onDidChangeInlayHints(()=>{s.isScheduled()||s.schedule()})));this._sessionDisposables.add(H),this._updateHintsDecorators(H.ranges,H.items),this._cacheHintsForFastRestore(t)}catch(V){(0,Qn.dL)(V)}finally{n.dispose(),p.dispose()}}),this._debounceInfo.get(t));this._sessionDisposables.add(s),this._sessionDisposables.add((0,Tt.OF)(()=>null==n?void 0:n.dispose(!0))),s.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(d=>{(d.scrollTopChanged||!s.isScheduled())&&s.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(d=>{const p=Math.max(s.delay,1250);s.schedule(p)})),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installDblClickGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){const t=new Tt.SL,e=t.add(new ff(this._editor)),n=new Tt.SL;return t.add(n),t.add(e.onMouseMoveOrRelevantKeyDown(o=>{const[s]=o,d=this._getInlayHintLabelPart(s),p=this._editor.getModel();if(!d||!p)return void n.clear();const V=new Zn.A;n.add((0,Tt.OF)(()=>V.dispose(!0))),d.item.resolve(V.token),this._activeInlayHintPart=d.part.command||d.part.location?new aD(d,s.hasTriggerModifier):void 0;const H=d.item.hint.position.lineNumber,U=new kt.e(H,1,H,p.getLineMaxColumn(H)),ne=new Set;for(const be of this._decorationsMetadata.values())U.containsRange(be.item.anchor.range)&&ne.add(be.item);this._updateHintsDecorators([U],Array.from(ne)),n.add((0,Tt.OF)(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([U],Array.from(ne))}))})),t.add(e.onCancel(()=>n.clear())),t.add(e.onExecute(o=>gh(this,void 0,void 0,function*(){const s=this._getInlayHintLabelPart(o);if(s){const d=s.part;d.location?this._instaService.invokeFunction(sD,o,this._editor,d.location):Xi.mY.is(d.command)&&(yield this._invokeCommand(d.command,s.item))}}))),t}_installDblClickGesture(){return this._editor.onMouseUp(t=>gh(this,void 0,void 0,function*(){if(2!==t.event.detail)return;const e=this._getInlayHintLabelPart(t);!e||(t.event.preventDefault(),yield e.item.resolve(Zn.T.None),e.item.hint.command&&(yield this._invokeCommand(e.item.hint.command,e.item)))}))}_installContextMenu(){return this._editor.onContextMenu(t=>gh(this,void 0,void 0,function*(){if(!(t.event.target instanceof HTMLElement))return;const e=this._getInlayHintLabelPart(t);e&&(yield this._instaService.invokeFunction(oD,this._editor,t.event.target,e))}))}_getInlayHintLabelPart(t){var e;if(6!==t.target.type)return;const n=null===(e=t.target.detail.injectedText)||void 0===e?void 0:e.options;return n instanceof r.HS&&(null==n?void 0:n.attachedData)instanceof A_?n.attachedData:void 0}_invokeCommand(t,e){var n;return gh(this,void 0,void 0,function*(){try{yield this._commandService.executeCommand(t.id,...null!==(n=t.arguments)&&void 0!==n?n:[])}catch(o){this._notificationService.notify({severity:us.zb.Error,source:e.provider.displayName,message:o})}})}_cacheHintsForFastRestore(t){const e=new Map;for(const[n,o]of this._decorationsMetadata){if(e.has(o.item))continue;let s=o.item;const d=t.getDecorationRange(n);if(d){const p=new Vb(d,o.item.anchor.direction);s=o.item.with({anchor:p})}e.set(o.item,s)}this._inlayHintsCache.set(t,Array.from(e.values()))}_getHintsRanges(){const e=this._editor.getModel(),n=this._editor.getVisibleRangesPlusViewportAboveBelow(),o=[];for(const s of n.sort(kt.e.compareRangesUsingStarts)){const d=e.validateRange(new kt.e(s.startLineNumber-30,s.startColumn,s.endLineNumber+30,s.endColumn));0!==o.length&&kt.e.areIntersectingOrTouching(o[o.length-1],d)?o[o.length-1]=kt.e.plusRange(o[o.length-1],d):o.push(d)}return o}_updateHintsDecorators(t,e){var n,o;const s=[],d=(Ee,Ke,ct,Pt,Ot)=>{s.push({item:Ee,classNameRef:Ke,decoration:{range:Ee.anchor.range,options:{description:"InlayHint",showIfCollapsed:Ee.anchor.range.isEmpty(),collapseOnReplaceEdit:!Ee.anchor.range.isEmpty(),stickiness:0,[Ee.anchor.direction]:{content:ct,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:Ke.className,cursorStops:Pt,attachedData:Ot}}}})},p=(Ee,Ke)=>{const ct=this._ruleFactory.createClassNameRef({width:(V/3|0)+"px",display:"inline-block"});d(Ee,ct,"\u200a",Ke?Te.RM.Right:Te.RM.None)},{fontSize:V,fontFamily:H}=this._getLayoutInfo(),U="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(U,H);for(const Ee of e){Ee.hint.paddingLeft&&p(Ee,!1);const Ke="string"==typeof Ee.hint.label?[{label:Ee.hint.label}]:Ee.hint.label;for(let ct=0;ct<Ke.length;ct++){const Pt=Ke[ct],Ot=0===ct,Xt=ct===Ke.length-1,on={fontSize:`${V}px`,fontFamily:`var(${U}), ${ns.hL.fontFamily}`,verticalAlign:"middle"};Ee.hint.command&&(on.cursor="pointer"),this._fillInColors(on,Ee.hint),(Pt.command||Pt.location)&&(null===(n=this._activeInlayHintPart)||void 0===n?void 0:n.part.item)===Ee&&this._activeInlayHintPart.part.index===ct&&(on.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(on.color=(0,A.EN)(y._Yy),on.cursor="pointer")),Ot&&Xt?(on.padding=`1px ${0|Math.max(1,V/4)}px`,on.borderRadius=(V/4|0)+"px"):Ot?(on.padding=`1px 0 1px ${0|Math.max(1,V/4)}px`,on.borderRadius=`${V/4|0}px 0 0 ${V/4|0}px`):Xt?(on.padding=`1px ${0|Math.max(1,V/4)}px 1px 0`,on.borderRadius=`0 ${V/4|0}px ${V/4|0}px 0`):on.padding="1px 0 1px 0",d(Ee,this._ruleFactory.createClassNameRef(on),lD(Pt.label),Xt&&!Ee.hint.paddingRight?Te.RM.Right:Te.RM.None,new A_(Ee,ct))}if(Ee.hint.paddingRight&&p(Ee,!0),s.length>E1._MAX_DECORATORS)break}const ne=[];for(const Ee of t)for(const{id:Ke}of null!==(o=this._editor.getDecorationsInRange(Ee))&&void 0!==o?o:[]){const ct=this._decorationsMetadata.get(Ke);ct&&(ne.push(Ke),ct.classNameRef.dispose(),this._decorationsMetadata.delete(Ke))}const be=this._editor.deltaDecorations(ne,s.map(Ee=>Ee.decoration));for(let Ee=0;Ee<be.length;Ee++){const Ke=s[Ee];this._decorationsMetadata.set(be[Ee],{item:Ke.item,classNameRef:Ke.classNameRef})}}_fillInColors(t,e){e.kind===Xi.gl.Parameter?(t.backgroundColor=(0,A.EN)(y.phM),t.color=(0,A.EN)(y.HCL)):e.kind===Xi.gl.Type?(t.backgroundColor=(0,A.EN)(y.bKB),t.color=(0,A.EN)(y.hX8)):(t.backgroundColor=(0,A.EN)(y.PpC),t.color=(0,A.EN)(y.VVv))}_getLayoutInfo(){const t=this._editor.getOption(127),e=this._editor.getOption(46);let n=t.fontSize;return(!n||n<5||n>e)&&(n=.9*e|0),{fontSize:n,fontFamily:t.fontFamily||this._editor.getOption(43)}}_removeAllDecorations(){this._editor.deltaDecorations(Array.from(this._decorationsMetadata.keys()),[]);for(let t of this._decorationsMetadata.values())t.classNameRef.dispose();this._decorationsMetadata.clear()}};function lD(a){return a.replace(/[ \t]/g,"\xa0")}Yd.ID="editor.contrib.InlayHints",Yd._MAX_DECORATORS=1500,Yd=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([fh(1,Ui.p),fh(2,pr.A),fh(3,Hb),fh(4,eo.Hy),fh(5,us.lT),fh(6,Qi.TG)],Yd),eo.P0.registerCommand("_executeInlayHintProvider",(a,...t)=>gh(void 0,void 0,void 0,function*(){const[e,n]=t;(0,$i.p_)(wo.o.isUri(e)),(0,$i.p_)(kt.e.isIRange(n));const{inlayHintsProvider:o}=a.get(Ui.p),s=yield a.get(Cr.S).createModelReference(e);try{const d=yield eg.create(o,s.object.textEditorModel,[kt.e.lift(n)],Zn.T.None),p=d.items.map(V=>V.hint);return setTimeout(()=>d.dispose(),0),p}finally{s.dispose()}}));var ng=function(a,t){return function(e,n){t(e,n,a)}},zb=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})};class Ub extends fm{constructor(t,e){super(10,e,t.item.anchor.range),this.part=t}}let R_=class extends Dm{constructor(t,e,n,o,s,d){super(t,e,n,o,d),this._resolverService=s,this.hoverOrdinal=6}suggestHoverAnchor(t){var e;if(!Yd.get(this._editor)||6!==t.target.type)return null;const o=null===(e=t.target.detail.injectedText)||void 0===e?void 0:e.options;return o instanceof r.HS&&o.attachedData instanceof A_?new Ub(o.attachedData,this):null}computeSync(){return[]}computeAsync(t,e,n){return t instanceof Ub?new Bn.Aq(o=>zb(this,void 0,void 0,function*(){var s,d;const{part:p}=t;if(yield p.item.resolve(n),n.isCancellationRequested)return;let V,H;if("string"==typeof p.item.hint.tooltip?V=(new Zo.W5).appendText(p.item.hint.tooltip):p.item.hint.tooltip&&(V=p.item.hint.tooltip),V&&o.emitOne(new Yl(this,t.range,[V],0)),"string"==typeof p.part.tooltip?H=(new Zo.W5).appendText(p.part.tooltip):p.part.tooltip&&(H=p.part.tooltip),H&&o.emitOne(new Yl(this,t.range,[H],1)),p.part.location||p.part.command){let Ee;const ct="altKey"===this._editor.getOption(70)?$t.dz?(0,De.N)("links.navigate.kb.meta.mac","cmd + click"):(0,De.N)("links.navigate.kb.meta","ctrl + click"):$t.dz?(0,De.N)("links.navigate.kb.alt.mac","option + click"):(0,De.N)("links.navigate.kb.alt","alt + click");p.part.location&&p.part.command?Ee=(new Zo.W5).appendText((0,De.N)("hint.defAndCommand","Go to Definition ({0}), right click for more",ct)):p.part.location?Ee=(new Zo.W5).appendText((0,De.N)("hint.def","Go to Definition ({0})",ct)):p.part.command&&(Ee=new Zo.W5(`[${(0,De.N)("hint.cmd","Execute Command")}](${function(a){return wo.o.from({scheme:hs.lg.command,path:a.id,query:a.arguments&&encodeURIComponent(JSON.stringify(a.arguments))}).toString()}(p.part.command)} "${p.part.command.title}") (${ct})`,{isTrusted:!0})),Ee&&o.emitOne(new Yl(this,t.range,[Ee],1e4))}const U=yield this._resolveInlayHintLabelPartHover(p,n);try{for(var be,ne=function(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=a[Symbol.asyncIterator];return t?t.call(a):(a="function"==typeof __values?__values(a):a[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(s){e[s]=a[s]&&function(d){return new Promise(function(p,V){!function(s,d,p,V){Promise.resolve(V).then(function(H){s({value:H,done:p})},d)}(p,V,(d=a[s](d)).done,d.value)})}}}(U);!(be=yield ne.next()).done;)o.emitOne(be.value)}catch(Ee){s={error:Ee}}finally{try{be&&!be.done&&(d=ne.return)&&(yield d.call(ne))}finally{if(s)throw s.error}}})):Bn.Aq.EMPTY}_resolveInlayHintLabelPartHover(t,e){return zb(this,void 0,void 0,function*(){if(!t.part.location)return Bn.Aq.EMPTY;const{uri:n,range:o}=t.part.location,s=yield this._resolverService.createModelReference(n);try{const d=s.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(d)?z0(this._languageFeaturesService.hoverProvider,d,new di.L(o.startLineNumber,o.startColumn),e).filter(p=>!(0,Zo.CP)(p.hover.contents)).map(p=>new Yl(this,t.item.anchor.range,p.hover.contents,2+p.ordinal)):Bn.Aq.EMPTY}finally{s.dispose()}})}};R_=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([ng(1,or.O),ng(2,na.v4),ng(3,Jo.Ui),ng(4,Cr.S),ng(5,Ui.p)],R_),(0,Qe._K)(Yd.ID,Yd),Vd.register(R_);class uD{constructor(t,e,n){this._editRange=t,this._originalSelection=e,this._text=n}getEditOperations(t,e){e.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(t,e){const o=e.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new ci.Y(o.endLineNumber,Math.min(this._originalSelection.positionColumn,o.endColumn),o.endLineNumber,Math.min(this._originalSelection.positionColumn,o.endColumn)):new ci.Y(o.endLineNumber,o.endColumn-this._text.length,o.endLineNumber,o.endColumn)}}let $c=class M1{constructor(t,e){this.decorationIds=[],this.editor=t,this.editorWorkerService=e}static get(t){return t.getContribution(M1.ID)}dispose(){}run(t,e){this.currentRequest&&this.currentRequest.cancel();const n=this.editor.getSelection(),o=this.editor.getModel();if(!o||!n)return;let s=n;if(s.startLineNumber!==s.endLineNumber)return;const d=new Pl.yy(this.editor,5),p=o.uri;return this.editorWorkerService.canNavigateValueSet(p)?(this.currentRequest=(0,Bn.PG)(V=>this.editorWorkerService.navigateValueSet(p,s,e)),this.currentRequest.then(V=>{if(!(V&&V.range&&V.value&&d.validate(this.editor)))return;let H=kt.e.lift(V.range),U=V.range,ne=V.value.length-(s.endColumn-s.startColumn);U={startLineNumber:U.startLineNumber,startColumn:U.startColumn,endLineNumber:U.endLineNumber,endColumn:U.startColumn+V.value.length},ne>1&&(s=new ci.Y(s.startLineNumber,s.startColumn,s.endLineNumber,s.endColumn+ne-1));const be=new uD(H,s,V.value);this.editor.pushUndoStop(),this.editor.executeCommand(t,be),this.editor.pushUndoStop(),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[{range:U,options:M1.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=(0,Bn.Vs)(350),this.decorationRemover.then(()=>this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[])).catch(Qn.dL)}).catch(Qn.dL)):Promise.resolve(void 0)}};$c.ID="editor.contrib.inPlaceReplaceController",$c.DECORATION=r.qx.register({description:"in-place-replace",className:"valueSetReplacement"}),$c=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([function(a,t){return function(e,n){t(e,n,1)}}(0,jf.p)],$c),(0,Qe._K)($c.ID,$c),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.inPlaceReplace.up",label:De.N("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:Ct.u.writable,kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:3154,weight:100}})}run(t,e){const n=$c.get(e);return n?n.run(this.id,!0):Promise.resolve(void 0)}}),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.inPlaceReplace.down",label:De.N("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:Ct.u.writable,kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:3156,weight:100}})}run(t,e){const n=$c.get(e);return n?n.run(this.id,!1):Promise.resolve(void 0)}}),(0,A.Ic)((a,t)=>{const e=a.getColor(c.Dl);e&&t.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${e}; }`)});var F_=m(71015);(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"expandLineSelection",label:De.N("expandLineSelection","Expand Line Selection"),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:Ct.u.textInputFocus,primary:2090}})}run(t,e,n){if(n=n||{},!e.hasModel())return;const o=e._getViewModel();o.model.pushStackElement(),o.setCursorStates(n.source,3,F_.P.expandLineSelection(o,o.getCursorStates())),o.revealPrimaryCursor(n.source,!0)}});class _D{constructor(t,e){this._selection=t,this._cursors=e,this._selectionId=null}getEditOperations(t,e){const n=function(a,t){t.sort((d,p)=>d.lineNumber===p.lineNumber?d.column-p.column:d.lineNumber-p.lineNumber);for(let d=t.length-2;d>=0;d--)t[d].lineNumber===t[d+1].lineNumber&&t.splice(d,1);const e=[];let n=0,o=0;const s=t.length;for(let d=1,p=a.getLineCount();d<=p;d++){const V=a.getLineContent(d),H=V.length+1;let U=0;if(o<s&&t[o].lineNumber===d&&(U=t[o].column,o++,U===H)||0===V.length)continue;const ne=jn.ow(V);let be=0;if(-1===ne)be=1;else{if(ne===V.length-1)continue;be=ne+2}be=Math.max(U,be),e[n++]=is.h.delete(new kt.e(d,be,d,H))}return e}(t,this._cursors);for(let o=0,s=n.length;o<s;o++){const d=n[o];e.addEditOperation(d.range,d.text)}this._selectionId=e.trackSelection(this._selection)}computeCursorState(t,e){return e.getTrackedSelection(this._selectionId)}}var B_=m(8418);class jb{constructor(t,e,n){this._selection=t,this._isCopyingDown=e,this._noop=n||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(t,e){let n=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,n.startLineNumber<n.endLineNumber&&1===n.endColumn&&(this._endLineNumberDelta=1,n=n.setEndPosition(n.endLineNumber-1,t.getLineMaxColumn(n.endLineNumber-1)));let o=[];for(let d=n.startLineNumber;d<=n.endLineNumber;d++)o.push(t.getLineContent(d));const s=o.join("\n");""===s&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?e.addEditOperation(new kt.e(n.endLineNumber,t.getLineMaxColumn(n.endLineNumber),n.endLineNumber+1,1),n.endLineNumber===t.getLineCount()?"":"\n"):this._isCopyingDown?e.addEditOperation(new kt.e(n.startLineNumber,1,n.startLineNumber,1),s+"\n"):e.addEditOperation(new kt.e(n.endLineNumber,t.getLineMaxColumn(n.endLineNumber),n.endLineNumber,t.getLineMaxColumn(n.endLineNumber)),"\n"+s),this._selectionId=e.trackSelection(n),this._selectionDirection=this._selection.getDirection()}computeCursorState(t,e){let n=e.getTrackedSelection(this._selectionId);if(0!==this._startLineNumberDelta||0!==this._endLineNumberDelta){let o=n.startLineNumber,s=n.startColumn,d=n.endLineNumber,p=n.endColumn;0!==this._startLineNumberDelta&&(o+=this._startLineNumberDelta,s=1),0!==this._endLineNumberDelta&&(d+=this._endLineNumberDelta,p=1),n=ci.Y.createWithDirection(o,s,d,p,this._selectionDirection)}return n}}var Jm=m(70950);class bD{constructor(t,e,n){this._selection=t,this._isMovingDown=e,this._autoIndent=n,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(t,e){let n=t.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===n)return void(this._selectionId=e.trackSelection(this._selection));if(!this._isMovingDown&&1===this._selection.startLineNumber)return void(this._selectionId=e.trackSelection(this._selection));this._moveEndPositionDown=!1;let o=this._selection;o.startLineNumber<o.endLineNumber&&1===o.endColumn&&(this._moveEndPositionDown=!0,o=o.setEndPosition(o.endLineNumber-1,t.getLineMaxColumn(o.endLineNumber-1)));const{tabSize:s,indentSize:d,insertSpaces:p}=t.getOptions();let V=this.buildIndentConverter(s,d,p),H={getLineTokens:U=>t.getLineTokens(U),getLanguageId:()=>t.getLanguageId(),getLanguageIdAtPosition:(U,ne)=>t.getLanguageIdAtPosition(U,ne),getLineContent:null};if(o.startLineNumber===o.endLineNumber&&1===t.getLineMaxColumn(o.startLineNumber)){let U=o.startLineNumber,ne=this._isMovingDown?U+1:U-1;1===t.getLineMaxColumn(ne)?e.addEditOperation(new kt.e(1,1,1,1),null):(e.addEditOperation(new kt.e(U,1,U,1),t.getLineContent(ne)),e.addEditOperation(new kt.e(ne,1,ne,t.getLineMaxColumn(ne)),null)),o=new ci.Y(ne,1,ne,1)}else{let U,ne;if(this._isMovingDown){U=o.endLineNumber+1,ne=t.getLineContent(U),e.addEditOperation(new kt.e(U-1,t.getLineMaxColumn(U-1),U,t.getLineMaxColumn(U)),null);let be=ne;if(this.shouldAutoIndent(t,o)){let Ee=this.matchEnterRule(t,V,s,U,o.startLineNumber-1);if(null!==Ee){let Pt=Ee+Br(jn.V8(t.getLineContent(U)),s);be=qf(Pt,s,p)+this.trimLeft(ne)}else{H.getLineContent=Pt=>t.getLineContent(Pt===o.startLineNumber?U:Pt);let ct=Vo.zu.getGoodIndentForLine(this._autoIndent,H,t.getLanguageIdAtPosition(U,1),o.startLineNumber,V);if(null!==ct){let Pt=jn.V8(t.getLineContent(U)),Ot=Br(ct,s);Ot!==Br(Pt,s)&&(be=qf(Ot,s,p)+this.trimLeft(ne))}}e.addEditOperation(new kt.e(o.startLineNumber,1,o.startLineNumber,1),be+"\n");let Ke=this.matchEnterRuleMovingDown(t,V,s,o.startLineNumber,U,be);if(null!==Ke)0!==Ke&&this.getIndentEditsOfMovingBlock(t,e,o,s,p,Ke);else{H.getLineContent=Pt=>Pt===o.startLineNumber?be:t.getLineContent(Pt>=o.startLineNumber+1&&Pt<=o.endLineNumber+1?Pt-1:Pt);let ct=Vo.zu.getGoodIndentForLine(this._autoIndent,H,t.getLanguageIdAtPosition(U,1),o.startLineNumber+1,V);if(null!==ct){const Pt=jn.V8(t.getLineContent(o.startLineNumber)),Ot=Br(ct,s),Xt=Br(Pt,s);Ot!==Xt&&this.getIndentEditsOfMovingBlock(t,e,o,s,p,Ot-Xt)}}}else e.addEditOperation(new kt.e(o.startLineNumber,1,o.startLineNumber,1),be+"\n")}else if(U=o.startLineNumber-1,ne=t.getLineContent(U),e.addEditOperation(new kt.e(U,1,U+1,1),null),e.addEditOperation(new kt.e(o.endLineNumber,t.getLineMaxColumn(o.endLineNumber),o.endLineNumber,t.getLineMaxColumn(o.endLineNumber)),"\n"+ne),this.shouldAutoIndent(t,o)){H.getLineContent=Ee=>t.getLineContent(Ee===U?o.startLineNumber:Ee);let be=this.matchEnterRule(t,V,s,o.startLineNumber,o.startLineNumber-2);if(null!==be)0!==be&&this.getIndentEditsOfMovingBlock(t,e,o,s,p,be);else{let Ee=Vo.zu.getGoodIndentForLine(this._autoIndent,H,t.getLanguageIdAtPosition(o.startLineNumber,1),U,V);if(null!==Ee){let Ke=jn.V8(t.getLineContent(o.startLineNumber)),ct=Br(Ee,s),Pt=Br(Ke,s);ct!==Pt&&this.getIndentEditsOfMovingBlock(t,e,o,s,p,ct-Pt)}}}}this._selectionId=e.trackSelection(o)}buildIndentConverter(t,e,n){return{shiftIndent:o=>hh.U.shiftIndent(o,o.length+1,t,e,n),unshiftIndent:o=>hh.U.unshiftIndent(o,o.length+1,t,e,n)}}parseEnterResult(t,e,n,o,s){if(s){let d=s.indentation;s.indentAction===Jm.wU.None||s.indentAction===Jm.wU.Indent?d=s.indentation+s.appendText:s.indentAction===Jm.wU.IndentOutdent?d=s.indentation:s.indentAction===Jm.wU.Outdent&&(d=e.unshiftIndent(s.indentation)+s.appendText);let p=t.getLineContent(o);if(this.trimLeft(p).indexOf(this.trimLeft(d))>=0){let V=jn.V8(t.getLineContent(o)),H=jn.V8(d),U=Vo.zu.getIndentMetadata(t,o);return null!==U&&2&U&&(H=e.unshiftIndent(H)),Br(H,n)-Br(V,n)}}return null}matchEnterRuleMovingDown(t,e,n,o,s,d){if(jn.ow(d)>=0){let p=t.getLineMaxColumn(s),V=Vo.zu.getEnterAction(this._autoIndent,t,new kt.e(s,p,s,p));return this.parseEnterResult(t,e,n,o,V)}{let p=o-1;for(;p>=1;){let U=t.getLineContent(p);if(jn.ow(U)>=0)break;p--}if(p<1||o>t.getLineCount())return null;let V=t.getLineMaxColumn(p),H=Vo.zu.getEnterAction(this._autoIndent,t,new kt.e(p,V,p,V));return this.parseEnterResult(t,e,n,o,H)}}matchEnterRule(t,e,n,o,s,d){let p=s;for(;p>=1;){let U;if(U=p===s&&void 0!==d?d:t.getLineContent(p),jn.ow(U)>=0)break;p--}if(p<1||o>t.getLineCount())return null;let V=t.getLineMaxColumn(p),H=Vo.zu.getEnterAction(this._autoIndent,t,new kt.e(p,V,p,V));return this.parseEnterResult(t,e,n,o,H)}trimLeft(t){return t.replace(/^\s+/,"")}shouldAutoIndent(t,e){if(this._autoIndent<4||!t.isCheapToTokenize(e.startLineNumber))return!1;let n=t.getLanguageIdAtPosition(e.startLineNumber,1);return!(n!==t.getLanguageIdAtPosition(e.endLineNumber,1)||null===Vo.zu.getIndentRulesSupport(n))}getIndentEditsOfMovingBlock(t,e,n,o,s,d){for(let p=n.startLineNumber;p<=n.endLineNumber;p++){let V=t.getLineContent(p),H=jn.V8(V),be=qf(Br(H,o)+d,o,s);be!==H&&(e.addEditOperation(new kt.e(p,1,p,H.length+1),be),p===n.endLineNumber&&n.endColumn<=H.length+1&&""===be&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(t,e){let n=e.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&n.startLineNumber<n.endLineNumber&&(n=n.setEndPosition(n.endLineNumber,2)),n}}let W_=(()=>{class a{constructor(e,n){this.selection=e,this.descending=n,this.selectionId=null}static getCollator(){return a._COLLATOR||(a._COLLATOR=new Intl.Collator),a._COLLATOR}getEditOperations(e,n){let o=function(a,t,e){let n=Kb(a,t,e);return n?is.h.replace(new kt.e(n.startLineNumber,1,n.endLineNumber,a.getLineMaxColumn(n.endLineNumber)),n.after.join("\n")):null}(e,this.selection,this.descending);o&&n.addEditOperation(o.range,o.text),this.selectionId=n.trackSelection(this.selection)}computeCursorState(e,n){return n.getTrackedSelection(this.selectionId)}static canRun(e,n,o){if(null===e)return!1;let s=Kb(e,n,o);if(!s)return!1;for(let d=0,p=s.before.length;d<p;d++)if(s.before[d]!==s.after[d])return!0;return!1}}return a._COLLATOR=null,a})();function Kb(a,t,e){let n=t.startLineNumber,o=t.endLineNumber;if(1===t.endColumn&&o--,n>=o)return null;let s=[];for(let p=n;p<=o;p++)s.push(a.getLineContent(p));let d=s.slice(0);return d.sort(W_.getCollator().compare),!0===e&&(d=d.reverse()),{startLineNumber:n,endLineNumber:o,before:s,after:d}}class $b extends Qe.R6{constructor(t,e){super(e),this.down=t}run(t,e){if(!e.hasModel())return;const n=e.getSelections().map((d,p)=>({selection:d,index:p,ignore:!1}));n.sort((d,p)=>kt.e.compareRangesUsingStarts(d.selection,p.selection));let o=n[0];for(let d=1;d<n.length;d++){const p=n[d];o.selection.endLineNumber===p.selection.startLineNumber&&(o.index<p.index?p.ignore=!0:(o.ignore=!0,o=p))}const s=[];for(const d of n)s.push(new jb(d.selection,this.down,d.ignore));e.pushUndoStop(),e.executeCommands(this.id,s),e.pushUndoStop()}}class Zb extends Qe.R6{constructor(t,e){super(e),this.down=t}run(t,e){let n=[],o=e.getSelections()||[];const s=e.getOption(9);for(const d of o)n.push(new bD(d,this.down,s));e.pushUndoStop(),e.executeCommands(this.id,n),e.pushUndoStop()}}class Gb extends Qe.R6{constructor(t,e){super(e),this.descending=t}run(t,e){const n=e.getSelections()||[];for(const s of n)if(!W_.canRun(e.getModel(),s,this.descending))return;let o=[];for(let s=0,d=n.length;s<d;s++)o[s]=new W_(n[s],this.descending);e.pushUndoStop(),e.executeCommands(this.id,o),e.pushUndoStop()}}let ND=(()=>{class a extends Qe.R6{constructor(){super({id:a.ID,label:De.N("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:Ct.u.writable,kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:(0,Go.gx)(2089,2102),weight:100}})}run(e,n,o){let s=[];"auto-save"===o.reason&&(s=(n.getSelections()||[]).map(V=>new di.L(V.positionLineNumber,V.positionColumn)));let d=n.getSelection();if(null===d)return;let p=new _D(d,s);n.pushUndoStop(),n.executeCommands(this.id,[p]),n.pushUndoStop()}}return a.ID="editor.action.trimTrailingWhitespace",a})();class Qb extends Qe.R6{run(t,e){if(!e.hasModel())return;const n=e.getSelection();let o=this._getRangesToDelete(e),s=[];for(let V=0,H=o.length-1;V<H;V++){let U=o[V],ne=o[V+1];null===kt.e.intersectRanges(U,ne)?s.push(U):o[V+1]=kt.e.plusRange(U,ne)}s.push(o[o.length-1]);let d=this._getEndCursorState(n,s),p=s.map(V=>is.h.replace(V,""));e.pushUndoStop(),e.executeEdits(this.id,p,d),e.pushUndoStop()}}class Xm extends Qe.R6{run(t,e){const n=e.getSelections();if(null===n)return;const o=e.getModel();if(null===o)return;const s=e.getOption(117),d=[];for(const p of n)if(p.isEmpty()){const V=p.getStartPosition(),H=e.getConfiguredWordAtPosition(V);if(!H)continue;const U=new kt.e(V.lineNumber,H.startColumn,V.lineNumber,H.endColumn),ne=o.getValueInRange(U);d.push(is.h.replace(U,this._modifyText(ne,s)))}else{const V=o.getValueInRange(p);d.push(is.h.replace(p,this._modifyText(V,s)))}e.pushUndoStop(),e.executeEdits(this.id,d),e.pushUndoStop()}}class V_{constructor(t,e){this._pattern=t,this._flags=e,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch{}}return this._actual}isSupported(){return null!==this.get()}}class ig extends Xm{constructor(){super({id:"editor.action.transformToTitlecase",label:De.N("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:Ct.u.writable})}_modifyText(t,e){const n=ig.titleBoundary.get();return n?t.toLocaleLowerCase().replace(n,o=>o.toLocaleUpperCase()):t}}ig.titleBoundary=new V_("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class Zc extends Xm{constructor(){super({id:"editor.action.transformToSnakecase",label:De.N("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:Ct.u.writable})}_modifyText(t,e){const n=Zc.caseBoundary.get(),o=Zc.singleLetters.get();return n&&o?t.replace(n,"$1_$2").replace(o,"$1_$2$3").toLocaleLowerCase():t}}Zc.caseBoundary=new V_("(\\p{Ll})(\\p{Lu})","gmu"),Zc.singleLetters=new V_("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu"),(0,Qe.Qr)(class extends $b{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:De.N("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:Ct.u.writable,kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:_.eH.MenubarSelectionMenu,group:"2_line",title:De.N({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}}),(0,Qe.Qr)(class extends $b{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:De.N("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:Ct.u.writable,kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:_.eH.MenubarSelectionMenu,group:"2_line",title:De.N({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}}),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.duplicateSelection",label:De.N("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:Ct.u.writable,menuOpts:{menuId:_.eH.MenubarSelectionMenu,group:"2_line",title:De.N({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(t,e,n){if(!e.hasModel())return;const o=[],s=e.getSelections(),d=e.getModel();for(const p of s)if(p.isEmpty())o.push(new jb(p,!0));else{const V=new ci.Y(p.endLineNumber,p.endColumn,p.endLineNumber,p.endColumn);o.push(new xt.OY(V,d.getValueInRange(p)))}e.pushUndoStop(),e.executeCommands(this.id,o),e.pushUndoStop()}}),(0,Qe.Qr)(class extends Zb{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:De.N("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:Ct.u.writable,kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:_.eH.MenubarSelectionMenu,group:"2_line",title:De.N({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}}),(0,Qe.Qr)(class extends Zb{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:De.N("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:Ct.u.writable,kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:_.eH.MenubarSelectionMenu,group:"2_line",title:De.N({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}}),(0,Qe.Qr)(class extends Gb{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:De.N("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:Ct.u.writable})}}),(0,Qe.Qr)(class extends Gb{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:De.N("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:Ct.u.writable})}}),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.removeDuplicateLines",label:De.N("lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:Ct.u.writable})}run(t,e){if(!e.hasModel())return;let n=e.getModel();if(1===n.getLineCount()&&1===n.getLineMaxColumn(1))return;let o=[],s=[],d=0;for(let p of e.getSelections()){let V=new Set,H=[];for(let Ee=p.startLineNumber;Ee<=p.endLineNumber;Ee++){let Ke=n.getLineContent(Ee);V.has(Ke)||(H.push(Ke),V.add(Ke))}let U=new ci.Y(p.startLineNumber,1,p.endLineNumber,n.getLineMaxColumn(p.endLineNumber)),ne=p.startLineNumber-d,be=new ci.Y(ne,1,ne+H.length-1,H[H.length-1].length);o.push(is.h.replace(U,H.join("\n"))),s.push(be),d+=p.endLineNumber-p.startLineNumber+1-H.length}e.pushUndoStop(),e.executeEdits(this.id,o,s),e.pushUndoStop()}}),(0,Qe.Qr)(ND),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.deleteLines",label:De.N("lines.delete","Delete Line"),alias:"Delete Line",precondition:Ct.u.writable,kbOpts:{kbExpr:Ct.u.textInputFocus,primary:3113,weight:100}})}run(t,e){if(!e.hasModel())return;let n=this._getLinesToRemove(e),o=e.getModel();if(1===o.getLineCount()&&1===o.getLineMaxColumn(1))return;let s=0,d=[],p=[];for(let V=0,H=n.length;V<H;V++){const U=n[V];let ne=U.startLineNumber,be=U.endLineNumber,Ee=1,Ke=o.getLineMaxColumn(be);be<o.getLineCount()?(be+=1,Ke=1):ne>1&&(ne-=1,Ee=o.getLineMaxColumn(ne)),d.push(is.h.replace(new ci.Y(ne,Ee,be,Ke),"")),p.push(new ci.Y(ne-s,U.positionColumn,ne-s,U.positionColumn)),s+=U.endLineNumber-U.startLineNumber+1}e.pushUndoStop(),e.executeEdits(this.id,d,p),e.pushUndoStop()}_getLinesToRemove(t){let e=t.getSelections().map(s=>{let d=s.endLineNumber;return s.startLineNumber<s.endLineNumber&&1===s.endColumn&&(d-=1),{startLineNumber:s.startLineNumber,selectionStartColumn:s.selectionStartColumn,endLineNumber:d,positionColumn:s.positionColumn}});e.sort((s,d)=>s.startLineNumber===d.startLineNumber?s.endLineNumber-d.endLineNumber:s.startLineNumber-d.startLineNumber);let n=[],o=e[0];for(let s=1;s<e.length;s++)o.endLineNumber+1>=e[s].startLineNumber?o.endLineNumber=e[s].endLineNumber:(n.push(o),o=e[s]);return n.push(o),n}}),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.indentLines",label:De.N("lines.indent","Indent Line"),alias:"Indent Line",precondition:Ct.u.writable,kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:2137,weight:100}})}run(t,e){const n=e._getViewModel();!n||(e.pushUndoStop(),e.executeCommands(this.id,B_.u.indent(n.cursorConfig,e.getModel(),e.getSelections())),e.pushUndoStop())}}),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.outdentLines",label:De.N("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:Ct.u.writable,kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:2135,weight:100}})}run(t,e){el.wk.Outdent.runEditorCommand(t,e,null)}}),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.insertLineBefore",label:De.N("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:Ct.u.writable,kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:3075,weight:100}})}run(t,e){const n=e._getViewModel();!n||(e.pushUndoStop(),e.executeCommands(this.id,B_.u.lineInsertBefore(n.cursorConfig,e.getModel(),e.getSelections())))}}),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.insertLineAfter",label:De.N("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:Ct.u.writable,kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:2051,weight:100}})}run(t,e){const n=e._getViewModel();!n||(e.pushUndoStop(),e.executeCommands(this.id,B_.u.lineInsertAfter(n.cursorConfig,e.getModel(),e.getSelections())))}}),(0,Qe.Qr)(class extends Qb{constructor(){super({id:"deleteAllLeft",label:De.N("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:Ct.u.writable,kbOpts:{kbExpr:Ct.u.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(t,e){let n=null,o=[],s=0;return e.forEach(d=>{let p;if(1===d.endColumn&&s>0){let V=d.startLineNumber-s;p=new ci.Y(V,d.startColumn,V,d.startColumn)}else p=new ci.Y(d.startLineNumber,d.startColumn,d.startLineNumber,d.startColumn);s+=d.endLineNumber-d.startLineNumber,d.intersectRanges(t)?n=p:o.push(p)}),n&&o.unshift(n),o}_getRangesToDelete(t){let e=t.getSelections();if(null===e)return[];let n=e,o=t.getModel();return null===o?[]:(n.sort(kt.e.compareRangesUsingStarts),n=n.map(s=>{if(s.isEmpty()){if(1===s.startColumn){let d=Math.max(1,s.startLineNumber-1),p=1===s.startLineNumber?1:o.getLineContent(d).length+1;return new kt.e(d,p,s.startLineNumber,1)}return new kt.e(s.startLineNumber,1,s.startLineNumber,s.startColumn)}return new kt.e(s.startLineNumber,1,s.endLineNumber,s.endColumn)}),n)}}),(0,Qe.Qr)(class extends Qb{constructor(){super({id:"deleteAllRight",label:De.N("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:Ct.u.writable,kbOpts:{kbExpr:Ct.u.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(t,e){let n=null,o=[];for(let s=0,d=e.length,p=0;s<d;s++){let V=e[s],H=new ci.Y(V.startLineNumber-p,V.startColumn,V.startLineNumber-p,V.startColumn);V.intersectRanges(t)?n=H:o.push(H)}return n&&o.unshift(n),o}_getRangesToDelete(t){let e=t.getModel();if(null===e)return[];let n=t.getSelections();if(null===n)return[];let o=n.map(s=>{if(s.isEmpty()){const d=e.getLineMaxColumn(s.startLineNumber);return s.startColumn===d?new kt.e(s.startLineNumber,s.startColumn,s.startLineNumber+1,1):new kt.e(s.startLineNumber,s.startColumn,s.startLineNumber,d)}return s});return o.sort(kt.e.compareRangesUsingStarts),o}}),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.joinLines",label:De.N("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:Ct.u.writable,kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(t,e){let n=e.getSelections();if(null===n)return;let o=e.getSelection();if(null===o)return;n.sort(kt.e.compareRangesUsingStarts);let s=[],d=n.reduce((be,Ee)=>be.isEmpty()?be.endLineNumber===Ee.startLineNumber?(o.equalsSelection(be)&&(o=Ee),Ee):Ee.startLineNumber>be.endLineNumber+1?(s.push(be),Ee):new ci.Y(be.startLineNumber,be.startColumn,Ee.endLineNumber,Ee.endColumn):Ee.startLineNumber>be.endLineNumber?(s.push(be),Ee):new ci.Y(be.startLineNumber,be.startColumn,Ee.endLineNumber,Ee.endColumn));s.push(d);let p=e.getModel();if(null===p)return;let V=[],H=[],U=o,ne=0;for(let be=0,Ee=s.length;be<Ee;be++){let Xt,on,Ke=s[be],ct=Ke.startLineNumber,Pt=1,Ot=0,Wn=p.getLineContent(Ke.endLineNumber).length-Ke.endColumn;if(Ke.isEmpty()||Ke.startLineNumber===Ke.endLineNumber){let Si=Ke.getStartPosition();Si.lineNumber<p.getLineCount()?(Xt=ct+1,on=p.getLineMaxColumn(Xt)):(Xt=Si.lineNumber,on=p.getLineMaxColumn(Si.lineNumber))}else Xt=Ke.endLineNumber,on=p.getLineMaxColumn(Xt);let Pn=p.getLineContent(ct);for(let Si=ct+1;Si<=Xt;Si++){let as=p.getLineContent(Si),Ws=p.getLineFirstNonWhitespaceColumn(Si);if(Ws>=1){let Vs=!0;""===Pn&&(Vs=!1),Vs&&(" "===Pn.charAt(Pn.length-1)||"\t"===Pn.charAt(Pn.length-1))&&(Vs=!1,Pn=Pn.replace(/[\s\uFEFF\xA0]+$/g," "));let wa=as.substr(Ws-1);Pn+=(Vs?" ":"")+wa,Ot=Vs?wa.length+1:wa.length}else Ot=0}let Ai=new kt.e(ct,Pt,Xt,on);if(!Ai.isEmpty()){let Si;Ke.isEmpty()?(V.push(is.h.replace(Ai,Pn)),Si=new ci.Y(Ai.startLineNumber-ne,Pn.length-Ot+1,ct-ne,Pn.length-Ot+1)):Ke.startLineNumber===Ke.endLineNumber?(V.push(is.h.replace(Ai,Pn)),Si=new ci.Y(Ke.startLineNumber-ne,Ke.startColumn,Ke.endLineNumber-ne,Ke.endColumn)):(V.push(is.h.replace(Ai,Pn)),Si=new ci.Y(Ke.startLineNumber-ne,Ke.startColumn,Ke.startLineNumber-ne,Pn.length-Wn)),null!==kt.e.intersectRanges(Ai,o)?U=Si:H.push(Si)}ne+=Ai.endLineNumber-Ai.startLineNumber}H.unshift(U),e.pushUndoStop(),e.executeEdits(this.id,V,H),e.pushUndoStop()}}),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.transpose",label:De.N("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:Ct.u.writable})}run(t,e){let n=e.getSelections();if(null===n)return;let o=e.getModel();if(null===o)return;let s=[];for(let d=0,p=n.length;d<p;d++){let V=n[d];if(!V.isEmpty())continue;let H=V.getStartPosition(),U=o.getLineMaxColumn(H.lineNumber);if(H.column>=U){if(H.lineNumber===o.getLineCount())continue;let ne=new kt.e(H.lineNumber,Math.max(1,H.column-1),H.lineNumber+1,1),be=o.getValueInRange(ne).split("").reverse().join("");s.push(new xt.T4(new ci.Y(H.lineNumber,Math.max(1,H.column-1),H.lineNumber+1,1),be))}else{let ne=new kt.e(H.lineNumber,Math.max(1,H.column-1),H.lineNumber,H.column+1),be=o.getValueInRange(ne).split("").reverse().join("");s.push(new xt.hP(ne,be,new ci.Y(H.lineNumber,H.column+1,H.lineNumber,H.column+1)))}}e.pushUndoStop(),e.executeCommands(this.id,s),e.pushUndoStop()}}),(0,Qe.Qr)(class extends Xm{constructor(){super({id:"editor.action.transformToUppercase",label:De.N("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:Ct.u.writable})}_modifyText(t,e){return t.toLocaleUpperCase()}}),(0,Qe.Qr)(class extends Xm{constructor(){super({id:"editor.action.transformToLowercase",label:De.N("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:Ct.u.writable})}_modifyText(t,e){return t.toLocaleLowerCase()}}),Zc.caseBoundary.isSupported()&&Zc.singleLetters.isSupported()&&(0,Qe.Qr)(Zc),ig.titleBoundary.isSupported()&&(0,Qe.Qr)(ig);var qm=function(a,t){return function(e,n){t(e,n,a)}},H_=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})};const Yb=new Qt.uy("LinkedEditingInputVisible",!1),Jb="linked-editing-decoration";let Gc=class N1 extends Tt.JT{constructor(t,e,n,o,s){super(),this.languageConfigurationService=o,this._localToDispose=this._register(new Tt.SL),this._editor=t,this._providers=n.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=Yb.bindTo(e),this._debounceInformation=s.for(this._providers,"Linked Editing",{min:200}),this._currentDecorations=[],this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new Tt.SL),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(d=>{(d.hasChanged(62)||d.hasChanged(82))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}static get(t){return t.getContribution(N1.ID)}reinitialize(t){const e=this._editor.getModel(),n=null!==e&&(this._editor.getOption(62)||this._editor.getOption(82))&&this._providers.has(e);if(n===this._enabled&&!t||(this._enabled=n,this.clearRanges(),this._localToDispose.clear(),!n||null===e))return;this._localToDispose.add($n.ju.runAndSubscribe(e.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(e.getLanguageId()).getWordDefinition()}));const o=new Bn.vp(this._debounceInformation.get(e)),s=()=>{var V;this._rangeUpdateTriggerPromise=o.trigger(()=>this.updateRanges(),null!==(V=this._debounceDuration)&&void 0!==V?V:this._debounceInformation.get(e))},d=new Bn.vp(0),p=V=>{this._rangeSyncTriggerPromise=d.trigger(()=>this._syncRanges(V))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{s()})),this._localToDispose.add(this._editor.onDidChangeModelContent(V=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const H=e.getDecorationRange(this._currentDecorations[0]);if(H&&V.changes.every(U=>H.intersectRanges(U.range)))return void p(this._currentDecorations)}s()})),this._localToDispose.add({dispose:()=>{o.dispose(),d.dispose()}}),this.updateRanges()}_syncRanges(t){if(!this._editor.hasModel()||t!==this._currentDecorations||0===t.length)return;const e=this._editor.getModel(),n=e.getDecorationRange(t[0]);if(!n||n.startLineNumber!==n.endLineNumber)return this.clearRanges();const o=e.getValueInRange(n);if(this._currentWordPattern){const d=o.match(this._currentWordPattern);if((d?d[0].length:0)!==o.length)return this.clearRanges()}let s=[];for(let d=1,p=t.length;d<p;d++){const V=e.getDecorationRange(t[d]);if(V)if(V.startLineNumber!==V.endLineNumber)s.push({range:V,text:o});else{let H=e.getValueInRange(V),U=o,ne=V.startColumn,be=V.endColumn;const Ee=jn.Mh(H,U);ne+=Ee,H=H.substr(Ee),U=U.substr(Ee);const Ke=jn.P1(H,U);be-=Ke,H=H.substr(0,H.length-Ke),U=U.substr(0,U.length-Ke),(ne!==be||0!==U.length)&&s.push({range:new kt.e(V.startLineNumber,ne,V.endLineNumber,be),text:U})}}if(0!==s.length)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const d=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",s),this._editor._getViewModel().setPrevEditOperationType(d)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,[]),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(t=!1){return H_(this,void 0,void 0,function*(){if(!this._editor.hasModel())return void this.clearRanges();const e=this._editor.getPosition();if(!this._enabled&&!t||this._editor.getSelections().length>1)return void this.clearRanges();const n=this._editor.getModel(),o=n.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===o){if(e.equals(this._currentRequestPosition))return;if(this._currentDecorations&&this._currentDecorations.length>0){const d=n.getDecorationRange(this._currentDecorations[0]);if(d&&d.containsPosition(e))return}}this._currentRequestPosition=e,this._currentRequestModelVersion=o;const s=(0,Bn.PG)(d=>H_(this,void 0,void 0,function*(){try{const p=new ea.G(!1),V=yield Xb(this._providers,n,e,d);if(this._debounceInformation.update(n,p.elapsed()),s!==this._currentRequest||(this._currentRequest=null,o!==n.getVersionId()))return;let H=[];(null==V?void 0:V.ranges)&&(H=V.ranges),this._currentWordPattern=(null==V?void 0:V.wordPattern)||this._languageWordPattern;let U=!1;for(let be=0,Ee=H.length;be<Ee;be++)if(kt.e.containsPosition(H[be],e)){if(U=!0,0!==be){const Ke=H[be];H.splice(be,1),H.unshift(Ke)}break}if(!U)return void this.clearRanges();const ne=H.map(be=>({range:be,options:N1.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,ne)}catch(p){(0,Qn.n2)(p)||(0,Qn.dL)(p),(this._currentRequest===s||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=s,s})}};Gc.ID="editor.contrib.linkedEditing",Gc.DECORATION=r.qx.register({description:"linked-editing",stickiness:0,className:Jb}),Gc=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([qm(1,Qt.i6),qm(2,Ui.p),qm(3,Vo.c_),qm(4,pr.A)],Gc);const UD=Qe._l.bindToContribution(Gc.get);function Xb(a,t,e,n){const o=a.ordered(t);return(0,Bn.Ps)(o.map(s=>()=>H_(this,void 0,void 0,function*(){try{return yield s.provideLinkedEditingRanges(t,e,n)}catch(d){return void(0,Qn.Cp)(d)}})),s=>!!s&&ro.Of(null==s?void 0:s.ranges))}(0,Qe.fK)(new UD({id:"cancelLinkedEditingInput",precondition:Yb,handler:a=>a.clearRanges(),kbOpts:{kbExpr:Ct.u.editorTextFocus,weight:199,primary:9,secondary:[1033]}}));const jD=(0,y.P6G)("editor.linkedEditingBackground",{dark:ji.Il.fromHex("#f00").transparent(.3),light:ji.Il.fromHex("#f00").transparent(.3),hc:ji.Il.fromHex("#f00").transparent(.3)},De.N("editorLinkedEditingBackground","Background color when the editor auto renames on type."));(0,A.Ic)((a,t)=>{const e=a.getColor(jD);e&&t.addRule(`.monaco-editor .${Jb} { background: ${e}; border-left-color: ${e}; }`)}),(0,Qe.sb)("_executeLinkedEditingProvider",(a,t,e)=>{const{linkedEditingRangeProvider:n}=a.get(Ui.p);return Xb(n,t,e,Zn.T.None)}),(0,Qe._K)(Gc.ID,Gc),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.linkedEditing",label:De.N("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:Qt.Ao.and(Ct.u.writable,Ct.u.hasRenameProvider),kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:3132,weight:100}})}runCommand(t,e){const n=t.get(In.$),[o,s]=Array.isArray(e)&&e||[void 0,void 0];return wo.o.isUri(o)&&di.L.isIPosition(s)?n.openCodeEditor({resource:o},n.getActiveCodeEditor()).then(d=>{!d||(d.setPosition(s),d.invokeWithinContext(p=>(this.reportTelemetry(p,d),this.run(p,d))))},Qn.dL):super.runCommand(t,e)}run(t,e){const n=Gc.get(e);return n?Promise.resolve(n.updateRanges(!0)):Promise.resolve()}}),m(56413);var qb=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})};class KD{constructor(t,e){this._link=t,this._provider=e}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(t){return qb(this,void 0,void 0,function*(){return this._link.url?this._link.url:"function"==typeof this._provider.resolveLink?Promise.resolve(this._provider.resolveLink(this._link,t)).then(e=>(this._link=e||this._link,this._link.url?this.resolve(t):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}class ep{constructor(t){this._disposables=new Tt.SL;let e=[];for(const[n,o]of t){const s=n.links.map(d=>new KD(d,o));e=ep._union(e,s),(0,Tt.Wf)(n)&&this._disposables.add(n)}this.links=e}dispose(){this._disposables.dispose(),this.links.length=0}static _union(t,e){let o,s,d,p,n=[];for(o=0,d=0,s=t.length,p=e.length;o<s&&d<p;){const V=t[o],H=e[d];kt.e.areIntersectingOrTouching(V.range,H.range)?o++:kt.e.compareRangesUsingStarts(V.range,H.range)<0?(n.push(V),o++):(n.push(H),d++)}for(;o<s;o++)n.push(t[o]);for(;d<p;d++)n.push(e[d]);return n}}function ev(a,t,e){const n=[],o=a.ordered(t).reverse().map((s,d)=>Promise.resolve(s.provideLinks(t,e)).then(p=>{p&&(n[d]=[p,s])},Qn.Cp));return Promise.all(o).then(()=>{const s=new ep((0,ro.kX)(n));return e.isCancellationRequested?(s.dispose(),new ep([])):s})}eo.P0.registerCommand("_executeLinkProvider",(a,...t)=>qb(void 0,void 0,void 0,function*(){let[e,n]=t;(0,$i.p_)(e instanceof wo.o),"number"!=typeof n&&(n=0);const{linkProvider:o}=a.get(Ui.p),s=a.get(qr.q).getModel(e);if(!s)return[];const d=yield ev(o,s,Zn.T.None);if(!d)return[];for(let V=0;V<Math.min(n,d.links.length);V++)yield d.links[V].resolve(Zn.T.None);const p=d.links.slice(0);return d.dispose(),p}));var tp=function(a,t){return function(e,n){t(e,n,a)}};let mh=class _w extends Tt.JT{constructor(t,e,n,o,s){super(),this.editor=t,this.openerService=e,this.notificationService=n,this.languageFeaturesService=o,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=s.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new Bn.pY(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const d=this._register(new ff(t));this._register(d.onMouseMoveOrRelevantKeyDown(([p,V])=>{this._onEditorMouseMove(p,V)})),this._register(d.onExecute(p=>{this.onEditorMouseUp(p)})),this._register(d.onCancel(p=>{this.cleanUpActiveLinkDecoration()})),this._register(t.onDidChangeConfiguration(p=>{!p.hasChanged(63)||(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(t.onDidChangeModelContent(p=>{!this.editor.hasModel()||this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(t.onDidChangeModel(p=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(t.onDidChangeModelLanguage(p=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(p=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}static get(t){return t.getContribution(_w.ID)}computeLinksNow(){return function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})}(this,void 0,void 0,function*(){if(!this.editor.hasModel()||!this.editor.getOption(63))return;const t=this.editor.getModel();if(this.providers.has(t)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=(0,Bn.PG)(e=>ev(this.providers,t,e));try{const e=new ea.G(!1);if(this.activeLinksList=yield this.computePromise,this.debounceInformation.update(t,e.elapsed()),t.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(e){(0,Qn.dL)(e)}finally{this.computePromise=null}}})}updateDecorations(t){const e="altKey"===this.editor.getOption(70),n=[],o=Object.keys(this.currentOccurrences);for(const p of o)n.push(this.currentOccurrences[p].decorationId);const s=[];if(t)for(const p of t)s.push(ph.decoration(p,e));const d=this.editor.deltaDecorations(n,s);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let p=0,V=d.length;p<V;p++){const H=new ph(t[p],d[p]);this.currentOccurrences[H.decorationId]=H}}_onEditorMouseMove(t,e){const n="altKey"===this.editor.getOption(70);if(this.isEnabled(t,e)){this.cleanUpActiveLinkDecoration();const o=this.getLinkOccurrence(t.target.position);o&&this.editor.changeDecorations(s=>{o.activate(s,n),this.activeLinkDecorationId=o.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const t="altKey"===this.editor.getOption(70);if(this.activeLinkDecorationId){const e=this.currentOccurrences[this.activeLinkDecorationId];e&&this.editor.changeDecorations(n=>{e.deactivate(n,t)}),this.activeLinkDecorationId=null}}onEditorMouseUp(t){if(!this.isEnabled(t))return;const e=this.getLinkOccurrence(t.target.position);!e||this.openLinkOccurrence(e,t.hasSideBySideModifier,!0)}openLinkOccurrence(t,e,n=!1){if(!this.openerService)return;const{link:o}=t;o.resolve(Zn.T.None).then(s=>{if("string"==typeof s&&this.editor.hasModel()){const d=this.editor.getModel().uri;if(d.scheme===hs.lg.file&&s.startsWith(`${hs.lg.file}:`)){const p=wo.o.parse(s);if(p.scheme===hs.lg.file){const V=Oo.z_(p);let H=null;V.startsWith("/./")?H=`.${V.substr(1)}`:V.startsWith("//./")&&(H=`.${V.substr(2)}`),H&&(s=Oo.Vo(d,H))}}}return this.openerService.open(s,{openToSide:e,fromUserGesture:n,allowContributedOpeners:!0,allowCommands:!0})},s=>{const d=s instanceof Error?s.message:s;"invalid"===d?this.notificationService.warn(De.N("invalid.url","Failed to open this link because it is not well-formed: {0}",o.url.toString())):"missing"===d?this.notificationService.warn(De.N("missing.url","Failed to open this link because its target is missing.")):(0,Qn.dL)(s)})}getLinkOccurrence(t){if(!this.editor.hasModel()||!t)return null;const e=this.editor.getModel().getDecorationsInRange({startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:t.lineNumber,endColumn:t.column},0,!0);for(const n of e){const o=this.currentOccurrences[n.id];if(o)return o}return null}isEnabled(t,e){return Boolean(6===t.target.type&&(t.hasTriggerModifier||e&&e.keyCodeIsTriggerKey))}stop(){var t;this.computeLinks.cancel(),this.activeLinksList&&(null===(t=this.activeLinksList)||void 0===t||t.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};mh.ID="editor.linkDetector",mh=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([tp(1,na.v4),tp(2,us.lT),tp(3,Ui.p),tp(4,pr.A)],mh);const tv={general:r.qx.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:r.qx.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class ph{constructor(t,e){this.link=t,this.decorationId=e}static decoration(t,e){return{range:t.range,options:ph._getOptions(t,e,!1)}}static _getOptions(t,e,n){const o=Object.assign({},n?tv.active:tv.general);return o.hoverMessage=function(a,t){const e=a.url&&/^command:/i.test(a.url.toString()),n=a.tooltip?a.tooltip:e?De.N("links.navigate.executeCmd","Execute command"):De.N("links.navigate.follow","Follow link"),o=t?$t.dz?De.N("links.navigate.kb.meta.mac","cmd + click"):De.N("links.navigate.kb.meta","ctrl + click"):$t.dz?De.N("links.navigate.kb.alt.mac","option + click"):De.N("links.navigate.kb.alt","alt + click");if(a.url){let s="";if(/^command:/i.test(a.url.toString())){const p=a.url.toString().match(/^command:([^?#]+)/);p&&(s=` "${De.N("tooltip.explanation","Execute command {0}",p[1])}"`)}return new Zo.W5("",!0).appendMarkdown(`[${n}](${a.url.toString(!0).replace(/ /g,"%20")}${s}) (${o})`)}return(new Zo.W5).appendText(`${n} (${o})`)}(t,e),o}activate(t,e){t.changeDecorationOptions(this.decorationId,ph._getOptions(this.link,e,!0))}deactivate(t,e){t.changeDecorationOptions(this.decorationId,ph._getOptions(this.link,e,!1))}}function _h(a,t){const e=t.filter(n=>!a.find(o=>o.equals(n)));if(e.length>=1){const n=e.map(s=>`line ${s.viewState.position.lineNumber} column ${s.viewState.position.column}`).join(", "),o=1===e.length?De.N("cursorAdded","Cursor added: {0}",n):De.N("cursorsAdded","Cursors added: {0}",n);(0,$s.i7)(o)}}(0,Qe._K)(mh.ID,mh),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.openLink",label:De.N("label","Open Link"),alias:"Open Link",precondition:void 0})}run(t,e){const n=mh.get(e);if(!n||!e.hasModel())return;const o=e.getSelections();for(const s of o){const d=n.getLinkOccurrence(s.getEndPosition());d&&n.openLinkOccurrence(d,!1)}}}),(0,A.Ic)((a,t)=>{const e=a.getColor(y._Yy);e&&t.addRule(`.monaco-editor .detected-link-active { color: ${e} !important; }`)});class np{constructor(t,e,n){this.selections=t,this.revealRange=e,this.revealScrollType=n}}class og{constructor(t,e,n,o,s,d,p){this._editor=t,this.findController=e,this.isDisconnectedFromFindController=n,this.searchText=o,this.wholeWord=s,this.matchCase=d,this.currentMatch=p}static create(t,e){if(!t.hasModel())return null;const n=e.getState();if(!t.hasTextFocus()&&n.isRevealed&&n.searchString.length>0)return new og(t,e,!1,n.searchString,n.wholeWord,n.matchCase,null);let s,d,o=!1;const p=t.getSelections();1===p.length&&p[0].isEmpty()?(o=!0,s=!0,d=!0):(s=n.wholeWord,d=n.matchCase);const V=t.getSelection();let H,U=null;if(V.isEmpty()){const ne=t.getConfiguredWordAtPosition(V.getStartPosition());if(!ne)return null;H=ne.word,U=new ci.Y(V.startLineNumber,ne.startColumn,V.startLineNumber,ne.endColumn)}else H=t.getModel().getValueInRange(V).replace(/\r\n/g,"\n");return new og(t,e,o,H,s,d,U)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const t=this._getNextMatch();if(!t)return null;const e=this._editor.getSelections();return new np(e.concat(t),t,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const t=this._getNextMatch();if(!t)return null;const e=this._editor.getSelections();return new np(e.slice(0,e.length-1).concat(t),t,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const o=this.currentMatch;return this.currentMatch=null,o}this.findController.highlightFindOptions();const t=this._editor.getSelections(),e=t[t.length-1],n=this._editor.getModel().findNextMatch(this.searchText,e.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(117):null,!1);return n?new ci.Y(n.range.startLineNumber,n.range.startColumn,n.range.endLineNumber,n.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const t=this._getPreviousMatch();if(!t)return null;const e=this._editor.getSelections();return new np(e.concat(t),t,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const t=this._getPreviousMatch();if(!t)return null;const e=this._editor.getSelections();return new np(e.slice(0,e.length-1).concat(t),t,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const o=this.currentMatch;return this.currentMatch=null,o}this.findController.highlightFindOptions();const t=this._editor.getSelections(),e=t[t.length-1],n=this._editor.getModel().findPreviousMatch(this.searchText,e.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(117):null,!1);return n?new ci.Y(n.range.startLineNumber,n.range.startColumn,n.range.endLineNumber,n.range.endColumn):null}selectAll(){return this._editor.hasModel()?(this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(117):null,!1,1073741824)):[]}}let ip=(()=>{class a extends Tt.JT{constructor(e){super(),this._sessionDispose=this._register(new Tt.SL),this._editor=e,this._ignoreSelectionChange=!1,this._session=null}static get(e){return e.getContribution(a.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(e){if(!this._session){const n=og.create(this._editor,e);if(!n)return;this._session=n;const o={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(o.wholeWordOverride=1,o.matchCaseOverride=1,o.isRegexOverride=2),e.getState().change(o,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(s=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(e.getState().onFindReplaceStateChange(s=>{(s.matchCase||s.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const e={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(e,!1)}this._session=null}_setSelections(e){this._ignoreSelectionChange=!0,this._editor.setSelections(e),this._ignoreSelectionChange=!1}_expandEmptyToWord(e,n){if(!n.isEmpty())return n;const o=this._editor.getConfiguredWordAtPosition(n.getStartPosition());return o?new ci.Y(n.startLineNumber,o.startColumn,n.startLineNumber,o.endColumn):n}_applySessionResult(e){!e||(this._setSelections(e.selections),e.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(e.revealRange,e.revealScrollType))}getSession(e){return this._session}addSelectionToNextFindMatch(e){if(this._editor.hasModel()){if(!this._session){const n=this._editor.getSelections();if(n.length>1){const s=e.getState().matchCase;if(!nv(this._editor.getModel(),n,s)){const p=this._editor.getModel();let V=[];for(let H=0,U=n.length;H<U;H++)V[H]=this._expandEmptyToWord(p,n[H]);return void this._editor.setSelections(V)}}}this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(e){if(!this._editor.hasModel())return;let n=null;const o=e.getState();if(o.isRevealed&&o.searchString.length>0&&o.isRegex)n=this._editor.getModel().findMatches(o.searchString,!0,o.isRegex,o.matchCase,o.wholeWord?this._editor.getOption(117):null,!1,1073741824);else{if(this._beginSessionIfNeeded(e),!this._session)return;n=this._session.selectAll()}if(o.searchScope){const s=o.searchScope;let d=[];n.forEach(p=>{s.forEach(V=>{p.range.endLineNumber<=V.endLineNumber&&p.range.startLineNumber>=V.startLineNumber&&d.push(p)})}),n=d}if(n.length>0){const s=this._editor.getSelection();for(let d=0,p=n.length;d<p;d++){const V=n[d];if(V.range.intersectRanges(s)){n[d]=n[0],n[0]=V;break}}this._setSelections(n.map(d=>new ci.Y(d.range.startLineNumber,d.range.startColumn,d.range.endLineNumber,d.range.endColumn)))}}}return a.ID="editor.contrib.multiCursorController",a})();class Ch extends Qe.R6{run(t,e){const n=ip.get(e);if(!n)return;const o=Rr.get(e);if(!o)return;const s=e._getViewModel();if(s){const d=s.getCursorStates();this._run(n,o),_h(d,s.getCursorStates())}}}class cE{constructor(t,e,n,o,s){this._model=t,this._searchText=e,this._matchCase=n,this._wordSeparators=o,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,s&&this._model===s._model&&this._searchText===s._searchText&&this._matchCase===s._matchCase&&this._wordSeparators===s._wordSeparators&&this._modelVersionId===s._modelVersionId&&(this._cachedFindMatches=s._cachedFindMatches)}findMatches(){return null===this._cachedFindMatches&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(t=>t.range),this._cachedFindMatches.sort(kt.e.compareRangesUsingStarts)),this._cachedFindMatches}}let Jd=class Lp extends Tt.JT{constructor(t,e){super(),this._languageFeaturesService=e,this.editor=t,this._isEnabled=t.getOption(97),this.decorations=[],this.updateSoon=this._register(new Bn.pY(()=>this._update(),300)),this.state=null,this._register(t.onDidChangeConfiguration(o=>{this._isEnabled=t.getOption(97)})),this._register(t.onDidChangeCursorSelection(o=>{!this._isEnabled||(o.selection.isEmpty()?3===o.reason?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(t.onDidChangeModel(o=>{this._setState(null)})),this._register(t.onDidChangeModelContent(o=>{this._isEnabled&&this.updateSoon.schedule()}));const n=Rr.get(t);n&&this._register(n.getState().onFindReplaceStateChange(o=>{this._update()}))}_update(){this._setState(Lp._createState(this.state,this._isEnabled,this.editor))}static _createState(t,e,n){if(!e||!n.hasModel())return null;const o=n.getSelection();if(o.startLineNumber!==o.endLineNumber)return null;const s=ip.get(n);if(!s)return null;const d=Rr.get(n);if(!d)return null;let p=s.getSession(d);if(!p){const U=n.getSelections();if(U.length>1){const be=d.getState().matchCase;if(!nv(n.getModel(),U,be))return null}p=og.create(n,d)}if(!p||p.currentMatch||/^[ \t]+$/.test(p.searchText)||p.searchText.length>200)return null;const V=d.getState(),H=V.matchCase;if(V.isRevealed){let U=V.searchString;H||(U=U.toLowerCase());let ne=p.searchText;if(H||(ne=ne.toLowerCase()),U===ne&&p.matchCase===V.matchCase&&p.wholeWord===V.wholeWord&&!V.isRegex)return null}return new cE(n.getModel(),p.searchText,p.matchCase,p.wholeWord?n.getOption(117):null,t)}_setState(t){if(this.state=t,!this.state)return void(this.decorations=this.editor.deltaDecorations(this.decorations,[]));if(!this.editor.hasModel())return;const e=this.editor.getModel();if(e.isTooLargeForTokenization())return;const n=this.state.findMatches(),o=this.editor.getSelections();o.sort(kt.e.compareRangesUsingStarts);const s=[];for(let V=0,H=0,U=n.length,ne=o.length;V<U;){const be=n[V];if(H>=ne)s.push(be),V++;else{const Ee=kt.e.compareRangesUsingStarts(be,o[H]);Ee<0?((o[H].isEmpty()||!kt.e.areIntersecting(be,o[H]))&&s.push(be),V++):(Ee>0||V++,H++)}}const d=this._languageFeaturesService.documentHighlightProvider.has(e)&&this.editor.getOption(72),p=s.map(V=>({range:V,options:d?Lp._SELECTION_HIGHLIGHT:Lp._SELECTION_HIGHLIGHT_OVERVIEW}));this.decorations=this.editor.deltaDecorations(this.decorations,p)}dispose(){this._setState(null),super.dispose()}};function nv(a,t,e){const n=iv(a,t[0],!e);for(let o=1,s=t.length;o<s;o++){const d=t[o];if(d.isEmpty())return!1;if(n!==iv(a,d,!e))return!1}return!0}function iv(a,t,e){const n=a.getValueInRange(t);return e?n.toLowerCase():n}Jd.ID="editor.contrib.selectionHighlighter",Jd._SELECTION_HIGHLIGHT_OVERVIEW=r.qx.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",minimap:{color:(0,A.EN)(y.IYc),position:Te.F5.Inline},overviewRuler:{color:(0,A.EN)(y.SPM),position:Te.sh.Center}}),Jd._SELECTION_HIGHLIGHT=r.qx.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),Jd=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([function(a,t){return function(e,n){t(e,n,1)}}(0,Ui.p)],Jd),(0,Qe._K)(ip.ID,ip),(0,Qe._K)(Jd.ID,Jd),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.insertCursorAbove",label:De.N("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:_.eH.MenubarSelectionMenu,group:"3_multi",title:De.N({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(t,e,n){if(!e.hasModel())return;let o=!0;n&&!1===n.logicalLine&&(o=!1);const s=e._getViewModel();if(s.cursorConfig.readOnly)return;s.model.pushStackElement();const d=s.getCursorStates();s.setCursorStates(n.source,3,F_.P.addCursorUp(s,d,o)),s.revealTopMostCursor(n.source),_h(d,s.getCursorStates())}}),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.insertCursorBelow",label:De.N("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:_.eH.MenubarSelectionMenu,group:"3_multi",title:De.N({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(t,e,n){if(!e.hasModel())return;let o=!0;n&&!1===n.logicalLine&&(o=!1);const s=e._getViewModel();if(s.cursorConfig.readOnly)return;s.model.pushStackElement();const d=s.getCursorStates();s.setCursorStates(n.source,3,F_.P.addCursorDown(s,d,o)),s.revealBottomMostCursor(n.source),_h(d,s.getCursorStates())}}),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:De.N("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:_.eH.MenubarSelectionMenu,group:"3_multi",title:De.N({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(t,e,n){if(!t.isEmpty()){for(let o=t.startLineNumber;o<t.endLineNumber;o++){let s=e.getLineMaxColumn(o);n.push(new ci.Y(o,s,o,s))}t.endColumn>1&&n.push(new ci.Y(t.endLineNumber,t.endColumn,t.endLineNumber,t.endColumn))}}run(t,e){if(!e.hasModel())return;const n=e.getModel(),o=e.getSelections(),s=e._getViewModel(),d=s.getCursorStates();let p=[];o.forEach(V=>this.getCursorsForSelection(V,n,p)),p.length>0&&e.setSelections(p),_h(d,s.getCursorStates())}}),(0,Qe.Qr)(class extends Ch{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:De.N("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:Ct.u.focus,primary:2082,weight:100},menuOpts:{menuId:_.eH.MenubarSelectionMenu,group:"3_multi",title:De.N({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(t,e){t.addSelectionToNextFindMatch(e)}}),(0,Qe.Qr)(class extends Ch{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:De.N("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:_.eH.MenubarSelectionMenu,group:"3_multi",title:De.N({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(t,e){t.addSelectionToPreviousFindMatch(e)}}),(0,Qe.Qr)(class extends Ch{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:De.N("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:Ct.u.focus,primary:(0,Go.gx)(2089,2082),weight:100}})}_run(t,e){t.moveSelectionToNextFindMatch(e)}}),(0,Qe.Qr)(class extends Ch{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:De.N("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(t,e){t.moveSelectionToPreviousFindMatch(e)}}),(0,Qe.Qr)(class extends Ch{constructor(){super({id:"editor.action.selectHighlights",label:De.N("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:Ct.u.focus,primary:3114,weight:100},menuOpts:{menuId:_.eH.MenubarSelectionMenu,group:"3_multi",title:De.N({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(t,e){t.selectAll(e)}}),(0,Qe.Qr)(class extends Ch{constructor(){super({id:"editor.action.changeAll",label:De.N("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:Qt.Ao.and(Ct.u.writable,Ct.u.editorTextFocus),kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(t,e){t.selectAll(e)}}),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.addCursorsToBottom",label:De.N("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(t,e){if(!e.hasModel())return;const n=e.getSelections(),o=e.getModel().getLineCount();let s=[];for(let V=n[0].startLineNumber;V<=o;V++)s.push(new ci.Y(V,n[0].startColumn,V,n[0].endColumn));const d=e._getViewModel(),p=d.getCursorStates();s.length>0&&e.setSelections(s),_h(p,d.getCursorStates())}}),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.addCursorsToTop",label:De.N("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(t,e){if(!e.hasModel())return;const n=e.getSelections();let o=[];for(let p=n[0].startLineNumber;p>=1;p--)o.push(new ci.Y(p,n[0].startColumn,p,n[0].endColumn));const s=e._getViewModel(),d=s.getCursorStates();o.length>0&&e.setSelections(o),_h(d,s.getCursorStates())}});var ov=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})};const Xd={Visible:new Qt.uy("parameterHintsVisible",!1),MultipleSignatures:new Qt.uy("parameterHintsMultipleSignatures",!1)};function sv(a,t,e,n,o){return ov(this,void 0,void 0,function*(){const s=a.ordered(t);for(const d of s)try{const p=yield d.provideSignatureHelp(t,e,o,n);if(p)return p}catch(p){(0,Qn.Cp)(p)}})}eo.P0.registerCommand("_executeSignatureHelpProvider",(a,...t)=>ov(void 0,void 0,void 0,function*(){const[e,n,o]=t;(0,$i.p_)(wo.o.isUri(e)),(0,$i.p_)(di.L.isIPosition(n)),(0,$i.p_)("string"==typeof o||!o);const s=a.get(Ui.p),d=yield a.get(Cr.S).createModelReference(e);try{const p=yield sv(s.signatureHelpProvider,d.object.textEditorModel,di.L.lift(n),{triggerKind:Xi.WW.Invoke,isRetrigger:!1,triggerCharacter:o},Zn.T.None);return p?(setTimeout(()=>p.dispose(),0),p.value):void 0}finally{d.dispose()}})),m(16393);var Qc;!function(a){a.Default={type:0},a.Pending=class{constructor(o,s){this.request=o,this.previouslyActiveHints=s,this.type=2}},a.Active=class{constructor(o){this.hints=o,this.type=1}}}(Qc||(Qc={}));let uE=(()=>{class a extends Tt.JT{constructor(e,n,o=a.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new $n.Q5),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=Qc.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new Tt.XK),this.triggerChars=new rh.q,this.retriggerChars=new rh.q,this.triggerId=0,this.editor=e,this.providers=n,this.throttledDelayer=new Bn.vp(o),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(s=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(s=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(s=>this.onCursorChange(s))),this._register(this.editor.onDidChangeModelContent(s=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(s=>this.onDidType(s))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(e){2===this._state.type&&this._state.request.cancel(),this._state=e}cancel(e=!1){this.state=Qc.Default,this.throttledDelayer.cancel(),e||this._onChangedHints.fire(void 0)}trigger(e,n){const o=this.editor.getModel();if(!o||!this.providers.has(o))return;const s=++this.triggerId;this._pendingTriggers.push(e),this.throttledDelayer.trigger(()=>this.doTrigger(s),n).catch(Qn.dL)}next(){if(1!==this.state.type)return;const e=this.state.hints.signatures.length,n=this.state.hints.activeSignature,o=n%e==e-1,s=this.editor.getOption(76).cycle;!(e<2||o)||s?this.updateActiveSignature(o&&s?0:n+1):this.cancel()}previous(){if(1!==this.state.type)return;const e=this.state.hints.signatures.length,n=this.state.hints.activeSignature,o=0===n,s=this.editor.getOption(76).cycle;!(e<2||o)||s?this.updateActiveSignature(o&&s?e-1:n-1):this.cancel()}updateActiveSignature(e){1===this.state.type&&(this.state=new Qc.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:e})),this._onChangedHints.fire(this.state.hints))}doTrigger(e){return function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})}(this,void 0,void 0,function*(){const n=1===this.state.type||2===this.state.type,o=this.getLastActiveHints();if(this.cancel(!0),0===this._pendingTriggers.length)return!1;const s=this._pendingTriggers.reduce(hE);this._pendingTriggers=[];const d={triggerKind:s.triggerKind,triggerCharacter:s.triggerCharacter,isRetrigger:n,activeSignatureHelp:o};if(!this.editor.hasModel())return!1;const p=this.editor.getModel(),V=this.editor.getPosition();this.state=new Qc.Pending((0,Bn.PG)(H=>sv(this.providers,p,V,d,H)),o);try{const H=yield this.state.request;return e!==this.triggerId?(null==H||H.dispose(),!1):H&&H.value.signatures&&0!==H.value.signatures.length?(this.state=new Qc.Active(H.value),this._lastSignatureHelpResult.value=H,this._onChangedHints.fire(this.state.hints),!0):(null==H||H.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1)}catch(H){return e===this.triggerId&&(this.state=Qc.Default),(0,Qn.dL)(H),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return 1===this.state.type||2===this.state.type||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new rh.q,this.retriggerChars=new rh.q;const e=this.editor.getModel();if(e)for(const n of this.providers.ordered(e)){for(const o of n.signatureHelpTriggerCharacters||[])this.triggerChars.add(o.charCodeAt(0)),this.retriggerChars.add(o.charCodeAt(0));for(const o of n.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(o.charCodeAt(0))}}onDidType(e){if(!this.triggerOnType)return;const n=e.length-1,o=e.charCodeAt(n);(this.triggerChars.has(o)||this.isTriggered&&this.retriggerChars.has(o))&&this.trigger({triggerKind:Xi.WW.TriggerCharacter,triggerCharacter:e.charAt(n)})}onCursorChange(e){"mouse"===e.source?this.cancel():this.isTriggered&&this.trigger({triggerKind:Xi.WW.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:Xi.WW.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(76).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}return a.DEFAULT_DELAY=120,a})();function hE(a,t){return t.triggerKind===Xi.WW.ContentChange?a:t}var rv=m(76804),op=function(a,t){return function(e,n){t(e,n,a)}};const Kr=st.$,gE=(0,rr.q5)("parameter-hints-next",Kn.lA.chevronDown,De.N("parameterHintsNextIcon","Icon for show next parameter hint.")),mE=(0,rr.q5)("parameter-hints-previous",Kn.lA.chevronUp,De.N("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let sp=class Cw extends Tt.JT{constructor(t,e,n,o,s){super(),this.editor=t,this.renderDisposeables=this._register(new Tt.SL),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new Ql({editor:t},o,n)),this.model=this._register(new uE(t,s.signatureHelpProvider)),this.keyVisible=Xd.Visible.bindTo(e),this.keyMultipleSignatures=Xd.MultipleSignatures.bindTo(e),this._register(this.model.onChangedHints(d=>{d?(this.show(),this.render(d)):this.hide()}))}createParameterHintDOMNodes(){const t=Kr(".editor-widget.parameter-hints-widget"),e=st.R3(t,Kr(".phwrapper"));e.tabIndex=-1;const n=st.R3(e,Kr(".controls")),o=st.R3(n,Kr(".button"+A.kS.asCSSSelector(mE))),s=st.R3(n,Kr(".overloads")),d=st.R3(n,Kr(".button"+A.kS.asCSSSelector(gE)));this._register(st.nm(o,"click",be=>{st.zB.stop(be),this.previous()})),this._register(st.nm(d,"click",be=>{st.zB.stop(be),this.next()}));const p=Kr(".body"),V=new sr.s$(p,{});this._register(V),e.appendChild(V.getDomNode());const H=st.R3(p,Kr(".signature")),U=st.R3(p,Kr(".docs"));t.style.userSelect="text",this.domNodes={element:t,signature:H,overloads:s,docs:U,scrollbar:V},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(be=>{this.visible&&this.editor.layoutContentWidget(this)}));const ne=()=>{if(!this.domNodes)return;const be=this.editor.getOption(44);this.domNodes.element.style.fontSize=`${be.fontSize}px`,this.domNodes.element.style.lineHeight=""+be.lineHeight/be.fontSize};ne(),this._register($n.ju.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(be=>be.hasChanged(44)).on(ne,null)),this._register(this.editor.onDidLayoutChange(be=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{this.domNodes&&this.domNodes.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&this.domNodes.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(t){var e;if(this.renderDisposeables.clear(),!this.domNodes)return;const n=t.signatures.length>1;this.domNodes.element.classList.toggle("multiple",n),this.keyMultipleSignatures.set(n),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const o=t.signatures[t.activeSignature];if(!o)return;const s=st.R3(this.domNodes.signature,Kr(".code")),d=this.editor.getOption(44);s.style.fontSize=`${d.fontSize}px`,s.style.fontFamily=d.fontFamily;const V=null!==(e=o.activeParameter)&&void 0!==e?e:t.activeParameter;o.parameters.length>0?this.renderParameters(s,o,V):st.R3(s,Kr("span")).textContent=o.label;const H=o.parameters[V];if(null==H?void 0:H.documentation){const ne=Kr("span.documentation");if("string"==typeof H.documentation)ne.textContent=H.documentation;else{const be=this.renderMarkdownDocs(H.documentation);ne.appendChild(be.element)}st.R3(this.domNodes.docs,Kr("p",{},ne))}if(void 0!==o.documentation)if("string"==typeof o.documentation)st.R3(this.domNodes.docs,Kr("p",{},o.documentation));else{const ne=this.renderMarkdownDocs(o.documentation);st.R3(this.domNodes.docs,ne.element)}const U=this.hasDocs(o,H);if(this.domNodes.signature.classList.toggle("has-docs",U),this.domNodes.docs.classList.toggle("empty",!U),this.domNodes.overloads.textContent=String(t.activeSignature+1).padStart(t.signatures.length.toString().length,"0")+"/"+t.signatures.length,H){let ne="";const be=o.parameters[V];ne=Array.isArray(be.label)?o.label.substring(be.label[0],be.label[1]):be.label,be.documentation&&(ne+="string"==typeof be.documentation?`, ${be.documentation}`:`, ${be.documentation.value}`),o.documentation&&(ne+="string"==typeof o.documentation?`, ${o.documentation}`:`, ${o.documentation.value}`),this.announcedLabel!==ne&&($s.Z9(De.N("hint","{0}, hint",ne)),this.announcedLabel=ne)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(t){const e=this.renderDisposeables.add(this.markdownRenderer.render(t,{asyncRenderCallback:()=>{var n;null===(n=this.domNodes)||void 0===n||n.scrollbar.scanDomNode()}}));return e.element.classList.add("markdown-docs"),e}hasDocs(t,e){return!!(e&&"string"==typeof e.documentation&&(0,$i.cW)(e.documentation).length>0||e&&"object"==typeof e.documentation&&(0,$i.cW)(e.documentation).value.length>0||t.documentation&&"string"==typeof t.documentation&&(0,$i.cW)(t.documentation).length>0||t.documentation&&"object"==typeof t.documentation&&(0,$i.cW)(t.documentation.value).length>0)}renderParameters(t,e,n){const[o,s]=this.getParameterLabelOffsets(e,n),d=document.createElement("span");d.textContent=e.label.substring(0,o);const p=document.createElement("span");p.textContent=e.label.substring(o,s),p.className="parameter active";const V=document.createElement("span");V.textContent=e.label.substring(s),st.R3(t,d,p,V)}getParameterLabelOffsets(t,e){const n=t.parameters[e];if(n){if(Array.isArray(n.label))return n.label;if(n.label.length){const o=new RegExp(`(\\W|^)${(0,jn.ec)(n.label)}(?=\\W|$)`,"g");o.test(t.label);const s=o.lastIndex-n.label.length;return s>=0?[s,o.lastIndex]:[0,0]}return[0,0]}return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return Cw.ID}trigger(t){this.model.trigger(t,0)}updateMaxHeight(){if(!this.domNodes)return;const e=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=e;const n=this.domNodes.element.getElementsByClassName("phwrapper");n.length&&(n[0].style.maxHeight=e)}};sp.ID="editor.widget.parameterHintsWidget",sp=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([op(1,Qt.i6),op(2,na.v4),op(3,or.O),op(4,Ui.p)],sp);const pE=(0,y.P6G)("editorHoverWidget.highlightForeground",{dark:y.Gwp,light:y.Gwp,hc:y.Gwp},De.N("editorHoverWidgetHighlightForeground","Foreground color of the active item in the parameter hint."));(0,A.Ic)((a,t)=>{const e=a.getColor(y.CNo);e&&(t.addRule(`.monaco-editor .parameter-hints-widget { border: ${a.type===rv.e.HIGH_CONTRAST?2:1}px solid ${e}; }`),t.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${e.transparent(.5)}; }`),t.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${e.transparent(.5)}; }`));const n=a.getColor(y.yJx);n&&t.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${n}; }`);const o=a.getColor(y.url);o&&t.addRule(`.monaco-editor .parameter-hints-widget a { color: ${o}; }`);const s=a.getColor(y.sgC);s&&t.addRule(`.monaco-editor .parameter-hints-widget a:hover { color: ${s}; }`);const d=a.getColor(y.Sbf);d&&t.addRule(`.monaco-editor .parameter-hints-widget { color: ${d}; }`);const p=a.getColor(y.SwI);p&&t.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${p}; }`);const V=a.getColor(pE);V&&t.addRule(`.monaco-editor .parameter-hints-widget .parameter.active { color: ${V}}`)});let qd=class bw extends Tt.JT{constructor(t,e){super(),this.editor=t,this.widget=this._register(e.createInstance(sp,this.editor))}static get(t){return t.getContribution(bw.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(t){this.widget.trigger(t)}};qd.ID="editor.controller.parameterHints",qd=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([function(a,t){return function(e,n){t(e,n,1)}}(0,Qi.TG)],qd),(0,Qe._K)(qd.ID,qd),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.triggerParameterHints",label:De.N("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:Ct.u.hasSignatureHelpProvider,kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:3082,weight:100}})}run(t,e){const n=qd.get(e);n&&n.trigger({triggerKind:Xi.WW.Invoke})}});const U_=Qe._l.bindToContribution(qd.get);(0,Qe.fK)(new U_({id:"closeParameterHints",precondition:Xd.Visible,handler:a=>a.cancel(),kbOpts:{weight:175,kbExpr:Ct.u.focus,primary:9,secondary:[1033]}})),(0,Qe.fK)(new U_({id:"showPrevParameterHint",precondition:Qt.Ao.and(Xd.Visible,Xd.MultipleSignatures),handler:a=>a.previous(),kbOpts:{weight:175,kbExpr:Ct.u.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),(0,Qe.fK)(new U_({id:"showNextParameterHint",precondition:Qt.Ao.and(Xd.Visible,Xd.MultipleSignatures),handler:a=>a.next(),kbOpts:{weight:175,kbExpr:Ct.u.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}));var vE=m(34276),wE=m(92778),bh=m(63779),j_=(m(67087),function(a,t){return function(e,n){t(e,n,a)}});const rp=new Qt.uy("renameInputVisible",!1,(0,De.N)("renameInputVisible","Whether the rename input widget is visible"));let K_=class{constructor(t,e,n,o,s){this._editor=t,this._acceptKeybindings=e,this._themeService=n,this._keybindingService=o,this._disposables=new Tt.SL,this.allowEditorOverflow=!0,this._visibleContextKey=rp.bindTo(s),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(d=>{d.hasChanged(44)&&this._updateFont()})),this._disposables.add(n.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,De.N)("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const t=()=>{var e,n;const[o,s]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(o),this._label.innerText=(0,De.N)({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",null===(e=this._keybindingService.lookupKeybinding(o))||void 0===e?void 0:e.getLabel(),null===(n=this._keybindingService.lookupKeybinding(s))||void 0===n?void 0:n.getLabel())};t(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(t)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(t){var e,n,o,s;if(!this._input||!this._domNode)return;const d=t.getColor(y.rh);this._domNode.style.backgroundColor=String(null!==(e=t.getColor(y.D0T))&&void 0!==e?e:""),this._domNode.style.boxShadow=d?` 0 0 8px 2px ${d}`:"",this._domNode.style.color=String(null!==(n=t.getColor(y.zJb))&&void 0!==n?n:""),this._input.style.backgroundColor=String(null!==(o=t.getColor(y.sEe))&&void 0!==o?o:"");const p=t.getColor(y.dt_);this._input.style.borderWidth=p?"1px":"0px",this._input.style.borderStyle=p?"solid":"none",this._input.style.borderColor=null!==(s=null==p?void 0:p.toString())&&void 0!==s?s:"none"}_updateFont(){if(!this._input||!this._label)return;const t=this._editor.getOption(44);this._input.style.fontFamily=t.fontFamily,this._input.style.fontWeight=t.fontWeight,this._input.style.fontSize=`${t.fontSize}px`,this._label.style.fontSize=.8*t.fontSize+"px"}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(t){t||this.cancelInput(!0)}acceptInput(t){this._currentAcceptInput&&this._currentAcceptInput(t)}cancelInput(t){this._currentCancelInput&&this._currentCancelInput(t)}getInput(t,e,n,o,s,d){this._domNode.classList.toggle("preview",s),this._position=new di.L(t.startLineNumber,t.startColumn),this._input.value=e,this._input.setAttribute("selectionStart",n.toString()),this._input.setAttribute("selectionEnd",o.toString()),this._input.size=Math.max(1.1*(t.endColumn-t.startColumn),20);const p=new Tt.SL;return new Promise(V=>{this._currentCancelInput=H=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,V(H),!0),this._currentAcceptInput=H=>{0!==this._input.value.trim().length&&this._input.value!==e?(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,V({newName:this._input.value,wantsPreview:s&&H})):this.cancelInput(!0)},p.add(d.onCancellationRequested(()=>this.cancelInput(!0))),p.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{p.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};K_=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([j_(2,A.XE),j_(3,Zs.d),j_(4,Qt.i6)],K_);var eu=function(a,t){return function(e,n){t(e,n,a)}},tu=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})};class $_{constructor(t,e,n){this.model=t,this.position=e,this._providerRenameIdx=0,this._providers=n.ordered(t)}hasProvider(){return this._providers.length>0}resolveRenameLocation(t){return tu(this,void 0,void 0,function*(){const e=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const o=this._providers[this._providerRenameIdx];if(!o.resolveRenameLocation)break;let s=yield o.resolveRenameLocation(this.model,this.position,t);if(s){if(s.rejectReason){e.push(s.rejectReason);continue}return s}}const n=this.model.getWordAtPosition(this.position);return n?{range:new kt.e(this.position.lineNumber,n.startColumn,this.position.lineNumber,n.endColumn),text:n.word,rejectReason:e.length>0?e.join("\n"):void 0}:{range:kt.e.fromPositions(this.position),text:"",rejectReason:e.length>0?e.join("\n"):void 0}})}provideRenameEdits(t,e){return tu(this,void 0,void 0,function*(){return this._provideRenameEdits(t,this._providerRenameIdx,[],e)})}_provideRenameEdits(t,e,n,o){return tu(this,void 0,void 0,function*(){const s=this._providers[e];if(!s)return{edits:[],rejectReason:n.join("\n")};const d=yield s.provideRenameEdits(this.model,this.position,t,o);return d?d.rejectReason?this._provideRenameEdits(t,e+1,n.concat(d.rejectReason),o):d:this._provideRenameEdits(t,e+1,n.concat(De.N("no result","No result.")),o)})}}let nu=class vw{constructor(t,e,n,o,s,d,p,V){this.editor=t,this._instaService=e,this._notificationService=n,this._bulkEditService=o,this._progressService=s,this._logService=d,this._configService=p,this._languageFeaturesService=V,this._dispoableStore=new Tt.SL,this._cts=new Zn.A,this._renameInputField=this._dispoableStore.add(new Bn.Ue(()=>this._dispoableStore.add(this._instaService.createInstance(K_,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}static get(t){return t.getContribution(vw.ID)}dispose(){this._dispoableStore.dispose(),this._cts.dispose(!0)}run(){var t,e;return tu(this,void 0,void 0,function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;const n=this.editor.getPosition(),o=new $_(this.editor.getModel(),n,this._languageFeaturesService.renameProvider);if(!o.hasProvider())return;let s;this._cts=new Pl.Dl(this.editor,5);try{const be=o.resolveRenameLocation(this._cts.token);this._progressService.showWhile(be,250),s=yield be}catch(be){return void(null===(t=fr.get(this.editor))||void 0===t||t.showMessage(be||De.N("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),n))}if(!s)return;if(s.rejectReason)return void(null===(e=fr.get(this.editor))||void 0===e||e.showMessage(s.rejectReason,n));if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new Pl.Dl(this.editor,5,s.range);let d=this.editor.getSelection(),p=0,V=s.text.length;!kt.e.isEmpty(d)&&!kt.e.spansMultipleLines(d)&&kt.e.containsRange(s.range,d)&&(p=Math.max(0,d.startColumn-s.range.startColumn),V=Math.min(s.range.endColumn,d.endColumn)-s.range.startColumn);const H=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),U=yield this._renameInputField.value.getInput(s.range,s.text,p,V,H,this._cts.token);if("boolean"==typeof U)return void(U&&this.editor.focus());this.editor.focus();const ne=(0,Bn.eP)(o.provideRenameEdits(U.newName,this._cts.token),this._cts.token).then(be=>tu(this,void 0,void 0,function*(){if(be&&this.editor.hasModel()){if(be.rejectReason)return void this._notificationService.info(be.rejectReason);this.editor.setSelection(kt.e.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(Hh.fo.convert(be),{editor:this.editor,showPreview:U.wantsPreview,label:De.N("label","Renaming '{0}'",null==s?void 0:s.text),quotableLabel:De.N("quotableLabel","Renaming {0}",null==s?void 0:s.text)}).then(Ee=>{Ee.ariaSummary&&(0,$s.Z9)(De.N("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",s.text,U.newName,Ee.ariaSummary))}).catch(Ee=>{this._notificationService.error(De.N("rename.failedApply","Rename failed to apply edits")),this._logService.error(Ee)})}}),be=>{this._notificationService.error(De.N("rename.failed","Rename failed to compute edits")),this._logService.error(be)});return this._progressService.showWhile(ne,250),ne})}acceptRenameInput(t){this._renameInputField.value.acceptInput(t)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};nu.ID="editor.contrib.renameController",nu=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([eu(1,Qi.TG),eu(2,us.lT),eu(3,Hh.vu),eu(4,Ir.ek),eu(5,Um.VZ),eu(6,vE.V),eu(7,Ui.p)],nu),(0,Qe._K)(nu.ID,nu),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.rename",label:De.N("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:Qt.Ao.and(Ct.u.writable,Ct.u.hasRenameProvider),kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(t,e){const n=t.get(In.$),[o,s]=Array.isArray(e)&&e||[void 0,void 0];return wo.o.isUri(o)&&di.L.isIPosition(s)?n.openCodeEditor({resource:o},n.getActiveCodeEditor()).then(d=>{!d||(d.setPosition(s),d.invokeWithinContext(p=>(this.reportTelemetry(p,d),this.run(p,d))))},Qn.dL):super.runCommand(t,e)}run(t,e){const n=nu.get(e);return n?n.run():Promise.resolve()}});const Z_=Qe._l.bindToContribution(nu.get);(0,Qe.fK)(new Z_({id:"acceptRenameInput",precondition:rp,handler:a=>a.acceptRenameInput(!1),kbOpts:{weight:199,kbExpr:Ct.u.focus,primary:3}})),(0,Qe.fK)(new Z_({id:"acceptRenameInputWithPreview",precondition:Qt.Ao.and(rp,Qt.Ao.has("config.editor.rename.enablePreview")),handler:a=>a.acceptRenameInput(!0),kbOpts:{weight:199,kbExpr:Ct.u.focus,primary:1027}})),(0,Qe.fK)(new Z_({id:"cancelRenameInput",precondition:rp,handler:a=>a.cancelRenameInput(),kbOpts:{weight:199,kbExpr:Ct.u.focus,primary:9,secondary:[1033]}})),(0,Qe.sb)("_executeDocumentRenameProvider",function(a,t,e,...n){const[o]=n;(0,$i.p_)("string"==typeof o);const{renameProvider:s}=a.get(Ui.p);return function(a,t,e,n){return tu(this,void 0,void 0,function*(){const o=new $_(t,e,a),s=yield o.resolveRenameLocation(Zn.T.None);return(null==s?void 0:s.rejectReason)?{edits:[],rejectReason:s.rejectReason}:o.provideRenameEdits(n,Zn.T.None)})}(s,t,e,o)}),(0,Qe.sb)("_executePrepareRename",function(a,t,e){return tu(this,void 0,void 0,function*(){const{renameProvider:n}=a.get(Ui.p),s=yield new $_(t,e,n).resolveRenameLocation(Zn.T.None);if(null==s?void 0:s.rejectReason)throw new Error(s.rejectReason);return s})}),bh.B.as(wE.IP.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:De.N("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}});class DE{provideSelectionRanges(t,e){const n=[];for(const o of e){const s=[];n.push(s),this._addInWordRanges(s,t,o),this._addWordRanges(s,t,o),this._addWhitespaceLine(s,t,o),s.push({range:t.getFullModelRange()})}return n}_addInWordRanges(t,e,n){const o=e.getWordAtPosition(n);if(!o)return;let{word:s,startColumn:d}=o,p=n.column-d,V=p,H=p,U=0;for(;V>=0;V--){let ne=s.charCodeAt(V);if(V!==p&&(95===ne||45===ne))break;if((0,jn.mK)(ne)&&(0,jn.df)(U))break;U=ne}for(V+=1;H<s.length;H++){let ne=s.charCodeAt(H);if((0,jn.df)(ne)&&(0,jn.mK)(U))break;if(95===ne||45===ne)break;U=ne}V<H&&t.push({range:new kt.e(n.lineNumber,d+V,n.lineNumber,d+H)})}_addWordRanges(t,e,n){const o=e.getWordAtPosition(n);o&&t.push({range:new kt.e(n.lineNumber,o.startColumn,n.lineNumber,o.endColumn)})}_addWhitespaceLine(t,e,n){e.getLineLength(n.lineNumber)>0&&0===e.getLineFirstNonWhitespaceColumn(n.lineNumber)&&0===e.getLineLastNonWhitespaceColumn(n.lineNumber)&&t.push({range:new kt.e(n.lineNumber,1,n.lineNumber,e.getLineMaxColumn(n.lineNumber))})}}var ap=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})};class G_{constructor(t,e){this.index=t,this.ranges=e}mov(t){let e=this.index+(t?1:-1);if(e<0||e>=this.ranges.length)return this;const n=new G_(e,this.ranges);return n.ranges[e].equalsRange(this.ranges[this.index])?n.mov(t):n}}let vh=class ww{constructor(t,e){this._editor=t,this._languageFeaturesService=e,this._ignoreSelection=!1}static get(t){return t.getContribution(ww.ID)}dispose(){var t;null===(t=this._selectionListener)||void 0===t||t.dispose()}run(t){return ap(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const e=this._editor.getSelections(),n=this._editor.getModel();if(this._state||(yield lv(this._languageFeaturesService.selectionRangeProvider,n,e.map(s=>s.getPosition()),this._editor.getOption(102),Zn.T.None).then(s=>{var d;if(ro.Of(s)&&s.length===e.length&&this._editor.hasModel()&&ro.fS(this._editor.getSelections(),e,(p,V)=>p.equalsSelection(V))){for(let p=0;p<s.length;p++)s[p]=s[p].filter(V=>V.containsPosition(e[p].getStartPosition())&&V.containsPosition(e[p].getEndPosition())),s[p].unshift(e[p]);this._state=s.map(p=>new G_(0,p)),null===(d=this._selectionListener)||void 0===d||d.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var p;this._ignoreSelection||(null===(p=this._selectionListener)||void 0===p||p.dispose(),this._state=void 0)})}})),!this._state)return;this._state=this._state.map(s=>s.mov(t));const o=this._state.map(s=>ci.Y.fromPositions(s.ranges[s.index].getStartPosition(),s.ranges[s.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(o)}finally{this._ignoreSelection=!1}})}};vh.ID="editor.contrib.smartSelectController",vh=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([function(a,t){return function(e,n){t(e,n,1)}}(0,Ui.p)],vh);class av extends Qe.R6{constructor(t,e){super(e),this._forward=t}run(t,e){return ap(this,void 0,void 0,function*(){let n=vh.get(e);n&&(yield n.run(this._forward))})}}function lv(a,t,e,n,o){return ap(this,void 0,void 0,function*(){const s=a.all(t).concat(new DE);1===s.length&&s.unshift(new Sb);let d=[],p=[];for(const V of s)d.push(Promise.resolve(V.provideSelectionRanges(t,e,o)).then(H=>{if(ro.Of(H)&&H.length===e.length)for(let U=0;U<e.length;U++){p[U]||(p[U]=[]);for(const ne of H[U])kt.e.isIRange(ne.range)&&kt.e.containsPosition(ne.range,e[U])&&p[U].push(kt.e.lift(ne.range))}},Qn.Cp));return yield Promise.all(d),p.map(V=>{if(0===V.length)return[];V.sort((be,Ee)=>di.L.isBefore(be.getStartPosition(),Ee.getStartPosition())?1:di.L.isBefore(Ee.getStartPosition(),be.getStartPosition())||di.L.isBefore(be.getEndPosition(),Ee.getEndPosition())?-1:di.L.isBefore(Ee.getEndPosition(),be.getEndPosition())?1:0);let U,H=[];for(const be of V)(!U||kt.e.containsRange(be,U)&&!kt.e.equalsRange(be,U))&&(H.push(be),U=be);if(!n.selectLeadingAndTrailingWhitespace)return H;let ne=[H[0]];for(let be=1;be<H.length;be++){const Ee=H[be-1],Ke=H[be];if(Ke.startLineNumber!==Ee.startLineNumber||Ke.endLineNumber!==Ee.endLineNumber){const ct=new kt.e(Ee.startLineNumber,t.getLineFirstNonWhitespaceColumn(Ee.startLineNumber),Ee.endLineNumber,t.getLineLastNonWhitespaceColumn(Ee.endLineNumber));ct.containsRange(Ee)&&!ct.equalsRange(Ee)&&Ke.containsRange(ct)&&!Ke.equalsRange(ct)&&ne.push(ct);const Pt=new kt.e(Ee.startLineNumber,1,Ee.endLineNumber,t.getLineMaxColumn(Ee.endLineNumber));Pt.containsRange(Ee)&&!Pt.equalsRange(ct)&&Ke.containsRange(Pt)&&!Ke.equalsRange(Pt)&&ne.push(Pt)}ne.push(Ke)}return ne})})}eo.P0.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand"),(0,Qe._K)(vh.ID,vh),(0,Qe.Qr)(class extends av{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:De.N("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:_.eH.MenubarSelectionMenu,group:"1_basic",title:De.N({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}}),(0,Qe.Qr)(class extends av{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:De.N("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:_.eH.MenubarSelectionMenu,group:"1_basic",title:De.N({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}}),eo.P0.registerCommand("_executeSelectionRangeProvider",function(a,...t){return ap(this,void 0,void 0,function*(){const[e,n]=t;(0,$i.p_)(wo.o.isUri(e));const o=a.get(Ui.p).selectionRangeProvider,s=yield a.get(Cr.S).createModelReference(e);try{return lv(o,s.object.textEditorModel,n,{selectLeadingAndTrailingWhitespace:!0},Zn.T.None)}finally{s.dispose()}})}),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.forceRetokenize",label:De.N("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(t,e){if(!e.hasModel())return;const n=e.getModel();n.resetTokenization();const o=new ea.G(!0);n.forceTokenization(n.getLineCount()),o.stop(),console.log(`tokenization took ${o.elapsed()}`)}});var cv=m(93002);let Q_=(()=>{class a extends Qe.R6{constructor(){super({id:a.ID,label:De.N({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2091,mac:{primary:1323},weight:100}})}run(e,n){const s=!cv.n.getTabFocusMode();cv.n.setTabFocusMode(s),(0,$s.Z9)(s?De.N("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element"):De.N("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}return a.ID="editor.action.toggleTabFocusMode",a})();(0,Qe.Qr)(Q_),m(43456);var dv=m(4263),wh=m(18066);m(26549);let Y_=class extends Tt.JT{constructor(t,e,n={},o){var s;super(),this._link=e,this._enabled=!0,this.el=(0,st.R3)(t,(0,st.$)("a.monaco-link",{tabIndex:null!==(s=e.tabIndex)&&void 0!==s?s:0,href:e.href,title:e.title},e.label)),this.el.setAttribute("role","button");const d=this._register(new Ff.Y(this.el,"click")),p=this._register(new Ff.Y(this.el,"keypress")),V=$n.ju.chain(p.event).map(ne=>new Tc.y(ne)).filter(ne=>3===ne.keyCode).event,H=this._register(new Ff.Y(this.el,Ta.t.Tap)).event;this._register(Ta.o.addTarget(this.el));const U=$n.ju.any(d.event,V,H);this._register(U(ne=>{!this.enabled||(st.zB.stop(ne,!0),(null==n?void 0:n.opener)?n.opener(this._link.href):o.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}get enabled(){return this._enabled}set enabled(t){t?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=t}};Y_=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([function(a,t){return function(e,n){t(e,n,3)}}(0,na.v4)],Y_),(0,A.Ic)((a,t)=>{const e=a.getColor(y.url);e&&t.addRule(`.monaco-link { color: ${e}; }`);const n=a.getColor(y.sgC);n&&t.addRule(`.monaco-link:hover { color: ${n}; }`)});var uv=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},hv=function(a,t){return function(e,n){t(e,n,a)}};let J_=class extends Tt.JT{constructor(t,e){super(),this._editor=t,this.instantiationService=e,this.banner=this._register(this.instantiationService.createInstance(X_))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(t){this.banner.show(Object.assign(Object.assign({},t),{onClose:()=>{this.hide(),t.onClose&&t.onClose()}})),this._editor.setBanner(this.banner.element,26)}};J_=uv([hv(1,Qi.TG)],J_);let X_=class extends Tt.JT{constructor(t){super(),this.instantiationService=t,this.markdownRenderer=this.instantiationService.createInstance(Ql,{}),this.element=(0,st.$)("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(t){return t.ariaLabel?t.ariaLabel:"string"==typeof t.message?t.message:void 0}getBannerMessage(t){if("string"==typeof t){const e=(0,st.$)("span");return e.innerText=t,e}return this.markdownRenderer.render(t).element}clear(){(0,st.PO)(this.element)}show(t){(0,st.PO)(this.element);const e=this.getAriaLabel(t);e&&this.element.setAttribute("aria-label",e);const n=(0,st.R3)(this.element,(0,st.$)("div.icon-container"));n.setAttribute("aria-hidden","true"),t.icon&&n.appendChild((0,st.$)(`div${A.kS.asCSSSelector(t.icon)}`));const o=(0,st.R3)(this.element,(0,st.$)("div.message-container"));if(o.setAttribute("aria-hidden","true"),o.appendChild(this.getBannerMessage(t.message)),this.messageActionsContainer=(0,st.R3)(this.element,(0,st.$)("div.message-actions-container")),t.actions)for(const d of t.actions)this._register(this.instantiationService.createInstance(Y_,this.messageActionsContainer,Object.assign(Object.assign({},d),{tabIndex:-1}),{}));const s=(0,st.R3)(this.element,(0,st.$)("div.action-container"));this.actionBar=this._register(new Uu.o(s)),this.actionBar.push(this._register(new jo.aU("banner.close","Close Banner",A.kS.asClassName(rr.s_),!0,()=>{"function"==typeof t.onClose&&t.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};X_=uv([hv(0,Qi.TG)],X_);var AE=m(73062),q_=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},yh=function(a,t){return function(e,n){t(e,n,a)}},Bs=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})};const RE=(0,rr.q5)("extensions-warning-message",Kn.lA.warning,De.N("warningIcon","Icon shown with a warning message in the extensions editor."));let Sh=class extends Tt.JT{constructor(t,e,n,o){super(),this._editor=t,this._editorWorkerService=e,this._workspaceTrustService=n,this._highlighter=null,this._bannerClosed=!1,this._updateState=s=>{if(s&&s.hasMore){if(this._bannerClosed)return;const d=Math.max(s.ambiguousCharacterCount,s.nonBasicAsciiCharacterCount,s.invisibleCharacterCount);let p;if(s.nonBasicAsciiCharacterCount>=d)p={message:De.N("unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters","This document contains many non-basic ASCII unicode characters"),command:new o1};else if(s.ambiguousCharacterCount>=d)p={message:De.N("unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters","This document contains many ambiguous unicode characters"),command:new sg};else{if(!(s.invisibleCharacterCount>=d))throw new Error("Unreachable");p={message:De.N("unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters","This document contains many invisible unicode characters"),command:new i1}}this._bannerController.show({id:"unicodeHighlightBanner",message:p.message,icon:RE,actions:[{label:p.command.shortLabel,href:`command:${p.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(o.createInstance(J_,t)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=t.getOption(113),this._register(n.onDidChangeTrust(s=>{this._updateHighlighter()})),this._register(t.onDidChangeConfiguration(s=>{s.hasChanged(113)&&(this._options=t.getOption(113),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const t=function(a,t){return{nonBasicASCII:t.nonBasicASCII===ns.Av?!a:t.nonBasicASCII,ambiguousCharacters:t.ambiguousCharacters,invisibleCharacters:t.invisibleCharacters,includeComments:t.includeComments===ns.Av?!a:t.includeComments,includeStrings:t.includeStrings===ns.Av?!a:t.includeStrings,allowedCharacters:t.allowedCharacters,allowedLocales:t.allowedLocales}}(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([t.nonBasicASCII,t.ambiguousCharacters,t.invisibleCharacters].every(n=>!1===n))return;const e={nonBasicASCII:t.nonBasicASCII,ambiguousCharacters:t.ambiguousCharacters,invisibleCharacters:t.invisibleCharacters,includeComments:t.includeComments,includeStrings:t.includeStrings,allowedCodePoints:Object.keys(t.allowedCharacters).map(n=>n.codePointAt(0)),allowedLocales:Object.keys(t.allowedLocales).map(n=>"_os"===n?(new Intl.NumberFormat).resolvedOptions().locale:"_vscode"===n?$t.dK:n)};this._highlighter=this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?new e1(this._editor,e,this._updateState,this._editorWorkerService):new BE(this._editor,e,this._updateState)}getDecorationInfo(t){return this._highlighter?this._highlighter.getDecorationInfo(t):null}};Sh.ID="editor.contrib.unicodeHighlighter",Sh=q_([yh(1,jf.p),yh(2,AE.Y),yh(3,Qi.TG)],Sh);let e1=class extends Tt.JT{constructor(t,e,n,o){super(),this._editor=t,this._options=e,this._updateState=n,this._editorWorkerService=o,this._model=this._editor.getModel(),this._decorationIds=new Set,this._updateSoon=this._register(new Bn.pY(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorationIds=new Set(this._model.deltaDecorations(Array.from(this._decorationIds),[])),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII())return void(this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),[])));const t=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(e=>{if(this._model.isDisposed()||this._model.getVersionId()!==t)return;this._updateState(e);const n=[];if(!e.hasMore)for(const o of e.ranges)n.push({range:o,options:xh.instance.getDecorationFromOptions(this._options)});this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),n))})}getDecorationInfo(t){if(!this._decorationIds.has(t))return null;const e=this._editor.getModel(),n=e.getDecorationRange(t),o={range:n,options:xh.instance.getDecorationFromOptions(this._options),id:t,ownerId:0};return(0,wh.Fd)(e,o)?{reason:gv(e.getValueInRange(n),this._options),inComment:(0,wh.$t)(e,o),inString:(0,wh.zg)(e,o)}:null}};e1=q_([yh(3,jf.p)],e1);class BE extends Tt.JT{constructor(t,e,n){super(),this._editor=t,this._options=e,this._updateState=n,this._model=this._editor.getModel(),this._decorationIds=new Set,this._updateSoon=this._register(new Bn.pY(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorationIds=new Set(this._model.deltaDecorations(Array.from(this._decorationIds),[])),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII())return void(this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),[])));const t=this._editor.getVisibleRanges(),e=[],n={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const o of t){const s=dv.a.computeUnicodeHighlights(this._model,this._options,o);for(const d of s.ranges)n.ranges.push(d);n.ambiguousCharacterCount+=n.ambiguousCharacterCount,n.invisibleCharacterCount+=n.invisibleCharacterCount,n.nonBasicAsciiCharacterCount+=n.nonBasicAsciiCharacterCount,n.hasMore=n.hasMore||s.hasMore}if(!n.hasMore)for(const o of n.ranges)e.push({range:o,options:xh.instance.getDecorationFromOptions(this._options)});this._updateState(n),this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),e))}getDecorationInfo(t){if(!this._decorationIds.has(t))return null;const e=this._editor.getModel(),n=e.getDecorationRange(t),o=e.getValueInRange(n),s={range:n,options:xh.instance.getDecorationFromOptions(this._options),id:t,ownerId:0};return(0,wh.Fd)(e,s)?{reason:gv(o,this._options),inComment:(0,wh.$t)(e,s),inString:(0,wh.zg)(e,s)}:null}}let t1=class{constructor(t,e,n){this._editor=t,this._languageService=e,this._openerService=n,this.hoverOrdinal=4}computeSync(t,e){if(!this._editor.hasModel()||1!==t.type)return[];const n=this._editor.getModel(),o=this._editor.getContribution(Sh.ID);if(!o)return[];const s=[];let d=300;for(const p of e){const V=o.getDecorationInfo(p.id);if(!V)continue;const U=n.getValueInRange(p.range).codePointAt(0),ne=fv(U);let be;switch(V.reason.kind){case 0:be=De.N("unicodeHighlight.characterIsAmbiguous","The character {0} could be confused with the character {1}, which is more common in source code.",ne,fv(V.reason.confusableWith.codePointAt(0)));break;case 1:be=De.N("unicodeHighlight.characterIsInvisible","The character {0} is invisible.",ne);break;case 2:be=De.N("unicodeHighlight.characterIsNonBasicAscii","The character {0} is not a basic ASCII character.",ne)}const Ee={codePoint:U,reason:V.reason,inComment:V.inComment,inString:V.inString},ct=[{value:`${be} [${De.N("unicodeHighlight.adjustSettings","Adjust settings")}](command:${mv.ID}?${encodeURIComponent(JSON.stringify(Ee))})`,isTrusted:!0}];s.push(new Yl(this,p.range,ct,d++))}return s}renderHoverParts(t,e){return xC(t,e,this._editor,this._languageService,this._openerService)}};function n1(a){return`U+${a.toString(16).padStart(4,"0")}`}function fv(a){let t=`\`${n1(a)}\``;return jn.vU.isInvisibleCharacter(a)||(t+=` "${function(a){return 96===a?"`` ` ``":"`"+String.fromCodePoint(a)+"`"}(a)}"`),t}function gv(a,t){return dv.a.computeUnicodeHighlightReason(a,t)}t1=q_([yh(1,or.O),yh(2,na.v4)],t1);class xh{constructor(){this.map=new Map}getDecorationFromOptions(t){return this.getDecoration(!t.includeComments,!t.includeStrings)}getDecoration(t,e){const n=`${t}${e}`;let o=this.map.get(n);return o||(o=r.qx.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:t,hideInStringTokens:e}),this.map.set(n,o)),o}}xh.instance=new xh;class VE extends Qe.R6{constructor(){super({id:sg.ID,label:De.N("action.unicodeHighlight.disableHighlightingInComments","Disable highlighting of characters in comments"),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=De.N("unicodeHighlight.disableHighlightingInComments.shortLabel","Disable Highlight In Comments")}run(t,e,n){return Bs(this,void 0,void 0,function*(){let o=null==t?void 0:t.get(Jo.Ui);o&&this.runAction(o)})}runAction(t){return Bs(this,void 0,void 0,function*(){yield t.updateValue(ns.qt.includeComments,!1,1)})}}class HE extends Qe.R6{constructor(){super({id:sg.ID,label:De.N("action.unicodeHighlight.disableHighlightingInStrings","Disable highlighting of characters in strings"),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=De.N("unicodeHighlight.disableHighlightingInStrings.shortLabel","Disable Highlight In Strings")}run(t,e,n){return Bs(this,void 0,void 0,function*(){let o=null==t?void 0:t.get(Jo.Ui);o&&this.runAction(o)})}runAction(t){return Bs(this,void 0,void 0,function*(){yield t.updateValue(ns.qt.includeStrings,!1,1)})}}let sg=(()=>{class a extends Qe.R6{constructor(){super({id:a.ID,label:De.N("action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters","Disable highlighting of ambiguous characters"),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=De.N("unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel","Disable Ambiguous Highlight")}run(e,n,o){return Bs(this,void 0,void 0,function*(){let s=null==e?void 0:e.get(Jo.Ui);s&&this.runAction(s)})}runAction(e){return Bs(this,void 0,void 0,function*(){yield e.updateValue(ns.qt.ambiguousCharacters,!1,1)})}}return a.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters",a})(),i1=(()=>{class a extends Qe.R6{constructor(){super({id:a.ID,label:De.N("action.unicodeHighlight.disableHighlightingOfInvisibleCharacters","Disable highlighting of invisible characters"),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=De.N("unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel","Disable Invisible Highlight")}run(e,n,o){return Bs(this,void 0,void 0,function*(){let s=null==e?void 0:e.get(Jo.Ui);s&&this.runAction(s)})}runAction(e){return Bs(this,void 0,void 0,function*(){yield e.updateValue(ns.qt.invisibleCharacters,!1,1)})}}return a.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters",a})(),o1=(()=>{class a extends Qe.R6{constructor(){super({id:a.ID,label:De.N("action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters","Disable highlighting of non basic ASCII characters"),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=De.N("unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel","Disable Non ASCII Highlight")}run(e,n,o){return Bs(this,void 0,void 0,function*(){let s=null==e?void 0:e.get(Jo.Ui);s&&this.runAction(s)})}runAction(e){return Bs(this,void 0,void 0,function*(){yield e.updateValue(ns.qt.nonBasicASCII,!1,1)})}}return a.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters",a})(),mv=(()=>{class a extends Qe.R6{constructor(){super({id:a.ID,label:De.N("action.unicodeHighlight.showExcludeOptions","Show Exclude Options"),alias:"Show Exclude Options",precondition:void 0})}run(e,n,o){return Bs(this,void 0,void 0,function*(){const{codePoint:s,reason:d,inString:p,inComment:V}=o,H=String.fromCodePoint(s),U=e.get(Pa.eJ),ne=e.get(Jo.Ui),Ee=[];if(0===d.kind)for(const ct of d.notAmbiguousInLocales)Ee.push({label:De.N("unicodeHighlight.allowCommonCharactersInLanguage",'Allow unicode characters that are more common in the language "{0}".',ct),run:()=>Bs(this,void 0,void 0,function*(){UE(ne,[ct])})});if(Ee.push({label:(ct=s,jn.vU.isInvisibleCharacter(ct)?De.N("unicodeHighlight.excludeInvisibleCharFromBeingHighlighted","Exclude {0} (invisible character) from being highlighted",n1(ct)):De.N("unicodeHighlight.excludeCharFromBeingHighlighted","Exclude {0} from being highlighted",`${n1(ct)} "${H}"`)),run:()=>function(a,t){return Bs(this,void 0,void 0,function*(){const e=a.getValue(ns.qt.allowedCharacters);let n;n="object"==typeof e&&e?e:{};for(const o of t)n[String.fromCodePoint(o)]=!0;yield a.updateValue(ns.qt.allowedCharacters,n,1)})}(ne,[s])}),V){const ct=new VE;Ee.push({label:ct.label,run:()=>Bs(this,void 0,void 0,function*(){return ct.runAction(ne)})})}else if(p){const ct=new HE;Ee.push({label:ct.label,run:()=>Bs(this,void 0,void 0,function*(){return ct.runAction(ne)})})}var ct;if(0===d.kind){const ct=new sg;Ee.push({label:ct.label,run:()=>Bs(this,void 0,void 0,function*(){return ct.runAction(ne)})})}else if(1===d.kind){const ct=new i1;Ee.push({label:ct.label,run:()=>Bs(this,void 0,void 0,function*(){return ct.runAction(ne)})})}else if(2===d.kind){const ct=new o1;Ee.push({label:ct.label,run:()=>Bs(this,void 0,void 0,function*(){return ct.runAction(ne)})})}else!function(a){throw new Error(`Unexpected value: ${a}`)}(d);const Ke=yield U.pick(Ee,{title:De.N("unicodeHighlight.configureUnicodeHighlightOptions","Configure Unicode Highlight Options")});Ke&&(yield Ke.run())})}}return a.ID="editor.action.unicodeHighlight.showExcludeOptions",a})();function UE(a,t){var e;return Bs(this,void 0,void 0,function*(){const n=null===(e=a.inspect(ns.qt.allowedLocales).user)||void 0===e?void 0:e.value;let o;o="object"==typeof n&&n?Object.assign({},n):{};for(const s of t)o[s]=!0;yield a.updateValue(ns.qt.allowedLocales,o,1)})}(0,Qe.Qr)(sg),(0,Qe.Qr)(i1),(0,Qe.Qr)(o1),(0,Qe.Qr)(mv),(0,Qe._K)(Sh.ID,Sh),Vd.register(t1);var s1=m(4890),pv=function(a,t){return function(e,n){t(e,n,a)}};const _v="ignoreUnusualLineTerminators";let rg=class extends Tt.JT{constructor(t,e,n){super(),this._editor=t,this._dialogService=e,this._codeEditorService=n,this._config=this._editor.getOption(114),this._register(this._editor.onDidChangeConfiguration(o=>{o.hasChanged(114)&&(this._config=this._editor.getOption(114),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(o=>{o.isUndoing||this._checkForUnusualLineTerminators()}))}_checkForUnusualLineTerminators(){return function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})}(this,void 0,void 0,function*(){if("off"===this._config||!this._editor.hasModel())return;const t=this._editor.getModel();t.mightContainUnusualLineTerminators()&&!0!==function(a,t){return a.getModelProperty(t.uri,_v)}(this._codeEditorService,t)&&!this._editor.getOption(81)&&("auto"!==this._config?(yield this._dialogService.confirm({title:De.N("unusualLineTerminators.title","Unusual Line Terminators"),message:De.N("unusualLineTerminators.message","Detected unusual line terminators"),detail:De.N("unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",(0,Oo.EZ)(t.uri)),primaryButton:De.N("unusualLineTerminators.fix","Remove Unusual Line Terminators"),secondaryButton:De.N("unusualLineTerminators.ignore","Ignore")})).confirmed?t.removeUnusualLineTerminators(this._editor.getSelections()):function(a,t,e){a.setModelProperty(t.uri,_v,!0)}(this._codeEditorService,t):t.removeUnusualLineTerminators(this._editor.getSelections()))})}};rg.ID="editor.contrib.unusualLineTerminatorsDetector",rg=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([pv(1,s1.S),pv(2,In.$)],rg),(0,Qe._K)(rg.ID,rg);var Cv=m(82437),bv=m(18548),QE=m(31128),ag=function(a,t){return function(e,n){t(e,n,a)}};let lg=class extends Tt.JT{constructor(t,e,n,o,s,d){super(),this._modelService=e,this._themeService=n,this._configurationService=o,this._editor=t,this._provider=d.documentRangeSemanticTokensProvider,this._debounceInformation=s.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new Bn.pY(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];const p=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{p()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),p()})),this._register(this._editor.onDidChangeModelContent(V=>{this._cancelAll(),p()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),p()})),this._register(this._configurationService.onDidChangeConfiguration(V=>{V.affectsConfiguration(bv.e3)&&(this._cancelAll(),p())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),p()}))}_cancelAll(){for(const t of this._outstandingRequests)t.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(t){for(let e=0,n=this._outstandingRequests.length;e<n;e++)if(this._outstandingRequests[e]===t)return void this._outstandingRequests.splice(e,1)}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const t=this._editor.getModel();if(t.hasCompleteSemanticTokens())return;if(!(0,bv.tw)(t,this._themeService,this._configurationService))return void(t.hasSomeSemanticTokens()&&t.setSemanticTokens(null,!1));if(!(0,Cv.KO)(this._provider,t))return void(t.hasSomeSemanticTokens()&&t.setSemanticTokens(null,!1));const e=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(e.map(n=>this._requestRange(t,n)))}_requestRange(t,e){const n=t.getVersionId(),o=(0,Bn.PG)(d=>Promise.resolve((0,Cv.OG)(this._provider,t,e,d))),s=new ea.G(!1);return o.then(d=>{if(this._debounceInformation.update(t,s.elapsed()),!d||!d.tokens||t.isDisposed()||t.getVersionId()!==n)return;const{provider:p,tokens:V}=d,H=this._modelService.getSemanticTokensProviderStyling(p);t.setPartialSemanticTokens(e,(0,QE.h)(V,H,t.getLanguageId()))}).then(()=>this._removeOutstandingRequest(o),()=>this._removeOutstandingRequest(o)),o}};lg.ID="editor.contrib.viewportSemanticTokens",lg=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([ag(1,qr.q),ag(2,A.XE),ag(3,Jo.Ui),ag(4,pr.A),ag(5,Ui.p)],lg),(0,Qe._K)(lg.ID,lg);var vv=function(a,t){return function(e,n){t(e,n,a)}};const XE=(0,y.P6G)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},De.N("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0),qE=(0,y.P6G)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},De.N("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),eM=(0,y.P6G)("editor.wordHighlightBorder",{light:null,dark:null,hc:y.xL1},De.N("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable.")),tM=(0,y.P6G)("editor.wordHighlightStrongBorder",{light:null,dark:null,hc:y.xL1},De.N("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),nM=(0,y.P6G)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},De.N("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),iM=(0,y.P6G)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hc:"#C0A0C0CC"},De.N("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),lp=new Qt.uy("hasWordHighlights",!1);function wv(a,t,e,n){const o=a.ordered(t);return(0,Bn.Ps)(o.map(s=>()=>Promise.resolve(s.provideDocumentHighlights(t,e,n)).then(void 0,Qn.Cp)),ro.Of)}class yv{constructor(t,e,n){this._model=t,this._selection=e,this._wordSeparators=n,this._wordRange=this._getCurrentWordRange(t,e),this._result=null}get result(){return this._result||(this._result=(0,Bn.PG)(t=>this._compute(this._model,this._selection,this._wordSeparators,t))),this._result}_getCurrentWordRange(t,e){const n=t.getWordAtPosition(e.getPosition());return n?new kt.e(e.startLineNumber,n.startColumn,e.startLineNumber,n.endColumn):null}isValid(t,e,n){const o=e.startLineNumber,s=e.startColumn,d=e.endColumn,p=this._getCurrentWordRange(t,e);let V=Boolean(this._wordRange&&this._wordRange.equalsRange(p));for(let H=0,U=n.length;!V&&H<U;H++){let ne=t.getDecorationRange(n[H]);ne&&ne.startLineNumber===o&&ne.startColumn<=s&&ne.endColumn>=d&&(V=!0)}return V}cancel(){this.result.cancel()}}class oM extends yv{constructor(t,e,n,o){super(t,e,n),this._providers=o}_compute(t,e,n,o){return wv(this._providers,t,e.getPosition(),o).then(s=>s||[])}}class sM extends yv{constructor(t,e,n){super(t,e,n),this._selectionIsEmpty=e.isEmpty()}_compute(t,e,n,o){return(0,Bn.Vs)(250,o).then(()=>{if(!e.isEmpty())return[];const s=t.getWordAtPosition(e.getPosition());return!s||s.word.length>1e3?[]:t.findMatches(s.word,!0,!1,!0,n,!1).map(p=>({range:p.range,kind:Xi.MY.Text}))})}isValid(t,e,n){const o=e.isEmpty();return this._selectionIsEmpty===o&&super.isValid(t,e,n)}}(0,Qe.sb)("_executeDocumentHighlights",(a,t,e)=>wv(a.get(Ui.p).documentHighlightProvider,t,e,Zn.T.None));class Lh{constructor(t,e,n){this.toUnhook=new Tt.SL,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=t,this.providers=e,this._hasWordHighlights=lp.bindTo(n),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(72),this.model=this.editor.getModel(),this.toUnhook.add(t.onDidChangeCursorPosition(o=>{this._ignorePositionChangeEvent||!this.occurrencesHighlight||this._onPositionChanged(o)})),this.toUnhook.add(t.onDidChangeModelContent(o=>{this._stopAll()})),this.toUnhook.add(t.onDidChangeConfiguration(o=>{let s=this.editor.getOption(72);this.occurrencesHighlight!==s&&(this.occurrencesHighlight=s,this._stopAll())})),this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this._decorationIds.length>0}restore(){!this.occurrencesHighlight||this._run()}_getSortedHighlights(){return ro.kX(this._decorationIds.map(t=>this.model.getDecorationRange(t)).sort(kt.e.compareRangesUsingStarts))}moveNext(){let t=this._getSortedHighlights(),n=(t.findIndex(s=>s.containsPosition(this.editor.getPosition()))+1)%t.length,o=t[n];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(o.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(o);const s=this._getWord();if(s){const d=this.editor.getModel().getLineContent(o.startLineNumber);(0,$s.Z9)(`${d}, ${n+1} of ${t.length} for '${s.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){let t=this._getSortedHighlights(),n=(t.findIndex(s=>s.containsPosition(this.editor.getPosition()))-1+t.length)%t.length,o=t[n];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(o.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(o);const s=this._getWord();if(s){const d=this.editor.getModel().getLineContent(o.startLineNumber);(0,$s.Z9)(`${d}, ${n+1} of ${t.length} for '${s.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),null!==this.workerRequest&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(t){this.occurrencesHighlight&&3===t.reason?this._run():this._stopAll()}_getWord(){let t=this.editor.getSelection();return this.model.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn})}_run(){let t=this.editor.getSelection();if(t.startLineNumber!==t.endLineNumber)return void this._stopAll();let e=t.startColumn,n=t.endColumn;const o=this._getWord();if(!o||o.startColumn>e||o.endColumn<n)return void this._stopAll();const s=this.workerRequest&&this.workerRequest.isValid(this.model,t,this._decorationIds);if(this.lastCursorPositionChangeTime=(new Date).getTime(),s)this.workerRequestCompleted&&-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();let d=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=function(a,t,e,n){return a.has(t)?new oM(t,e,n,a):new sM(t,e,n)}(this.providers,this.model,this.editor.getSelection(),this.editor.getOption(117)),this.workerRequest.result.then(p=>{d===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=p||[],this._beginRenderDecorations())},Qn.dL)}}_beginRenderDecorations(){let t=(new Date).getTime(),e=this.lastCursorPositionChangeTime+250;t>=e?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},e-t)}renderDecorations(){this.renderDecorationsTimer=-1;let t=[];for(const e of this.workerRequestValue)e.range&&t.push({range:e.range,options:Lh._getDecorationOptions(e.kind)});this._decorationIds=this.editor.deltaDecorations(this._decorationIds,t),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(t){return t===Xi.MY.Write?this._WRITE_OPTIONS:t===Xi.MY.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}Lh._WRITE_OPTIONS=r.qx.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,A.EN)(iM),position:Te.sh.Center},minimap:{color:(0,A.EN)(y.IYc),position:Te.F5.Inline}}),Lh._TEXT_OPTIONS=r.qx.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,A.EN)(y.SPM),position:Te.sh.Center},minimap:{color:(0,A.EN)(y.IYc),position:Te.F5.Inline}}),Lh._REGULAR_OPTIONS=r.qx.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,A.EN)(nM),position:Te.sh.Center},minimap:{color:(0,A.EN)(y.IYc),position:Te.F5.Inline}});let iu=class yw extends Tt.JT{constructor(t,e,n){super(),this.wordHighlighter=null;const o=()=>{t.hasModel()&&(this.wordHighlighter=new Lh(t,n.documentHighlightProvider,e))};this._register(t.onDidChangeModel(s=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),o()})),o()}static get(t){return t.getContribution(yw.ID)}saveViewState(){return!(!this.wordHighlighter||!this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(t){this.wordHighlighter&&t&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};iu.ID="editor.contrib.wordHighlighter",iu=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([vv(1,Qt.i6),vv(2,Ui.p)],iu);class Sv extends Qe.R6{constructor(t,e){super(e),this._isNext=t}run(t,e){const n=iu.get(e);!n||(this._isNext?n.moveNext():n.moveBack())}}(0,Qe._K)(iu.ID,iu),(0,Qe.Qr)(class extends Sv{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:De.N("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:lp,kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:65,weight:100}})}}),(0,Qe.Qr)(class extends Sv{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:De.N("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:lp,kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:1089,weight:100}})}}),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.wordHighlight.trigger",label:De.N("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:lp.toNegated(),kbOpts:{kbExpr:Ct.u.editorTextFocus,primary:0,weight:100}})}run(t,e,n){const o=iu.get(e);!o||o.restoreViewState(!0)}}),(0,A.Ic)((a,t)=>{const e=a.getColor(y.Rzx);e&&(t.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${e}; }`),t.addRule(`.monaco-editor .selectionHighlight { background-color: ${e.transparent(.5)}; }`));const n=a.getColor(XE);n&&t.addRule(`.monaco-editor .wordHighlight { background-color: ${n}; }`);const o=a.getColor(qE);o&&t.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${o}; }`);const s=a.getColor(y.g_n);s&&t.addRule(`.monaco-editor .selectionHighlight { border: 1px ${"hc"===a.type?"dotted":"solid"} ${s}; box-sizing: border-box; }`);const d=a.getColor(eM);d&&t.addRule(`.monaco-editor .wordHighlight { border: 1px ${"hc"===a.type?"dashed":"solid"} ${d}; box-sizing: border-box; }`);const p=a.getColor(tM);p&&t.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${"hc"===a.type?"dashed":"solid"} ${p}; box-sizing: border-box; }`)});var dM=m(35590),nc=m(34397),ou=m(81346),cp=m(70114);class dp extends Qe._l{constructor(t){super(t),this._inSelectionMode=t.inSelectionMode,this._wordNavigationType=t.wordNavigationType}runEditorCommand(t,e,n){if(!e.hasModel())return;const o=(0,ou.u)(e.getOption(117)),s=e.getModel(),p=e.getSelections().map(V=>{const H=new di.L(V.positionLineNumber,V.positionColumn),U=this._move(o,s,H,this._wordNavigationType);return this._moveTo(V,U,this._inSelectionMode)});if(s.pushStackElement(),e._getViewModel().setCursorStates("moveWordCommand",3,p.map(V=>dM.Vi.fromModelSelection(V))),1===p.length){const V=new di.L(p[0].positionLineNumber,p[0].positionColumn);e.revealPosition(V,0)}}_moveTo(t,e,n){return n?new ci.Y(t.selectionStartLineNumber,t.selectionStartColumn,e.lineNumber,e.column):new ci.Y(e.lineNumber,e.column,e.lineNumber,e.column)}}class Yc extends dp{_move(t,e,n,o){return nc.w.moveWordLeft(t,e,n,o)}}class Jc extends dp{_move(t,e,n,o){return nc.w.moveWordRight(t,e,n,o)}}class up extends Qe._l{constructor(t){super(t),this._whitespaceHeuristics=t.whitespaceHeuristics,this._wordNavigationType=t.wordNavigationType}runEditorCommand(t,e,n){const o=t.get(Vo.c_);if(!e.hasModel())return;const s=(0,ou.u)(e.getOption(117)),d=e.getModel(),p=e.getSelections(),V=e.getOption(5),H=e.getOption(8),U=o.getLanguageConfiguration(d.getLanguageId()).getAutoClosingPairs(),ne=e._getViewModel(),be=p.map(Ee=>{const Ke=this._delete({wordSeparators:s,model:d,selection:Ee,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:e.getOption(6),autoClosingBrackets:V,autoClosingQuotes:H,autoClosingPairs:U,autoClosedCharacters:ne.getCursorAutoClosedCharacters()},this._wordNavigationType);return new xt.T4(Ke,"")});e.pushUndoStop(),e.executeCommands(this.id,be),e.pushUndoStop()}}class r1 extends up{_delete(t,e){return nc.w.deleteWordLeft(t,e)||new kt.e(1,1,1,1)}}class a1 extends up{_delete(t,e){let n=nc.w.deleteWordRight(t,e);if(n)return n;const o=t.model.getLineCount(),s=t.model.getLineMaxColumn(o);return new kt.e(o,s,o,s)}}(0,Qe.fK)(new class extends Yc{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}),(0,Qe.fK)(new class extends Yc{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}),(0,Qe.fK)(new class extends Yc{constructor(){var t;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:Qt.Ao.and(Ct.u.textInputFocus,null===(t=Qt.Ao.and(Ic.U,cp.cv))||void 0===t?void 0:t.negate()),primary:2063,mac:{primary:527},weight:100}})}}),(0,Qe.fK)(new class extends Yc{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}),(0,Qe.fK)(new class extends Yc{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}),(0,Qe.fK)(new class extends Yc{constructor(){var t;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:Qt.Ao.and(Ct.u.textInputFocus,null===(t=Qt.Ao.and(Ic.U,cp.cv))||void 0===t?void 0:t.negate()),primary:3087,mac:{primary:1551},weight:100}})}}),(0,Qe.fK)(new class extends Jc{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}),(0,Qe.fK)(new class extends Jc{constructor(){var t;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:Qt.Ao.and(Ct.u.textInputFocus,null===(t=Qt.Ao.and(Ic.U,cp.cv))||void 0===t?void 0:t.negate()),primary:2065,mac:{primary:529},weight:100}})}}),(0,Qe.fK)(new class extends Jc{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}),(0,Qe.fK)(new class extends Jc{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}),(0,Qe.fK)(new class extends Jc{constructor(){var t;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:Qt.Ao.and(Ct.u.textInputFocus,null===(t=Qt.Ao.and(Ic.U,cp.cv))||void 0===t?void 0:t.negate()),primary:3089,mac:{primary:1553},weight:100}})}}),(0,Qe.fK)(new class extends Jc{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}),(0,Qe.fK)(new class extends Yc{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(t,e,n,o){return super._move((0,ou.u)(ns.BH.wordSeparators.defaultValue),e,n,o)}}),(0,Qe.fK)(new class extends Yc{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(t,e,n,o){return super._move((0,ou.u)(ns.BH.wordSeparators.defaultValue),e,n,o)}}),(0,Qe.fK)(new class extends Jc{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(t,e,n,o){return super._move((0,ou.u)(ns.BH.wordSeparators.defaultValue),e,n,o)}}),(0,Qe.fK)(new class extends Jc{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(t,e,n,o){return super._move((0,ou.u)(ns.BH.wordSeparators.defaultValue),e,n,o)}}),(0,Qe.fK)(new class extends r1{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:Ct.u.writable})}}),(0,Qe.fK)(new class extends r1{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:Ct.u.writable})}}),(0,Qe.fK)(new class extends r1{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:Ct.u.writable,kbOpts:{kbExpr:Ct.u.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}),(0,Qe.fK)(new class extends a1{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:Ct.u.writable})}}),(0,Qe.fK)(new class extends a1{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:Ct.u.writable})}}),(0,Qe.fK)(new class extends a1{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:Ct.u.writable,kbOpts:{kbExpr:Ct.u.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"deleteInsideWord",precondition:Ct.u.writable,label:De.N("deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(t,e,n){if(!e.hasModel())return;const o=(0,ou.u)(e.getOption(117)),s=e.getModel(),p=e.getSelections().map(V=>{const H=nc.w.deleteInsideWord(o,s,V);return new xt.T4(H,"")});e.pushUndoStop(),e.executeCommands(this.id,p),e.pushUndoStop()}});class xv extends dp{_move(t,e,n,o){return nc.L.moveWordPartLeft(t,e,n)}}eo.P0.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft"),eo.P0.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class Lv extends dp{_move(t,e,n,o){return nc.L.moveWordPartRight(t,e,n)}}(0,Qe.fK)(new class extends up{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:Ct.u.writable,kbOpts:{kbExpr:Ct.u.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(t,e){return nc.L.deleteWordPartLeft(t)||new kt.e(1,1,1,1)}}),(0,Qe.fK)(new class extends up{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:Ct.u.writable,kbOpts:{kbExpr:Ct.u.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(t,e){let n=nc.L.deleteWordPartRight(t);if(n)return n;const o=t.model.getLineCount(),s=t.model.getLineMaxColumn(o);return new kt.e(o,s,o,s)}}),(0,Qe.fK)(new class extends xv{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:Ct.u.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}),(0,Qe.fK)(new class extends xv{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:Ct.u.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}),(0,Qe.fK)(new class extends Lv{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:Ct.u.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}),(0,Qe.fK)(new class extends Lv{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:Ct.u.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}});var xo=m(1598),Dv=(m(81089),m(81718)),Ev=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},hp=function(a,t){return function(e,n){t(e,n,a)}};const Mv=new Qt.uy("accessibilityHelpWidgetVisible",!1);let su=class Sw extends Tt.JT{constructor(t,e){super(),this._editor=t,this._widget=this._register(e.createInstance(Dh,this._editor))}static get(t){return t.getContribution(Sw.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};su.ID="editor.contrib.accessibilityHelpController",su=Ev([hp(1,Qi.TG)],su);let Dh=class Dp extends sl.${constructor(t,e,n,o){super(),this._contextKeyService=e,this._keybindingService=n,this._openerService=o,this._editor=t,this._isVisibleKey=Mv.bindTo(this._contextKeyService),this._domNode=(0,Dv.X)(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=(0,Dv.X)(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(()=>{this._isVisible&&this._layout()})),this._register(st.mu(this._contentDomNode.domNode,"keydown",s=>{if(this._isVisible&&(s.equals(2083)&&((0,$s.Z9)(xo.Oe.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),st.PO(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),s.preventDefault(),s.stopPropagation()),s.equals(2086))){(0,$s.Z9)(xo.Oe.openingDocs);let d=this._editor.getRawOptions().accessibilityHelpUrl;void 0===d&&(d="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(wo.o.parse(d)),s.preventDefault(),s.stopPropagation()}})),this.onblur(this._contentDomNode.domNode,()=>{this.hide()}),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return Dp.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(t,e,n){const o=this._keybindingService.lookupKeybinding(t);return o?jn.WU(e,o.getAriaLabel()):jn.WU(n,t)}_buildContent(){const t=this._editor.getOptions(),e=this._editor.getSelections();let n=0;if(e){const p=this._editor.getModel();p&&e.forEach(V=>{n+=p.getValueLengthInRange(V)})}let o=function(a,t){return a&&0!==a.length?1===a.length?t?jn.WU(xo.Oe.singleSelectionRange,a[0].positionLineNumber,a[0].positionColumn,t):jn.WU(xo.Oe.singleSelection,a[0].positionLineNumber,a[0].positionColumn):t?jn.WU(xo.Oe.multiSelectionRange,a.length,t):a.length>0?jn.WU(xo.Oe.multiSelection,a.length):"":xo.Oe.noSelection}(e,n);t.get(54)?t.get(81)?o+=xo.Oe.readonlyDiffEditor:o+=xo.Oe.editableDiffEditor:t.get(81)?o+=xo.Oe.readonlyEditor:o+=xo.Oe.editableEditor;const s=$t.dz?xo.Oe.changeConfigToOnMac:xo.Oe.changeConfigToOnWinLinux;switch(t.get(2)){case 0:o+="\n\n - "+s;break;case 2:o+="\n\n - "+xo.Oe.auto_on;break;case 1:o+="\n\n - "+xo.Oe.auto_off,o+=" "+s}t.get(130)?o+="\n\n - "+this._descriptionForCommand(Q_.ID,xo.Oe.tabFocusModeOnMsg,xo.Oe.tabFocusModeOnMsgNoKb):o+="\n\n - "+this._descriptionForCommand(Q_.ID,xo.Oe.tabFocusModeOffMsg,xo.Oe.tabFocusModeOffMsgNoKb),o+="\n\n - "+($t.dz?xo.Oe.openDocMac:xo.Oe.openDocWinLinux),o+="\n\n"+xo.Oe.outroMsg,this._contentDomNode.domNode.appendChild((0,pC.BO)(o)),this._contentDomNode.domNode.setAttribute("aria-label",o)}hide(){!this._isVisible||(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,st.PO(this._contentDomNode.domNode),this._editor.focus())}_layout(){const t=this._editor.getLayoutInfo(),e=Math.max(5,Math.min(Dp.WIDTH,t.width-40)),n=Math.max(5,Math.min(Dp.HEIGHT,t.height-40));this._domNode.setWidth(e),this._domNode.setHeight(n);const o=Math.round((t.height-n)/2);this._domNode.setTop(o);const s=Math.round((t.width-e)/2);this._domNode.setLeft(s)}};Dh.ID="editor.contrib.accessibilityHelpWidget",Dh.WIDTH=500,Dh.HEIGHT=300,Dh=Ev([hp(1,Qt.i6),hp(2,Zs.d),hp(3,na.v4)],Dh),(0,Qe._K)(su.ID,su),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.showAccessibilityHelp",label:xo.Oe.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:571,weight:100,linux:{primary:1595,secondary:[571]}}})}run(t,e){const n=su.get(e);n&&n.show()}});const zM=Qe._l.bindToContribution(su.get);(0,Qe.fK)(new zM({id:"closeAccessibilityHelp",precondition:Mv,handler:a=>a.hide(),kbOpts:{weight:200,kbExpr:Ct.u.focus,primary:9,secondary:[1033]}})),(0,A.Ic)((a,t)=>{const e=a.getColor(y.D0T);e&&t.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${e}; }`);const n=a.getColor(y.Hfx);n&&t.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${n}; }`);const o=a.getColor(y.rh);o&&t.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${o}; }`);const s=a.getColor(y.lRK);s&&t.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${s}; }`)}),m(27354);let Nv=(()=>{class a extends Tt.JT{constructor(e){super(),this.editor=e,this.widget=null,$t.gn&&(this._register(e.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const e=!this.editor.getOption(81);!this.widget&&e?this.widget=new UM(this.editor):this.widget&&!e&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}return a.ID="editor.contrib.iPadShowKeyboard",a})(),UM=(()=>{class a extends Tt.JT{constructor(e){super(),this.editor=e,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(st.nm(this._domNode,"touchstart",n=>{this.editor.focus()})),this._register(st.nm(this._domNode,"focus",n=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return a.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}return a.ID="editor.contrib.ShowKeyboardWidget",a})();(0,Qe._K)(Nv.ID,Nv),m(73215);var l1=m(88057),Iv=m(92094),kv=function(a,t){return function(e,n){t(e,n,a)}};let Eh=class xw extends Tt.JT{constructor(t,e,n){super(),this._editor=t,this._languageService=n,this._widget=null,this._register(this._editor.onDidChangeModel(o=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(o=>this.stop())),this._register(Xi.RW.onDidChange(o=>this.stop())),this._register(this._editor.onKeyUp(o=>9===o.keyCode&&this.stop()))}static get(t){return t.getContribution(xw.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||!this._editor.hasModel()||(this._widget=new GM(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};Eh.ID="editor.contrib.inspectTokens",Eh=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([kv(1,Iv.Z),kv(2,or.O)],Eh);let GM=(()=>{class a extends Tt.JT{constructor(e,n){super(),this.allowEditorOverflow=!0,this._editor=e,this._languageService=n,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=function(a,t){const e=Xi.RW.get(t);if(e)return e;const n=a.encodeLanguageId(t);return{getInitialState:()=>l1.TJ,tokenize:(o,s,d)=>(0,l1.Ri)(t,d),tokenizeEncoded:(o,s,d)=>(0,l1.Dy)(n,d)}}(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(o=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return a._ID}_compute(e){const n=this._getTokensAtLine(e.lineNumber);let o=0;for(let H=n.tokens1.length-1;H>=0;H--)if(e.column-1>=n.tokens1[H].offset){o=H;break}let s=0;for(let H=n.tokens2.length>>>1;H>=0;H--)if(e.column-1>=n.tokens2[H<<1]){s=H;break}const d=this._model.getLineContent(e.lineNumber);let p="";o<n.tokens1.length&&(p=d.substring(n.tokens1[o].offset,o+1<n.tokens1.length?n.tokens1[o+1].offset:d.length)),(0,st.mc)(this._domNode,(0,st.$)("h2.tm-token",void 0,function(a){let t="";for(let e=0,n=a.length;e<n;e++){const o=a.charCodeAt(e);switch(o){case 9:t+="\u2192";break;case 32:t+="\xb7";break;default:t+=String.fromCharCode(o)}}return t}(p),(0,st.$)("span.tm-token-length",void 0,`${p.length} ${1===p.length?"char":"chars"}`))),(0,st.R3)(this._domNode,(0,st.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const V=1+(s<<1)<n.tokens2.length?this._decodeMetadata(n.tokens2[1+(s<<1)]):null;(0,st.R3)(this._domNode,(0,st.$)("table.tm-metadata-table",void 0,(0,st.$)("tbody",void 0,(0,st.$)("tr",void 0,(0,st.$)("td.tm-metadata-key",void 0,"language"),(0,st.$)("td.tm-metadata-value",void 0,`${V?V.languageId:"-?-"}`)),(0,st.$)("tr",void 0,(0,st.$)("td.tm-metadata-key",void 0,"token type"),(0,st.$)("td.tm-metadata-value",void 0,`${V?this._tokenTypeToString(V.tokenType):"-?-"}`)),(0,st.$)("tr",void 0,(0,st.$)("td.tm-metadata-key",void 0,"font style"),(0,st.$)("td.tm-metadata-value",void 0,`${V?this._fontStyleToString(V.fontStyle):"-?-"}`)),(0,st.$)("tr",void 0,(0,st.$)("td.tm-metadata-key",void 0,"foreground"),(0,st.$)("td.tm-metadata-value",void 0,`${V?ji.Il.Format.CSS.formatHex(V.foreground):"-?-"}`)),(0,st.$)("tr",void 0,(0,st.$)("td.tm-metadata-key",void 0,"background"),(0,st.$)("td.tm-metadata-value",void 0,`${V?ji.Il.Format.CSS.formatHex(V.background):"-?-"}`))))),(0,st.R3)(this._domNode,(0,st.$)("hr.tokens-inspect-separator")),o<n.tokens1.length&&(0,st.R3)(this._domNode,(0,st.$)("span.tm-token-type",void 0,n.tokens1[o].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(e){const n=Xi.RW.getColorMap(),o=Xi.NX.getLanguageId(e),s=Xi.NX.getTokenType(e),d=Xi.NX.getFontStyle(e),p=Xi.NX.getForeground(e),V=Xi.NX.getBackground(e);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(o),tokenType:s,fontStyle:d,foreground:n[p],background:n[V]}}_tokenTypeToString(e){switch(e){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(e){let n="";return 1&e&&(n+="italic "),2&e&&(n+="bold "),4&e&&(n+="underline "),8&e&&(n+="strikethrough "),0===n.length&&(n="---"),n}_getTokensAtLine(e){const n=this._getStateBeforeLine(e),o=this._tokenizationSupport.tokenize(this._model.getLineContent(e),!0,n),s=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(e),!0,n);return{startState:n,tokens1:o.tokens,tokens2:s.tokens,endState:o.endState}}_getStateBeforeLine(e){let n=this._tokenizationSupport.getInitialState();for(let o=1;o<e;o++)n=this._tokenizationSupport.tokenize(this._model.getLineContent(o),!0,n).endState;return n}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}return a._ID="editor.contrib.inspectTokensWidget",a})();(0,Qe._K)(Eh.ID,Eh),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.inspectTokens",label:xo.ug.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(t,e){const n=Eh.get(e);n&&n.launch()}}),(0,A.Ic)((a,t)=>{const e=a.getColor(y.CNo);e&&(t.addRule(`.monaco-editor .tokens-inspect-widget { border: ${a.type===rv.e.HIGH_CONTRAST?2:1}px solid ${e}; }`),t.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${e}; }`));const n=a.getColor(y.yJx);n&&t.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${n}; }`);const o=a.getColor(y.Sbf);o&&t.addRule(`.monaco-editor .tokens-inspect-widget { color: ${o}; }`)});var cg=m(76183);let fp=class Ep{constructor(t){this.quickInputService=t,this.registry=bh.B.as(cg.IP.Quickaccess)}provide(t){const e=new Tt.SL;e.add(t.onDidAccept(()=>{const[s]=t.selectedItems;s&&this.quickInputService.quickAccess.show(s.prefix,{preserveValue:!0})})),e.add(t.onDidChangeValue(s=>{const d=this.registry.getQuickAccessProvider(s.substr(Ep.PREFIX.length));d&&d.prefix&&d.prefix!==Ep.PREFIX&&this.quickInputService.quickAccess.show(d.prefix,{preserveValue:!0})}));const{editorProviders:n,globalProviders:o}=this.getQuickAccessProviders();return t.items=0===n.length||0===o.length?[...0===n.length?o:n]:[{label:(0,De.N)("globalCommands","global commands"),type:"separator"},...o,{label:(0,De.N)("editorCommands","editor commands"),type:"separator"},...n],e}getQuickAccessProviders(){const t=[],e=[];for(const n of this.registry.getQuickAccessProviders().sort((o,s)=>o.prefix.localeCompare(s.prefix)))if(n.prefix!==Ep.PREFIX)for(const o of n.helpEntries){const s=o.prefix||n.prefix,d=s||"\u2026";(o.needsEditor?e:t).push({prefix:s,label:d,ariaLabel:(0,De.N)("helpPickAriaLabel","{0}, {1}",d,o.description),description:o.description})}return{editorProviders:e,globalProviders:t}}};fp.PREFIX="?",fp=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([function(a,t){return function(e,n){t(e,n,0)}}(0,Pa.eJ)],fp),bh.B.as(cg.IP.Quickaccess).registerQuickAccessProvider({ctor:fp,prefix:"",helpEntries:[{description:xo.ld.helpQuickAccessActionLabel,needsEditor:!0}]});class Tv{constructor(t){this.options=t,this.rangeHighlightDecorationId=void 0}provide(t,e){var n;const o=new Tt.SL;t.canAcceptInBackground=!!(null===(n=this.options)||void 0===n?void 0:n.canAcceptInBackground),t.matchOnLabel=t.matchOnDescription=t.matchOnDetail=t.sortByLabel=!1;const s=o.add(new Tt.XK);return s.value=this.doProvide(t,e),o.add(this.onDidActiveTextEditorControlChange(()=>{s.value=void 0,s.value=this.doProvide(t,e)})),o}doProvide(t,e){const n=new Tt.SL,o=this.activeTextEditorControl;if(o&&this.canProvideWithTextEditor(o)){const s={editor:o},d=(0,Pd.Pi)(o);if(d){let p=(0,$i.f6)(o.saveViewState());n.add(d.onDidChangeCursorPosition(()=>{p=(0,$i.f6)(o.saveViewState())})),s.restoreViewState=()=>{p&&o===this.activeTextEditorControl&&o.restoreViewState(p)},n.add((0,Fu.I)(e.onCancellationRequested)(()=>{var V;return null===(V=s.restoreViewState)||void 0===V?void 0:V.call(s)}))}n.add((0,Tt.OF)(()=>this.clearDecorations(o))),n.add(this.provideWithTextEditor(s,t,e))}else n.add(this.provideWithoutTextEditor(t,e));return n}canProvideWithTextEditor(t){return!0}gotoLocation({editor:t},e){t.setSelection(e.range),t.revealRangeInCenter(e.range,0),e.preserveFocus||t.focus()}getModel(t){var e;return(0,Pd.QI)(t)?null===(e=t.getModel())||void 0===e?void 0:e.modified:t.getModel()}addDecorations(t,e){t.changeDecorations(n=>{const o=[];this.rangeHighlightDecorationId&&(o.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),o.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const s=[{range:e,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:e,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,A.EN)(c.m9),position:Te.sh.Full}}}],[d,p]=n.deltaDecorations(o,s);this.rangeHighlightDecorationId={rangeHighlightId:d,overviewRulerDecorationId:p}})}clearDecorations(t){const e=this.rangeHighlightDecorationId;e&&(t.changeDecorations(n=>{n.deltaDecorations([e.overviewRulerDecorationId,e.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}let JM=(()=>{class a extends Tv{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(e){const n=(0,De.N)("cannotRunGotoLine","Open a text editor first to go to a line.");return e.items=[{label:n}],e.ariaLabel=n,Tt.JT.None}provideWithTextEditor(e,n,o){const s=e.editor,d=new Tt.SL;d.add(n.onDidAccept(H=>{const[U]=n.selectedItems;if(U){if(!this.isValidLineNumber(s,U.lineNumber))return;this.gotoLocation(e,{range:this.toRange(U.lineNumber,U.column),keyMods:n.keyMods,preserveFocus:H.inBackground}),H.inBackground||n.hide()}}));const p=()=>{const H=this.parsePosition(s,n.value.trim().substr(a.PREFIX.length)),U=this.getPickLabel(s,H.lineNumber,H.column);if(n.items=[{lineNumber:H.lineNumber,column:H.column,label:U}],n.ariaLabel=U,!this.isValidLineNumber(s,H.lineNumber))return void this.clearDecorations(s);const ne=this.toRange(H.lineNumber,H.column);s.revealRangeInCenter(ne,0),this.addDecorations(s,ne)};p(),d.add(n.onDidChangeValue(()=>p()));const V=(0,Pd.Pi)(s);return V&&2===V.getOptions().get(60).renderType&&(V.updateOptions({lineNumbers:"on"}),d.add((0,Tt.OF)(()=>V.updateOptions({lineNumbers:"relative"})))),d}toRange(e=1,n=1){return{startLineNumber:e,startColumn:n,endLineNumber:e,endColumn:n}}parsePosition(e,n){const o=n.split(/,|:|#/).map(d=>parseInt(d,10)).filter(d=>!isNaN(d)),s=this.lineCount(e)+1;return{lineNumber:o[0]>0?o[0]:s+o[0],column:o[1]}}getPickLabel(e,n,o){if(this.isValidLineNumber(e,n))return this.isValidColumn(e,n,o)?(0,De.N)("gotoLineColumnLabel","Go to line {0} and character {1}.",n,o):(0,De.N)("gotoLineLabel","Go to line {0}.",n);const s=e.getPosition()||{lineNumber:1,column:1},d=this.lineCount(e);return d>1?(0,De.N)("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",s.lineNumber,s.column,d):(0,De.N)("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",s.lineNumber,s.column)}isValidLineNumber(e,n){return!(!n||"number"!=typeof n)&&n>0&&n<=this.lineCount(e)}isValidColumn(e,n,o){if(!o||"number"!=typeof o)return!1;const s=this.getModel(e);if(!s)return!1;const d={lineNumber:n,column:o};return s.validatePosition(d).equals(d)}lineCount(e){var n,o;return null!==(o=null===(n=this.getModel(e))||void 0===n?void 0:n.getLineCount())&&void 0!==o?o:0}}return a.PREFIX=":",a})(),dg=class extends JM{constructor(t){super(),this.editorService=t,this.onDidActiveTextEditorControlChange=$n.ju.None}get activeTextEditorControl(){return(0,$i.f6)(this.editorService.getFocusedCodeEditor())}};dg=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([function(a,t){return function(e,n){t(e,n,0)}}(0,In.$)],dg),bh.B.as(cg.IP.Quickaccess).registerQuickAccessProvider({ctor:dg,prefix:dg.PREFIX,helpEntries:[{description:xo.qq.gotoLineActionLabel,needsEditor:!0}]}),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.gotoLine",label:xo.qq.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:Ct.u.focus,primary:2085,mac:{primary:293},weight:100}})}run(t){t.get(Pa.eJ).quickAccess.show(dg.PREFIX)}});const Pv=[void 0,[]];function c1(a,t,e=0,n=0){return t.values&&t.values.length>1?function(a,t,e,n){let o=0;const s=[];for(const d of t){const[p,V]=Ov(a,d,e,n);if("number"!=typeof p)return Pv;o+=p,s.push(...V)}return[o,nN(s)]}(a,t.values,e,n):Ov(a,t,e,n)}function Ov(a,t,e,n){const o=(0,Ys.EW)(t.original,t.originalLowercase,e,a,a.toLowerCase(),n,!0);return o?[o[0],(0,Ys.mB)(o)]:Pv}function nN(a){const t=a.sort((o,s)=>o.start-s.start),e=[];let n;for(const o of t)n&&iN(n,o)?(n.start=Math.min(n.start,o.start),n.end=Math.max(n.end,o.end)):(n=o,e.push(o));return e}function iN(a,t){return!(a.end<t.start||t.end<a.start)}function Av(a){return a.startsWith('"')&&a.endsWith('"')}function d1(a){"string"!=typeof a&&(a="");const t=a.toLowerCase(),{pathNormalized:e,normalized:n,normalizedLowercase:o}=Fv(a),s=e.indexOf(tc.ir)>=0,d=Av(a);let p;const V=a.split(" ");if(V.length>1)for(const H of V){const U=Av(H),{pathNormalized:ne,normalized:be,normalizedLowercase:Ee}=Fv(H);be&&(p||(p=[]),p.push({original:H,originalLowercase:H.toLowerCase(),pathNormalized:ne,normalized:be,normalizedLowercase:Ee,expectContiguousMatch:U}))}return{original:a,originalLowercase:t,pathNormalized:e,normalized:n,normalizedLowercase:o,values:p,containsPathSeparator:s,expectContiguousMatch:d}}function Fv(a){let t;t=a.replace($t.ED?/\//g:/\\/g,tc.ir);const e=(0,jn.R1)(t).replace(/\s|"/g,"");return{pathNormalized:t,normalized:e,normalizedLowercase:e.toLowerCase()}}function Bv(a){return Array.isArray(a)?d1(a.map(t=>t.original).join(" ")):d1(a.original)}Object.freeze({score:0});var Wv=function(a,t){return function(e,n){t(e,n,a)}},ug=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})};let va=class I1 extends Tv{constructor(t,e,n=Object.create(null)){super(n),this._languageFeaturesService=t,this._outlineModelService=e,this.options=n,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(t){return this.provideLabelPick(t,(0,De.N)("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),Tt.JT.None}provideWithTextEditor(t,e,n){const s=this.getModel(t.editor);return s?this._languageFeaturesService.documentSymbolProvider.has(s)?this.doProvideWithEditorSymbols(t,s,e,n):this.doProvideWithoutEditorSymbols(t,s,e,n):Tt.JT.None}doProvideWithoutEditorSymbols(t,e,n,o){const s=new Tt.SL;return this.provideLabelPick(n,(0,De.N)("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),(()=>{ug(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(e,s))||o.isCancellationRequested||s.add(this.doProvideWithEditorSymbols(t,e,n,o))})})(),s}provideLabelPick(t,e){t.items=[{label:e,index:0,kind:14}],t.ariaLabel=e}waitForLanguageSymbolRegistry(t,e){return ug(this,void 0,void 0,function*(){if(this._languageFeaturesService.documentSymbolProvider.has(t))return!0;const n=new Bn.CR,o=e.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(t)&&(o.dispose(),n.complete(!0))}));return e.add((0,Tt.OF)(()=>n.complete(!1))),n.p})}doProvideWithEditorSymbols(t,e,n,o){const s=t.editor,d=new Tt.SL;d.add(n.onDidAccept(ne=>{const[be]=n.selectedItems;be&&be.range&&(this.gotoLocation(t,{range:be.range.selection,keyMods:n.keyMods,preserveFocus:ne.inBackground}),ne.inBackground||n.hide())})),d.add(n.onDidTriggerItemButton(({item:ne})=>{ne&&ne.range&&(this.gotoLocation(t,{range:ne.range.selection,keyMods:n.keyMods,forceSideBySide:!0}),n.hide())}));const p=this.getDocumentSymbols(e,o);let V;const H=()=>ug(this,void 0,void 0,function*(){null==V||V.dispose(!0),n.busy=!1,V=new Zn.A(o),n.busy=!0;try{const ne=d1(n.value.substr(I1.PREFIX.length).trim()),be=yield this.doGetSymbolPicks(p,ne,void 0,V.token);if(o.isCancellationRequested)return;be.length>0?n.items=be:this.provideLabelPick(n,ne.original.length>0?(0,De.N)("noMatchingSymbolResults","No matching editor symbols"):(0,De.N)("noSymbolResults","No editor symbols"))}finally{o.isCancellationRequested||(n.busy=!1)}});d.add(n.onDidChangeValue(()=>H())),H();let U=!0;return d.add(n.onDidChangeActive(()=>{const[ne]=n.activeItems;if(ne&&ne.range){if(U)return void(U=!1);s.revealRangeInCenter(ne.range.selection,0),this.addDecorations(s,ne.range.decoration)}})),d}doGetSymbolPicks(t,e,n,o){return ug(this,void 0,void 0,function*(){const s=yield t;if(o.isCancellationRequested)return[];const d=0===e.original.indexOf(I1.SCOPE_PREFIX),p=d?1:0;let V,H;e.values&&e.values.length>1?(V=Bv(e.values[0]),H=Bv(e.values.slice(1))):V=e;const U=[];for(let Ee=0;Ee<s.length;Ee++){const Ke=s[Ee],ct=(0,jn.fy)(Ke.name),Pt=`$(${Xi.uZ.toIcon(Ke.kind).id}) ${ct}`,Ot=Pt.length-ct.length;let on,Wn,Pn,Ai,Xt=Ke.containerName;if((null==n?void 0:n.extraContainerLabel)&&(Xt=Xt?`${n.extraContainerLabel} \u2022 ${Xt}`:n.extraContainerLabel),e.original.length>p){let as=!1;if(V!==e&&([on,Wn]=c1(Pt,Object.assign(Object.assign({},e),{values:void 0}),p,Ot),"number"==typeof on&&(as=!0)),"number"!=typeof on&&([on,Wn]=c1(Pt,V,p,Ot),"number"!=typeof on))continue;if(!as&&H){if(Xt&&H.original.length>0&&([Pn,Ai]=c1(Xt,H)),"number"!=typeof Pn)continue;"number"==typeof on&&(on+=Pn)}}const Si=Ke.tags&&Ke.tags.indexOf(1)>=0;U.push({index:Ee,kind:Ke.kind,score:on,label:Pt,ariaLabel:ct,description:Xt,highlights:Si?void 0:{label:Wn,description:Ai},range:{selection:kt.e.collapseToStart(Ke.selectionRange),decoration:Ke.range},strikethrough:Si,buttons:(()=>{var as,Ws;const Vs=(null===(as=this.options)||void 0===as?void 0:as.openSideBySideDirection)?null===(Ws=this.options)||void 0===Ws?void 0:Ws.openSideBySideDirection():void 0;if(Vs)return[{iconClass:"right"===Vs?Kn.lA.splitHorizontal.classNames:Kn.lA.splitVertical.classNames,tooltip:"right"===Vs?(0,De.N)("openToSide","Open to the Side"):(0,De.N)("openToBottom","Open to the Bottom")}]})()})}const ne=U.sort((Ee,Ke)=>d?this.compareByKindAndScore(Ee,Ke):this.compareByScore(Ee,Ke));let be=[];if(d){let Ee,Ke,Pt=function(){Ke&&"number"==typeof Ee&&ct>0&&(Ke.label=(0,jn.WU)(h1[Ee]||u1,ct))},ct=0;for(const Ot of ne)Ee!==Ot.kind?(Pt(),Ee=Ot.kind,ct=1,Ke={type:"separator"},be.push(Ke)):ct++,be.push(Ot);Pt()}else ne.length>0&&(be=[{label:(0,De.N)("symbols","symbols ({0})",U.length),type:"separator"},...ne]);return be})}compareByScore(t,e){if("number"!=typeof t.score&&"number"==typeof e.score)return 1;if("number"==typeof t.score&&"number"!=typeof e.score)return-1;if("number"==typeof t.score&&"number"==typeof e.score){if(t.score>e.score)return-1;if(t.score<e.score)return 1}return t.index<e.index?-1:t.index>e.index?1:0}compareByKindAndScore(t,e){const s=(h1[t.kind]||u1).localeCompare(h1[e.kind]||u1);return 0===s?this.compareByScore(t,e):s}getDocumentSymbols(t,e){return ug(this,void 0,void 0,function*(){const n=yield this._outlineModelService.getOrCreate(t,e);return e.isCancellationRequested?[]:n.asListOfDocumentSymbols()})}};va.PREFIX="@",va.SCOPE_PREFIX=":",va.PREFIX_BY_CATEGORY=`${va.PREFIX}${va.SCOPE_PREFIX}`,va=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([Wv(0,Ui.p),Wv(1,Vm)],va);const u1=(0,De.N)("property","properties ({0})"),h1={5:(0,De.N)("method","methods ({0})"),11:(0,De.N)("function","functions ({0})"),8:(0,De.N)("_constructor","constructors ({0})"),12:(0,De.N)("variable","variables ({0})"),4:(0,De.N)("class","classes ({0})"),22:(0,De.N)("struct","structs ({0})"),23:(0,De.N)("event","events ({0})"),24:(0,De.N)("operator","operators ({0})"),10:(0,De.N)("interface","interfaces ({0})"),2:(0,De.N)("namespace","namespaces ({0})"),3:(0,De.N)("package","packages ({0})"),25:(0,De.N)("typeParameter","type parameters ({0})"),1:(0,De.N)("modules","modules ({0})"),6:(0,De.N)("property","properties ({0})"),9:(0,De.N)("enum","enumerations ({0})"),21:(0,De.N)("enumMember","enumeration members ({0})"),14:(0,De.N)("string","strings ({0})"),0:(0,De.N)("file","files ({0})"),17:(0,De.N)("array","arrays ({0})"),15:(0,De.N)("number","numbers ({0})"),16:(0,De.N)("boolean","booleans ({0})"),18:(0,De.N)("object","objects ({0})"),19:(0,De.N)("key","keys ({0})"),7:(0,De.N)("field","fields ({0})"),13:(0,De.N)("constant","constants ({0})")};var f1=function(a,t){return function(e,n){t(e,n,a)}};let g1=class extends va{constructor(t,e,n){super(e,n),this.editorService=t,this.onDidActiveTextEditorControlChange=$n.ju.None}get activeTextEditorControl(){return(0,$i.f6)(this.editorService.getFocusedCodeEditor())}};function m1(a,t){return t&&(a.stack||a.stacktrace)?De.N("stackTrace.format","{0}: {1}",Hv(a),Vv(a.stack)||Vv(a.stacktrace)):Hv(a)}function Vv(a){return Array.isArray(a)?a.join("\n"):a}function Hv(a){return"string"==typeof a.code&&"number"==typeof a.errno&&"string"==typeof a.syscall?De.N("nodeExceptionMessage","A system error occurred ({0})",a.message):a.message||De.N("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function zv(a=null,t=!1){if(!a)return De.N("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(a)){const e=ro.kX(a),n=zv(e[0],t);return e.length>1?De.N("error.moreErrors","{0} ({1} errors in total)",n,e.length):n}if($i.HD(a))return a;if(a.detail){const e=a.detail;if(e.error)return m1(e.error,t);if(e.exception)return m1(e.exception,t)}return a.stack?m1(a,t):a.message?a.message:De.N("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}g1=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([f1(0,In.$),f1(1,Ui.p),f1(2,Vm)],g1),bh.B.as(cg.IP.Quickaccess).registerQuickAccessProvider({ctor:g1,prefix:va.PREFIX,helpEntries:[{description:xo.aq.quickOutlineActionLabel,prefix:va.PREFIX,needsEditor:!0},{description:xo.aq.quickOutlineByCategoryActionLabel,prefix:va.PREFIX_BY_CATEGORY,needsEditor:!0}]}),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.quickOutline",label:xo.aq.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:Ct.u.hasDocumentSymbolProvider,kbOpts:{kbExpr:Ct.u.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(t){t.get(Pa.eJ).quickAccess.show(va.PREFIX)}});var gp=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})},ru=(()=>(function(a){a[a.NO_ACTION=0]="NO_ACTION",a[a.CLOSE_PICKER=1]="CLOSE_PICKER",a[a.REFRESH_PICKER=2]="REFRESH_PICKER",a[a.REMOVE_ITEM=3]="REMOVE_ITEM"}(ru||(ru={})),ru))();function p1(a){return Array.isArray(a.items)}let lN=(()=>{class a extends Tt.JT{constructor(e,n){super(),this.prefix=e,this.options=n}provide(e,n){var o;const s=new Tt.SL;let d;e.canAcceptInBackground=!!(null===(o=this.options)||void 0===o?void 0:o.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;const p=s.add(new Tt.XK),V=()=>gp(this,void 0,void 0,function*(){const H=p.value=new Tt.SL;null==d||d.dispose(!0),e.busy=!1,d=new Zn.A(n);const U=d.token,ne=e.value.substr(this.prefix.length).trim(),be=this._getPicks(ne,H,U),Ee=(Ke,ct)=>{var Pt;let Ot,Xt;if(p1(Ke)?(Ot=Ke.items,Xt=Ke.active):Ot=Ke,0===Ot.length){if(ct)return!1;ne.length>0&&(null===(Pt=this.options)||void 0===Pt?void 0:Pt.noResultsPick)&&(Ot=[this.options.noResultsPick])}return e.items=Ot,Xt&&(e.activeItems=[Xt]),!0};if(null!==be)if(function(a){return!!a.picks&&a.additionalPicks instanceof Promise}(be)){let Ke=!1,ct=!1;yield Promise.all([(()=>gp(this,void 0,void 0,function*(){yield(0,Bn.Vs)(a.FAST_PICKS_RACE_DELAY),!U.isCancellationRequested&&(ct||(Ke=Ee(be.picks,!0)))}))(),(()=>gp(this,void 0,void 0,function*(){e.busy=!0;try{const Pt=yield be.additionalPicks;if(U.isCancellationRequested)return;let Ot,Xt,on,Wn;if(p1(be.picks)?(Ot=be.picks.items,Xt=be.picks.active):Ot=be.picks,p1(Pt)?(on=Pt.items,Wn=Pt.active):on=Pt,on.length>0||!Ke){let Pn;if(!Xt&&!Wn){const Ai=e.activeItems[0];Ai&&-1!==Ot.indexOf(Ai)&&(Pn=Ai)}Ee({items:[...Ot,...on],active:Xt||Wn||Pn})}}finally{U.isCancellationRequested||(e.busy=!1),ct=!0}}))()])}else if(be instanceof Promise){e.busy=!0;try{const Ke=yield be;if(U.isCancellationRequested)return;Ee(Ke)}finally{U.isCancellationRequested||(e.busy=!1)}}else Ee(be)});return s.add(e.onDidChangeValue(()=>V())),V(),s.add(e.onDidAccept(H=>{const[U]=e.selectedItems;"function"==typeof(null==U?void 0:U.accept)&&(H.inBackground||e.hide(),U.accept(e.keyMods,H))})),s.add(e.onDidTriggerItemButton(({button:H,item:U})=>gp(this,void 0,void 0,function*(){var ne,be;if("function"==typeof U.trigger){const Ee=null!==(be=null===(ne=U.buttons)||void 0===ne?void 0:ne.indexOf(H))&&void 0!==be?be:-1;if(Ee>=0){const Ke=U.trigger(Ee,e.keyMods),ct="number"==typeof Ke?Ke:yield Ke;if(n.isCancellationRequested)return;switch(ct){case ru.NO_ACTION:break;case ru.CLOSE_PICKER:e.hide();break;case ru.REFRESH_PICKER:V();break;case ru.REMOVE_ITEM:{const Pt=e.items.indexOf(U);if(-1!==Pt){const Ot=e.items.slice(),Xt=Ot.splice(Pt,1),on=e.activeItems.filter(Pn=>Pn!==Xt[0]),Wn=e.keepScrollPosition;e.keepScrollPosition=!0,e.items=Ot,on&&(e.activeItems=on),e.keepScrollPosition=Wn}break}}}}}))),s}}return a.FAST_PICKS_RACE_DELAY=200,a})();var Uv=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},au=function(a,t){return function(e,n){t(e,n,a)}},jv=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})};let hg=class Mp extends lN{constructor(t,e,n,o,s,d){super(Mp.PREFIX,t),this.instantiationService=e,this.keybindingService=n,this.commandService=o,this.telemetryService=s,this.dialogService=d,this.commandsHistory=this._register(this.instantiationService.createInstance(lu)),this.options=t}_getPicks(t,e,n){return jv(this,void 0,void 0,function*(){const o=yield this.getCommandPicks(e,n);if(n.isCancellationRequested)return[];const s=[];for(const H of o){const U=(0,$i.f6)(Mp.WORD_FILTER(t,H.label)),ne=H.commandAlias?(0,$i.f6)(Mp.WORD_FILTER(t,H.commandAlias)):void 0;U||ne?(H.highlights={label:U,detail:this.options.showAlias?ne:void 0},s.push(H)):t===H.commandId&&s.push(H)}const d=new Map;for(const H of s){const U=d.get(H.label);U?(H.description=H.commandId,U.description=U.commandId):d.set(H.label,H)}s.sort((H,U)=>{const ne=this.commandsHistory.peek(H.commandId),be=this.commandsHistory.peek(U.commandId);return ne&&be?ne>be?-1:1:ne?-1:be?1:H.label.localeCompare(U.label)});const p=[];let V=!1;for(let H=0;H<s.length;H++){const U=s[H],ne=this.keybindingService.lookupKeybinding(U.commandId),be=ne?(0,De.N)("commandPickAriaLabelWithKeybinding","{0}, {1}",U.label,ne.getAriaLabel()):U.label;0===H&&this.commandsHistory.peek(U.commandId)&&(p.push({type:"separator",label:(0,De.N)("recentlyUsed","recently used")}),V=!0),0!==H&&V&&!this.commandsHistory.peek(U.commandId)&&(p.push({type:"separator",label:(0,De.N)("morecCommands","other commands")}),V=!1),p.push(Object.assign(Object.assign({},U),{ariaLabel:be,detail:this.options.showAlias&&U.commandAlias!==U.label?U.commandAlias:void 0,keybinding:ne,accept:()=>jv(this,void 0,void 0,function*(){this.commandsHistory.push(U.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:U.commandId,from:"quick open"});try{yield this.commandService.executeCommand(U.commandId)}catch(Ee){(0,Qn.n2)(Ee)||this.dialogService.show(Ju.Z.Error,(0,De.N)("canNotRun","Command '{0}' resulted in an error ({1})",U.label,zv(Ee)))}})}))}return p})}};hg.PREFIX=">",hg.WORD_FILTER=(0,Ys.or)(Ys.Ji,Ys.KZ,Ys.ir),hg=Uv([au(1,Qi.TG),au(2,Zs.d),au(3,eo.Hy),au(4,Dd.b),au(5,s1.S)],hg);let lu=class gs extends Tt.JT{constructor(t,e){super(),this.storageService=t,this.configurationService=e,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(()=>this.updateConfiguration()))}updateConfiguration(){this.configuredCommandsHistoryLength=gs.getConfiguredCommandHistoryLength(this.configurationService),gs.cache&&gs.cache.limit!==this.configuredCommandsHistoryLength&&(gs.cache.limit=this.configuredCommandsHistoryLength,gs.saveState(this.storageService))}load(){const t=this.storageService.get(gs.PREF_KEY_CACHE,0);let e;if(t)try{e=JSON.parse(t)}catch{}const n=gs.cache=new Cs.z6(this.configuredCommandsHistoryLength,1);if(e){let o;o=e.usesLRU?e.entries:e.entries.sort((s,d)=>s.value-d.value),o.forEach(s=>n.set(s.key,s.value))}gs.counter=this.storageService.getNumber(gs.PREF_KEY_COUNTER,0,gs.counter)}push(t){!gs.cache||(gs.cache.set(t,gs.counter++),gs.saveState(this.storageService))}peek(t){var e;return null===(e=gs.cache)||void 0===e?void 0:e.peek(t)}static saveState(t){if(!gs.cache)return;const e={usesLRU:!0,entries:[]};gs.cache.forEach((n,o)=>e.entries.push({key:o,value:n})),t.store(gs.PREF_KEY_CACHE,JSON.stringify(e),0,0),t.store(gs.PREF_KEY_COUNTER,gs.counter,0,0)}static getConfiguredCommandHistoryLength(t){var e,n;const s=null===(n=null===(e=t.getValue().workbench)||void 0===e?void 0:e.commandPalette)||void 0===n?void 0:n.history;return"number"==typeof s?s:gs.DEFAULT_COMMANDS_HISTORY_LENGTH}};lu.DEFAULT_COMMANDS_HISTORY_LENGTH=50,lu.PREF_KEY_CACHE="commandPalette.mru.cache",lu.PREF_KEY_COUNTER="commandPalette.mru.counter",lu.counter=1,lu=Uv([au(0,mr.Uy),au(1,Jo.Ui)],lu);class cN extends hg{constructor(t,e,n,o,s,d){super(t,e,n,o,s,d)}getCodeEditorCommandPicks(){const t=this.activeTextEditorControl;if(!t)return[];const e=[];for(const n of t.getSupportedActions())e.push({commandId:n.id,commandAlias:n.alias,label:(0,_C.x$)(n.label)||n.id});return e}}var Mh=function(a,t){return function(e,n){t(e,n,a)}};let fg=class extends cN{constructor(t,e,n,o,s,d){super({showAlias:!1},t,n,o,s,d),this.codeEditorService=e}get activeTextEditorControl(){return(0,$i.f6)(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function p(U){try{H(n.next(U))}catch(ne){d(ne)}}function V(U){try{H(n.throw(U))}catch(ne){d(ne)}}function H(U){U.done?s(U.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(U.value).then(p,V)}H((n=n.apply(a,t||[])).next())})}(this,void 0,void 0,function*(){return this.getCodeEditorCommandPicks()})}};fg=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([Mh(0,Qi.TG),Mh(1,In.$),Mh(2,Zs.d),Mh(3,eo.Hy),Mh(4,Dd.b),Mh(5,s1.S)],fg),bh.B.as(cg.IP.Quickaccess).registerQuickAccessProvider({ctor:fg,prefix:fg.PREFIX,helpEntries:[{description:xo.UX.quickCommandHelp,needsEditor:!0}]}),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.quickCommand",label:xo.UX.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:Ct.u.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(t){t.get(Pa.eJ).quickAccess.show(fg.PREFIX)}});var Nh=function(a,t){return function(e,n){t(e,n,a)}};let _1=class extends ll{constructor(t,e,n,o,s,d,p){super(!0,t,e,n,o,s,d,p)}};_1=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([Nh(1,Qt.i6),Nh(2,In.$),Nh(3,us.lT),Nh(4,Qi.TG),Nh(5,mr.Uy),Nh(6,Jo.Ui)],_1),(0,Qe._K)(ll.ID,_1),(0,Qe.Qr)(class extends Qe.R6{constructor(){super({id:"editor.action.toggleHighContrast",label:xo.xi.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(t,e){const n=t.get(Iv.Z);this._originalThemeName?(n.setTheme(this._originalThemeName),this._originalThemeName=null):(this._originalThemeName=n.getColorTheme().themeName,n.setTheme("hc-black"))}});var Kv=m(52771),mN=m(38869);let pN=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=i.Xpm({type:a,selectors:[["ng-component"]],decls:11,vars:2,consts:[["mat-dialog-title",""],[1,"warning-icon"],["type","button","mat-button","",3,"mat-dialog-close"],["type","button","mat-button","","color","warn",3,"mat-dialog-close"]],template:function(e,n){1&e&&(i.TgZ(0,"h2",0),i._uU(1,"Resolve Merge"),i.qZA(),i.TgZ(2,"mat-dialog-content"),i.TgZ(3,"mat-icon",1),i._uU(4,"warning"),i.qZA(),i._uU(5," Warning: there are still outstanding conflicts, are you sure you want to resolve? "),i.qZA(),i.TgZ(6,"mat-dialog-actions"),i.TgZ(7,"button",2),i._uU(8,"Cancel"),i.qZA(),i.TgZ(9,"button",3),i._uU(10,"Confirm"),i.qZA(),i.qZA()),2&e&&(i.xp6(7),i.Q6J("mat-dialog-close",void 0),i.xp6(2),i.Q6J("mat-dialog-close",!0))},directives:[g.uh,g.xY,En.Hw,g.H8,Mn.lW,g.ZT],styles:[".warning-icon[_ngcontent-%COMP%]{margin-right:5px}"],changeDetection:0}),a})();var _N=m(40464),CN=m(28992),bN=m(68680);const vN=["baseScrollContainer"],wN=["yoursScrollContainer"],yN=["theirsScrollContainer"];function SN(a,t){1&a&&(i.TgZ(0,"main"),i._uU(1,"Loading..."),i.qZA())}function xN(a,t){1&a&&(i.TgZ(0,"main"),i._uU(1,"Cannot load binary file."),i.qZA())}function LN(a,t){1&a&&(i.TgZ(0,"main"),i._uU(1,"Cannot load file."),i.qZA())}function DN(a,t){if(1&a&&(i.TgZ(0,"span",31),i._uU(1),i.qZA()),2&a){const e=t.$implicit;i.Q6J("ngClass",e.class),i.xp6(1),i.Oqu(e.text)}}function EN(a,t){if(1&a&&(i.ynx(0),i.TgZ(1,"span",29),i._uU(2),i.qZA(),i.YNc(3,DN,2,2,"span",30),i.ALo(4,"tokens"),i.BQk()),2&a){const e=i.oxw().$implicit;i.xp6(2),i.Oqu(null==e.baseLine?null:e.baseLine.lineNumber),i.xp6(1),i.Q6J("ngForOf",i.xi3(4,2,null==e.baseLine?null:e.baseLine.tokens,e.baseLine.text))}}const C1=function(a,t){return[a,t]};function MN(a,t){if(1&a&&(i.TgZ(0,"li",28),i.YNc(1,EN,5,5,"ng-container",1),i.qZA()),2&a){const e=t.$implicit;i.Q6J("ngClass",i.WLB(2,C1,"line-yours-"+e.yoursStatus,"line-theirs-"+e.theirsStatus)),i.xp6(1),i.Q6J("ngIf",e.baseLine)}}function NN(a,t){if(1&a&&(i.TgZ(0,"span",31),i._uU(1),i.qZA()),2&a){const e=t.$implicit;i.Q6J("ngClass",e.class),i.xp6(1),i.Oqu(e.text)}}function IN(a,t){if(1&a&&(i.ynx(0),i.TgZ(1,"span",29),i._uU(2),i.qZA(),i.YNc(3,NN,2,2,"span",30),i.ALo(4,"tokens"),i.BQk()),2&a){const e=i.oxw().$implicit;i.xp6(2),i.Oqu(null==e.theirsLine?null:e.theirsLine.lineNumber),i.xp6(1),i.Q6J("ngForOf",i.xi3(4,2,null==e.theirsLine?null:e.theirsLine.tokens,e.theirsLine.text))}}function kN(a,t){if(1&a&&(i.TgZ(0,"li",28),i.YNc(1,IN,5,5,"ng-container",1),i.qZA()),2&a){const e=t.$implicit;i.Q6J("ngClass",i.WLB(2,C1,"line-yours-"+e.yoursStatus,"line-theirs-"+e.theirsStatus)),i.xp6(1),i.Q6J("ngIf",e.theirsLine)}}function TN(a,t){if(1&a&&(i.TgZ(0,"span",31),i._uU(1),i.qZA()),2&a){const e=t.$implicit;i.Q6J("ngClass",e.class),i.xp6(1),i.Oqu(e.text)}}function PN(a,t){if(1&a&&(i.ynx(0),i.TgZ(1,"span",29),i._uU(2),i.qZA(),i.YNc(3,TN,2,2,"span",30),i.ALo(4,"tokens"),i.BQk()),2&a){const e=i.oxw().$implicit;i.xp6(2),i.Oqu(null==e.yoursLine?null:e.yoursLine.lineNumber),i.xp6(1),i.Q6J("ngForOf",i.xi3(4,2,null==e.yoursLine?null:e.yoursLine.tokens,e.yoursLine.text))}}function ON(a,t){if(1&a&&(i.TgZ(0,"li",28),i.YNc(1,PN,5,5,"ng-container",1),i.qZA()),2&a){const e=t.$implicit;i.Q6J("ngClass",i.WLB(2,C1,"line-yours-"+e.yoursStatus,"line-theirs-"+e.theirsStatus)),i.xp6(1),i.Q6J("ngIf",e.yoursLine)}}const AN=function(){return{theme:"vs-dark"}};function RN(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"ngx-monaco-editor",32),i.NdJ("onInit",function(o){return i.CHM(e),i.oxw().monacoInit(o)}),i.qZA()}if(2&a){const e=t.ngIf,n=i.oxw();i.Q6J("options",i.DdM(3,AN))("model",e)("formControl",n.monacoControl.ng)}}let FN=(()=>{class a extends((0,un.j)(Ln.A)){constructor(e,n,o,s,d,p){super(),this.zone=e,this.dialog=n,this.store=o,this.highlightApi=s,this.repositoriesApi=d,this.diffService=p,this.closed=new i.vpe,this.baseLineNumberMargin=0,this.yoursLineNumberMargin=0,this.theirsLineNumberMargin=0,this.lines$=new mn.X([]),this.monacoModel=new mn.X({value:"Loading..."}),this.monacoEditor=new mn.X(null),this.monacoControl=new qt.rV("Loading..."),this.monacoDecorationIds=[],this.monacoCodeLensProviders=[],this.currentView=new mn.X("loading"),this.conflicts=[],this.currentConflictIndex=-1,this.monacoInit=V=>{this.monacoEditor.next(V)},this.gridResized=()=>{this.baseScrollContainer?.checkViewportSize(),this.yoursScrollContainer?.checkViewportSize(),this.theirsScrollContainer?.checkViewportSize(),this.monacoEditor.value?.layout()},this.trackByMergeDiffLine=(V,H)=>V,this.jumpToNextConflict=()=>{this.currentConflictIndex=this.currentConflictIndex+1<this.conflicts.length?this.currentConflictIndex+1:0,this.jumpToConflict()},this.jumpToPreviousConflict=()=>{this.currentConflictIndex=this.currentConflictIndex-1>=0?this.currentConflictIndex-1:this.conflicts.length-1,this.jumpToConflict()}}ngOnInit(){this.destroyed$.subscribe(()=>{this.monacoCodeLensProviders.forEach(e=>{e.dispose()}),this.monacoCodeLensProviders=[]}),(0,rt.aj)([this.monacoEditor.pipe((0,uo.h)(ps.$K)),this.monacoModel]).pipe((0,Se.R)(this.destroyed$)).subscribe(([e,n])=>{this.monacoControl.setValue(n.value),this.monacoCodeLensProviders.forEach(s=>{s.dispose()}),this.monacoCodeLensProviders=[];const o=window.monaco.languages;o.typescript.typescriptDefaults.setDiagnosticsOptions({noSemanticValidation:!0}),o.getLanguages().forEach(s=>{this.monacoCodeLensProviders.push(o.registerCodeLensProvider(s.id,{resolveCodeLens:(d,p,V)=>p,provideCodeLenses:(d,p)=>{this.conflicts=this.processConflicts(d.getValue());const V=e.getPosition();return this.currentConflictIndex=V?this.conflicts.findIndex(U=>U.range.startLineNumber<=V.lineNumber&&U.range.endLineNumber>=V.lineNumber):-1,this.monacoDecorationIds=e.deltaDecorations(this.monacoDecorationIds,this.conflicts.flatMap(U=>U.decorations))??[],{lenses:this.conflicts.flatMap(U=>[{range:new Wo.Range(U.range.startLineNumber,1,U.range.startLineNumber+1,1),command:{id:e.addCommand(0,()=>{e.executeEdits(null,[{range:U.range,text:U.ours}])}),title:"Use Current"}},{range:new Wo.Range(U.range.startLineNumber,1,U.range.startLineNumber+1,1),command:{id:e.addCommand(0,()=>{e.executeEdits(null,[{range:U.range,text:U.theirs}])}),title:"Use Incoming"}},{range:new Wo.Range(U.range.startLineNumber,1,U.range.startLineNumber+1,1),command:{id:e.addCommand(0,()=>{e.executeEdits(null,[{range:U.range,text:`${U.ours}\n${U.theirs}`}])}),title:"Use Both"}}]),dispose:()=>{}}}}))})}),this.patch.pipe((0,Ht.b)(()=>{this.currentView.next("loading")}),(0,Ne.w)(e=>e?(0,wi.D)(this.getLines(e)).pipe((0,Se.R)(this.currentView.pipe((0,mN.T)(1),(0,uo.h)(n=>"loading"===n))),(0,nt.U)(n=>[e,...n]),(0,jt.K)(n=>rn.OZ.matches(n)?(this.currentView.next("binary-file"),(0,ut.of)(null)):rn.hK.matches(n)?(this.currentView.next("error"),(0,ut.of)(null)):(0,Vt._)(n))):(0,ut.of)(null)),(0,Se.R)(this.destroyed$)).subscribe(e=>{if(e){const[n,o,s,d,p]=e;this.monacoModel.next(p?{value:p,uri:Wo.Uri.file(`file://${n.mergePatch?.newFilePath??"a.txt"}`)}:{value:""}),this.baseLineNumberMargin=this.diffService.calculateMargin(o?.length.toString().length??1,!0),this.yoursLineNumberMargin=this.diffService.calculateMargin(s?.length.toString().length??1,!0),this.theirsLineNumberMargin=this.diffService.calculateMargin(d?.length.toString().length??1,!0),this.diffService.calculateMergeLines(o??[],s??[],d??[],n.toPatch?.hunks??[],n.fromPatch?.hunks??[]).pipe((0,Se.R)(this.destroyed$)).subscribe(V=>{this.lines$.next(V)}),this.currentView.next("normal")}else this.baseLineNumberMargin=0,this.yoursLineNumberMargin=0,this.theirsLineNumberMargin=0,this.lines$.next([]),this.monacoModel.next({value:"Error!"});this.baseScrollContainer?.scrollTo({top:0,left:0}),this.yoursScrollContainer?.scrollTo({top:0,left:0}),this.theirsScrollContainer?.scrollTo({top:0,left:0}),this.monacoEditor.value?.setScrollTop(0),this.monacoEditor.value?.setScrollLeft(0),this.gridResized()}),this.zone.runOutsideAngular(()=>{const e=[this.baseScrollContainer,this.yoursScrollContainer,this.theirsScrollContainer],n=[!1,!1,!1];e.forEach((o,s)=>{o.elementScrolled().pipe((0,uo.h)(()=>n.every((d,p)=>!d||p===s)),(0,Ht.b)(()=>{n[s]=!0,e.forEach((d,p)=>{p!==s&&d.scrollTo({left:o.measureScrollOffset("left"),top:o.measureScrollOffset("top")})})}),(0,Us.b)(100),(0,Se.R)(this.destroyed$)).subscribe(()=>{this.gridResized(),n[s]=!1})})})}resolveMerge(e){this.patch.pipe((0,St.q)(1)).subscribe(n=>{const o=n?.repositoryPath;if(!o)throw new Error("Cannot update merge if no repository is selected");const s=n.mergePatch?.newFilePath;if(!s)throw new Error("Couldn't find file path");let d;switch(e){case"from":d=n.fromPatch?.newFileId?this.repositoriesApi.getFile(o,n.fromPatch?.newFileId):(0,ut.of)(null);break;case"to":d=n.toPatch?.newFileId?this.repositoriesApi.getFile(o,n.toPatch?.newFileId):(0,ut.of)(null);break;case"merge":d=this.conflicts.length>0?this.dialog.open(pN).afterClosed().pipe((0,Ne.w)(V=>V?(0,ut.of)(this.monacoControl.value):Mt.E)):(0,ut.of)(this.monacoControl.value);break;default:throw new Error(`Unrecognized value ${e}`)}d.subscribe(p=>{const V=this.store.selectSnapshot(cn.E.selectedCommitId);this.repositoriesApi.updateMerge(o,n.fromCommitId,n.toCommitId,s,p??"","head"===V).subscribe(()=>{this.store.dispatch(new _n.Vu(o)),this.closed.next()})})})}jumpToConflict(){const e=this.conflicts[this.currentConflictIndex];this.monacoEditor.value?.revealRangeAtTop(e.range);const n=e.theirs.split("\n"),o=e.ours.split("\n"),s=Math.max(n.length,o.length),d=this.lines$.value,p=V=>{if(V+s>d.length)return!1;const H=d.slice(V).map(ne=>ne.theirsLine?.text).filter(ps.$K);for(let ne=0;ne<n.length;ne++)if(H[ne]!==n[ne])return!1;const U=d.slice(V).map(ne=>ne.yoursLine?.text).filter(ps.$K);for(let ne=0;ne<o.length;ne++)if(U[ne]!==o[ne])return!1;return!0};for(let V=0;V<d.length;V++)if(p(V)){this.baseScrollContainer.scrollToIndex(V);break}}getLines(e){const n=e.repositoryPath;let o=null,s=null,d=null,p=null;const V=e.toPatch;if(V)if(V.oldFileIsSubmodule||V.newFileIsSubmodule){const ne=V.hunks[0].lines.find(Ee=>Ee.oldLineNo>0),be=V.hunks[0].lines.find(Ee=>Ee.newLineNo>0);o=(0,ut.of)([{lineNumber:1,text:ne?.content??"",tokens:[{startIndex:0,endIndex:ne?.content.length??0,scopes:["normal"]}]}]),s=(0,ut.of)([{lineNumber:1,text:be?.content??"",tokens:[{startIndex:0,endIndex:be?.content.length??0,scopes:["normal"]}]}])}else o=V.oldFileId?this.highlightApi.getHighlightedFile(n,V.oldFileId,V.oldFilePath,!0):null,s=V.newFileId?this.highlightApi.getHighlightedFile(n,V.newFileId,V.newFilePath,!0):null;const H=e.fromPatch;if(H)if(H.oldFileIsSubmodule||H.newFileIsSubmodule){if(!o){const be=H.hunks[0].lines.find(Ee=>Ee.oldLineNo>0);o=(0,ut.of)([{lineNumber:1,text:be?.content??"",tokens:[{startIndex:0,endIndex:be?.content.length??0,scopes:["normal"]}]}])}const ne=H.hunks[0].lines.find(be=>be.newLineNo>0);d=(0,ut.of)([{lineNumber:1,text:ne?.content??"",tokens:[{startIndex:0,endIndex:ne?.content.length??0,scopes:["normal"]}]}])}else o=o??(H.oldFileId?this.highlightApi.getHighlightedFile(n,H.oldFileId,H.oldFilePath,!0):null),d=H.newFileId?this.highlightApi.getHighlightedFile(n,H.newFileId,H.newFilePath,!0):null;const U=e.mergePatch;return U&&(U.oldFileIsSubmodule||U.newFileIsSubmodule?p=(0,ut.of)(U.hunks[0].lines.find(ne=>ne.newLineNo>0)?.content??""):U.newFileId?p=this.repositoriesApi.getFile(n,U.newFileId):U.newFilePath&&(p=this.repositoriesApi.getMergeFile(n,e.fromCommitId,e.toCommitId,U.newFilePath))),[o??(0,ut.of)(null),s??o??(0,ut.of)(null),d??o??(0,ut.of)(null),p??(0,ut.of)(null)]}processConflicts(e){const n=new RegExp(a.conflictRegex,"gm"),o=[];let s=Kv(n,e);for(;s;){const[d,p]=s.indices[0],[V,H]=s.indices[1],[U,ne]=s.indices[2]??[s.indices[1][1],s.indices[1][1]],[be,Ee]=s.indices[3]??[s.indices[4][0],s.indices[4][0]],[Ke,ct]=s.indices[4];o.push({range:this.getConflictRange(e,d,p),ours:e.substring(U,ne),theirs:e.substring(be,Ee),decorations:[{range:this.getConflictRange(e,V,H),options:{isWholeLine:!0,minimap:{color:"#2F7366",position:Wo.editor.MinimapPosition.Inline},after:{content:" (Current Change)",inlineClassName:"conflict_current-header-text"},className:"conflict_current-header",stickiness:Wo.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges}},{range:this.getConflictRange(e,U,ne),options:{isWholeLine:!0,minimap:{color:"#2F7366",position:Wo.editor.MinimapPosition.Inline},className:"conflict_current",stickiness:Wo.editor.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges}},{range:this.getConflictRange(e,be,Ee),options:{isWholeLine:!0,minimap:{color:"#2F628E",position:Wo.editor.MinimapPosition.Inline},className:"conflict_incoming",stickiness:Wo.editor.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges}},{range:this.getConflictRange(e,Ke,ct),options:{isWholeLine:!0,minimap:{color:"#2F628E",position:Wo.editor.MinimapPosition.Inline},after:{content:" (Incoming Change)",inlineClassName:"conflict_incoming-header-text"},className:"conflict_incoming-header",stickiness:Wo.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges}}]}),s=Kv(n,e)}return o}getConflictRange(e,n,o){let s=1,d=1;for(let H=0;H<n;H++)d++,"\n"===e[H]&&(s++,d=1);let p=s,V=d;for(let H=n;H<o;H++)V++,"\n"===e[H]&&(p++,V=1);return new Wo.Range(s,d,p,V)}}return a.conflictRegex=/(^<<<<<<<.*$)\r?\n(?:([^]*?)\r?\n)?^=======.*$\r?\n(?:([^]*?)\r?\n)?(^>>>>>>>.*$)/gm,a.\u0275fac=function(e){return new(e||a)(i.Y36(i.R0b),i.Y36(g.uw),i.Y36(Pe.yh),i.Y36(_N.m),i.Y36(Yi.a),i.Y36(CN.S))},a.\u0275cmp=i.Xpm({type:a,selectors:[["app-merge-view"]],viewQuery:function(e,n){if(1&e&&(i.Gf(vN,7,Do.N7),i.Gf(wN,7,Do.N7),i.Gf(yN,7,Do.N7)),2&e){let o;i.iGM(o=i.CRH())&&(n.baseScrollContainer=o.first),i.iGM(o=i.CRH())&&(n.yoursScrollContainer=o.first),i.iGM(o=i.CRH())&&(n.theirsScrollContainer=o.first)}},inputs:{patch:"patch"},outputs:{closed:"closed"},features:[i.qOj],decls:75,vars:42,consts:[[1,"close-button",3,"click"],[4,"ngIf"],["vertical","","id","merge-view_vertical"],["id","merge-view_horizontal"],[1,"base-grid-cell"],[1,"grid-cell-header"],[1,"viewport",3,"itemSize"],["baseScrollContainer",""],[1,"base-code"],["class","line",3,"ngClass",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"arrow-forward-top"],[1,"arrow-downward-left"],[1,"theirs-grid-cell",3,"linked","sizeChanging"],["theirsCell",""],["type","button","mat-button","",3,"click"],["theirsScrollContainer",""],[1,"theirs-code"],[1,"arrow-downward-right"],[3,"sizeChanging"],[1,"yours-grid-cell"],["yoursScrollContainer",""],[1,"yours-code"],[1,"arrow-forward-bottom"],[1,"merge-grid-cell",3,"linked","sizeChanging"],["mergeCell",""],["type","button","mat-icon-button","","title","Previous Conflict",3,"click"],["type","button","mat-icon-button","","title","Next Conflict",3,"click"],["class","viewport",3,"options","model","formControl","onInit",4,"ngIf"],[1,"line",3,"ngClass"],[1,"line-number"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"viewport",3,"options","model","formControl","onInit"]],template:function(e,n){if(1&e&&(i.TgZ(0,"header"),i.TgZ(1,"h4"),i._uU(2,"Editing "),i.TgZ(3,"strong"),i._uU(4),i.ALo(5,"async"),i.qZA(),i.qZA(),i.TgZ(6,"mat-icon",0),i.NdJ("click",function(){return n.closed.next()}),i._uU(7,"close"),i.qZA(),i.qZA(),i.YNc(8,SN,2,0,"main",1),i.ALo(9,"async"),i.YNc(10,xN,2,0,"main",1),i.ALo(11,"async"),i.YNc(12,LN,2,0,"main",1),i.ALo(13,"async"),i.TgZ(14,"main"),i.ALo(15,"async"),i.TgZ(16,"app-grid",2),i.TgZ(17,"app-grid-cell"),i.TgZ(18,"app-grid",3),i.TgZ(19,"app-grid-cell",4),i.TgZ(20,"div",5),i._uU(21," Base "),i.qZA(),i.TgZ(22,"cdk-virtual-scroll-viewport",6,7),i.TgZ(24,"code",8),i.TgZ(25,"ul"),i.YNc(26,MN,2,5,"li",9),i.ALo(27,"async"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(28,"mat-icon",10),i._uU(29,"arrow_forward"),i.qZA(),i.TgZ(30,"mat-icon",11),i._uU(31,"arrow_downward"),i.qZA(),i.qZA(),i.TgZ(32,"app-grid-cell",12,13),i.NdJ("sizeChanging",function(){return n.gridResized()}),i.TgZ(34,"div",5),i._uU(35," Incoming "),i.TgZ(36,"button",14),i.NdJ("click",function(){return n.resolveMerge("from")}),i._uU(37,"Resolve"),i.qZA(),i.qZA(),i.TgZ(38,"cdk-virtual-scroll-viewport",6,15),i.TgZ(40,"code",16),i.TgZ(41,"ul"),i.YNc(42,kN,2,5,"li",9),i.ALo(43,"async"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(44,"mat-icon",17),i._uU(45,"arrow_downward"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(46,"app-grid-cell",18),i.NdJ("sizeChanging",function(){return n.gridResized()}),i.TgZ(47,"app-grid",3),i.TgZ(48,"app-grid-cell",19),i.TgZ(49,"div",5),i._uU(50," Current "),i.TgZ(51,"button",14),i.NdJ("click",function(){return n.resolveMerge("to")}),i._uU(52,"Resolve"),i.qZA(),i.qZA(),i.TgZ(53,"cdk-virtual-scroll-viewport",6,20),i.TgZ(55,"code",21),i.TgZ(56,"ul"),i.YNc(57,ON,2,5,"li",9),i.ALo(58,"async"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(59,"mat-icon",22),i._uU(60,"arrow_forward"),i.qZA(),i.qZA(),i.TgZ(61,"app-grid-cell",23,24),i.NdJ("sizeChanging",function(){return n.gridResized()}),i.TgZ(63,"div",5),i._uU(64," Merged "),i.TgZ(65,"button",14),i.NdJ("click",function(){return n.resolveMerge("merge")}),i._uU(66,"Resolve"),i.qZA(),i.TgZ(67,"button",25),i.NdJ("click",function(){return n.jumpToPreviousConflict()}),i.TgZ(68,"mat-icon"),i._uU(69,"arrow_upward"),i.qZA(),i.qZA(),i.TgZ(70,"button",26),i.NdJ("click",function(){return n.jumpToNextConflict()}),i.TgZ(71,"mat-icon"),i._uU(72,"arrow_downward"),i.qZA(),i.qZA(),i.qZA(),i.YNc(73,RN,1,4,"ngx-monaco-editor",27),i.ALo(74,"async"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&e){const o=i.MAs(33),s=i.MAs(62);let d;i.xp6(4),i.Oqu(null==(d=i.lcZ(5,24,n.patch))||null==d.mergePatch?null:d.mergePatch.newFilePath),i.xp6(4),i.Q6J("ngIf","loading"===i.lcZ(9,26,n.currentView)),i.xp6(2),i.Q6J("ngIf","binary-file"===i.lcZ(11,28,n.currentView)),i.xp6(2),i.Q6J("ngIf","error"===i.lcZ(13,30,n.currentView)),i.xp6(2),i.ekj("hidden","normal"!==i.lcZ(15,32,n.currentView)),i.xp6(8),i.Q6J("itemSize",19),i.xp6(3),i.Udp("margin-left",n.baseLineNumberMargin+26,"px"),i.xp6(1),i.Q6J("cdkVirtualForOf",i.lcZ(27,34,n.lines$))("cdkVirtualForTrackBy",n.trackByMergeDiffLine),i.xp6(6),i.Q6J("linked",s),i.xp6(6),i.Q6J("itemSize",19),i.xp6(3),i.Udp("margin-left",n.theirsLineNumberMargin+26,"px"),i.xp6(1),i.Q6J("cdkVirtualForOf",i.lcZ(43,36,n.lines$))("cdkVirtualForTrackBy",n.trackByMergeDiffLine),i.xp6(11),i.Q6J("itemSize",19),i.xp6(3),i.Udp("margin-left",n.yoursLineNumberMargin+26,"px"),i.xp6(1),i.Q6J("cdkVirtualForOf",i.lcZ(58,38,n.lines$))("cdkVirtualForTrackBy",n.trackByMergeDiffLine),i.xp6(4),i.Q6J("linked",o),i.xp6(12),i.Q6J("ngIf",i.lcZ(74,40,n.monacoModel))}},directives:[En.Hw,Kt.O5,ys.M,ks.Y,Do.N7,Do.xd,Do.x0,Mn.lW,Kt.mk,Kt.sg,Z.PG,oe.JJ,oe.oH],pipes:[Kt.Ov,bN.U],styles:['[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%;background:#1e1e1e;position:absolute}header[_ngcontent-%COMP%]{display:flex;flex:0 1 auto;justify-content:space-between;padding:5px 0 5px 10px}header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;line-height:38px}header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{cursor:pointer;height:38px;line-height:38px;margin-left:10px}main[_ngcontent-%COMP%]{flex:1 0 auto}main.hidden[_ngcontent-%COMP%]{opacity:0}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{display:block;white-space:pre;color:#d4d4d4;font-family:Consolas,"Courier New",monospace;font-size:14px;font-weight:normal;letter-spacing:0px;line-height:19px}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .line{height:19px}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .line.line-added{background:#1f2c19}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .line.line-removed{background:#501515}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .line.line-void{background:#111}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .diff-added{background-color:#1d572c}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .diff-removed{background-color:#803030}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .search-result{background-color:#a14e1b}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-embedded, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .source-groovy-embedded{color:#d4d4d4}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .emphasis{font-style:italic}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .strong{font-weight:bold}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .header{color:navy}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .comment{color:#6a9955}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-language{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-numeric, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-operator-custom-literal-number, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-other-enummember, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-plus-exponent, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-minus-exponent{color:#b5cea8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-regexp{color:#646695}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-tag{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-tag-css{color:#d7ba7d}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-class-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-class-mixin-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-id-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-parent-selector-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-pseudo-class-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-pseudo-element-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .source-css-less .entity-other-attribute-name-id, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-attribute-scss, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-scss{color:#d7ba7d}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .invalid{color:#f44747}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-underline{text-decoration:underline}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-bold{font-weight:bold;color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-heading{font-weight:bold;color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-italic{font-style:italic}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-inserted{color:#b5cea8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-deleted{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-changed{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-quote-begin-markdown{color:#6a9955}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-list-begin-markdown{color:#6796e6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-inline-raw{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-tag{color:gray}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-preprocessor{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-preprocessor-string{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-preprocessor-numeric{color:#b5cea8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-structure-dictionary-key-python{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-diff-header{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-modifier, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-noexcept{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .string, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-operator-custom-literal-string{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .string-tag{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .string-value{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .string-regexp{color:#d16969}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-template-expression-begin, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-template-expression-end, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-section-embedded{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-template-expression{color:#d4d4d4}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-type-vendored-property-name, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-type-property-name, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-scss, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-other-less, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .source-coffee-embedded{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-control{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator{color:#d4d4d4}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-new, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-expression, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-cast, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-sizeof, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-typeid, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-alignas, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-instanceof, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-logical-python, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-wordlike{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-other-unit{color:#b5cea8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-section-embedded-begin-php, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-section-embedded-end-php{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-function-git-rebase{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-sha-git-rebase{color:#b5cea8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-modifier-import-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-language-wildcard-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-modifier-package-java{color:#d4d4d4}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-language{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-function, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-function, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-handlebars, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .source-powershell .variable-other-member{color:#dcdcaa}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-return-type, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-class, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-type, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-type, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-namespace, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-scope-resolution, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-class, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-numeric-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-byte-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-boolean-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-string-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-uintptr-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-error-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-rune-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-cs, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-generic-cs, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-modifier-cs, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-variable-cs, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-annotation-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-generic-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-object-array-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-primitive-array-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-primitive-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-token-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-annotation-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-parameters-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-generic-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-object-array-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-primitive-array-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-primitive-groovy{color:#4ec9b0}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-type-cast-expr, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-type-new-expr, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-math, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-dom, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-json, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-inherited-class{color:#4ec9b0}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-control, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .source-cpp .keyword-operator-new, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-delete, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-other-using, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-other-operator, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-operator{color:#c586c0}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-definition-variable-name, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-variable, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-variable{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-object-literal-key{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-property-value, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-font-name, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-media-type, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-media, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-other-color-rgb-value, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-other-rgb-value, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-color{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-group-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-group-assertion-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-character-class-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-character-set-begin-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-character-set-end-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-negation-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-other-parenthesis-regexp{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-character-character-class-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-other-character-class-set-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-other-character-class-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-character-set-regexp{color:#d16969}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-or-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-control-anchor-regexp{color:#dcdcaa}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-quantifier-regexp{color:#d7ba7d}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-character{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-character-escape{color:#d7ba7d}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-label{color:#c8c8c8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-string{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-language-this{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-comment{color:#6a9955}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .line-number[_ngcontent-%COMP%]{position:absolute;text-align:right;user-select:none;color:#858585;right:calc(100% + 26px)}main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-added[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-added[_ngcontent-%COMP%]{background:#111}main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-removed[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-removed[_ngcontent-%COMP%]{background:#501515}main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-replaced[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-replaced[_ngcontent-%COMP%]{background:#501515}main[_ngcontent-%COMP%]   code.yours-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-added[_ngcontent-%COMP%]{background:#1f2c19}main[_ngcontent-%COMP%]   code.yours-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-removed[_ngcontent-%COMP%]{background:#111}main[_ngcontent-%COMP%]   code.yours-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-replaced[_ngcontent-%COMP%]{background:#1f2c19}main[_ngcontent-%COMP%]   code.theirs-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-added[_ngcontent-%COMP%]{background:#1f2c19}main[_ngcontent-%COMP%]   code.theirs-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-removed[_ngcontent-%COMP%]{background:#111}main[_ngcontent-%COMP%]   code.theirs-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-replaced[_ngcontent-%COMP%]{background:#1f2c19}main[_ngcontent-%COMP%]   ngx-monaco-editor[_ngcontent-%COMP%]{height:calc(100% - 36px)}main[_ngcontent-%COMP%]   .grid-cell-header[_ngcontent-%COMP%]{height:36px;line-height:36px;padding:0 10px}main[_ngcontent-%COMP%]   .grid-cell-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}main[_ngcontent-%COMP%]   .viewport[_ngcontent-%COMP%]{height:calc(100% - 36px);width:100%;overflow-x:scroll}main[_ngcontent-%COMP%]   .arrow-forward-top[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .arrow-forward-bottom[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .arrow-downward-left[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .arrow-downward-right[_ngcontent-%COMP%]{color:#333}main[_ngcontent-%COMP%]   .arrow-forward-top[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:-12px}main[_ngcontent-%COMP%]   .arrow-forward-bottom[_ngcontent-%COMP%]{position:absolute;top:10px;right:-12px}main[_ngcontent-%COMP%]   .arrow-downward-left[_ngcontent-%COMP%]{position:absolute;bottom:-12px;right:10px}main[_ngcontent-%COMP%]   .arrow-downward-right[_ngcontent-%COMP%]{position:absolute;bottom:-12px;left:10px}main[_ngcontent-%COMP%]   .base-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content, main[_ngcontent-%COMP%]   .yours-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content, main[_ngcontent-%COMP%]   .theirs-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content, main[_ngcontent-%COMP%]   .merge-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content{overflow:visible}main[_ngcontent-%COMP%]   #merge-view_vertical[_ngcontent-%COMP%]{overflow:hidden}main[_ngcontent-%COMP%]   #merge-view_vertical[_ngcontent-%COMP%] >app-grid-cell>.grid-cell-wrapper>.grid-cell-content{overflow:visible}main[_ngcontent-%COMP%]   #merge-view_horizontal[_ngcontent-%COMP%]{overflow:visible}main[_ngcontent-%COMP%]   #merge-view_horizontal[_ngcontent-%COMP%] >app-grid-cell>.grid-cell-wrapper>.grid-cell-content{overflow:visible}main[_ngcontent-%COMP%]   .base-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content, main[_ngcontent-%COMP%]   .theirs-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content{padding-bottom:12px}main[_ngcontent-%COMP%]   .yours-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content, main[_ngcontent-%COMP%]   .merge-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content{padding-top:12px}main[_ngcontent-%COMP%]   .base-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content, main[_ngcontent-%COMP%]   .yours-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content{padding-right:12px}main[_ngcontent-%COMP%]   .theirs-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content, main[_ngcontent-%COMP%]   .merge-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content{padding-left:12px}main[_ngcontent-%COMP%]   .merge-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content{overflow:hidden}main[_ngcontent-%COMP%]   .base-grid-cell[_ngcontent-%COMP%]   .viewport[_ngcontent-%COMP%]{height:calc(100% - 36px);width:100%}main[_ngcontent-%COMP%]   .theirs-grid-cell[_ngcontent-%COMP%]   .viewport[_ngcontent-%COMP%]{height:calc(100% - 36px)}'],changeDetection:0}),a})();var b1=m(72352),v1=m(4893);function BN(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"li",12),i.NdJ("click",function(){const s=i.CHM(e).$implicit;return i.oxw(2).selectFile("unstaged",s)}),i.ALo(1,"async"),i.TgZ(2,"mat-icon",13),i._uU(3),i.qZA(),i._UZ(4,"app-condensed-path",14),i.TgZ(5,"div",15),i.TgZ(6,"button",16),i.NdJ("click",function(o){const d=i.CHM(e).$implicit;return i.oxw(2).stageFile(d),o.stopPropagation()}),i._uU(7,"Stage"),i.qZA(),i.TgZ(8,"button",17),i.NdJ("click",function(o){const d=i.CHM(e).$implicit;return i.oxw(2).discardFile(d),o.stopPropagation()}),i._uU(9,"Discard"),i.qZA(),i.qZA(),i.qZA()}if(2&a){const e=t.$implicit,n=i.oxw(2);i.ekj("selected",n.isPatchSelected(e,i.lcZ(1,5,n.selectedUnstagedFile))),i.xp6(2),i.Q6J("ngClass",n.getPatchIconColorClass(e)),i.xp6(1),i.Oqu(n.getPatchIcon(e)),i.xp6(1),i.Q6J("path",n.getPatchPath(e))}}function WN(a,t){if(1&a&&(i.TgZ(0,"ul"),i.YNc(1,BN,10,7,"li",11),i.qZA()),2&a){const e=t.ngIf,n=i.oxw();i.xp6(1),i.Q6J("ngForOf",null==e?null:e.patches)("ngForTrackBy",n.trackByPatch)}}function VN(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"li",12),i.NdJ("click",function(){const s=i.CHM(e).$implicit;return i.oxw(2).selectFile("staged",s)}),i.ALo(1,"async"),i.TgZ(2,"mat-icon",13),i._uU(3),i.qZA(),i._UZ(4,"app-condensed-path",14),i.TgZ(5,"div",15),i.TgZ(6,"button",18),i.NdJ("click",function(o){const d=i.CHM(e).$implicit;return i.oxw(2).unstageFile(d),o.stopPropagation()}),i._uU(7,"Unstage"),i.qZA(),i.qZA(),i.qZA()}if(2&a){const e=t.$implicit,n=i.oxw(2);i.ekj("selected",n.isPatchSelected(e,i.lcZ(1,5,n.selectedStagedFile))),i.xp6(2),i.Q6J("ngClass",n.getPatchIconColorClass(e)),i.xp6(1),i.Oqu(n.getPatchIcon(e)),i.xp6(1),i.Q6J("path",n.getPatchPath(e))}}function HN(a,t){if(1&a&&(i.TgZ(0,"ul"),i.YNc(1,VN,8,7,"li",11),i.qZA()),2&a){const e=t.ngIf,n=i.oxw();i.xp6(1),i.Q6J("ngForOf",null==e?null:e.patches)("ngForTrackBy",n.trackByPatch)}}let zN=(()=>{class a extends((0,un.j)(Ln.A)){constructor(e,n,o){super(),this.store=e,this.commitsApi=n,this.commitDetailService=o,this.commitMessageControl=new qt.rV,this.commitButtonDisabled=(0,rt.aj)([this.stagedChanges,this.selectedRepositoryCommitMessage]).pipe((0,nt.U)(([s,d])=>!d||!s||0===s.patches.length))}ngOnInit(){this.selectedRepositoryCommitMessage.pipe((0,Se.R)(this.destroyed$)).subscribe(e=>{this.commitMessageControl.setValue(e,{emitEvent:!1})}),this.commitMessageControl.valueChanges.pipe((0,Us.b)(200),(0,Se.R)(this.destroyed$)).subscribe(e=>{const n=this.store.selectSnapshot(cn.E.selectedRepositoryPath);n&&this.store.dispatch(new _n.$h(n,e))})}getPatchPath(e){return this.commitDetailService.getPatchPath(e)}getPatchIcon(e){return this.commitDetailService.getPatchIcon(e)}getPatchIconColorClass(e){return this.commitDetailService.getPatchIconColorClass(e)}trackByPatch(e,n){return`${n.oldFilePath}|${n.newFilePath}|${n.status}`}isPatchSelected(e,n){return n?.oldFilePath===e.oldFilePath&&n?.newFilePath===e.newFilePath}selectFile(e,n){(0,rt.aj)([this.repositoryPath,this.selectedStagedFile,this.selectedUnstagedFile]).pipe((0,St.q)(1)).subscribe(([o,s,d])=>{null!==o&&this.store.dispatch(new _n.gt(o,"staged"===e&&n.oldFilePath===s?.oldFilePath&&n.newFilePath===s.newFilePath||"unstaged"===e&&n.oldFilePath===d?.oldFilePath&&n.newFilePath===d.newFilePath?null:{area:e,oldFilePath:n.oldFilePath,newFilePath:n.newFilePath}))})}discardAll(){const e=this.store.selectSnapshot(cn.E.selectedRepositoryPath);e&&this.store.dispatch(new _n.BE(e))}stageAll(){const e=this.store.selectSnapshot(cn.E.selectedRepositoryPath);e&&this.store.dispatch(new _n.mN(e))}unstageAll(){const e=this.store.selectSnapshot(cn.E.selectedRepositoryPath);e&&this.store.dispatch(new _n.U6(e))}discardFile(e){const n=this.store.selectSnapshot(cn.E.selectedRepositoryPath);n&&this.store.dispatch(new _n.kD(n,[e]))}stageFile(e){const n=this.store.selectSnapshot(cn.E.selectedRepositoryPath);n&&this.store.dispatch(new _n.mP(n,[e]))}unstageFile(e){const n=this.store.selectSnapshot(cn.E.selectedRepositoryPath);n&&this.store.dispatch(new _n.Br(n,[e]))}commitChanges(){(0,rt.aj)([this.repositoryPath,this.selectedProfile]).pipe((0,St.q)(1)).subscribe(([e,n])=>{const o=[];e||o.push("Cannot commit if no repository is selected"),n||o.push("Cannot commit if no profile is selected");const s=this.commitMessageControl.value;if(s||o.push("Cannot commit with empty commit message"),o.length>0)throw this.store.dispatch(o.map(V=>new Ae.NN("error",V))),new Error(o.join("\n\n"));const d=e;this.commitsApi.putCommit(d,n.name,n.email,s).subscribe(V=>{this.store.dispatch([new _n.Vu(d),new _n.jQ(d,V),new _n.BK(d,V),new _n.$h(d,null)])},V=>{rn.fD.matches(V)&&this.store.dispatch(new Ae.NN("error",V.message))})})}}return a.\u0275fac=function(e){return new(e||a)(i.Y36(Pe.yh),i.Y36(Yt.T),i.Y36(b1.d))},a.\u0275cmp=i.Xpm({type:a,selectors:[["app-new-commit"]],features:[i.qOj],decls:22,vars:10,consts:[[1,"unstaged"],[1,"header-buttons"],["type","button","mat-button","","title","Stage all changes",3,"click"],["type","button","mat-button","","color","warn","title","Discard all changes",3,"click"],[4,"ngIf"],[1,"staged"],["type","button","mat-button","","title","Unstage all changes",3,"click"],[1,"commit"],[1,"description"],["matInput","","placeholder","Enter a description...",3,"formControl"],["mat-flat-button","","color","primary",1,"commit-btn",3,"disabled","click"],[3,"selected","click",4,"ngFor","ngForOf","ngForTrackBy"],[3,"click"],["inline","",3,"ngClass"],[1,"name",3,"path"],[1,"buttons"],["type","button","mat-flat-button","","color","primary","title","Stage changes",1,"staging-btn",3,"click"],["type","button","mat-flat-button","","color","warn","title","Discard changes",1,"discard-btn",3,"click"],["type","button","mat-flat-button","","color","warn","title","Unstage changes",1,"staging-btn",3,"click"]],template:function(e,n){1&e&&(i.TgZ(0,"mat-card",0),i.TgZ(1,"div",1),i.TgZ(2,"button",2),i.NdJ("click",function(){return n.stageAll()}),i._uU(3,"Stage All"),i.qZA(),i.TgZ(4,"button",3),i.NdJ("click",function(){return n.discardAll()}),i._uU(5,"Discard All"),i.qZA(),i.qZA(),i.YNc(6,WN,2,2,"ul",4),i.ALo(7,"async"),i.qZA(),i.TgZ(8,"mat-card",5),i.TgZ(9,"div",1),i.TgZ(10,"button",6),i.NdJ("click",function(){return n.unstageAll()}),i._uU(11,"Unstage All"),i.qZA(),i.qZA(),i.YNc(12,HN,2,2,"ul",4),i.ALo(13,"async"),i.qZA(),i.TgZ(14,"mat-card",7),i.TgZ(15,"mat-form-field",8),i.TgZ(16,"mat-label"),i._uU(17,"Commit Message"),i.qZA(),i._UZ(18,"textarea",9),i.qZA(),i.TgZ(19,"button",10),i.NdJ("click",function(){return n.commitChanges()}),i.ALo(20,"async"),i._uU(21,"Commit changes"),i.qZA(),i.qZA()),2&e&&(i.xp6(6),i.Q6J("ngIf",i.lcZ(7,4,n.unstagedChanges)),i.xp6(6),i.Q6J("ngIf",i.lcZ(13,6,n.stagedChanges)),i.xp6(6),i.Q6J("formControl",n.commitMessageControl.ng),i.xp6(1),i.Q6J("disabled",i.lcZ(20,8,n.commitButtonDisabled)))},directives:[F.a8,Mn.lW,Kt.O5,B.KE,B.hX,E.Nt,oe.Fj,oe.JJ,oe.oH,Kt.sg,En.Hw,Kt.mk,v1.j],pipes:[Kt.Ov],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:stretch;height:100%}.staged[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]{flex:1 1 auto;margin:10px 10px 0;white-space:nowrap;overflow:auto;min-height:70px}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:5px}.staged[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{margin-right:5px}.staged[_ngcontent-%COMP%]   .material-icons.red[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .material-icons.red[_ngcontent-%COMP%]{color:#f44336}.staged[_ngcontent-%COMP%]   .material-icons.green[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .material-icons.green[_ngcontent-%COMP%]{color:#4caf50}.staged[_ngcontent-%COMP%]   .material-icons.orange[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .material-icons.orange[_ngcontent-%COMP%]{color:#cb8837}.staged[_ngcontent-%COMP%]   .material-icons.blue[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .material-icons.blue[_ngcontent-%COMP%]{color:#7c8bff}.staged[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{margin-left:-16px;margin-right:-16px}.staged[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:flex;height:22px;line-height:22px;padding-left:16px;padding-right:16px;position:relative;overflow:hidden;text-overflow:ellipsis;cursor:pointer}.staged[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%]{background-color:#616161}.staged[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover   .buttons[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover   .buttons[_ngcontent-%COMP%]{opacity:1}.staged[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{user-select:none}.staged[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{width:calc(100% - 19px)}.staged[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{position:absolute;top:0;right:16px;opacity:0;transition:.2s ease-in-out opacity}.staged[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:22px;line-height:22px;margin-left:5px}.staged[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .staging-btn[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .staging-btn[_ngcontent-%COMP%]{background-color:#607d8bd9}.staged[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .discard-btn[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .discard-btn[_ngcontent-%COMP%]{background-color:#f44336d9}.unstaged[_ngcontent-%COMP%]{margin-top:0}.commit[_ngcontent-%COMP%]{flex:0 0 auto;margin:10px}.commit[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{width:100%}.commit[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:34px;max-height:100px}.commit[_ngcontent-%COMP%]   .commit-btn[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),(0,et.gn)([(0,Pe.Ph)(cn.E.selectedRepositoryPath)],a.prototype,"repositoryPath",void 0),(0,et.gn)([(0,Pe.Ph)(cn.E.selectedStagedChanges)],a.prototype,"stagedChanges",void 0),(0,et.gn)([(0,Pe.Ph)(cn.E.selectedUnstagedChanges)],a.prototype,"unstagedChanges",void 0),(0,et.gn)([(0,Pe.Ph)(cn.E.selectedFileForArea("staged"))],a.prototype,"selectedStagedFile",void 0),(0,et.gn)([(0,Pe.Ph)(cn.E.selectedFileForArea("unstaged"))],a.prototype,"selectedUnstagedFile",void 0),(0,et.gn)([(0,Pe.Ph)(cn.E.selectedRepositoryCommitMessage)],a.prototype,"selectedRepositoryCommitMessage",void 0),(0,et.gn)([(0,Pe.Ph)(Ei.$.selectedProfile)],a.prototype,"selectedProfile",void 0),(0,et.gn)([(0,Pe.Ph)(Ei.$.profiles)],a.prototype,"profiles",void 0),a})();function UN(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"li",18),i.NdJ("click",function(){const s=i.CHM(e).$implicit;return i.oxw(4).changeCommit(s)}),i._uU(1),i.qZA()}if(2&a){const e=t.$implicit,n=t.first;i.Q6J("title",e),i.xp6(1),i.AsE("",n?"":", ","",e,"")}}function jN(a,t){if(1&a&&(i.TgZ(0,"div",15),i.TgZ(1,"span",4),i._uU(2),i.ALo(3,"plural"),i.qZA(),i.TgZ(4,"div",16),i.TgZ(5,"ul"),i.YNc(6,UN,2,3,"li",17),i.qZA(),i.qZA(),i.qZA()),2&a){const e=i.oxw(2).ngIf;i.xp6(2),i.hij("",i.xi3(3,2,"Parent",e.parentIds.length),": "),i.xp6(4),i.Q6J("ngForOf",e.parentIds)}}function KN(a,t){if(1&a&&(i.TgZ(0,"div",19),i._uU(1," committed by "),i._UZ(2,"app-avatar",9),i.ALo(3,"async"),i.TgZ(4,"span",10),i._uU(5),i.qZA(),i.qZA()),2&a){const e=i.oxw(2).ngIf,n=i.oxw();i.xp6(2),i.Q6J("remotes",i.lcZ(3,4,n.remotes))("email",e.committerEmail),i.xp6(2),i.Q6J("title",e.committerEmail),i.xp6(1),i.Oqu(e.committerName)}}function $N(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"li",21),i.NdJ("click",function(){const s=i.CHM(e).$implicit;return i.oxw(4).changeFile(s)})("contextmenu",function(){const s=i.CHM(e).$implicit,d=i.oxw(4);return d.copyToClipboard(d.getPatchPath(s))}),i.ALo(1,"async"),i.TgZ(2,"mat-icon",22),i._uU(3),i.qZA(),i._UZ(4,"app-condensed-path",23),i.qZA()}if(2&a){const e=t.$implicit,n=i.oxw(4);i.ekj("selected",n.isFileSelected(e,i.lcZ(1,5,n.selectedFile))),i.xp6(2),i.Q6J("ngClass",n.getPatchIconColorClass(e)),i.xp6(1),i.Oqu(n.getPatchIcon(e)),i.xp6(1),i.Q6J("path",n.getPatchPath(e))}}function ZN(a,t){if(1&a&&(i.TgZ(0,"ul"),i.YNc(1,$N,5,7,"li",20),i.qZA()),2&a){const e=t.ngIf;i.xp6(1),i.Q6J("ngForOf",e)}}function GN(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"div",2),i.TgZ(1,"header"),i.TgZ(2,"div",3),i.NdJ("click",function(){i.CHM(e);const o=i.oxw().ngIf;return i.oxw().copyToClipboard(o.id)}),i.TgZ(3,"span",4),i._uU(4,"Commit:"),i.qZA(),i._uU(5),i.qZA(),i.YNc(6,jN,7,5,"div",5),i.qZA(),i.TgZ(7,"mat-card",6),i.TgZ(8,"div",7),i._uU(9),i.qZA(),i.TgZ(10,"div",8),i._uU(11," authored by "),i._UZ(12,"app-avatar",9),i.ALo(13,"async"),i.TgZ(14,"span",10),i._uU(15),i.qZA(),i._UZ(16,"br"),i.qZA(),i.YNc(17,KN,6,6,"div",11),i.TgZ(18,"div",12),i.ALo(19,"date"),i._uU(20," on "),i.TgZ(21,"span",13),i._uU(22),i.ALo(23,"date"),i.qZA(),i._uU(24," at "),i.TgZ(25,"span",13),i._uU(26),i.ALo(27,"date"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(28,"mat-card",14),i.YNc(29,ZN,2,1,"ul",0),i.qZA(),i.qZA()}if(2&a){const e=i.oxw().ngIf,n=i.oxw();i.xp6(2),i.Q6J("title",e.id),i.xp6(3),i.hij(" ",e.id," "),i.xp6(1),i.Q6J("ngIf",e.parentIds.length),i.xp6(3),i.Oqu(e.message),i.xp6(3),i.Q6J("remotes",i.lcZ(13,13,n.remotes))("email",e.authorEmail),i.xp6(2),i.Q6J("title",e.authorEmail),i.xp6(1),i.Oqu(e.authorName),i.xp6(2),i.Q6J("ngIf",e.committerName&&e.committerEmail&&(e.authorName!==e.committerName||e.authorEmail!==e.committerEmail)),i.xp6(1),i.Q6J("title",i.xi3(19,15,e.date,"z")),i.xp6(4),i.Oqu(i.xi3(23,18,e.date,"d MMMM y")),i.xp6(4),i.Oqu(i.xi3(27,21,e.date,"HH:mm:ss")),i.xp6(3),i.Q6J("ngIf",e.diffs[0].patches)}}function QN(a,t){if(1&a&&(i.ynx(0),i.YNc(1,GN,30,24,"div",1),i.BQk()),2&a){const e=t.ngIf;i.xp6(1),i.Q6J("ngIf",e&&"head"!==e)}}let YN=(()=>{class a{constructor(e,n){this.store=e,this.commitDetailService=n}getPatchPath(e){return this.commitDetailService.getPatchPath(e)}getPatchIcon(e){return this.commitDetailService.getPatchIcon(e)}getPatchIconColorClass(e){return this.commitDetailService.getPatchIconColorClass(e)}copyToClipboard(e){navigator.clipboard.writeText(e??"").then(()=>{})}changeCommit(e){this.selectedRepositoryPath.pipe((0,St.q)(1)).subscribe(n=>{null!==n&&this.store.dispatch(new _n.jQ(n,e))})}changeFile(e){(0,rt.aj)([this.selectedRepositoryPath,this.selectedFile]).pipe((0,St.q)(1)).subscribe(([n,o])=>{null!==n&&this.store.dispatch(new _n.gt(n,e.oldFilePath===o?.oldFilePath&&e.newFilePath===o.newFilePath?null:{area:"commit",oldFilePath:e.oldFilePath,newFilePath:e.newFilePath}))})}isFileSelected(e,n){return!!n&&e.oldFilePath===n.oldFilePath&&e.newFilePath===n.newFilePath}}return a.\u0275fac=function(e){return new(e||a)(i.Y36(Pe.yh),i.Y36(b1.d))},a.\u0275cmp=i.Xpm({type:a,selectors:[["app-commit"]],inputs:{commit:"commit"},decls:2,vars:3,consts:[[4,"ngIf"],["class","detail-container",4,"ngIf"],[1,"detail-container"],[1,"this-commit",3,"title","click"],[1,"title"],["class","parent-commits",4,"ngIf"],[1,"message"],[1,"content"],[1,"author"],[3,"remotes","email"],[1,"highlight",3,"title"],["class","committer",4,"ngIf"],[1,"date",3,"title"],[1,"highlight"],[1,"files"],[1,"parent-commits"],[1,"parent-commit-ids"],["class","commit",3,"title","click",4,"ngFor","ngForOf"],[1,"commit",3,"title","click"],[1,"committer"],[3,"selected","click","contextmenu",4,"ngFor","ngForOf"],[3,"click","contextmenu"],["inline","",3,"ngClass"],[1,"name",3,"path"]],template:function(e,n){1&e&&(i.YNc(0,QN,2,1,"ng-container",0),i.ALo(1,"async")),2&e&&i.Q6J("ngIf",i.lcZ(1,1,n.commit))},directives:[Kt.O5,F.a8,er.A,Kt.sg,En.Hw,Kt.mk,v1.j],pipes:[Kt.Ov,Kt.uU,ei.r],styles:[".detail-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 10px;flex:0 0 auto;overflow:auto;font-weight:600}header[_ngcontent-%COMP%]   .commit[_ngcontent-%COMP%]{min-width:65px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer}header[_ngcontent-%COMP%]   .this-commit[_ngcontent-%COMP%]{flex:1 1 auto;min-width:65px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;padding-right:10px}header[_ngcontent-%COMP%]   .parent-commits[_ngcontent-%COMP%]{flex:1 1 auto;min-width:65px;overflow:hidden}header[_ngcontent-%COMP%]   .parent-commits[_ngcontent-%COMP%]   .parent-commit-ids[_ngcontent-%COMP%]{display:inline-block;width:calc(100% - 61px)}header[_ngcontent-%COMP%]   .parent-commits[_ngcontent-%COMP%]   .parent-commit-ids[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{width:100%;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:400;color:#fff}.message[_ngcontent-%COMP%]{flex:1 10 auto;margin:10px 10px 0;min-height:180px;overflow:auto;white-space:pre-line}.message[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:18px}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#ffffffb3}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#fff}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{margin-top:20px}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]{margin-bottom:2px}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%]{width:22px;height:22px;margin:0 3px 0 5px;vertical-align:bottom}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{font-size:18px}.message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{font-size:16px}.files[_ngcontent-%COMP%]{flex:10 1 auto;margin:10px;white-space:nowrap;overflow:auto}.files[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{margin-right:5px}.files[_ngcontent-%COMP%]   .material-icons.red[_ngcontent-%COMP%]{color:#f44336}.files[_ngcontent-%COMP%]   .material-icons.green[_ngcontent-%COMP%]{color:#4caf50}.files[_ngcontent-%COMP%]   .material-icons.orange[_ngcontent-%COMP%]{color:#cb8837}.files[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{margin-left:-16px;margin-right:-16px}.files[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:flex;cursor:pointer;line-height:22px;padding-left:16px;padding-right:16px}.files[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%]{background-color:#616161}.files[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{user-select:none}.files[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{width:calc(100% - 19px)}"],changeDetection:0}),(0,et.gn)([(0,Pe.Ph)(cn.E.selectedRemotes)],a.prototype,"remotes",void 0),(0,et.gn)([(0,Pe.Ph)(cn.E.selectedRepositoryPath)],a.prototype,"selectedRepositoryPath",void 0),(0,et.gn)([(0,Pe.Ph)(cn.E.selectedFileForArea("commit"))],a.prototype,"selectedFile",void 0),a})();function JN(a,t){1&a&&i._UZ(0,"app-new-commit")}function XN(a,t){if(1&a&&i._UZ(0,"app-commit",2),2&a){const e=i.oxw(2);i.Q6J("commit",e.commit)}}function qN(a,t){if(1&a&&(i.ynx(0),i.YNc(1,JN,1,0,"app-new-commit",0),i.YNc(2,XN,1,1,"app-commit",1),i.BQk()),2&a){const e=t.ngIf;i.xp6(1),i.Q6J("ngIf","head"===e),i.xp6(1),i.Q6J("ngIf","head"!==e)}}let eI=(()=>{class a extends((0,un.j)(Ln.A)){}return a.\u0275fac=function(){let t;return function(n){return(t||(t=i.n5z(a)))(n||a)}}(),a.\u0275cmp=i.Xpm({type:a,selectors:[["app-commit-detail-view"]],inputs:{commit:"commit"},features:[i.qOj],decls:2,vars:3,consts:[[4,"ngIf"],[3,"commit",4,"ngIf"],[3,"commit"]],template:function(e,n){1&e&&(i.YNc(0,qN,3,2,"ng-container",0),i.ALo(1,"async")),2&e&&i.Q6J("ngIf",i.lcZ(1,1,n.commit))},directives:[Kt.O5,zN,YN],pipes:[Kt.Ov],encapsulation:2,changeDetection:0}),a})();const tI=["conflictsList"];function nI(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"div",11),i.TgZ(1,"div",12),i.NdJ("click",function(){i.CHM(e);const o=i.oxw().ngIf;return i.oxw().changeCommit(o.baseCommitId)}),i.TgZ(2,"span",13),i._uU(3,"Base:"),i.qZA(),i._uU(4),i.qZA(),i.TgZ(5,"div",14),i.NdJ("click",function(){i.CHM(e);const o=i.oxw().ngIf;return i.oxw().changeCommit(o.toCommitId)}),i.TgZ(6,"span",13),i._uU(7,"Current:"),i.qZA(),i._uU(8),i.qZA(),i.TgZ(9,"div",15),i.NdJ("click",function(){i.CHM(e);const o=i.oxw().ngIf;return i.oxw().changeCommit(o.fromCommitId)}),i.TgZ(10,"span",13),i._uU(11,"Incoming:"),i.qZA(),i._uU(12),i.qZA(),i.qZA()}if(2&a){const e=t.ngIf,n=i.oxw().ngIf;i.xp6(1),i.Q6J("ngClass","color-"+e[n.baseCommitId])("title",n.baseCommitId),i.xp6(3),i.hij(" ",n.baseCommitId," "),i.xp6(1),i.Q6J("ngClass","color-"+e[n.toCommitId])("title",n.toCommitId),i.xp6(3),i.hij(" ",n.toCommitId," "),i.xp6(1),i.Q6J("ngClass","color-"+e[n.fromCommitId])("title",n.fromCommitId),i.xp6(3),i.hij(" ",n.fromCommitId," ")}}function iI(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"div",24),i.TgZ(1,"button",25),i.NdJ("click",function(){return i.CHM(e),i.oxw(4).resolveSelectedConflicts("to")}),i.ALo(2,"async"),i._uU(3,"Use 'current'"),i.qZA(),i.TgZ(4,"button",26),i.NdJ("click",function(){return i.CHM(e),i.oxw(4).resolveSelectedConflicts("from")}),i.ALo(5,"async"),i._uU(6,"Use 'incoming'"),i.qZA(),i.qZA()}if(2&a){const e=t.ngIf,n=i.oxw(3).ngIf,o=i.oxw();i.xp6(1),i.Q6J("ngClass","color-"+e[n.toCommitId])("disabled","check_box_outline_blank"===i.lcZ(2,4,o.conflictCheckboxIcon)),i.xp6(3),i.Q6J("ngClass","color-"+e[n.fromCommitId])("disabled","check_box_outline_blank"===i.lcZ(5,6,o.conflictCheckboxIcon))}}function oI(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"mat-list-option",27),i.TgZ(1,"div",28),i.NdJ("click",function(o){const d=i.CHM(e).$implicit;return i.oxw(4).selectFile(d),o.stopPropagation()}),i.TgZ(2,"mat-icon",29),i._uU(3),i.qZA(),i._UZ(4,"app-condensed-path",30),i.TgZ(5,"div",31),i.TgZ(6,"button",32),i.NdJ("click",function(o){const d=i.CHM(e).$implicit;return i.oxw(4).launchExternalTool(d),o.stopPropagation()}),i.TgZ(7,"mat-icon"),i._uU(8,"launch"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&a){const e=t.$implicit,n=i.oxw(4);i.Q6J("value",e),i.xp6(1),i.ekj("selected",n.isPatchSelected(e)),i.xp6(1),i.Q6J("ngClass",n.getPatchIconColorClass(e)),i.xp6(1),i.Oqu(n.getPatchIcon(e)),i.xp6(1),i.Q6J("path",n.getPatchPath(e))}}function sI(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"mat-card",17),i.TgZ(1,"div",18),i.YNc(2,iI,7,8,"div",19),i.ALo(3,"async"),i.TgZ(4,"button",20),i.NdJ("click",function(){return i.CHM(e),i.oxw(3).clickAllConflictsCheckbox()}),i.ALo(5,"async"),i.TgZ(6,"mat-icon"),i._uU(7),i.ALo(8,"async"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(9,"mat-selection-list",21,22),i.NdJ("selectionChange",function(o){return i.CHM(e),i.oxw(3).conflictSelectionChanged(o)}),i.YNc(11,oI,9,6,"mat-list-option",23),i.qZA(),i.qZA()}if(2&a){const e=i.oxw().ngIf,n=i.oxw(2);i.xp6(2),i.Q6J("ngIf",i.lcZ(3,5,n.graphColors)),i.xp6(2),i.s9C("title","check_box_outline_blank"===i.lcZ(5,7,n.conflictCheckboxIcon)?"Select all":"Deselect all"),i.xp6(3),i.Oqu(i.lcZ(8,9,n.conflictCheckboxIcon)),i.xp6(4),i.Q6J("ngForOf",e)("ngForTrackBy",n.trackByPatch)}}function rI(a,t){if(1&a&&(i.ynx(0),i.YNc(1,sI,12,11,"mat-card",16),i.BQk()),2&a){const e=t.ngIf;i.xp6(1),i.Q6J("ngIf",e.length>0)}}function aI(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"li",28),i.NdJ("click",function(){const s=i.CHM(e).$implicit;return i.oxw(2).selectFile(s)}),i.TgZ(1,"mat-icon",29),i._uU(2),i.qZA(),i._UZ(3,"app-condensed-path",30),i.qZA()}if(2&a){const e=t.$implicit,n=i.oxw(2);i.ekj("selected",n.isPatchSelected(e)),i.xp6(1),i.Q6J("ngClass",n.getPatchIconColorClass(e)),i.xp6(1),i.Oqu(n.getPatchIcon(e)),i.xp6(1),i.Q6J("path",n.getPatchPath(e))}}function lI(a,t){if(1&a){const e=i.EpF();i.ynx(0),i.TgZ(1,"header",1),i.YNc(2,nI,13,9,"div",2),i.ALo(3,"async"),i.TgZ(4,"button",3),i.NdJ("click",function(){return i.CHM(e),i.oxw().discardMerge()}),i._uU(5,"Discard merge"),i.qZA(),i.qZA(),i.YNc(6,rI,2,1,"ng-container",0),i.ALo(7,"async"),i.TgZ(8,"mat-card",4),i.TgZ(9,"ul",5),i.YNc(10,aI,4,5,"li",6),i.ALo(11,"async"),i.qZA(),i.qZA(),i.TgZ(12,"mat-card",7),i.TgZ(13,"mat-form-field",8),i.TgZ(14,"mat-label"),i._uU(15,"Commit Message"),i.qZA(),i._UZ(16,"textarea",9),i.qZA(),i.TgZ(17,"button",10),i.NdJ("click",function(){return i.CHM(e),i.oxw().commitChanges()}),i._uU(18,"Commit merge"),i.qZA(),i.qZA(),i.BQk()}if(2&a){const e=i.oxw();i.xp6(2),i.Q6J("ngIf",i.lcZ(3,6,e.graphColors)),i.xp6(4),i.Q6J("ngIf",i.lcZ(7,8,e.conflictedPatches)),i.xp6(4),i.Q6J("ngForOf",i.lcZ(11,10,e.normalPatches))("ngForTrackBy",e.trackByPatch),i.xp6(6),i.Q6J("formControl",e.commitMessageControl.ng),i.xp6(1),i.Q6J("disabled",!1)}}let cI=(()=>{class a extends((0,un.j)(Ln.A)){constructor(e,n,o,s,d){super(),this.store=e,this.repositoriesApi=n,this.commitDetailService=o,this.graphSharedService=s,this.repositoryActionsService=d,this.conflictCheckboxIcon=new mn.X("check_box_outline_blank"),this.commitMessageControl=new qt.rV,this.trackByPatch=(p,V)=>`${V.oldFilePath}|${V.newFilePath}|${V.status}`,this.isPatchSelected=p=>{},this.getPatchPath=p=>this.commitDetailService.getPatchPath(p),this.getPatchIcon=p=>this.commitDetailService.getPatchIcon(p),this.getPatchIconColorClass=p=>this.commitDetailService.getPatchIconColorClass(p)}ngOnInit(){this.conflictedPatches=this.merge.pipe((0,uo.h)(ps.Nf),(0,nt.U)(e=>e.mergeDiff.patches.filter(n=>n.status===js.v.Conflicted))),this.normalPatches=this.merge.pipe((0,uo.h)(ps.Nf),(0,nt.U)(e=>e.mergeDiff.patches.filter(n=>n.status!==js.v.Conflicted))),this.merge.pipe((0,uo.h)(ps.Nf),(0,Se.R)(this.destroyed$)).subscribe(e=>{this.commitMessageControl.setValue(e.message,{emitEvent:!1})}),this.graphColors=this.graphSharedService.getColors()}changeCommit(e){const n=this.store.selectSnapshot(cn.E.selectedRepositoryPath);n&&this.store.dispatch(new _n.jQ(n,e))}discardMerge(){const e=this.store.selectSnapshot(cn.E.selectedRepositoryPath);this.merge.pipe((0,St.q)(1)).subscribe(n=>{e&&n&&this.repositoriesApi.deleteMerge(e,n.fromCommitId,n.toCommitId).subscribe(()=>{this.store.dispatch([new At.hb(e,null,null),new _n.Vu(e)])})})}conflictSelectionChanged(e){this.conflictCheckboxIcon.next(e.source.options.length===e.source.selectedOptions.selected.length?"check_box":0===e.source.selectedOptions.selected.length?"check_box_outline_blank":"indeterminate_check_box")}clickAllConflictsCheckbox(){switch(this.conflictCheckboxIcon.value){case"check_box":case"indeterminate_check_box":this.matSelectionList.deselectAll(),this.conflictCheckboxIcon.next("check_box_outline_blank");break;case"check_box_outline_blank":this.matSelectionList.selectAll(),this.conflictCheckboxIcon.next("check_box")}}resolveSelectedConflicts(e){const n=this.matSelectionList.selectedOptions.selected.map(o=>o.value);!n.length||this.merge.pipe((0,St.q)(1)).subscribe(o=>{const s=this.store.selectSnapshot(cn.E.selectedRepositoryPath),d="head"===this.store.selectSnapshot(cn.E.selectedCommitId);if(s&&o){const p=("from"===e?o.fromDiff.patches:o.toDiff.patches).filter(V=>V.newFilePath&&n.some(H=>H.newFilePath===V.newFilePath)).map(V=>(V.newFileId?this.repositoriesApi.getFile(s,V.newFileId):(0,ut.of)(null)).pipe((0,nt.U)(H=>[V.newFilePath,H??""])));(0,wi.D)(p).pipe((0,Ne.w)(V=>this.repositoriesApi.updateMergeMultiple(s,o.fromCommitId,o.toCommitId,V,d)),(0,Vn.x)(()=>{this.store.dispatch(new _n.Vu(s))})).subscribe()}})}launchExternalTool(e){}commitChanges(){const e=this.store.selectSnapshot(cn.E.selectedRepositoryPath),n=this.store.selectSnapshot(cn.E.selectedCommitId);this.merge.pipe((0,St.q)(1)).subscribe(o=>{e&&o&&this.repositoryActionsService.commitMerge(e,o.fromCommitId,o.toBranch,this.commitMessageControl.value,"head"===n).subscribe()})}selectFile(e){const n=this.store.selectSnapshot(cn.E.selectedRepositoryPath);if(n){const o=this.store.selectSnapshot(cn.E.selectedFile);this.store.dispatch(new _n.gt(n,o?.oldFilePath===e.oldFilePath&&o?.newFilePath===e.newFilePath?null:{area:"commit",oldFilePath:e.oldFilePath,newFilePath:e.newFilePath}))}}}return a.\u0275fac=function(e){return new(e||a)(i.Y36(Pe.yh),i.Y36(Yi.a),i.Y36(b1.d),i.Y36(xn),i.Y36(Ii))},a.\u0275cmp=i.Xpm({type:a,selectors:[["app-merge-detail-view"]],viewQuery:function(e,n){if(1&e&&i.Gf(tI,5),2&e){let o;i.iGM(o=i.CRH())&&(n.matSelectionList=o.first)}},inputs:{merge:"merge"},features:[i.qOj],decls:2,vars:3,consts:[[4,"ngIf"],[1,"merge-info"],["class","commit-ids",4,"ngIf"],["type","button","mat-button","","color","warn","title","All changes will be lost!",1,"discard",3,"click"],[1,"normal-files"],[1,"list"],["class","item",3,"selected","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"commit-message"],[1,"description"],["matInput","","placeholder","Enter a description...",3,"formControl"],["mat-flat-button","","color","primary",1,"commit-btn",3,"disabled","click"],[1,"commit-ids"],[1,"base-commit",3,"ngClass","title","click"],[1,"title"],[1,"to-commit",3,"ngClass","title","click"],[1,"from-commit",3,"ngClass","title","click"],["class","conflicted-files",4,"ngIf"],[1,"conflicted-files"],[1,"header-buttons"],["class","resolve-buttons",4,"ngIf"],["type","button","mat-icon-button","",1,"checkbox-button",3,"title","click"],[1,"list",3,"selectionChange"],["conflictsList",""],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"resolve-buttons"],["type","button","mat-button","","title","Resolve conflicts using the changes in the 'current' commit",3,"ngClass","disabled","click"],["type","button","mat-button","","title","Resolve conflicts using the changes in the 'incoming' commit",3,"ngClass","disabled","click"],[3,"value"],[1,"item",3,"click"],["inline","",3,"ngClass"],[1,"name",3,"path"],[1,"buttons"],["type","button","mat-icon-button","","title","Open in external tool",3,"click"]],template:function(e,n){1&e&&(i.YNc(0,lI,19,12,"ng-container",0),i.ALo(1,"async")),2&e&&i.Q6J("ngIf",i.lcZ(1,1,n.merge))},directives:[Kt.O5,Mn.lW,F.a8,Kt.sg,B.KE,B.hX,E.Nt,oe.Fj,oe.JJ,oe.oH,Kt.mk,En.Hw,z.Ub,z.vS,v1.j],pipes:[Kt.Ov],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:stretch;height:100%}.merge-info[_ngcontent-%COMP%]{flex:0 0 auto;margin:0 10px;text-align:center}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex:0 0 auto;overflow:auto;font-weight:600}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit[_ngcontent-%COMP%]{min-width:60px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;padding-right:10px}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-0[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-0[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-0[_ngcontent-%COMP%]{color:#4363d8}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-1[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-1[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-1[_ngcontent-%COMP%]{color:#469990}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-2[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-2[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-2[_ngcontent-%COMP%]{color:#fabed4}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-3[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-3[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-3[_ngcontent-%COMP%]{color:#e6194b}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-4[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-4[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-4[_ngcontent-%COMP%]{color:#42d4f4}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-5[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-5[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-5[_ngcontent-%COMP%]{color:#f58231}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-6[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-6[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-6[_ngcontent-%COMP%]{color:#ffe119}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-7[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-7[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-7[_ngcontent-%COMP%]{color:#3cb44b}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-8[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-8[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-8[_ngcontent-%COMP%]{color:#f032e6}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-9[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-9[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-9[_ngcontent-%COMP%]{color:#fff}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-10[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-10[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-10[_ngcontent-%COMP%]{color:maroon}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-11[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-11[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-11[_ngcontent-%COMP%]{color:#9a6324}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-12[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-12[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-12[_ngcontent-%COMP%]{color:#fffac8}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-13[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-13[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-13[_ngcontent-%COMP%]{color:#aaffc3}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-14[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-14[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-14[_ngcontent-%COMP%]{color:#dcbeff}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit[_ngcontent-%COMP%]{padding-right:0}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:400;color:#fff}.merge-info[_ngcontent-%COMP%]   .discard[_ngcontent-%COMP%]{margin:5px 0;width:100%}.conflicted-files[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]{flex:1 1 auto;margin:10px 10px 0;white-space:nowrap;overflow:auto;min-height:70px}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]{position:relative;height:40px;line-height:40px}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;height:40px;margin-right:32px}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-0, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-0{color:#4363d8}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-1, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-1{color:#469990}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-2, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-2{color:#fabed4}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-3, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-3{color:#e6194b}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-4, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-4{color:#42d4f4}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-5, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-5{color:#f58231}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-6, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-6{color:#ffe119}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-7, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-7{color:#3cb44b}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-8, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-8{color:#f032e6}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-9, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-9{color:#fff}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-10, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-10{color:maroon}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-11, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-11{color:#9a6324}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-12, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-12{color:#fffac8}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-13, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-13{color:#aaffc3}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-14, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-14{color:#dcbeff}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%]{position:absolute;top:0;right:-12px}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{margin-left:-16px;margin-right:-16px;margin-top:0}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:flex;height:24px;line-height:24px;position:relative;overflow:hidden;text-overflow:ellipsis;cursor:pointer}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{margin-right:5px}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons.red[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons.red[_ngcontent-%COMP%]{color:#f44336}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons.green[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons.green[_ngcontent-%COMP%]{color:#4caf50}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons.orange[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons.orange[_ngcontent-%COMP%]{color:#cb8837}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons.blue[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons.blue[_ngcontent-%COMP%]{color:#7c8bff}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item.selected[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item.selected[_ngcontent-%COMP%]{background-color:#616161}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover   .buttons[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover   .buttons[_ngcontent-%COMP%]{opacity:1}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{user-select:none}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{width:calc(100% - 19px)}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{position:absolute;top:0;right:0;opacity:0;transition:.2s ease-in-out opacity;font-size:0}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:24px;width:24px;line-height:24px;margin-left:5px;font-size:0}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px}.conflicted-files[_ngcontent-%COMP%]{margin-top:0}.conflicted-files[_ngcontent-%COMP%]   mat-selection-list[_ngcontent-%COMP%]{padding-top:0}.conflicted-files[_ngcontent-%COMP%]   mat-list-option[_ngcontent-%COMP%]{font-size:14px;height:24px}.normal-files[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding:0 16px}.commit-message[_ngcontent-%COMP%]{flex:0 0 auto;margin:10px}.commit-message[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{width:100%}.commit-message[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:34px;max-height:100px}.commit-message[_ngcontent-%COMP%]   .commit-btn[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),a})();function dI(a,t){1&a&&i._UZ(0,"app-branches-view")}function uI(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"app-diff-view",9),i.NdJ("closed",function(){return i.CHM(e),i.oxw().closeDiffView()}),i.qZA()}if(2&a){const e=i.oxw();i.Q6J("@slideLeft",void 0)("patch",e.selectedPatch)}}function hI(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"app-merge-view",9),i.NdJ("closed",function(){return i.CHM(e),i.oxw().closeDiffView()}),i.qZA()}if(2&a){const e=i.oxw();i.Q6J("@slideLeft",void 0)("patch",e.selectedMergePatch)}}function fI(a,t){if(1&a&&i._UZ(0,"app-commit-detail-view",10),2&a){const e=i.oxw();i.Q6J("commit",e.selectedCommit)}}function gI(a,t){if(1&a&&i._UZ(0,"app-merge-detail-view",11),2&a){const e=i.oxw();i.Q6J("merge",e.selectedMerge)}}const mI=[{path:"",component:(()=>{class a extends((0,un.j)(Ln.A,sn.H)){constructor(e,n,o){super(),this.router=e,this.store=n,this.commitsApi=o,this.showBranches=this.defaultLayoutSizes.pipe((0,nt.U)(s=>"0"!==s[0]&&"0px"!==s[0]&&"0%"!==s[0])),this.branchesViewMinSize=hn.q}ngOnInit(){super.ngOnInit(),this.selectedRepositoryPath.pipe((0,Se.R)(this.destroyed$)).subscribe(e=>{null===e&&this.router.navigate(["/standard/open-repository"])}),this.selectedCommit=(0,rt.aj)([this.selectedRepositoryPath,this.selectedCommitId]).pipe((0,Ne.w)(([e,n])=>e&&n?"head"===n?this.selectedHasOngoingMerge.pipe((0,nt.U)(o=>o?null:"head")):this.commitsApi.getCommit(e,n):(0,ut.of)(null)),(0,at.d)(1)),this.selectedMerge=(0,rt.aj)([this.selectedRepositoryPath,this.store.select(cn.E.selectedMerge),this.store.select(cn.E.workingCopyMergeChanges),this.selectedHasOngoingMerge,this.selectedCommitId]).pipe((0,nt.U)(([e,n,o,s,d])=>n||("head"===d&&s&&e?o:null)),(0,at.d)(1)),this.selectedPatch=(0,rt.aj)([this.selectedRepositoryPath,this.selectedCommit,this.selectedFile,this.selectedStagedChanges,this.selectedUnstagedChanges]).pipe(function(a,t=zt.P,e=pn){return n=>n.lift(new fn(a,t,e.leading,e.trailing))}(100,void 0,{leading:!0,trailing:!0}),(0,nt.U)(([e,n,o,s,d])=>{if(!e||!n||!o)return null;const V=("head"===n?"staged"===o.area?s?.patches:"unstaged"===o.area?d?.patches:null:"commit"===o.area&&n.diffs.length>0?n.diffs[0].patches:null)?.find(H=>H.newFilePath===o.newFilePath&&H.oldFilePath===o.oldFilePath);return V?{repositoryPath:e,patch:V,isUnstaged:"head"===n&&"unstaged"===o.area}:null}),(0,at.d)(1)),this.selectedMergePatch=(0,rt.aj)([this.selectedRepositoryPath,this.selectedMerge,this.selectedFile]).pipe((0,nt.U)(([e,n,o])=>e&&n&&o?{repositoryPath:e,fromCommitId:n.fromCommitId,toCommitId:n.toCommitId,fromPatch:n.fromDiff.patches.find(s=>s.newFilePath===o.newFilePath)??null,toPatch:n.toDiff.patches.find(s=>s.newFilePath===o.newFilePath)??null,mergePatch:n.mergeDiff.patches.find(s=>s.newFilePath===o.newFilePath)??null}:null),(0,at.d)(1))}changeCommit(e){this.selectedRepositoryPath.pipe((0,St.q)(1)).subscribe(n=>{if(!n)throw new Error("Cannot change commit when no repository is selected");if(e?.startsWith("merge:")){const o=e.match(/^merge:([^:]+):([^:]+)$/);o&&this.store.dispatch(new At.hb(n,o[1],o[2]))}else this.store.dispatch(new _n.jQ(n,e))})}closeDiffView(){this.selectedRepositoryPath.pipe((0,St.q)(1)).subscribe(e=>{null!==e&&this.store.dispatch(new _n.gt(e,null))})}}return a.\u0275fac=function(e){return new(e||a)(i.Y36(Re.F0),i.Y36(Pe.yh),i.Y36(Yt.T))},a.\u0275cmp=i.Xpm({type:a,selectors:[["ng-component"]],features:[i.qOj],decls:16,vars:19,consts:[["id","default-layout"],[1,"left-cell",3,"min"],[4,"ngIf"],[1,"center-cell"],[3,"repository","commitId","selectedMerge","changeCommit"],[3,"patch","closed",4,"ngIf"],["min","350px",1,"right-cell"],[3,"commit",4,"ngIf"],[3,"merge",4,"ngIf"],[3,"patch","closed"],[3,"commit"],[3,"merge"]],template:function(e,n){1&e&&(i._UZ(0,"app-repository-action-view"),i.TgZ(1,"app-grid",0),i.TgZ(2,"app-grid-cell",1),i.YNc(3,dI,1,0,"app-branches-view",2),i.ALo(4,"async"),i.qZA(),i.TgZ(5,"app-grid-cell",3),i.TgZ(6,"app-graph-view",4),i.NdJ("changeCommit",function(s){return n.changeCommit(s)}),i.qZA(),i.YNc(7,uI,1,2,"app-diff-view",5),i.ALo(8,"async"),i.YNc(9,hI,1,2,"app-merge-view",5),i.ALo(10,"async"),i.qZA(),i.TgZ(11,"app-grid-cell",6),i.YNc(12,fI,1,1,"app-commit-detail-view",7),i.ALo(13,"async"),i.YNc(14,gI,1,1,"app-merge-detail-view",8),i.ALo(15,"async"),i.qZA(),i.qZA()),2&e&&(i.xp6(2),i.Q6J("min",n.branchesViewMinSize),i.xp6(1),i.Q6J("ngIf",i.lcZ(4,9,n.showBranches)),i.xp6(3),i.Q6J("repository",n.selectedRepository)("commitId",n.selectedCommitId)("selectedMerge",n.selectedMerge),i.xp6(1),i.Q6J("ngIf",i.lcZ(8,11,n.selectedPatch)),i.xp6(2),i.Q6J("ngIf",i.lcZ(10,13,n.selectedMergePatch)),i.xp6(3),i.Q6J("ngIf",i.lcZ(13,15,n.selectedCommit)),i.xp6(2),i.Q6J("ngIf",i.lcZ(15,17,n.selectedMerge)))},directives:[No,ys.M,ks.Y,Kt.O5,os,es,Mr.s,FN,eI,cI],pipes:[Kt.Ov],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:calc(100% - 50px)}app-repository-action-view[_ngcontent-%COMP%]{height:50px}app-graph-view[_ngcontent-%COMP%]{position:absolute;top:0;left:0;overflow:hidden}app-diff-view[_ngcontent-%COMP%], app-merge-view[_ngcontent-%COMP%]{z-index:200}.center-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-border{z-index:500}.center-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content{overflow:hidden}.right-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-border{z-index:500}"],data:{animation:[(0,Ze.X$)("slideLeft",[(0,Ze.eR)(":enter",[(0,Ze.oB)({position:"absolute",top:0,left:0,transform:"translateX(100%)"}),(0,Ze.jt)("200ms",(0,Ze.oB)({transform:"translateX(0)"}))]),(0,Ze.eR)(":leave",[(0,Ze.oB)({position:"absolute",top:0,left:0,transform:"translateX(0)"}),(0,Ze.jt)("200ms",(0,Ze.oB)({transform:"translateX(100%)"}))])])]},changeDetection:0}),(0,et.gn)([(0,Pe.Ph)(cn.E.selectedRepository)],a.prototype,"selectedRepository",void 0),(0,et.gn)([(0,Pe.Ph)(cn.E.selectedRepositoryPath)],a.prototype,"selectedRepositoryPath",void 0),(0,et.gn)([(0,Pe.Ph)(cn.E.selectedCommitId)],a.prototype,"selectedCommitId",void 0),(0,et.gn)([(0,Pe.Ph)(cn.E.selectedHasOngoingMerge)],a.prototype,"selectedHasOngoingMerge",void 0),(0,et.gn)([(0,Pe.Ph)(cn.E.selectedFile)],a.prototype,"selectedFile",void 0),(0,et.gn)([(0,Pe.Ph)(cn.E.selectedStagedChanges)],a.prototype,"selectedStagedChanges",void 0),(0,et.gn)([(0,Pe.Ph)(cn.E.selectedUnstagedChanges)],a.prototype,"selectedUnstagedChanges",void 0),(0,et.gn)([(0,Pe.Ph)(Ei.$.gridSizes("default-layout"))],a.prototype,"defaultLayoutSizes",void 0),a})()}];let pI=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({imports:[[Re.Bz.forChild(mI)],Re.Bz]}),a})(),_I=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({imports:[[M.I,O,S,C.m,N,D,P,_e,pI]]}),a})()},22250:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-action-bar {\n\twhite-space: nowrap;\n\theight: 100%;\n}\n\n.monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\theight: 100%;\n\twidth: 100%;\n\talign-items: center;\n}\n\n.monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-action-bar .action-item {\n\tdisplay: block;\n\talign-items: center;\n\tjustify-content: center;\n\tcursor: pointer;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-action-bar .action-item .icon,\n.monaco-action-bar .action-item .codicon {\n\tdisplay: block;\n}\n\n.monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n\twidth: 16px;\n\theight: 16px;\n}\n\n.monaco-action-bar .action-label {\n\tfont-size: 11px;\n\tpadding: 3px;\n\tborder-radius: 5px;\n}\n\n.monaco-action-bar .action-item.disabled .action-label,\n.monaco-action-bar .action-item.disabled .action-label::before,\n.monaco-action-bar .action-item.disabled .action-label:hover {\n\topacity: 0.4;\n}\n\n/* Vertical actions */\n\n.monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid #bbb;\n\tpadding-top: 1px;\n\tmargin-left: .8em;\n\tmargin-right: .8em;\n}\n\n.monaco-action-bar .action-item .action-label.separator {\n\twidth: 1px;\n\theight: 16px;\n\tmargin: 5px 4px !important;\n\tcursor: default;\n\tmin-width: 1px;\n\tpadding: 0;\n\tbackground-color: #bbb;\n}\n\n.secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n\n.monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-action-bar .action-item.action-dropdown-item {\n\tdisplay: flex;\n}\n\n.monaco-action-bar .action-item.action-dropdown-item > .action-label {\n\tmargin-right: 1px;\n}\n"},3336:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-aria-container {\n\tposition: absolute; /* try to hide from window but not from screen readers */\n\tleft:-999em;\n}"},27943:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-text-button {\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\twidth: 100%;\n\tpadding: 4px;\n\ttext-align: center;\n\tcursor: pointer;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n.monaco-text-button:focus {\n\toutline-offset: 2px !important;\n}\n\n.monaco-text-button:hover {\n\ttext-decoration: none !important;\n}\n\n.monaco-button.disabled:focus,\n.monaco-button.disabled {\n\topacity: 0.4 !important;\n\tcursor: default;\n}\n\n.monaco-text-button > .codicon {\n\tmargin: 0 0.2em;\n\tcolor: inherit !important;\n}\n\n.monaco-button-dropdown {\n\tdisplay: flex;\n\tcursor: pointer;\n}\n\n.monaco-button-dropdown > .monaco-dropdown-button {\n\tmargin-left: 1px;\n}\n\n.monaco-description-button {\n\tflex-direction: column;\n}\n\n.monaco-description-button .monaco-button-label {\n\tfont-weight: 500;\n}\n\n.monaco-description-button .monaco-button-description {\n\tfont-style: italic;\n}\n\n.monaco-description-button .monaco-button-label,\n.monaco-description-button .monaco-button-description\n{\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n.monaco-description-button .monaco-button-label > .codicon,\n.monaco-description-button .monaco-button-description > .codicon\n{\n\tmargin: 0 0.2em;\n\tcolor: inherit !important;\n}\n"},84570:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-custom-checkbox {\n\tmargin-left: 2px;\n\tfloat: left;\n\tcursor: pointer;\n\toverflow: hidden;\n\twidth: 20px;\n\theight: 20px;\n\tborder-radius: 3px;\n\tborder: 1px solid transparent;\n\tpadding: 1px;\n\tbox-sizing:\tborder-box;\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n.monaco-custom-checkbox:hover {\n\tbackground-color: var(--vscode-inputOption-hoverBackground);\n}\n\n.hc-black .monaco-custom-checkbox:hover {\n\tborder: 1px dashed var(--vscode-focusBorder);\n}\n\n.hc-black .monaco-custom-checkbox {\n\tbackground: none;\n}\n\n.hc-black .monaco-custom-checkbox:hover {\n\tbackground: none;\n}\n\n.monaco-custom-checkbox.monaco-simple-checkbox {\n\theight: 18px;\n\twidth: 18px;\n\tborder: 1px solid transparent;\n\tborder-radius: 3px;\n\tmargin-right: 9px;\n\tmargin-left: 0px;\n\tpadding: 0px;\n\topacity: 1;\n\tbackground-size: 16px !important;\n}\n\n/* hide check when unchecked */\n\n.monaco-custom-checkbox.monaco-simple-checkbox:not(.checked)::before {\n\tvisibility: hidden;\n}\n"},85719:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.codicon-wrench-subaction {\n\topacity: 0.5;\n}\n\n@keyframes codicon-spin {\n\t100% {\n\t\ttransform:rotate(360deg);\n\t}\n}\n\n.codicon-sync.codicon-modifier-spin,\n.codicon-loading.codicon-modifier-spin,\n.codicon-gear.codicon-modifier-spin,\n.codicon-notebook-state-executing.codicon-modifier-spin {\n\t/* Use steps to throttle FPS to reduce CPU usage */\n\tanimation: codicon-spin 1.5s steps(30) infinite;\n}\n\n.codicon-modifier-disabled {\n\topacity: 0.4;\n}\n\n/* custom speed & easing for loading icon */\n\n.codicon-loading,\n.codicon-tree-item-loading::before {\n\tanimation-duration: 1s !important;\n\tanimation-timing-function: cubic-bezier(0.53, 0.21, 0.29, 0.67) !important;\n}\n"},93791:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n@font-face {\n\tfont-family: \"codicon\";\n\tfont-display: block;\n\tsrc: url('codicon.63b8ee5b81329a75.ttf') format(\"truetype\");\n}\n\n.codicon[class*='codicon-'] {\n\tfont: normal normal normal 16px/1 codicon;\n\tdisplay: inline-block;\n\ttext-decoration: none;\n\ttext-rendering: auto;\n\ttext-align: center;\n\ttext-transform: none;\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n/* icon rules are dynamically created by the platform theme service (see iconsStyleSheet.ts) */\n"},72874:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.context-view {\n\tposition: absolute;\n\tz-index: 2500;\n}\n\n.context-view.fixed {\n\tall: initial;\n\tfont-family: inherit;\n\tfont-size: 13px;\n\tposition: fixed;\n\tz-index: 2500;\n\tcolor: inherit;\n}\n"},92051:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-count-badge {\n\tpadding: 3px 6px;\n\tborder-radius: 11px;\n\tfont-size: 11px;\n\tmin-width: 18px;\n\tmin-height: 18px;\n\tline-height: 11px;\n\tfont-weight: normal;\n\ttext-align: center;\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n}\n\n.monaco-count-badge.long {\n\tpadding: 2px 3px;\n\tborder-radius: 2px;\n\tmin-height: auto;\n\tline-height: normal;\n}\n"},98735:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-dropdown {\n\theight: 100%;\n\tpadding: 0;\n}\n\n.monaco-dropdown > .dropdown-label {\n\tcursor: pointer;\n\theight: 100%;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.monaco-dropdown > .dropdown-label > .action-label.disabled {\n\tcursor: default;\n}\n\n.monaco-dropdown-with-primary {\n\tdisplay: flex !important;\n\tflex-direction: row;\n\tborder-radius: 5px;\n}\n\n.monaco-dropdown-with-primary > .action-container > .action-label {\n\tmargin-right: 0;\n}\n\n.monaco-dropdown-with-primary > .dropdown-action-container > .monaco-dropdown > .dropdown-label .codicon[class*='codicon-'] {\n\tfont-size: 12px;\n\tpadding-left: 0px;\n\tpadding-right: 0px;\n\tline-height: 16px;\n\tmargin-left: -3px;\n}\n\n.monaco-dropdown-with-primary > .dropdown-action-container > .monaco-dropdown > .dropdown-label > .action-label {\n\tdisplay: block;\n\tbackground-size: 16px;\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n}\n"},80090:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n/* ---------- Find input ---------- */\n.monaco-findInput {\n\tposition: relative;\n}\n.monaco-findInput .monaco-inputbox {\n\tfont-size: 13px;\n\twidth: 100%;\n}\n.monaco-findInput > .controls {\n\tposition: absolute;\n\ttop: 3px;\n\tright: 2px;\n}\n.vs .monaco-findInput.disabled {\n\tbackground-color: #E1E1E1;\n}\n/* Theming */\n.vs-dark .monaco-findInput.disabled {\n\tbackground-color: #333;\n}\n/* Highlighting */\n.monaco-findInput.highlight-0 .controls {\n\tanimation: monaco-findInput-highlight-0 100ms linear 0s;\n}\n.monaco-findInput.highlight-1 .controls {\n\tanimation: monaco-findInput-highlight-1 100ms linear 0s;\n}\n.hc-black .monaco-findInput.highlight-0 .controls,\n.vs-dark  .monaco-findInput.highlight-0 .controls {\n\tanimation: monaco-findInput-highlight-dark-0 100ms linear 0s;\n}\n.hc-black .monaco-findInput.highlight-1 .controls,\n.vs-dark  .monaco-findInput.highlight-1 .controls {\n\tanimation: monaco-findInput-highlight-dark-1 100ms linear 0s;\n}\n@keyframes monaco-findInput-highlight-0 {\n\t0% { background: rgba(253, 255, 0, 0.8); }\n\t100% { background: transparent; }\n}\n@keyframes monaco-findInput-highlight-1 {\n\t0% { background: rgba(253, 255, 0, 0.8); }\n\t/* Made intentionally different such that the CSS minifier does not collapse the two animations into a single one*/\n\t99% { background: transparent; }\n}\n@keyframes monaco-findInput-highlight-dark-0 {\n\t0% { background: rgba(255, 255, 255, 0.44); }\n\t100% { background: transparent; }\n}\n@keyframes monaco-findInput-highlight-dark-1 {\n\t0% { background: rgba(255, 255, 255, 0.44); }\n\t/* Made intentionally different such that the CSS minifier does not collapse the two animations into a single one*/\n\t99% { background: transparent; }\n}"},97886:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-hover {\n\tcursor: default;\n\tposition: absolute;\n\toverflow: hidden;\n\tz-index: 50;\n\tuser-select: text;\n\t-webkit-user-select: text;\n\t-ms-user-select: text;\n\tbox-sizing: initial;\n\tanimation: fadein 100ms linear;\n\tline-height: 1.5em;\n}\n\n.monaco-hover.hidden {\n\tdisplay: none;\n}\n\n.monaco-hover a:hover {\n\tcursor: pointer;\n}\n\n.monaco-hover .hover-contents:not(.html-hover-contents) {\n\tpadding: 4px 8px;\n}\n\n.monaco-hover .markdown-hover > .hover-contents:not(.code-hover-contents) {\n\tmax-width: 500px;\n\tword-wrap: break-word;\n}\n\n.monaco-hover .markdown-hover > .hover-contents:not(.code-hover-contents) hr {\n\tmin-width: 100%;\n}\n\n.monaco-hover p,\n.monaco-hover .code,\n.monaco-hover ul {\n\tmargin: 8px 0;\n}\n\n.monaco-hover code {\n\tfont-family: var(--monaco-monospace-font);\n}\n\n.monaco-hover hr {\n\tbox-sizing: border-box;\n\tborder-left: 0px;\n\tborder-right: 0px;\n\tmargin-top: 4px;\n\tmargin-bottom: -4px;\n\tmargin-left: -8px;\n\tmargin-right: -8px;\n\theight: 1px;\n}\n\n.monaco-hover p:first-child,\n.monaco-hover .code:first-child,\n.monaco-hover ul:first-child {\n\tmargin-top: 0;\n}\n\n.monaco-hover p:last-child,\n.monaco-hover .code:last-child,\n.monaco-hover ul:last-child {\n\tmargin-bottom: 0;\n}\n\n/* MarkupContent Layout */\n\n.monaco-hover ul {\n\tpadding-left: 20px;\n}\n\n.monaco-hover ol {\n\tpadding-left: 20px;\n}\n\n.monaco-hover li > p {\n\tmargin-bottom: 0;\n}\n\n.monaco-hover li > ul {\n\tmargin-top: 0;\n}\n\n.monaco-hover code {\n\tborder-radius: 3px;\n\tpadding: 0 0.4em;\n}\n\n.monaco-hover .monaco-tokenized-source {\n\twhite-space: pre-wrap;\n}\n\n.monaco-hover .hover-row.status-bar {\n\tfont-size: 12px;\n\tline-height: 22px;\n}\n\n.monaco-hover .hover-row.status-bar .actions {\n\tdisplay: flex;\n\tpadding: 0px 8px;\n}\n\n.monaco-hover .hover-row.status-bar .actions .action-container {\n\tmargin-right: 16px;\n\tcursor: pointer;\n}\n\n.monaco-hover .hover-row.status-bar .actions .action-container .action .icon {\n\tpadding-right: 4px;\n}\n\n.monaco-hover .markdown-hover .hover-contents .codicon {\n\tcolor: inherit;\n\tfont-size: inherit;\n\tvertical-align: middle;\n}\n\n.monaco-hover .hover-contents a.code-link:hover,\n.monaco-hover .hover-contents a.code-link {\n\tcolor: inherit;\n}\n\n.monaco-hover .hover-contents a.code-link:before {\n\tcontent: '(';\n}\n\n.monaco-hover .hover-contents a.code-link:after {\n\tcontent: ')';\n}\n\n.monaco-hover .hover-contents a.code-link > span {\n\ttext-decoration: underline;\n\t/** Hack to force underline to show **/\n\tborder-bottom: 1px solid transparent;\n\ttext-underline-position: under;\n}\n\n/** Spans in markdown hovers need a margin-bottom to avoid looking cramped: https://github.com/microsoft/vscode/issues/101496 **/\n\n.monaco-hover .markdown-hover .hover-contents:not(.code-hover-contents):not(.html-hover-contents) span {\n\tmargin-bottom: 4px;\n\tdisplay: inline-block;\n}\n\n.monaco-hover-content .action-container a {\n\tuser-select: none;\n}\n\n.monaco-hover-content .action-container.disabled {\n\tpointer-events: none;\n\topacity: 0.4;\n\tcursor: default;\n}\n"},10402:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* ---------- Icon label ---------- */\n\n.monaco-icon-label {\n\tdisplay: flex; /* required for icons support :before rule */\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-icon-label::before {\n\n\t/* svg icons rendered as background image */\n\tbackground-size: 16px;\n\tbackground-position: left center;\n\tbackground-repeat: no-repeat;\n\tpadding-right: 6px;\n\twidth: 16px;\n\theight: 22px;\n\tline-height: inherit !important;\n\tdisplay: inline-block;\n\n\t/* fonts icons */\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n\tvertical-align: top;\n\n\tflex-shrink: 0; /* fix for https://github.com/microsoft/vscode/issues/13787 */\n}\n\n.monaco-icon-label > .monaco-icon-label-container {\n\tmin-width: 0;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tflex: 1;\n}\n\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-name-container > .label-name {\n\tcolor: inherit;\n\twhite-space: pre; /* enable to show labels that include multiple whitespaces */\n}\n\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-name-container > .label-name > .label-separator {\n\tmargin: 0 2px;\n\topacity: 0.5;\n}\n\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\topacity: .7;\n\tmargin-left: 0.5em;\n\tfont-size: 0.9em;\n\twhite-space: pre; /* enable to show labels that include multiple whitespaces */\n}\n\n.monaco-icon-label.nowrap > .monaco-icon-label-container > .monaco-icon-description-container > .label-description{\n\twhite-space: nowrap\n}\n\n.vs .monaco-icon-label > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\topacity: .95;\n}\n\n.monaco-icon-label.italic > .monaco-icon-label-container > .monaco-icon-name-container > .label-name,\n.monaco-icon-label.italic > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\tfont-style: italic;\n}\n\n.monaco-icon-label.deprecated {\n\ttext-decoration: line-through;\n\topacity: 0.66;\n}\n\n/* make sure apply italic font style to decorations as well */\n\n.monaco-icon-label.italic::after {\n\tfont-style: italic;\n}\n\n.monaco-icon-label.strikethrough > .monaco-icon-label-container > .monaco-icon-name-container > .label-name,\n.monaco-icon-label.strikethrough > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\ttext-decoration: line-through;\n}\n\n.monaco-icon-label::after {\n\topacity: 0.75;\n\tfont-size: 90%;\n\tfont-weight: 600;\n\tmargin: auto 16px 0 5px; /* https://github.com/microsoft/vscode/issues/113223 */\n\ttext-align: center;\n}\n\n/* make sure selection color wins when a label is being selected */\n\n.monaco-list:focus .selected .monaco-icon-label, /* list */\n.monaco-list:focus .selected .monaco-icon-label::after\n{\n\tcolor: inherit !important;\n}\n\n.monaco-list-row.focused.selected .label-description,\n.monaco-list-row.selected .label-description {\n\topacity: .8;\n}\n"},5767:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-inputbox {\n\tposition: relative;\n\tdisplay: block;\n\tpadding: 0;\n\tbox-sizing:\tborder-box;\n\n\t/* Customizable */\n\tfont-size: inherit;\n}\n\n.monaco-inputbox.idle {\n\tborder: 1px solid transparent;\n}\n\n.monaco-inputbox > .ibwrapper > .input,\n.monaco-inputbox > .ibwrapper > .mirror {\n\n\t/* Customizable */\n\tpadding: 4px;\n}\n\n.monaco-inputbox > .ibwrapper {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-inputbox > .ibwrapper > .input {\n\tdisplay: inline-block;\n\tbox-sizing:\tborder-box;\n\twidth: 100%;\n\theight: 100%;\n\tline-height: inherit;\n\tborder: none;\n\tfont-family: inherit;\n\tfont-size: inherit;\n\tresize: none;\n\tcolor: inherit;\n}\n\n.monaco-inputbox > .ibwrapper > input {\n\ttext-overflow: ellipsis;\n}\n\n.monaco-inputbox > .ibwrapper > textarea.input {\n\tdisplay: block;\n\t-ms-overflow-style: none; /* IE 10+: hide scrollbars */\n\tscrollbar-width: none; /* Firefox: hide scrollbars */\n\toutline: none;\n}\n\n.monaco-inputbox > .ibwrapper > textarea.input::-webkit-scrollbar {\n\tdisplay: none; /* Chrome + Safari: hide scrollbar */\n}\n\n.monaco-inputbox > .ibwrapper > textarea.input.empty {\n\twhite-space: nowrap;\n}\n\n.monaco-inputbox > .ibwrapper > .mirror {\n\tposition: absolute;\n\tdisplay: inline-block;\n\twidth: 100%;\n\ttop: 0;\n\tleft: 0;\n\tbox-sizing: border-box;\n\twhite-space: pre-wrap;\n\tvisibility: hidden;\n\tword-wrap: break-word;\n}\n\n/* Context view */\n\n.monaco-inputbox-container {\n\ttext-align: right;\n}\n\n.monaco-inputbox-container .monaco-inputbox-message {\n\tdisplay: inline-block;\n\toverflow: hidden;\n\ttext-align: left;\n\twidth: 100%;\n\tbox-sizing:\tborder-box;\n\tpadding: 0.4em;\n\tfont-size: 12px;\n\tline-height: 17px;\n\tmargin-top: -1px;\n\tword-wrap: break-word;\n}\n\n/* Action bar support */\n\n.monaco-inputbox .monaco-action-bar {\n\tposition: absolute;\n\tright: 2px;\n\ttop: 4px;\n}\n\n.monaco-inputbox .monaco-action-bar .action-item {\n\tmargin-left: 2px;\n}\n\n.monaco-inputbox .monaco-action-bar .action-item .codicon {\n\tbackground-repeat: no-repeat;\n\twidth: 16px;\n\theight: 16px;\n}\n"},97348:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-keybinding {\n\tdisplay: flex;\n\talign-items: center;\n\tline-height: 10px;\n}\n\n.monaco-keybinding > .monaco-keybinding-key {\n\tdisplay: inline-block;\n\tborder-style: solid;\n\tborder-width: 1px;\n\tborder-radius: 3px;\n\tvertical-align: middle;\n\tfont-size: 11px;\n\tpadding: 3px 5px;\n\tmargin: 0 2px;\n}\n\n.monaco-keybinding > .monaco-keybinding-key:first-child {\n\tmargin-left: 0;\n}\n\n.monaco-keybinding > .monaco-keybinding-key:last-child {\n\tmargin-right: 0;\n}\n\n.monaco-keybinding > .monaco-keybinding-key-separator {\n\tdisplay: inline-block;\n}\n\n.monaco-keybinding > .monaco-keybinding-key-chord-separator {\n\twidth: 6px;\n}\n"},72010:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-list {\n\tposition: relative;\n\theight: 100%;\n\twidth: 100%;\n\twhite-space: nowrap;\n}\n\n.monaco-list.mouse-support {\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n.monaco-list > .monaco-scrollable-element {\n\theight: 100%;\n}\n\n.monaco-list-rows {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-list.horizontal-scrolling .monaco-list-rows {\n\twidth: auto;\n\tmin-width: 100%;\n}\n\n.monaco-list-row {\n\tposition: absolute;\n\tbox-sizing: border-box;\n\toverflow: hidden;\n\twidth: 100%;\n}\n\n.monaco-list.mouse-support .monaco-list-row {\n\tcursor: pointer;\n\ttouch-action: none;\n}\n\n/* for OS X ballistic scrolling */\n\n.monaco-list-row.scrolling {\n\tdisplay: none !important;\n}\n\n/* Focus */\n\n.monaco-list.element-focused,\n.monaco-list.selection-single,\n.monaco-list.selection-multiple {\n\toutline: 0 !important;\n}\n\n/* Dnd */\n\n.monaco-drag-image {\n\tdisplay: inline-block;\n\tpadding: 1px 7px;\n\tborder-radius: 10px;\n\tfont-size: 12px;\n\tposition: absolute;\n\tz-index: 1000;\n}\n\n/* Type filter */\n\n.monaco-list-type-filter {\n\tdisplay: flex;\n\talign-items: center;\n\tposition: absolute;\n\tborder-radius: 2px;\n\tpadding: 0px 3px;\n\tmax-width: calc(100% - 10px);\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n\ttext-align: right;\n\tbox-sizing: border-box;\n\tcursor: all-scroll;\n\tfont-size: 13px;\n\tline-height: 18px;\n\theight: 20px;\n\tz-index: 1;\n\ttop: 4px;\n}\n\n.monaco-list-type-filter.dragging {\n\ttransition: top 0.2s, left 0.2s;\n}\n\n.monaco-list-type-filter.ne {\n\tright: 4px;\n}\n\n.monaco-list-type-filter.nw {\n\tleft: 4px;\n}\n\n.monaco-list-type-filter > .controls {\n\tdisplay: flex;\n\talign-items: center;\n\tbox-sizing: border-box;\n\ttransition: width 0.2s;\n\twidth: 0;\n}\n\n.monaco-list-type-filter.dragging > .controls,\n.monaco-list-type-filter:hover > .controls {\n\twidth: 36px;\n}\n\n.monaco-list-type-filter > .controls > * {\n\tborder: none;\n\tbox-sizing: border-box;\n\t-webkit-appearance: none;\n\t-moz-appearance: none;\n\tbackground: none;\n\twidth: 16px;\n\theight: 16px;\n\tflex-shrink: 0;\n\tmargin: 0;\n\tpadding: 0;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tcursor: pointer;\n}\n\n.monaco-list-type-filter > .controls > .filter {\n\tmargin-left: 4px;\n}\n\n.monaco-list-type-filter-message {\n\tposition: absolute;\n\tbox-sizing: border-box;\n\twidth: 100%;\n\theight: 100%;\n\ttop: 0;\n\tleft: 0;\n\tpadding: 40px 1em 1em 1em;\n\ttext-align: center;\n\twhite-space: normal;\n\topacity: 0.7;\n\tpointer-events: none;\n}\n\n.monaco-list-type-filter-message:empty {\n\tdisplay: none;\n}\n\n/* Electron */\n\n.monaco-list-type-filter {\n\tcursor: grab;\n}\n\n.monaco-list-type-filter.dragging {\n\tcursor: grabbing;\n}\n"},12239:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-mouse-cursor-text {\n\tcursor: text;\n}\n"},38744:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-progress-container {\n\twidth: 100%;\n\theight: 5px;\n\toverflow: hidden; /* keep progress bit in bounds */\n}\n\n.monaco-progress-container .progress-bit {\n\twidth: 2%;\n\theight: 5px;\n\tposition: absolute;\n\tleft: 0;\n\tdisplay: none;\n}\n\n.monaco-progress-container.active .progress-bit {\n\tdisplay: inherit;\n}\n\n.monaco-progress-container.discrete .progress-bit {\n\tleft: 0;\n\ttransition: width 100ms linear;\n}\n\n.monaco-progress-container.discrete.done .progress-bit {\n\twidth: 100%;\n}\n\n.monaco-progress-container.infinite .progress-bit {\n\tanimation-name: progress;\n\tanimation-duration: 4s;\n\tanimation-iteration-count: infinite;\n\ttransform: translate3d(0px, 0px, 0px);\n\tanimation-timing-function: linear;\n}\n\n.monaco-progress-container.infinite.infinite-long-running .progress-bit {\n\t/*\n\t\tThe more smooth `linear` timing function can cause\n\t\thigher GPU consumption as indicated in\n\t\thttps://github.com/microsoft/vscode/issues/97900 &\n\t\thttps://github.com/microsoft/vscode/issues/138396\n\t*/\n\tanimation-timing-function: steps(100);\n}\n\n/**\n * The progress bit has a width: 2% (1/50) of the parent container. The animation moves it from 0% to 100% of\n * that container. Since translateX is relative to the progress bit size, we have to multiple it with\n * its relative size to the parent container:\n * parent width: 5000%\n *    bit width: 100%\n * translateX should be as follow:\n *  50%: 5000% * 50% - 50% (set to center) = 2450%\n * 100%: 5000% * 100% - 100% (do not overflow) = 4900%\n */\n\n@keyframes progress { from { transform: translateX(0%) scaleX(1) } 50% { transform: translateX(2500%) scaleX(3) } to { transform: translateX(4900%) scaleX(1) } }\n"},10649:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n:root {\n\t--sash-size: 4px;\n}\n\n.monaco-sash {\n\tposition: absolute;\n\tz-index: 35;\n\ttouch-action: none;\n}\n\n.monaco-sash.disabled {\n\tpointer-events: none;\n}\n\n.monaco-sash.mac.vertical {\n\tcursor: col-resize;\n}\n\n.monaco-sash.vertical.minimum {\n\tcursor: e-resize;\n}\n\n.monaco-sash.vertical.maximum {\n\tcursor: w-resize;\n}\n\n.monaco-sash.mac.horizontal {\n\tcursor: row-resize;\n}\n\n.monaco-sash.horizontal.minimum {\n\tcursor: s-resize;\n}\n\n.monaco-sash.horizontal.maximum {\n\tcursor: n-resize;\n}\n\n.monaco-sash.disabled {\n\tcursor: default !important;\n\tpointer-events: none !important;\n}\n\n.monaco-sash.vertical {\n\tcursor: ew-resize;\n\ttop: 0;\n\twidth: var(--sash-size);\n\theight: 100%;\n}\n\n.monaco-sash.horizontal {\n\tcursor: ns-resize;\n\tleft: 0;\n\twidth: 100%;\n\theight: var(--sash-size);\n}\n\n.monaco-sash:not(.disabled) > .orthogonal-drag-handle {\n\tcontent: \" \";\n\theight: calc(var(--sash-size) * 2);\n\twidth: calc(var(--sash-size) * 2);\n\tz-index: 100;\n\tdisplay: block;\n\tcursor: all-scroll;\n\tposition: absolute;\n}\n\n.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)\n\t> .orthogonal-drag-handle.start,\n.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)\n\t> .orthogonal-drag-handle.end {\n\tcursor: nwse-resize;\n}\n\n.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)\n\t> .orthogonal-drag-handle.end,\n.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)\n\t> .orthogonal-drag-handle.start {\n\tcursor: nesw-resize;\n}\n\n.monaco-sash.vertical > .orthogonal-drag-handle.start {\n\tleft: calc(var(--sash-size) * -0.5);\n\ttop: calc(var(--sash-size) * -1);\n}\n\n.monaco-sash.vertical > .orthogonal-drag-handle.end {\n\tleft: calc(var(--sash-size) * -0.5);\n\tbottom: calc(var(--sash-size) * -1);\n}\n\n.monaco-sash.horizontal > .orthogonal-drag-handle.start {\n\ttop: calc(var(--sash-size) * -0.5);\n\tleft: calc(var(--sash-size) * -1);\n}\n\n.monaco-sash.horizontal > .orthogonal-drag-handle.end {\n\ttop: calc(var(--sash-size) * -0.5);\n\tright: calc(var(--sash-size) * -1);\n}\n\n.monaco-sash:before {\n\tcontent: '';\n\tpointer-events: none;\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n\ttransition: background-color 0.1s ease-out;\n\tbackground: transparent;\n}\n\n.monaco-sash.vertical:before {\n\twidth: var(--sash-hover-size);\n\tleft: calc(50% - (var(--sash-hover-size) / 2));\n}\n\n.monaco-sash.horizontal:before {\n\theight: var(--sash-hover-size);\n\ttop: calc(50% - (var(--sash-hover-size) / 2));\n}\n\n.pointer-events-disabled {\n\tpointer-events: none !important;\n}\n\n/** Debug **/\n\n.monaco-sash.debug {\n\tbackground: cyan;\n}\n\n.monaco-sash.debug.disabled {\n\tbackground: rgba(0, 255, 255, 0.2);\n}\n\n.monaco-sash.debug:not(.disabled) > .orthogonal-drag-handle {\n\tbackground: red;\n}\n"},3301:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Arrows */\n\n.monaco-scrollable-element > .scrollbar > .scra {\n\tcursor: pointer;\n\tfont-size: 11px !important;\n}\n\n.monaco-scrollable-element > .visible {\n\topacity: 1;\n\n\t/* Background rule added for IE9 - to allow clicks on dom node */\n\tbackground:rgba(0,0,0,0);\n\n\ttransition: opacity 100ms linear;\n}\n\n.monaco-scrollable-element > .invisible {\n\topacity: 0;\n\tpointer-events: none;\n}\n\n.monaco-scrollable-element > .invisible.fade {\n\ttransition: opacity 800ms linear;\n}\n\n/* Scrollable Content Inset Shadow */\n\n.monaco-scrollable-element > .shadow {\n\tposition: absolute;\n\tdisplay: none;\n}\n\n.monaco-scrollable-element > .shadow.top {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 3px;\n\theight: 3px;\n\twidth: 100%;\n}\n\n.monaco-scrollable-element > .shadow.left {\n\tdisplay: block;\n\ttop: 3px;\n\tleft: 0;\n\theight: 100%;\n\twidth: 3px;\n}\n\n.monaco-scrollable-element > .shadow.top-left-corner {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 0;\n\theight: 3px;\n\twidth: 3px;\n}\n"},10050:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-split-view2 {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-split-view2 > .sash-container {\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n\tpointer-events: none;\n}\n\n.monaco-split-view2 > .sash-container > .monaco-sash {\n\tpointer-events: initial;\n}\n\n.monaco-split-view2 > .monaco-scrollable-element {\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-split-view2 > .monaco-scrollable-element > .split-view-container {\n\twidth: 100%;\n\theight: 100%;\n\twhite-space: nowrap;\n\tposition: relative;\n}\n\n.monaco-split-view2 > .monaco-scrollable-element > .split-view-container > .split-view-view {\n\twhite-space: initial;\n\tposition: absolute;\n}\n\n.monaco-split-view2 > .monaco-scrollable-element > .split-view-container > .split-view-view:not(.visible) {\n\tdisplay: none;\n}\n\n.monaco-split-view2.vertical > .monaco-scrollable-element > .split-view-container > .split-view-view {\n\twidth: 100%;\n}\n\n.monaco-split-view2.horizontal > .monaco-scrollable-element > .split-view-container > .split-view-view {\n\theight: 100%;\n}\n\n.monaco-split-view2.separator-border > .monaco-scrollable-element > .split-view-container > .split-view-view:not(:first-child)::before {\n\tcontent: ' ';\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tz-index: 5;\n\tpointer-events: none;\n\tbackground-color: var(--separator-border);\n}\n\n.monaco-split-view2.separator-border.horizontal > .monaco-scrollable-element > .split-view-container > .split-view-view:not(:first-child)::before {\n\theight: 100%;\n\twidth: 1px;\n}\n\n.monaco-split-view2.separator-border.vertical > .monaco-scrollable-element > .split-view-container > .split-view-view:not(:first-child)::before {\n\theight: 1px;\n\twidth: 100%;\n}\n"},75601:Be=>{Be.exports='/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-table {\n\tdisplay: flex;\n\tflex-direction: column;\n\tposition: relative;\n\theight: 100%;\n\twidth: 100%;\n\twhite-space: nowrap;\n}\n\n.monaco-table > .monaco-split-view2 {\n\tborder-bottom: 1px solid transparent;\n}\n\n.monaco-table > .monaco-list {\n\tflex: 1;\n}\n\n.monaco-table-tr {\n\tdisplay: flex;\n\theight: 100%;\n}\n\n.monaco-table-th {\n\twidth: 100%;\n\theight: 100%;\n\tfont-weight: bold;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-table-th,\n.monaco-table-td {\n\tbox-sizing: border-box;\n\tflex-shrink: 0;\n\toverflow: hidden;\n\twhite-space: nowrap;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {\n\tcontent: "";\n\tposition: absolute;\n\tleft: calc(var(--sash-size) / 2);\n\twidth: 0;\n\tborder-left: 1px solid transparent;\n}\n\n.monaco-table > .monaco-split-view2,\n.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {\n\ttransition: border-color 0.2s ease-out;\n}\n\n/*\n.monaco-table:hover > .monaco-split-view2,\n.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\n\tborder-color: rgba(204, 204, 204, 0.2);\n} */\n'},79652:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-tl-row {\n\tdisplay: flex;\n\theight: 100%;\n\talign-items: center;\n\tposition: relative;\n}\n\n.monaco-tl-indent {\n\theight: 100%;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 16px;\n\tpointer-events: none;\n}\n\n.hide-arrows .monaco-tl-indent {\n\tleft: 12px;\n}\n\n.monaco-tl-indent > .indent-guide {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\theight: 100%;\n\tborder-left: 1px solid transparent;\n}\n\n.monaco-tl-indent > .indent-guide {\n\ttransition: border-color 0.1s linear;\n}\n\n.monaco-tl-twistie,\n.monaco-tl-contents {\n\theight: 100%;\n}\n\n.monaco-tl-twistie {\n\tfont-size: 10px;\n\ttext-align: right;\n\tpadding-right: 6px;\n\tflex-shrink: 0;\n\twidth: 16px;\n\tdisplay: flex !important;\n\talign-items: center;\n\tjustify-content: center;\n\ttransform: translateX(3px);\n}\n\n.monaco-tl-contents {\n\tflex: 1;\n\toverflow: hidden;\n}\n\n.monaco-tl-twistie::before {\n\tborder-radius: 20px;\n}\n\n.monaco-tl-twistie.collapsed::before {\n\ttransform: rotate(-90deg);\n}\n\n.monaco-tl-twistie.codicon-tree-item-loading::before {\n\t/* Use steps to throttle FPS to reduce CPU usage */\n\tanimation: codicon-spin 1.25s steps(30) infinite;\n}\n"},51684:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.quick-input-widget {\n\tposition: absolute;\n\twidth: 600px;\n\tz-index: 2000;\n\tpadding: 0 1px 1px 1px;\n\tleft: 50%;\n\tmargin-left: -300px;\n}\n\n.quick-input-titlebar {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.quick-input-left-action-bar {\n\tdisplay: flex;\n\tmargin-left: 4px;\n\tflex: 1;\n}\n\n.quick-input-title {\n\tpadding: 3px 0px;\n\ttext-align: center;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.quick-input-right-action-bar {\n\tdisplay: flex;\n\tmargin-right: 4px;\n\tflex: 1;\n}\n\n.quick-input-right-action-bar > .actions-container {\n\tjustify-content: flex-end;\n}\n\n.quick-input-titlebar .monaco-action-bar .action-label.codicon {\n\tbackground-position: center;\n\tbackground-repeat: no-repeat;\n\tpadding: 2px;\n}\n\n.quick-input-description {\n\tmargin: 6px;\n}\n\n.quick-input-header .quick-input-description {\n\tmargin: 4px 2px;\n}\n\n.quick-input-header {\n\tdisplay: flex;\n\tpadding: 6px 6px 0px 6px;\n\tmargin-bottom: -2px;\n}\n\n.quick-input-widget.hidden-input .quick-input-header {\n\t/* reduce margins and paddings when input box hidden */\n\tpadding: 0;\n\tmargin-bottom: 0;\n}\n\n.quick-input-and-message {\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex-grow: 1;\n\tmin-width: 0;\n\tposition: relative;\n}\n\n.quick-input-check-all {\n\talign-self: center;\n\tmargin: 0;\n}\n\n.quick-input-filter {\n\tflex-grow: 1;\n\tdisplay: flex;\n\tposition: relative;\n}\n\n.quick-input-box {\n\tflex-grow: 1;\n}\n\n.quick-input-widget.show-checkboxes .quick-input-box,\n.quick-input-widget.show-checkboxes .quick-input-message {\n\tmargin-left: 5px;\n}\n\n.quick-input-visible-count {\n\tposition: absolute;\n\tleft: -10000px;\n}\n\n.quick-input-count {\n\talign-self: center;\n\tposition: absolute;\n\tright: 4px;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.quick-input-count .monaco-count-badge {\n\tvertical-align: middle;\n\tpadding: 2px 4px;\n\tborder-radius: 2px;\n\tmin-height: auto;\n\tline-height: normal;\n}\n\n.quick-input-action {\n\tmargin-left: 6px;\n}\n\n.quick-input-action .monaco-text-button {\n\tfont-size: 11px;\n\tpadding: 0 6px;\n\tdisplay: flex;\n\theight: 27.5px;\n\talign-items: center;\n}\n\n.quick-input-message {\n\tmargin-top: -1px;\n\tpadding: 5px;\n\toverflow-wrap: break-word;\n}\n\n.quick-input-message > .codicon {\n\tmargin: 0 0.2em;\n\tvertical-align: text-bottom;\n}\n\n.quick-input-progress.monaco-progress-container {\n\tposition: relative;\n}\n\n.quick-input-progress.monaco-progress-container,\n.quick-input-progress.monaco-progress-container .progress-bit {\n\theight: 2px;\n}\n\n.quick-input-list {\n\tline-height: 22px;\n\tmargin-top: 6px;\n}\n\n.quick-input-widget.hidden-input .quick-input-list {\n\tmargin-top: 0; /* reduce margins when input box hidden */\n}\n\n.quick-input-list .monaco-list {\n\toverflow: hidden;\n\tmax-height: calc(20 * 22px);\n}\n\n.quick-input-list .quick-input-list-entry {\n\tbox-sizing: border-box;\n\toverflow: hidden;\n\tdisplay: flex;\n\theight: 100%;\n\tpadding: 0 6px;\n}\n\n.quick-input-list .quick-input-list-entry.quick-input-list-separator-border {\n\tborder-top-width: 1px;\n\tborder-top-style: solid;\n}\n\n.quick-input-list .monaco-list-row[data-index=\"0\"] .quick-input-list-entry.quick-input-list-separator-border {\n\tborder-top-style: none;\n}\n\n.quick-input-list .quick-input-list-label {\n\toverflow: hidden;\n\tdisplay: flex;\n\theight: 100%;\n\tflex: 1;\n}\n\n.quick-input-list .quick-input-list-checkbox {\n\talign-self: center;\n\tmargin: 0;\n}\n\n.quick-input-list .quick-input-list-rows {\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tdisplay: flex;\n\tflex-direction: column;\n\theight: 100%;\n\tflex: 1;\n\tmargin-left: 5px;\n}\n\n.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-rows {\n\tmargin-left: 10px;\n}\n\n.quick-input-widget .quick-input-list .quick-input-list-checkbox {\n\tdisplay: none;\n}\n\n.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-checkbox {\n\tdisplay: inline;\n}\n\n.quick-input-list .quick-input-list-rows > .quick-input-list-row {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.quick-input-list .quick-input-list-rows > .quick-input-list-row .monaco-icon-label,\n.quick-input-list .quick-input-list-rows > .quick-input-list-row .monaco-icon-label .monaco-icon-label-container > .monaco-icon-name-container {\n\tflex: 1; /* make sure the icon label grows within the row */\n}\n\n.quick-input-list .quick-input-list-rows > .quick-input-list-row .codicon[class*='codicon-'] {\n\tvertical-align: text-bottom;\n}\n\n.quick-input-list .quick-input-list-rows .monaco-highlighted-label span {\n\topacity: 1;\n}\n\n.quick-input-list .quick-input-list-entry .quick-input-list-entry-keybinding {\n\tmargin-right: 8px; /* separate from the separator label or scrollbar if any */\n}\n\n.quick-input-list .quick-input-list-label-meta {\n\topacity: 0.7;\n\tline-height: normal;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.quick-input-list .monaco-highlighted-label .highlight {\n\tfont-weight: bold;\n}\n\n.quick-input-list .quick-input-list-entry .quick-input-list-separator {\n\tmargin-right: 8px; /* separate from keybindings or actions */\n}\n\n.quick-input-list .quick-input-list-entry-action-bar {\n\tdisplay: flex;\n\tflex: 0;\n\toverflow: visible;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar .action-label {\n\t/*\n\t * By default, actions in the quick input action bar are hidden\n\t * until hovered over them or selected.\n\t */\n\tdisplay: none;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar .action-label.codicon {\n\tmargin-right: 4px;\n\tpadding: 0px 2px 2px 2px;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar {\n\tmargin-top: 1px;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar {\n\tmargin-right: 4px; /* separate from scrollbar */\n}\n\n.quick-input-list .quick-input-list-entry .quick-input-list-entry-action-bar .action-label.always-visible,\n.quick-input-list .quick-input-list-entry:hover .quick-input-list-entry-action-bar .action-label,\n.quick-input-list .monaco-list-row.focused .quick-input-list-entry-action-bar .action-label {\n\tdisplay: flex;\n}\n\n/* focused items in quick pick */\n\n.quick-input-list .monaco-list-row.focused .monaco-keybinding-key,\n.quick-input-list .monaco-list-row.focused .quick-input-list-entry .quick-input-list-separator {\n\tcolor: inherit\n}\n\n.quick-input-list .monaco-list-row.focused .monaco-keybinding-key {\n\tbackground: none;\n}\n"},61261:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .inputarea {\n\tmin-width: 0;\n\tmin-height: 0;\n\tmargin: 0;\n\tpadding: 0;\n\tposition: absolute;\n\toutline: none !important;\n\tresize: none;\n\tborder: none;\n\toverflow: hidden;\n\tcolor: transparent;\n\tbackground-color: transparent;\n}\n\n/*.monaco-editor .inputarea {\n\tposition: fixed !important;\n\twidth: 800px !important;\n\theight: 500px !important;\n\ttop: initial !important;\n\tleft: initial !important;\n\tbottom: 0 !important;\n\tright: 0 !important;\n\tcolor: black !important;\n\tbackground: white !important;\n\tline-height: 15px !important;\n\tfont-size: 14px !important;\n}*/\n\n.monaco-editor .inputarea.ime-input {\n\tz-index: 10;\n}\n"},18491:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .view-overlays .current-line {\n\tdisplay: block;\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .margin-view-overlays .current-line {\n\tdisplay: block;\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .margin-view-overlays .current-line.current-line-margin.current-line-margin-both {\n\tborder-right: 0;\n}\n"},91233:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/*\n\tKeeping name short for faster parsing.\n\tcdr = core decorations rendering (div)\n*/\n\n.monaco-editor .lines-content .cdr {\n\tposition: absolute;\n}"},61050:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .glyph-margin {\n\tposition: absolute;\n\ttop: 0;\n}\n\n/*\n\tKeeping name short for faster parsing.\n\tcgmr = core glyph margin rendering (div)\n*/\n\n.monaco-editor .margin-view-overlays .cgmr {\n\tposition: absolute;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n"},19269:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .lines-content .core-guide {\n\tposition: absolute;\n\tbox-sizing: border-box;\n}\n"},34362:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .margin-view-overlays .line-numbers {\n\tfont-variant-numeric: tabular-nums;\n\tposition: absolute;\n\ttext-align: right;\n\tdisplay: inline-block;\n\tvertical-align: middle;\n\tbox-sizing: border-box;\n\tcursor: default;\n\theight: 100%;\n}\n\n.monaco-editor .relative-current-line-number {\n\ttext-align: left;\n\tdisplay: inline-block;\n\twidth: 100%;\n}\n\n.monaco-editor .margin-view-overlays .line-numbers.lh-odd {\n\tmargin-top: 1px;\n}\n"},97227:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Uncomment to see lines flashing when they're painted */\n\n/*.monaco-editor .view-lines > .view-line {\n\tbackground-color: none;\n\tanimation-name: flash-background;\n\tanimation-duration: 800ms;\n}\n@keyframes flash-background {\n\t0%   { background-color: lightgreen; }\n\t100% { background-color: none }\n}*/\n\n.mtkcontrol {\n\tcolor: rgb(255, 255, 255) !important;\n\tbackground: rgb(150, 0, 0) !important;\n}\n\n.monaco-editor.no-user-select .lines-content,\n.monaco-editor.no-user-select .view-line,\n.monaco-editor.no-user-select .view-lines {\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n.monaco-editor .view-lines {\n\twhite-space: nowrap;\n}\n\n.monaco-editor .view-line {\n\tposition: absolute;\n\twidth: 100%;\n}\n\n.monaco-editor .mtkz {\n\tdisplay: inline-block;\n}\n\n/* TODO@tokenization bootstrap fix */\n\n/*.monaco-editor .view-line > span > span {\n\tfloat: none;\n\tmin-height: inherit;\n\tmargin-left: inherit;\n}*/\n"},38586:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .lines-decorations {\n\tposition: absolute;\n\ttop: 0;\n\tbackground: white;\n}\n/*\n\tKeeping name short for faster parsing.\n\tcldr = core lines decorations rendering (div)\n*/\n.monaco-editor .margin-view-overlays .cldr {\n\tposition: absolute;\n\theight: 100%;\n}"},6728:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/*\n\tKeeping name short for faster parsing.\n\tcmdr = core margin decorations rendering (div)\n*/\n\n.monaco-editor .margin-view-overlays .cmdr {\n\tposition: absolute;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n}"},39319:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* START cover the case that slider is visible on mouseover */\n\n.monaco-editor .minimap.slider-mouseover .minimap-slider {\n\topacity: 0;\n\ttransition: opacity 100ms linear;\n}\n\n.monaco-editor .minimap.slider-mouseover:hover .minimap-slider {\n\topacity: 1;\n}\n\n.monaco-editor .minimap.slider-mouseover .minimap-slider.active {\n\topacity: 1;\n}\n\n/* END cover the case that slider is visible on mouseover */\n\n.monaco-editor .minimap-shadow-hidden {\n\tposition: absolute;\n\twidth: 0;\n}\n\n.monaco-editor .minimap-shadow-visible {\n\tposition: absolute;\n\tleft: -6px;\n\twidth: 6px;\n}\n\n.monaco-editor.no-minimap-shadow .minimap-shadow-visible {\n\tposition: absolute;\n\tleft: -1px;\n\twidth: 1px;\n}\n"},3180:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .overlayWidgets {\n\tposition: absolute;\n\ttop: 0;\n\tleft:0;\n}"},42835:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .view-ruler {\n\tposition: absolute;\n\ttop: 0;\n}"},78432:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .scroll-decoration {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\theight: 6px;\n}"},48761:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/*\n\tKeeping name short for faster parsing.\n\tcslr = core selections layer rendering (div)\n*/\n\n.monaco-editor .lines-content .cslr {\n\tposition: absolute;\n}\n\n.monaco-editor\t\t\t.top-left-radius\t\t{ border-top-left-radius: 3px; }\n\n.monaco-editor\t\t\t.bottom-left-radius\t\t{ border-bottom-left-radius: 3px; }\n\n.monaco-editor\t\t\t.top-right-radius\t\t{ border-top-right-radius: 3px; }\n\n.monaco-editor\t\t\t.bottom-right-radius\t{ border-bottom-right-radius: 3px; }\n\n.monaco-editor.hc-black .top-left-radius\t\t{ border-top-left-radius: 0; }\n\n.monaco-editor.hc-black .bottom-left-radius\t\t{ border-bottom-left-radius: 0; }\n\n.monaco-editor.hc-black .top-right-radius\t\t{ border-top-right-radius: 0; }\n\n.monaco-editor.hc-black .bottom-right-radius\t{ border-bottom-right-radius: 0; }\n"},9442:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .cursors-layer {\n\tposition: absolute;\n\ttop: 0;\n}\n.monaco-editor .cursors-layer > .cursor {\n\tposition: absolute;\n\toverflow: hidden;\n}\n/* -- smooth-caret-animation -- */\n.monaco-editor .cursors-layer.cursor-smooth-caret-animation > .cursor {\n\ttransition: all 80ms;\n}\n/* -- block-outline-style -- */\n.monaco-editor .cursors-layer.cursor-block-outline-style > .cursor {\n\tbox-sizing: border-box;\n\tbackground: transparent !important;\n\tborder-style: solid;\n\tborder-width: 1px;\n}\n/* -- underline-style -- */\n.monaco-editor .cursors-layer.cursor-underline-style > .cursor {\n\tborder-bottom-width: 2px;\n\tborder-bottom-style: solid;\n\tbackground: transparent !important;\n\tbox-sizing: border-box;\n}\n/* -- underline-thin-style -- */\n.monaco-editor .cursors-layer.cursor-underline-thin-style > .cursor {\n\tborder-bottom-width: 1px;\n\tborder-bottom-style: solid;\n\tbackground: transparent !important;\n\tbox-sizing: border-box;\n}\n@keyframes monaco-cursor-smooth {\n\t0%,\n\t20% {\n\t\topacity: 1;\n\t}\n\t60%,\n\t100% {\n\t\topacity: 0;\n\t}\n}\n@keyframes monaco-cursor-phase {\n\t0%,\n\t20% {\n\t\topacity: 1;\n\t}\n\t90%,\n\t100% {\n\t\topacity: 0;\n\t}\n}\n@keyframes monaco-cursor-expand {\n\t0%,\n\t20% {\n\t\ttransform: scaleY(1);\n\t}\n\t80%,\n\t100% {\n\t\ttransform: scaleY(0);\n\t}\n}\n.cursor-smooth {\n\tanimation: monaco-cursor-smooth 0.5s ease-in-out 0s 20 alternate;\n}\n.cursor-phase {\n\tanimation: monaco-cursor-phase 0.5s ease-in-out 0s 20 alternate;\n}\n.cursor-expand > .cursor {\n\tanimation: monaco-cursor-expand 0.5s ease-in-out 0s 20 alternate;\n}\n"},13401:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n/* ---------- DiffEditor ---------- */\n.monaco-diff-editor .diffOverview {\n\tz-index: 9;\n}\n.monaco-diff-editor .diffOverview .diffViewport {\n\tz-index: 10;\n}\n/* colors not externalized: using transparancy on background */\n.monaco-diff-editor.vs\t\t\t.diffOverview { background: rgba(0, 0, 0, 0.03); }\n.monaco-diff-editor.vs-dark\t\t.diffOverview { background: rgba(255, 255, 255, 0.01); }\n.monaco-scrollable-element.modified-in-monaco-diff-editor.vs\t\t.scrollbar { background: rgba(0,0,0,0); }\n.monaco-scrollable-element.modified-in-monaco-diff-editor.vs-dark\t.scrollbar { background: rgba(0,0,0,0); }\n.monaco-scrollable-element.modified-in-monaco-diff-editor.hc-black\t.scrollbar { background: none; }\n.monaco-scrollable-element.modified-in-monaco-diff-editor .slider {\n\tz-index: 10;\n}\n.modified-in-monaco-diff-editor\t\t\t\t.slider.active { background: rgba(171, 171, 171, .4); }\n.modified-in-monaco-diff-editor.hc-black\t.slider.active { background: none; }\n/* ---------- Diff ---------- */\n.monaco-editor .insert-sign,\n.monaco-diff-editor .insert-sign,\n.monaco-editor .delete-sign,\n.monaco-diff-editor .delete-sign {\n\tfont-size: 11px !important;\n\topacity: 0.7 !important;\n\tdisplay: flex !important;\n\talign-items: center;\n}\n.monaco-editor.hc-black .insert-sign,\n.monaco-diff-editor.hc-black .insert-sign,\n.monaco-editor.hc-black .delete-sign,\n.monaco-diff-editor.hc-black .delete-sign {\n\topacity: 1;\n}\n.monaco-editor .inline-deleted-margin-view-zone {\n\ttext-align: right;\n}\n.monaco-editor .inline-added-margin-view-zone {\n\ttext-align: right;\n}\n/* ---------- Inline Diff ---------- */\n.monaco-editor .view-zones .view-lines .view-line span {\n\tdisplay: inline-block;\n}\n.monaco-editor .margin-view-zones .lightbulb-glyph:hover {\n\tcursor: pointer;\n}\n"},58964:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-diff-editor .diff-review-line-number {\n\ttext-align: right;\n\tdisplay: inline-block;\n}\n\n.monaco-diff-editor .diff-review {\n\tposition: absolute;\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n.monaco-diff-editor .diff-review-summary {\n\tpadding-left: 10px;\n}\n\n.monaco-diff-editor .diff-review-shadow {\n\tposition: absolute;\n}\n\n.monaco-diff-editor .diff-review-row {\n\twhite-space: pre;\n}\n\n.monaco-diff-editor .diff-review-table {\n\tdisplay: table;\n\tmin-width: 100%;\n}\n\n.monaco-diff-editor .diff-review-row {\n\tdisplay: table-row;\n\twidth: 100%;\n}\n\n.monaco-diff-editor .diff-review-spacer {\n\tdisplay: inline-block;\n\twidth: 10px;\n\tvertical-align: middle;\n}\n\n.monaco-diff-editor .diff-review-spacer > .codicon {\n\tfont-size: 9px !important;\n}\n\n.monaco-diff-editor .diff-review-actions {\n\tdisplay: inline-block;\n\tposition: absolute;\n\tright: 10px;\n\ttop: 2px;\n}\n\n.monaco-diff-editor .diff-review-actions .action-label {\n\twidth: 16px;\n\theight: 16px;\n\tmargin: 2px 0;\n}\n"},94965:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* -------------------- IE10 remove auto clear button -------------------- */\n\n::-ms-clear {\n\tdisplay: none;\n}\n\n/* All widgets */\n\n/* I am not a big fan of this rule */\n\n.monaco-editor .editor-widget input {\n\tcolor: inherit;\n}\n\n/* -------------------- Editor -------------------- */\n\n.monaco-editor {\n\tposition: relative;\n\toverflow: visible;\n\t-webkit-text-size-adjust: 100%;\n}\n\n/* -------------------- Misc -------------------- */\n\n.monaco-editor .overflow-guard {\n\tposition: relative;\n\toverflow: hidden;\n}\n\n.monaco-editor .view-overlays {\n\tposition: absolute;\n\ttop: 0;\n}\n\n/*\n.monaco-editor .auto-closed-character {\n\topacity: 0.3;\n}\n*/\n"},75777:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .selection-anchor {\n\tbackground-color: #007ACC;\n\twidth: 2px !important;\n}\n"},11009:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .bracket-match {\n\tbox-sizing: border-box;\n}\n"},62803:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .contentWidgets .codicon-light-bulb,\n.monaco-editor .contentWidgets .codicon-lightbulb-autofix {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.monaco-editor .contentWidgets .codicon-light-bulb:hover,\n.monaco-editor .contentWidgets .codicon-lightbulb-autofix:hover {\n\tcursor: pointer;\n}\n"},50269:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .codelens-decoration {\n\toverflow: hidden;\n\tdisplay: inline-block;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\tcolor: var(--vscode-editorCodeLens-foreground)\n}\n\n.monaco-editor .codelens-decoration > span,\n.monaco-editor .codelens-decoration > a {\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\twhite-space: nowrap;\n\tvertical-align: sub;\n}\n\n.monaco-editor .codelens-decoration > a {\n\ttext-decoration: none;\n}\n\n.monaco-editor .codelens-decoration > a:hover {\n\tcursor: pointer;\n\tcolor: var(--vscode-editorLink-activeForeground) !important;\n}\n\n.monaco-editor .codelens-decoration > a:hover .codicon {\n\tcolor: var(--vscode-editorLink-activeForeground) !important;\n}\n\n.monaco-editor .codelens-decoration .codicon {\n\tvertical-align: middle;\n\tcolor: currentColor !important;\n\tcolor: var(--vscode-editorCodeLens-foreground);\n}\n\n.monaco-editor .codelens-decoration > a:hover .codicon::before {\n\tcursor: pointer;\n}\n\n@keyframes fadein {\n\t0% { opacity: 0; visibility: visible;}\n\t100% { opacity: 1; }\n}\n\n.monaco-editor .codelens-decoration.fadein {\n\tanimation: fadein 0.1s linear;\n}\n"},77725:Be=>{Be.exports='/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.colorpicker-widget {\n\theight: 190px;\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n/* Decoration */\n\n.colorpicker-color-decoration {\n\tborder: solid 0.1em #000;\n\tbox-sizing: border-box;\n\tmargin: 0.1em 0.2em 0 0.2em;\n\twidth: 0.8em;\n\theight: 0.8em;\n\tline-height: 0.8em;\n\tdisplay: inline-block;\n\tcursor: pointer;\n}\n\n.hc-black .colorpicker-color-decoration,\n.vs-dark .colorpicker-color-decoration {\n\tborder: solid 0.1em #eee;\n}\n\n/* Header */\n\n.colorpicker-header {\n\tdisplay: flex;\n\theight: 24px;\n\tposition: relative;\n\tbackground: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII=");\n\tbackground-size: 9px 9px;\n\timage-rendering: pixelated;\n}\n\n.colorpicker-header .picked-color {\n\twidth: 216px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tline-height: 24px;\n\tcursor: pointer;\n\tcolor: white;\n\tflex: 1;\n}\n\n.colorpicker-header .picked-color .codicon {\n\tcolor: inherit;\n\tfont-size: 14px;\n\tposition: absolute;\n\tleft: 8px;\n}\n\n.colorpicker-header .picked-color.light {\n\tcolor: black;\n}\n\n.colorpicker-header .original-color {\n\twidth: 74px;\n\tz-index: inherit;\n\tcursor: pointer;\n}\n\n/* Body */\n\n.colorpicker-body {\n\tdisplay: flex;\n\tpadding: 8px;\n\tposition: relative;\n}\n\n.colorpicker-body .saturation-wrap {\n\toverflow: hidden;\n\theight: 150px;\n\tposition: relative;\n\tmin-width: 220px;\n\tflex: 1;\n}\n\n.colorpicker-body .saturation-box {\n\theight: 150px;\n\tposition: absolute;\n}\n\n.colorpicker-body .saturation-selection {\n\twidth: 9px;\n\theight: 9px;\n\tmargin: -5px 0 0 -5px;\n\tborder: 1px solid rgb(255, 255, 255);\n\tborder-radius: 100%;\n\tbox-shadow: 0px 0px 2px rgba(0, 0, 0, 0.8);\n\tposition: absolute;\n}\n\n.colorpicker-body .strip {\n\twidth: 25px;\n\theight: 150px;\n}\n\n.colorpicker-body .hue-strip {\n\tposition: relative;\n\tmargin-left: 8px;\n\tcursor: grab;\n\tbackground: linear-gradient(to bottom, #ff0000 0%, #ffff00 17%, #00ff00 33%, #00ffff 50%, #0000ff 67%, #ff00ff 83%, #ff0000 100%);\n}\n\n.colorpicker-body .opacity-strip {\n\tposition: relative;\n\tmargin-left: 8px;\n\tcursor: grab;\n\tbackground: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII=");\n\tbackground-size: 9px 9px;\n\timage-rendering: pixelated;\n}\n\n.colorpicker-body .strip.grabbing {\n\tcursor: grabbing;\n}\n\n.colorpicker-body .slider {\n\tposition: absolute;\n\ttop: 0;\n\tleft: -2px;\n\twidth: calc(100% + 4px);\n\theight: 4px;\n\tbox-sizing: border-box;\n\tborder: 1px solid rgba(255, 255, 255, 0.71);\n\tbox-shadow: 0px 0px 1px rgba(0, 0, 0, 0.85);\n}\n\n.colorpicker-body .strip .overlay {\n\theight: 150px;\n\tpointer-events: none;\n}\n'},63593:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor.vs .dnd-target {\n\tborder-right: 2px dotted black;\n\tcolor: white; /* opposite of black */\n}\n\n.monaco-editor.vs-dark .dnd-target {\n\tborder-right: 2px dotted #AEAFAD;\n\tcolor: #51504f; /* opposite of #AEAFAD */\n}\n\n.monaco-editor.hc-black .dnd-target {\n\tborder-right: 2px dotted #fff;\n\tcolor: #000; /* opposite of #fff */\n}\n\n.monaco-editor.mouse-default .view-lines,\n.monaco-editor.vs-dark.mac.mouse-default .view-lines,\n.monaco-editor.hc-black.mac.mouse-default .view-lines {\n\tcursor: default;\n}\n\n.monaco-editor.mouse-copy .view-lines,\n.monaco-editor.vs-dark.mac.mouse-copy .view-lines,\n.monaco-editor.hc-black.mac.mouse-copy .view-lines {\n\tcursor: copy;\n}"},47009:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Find widget */\n\n.monaco-editor .find-widget {\n\tposition: absolute;\n\tz-index: 35;\n\theight: 33px;\n\toverflow: hidden;\n\tline-height: 19px;\n\ttransition: transform 200ms linear;\n\tpadding: 0 4px;\n\tbox-sizing: border-box;\n\ttransform: translateY(calc(-100% - 10px)); /* shadow (10px) */\n}\n\n.monaco-editor .find-widget textarea {\n\tmargin: 0px;\n}\n\n.monaco-editor .find-widget.hiddenEditor {\n\tdisplay: none;\n}\n\n/* Find widget when replace is toggled on */\n\n.monaco-editor .find-widget.replaceToggled > .replace-part {\n\tdisplay: flex;\n}\n\n.monaco-editor .find-widget.visible  {\n\ttransform: translateY(0);\n}\n\n.monaco-editor .find-widget .monaco-inputbox.synthetic-focus {\n\toutline: 1px solid -webkit-focus-ring-color;\n\toutline-offset: -1px;\n}\n\n.monaco-editor .find-widget .monaco-inputbox .input {\n\tbackground-color: transparent;\n\tmin-height: 0;\n}\n\n.monaco-editor .find-widget .monaco-findInput .input {\n\tfont-size: 13px;\n}\n\n.monaco-editor .find-widget > .find-part,\n.monaco-editor .find-widget > .replace-part {\n\tmargin: 4px 0 0 17px;\n\tfont-size: 12px;\n\tdisplay: flex;\n}\n\n.monaco-editor .find-widget > .find-part .monaco-inputbox,\n.monaco-editor .find-widget > .replace-part .monaco-inputbox {\n\tmin-height: 25px;\n}\n\n.monaco-editor .find-widget > .replace-part .monaco-inputbox > .ibwrapper > .mirror {\n\tpadding-right: 22px;\n}\n\n.monaco-editor .find-widget > .find-part .monaco-inputbox > .ibwrapper > .input,\n.monaco-editor .find-widget > .find-part .monaco-inputbox > .ibwrapper > .mirror,\n.monaco-editor .find-widget > .replace-part .monaco-inputbox > .ibwrapper > .input,\n.monaco-editor .find-widget > .replace-part .monaco-inputbox > .ibwrapper > .mirror {\n\tpadding-top: 2px;\n\tpadding-bottom: 2px;\n}\n\n.monaco-editor .find-widget > .find-part .find-actions {\n\theight: 25px;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-editor .find-widget > .replace-part .replace-actions {\n\theight: 25px;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-editor .find-widget .monaco-findInput {\n\tvertical-align: middle;\n\tdisplay: flex;\n\tflex:1;\n}\n\n.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element {\n\t/* Make sure textarea inherits the width correctly */\n\twidth: 100%;\n}\n\n.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element .scrollbar.vertical {\n\t/* Hide vertical scrollbar */\n\topacity: 0;\n}\n\n.monaco-editor .find-widget .matchesCount {\n\tdisplay: flex;\n\tflex: initial;\n\tmargin: 0 0 0 3px;\n\tpadding: 2px 0 0 2px;\n\theight: 25px;\n\tvertical-align: middle;\n\tbox-sizing: border-box;\n\ttext-align: center;\n\tline-height: 23px;\n}\n\n.monaco-editor .find-widget .button {\n\twidth: 16px;\n\theight: 16px;\n\tpadding: 3px;\n\tborder-radius: 5px;\n\tdisplay: flex;\n\tflex: initial;\n\tmargin-left: 3px;\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n\tcursor: pointer;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* find in selection button */\n\n.monaco-editor .find-widget .codicon-find-selection {\n\twidth: 22px;\n\theight: 22px;\n\tpadding: 3px;\n\tborder-radius: 5px;\n}\n\n.monaco-editor .find-widget .button.left {\n\tmargin-left: 0;\n\tmargin-right: 3px;\n}\n\n.monaco-editor .find-widget .button.wide {\n\twidth: auto;\n\tpadding: 1px 6px;\n\ttop: -1px;\n}\n\n.monaco-editor .find-widget .button.toggle {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 3px;\n\twidth: 18px;\n\theight: 100%;\n\tborder-radius: 0;\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .find-widget .button.toggle.disabled {\n\tdisplay: none;\n}\n\n.monaco-editor .find-widget .disabled {\n\topacity: 0.3;\n\tcursor: default;\n}\n\n.monaco-editor .find-widget > .replace-part {\n\tdisplay: none;\n}\n\n.monaco-editor .find-widget > .replace-part > .monaco-findInput {\n\tposition: relative;\n\tdisplay: flex;\n\tvertical-align: middle;\n\tflex: auto;\n\tflex-grow: 0;\n\tflex-shrink: 0;\n}\n\n.monaco-editor .find-widget > .replace-part > .monaco-findInput > .controls {\n\tposition: absolute;\n\ttop: 3px;\n\tright: 2px;\n}\n\n/* REDUCED */\n\n.monaco-editor .find-widget.reduced-find-widget .matchesCount {\n\tdisplay:none;\n}\n\n/* NARROW (SMALLER THAN REDUCED) */\n\n.monaco-editor .find-widget.narrow-find-widget {\n\tmax-width: 257px !important;\n}\n\n/* COLLAPSED (SMALLER THAN NARROW) */\n\n.monaco-editor .find-widget.collapsed-find-widget {\n\tmax-width: 170px !important;\n}\n\n.monaco-editor .find-widget.collapsed-find-widget .button.previous,\n.monaco-editor .find-widget.collapsed-find-widget .button.next,\n.monaco-editor .find-widget.collapsed-find-widget .button.replace,\n.monaco-editor .find-widget.collapsed-find-widget .button.replace-all,\n.monaco-editor .find-widget.collapsed-find-widget > .find-part .monaco-findInput .controls {\n\tdisplay:none;\n}\n\n.monaco-editor .findMatch {\n\tanimation-duration: 0;\n\tanimation-name: inherit !important;\n}\n\n.monaco-editor .find-widget .monaco-sash {\n\tleft: 0 !important;\n}\n\n.monaco-editor.hc-black .find-widget .button:before {\n\tposition: relative;\n\ttop: 1px;\n\tleft: 2px;\n}\n"},45618:Be=>{Be.exports='/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .margin-view-overlays .codicon-folding-expanded,\n.monaco-editor .margin-view-overlays .codicon-folding-collapsed {\n\tcursor: pointer;\n\topacity: 0;\n\ttransition: opacity 0.5s;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tfont-size: 140%;\n\tmargin-left: 2px;\n}\n\n.monaco-editor .margin-view-overlays:hover .codicon,\n.monaco-editor .margin-view-overlays .codicon.codicon-folding-collapsed,\n.monaco-editor .margin-view-overlays .codicon.alwaysShowFoldIcons {\n\topacity: 1;\n}\n\n.monaco-editor .inline-folded:after {\n\tcolor: grey;\n\tmargin: 0.1em 0.2em 0 0.2em;\n\tcontent: "\u22ef";\n\tdisplay: inline;\n\tline-height: 1em;\n\tcursor: pointer;\n}\n'},76149:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* marker zone */\n\n.monaco-editor .peekview-widget .head .peekview-title .severity-icon {\n\tdisplay: inline-block;\n\tvertical-align: text-top;\n\tmargin-right: 4px;\n}\n\n.monaco-editor .marker-widget {\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n.monaco-editor .marker-widget > .stale {\n\topacity: 0.6;\n\tfont-style: italic;\n}\n\n.monaco-editor .marker-widget .title {\n\tdisplay: inline-block;\n\tpadding-right: 5px;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer {\n\tposition: absolute;\n\twhite-space: pre;\n\tuser-select: text;\n\t-webkit-user-select: text;\n\t-ms-user-select: text;\n\tpadding: 8px 12px 0 20px;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message {\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message .details {\n\tpadding-left: 6px;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message .source,\n.monaco-editor .marker-widget .descriptioncontainer .message span.code {\n\topacity: 0.6;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link {\n\topacity: 0.6;\n\tcolor: inherit;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:before {\n\tcontent: '(';\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:after {\n\tcontent: ')';\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link > span {\n\ttext-decoration: underline;\n\t/** Hack to force underline to show **/\n\tborder-bottom: 1px solid transparent;\n\ttext-underline-position: under;\n\tcolor: var(--vscode-textLink-foreground);\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link > span {\n\tcolor: var(--vscode-textLink-activeForeground);\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .filename {\n\tcursor: pointer;\n}\n"},55753:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .goto-definition-link {\n\ttext-decoration: underline;\n\tcursor: pointer;\n}"},86414:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* -- zone widget */\n\n.monaco-editor .zone-widget .zone-widget-container.reference-zone-widget {\n\tborder-top-width: 1px;\n\tborder-bottom-width: 1px;\n}\n\n.monaco-editor .reference-zone-widget .inline {\n\tdisplay: inline-block;\n\tvertical-align: top;\n}\n\n.monaco-editor .reference-zone-widget .messages {\n\theight: 100%;\n\twidth: 100%;\n\ttext-align: center;\n\tpadding: 3em 0;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree {\n\tline-height: 23px;\n\tbackground-color: var(--vscode-peekViewResult-background);\n\tcolor: var(--vscode-peekViewResult-lineForeground);\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .reference {\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .reference-file {\n\tdisplay: inline-flex;\n\twidth: 100%;\n\theight: 100%;\n\tcolor: var(--vscode-peekViewResult-fileForeground);\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .selected .reference-file {\n\tcolor: inherit !important;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) {\n\tbackground-color: var(--vscode-peekViewResult-selectionBackground);\n\tcolor: var(--vscode-peekViewResult-selectionForeground) !important;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .reference-file .count {\n\tmargin-right: 12px;\n\tmargin-left: auto;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight {\n\tbackground-color: var(--vscode-peekViewResult-matchHighlightBackground);\n}\n\n.monaco-editor .reference-zone-widget .preview .reference-decoration {\n\tbackground-color: var(--vscode-peekViewEditor-matchHighlightBackground);\n\tborder: 2px solid var(--vscode-peekViewEditor-matchHighlightBorder);\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,\n.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {\n\tbackground-color: var(--vscode-peekViewEditor-background);\n}\n\n.monaco-editor .reference-zone-widget .preview .monaco-editor .margin {\n\tbackground-color: var(--vscode-peekViewEditorGutter-background);\n}\n\n/* High Contrast Theming */\n\n.monaco-editor.hc-black .reference-zone-widget .ref-tree .reference-file {\n\tfont-weight: bold;\n}\n\n.monaco-editor.hc-black .reference-zone-widget .ref-tree .referenceMatch .highlight {\n\tborder: 1px dotted var(--vscode-contrastActiveBorder, transparent);\n\tbox-sizing: border-box;\n}\n"},4946:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .suggest-preview-additional-widget {\n\twhite-space: nowrap;\n}\n\n.monaco-editor .suggest-preview-additional-widget .content-spacer {\n\tcolor: transparent;\n\twhite-space: pre;\n}\n\n.monaco-editor .suggest-preview-additional-widget .button {\n\tdisplay: inline-block;\n\tcursor: pointer;\n\ttext-decoration: underline;\n\ttext-underline-position: under;\n}\n\n.monaco-editor .ghost-text-hidden {\n\topacity: 0;\n\tfont-size: 0;\n}\n\n.monaco-editor .ghost-text-decoration {\n\tfont-style: italic;\n}\n\n.monaco-editor .suggest-preview-text {\n\tfont-style: italic;\n}\n"},56413:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .detected-link,\n.monaco-editor .detected-link-active {\n\ttext-decoration: underline;\n\ttext-underline-position: under;\n}\n.monaco-editor .detected-link-active {\n\tcursor: pointer;\n}\n"},8546:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .monaco-editor-overlaymessage {\n\tpadding-bottom: 8px;\n\tz-index: 10000;\n}\n\n.monaco-editor .monaco-editor-overlaymessage.below {\n\tpadding-bottom: 0;\n\tpadding-top: 8px;\n\tz-index: 10000;\n}\n\n@keyframes fadeIn {\n\tfrom { opacity: 0; }\n\tto { opacity: 1; }\n}\n\n.monaco-editor .monaco-editor-overlaymessage.fadeIn {\n\tanimation: fadeIn 150ms ease-out;\n}\n\n@keyframes fadeOut {\n\tfrom { opacity: 1; }\n\tto { opacity: 0; }\n}\n\n.monaco-editor .monaco-editor-overlaymessage.fadeOut {\n\tanimation: fadeOut 100ms ease-out;\n}\n\n.monaco-editor .monaco-editor-overlaymessage .message {\n\tpadding: 1px 4px;\n\tcolor: var(--vscode-inputValidation-infoForeground);\n\tbackground-color: var(--vscode-inputValidation-infoBackground);\n\tborder: 1px solid var(--vscode-inputValidation-infoBorder);\n}\n\n.monaco-editor.hc-black .monaco-editor-overlaymessage .message {\n\tborder-width: 2px;\n}\n\n.monaco-editor .monaco-editor-overlaymessage .anchor {\n\twidth: 0 !important;\n\theight: 0 !important;\n\tborder-color: transparent;\n\tborder-style: solid;\n\tz-index: 1000;\n\tborder-width: 8px;\n\tposition: absolute;\n}\n\n.monaco-editor .monaco-editor-overlaymessage .anchor.top {\n\tborder-bottom-color: var(--vscode-inputValidation-infoBorder);\n}\n\n.monaco-editor .monaco-editor-overlaymessage .anchor.below {\n\tborder-top-color: var(--vscode-inputValidation-infoBorder);\n}\n\n.monaco-editor .monaco-editor-overlaymessage:not(.below) .anchor.top,\n.monaco-editor .monaco-editor-overlaymessage.below .anchor.below {\n\tdisplay: none;\n}\n\n.monaco-editor .monaco-editor-overlaymessage.below .anchor.top {\n\tdisplay: inherit;\n\ttop: -8px;\n}\n"},16393:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .parameter-hints-widget {\n\t/* Must be higher than the sash's z-index and terminal canvases but lower than the suggest widget */\n\tz-index: 39;\n\tdisplay: flex;\n\tflex-direction: column;\n\tline-height: 1.5em;\n}\n\n.monaco-editor .parameter-hints-widget > .phwrapper {\n\tmax-width: 440px;\n\tdisplay: flex;\n\tflex-direction: row;\n}\n\n.monaco-editor .parameter-hints-widget.multiple {\n\tmin-height: 3.3em;\n\tpadding: 0;\n}\n\n.monaco-editor .parameter-hints-widget.visible {\n\ttransition: left .05s ease-in-out;\n}\n\n.monaco-editor .parameter-hints-widget p,\n.monaco-editor .parameter-hints-widget ul {\n\tmargin: 8px 0;\n}\n\n.monaco-editor .parameter-hints-widget .monaco-scrollable-element,\n.monaco-editor .parameter-hints-widget .body {\n\tdisplay: flex;\n\tflex: 1;\n\tflex-direction: column;\n\tmin-height: 100%;\n}\n\n.monaco-editor .parameter-hints-widget .signature {\n\tpadding: 4px 5px;\n}\n\n.monaco-editor .parameter-hints-widget .docs {\n\tpadding: 0 10px 0 5px;\n\twhite-space: pre-wrap;\n}\n\n.monaco-editor .parameter-hints-widget .docs.empty {\n\tdisplay: none;\n}\n\n.monaco-editor .parameter-hints-widget .docs .markdown-docs {\n\twhite-space: initial;\n}\n\n.monaco-editor .parameter-hints-widget .docs .markdown-docs code {\n\tfont-family: var(--monaco-monospace-font);\n}\n\n.monaco-editor .parameter-hints-widget .docs  .monaco-tokenized-source,\n.monaco-editor .parameter-hints-widget .docs .code {\n\twhite-space: pre-wrap;\n}\n\n.monaco-editor .parameter-hints-widget .docs code {\n\tborder-radius: 3px;\n\tpadding: 0 0.4em;\n}\n\n.monaco-editor .parameter-hints-widget .controls {\n\tdisplay: none;\n\tflex-direction: column;\n\talign-items: center;\n\tmin-width: 22px;\n\tjustify-content: flex-end;\n}\n\n.monaco-editor .parameter-hints-widget.multiple .controls {\n\tdisplay: flex;\n\tpadding: 0 2px;\n}\n\n.monaco-editor .parameter-hints-widget.multiple .button {\n\twidth: 16px;\n\theight: 16px;\n\tbackground-repeat: no-repeat;\n\tcursor: pointer;\n}\n\n.monaco-editor .parameter-hints-widget .button.previous {\n\tbottom: 24px;\n}\n\n.monaco-editor .parameter-hints-widget .overloads {\n\ttext-align: center;\n\theight: 12px;\n\tline-height: 12px;\n\tfont-family: var(--monaco-monospace-font);\n}\n\n.monaco-editor .parameter-hints-widget .signature .parameter.active {\n\tfont-weight: bold;\n}\n\n.monaco-editor .parameter-hints-widget .documentation-parameter > .parameter {\n\tfont-weight: bold;\n\tmargin-right: 0.5em;\n}\n"},68819:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .peekview-widget .head {\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tflex-wrap: nowrap;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title {\n\tdisplay: flex;\n\talign-items: center;\n\tfont-size: 13px;\n\tmargin-left: 20px;\n\tmin-width: 0;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title.clickable {\n\tcursor: pointer;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .dirname:not(:empty) {\n\tfont-size: 0.9em;\n\tmargin-left: 0.5em;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .meta {\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .dirname {\n\twhite-space: nowrap;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .filename {\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .meta:not(:empty)::before {\n\tcontent: '-';\n\tpadding: 0 0.3em;\n}\n\n.monaco-editor .peekview-widget .head .peekview-actions {\n\tflex: 1;\n\ttext-align: right;\n\tpadding-right: 2px;\n}\n\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar {\n\tdisplay: inline-block;\n}\n\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar,\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar > .actions-container {\n\theight: 100%;\n}\n\n.monaco-editor .peekview-widget > .body {\n\tborder-top: 1px solid;\n\tposition: relative;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .codicon {\n\tmargin-right: 4px;\n}\n\n.monaco-editor .peekview-widget .monaco-list .monaco-list-row.focused .codicon {\n\tcolor: inherit !important;\n}\n"},67087:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .rename-box {\n\tz-index: 100;\n\tcolor: inherit;\n}\n\n.monaco-editor .rename-box.preview {\n\tpadding: 3px 3px 0 3px;\n}\n\n.monaco-editor .rename-box .rename-input {\n\tpadding: 3px;\n\twidth: calc(100% - 6px);\n}\n\n.monaco-editor .rename-box .rename-label {\n\tdisplay: none;\n\topacity: .8;\n}\n\n.monaco-editor .rename-box.preview .rename-label {\n\tdisplay: inherit;\n}\n"},14700:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .snippet-placeholder {\n\tmin-width: 2px;\n\toutline-style: solid;\n\toutline-width: 1px;\n\tbackground-color: var(--vscode-editor-snippetTabstopHighlightBackground, transparent);\n\toutline-color: var(--vscode-editor-snippetTabstopHighlightBorder, transparent);\n}\n\n.monaco-editor .finish-snippet-placeholder {\n\toutline-style: solid;\n\toutline-width: 1px;\n\tbackground-color: var(--vscode-editor-snippetFinalTabstopHighlightBackground, transparent);\n\toutline-color: var(--vscode-editor-snippetFinalTabstopHighlightBorder, transparent);\n}\n"},1494:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Suggest widget*/\n\n.monaco-editor .suggest-widget {\n\twidth: 430px;\n\tz-index: 40;\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.monaco-editor .suggest-widget.message {\n\tflex-direction: row;\n\talign-items: center;\n}\n\n.monaco-editor .suggest-widget,\n.monaco-editor .suggest-details {\n\tflex: 0 1 auto;\n\twidth: 100%;\n\tborder-style: solid;\n\tborder-width: 1px;\n\tborder-color: var(--vscode-editorSuggestWidget-border);\n\tbackground-color: var(--vscode-editorSuggestWidget-background);\n}\n\n.monaco-editor.hc-black .suggest-widget,\n.monaco-editor.hc-black .suggest-details {\n\tborder-width: 2px;\n}\n\n/* Styles for status bar part */\n\n.monaco-editor .suggest-widget .suggest-status-bar {\n\tbox-sizing: border-box;\n\tdisplay: none;\n\tflex-flow: row nowrap;\n\tjustify-content: space-between;\n\twidth: 100%;\n\tfont-size: 80%;\n\tpadding: 0 4px 0 4px;\n\tborder-top: 1px solid var(--vscode-editorSuggestWidget-border);\n\toverflow: hidden;\n}\n\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar {\n\tdisplay: flex;\n}\n\n.monaco-editor .suggest-widget .suggest-status-bar .left {\n\tpadding-right: 8px;\n}\n\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-label {\n\tcolor: var(--vscode-editorSuggestWidgetStatus-foreground);\n}\n\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label {\n\tmargin-right: 0;\n}\n\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label::after {\n\tcontent: ', ';\n\tmargin-right: 0.3em;\n}\n\n.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row>.contents>.main>.right>.readMore,\n.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget.with-status-bar:not(.docs-side) .monaco-list .monaco-list-row:hover>.contents>.main>.right.can-expand-details>.details-label {\n\twidth: 100%;\n}\n\n/* Styles for Message element for when widget is loading or is empty */\n\n.monaco-editor .suggest-widget>.message {\n\tpadding-left: 22px;\n}\n\n/** Styles for the list element **/\n\n.monaco-editor .suggest-widget>.tree {\n\theight: 100%;\n\twidth: 100%;\n}\n\n.monaco-editor .suggest-widget .monaco-list {\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n/** Styles for each row in the list element **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row {\n\tdisplay: flex;\n\t-mox-box-sizing: border-box;\n\tbox-sizing: border-box;\n\tpadding-right: 10px;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 2px 2px;\n\twhite-space: nowrap;\n\tcursor: pointer;\n\ttouch-action: none;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused {\n\tcolor: var(--vscode-editorSuggestWidget-selectedForeground);\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .codicon {\n\tcolor: var(--vscode-editorSuggestWidget-selectedIconForeground);\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents {\n\tflex: 1;\n\theight: 100%;\n\toverflow: hidden;\n\tpadding-left: 2px;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main {\n\tdisplay: flex;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: pre;\n\tjustify-content: space-between;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left, .monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right {\n\tdisplay: flex;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.focused)>.contents>.main .monaco-icon-label {\n\tcolor: var(--vscode-editorSuggestWidget-foreground);\n}\n\n.monaco-editor .suggest-widget:not(.frozen) .monaco-highlighted-label .highlight {\n\tfont-weight: bold;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main .monaco-highlighted-label .highlight {\n\tcolor: var(--vscode-editorSuggestWidget-highlightForeground);\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused>.contents>.main .monaco-highlighted-label .highlight {\n\tcolor: var(--vscode-editorSuggestWidget-focusHighlightForeground);\n}\n\n/** ReadMore Icon styles **/\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close,\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore::before {\n\tcolor: inherit;\n\topacity: 1;\n\tfont-size: 14px;\n\tcursor: pointer;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close {\n\tposition: absolute;\n\ttop: 6px;\n\tright: 2px;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close:hover,\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore:hover {\n\topacity: 1;\n}\n\n/** signature, qualifier, type/details opacity **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label {\n\topacity: 0.7;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.signature-label {\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\topacity: 0.6;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.qualifier-label {\n\tmargin-left: 12px;\n\topacity: 0.4;\n\tfont-size: 85%;\n\tline-height: initial;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n\talign-self: center;\n}\n\n/** Type Info and icon next to the label in the focused completion item **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label {\n\tfont-size: 85%;\n\tmargin-left: 1.1em;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label>.monaco-tokenized-source {\n\tdisplay: inline;\n}\n\n/** Details: if using CompletionItem#details, show on focus **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget:not(.shows-details) .monaco-list .monaco-list-row.focused>.contents>.main>.right>.details-label {\n\tdisplay: inline;\n}\n\n/** Details: if using CompletionItemLabel#details, always show **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.right>.details-label,\n.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row.focused:not(.string-label)>.contents>.main>.right>.details-label {\n\tdisplay: inline;\n}\n\n/** Ellipsis on hover **/\n\n.monaco-editor .suggest-widget:not(.docs-side) .monaco-list .monaco-list-row.focused:hover>.contents>.main>.right.can-expand-details>.details-label {\n\twidth: calc(100% - 26px);\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left {\n\tflex-shrink: 1;\n\tflex-grow: 1;\n\toverflow: hidden;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.monaco-icon-label {\n\tflex-shrink: 0;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.left>.monaco-icon-label {\n\tmax-width: 100%;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.left>.monaco-icon-label {\n\tflex-shrink: 1;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right {\n\toverflow: hidden;\n\tflex-shrink: 4;\n\tmax-width: 70%;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore {\n\tdisplay: inline-block;\n\tposition: absolute;\n\tright: 10px;\n\twidth: 18px;\n\theight: 18px;\n\tvisibility: hidden;\n}\n\n/** Do NOT display ReadMore when docs is side/below **/\n\n.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row>.contents>.main>.right>.readMore {\n\tdisplay: none !important;\n}\n\n/** Do NOT display ReadMore when using plain CompletionItemLabel (details/documentation might not be resolved) **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.right>.readMore {\n\tdisplay: none;\n}\n\n/** Focused item can show ReadMore, but can't when docs is side/below **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore {\n\tdisplay: inline-block;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused:hover>.contents>.main>.right>.readMore {\n\tvisibility: visible;\n}\n\n/** Styles for each row in the list **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated {\n\topacity: 0.66;\n\ttext-decoration: unset;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated>.monaco-icon-label-container>.monaco-icon-name-container {\n\ttext-decoration: line-through;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label::before {\n\theight: 100%;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon {\n\tdisplay: block;\n\theight: 16px;\n\twidth: 16px;\n\tmargin-left: 2px;\n\tbackground-repeat: no-repeat;\n\tbackground-size: 80%;\n\tbackground-position: center;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.hide {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .suggest-icon {\n\tdisplay: flex;\n\talign-items: center;\n\tmargin-right: 4px;\n}\n\n.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .icon, .monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .suggest-icon::before {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.customcolor .colorspan {\n\tmargin: 0 0 0 0.3em;\n\tborder: 0.1em solid #000;\n\twidth: 0.7em;\n\theight: 0.7em;\n\tdisplay: inline-block;\n}\n\n/** Styles for the docs of the completion item in focus **/\n\n.monaco-editor .suggest-details-container {\n\tz-index: 41;\n}\n\n.monaco-editor .suggest-details {\n\tdisplay: flex;\n\tflex-direction: column;\n\tcursor: default;\n\tcolor: var(--vscode-editorSuggestWidget-foreground);\n}\n\n.monaco-editor .suggest-details.focused {\n\tborder-color: var(--vscode-focusBorder);\n}\n\n.monaco-editor .suggest-details a {\n\tcolor: var(--vscode-textLink-foreground);\n}\n\n.monaco-editor .suggest-details a:hover {\n\tcolor: var(--vscode-textLink-activeForeground);\n}\n\n.monaco-editor .suggest-details code {\n\tbackground-color: var(--vscode-textCodeBlock-background);\n}\n\n.monaco-editor .suggest-details.no-docs {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element {\n\tflex: 1;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body {\n\tbox-sizing: border-box;\n\theight: 100%;\n\twidth: 100%;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type {\n\tflex: 2;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\topacity: 0.7;\n\twhite-space: pre;\n\tmargin: 0 24px 0 0;\n\tpadding: 4px 0 12px 5px;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type.auto-wrap {\n\twhite-space: normal;\n\tword-break: break-all;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs {\n\tmargin: 0;\n\tpadding: 4px 5px;\n\twhite-space: pre-wrap;\n}\n\n.monaco-editor .suggest-details.no-type>.monaco-scrollable-element>.body>.docs {\n\tmargin-right: 24px;\n\toverflow: hidden;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs {\n\tpadding: 0;\n\twhite-space: initial;\n\tmin-height: calc(1rem + 8px);\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div,\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>span:not(:empty) {\n\tpadding: 4px 5px;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:first-child {\n\tmargin-top: 0;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:last-child {\n\tmargin-bottom: 0;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs .monaco-tokenized-source {\n\twhite-space: pre;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs .code {\n\twhite-space: pre-wrap;\n\tword-wrap: break-word;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs .codicon {\n\tvertical-align: sub;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>p:empty {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-details code {\n\tborder-radius: 3px;\n\tpadding: 0 0.4em;\n}\n\n.monaco-editor .suggest-details ul {\n\tpadding-left: 20px;\n}\n\n.monaco-editor .suggest-details ol {\n\tpadding-left: 20px;\n}\n\n.monaco-editor .suggest-details p code {\n\tfont-family: var(--monaco-monospace-font);\n}\n"},26549:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.editor-banner {\n\tbox-sizing: border-box;\n\tcursor: default;\n\twidth: 100%;\n\tfont-size: 12px;\n\tdisplay: flex;\n\toverflow: visible;\n\n\theight: 26px;\n\n\tbackground: var(--vscode-banner-background);\n}\n\n.editor-banner .icon-container {\n\tdisplay: flex;\n\tflex-shrink: 0;\n\talign-items: center;\n\tpadding: 0 6px 0 10px;\n}\n\n.editor-banner .icon-container.custom-icon {\n\tbackground-repeat: no-repeat;\n\tbackground-position: center center;\n\tbackground-size: 16px;\n\twidth: 16px;\n\tpadding: 0;\n\tmargin: 0 6px 0 10px;\n}\n\n.editor-banner .message-container {\n\tdisplay: flex;\n\talign-items: center;\n\tline-height: 26px;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\toverflow: hidden;\n}\n\n.editor-banner .message-container p {\n\tmargin-block-start: 0;\n\tmargin-block-end: 0;\n}\n\n.editor-banner .message-actions-container {\n\tflex-grow: 1;\n\tflex-shrink: 0;\n\tline-height: 26px;\n\tmargin: 0 4px;\n}\n\n.editor-banner .message-actions-container a.monaco-button {\n\twidth: inherit;\n\tmargin: 2px 8px;\n\tpadding: 0px 12px;\n}\n\n.editor-banner .message-actions-container a {\n\tpadding: 3px;\n\tmargin-left: 12px;\n\ttext-decoration: underline;\n}\n\n.editor-banner .action-container {\n\tpadding: 0 10px 0 6px;\n}\n\n.editor-banner {\n\tbackground-color: var(--vscode-banner-background);\n}\n\n.editor-banner,\n.editor-banner .action-container .codicon,\n.editor-banner .message-actions-container .monaco-link {\n\tcolor: var(--vscode-banner-foreground);\n}\n\n.editor-banner .icon-container .codicon {\n\tcolor: var(--vscode-banner-iconForeground);\n}\n"},43456:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .unicode-highlight {\n\tborder: 1px solid var(--vscode-editorUnicodeHighlight-border);\n\tbox-sizing: border-box;\n}\n"},13911:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .zone-widget {\n\tposition: absolute;\n\tz-index: 10;\n}\n.monaco-editor .zone-widget .zone-widget-container {\n\tborder-top-style: solid;\n\tborder-bottom-style: solid;\n\tborder-top-width: 0;\n\tborder-bottom-width: 0;\n\tposition: relative;\n}\n"},81089:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .accessibilityHelpWidget {\n\tpadding: 10px;\n\tvertical-align: middle;\n\toverflow: scroll;\n}"},27354:Be=>{Be.exports='/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .iPadShowKeyboard {\n\twidth: 58px;\n\tmin-width: 0;\n\theight: 36px;\n\tmin-height: 0;\n\tmargin: 0;\n\tpadding: 0;\n\tposition: absolute;\n\tresize: none;\n\toverflow: hidden;\n\tbackground: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCA1MyAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNDguMDM2NCA0LjAxMDQySDQuMDA3NzlMNC4wMDc3OSAzMi4wMjg2SDQ4LjAzNjRWNC4wMTA0MlpNNC4wMDc3OSAwLjAwNzgxMjVDMS43OTcyMSAwLjAwNzgxMjUgMC4wMDUxODc5OSAxLjc5OTg0IDAuMDA1MTg3OTkgNC4wMTA0MlYzMi4wMjg2QzAuMDA1MTg3OTkgMzQuMjM5MiAxLjc5NzIxIDM2LjAzMTIgNC4wMDc3OSAzNi4wMzEySDQ4LjAzNjRDNTAuMjQ3IDM2LjAzMTIgNTIuMDM5IDM0LjIzOTIgNTIuMDM5IDMyLjAyODZWNC4wMTA0MkM1Mi4wMzkgMS43OTk4NCA1MC4yNDcgMC4wMDc4MTI1IDQ4LjAzNjQgMC4wMDc4MTI1SDQuMDA3NzlaTTguMDEwNDIgOC4wMTMwMkgxMi4wMTNWMTIuMDE1Nkg4LjAxMDQyVjguMDEzMDJaTTIwLjAxODIgOC4wMTMwMkgxNi4wMTU2VjEyLjAxNTZIMjAuMDE4MlY4LjAxMzAyWk0yNC4wMjA4IDguMDEzMDJIMjguMDIzNFYxMi4wMTU2SDI0LjAyMDhWOC4wMTMwMlpNMzYuMDI4NiA4LjAxMzAySDMyLjAyNlYxMi4wMTU2SDM2LjAyODZWOC4wMTMwMlpNNDAuMDMxMiA4LjAxMzAySDQ0LjAzMzlWMTIuMDE1Nkg0MC4wMzEyVjguMDEzMDJaTTE2LjAxNTYgMTYuMDE4Mkg4LjAxMDQyVjIwLjAyMDhIMTYuMDE1NlYxNi4wMTgyWk0yMC4wMTgyIDE2LjAxODJIMjQuMDIwOFYyMC4wMjA4SDIwLjAxODJWMTYuMDE4MlpNMzIuMDI2IDE2LjAxODJIMjguMDIzNFYyMC4wMjA4SDMyLjAyNlYxNi4wMTgyWk00NC4wMzM5IDE2LjAxODJWMjAuMDIwOEgzNi4wMjg2VjE2LjAxODJINDQuMDMzOVpNMTIuMDEzIDI0LjAyMzRIOC4wMTA0MlYyOC4wMjZIMTIuMDEzVjI0LjAyMzRaTTE2LjAxNTYgMjQuMDIzNEgzNi4wMjg2VjI4LjAyNkgxNi4wMTU2VjI0LjAyMzRaTTQ0LjAzMzkgMjQuMDIzNEg0MC4wMzEyVjI4LjAyNkg0NC4wMzM5VjI0LjAyMzRaIiBmaWxsPSIjNDI0MjQyIi8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDAiPgo8cmVjdCB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==") center center no-repeat;\n\tborder: 4px solid #F6F6F6;\n\tborder-radius: 4px;\n}\n\n.monaco-editor.vs-dark .iPadShowKeyboard {\n\tbackground: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCA1MyAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNDguMDM2NCA0LjAxMDQySDQuMDA3NzlMNC4wMDc3OSAzMi4wMjg2SDQ4LjAzNjRWNC4wMTA0MlpNNC4wMDc3OSAwLjAwNzgxMjVDMS43OTcyMSAwLjAwNzgxMjUgMC4wMDUxODc5OSAxLjc5OTg0IDAuMDA1MTg3OTkgNC4wMTA0MlYzMi4wMjg2QzAuMDA1MTg3OTkgMzQuMjM5MiAxLjc5NzIxIDM2LjAzMTIgNC4wMDc3OSAzNi4wMzEySDQ4LjAzNjRDNTAuMjQ3IDM2LjAzMTIgNTIuMDM5IDM0LjIzOTIgNTIuMDM5IDMyLjAyODZWNC4wMTA0MkM1Mi4wMzkgMS43OTk4NCA1MC4yNDcgMC4wMDc4MTI1IDQ4LjAzNjQgMC4wMDc4MTI1SDQuMDA3NzlaTTguMDEwNDIgOC4wMTMwMkgxMi4wMTNWMTIuMDE1Nkg4LjAxMDQyVjguMDEzMDJaTTIwLjAxODIgOC4wMTMwMkgxNi4wMTU2VjEyLjAxNTZIMjAuMDE4MlY4LjAxMzAyWk0yNC4wMjA4IDguMDEzMDJIMjguMDIzNFYxMi4wMTU2SDI0LjAyMDhWOC4wMTMwMlpNMzYuMDI4NiA4LjAxMzAySDMyLjAyNlYxMi4wMTU2SDM2LjAyODZWOC4wMTMwMlpNNDAuMDMxMiA4LjAxMzAySDQ0LjAzMzlWMTIuMDE1Nkg0MC4wMzEyVjguMDEzMDJaTTE2LjAxNTYgMTYuMDE4Mkg4LjAxMDQyVjIwLjAyMDhIMTYuMDE1NlYxNi4wMTgyWk0yMC4wMTgyIDE2LjAxODJIMjQuMDIwOFYyMC4wMjA4SDIwLjAxODJWMTYuMDE4MlpNMzIuMDI2IDE2LjAxODJIMjguMDIzNFYyMC4wMjA4SDMyLjAyNlYxNi4wMTgyWk00NC4wMzM5IDE2LjAxODJWMjAuMDIwOEgzNi4wMjg2VjE2LjAxODJINDQuMDMzOVpNMTIuMDEzIDI0LjAyMzRIOC4wMTA0MlYyOC4wMjZIMTIuMDEzVjI0LjAyMzRaTTE2LjAxNTYgMjQuMDIzNEgzNi4wMjg2VjI4LjAyNkgxNi4wMTU2VjI0LjAyMzRaTTQ0LjAzMzkgMjQuMDIzNEg0MC4wMzEyVjI4LjAyNkg0NC4wMzM5VjI0LjAyMzRaIiBmaWxsPSIjQzVDNUM1Ii8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDAiPgo8cmVjdCB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==") center center no-repeat;\n\tborder: 4px solid #252526;\n}'},73215:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .tokens-inspect-widget {\n\tz-index: 50;\n\tuser-select: text;\n\t-webkit-user-select: text;\n\t-ms-user-select: text;\n\tpadding: 10px;\n}\n\n.tokens-inspect-separator {\n\theight: 1px;\n\tborder: 0;\n}\n\n.monaco-editor .tokens-inspect-widget .tm-token {\n\tfont-family: var(--monaco-monospace-font);\n}\n\n.monaco-editor .tokens-inspect-widget .tm-token-length {\n\tfont-weight: normal;\n\tfont-size: 60%;\n\tfloat: right;\n}\n\n.monaco-editor .tokens-inspect-widget .tm-metadata-table {\n\twidth: 100%;\n}\n\n.monaco-editor .tokens-inspect-widget .tm-metadata-value {\n\tfont-family: var(--monaco-monospace-font);\n\ttext-align: right;\n}\n\n.monaco-editor .tokens-inspect-widget .tm-token-type {\n\tfont-family: var(--monaco-monospace-font);\n}\n"},33050:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.quick-input-widget {\n\tfont-size: 13px;\n}\n\n.quick-input-widget .monaco-highlighted-label .highlight,\n.quick-input-widget .monaco-highlighted-label .highlight {\n\tcolor: #0066BF;\n}\n\n.vs .quick-input-widget .monaco-list-row.focused .monaco-highlighted-label .highlight,\n.vs .quick-input-widget .monaco-list-row.focused .monaco-highlighted-label .highlight {\n\tcolor: #9DDDFF;\n}\n\n.vs-dark .quick-input-widget .monaco-highlighted-label .highlight,\n.vs-dark .quick-input-widget .monaco-highlighted-label .highlight {\n\tcolor: #0097fb;\n}\n\n.hc-black .quick-input-widget .monaco-highlighted-label .highlight,\n.hc-black .quick-input-widget .monaco-highlighted-label .highlight {\n\tcolor: #F38518;\n}\n\n.monaco-keybinding > .monaco-keybinding-key {\n\tbackground-color: rgba(221, 221, 221, 0.4);\n\tborder: solid 1px rgba(204, 204, 204, 0.4);\n\tborder-bottom-color: rgba(187, 187, 187, 0.4);\n\tbox-shadow: inset 0 -1px 0 rgba(187, 187, 187, 0.4);\n\tcolor: #555;\n}\n\n.hc-black .monaco-keybinding > .monaco-keybinding-key {\n\tbackground-color: transparent;\n\tborder: solid 1px rgb(111, 195, 223);\n\tbox-shadow: none;\n\tcolor: #fff;\n}\n\n.vs-dark .monaco-keybinding > .monaco-keybinding-key {\n\tbackground-color: rgba(128, 128, 128, 0.17);\n\tborder: solid 1px rgba(51, 51, 51, 0.6);\n\tborder-bottom-color: rgba(68, 68, 68, 0.6);\n\tbox-shadow: inset 0 -1px 0 rgba(68, 68, 68, 0.6);\n\tcolor: #ccc;\n}\n"},63317:Be=>{Be.exports='/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n\n/* Default standalone editor fonts */\n\n\n.monaco-editor {\n\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;\n\t--monaco-monospace-font: "SF Mono", Monaco, Menlo, Consolas, "Ubuntu Mono", "Liberation Mono", "DejaVu Sans Mono", "Courier New", monospace;\n}\n\n\n.monaco-menu .monaco-action-bar.vertical .action-item .action-menu-item:focus .action-label {\n\tstroke-width: 1.2px;\n}\n\n\n.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,\n.monaco-editor.hc-black .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label {\n\tstroke-width: 1.2px;\n}\n\n\n.monaco-hover p {\n\tmargin: 0;\n}\n\n\n/* See https://github.com/microsoft/monaco-editor/issues/2168#issuecomment-780078600 */\n\n\n.monaco-aria-container {\n\tposition: absolute !important;\n\ttop: 0; /* avoid being placed underneath a sibling element */\n\theight: 1px;\n\twidth: 1px;\n\tmargin: -1px;\n\toverflow: hidden;\n\tpadding: 0;\n\tclip: rect(1px, 1px, 1px, 1px);\n\tclip-path: inset(50%);\n}\n\n\n/* The hc-black theme is already high contrast optimized */\n\n\n.monaco-editor.hc-black {\n\t-ms-high-contrast-adjust: none;\n}\n\n\n/* In case the browser goes into high contrast mode and the editor is not configured with the hc-black theme */\n\n\n@media screen and (-ms-high-contrast:active) {\n\n\t/* current line highlight */\n\t.monaco-editor.vs .view-overlays .current-line,\n\t.monaco-editor.vs-dark .view-overlays .current-line {\n\t\tborder-color: windowtext !important;\n\t\tborder-left: 0;\n\t\tborder-right: 0;\n\t}\n\n\t/* view cursors */\n\t.monaco-editor.vs .cursor,\n\t.monaco-editor.vs-dark .cursor {\n\t\tbackground-color: windowtext !important;\n\t}\n\t/* dnd target */\n\t.monaco-editor.vs .dnd-target,\n\t.monaco-editor.vs-dark .dnd-target {\n\t\tborder-color: windowtext !important;\n\t}\n\n\t/* selected text background */\n\t.monaco-editor.vs .selected-text,\n\t.monaco-editor.vs-dark .selected-text {\n\t\tbackground-color: highlight !important;\n\t}\n\n\t/* allow the text to have a transparent background. */\n\t.monaco-editor.vs .view-line,\n\t.monaco-editor.vs-dark .view-line {\n\t\t-ms-high-contrast-adjust: none;\n\t}\n\n\t/* text color */\n\t.monaco-editor.vs .view-line span,\n\t.monaco-editor.vs-dark .view-line span {\n\t\tcolor: windowtext !important;\n\t}\n\t/* selected text color */\n\t.monaco-editor.vs .view-line span.inline-selected-text,\n\t.monaco-editor.vs-dark .view-line span.inline-selected-text {\n\t\tcolor: highlighttext !important;\n\t}\n\n\t/* allow decorations */\n\t.monaco-editor.vs .view-overlays,\n\t.monaco-editor.vs-dark .view-overlays {\n\t\t-ms-high-contrast-adjust: none;\n\t}\n\n\t/* various decorations */\n\t.monaco-editor.vs .selectionHighlight,\n\t.monaco-editor.vs-dark .selectionHighlight,\n\t.monaco-editor.vs .wordHighlight,\n\t.monaco-editor.vs-dark .wordHighlight,\n\t.monaco-editor.vs .wordHighlightStrong,\n\t.monaco-editor.vs-dark .wordHighlightStrong,\n\t.monaco-editor.vs .reference-decoration,\n\t.monaco-editor.vs-dark .reference-decoration {\n\t\tborder: 2px dotted highlight !important;\n\t\tbackground: transparent !important;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .rangeHighlight,\n\t.monaco-editor.vs-dark .rangeHighlight {\n\t\tbackground: transparent !important;\n\t\tborder: 1px dotted activeborder !important;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .bracket-match,\n\t.monaco-editor.vs-dark .bracket-match {\n\t\tborder-color: windowtext !important;\n\t\tbackground: transparent !important;\n\t}\n\n\t/* find widget */\n\t.monaco-editor.vs .findMatch,\n\t.monaco-editor.vs-dark .findMatch,\n\t.monaco-editor.vs .currentFindMatch,\n\t.monaco-editor.vs-dark .currentFindMatch {\n\t\tborder: 2px dotted activeborder !important;\n\t\tbackground: transparent !important;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .find-widget,\n\t.monaco-editor.vs-dark .find-widget {\n\t\tborder: 1px solid windowtext;\n\t}\n\n\t/* list - used by suggest widget */\n\t.monaco-editor.vs .monaco-list .monaco-list-row,\n\t.monaco-editor.vs-dark .monaco-list .monaco-list-row {\n\t\t-ms-high-contrast-adjust: none;\n\t\tcolor: windowtext !important;\n\t}\n\t.monaco-editor.vs .monaco-list .monaco-list-row.focused,\n\t.monaco-editor.vs-dark .monaco-list .monaco-list-row.focused {\n\t\tcolor: highlighttext !important;\n\t\tbackground-color: highlight !important;\n\t}\n\t.monaco-editor.vs .monaco-list .monaco-list-row:hover,\n\t.monaco-editor.vs-dark .monaco-list .monaco-list-row:hover {\n\t\tbackground: transparent !important;\n\t\tborder: 1px solid highlight;\n\t\tbox-sizing: border-box;\n\t}\n\n\t/* scrollbars */\n\t.monaco-editor.vs .monaco-scrollable-element > .scrollbar,\n\t.monaco-editor.vs-dark .monaco-scrollable-element > .scrollbar {\n\t\t-ms-high-contrast-adjust: none;\n\t\tbackground: background !important;\n\t\tborder: 1px solid windowtext;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .monaco-scrollable-element > .scrollbar > .slider,\n\t.monaco-editor.vs-dark .monaco-scrollable-element > .scrollbar > .slider {\n\t\tbackground: windowtext !important;\n\t}\n\t.monaco-editor.vs .monaco-scrollable-element > .scrollbar > .slider:hover,\n\t.monaco-editor.vs-dark .monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\tbackground: highlight !important;\n\t}\n\t.monaco-editor.vs .monaco-scrollable-element > .scrollbar > .slider.active,\n\t.monaco-editor.vs-dark .monaco-scrollable-element > .scrollbar > .slider.active {\n\t\tbackground: highlight !important;\n\t}\n\n\t/* overview ruler */\n\t.monaco-editor.vs .decorationsOverviewRuler,\n\t.monaco-editor.vs-dark .decorationsOverviewRuler {\n\t\topacity: 0;\n\t}\n\n\t/* minimap */\n\t.monaco-editor.vs .minimap,\n\t.monaco-editor.vs-dark .minimap {\n\t\tdisplay: none;\n\t}\n\n\t/* squiggles */\n\t.monaco-editor.vs .squiggly-d-error,\n\t.monaco-editor.vs-dark .squiggly-d-error {\n\t\tbackground: transparent !important;\n\t\tborder-bottom: 4px double #E47777;\n\t}\n\t.monaco-editor.vs .squiggly-c-warning,\n\t.monaco-editor.vs-dark .squiggly-c-warning {\n\t\tborder-bottom: 4px double #71B771;\n\t}\n\t.monaco-editor.vs .squiggly-b-info,\n\t.monaco-editor.vs-dark .squiggly-b-info {\n\t\tborder-bottom: 4px double #71B771;\n\t}\n\t.monaco-editor.vs .squiggly-a-hint,\n\t.monaco-editor.vs-dark .squiggly-a-hint {\n\t\tborder-bottom: 4px double #6c6c6c;\n\t}\n\n\t/* contextmenu */\n\t.monaco-editor.vs .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,\n\t.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label {\n\t\t-ms-high-contrast-adjust: none;\n\t\tcolor: highlighttext !important;\n\t\tbackground-color: highlight !important;\n\t}\n\t.monaco-editor.vs .monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .action-label,\n\t.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .action-label {\n\t\t-ms-high-contrast-adjust: none;\n\t\tbackground: transparent !important;\n\t\tborder: 1px solid highlight;\n\t\tbox-sizing: border-box;\n\t}\n\n\t/* diff editor */\n\t.monaco-diff-editor.vs .diffOverviewRuler,\n\t.monaco-diff-editor.vs-dark .diffOverviewRuler {\n\t\tdisplay: none;\n\t}\n\t.monaco-editor.vs .line-insert,\n\t.monaco-editor.vs-dark .line-insert,\n\t.monaco-editor.vs .line-delete,\n\t.monaco-editor.vs-dark .line-delete {\n\t\tbackground: transparent !important;\n\t\tborder: 1px solid highlight !important;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .char-insert,\n\t.monaco-editor.vs-dark .char-insert,\n\t.monaco-editor.vs .char-delete,\n\t.monaco-editor.vs-dark .char-delete {\n\t\tbackground: transparent !important;\n\t}\n}\n\n\n/*.monaco-editor.vs [tabindex="0"]:focus {\n\toutline: 1px solid rgba(0, 122, 204, 0.4);\n\toutline-offset: -1px;\n\topacity: 1 !important;\n}\n\n.monaco-editor.vs-dark [tabindex="0"]:focus {\n\toutline: 1px solid rgba(14, 99, 156, 0.6);\n\toutline-offset: -1px;\n\topacity: 1 !important;\n}*/\n'},62922:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-action-bar .action-item.menu-entry .action-label.icon {\n\twidth: 16px;\n\theight: 16px;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 50%;\n\tbackground-size: 16px;\n}\n\n.monaco-action-bar .action-item.menu-entry .action-label {\n\tbackground-image: var(--menu-entry-icon-light);\n}\n\n.vs-dark .monaco-action-bar .action-item.menu-entry .action-label,\n.hc-black .monaco-action-bar .action-item.menu-entry .action-label {\n\tbackground-image: var(--menu-entry-icon-dark);\n}\n\n.monaco-dropdown-with-default {\n\tdisplay: flex !important;\n\tflex-direction: row;\n\tborder-radius: 5px;\n}\n\n.monaco-dropdown-with-default > .action-container > .action-label {\n\tmargin-right: 0;\n}\n\n.monaco-dropdown-with-default > .action-container.menu-entry > .action-label.icon {\n\twidth: 16px;\n\theight: 16px;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 50%;\n\tbackground-size: 16px;\n}\n\n.monaco-dropdown-with-default > .action-container.menu-entry > .action-label {\n\tbackground-image: var(--menu-entry-icon-light);\n}\n\n.vs-dark .monaco-dropdown-with-default > .action-container.menu-entry > .action-label,\n.hc-black .monaco-dropdown-with-default > .action-container.menu-entry > .action-label {\n\tbackground-image: var(--menu-entry-icon-dark);\n}\n\n.monaco-dropdown-with-default > .dropdown-action-container > .monaco-dropdown > .dropdown-label .codicon[class*='codicon-'] {\n\tfont-size: 12px;\n\tpadding-left: 0px;\n\tpadding-right: 0px;\n\tline-height: 16px;\n\tmargin-left: -3px;\n}\n\n.monaco-dropdown-with-default > .dropdown-action-container > .monaco-dropdown > .dropdown-label > .action-label {\n\tdisplay: block;\n\tbackground-size: 16px;\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n}\n"},94321:Be=>{Be.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.context-view .monaco-menu {\n\tmin-width: 130px;\n}\n\n"}}]);
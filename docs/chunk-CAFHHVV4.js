import{a as Di,b as Gi,c as Ni,d as Hi,e as qi}from"./chunk-NYWNBDUS.js";import{d as ji,e as $i,f as Ui,g as Wi}from"./chunk-YEA32JHD.js";import{a as ki,b as Mi,c as Si}from"./chunk-TQ2GYO4P.js";import{a as Bi,b as Fi,c as Li,d as Ai,e as zi}from"./chunk-4LOLAQQQ.js";import"./chunk-A3ANYOTN.js";import{a as bt,b as Ei,c as Ae}from"./chunk-KTIAHO2X.js";import{a as wt,b as vt}from"./chunk-HHP4IUCA.js";import{D as Ti,a as J,c as $,g as Ri,i as U}from"./chunk-AHHMW4YH.js";import{$ as N,$a as Wt,$g as st,$h as Pi,Aa as I,B as Ft,Bb as Jt,Bi as Fe,Cb as me,Ci as Le,D as W,Db as ei,Ei as ut,G as He,Ga as Z,Ha as qt,Hb as Ke,He as hi,Ia as f,Ib as ve,Jb as ti,Je as ui,Jh as pt,Ka as $e,Kb as ii,Kh as dt,L as pe,La as c,Lh as mt,Ma as jt,Mb as ye,Mi as oe,Na as j,Nd as pi,Ne as _i,Nh as ht,Oa as $t,Ob as ni,Od as di,Oe as xe,P as qe,Pe as fi,Pi as _t,Qa as Ut,Qe as B,Qi as ft,R as we,S as y,Se as ke,Sg as O,T,Te as tt,U as De,Ua as a,Ue as _e,Uh as L,V as Lt,Va as r,Wa as _,Wd as mi,We as P,Wg as Ie,Xa as ie,Xe as it,Xh as Pe,Ya as ne,Z as At,Ze as gi,Zf as lt,Zi as gt,_a as F,_e as nt,_h as Ii,a as le,aa as zt,ab as M,af as at,ai as Oi,aj as ce,b as se,bb as u,bf as rt,cb as Qt,da as Q,db as Xt,df as Pt,ea as H,eb as Yt,f as Rt,g as Ne,gb as Ue,ha as Dt,hb as We,hd as Ze,hh as ae,hi as Oe,i as xt,ia as x,ib as Qe,id as he,if as bi,ig as Me,ih as re,j as q,ja as k,jb as Xe,jd as Je,ji as Vi,ka as Gt,kb as d,kd as ue,kh as Ci,ki as Ve,l as Tt,lb as h,ld as ci,lh as E,li as Ee,m as Bt,ma as Mt,mb as D,md as li,mg as Se,n as be,na as Nt,ob as Kt,oi as Re,pa as St,pb as Zt,pe as et,pf as ot,pi as Te,q as te,qd as si,r as z,rb as Ye,rc as ai,s as G,sa as je,sc as Ce,sh as xi,t as kt,tc as ri,tf as wi,ub as s,uc as oi,va as Ht,vb as p,vf as vi,wc as It,xa as de,yf as ct,za as n,zf as yi,zi as Be}from"./chunk-RKMHOEIU.js";function bn(t,m){t&1&&(a(0,"div",3),_(1,"mat-spinner"),d(2),s(3,"translate"),r()),t&2&&(n(2),D(" ",p(3,1,"Cloning..."),`
`))}function wn(t,m){if(t&1&&(a(0,"mat-option",13),d(1),r()),t&2){let e=m.$implicit;c("value",+e.key),n(),h(e.value.credentialName)}}function vn(t,m){if(t&1){let e=F();a(0,"form",4),s(1,"async"),M("ngSubmit",function(){x(e);let i=u();return k(i.clone())}),a(2,"mat-form-field",5)(3,"mat-label"),d(4),s(5,"translate"),r(),a(6,"mat-icon",6),d(7,"public"),r(),_(8,"input",7),r(),a(9,"mat-form-field",8),M("click",function(i){return x(e),u().browsePathIfEmpty(),k(i.preventDefault())}),a(10,"mat-label"),d(11),s(12,"translate"),r(),a(13,"mat-icon",6),d(14,"folder"),r(),_(15,"input",9),a(16,"button",10),M("click",function(i){return x(e),u().browsePath(),k(i.stopPropagation())}),d(17),s(18,"translate"),r()(),a(19,"mat-form-field",11)(20,"mat-label"),d(21),s(22,"translate"),r(),a(23,"mat-icon",6),d(24,"key"),r(),a(25,"mat-select",12),s(26,"translate"),a(27,"mat-option",13),d(28),s(29,"translate"),r(),f(30,wn,2,2,"mat-option",14),s(31,"async"),s(32,"keyvalue"),r()(),a(33,"button",15),d(34),s(35,"translate"),r()()}if(t&2){let e=u();j("vertical",p(1,13,e.displayVertical)),c("formGroup",e.form),n(4),h(p(5,15,"URL")),n(7),h(p(12,17,"Path to clone to")),n(6),D(" ",p(18,19,"Browse")," "),n(4),h(p(22,21,"Credential")),n(4),Yt("placeholder",p(26,23,"Select credential")),n(2),c("value",null),n(),h(p(29,25,"None")),n(2),c("ngForOf",p(32,29,p(31,27,e.validCredentials))),n(3),c("disabled",e.form.invalid),n(),h(p(35,31,"Clone"))}}function yn(t,m){if(t&1&&_(0,"app-avatar",28),t&2){let e=u().$implicit;c("email",e.email)("type",e.type)}}function Cn(t,m){if(t&1&&(a(0,"span",29),d(1),r()),t&2){let e=u().$implicit;c("matTooltip",e.email),n(),h(e.email)}}function xn(t,m){if(t&1){let e=F();a(0,"li",30),M("click",function(){let i=x(e).$implicit,l=u().$implicit,b=u(2);return k(b.setFromIntegration(l,i))}),a(1,"mat-icon",31),s(2,"translate"),d(3,"lock"),r(),a(4,"span",32),d(5),r()()}if(t&2){let e=m.$implicit;n(),jt("visibility",e.private?"visible":"hidden"),c("matTooltip",p(2,5,"Private !repository!")),n(3),c("matTooltip",e.name),n(),h(e.name)}}function kn(t,m){t&1&&_(0,"mat-spinner",33),t&2&&c("diameter",24)}function Mn(t,m){if(t&1){let e=F();a(0,"mat-expansion-panel",19),M("afterCollapse",function(){x(e);let i=u(2);return k(i.updateViewportSizes())})("afterExpand",function(){x(e);let i=u(2);return k(i.updateViewportSizes())}),a(1,"mat-expansion-panel-header")(2,"mat-panel-title",20)(3,"span",21),_(4,"mat-icon",22),f(5,yn,1,2,"app-avatar",23),r(),f(6,Cn,2,2,"span",24),r()(),a(7,"cdk-virtual-scroll-viewport",25)(8,"ul"),f(9,xn,6,7,"li",26),r()(),f(10,kn,1,1,"mat-spinner",27),s(11,"async"),r()}if(t&2){let e=m.$implicit,o=u(2);n(4),c("svgIcon",e.type),n(),c("ngIf",e.email),n(),c("ngIf",e.email),n(),c("itemSize",29),n(2),c("cdkVirtualForOf",e.dataSource)("cdkVirtualForTrackBy",o.trackByRepository),n(),c("ngIf",p(11,7,e.dataSource.loading))}}function Sn(t,m){if(t&1&&(a(0,"div",16),s(1,"async"),a(2,"mat-accordion",17),f(3,Mn,12,9,"mat-expansion-panel",18),r()()),t&2){let e=u();j("vertical",p(1,4,e.displayVertical)),n(3),c("ngForOf",e.integrationsWithRepos)("ngForTrackBy",e.trackByIntegrations)}}var nn=(()=>{class t extends ae(re,Ci){get classVertical(){return this.displayVertical.value}constructor(e,o,i,l,b,g,R,S){super(),this.elementRef=e,this.router=o,this.store=i,this.bitbucketApiService=l,this.gitHubApiService=b,this.gitLabApiService=g,this.filesApi=R,this.repositoriesApi=S,this.cloning=new q(!1),this.form=new _e({url:new P(null,B.required),path:new P(null,B.required),credential:new P(null)}),this.validCredentials=kt([this.allCredentials,this.form.controls.url.valueChanges.pipe(we(null))]).pipe(G(([V,C])=>{let w=[...V.entries()];return Object.fromEntries(C?/^https?:\/\//.test(C)?w.filter(([A,v])=>v.type==="password"||v.type==="oauth-bitbucket"||v.type==="oauth-github"||v.type==="oauth-gitlab"):/^(git|file)?:\/\//.test(C)||/^\//.test(C)||!/:/.test(C)?[]:w.filter(([A,v])=>v.type==="ssh"):w)})),this.integrationsWithRepos=[],this.displayVertical=new q(!1),this.browsePath=()=>{this.filesApi.openFolderDialog().pipe(T(this.destroyed$)).subscribe(V=>{if(!V)return;let C=this.form.controls.url.value;if(C!==null){let A=/\/([^/]*?)(?:\.git)?\/?$/.exec(C);if(A){this.filesApi.getResolvedPath(V,A[1]??"").subscribe(v=>{this.form.controls.path.setValue(v)});return}}this.form.controls.path.setValue(V)})},this.browsePathIfEmpty=()=>{this.form.controls.path.value||this.browsePath()},this.clone=()=>{if(this.cloning.value)return;let{url:V,path:C,credential:w}=this.form.value;if(!V)throw new O(new ci);if(!C)throw new O(new ue);let A=this.store.selectSnapshot(L.credentials);this.cloning.next(!0),this.repositoriesApi.cloneRepository(V,C,w?A.get(w):void 0).pipe(W(v=>et.matches(v)?z(()=>new O(v)):pi.matches(v)?z(()=>new O(v)):di.matches(v)?z(()=>new O(v)):mi.matches(v)?z(()=>new O(v)):si.matches(v)?z(()=>new O(v)):z(()=>v)),y(()=>this.store.dispatch(new J(C))),y(()=>{let v=this.store.selectSnapshot(L.selectedProfile),X=w&&v?.credentialIds!=="all"&&!v?.credentialIds.includes(w)?0:this.store.selectSnapshot(L.selectedProfileId);v&&X>0&&v.allowedRepositories!=="all"&&this.store.dispatch(new xi(X,se(le({},v),{allowedRepositories:[...v.allowedRepositories,C]})));let ze=w?{remotes:{origin:{credentialId:w}}}:null;return this.store.dispatch(new Ri(C,X,ze))}),y(()=>this.store.dispatch(new $(C))),y(()=>this.store.dispatch(new U(C))),pe(()=>{this.cloning.next(!1)}),T(this.destroyed$)).subscribe(()=>{this.router.navigate(["/standard/default"])})},this.updateViewportSizes=()=>{this.viewports.forEach(V=>V.checkViewportSize())}}ngOnInit(){this.integrationsWithRepos=this.store.selectSnapshot(L.integrations).flatMap(i=>{switch(i.type){case"github":{let l=()=>Ne(G(g=>({next:g.next,values:g.values.map(R=>({type:"github",id:R.id,name:R.full_name,private:R.private,cloneUrl:R.clone_url}))})),W(g=>this.store.dispatch(new ht("error",E("Failed to download repositories list from GitHub.",{error:g}))).pipe(y(()=>te({next:void 0,values:[]})))),De(()=>this.updateViewportSizes())),b=new Ge(g=>this.gitHubApiService.getPage(g,i.id).pipe(l()),this.gitHubApiService.getRepositories(i.token).pipe(l()));return{type:"github",id:i.id,email:i.email,dataSource:b}}case"gitlab":{let l=()=>Ne(G(g=>({next:g.next,values:g.values.map(R=>({type:"gitlab",id:R.id,name:R.path_with_namespace,private:R.visibility==="private",cloneUrl:R.http_url_to_repo}))})),W(g=>this.store.dispatch(new ht("error",E("Failed to download repositories list from GitLab.",{error:g}))).pipe(y(()=>te({next:void 0,values:[]})))),De(()=>this.updateViewportSizes())),b=new Ge(g=>this.gitLabApiService.getPage(g,i.id).pipe(l()),this.gitLabApiService.getProjects(i).pipe(l()));return{type:"gitlab",id:i.id,email:i.email,dataSource:b}}case"bitbucket":{let l=()=>Ne(G(g=>({next:g.next,values:g.values.map(R=>({type:"bitbucket",id:R.repository.uuid,name:R.repository.full_name,private:R.repository.is_private,cloneUrl:R.repository.links.clone[0]?.href??""}))})),W(g=>this.store.dispatch(new ht("error",E("Failed to download repositories list from Bitbucket.",{error:g}))).pipe(y(()=>te({next:void 0,values:[]})))),De(()=>this.updateViewportSizes())),b=new Ge(g=>this.bitbucketApiService.getPage(g,i.id).pipe(l()),this.bitbucketApiService.getRepositories(i).pipe(l()));return{type:"bitbucket",id:i.id,email:i.email,dataSource:b}}default:return[]}});let e=new xt,o=new ResizeObserver(i=>{Array.isArray(i)&&i.length>0&&e.next()});e.pipe(Lt(20,Tt,{leading:!0,trailing:!0}),T(this.destroyed$)).subscribe(()=>{this.displayVertical.next(this.elementRef.nativeElement.clientWidth<1040)}),o.observe(this.elementRef.nativeElement),this.destroyed$.subscribe(()=>o.disconnect())}setFromIntegration(e,o){this.form.controls.url.setValue(o.cloneUrl);let i=e.type==="github"?l=>l.type==="oauth-github"&&l.gitHubId===e.id:e.type==="gitlab"?l=>l.type==="oauth-gitlab"&&l.gitLabId===e.id:e.type==="bitbucket"?l=>l.type==="oauth-bitbucket"&&l.bitbucketId===e.id:null;if(i){let l=[...this.store.selectSnapshot(L.credentials)].find(([b,g])=>i(g));l&&this.form.controls.credential.setValue(l[0])}}trackByIntegrations(e,o){return`${o.type}:${o.id}`}trackByRepository(e,o){return o.id}static{this.\u0275fac=function(o){return new(o||t)(I(je),I(Ce),I(Me),I(pt),I(dt),I(mt),I(Ie),I(st))}}static{this.\u0275cmp=Q({type:t,selectors:[["app-clone-repository-view"]],viewQuery:function(o,i){if(o&1&&Ue(ct,5),o&2){let l;We(l=Qe())&&(i.viewports=l)}},hostVars:2,hostBindings:function(o,i){o&2&&j("vertical",i.classVertical)},features:[Z],decls:6,vars:9,consts:[["class","cloning",4,"ngIf"],[3,"formGroup","vertical","ngSubmit",4,"ngIf"],["class","integrations",3,"vertical",4,"ngIf"],[1,"cloning"],[3,"ngSubmit","formGroup"],[1,"url"],["matPrefix",""],["type","text","matInput","","required","","formControlName","url"],[1,"path",3,"click"],["type","text","matInput","","required","","formControlName","path"],["type","button","matSuffix","","mat-button","",1,"path-browse-button",3,"click"],[1,"credential"],["formControlName","credential",3,"placeholder"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["type","submit","mat-raised-button","","color","primary",3,"disabled"],[1,"integrations"],["multi",""],[3,"afterCollapse","afterExpand",4,"ngFor","ngForOf","ngForTrackBy"],[3,"afterCollapse","afterExpand"],[1,"info"],[1,"icons"],[3,"svgIcon"],[3,"email","type",4,"ngIf"],["class","email",3,"matTooltip",4,"ngIf"],[3,"itemSize"],[3,"click",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[3,"diameter",4,"ngIf"],[3,"email","type"],[1,"email",3,"matTooltip"],[3,"click"],["inline","","color","accent",3,"matTooltip"],[3,"matTooltip"],[3,"diameter"]],template:function(o,i){o&1&&(f(0,bn,4,3,"div",0),s(1,"async"),f(2,vn,36,33,"form",1),s(3,"async"),f(4,Sn,4,6,"div",2),s(5,"async")),o&2&&(c("ngIf",p(1,3,i.cloning)),n(2),c("ngIf",p(3,5,i.cloning)===!1),n(2),c("ngIf",p(5,7,i.cloning)===!1))},dependencies:[Ai,Bi,Fi,Li,Re,Oe,Ve,Ee,Fe,wt,bt,ot,vi,yi,ct,Ke,ve,it,xe,ke,tt,rt,nt,at,Pe,Be,lt,ut,ye,ni,oe],styles:["[_nghost-%COMP%]{display:flex;height:100%;padding:10px}.vertical[_nghost-%COMP%]{display:block}.cloning[_ngcontent-%COMP%]{margin:10px;font-size:2.125rem}.cloning[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin-bottom:20px}form[_ngcontent-%COMP%]{max-width:500px;margin-bottom:20px;margin-right:20px}form.vertical[_ngcontent-%COMP%]{margin-right:0}form[_ngcontent-%COMP%]   .url[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .credential[_ngcontent-%COMP%]{width:100%}form[_ngcontent-%COMP%]   .path-browse-button[_ngcontent-%COMP%]{margin-right:10px}.integrations[_ngcontent-%COMP%]{display:flex}.integrations.vertical[_ngcontent-%COMP%]{max-height:calc(100% - 290px)}mat-accordion[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:500px;min-height:300px}mat-expansion-panel[_ngcontent-%COMP%]{flex-shrink:1;display:flex;flex-direction:column;min-height:48px}mat-expansion-panel.mat-expansion-panel-spacing[_ngcontent-%COMP%]{min-height:167px}mat-expansion-panel.mat-expansion-panel-spacing[_ngcontent-%COMP%] + mat-expansion-panel.mat-expansion-panel-spacing[_ngcontent-%COMP%]{margin:0 0 16px}mat-expansion-panel.mat-expansion-panel-spacing[_ngcontent-%COMP%]:last-child{margin-bottom:0!important}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]{flex:0 0 auto;height:48px}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{height:64px}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{flex:0 0 auto;cursor:pointer}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%]{width:24px;height:24px;vertical-align:middle;margin:0 5px}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-content{overflow:hidden}mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-content.ng-animating cdk-virtual-scroll-viewport{overflow-y:hidden}mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-content .mat-expansion-panel-body{display:flex;flex-direction:column;overflow:hidden}mat-expansion-panel[_ngcontent-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%]{contain:content;scrollbar-gutter:stable}mat-expansion-panel[_ngcontent-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%]     .cdk-virtual-scroll-content-wrapper{width:100%}mat-expansion-panel[_ngcontent-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%]     .cdk-virtual-scroll-spacer{position:relative}mat-expansion-panel[_ngcontent-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{height:29px;line-height:29px;cursor:pointer;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}mat-expansion-panel[_ngcontent-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:5px;margin-top:-2px}mat-expansion-panel[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{flex:0 0 auto;margin-top:10px}"],changeDetection:0})}}return be([Se(L.credentials)],t.prototype,"allCredentials",void 0),t})(),Ge=class extends ui{constructor(m,e,o=10){super(),this.getPage=m,this.buffer=o,this.loading=new q(!1),this.dataStream=new q([]),this.subscription=new Rt,this.maxRequested=new q(0),this.completed=new xt;let i=()=>{let l=kt([this.maxRequested,this.loading]).pipe(T(this.completed),Ft(([b,g])=>!g&&b>this.dataStream.value.length-this.buffer),De(()=>this.loading.next(!0)),y(()=>this.nextUrl?this.getPage(this.nextUrl):(this.completed.next(),this.completed.complete(),this.loading.next(!1),Bt))).subscribe(({next:b,values:g})=>{this.dataStream.next([...this.dataStream.value,...g]),this.nextUrl=b,this.loading.next(!1)});this.subscription.add(l)};typeof e=="string"||typeof e=="number"?(this.nextUrl=e,i()):e.subscribe(({next:l,values:b})=>{this.dataStream.next(b),this.nextUrl=l,i()})}connect(m){return this.subscription.add(m.viewChange.subscribe(e=>{e.end>this.maxRequested.value&&this.maxRequested.next(e.end)})),this.dataStream}disconnect(){this.subscription.unsubscribe()}};var an=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=H({type:t})}static{this.\u0275inj=N({imports:[zi,Te,Le,vt,Ae,ce]})}}return t})();var In=["switch"],Pn=["*"];function On(t,m){t&1&&(a(0,"span",10),Gt(),a(1,"svg",12),_(2,"path",13),r(),a(3,"svg",14),_(4,"path",15),r()())}var Vn=new zt("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1,disabledInteractive:!1})}),En={provide:_i,useExisting:At(()=>Ct),multi:!0},yt=class{constructor(m,e){this.source=m,this.checked=e}},Rn=0,Ct=(()=>{class t{_createChangeEvent(e){return new yt(this,e)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,o,i,l,b,g){this._elementRef=e,this._focusMonitor=o,this._changeDetectorRef=i,this.defaults=b,this._onChange=R=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new St,this.toggleChange=new St,this.tabIndex=parseInt(l)||0,this.color=b.color||"accent",this._noopAnimations=g==="NoopAnimations",this.id=this._uniqueId=`mat-mdc-slide-toggle-${++Rn}`,this.hideIcon=b.hideIcon??!1,this.disabledInteractive=b.disabledInteractive??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e==="keyboard"||e==="program"?(this._focused=!0,this._changeDetectorRef.markForCheck()):e||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(e){e.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}validate(e){return this.required&&e.value!==!0?{required:!0}:null}registerOnValidatorChange(e){this._validatorOnChange=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.disabled||(this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new yt(this,this.checked))))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static{this.\u0275fac=function(o){return new(o||t)(I(je),I(hi),I(Jt),Nt("tabindex"),I(Vn),I(Ht,8))}}static{this.\u0275cmp=Q({type:t,selectors:[["mat-slide-toggle"]],viewQuery:function(o,i){if(o&1&&Ue(In,5),o&2){let l;We(l=Qe())&&(i._switchElement=l.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(o,i){o&2&&(Wt("id",i.id),$e("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),$t(i.color?"mat-"+i.color:""),j("mat-mdc-slide-toggle-focused",i._focused)("mat-mdc-slide-toggle-checked",i.checked)("_mat-animation-noopable",i._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],required:[2,"required","required",me],color:"color",disabled:[2,"disabled","disabled",me],disableRipple:[2,"disableRipple","disableRipple",me],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:ei(e)],checked:[2,"checked","checked",me],hideIcon:[2,"hideIcon","hideIcon",me],disabledInteractive:[2,"disabledInteractive","disabledInteractive",me]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[Kt([En,{provide:fi,useExisting:t,multi:!0}]),qt,Dt,Zt],ngContentSelectors:Pn,decls:13,vars:27,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(o,i){if(o&1){let l=F();Qt(),a(0,"div",1)(1,"button",2,0),M("click",function(){return x(l),k(i._handleClick())}),_(3,"span",3),a(4,"span",4)(5,"span",5)(6,"span",6),_(7,"span",7),r(),a(8,"span",8),_(9,"span",9),r(),f(10,On,5,0,"span",10),r()()(),a(11,"label",11),M("click",function(g){return x(l),k(g.stopPropagation())}),Xt(12),r()()}if(o&2){let l=Xe(2);c("labelPosition",i.labelPosition),n(),j("mdc-switch--selected",i.checked)("mdc-switch--unselected",!i.checked)("mdc-switch--checked",i.checked)("mdc-switch--disabled",i.disabled)("mat-mdc-slide-toggle-disabled-interactive",i.disabledInteractive),c("tabIndex",i.disabled&&!i.disabledInteractive?-1:i.tabIndex)("disabled",i.disabled&&!i.disabledInteractive),$e("id",i.buttonId)("name",i.name)("aria-label",i.ariaLabel)("aria-labelledby",i._getAriaLabelledBy())("aria-describedby",i.ariaDescribedby)("aria-required",i.required||null)("aria-checked",i.checked)("aria-disabled",i.disabled&&i.disabledInteractive?"true":null),n(8),c("matRippleTrigger",l)("matRippleDisabled",i.disableRipple||i.disabled)("matRippleCentered",!0),n(),Ut(i.hideIcon?-1:10),n(),c("for",i.buttonId),$e("id",i._labelId)}},dependencies:[bi,wi],styles:['.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative;width:var(--mdc-switch-track-width)}.mdc-switch.mdc-switch--disabled{cursor:default;pointer-events:none}.mdc-switch.mat-mdc-slide-toggle-disabled-interactive{pointer-events:auto}.mdc-switch__track{overflow:hidden;position:relative;width:100%;height:var(--mdc-switch-track-height);border-radius:var(--mdc-switch-track-shape, var(--mat-app-corner-full))}.mdc-switch--disabled.mdc-switch .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%;border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color, var(--mat-app-outline))}.cdk-high-contrast-active .mdc-switch__track::before,.cdk-high-contrast-active .mdc-switch__track::after{border-color:currentColor}.mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track::after{border-width:var(--mat-switch-selected-track-outline-width);border-color:var(--mat-switch-selected-track-outline-color)}.mdc-switch--disabled .mdc-switch__track::before,.mdc-switch--disabled .mdc-switch__track::after{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color, var(--mat-app-on-surface))}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0);background:var(--mdc-switch-unselected-track-color, var(--mat-app-surface-variant))}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch--selected .mdc-switch__track::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color, var(--mat-app-surface-variant))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color, var(--mat-app-surface-variant))}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color, var(--mat-app-surface-variant))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::before,.mdc-switch.mdc-switch--disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color, var(--mat-app-surface-variant))}.mdc-switch__track::after{transform:translateX(-100%);background:var(--mdc-switch-selected-track-color, var(--mat-app-primary))}[dir=rtl] .mdc-switch__track::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::after{transform:translateX(0)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color, var(--mat-app-primary))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color, var(--mat-app-primary))}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color, var(--mat-app-primary))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::after,.mdc-switch.mdc-switch--disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color, var(--mat-app-on-surface))}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0);width:calc(100% - var(--mdc-switch-handle-width))}[dir=rtl] .mdc-switch__handle-track{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto;transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1);width:var(--mdc-switch-handle-width);height:var(--mdc-switch-handle-height);border-radius:var(--mdc-switch-handle-shape, var(--mat-app-corner-full))}[dir=rtl] .mdc-switch__handle{left:auto;right:0}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size);margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size);margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle .mdc-switch:active:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}.cdk-high-contrast-active .mdc-switch__handle::before,.cdk-high-contrast-active .mdc-switch__handle::after{border-color:currentColor}.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color, var(--mat-app-on-primary))}.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color, var(--mat-app-primary-container))}.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color, var(--mat-app-primary-container))}.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color, var(--mat-app-primary-container))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:hover:not(:focus):not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:focus:not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:active .mdc-switch__handle::after,.mdc-switch--selected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color, var(--mat-app-surface))}.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color, var(--mat-app-outline))}.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color, var(--mat-app-on-surface))}.mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__shadow,.mdc-switch.mdc-switch--disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1;width:var(--mdc-switch-state-layer-size);height:var(--mdc-switch-state-layer-size)}.mdc-switch__ripple::after{content:"";opacity:0}.mdc-switch--disabled .mdc-switch__ripple::after{display:none}.mat-mdc-slide-toggle-disabled-interactive .mdc-switch__ripple::after{display:block}.mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:75ms opacity cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:focus .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:active .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:hover:not(:focus) .mdc-switch__ripple::after,.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-pressed-state-layer-color, var(--mat-app-on-surface));opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-selected-pressed-state-layer-color, var(--mat-app-primary));opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch__icons{position:relative;height:100%;width:100%;z-index:1}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size);fill:var(--mdc-switch-unselected-icon-color, var(--mat-app-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color, var(--mat-app-surface-variant))}.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size);fill:var(--mdc-switch-selected-icon-color, var(--mat-app-on-primary-container))}.mdc-switch--selected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color, var(--mat-app-on-surface))}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{-webkit-user-select:none;user-select:none;display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-internal-form-field{color:var(--mat-switch-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-switch-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-switch-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-switch-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-switch-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-switch-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}'],encapsulation:2,changeDetection:0})}}return t})();var rn=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=H({type:t})}static{this.\u0275inj=N({imports:[Ct,Pt,Pt]})}}return t})();function Fn(t,m){if(t&1){let e=F();a(0,"form",15),M("ngSubmit",function(){x(e);let i=u();return k(i.create())}),a(1,"div",16)(2,"mat-form-field",17),M("click",function(i){x(e);let l=u();return k(l.browsePathIfEmpty(i,l.localForm.controls.path))}),a(3,"mat-label"),d(4,"Path to create in"),r(),a(5,"mat-icon",18),d(6,"folder"),r(),_(7,"input",19),a(8,"button",20),M("click",function(i){x(e);let l=u();return k(l.browsePath(i,l.localForm.controls.path))}),d(9),s(10,"translate"),r()(),a(11,"mat-form-field",21)(12,"mat-label"),d(13),s(14,"translate"),r(),_(15,"mat-icon",22)(16,"input",23),r()(),a(17,"button",24),d(18),s(19,"translate"),r()()}if(t&2){let e=u();c("formGroup",e.localForm),n(9),h(p(10,5,"Browse")),n(4),h(p(14,7,"Default branch")),n(4),c("disabled",e.localForm.invalid),n(),h(p(19,9,"Create"))}}function Ln(t,m){if(t&1&&_(0,"app-avatar",38),t&2){let e=u().ngIf;c("email",e.email)}}function An(t,m){if(t&1&&(a(0,"span",4),d(1),r()),t&2){let e=u().ngIf;c("matTooltip",e.email),n(),h(e.email)}}function zn(t,m){if(t&1&&(ie(0),f(1,Ln,1,1,"app-avatar",36)(2,An,2,2,"span",37),ne()),t&2){let e=m.ngIf;n(),c("ngIf",e.email),n(),c("ngIf",e.email)}}function Dn(t,m){if(t&1&&_(0,"app-avatar",41),t&2){let e=u().$implicit;c("email",e.email)}}function Gn(t,m){if(t&1&&(a(0,"span",4),d(1),r()),t&2){let e=u().$implicit;c("matTooltip",e.email),n(),h(e.email)}}function Nn(t,m){if(t&1&&(a(0,"mat-option",39),f(1,Dn,1,1,"app-avatar",40)(2,Gn,2,2,"span",37),r()),t&2){let e=m.$implicit;c("value",e),n(),c("ngIf",e.email),n(),c("ngIf",e.email)}}function Hn(t,m){if(t&1&&(ie(0),_(1,"img",42),a(2,"span",4),d(3),r(),ne()),t&2){let e=m.ngIf;n(),c("src",e.avatarUrl,de),n(),c("matTooltip",e.name),n(),h(e.name)}}function qn(t,m){if(t&1&&(a(0,"mat-option",39),_(1,"img",42),a(2,"span",4),d(3),r()()),t&2){let e=m.$implicit;c("value",e),n(),c("src",e.avatarUrl,de),n(),c("matTooltip",e.name),n(),h(e.name)}}function jn(t,m){if(t&1){let e=F();a(0,"form",25),M("ngSubmit",function(){x(e);let i=u();return k(i.createGitHub())}),a(1,"div",16)(2,"mat-form-field",26)(3,"mat-label"),d(4),s(5,"translate"),r(),a(6,"mat-select",27)(7,"mat-select-trigger"),f(8,zn,3,2,"ng-container",28),r(),f(9,Nn,3,3,"mat-option",29),s(10,"async"),r()(),a(11,"mat-form-field",30),s(12,"async"),a(13,"mat-label"),d(14),s(15,"translate"),r(),a(16,"mat-select",31)(17,"mat-select-trigger"),f(18,Hn,4,3,"ng-container",28),r(),a(19,"mat-option",32),d(20,"None"),r(),f(21,qn,4,4,"mat-option",29),s(22,"async"),r(),a(23,"mat-hint"),d(24),s(25,"translate"),r()(),a(26,"mat-form-field",33)(27,"mat-label"),d(28),s(29,"translate"),r(),a(30,"mat-icon",18),d(31,"short_text"),r(),_(32,"input",34),r(),a(33,"mat-form-field",17),M("click",function(i){x(e);let l=u();return k(l.browsePathIfEmpty(i,l.gitHubForm.controls.path))}),a(34,"mat-label"),d(35),s(36,"translate"),r(),a(37,"mat-icon",18),d(38,"folder"),r(),_(39,"input",19),a(40,"button",20),M("click",function(i){x(e);let l=u();return k(l.browsePath(i,l.gitHubForm.controls.path))}),d(41),s(42,"translate"),r()(),a(43,"mat-form-field",21)(44,"mat-label"),d(45),s(46,"translate"),r(),_(47,"mat-icon",22)(48,"input",23),r()(),a(49,"button",24),d(50),s(51,"translate"),r(),a(52,"mat-slide-toggle",35),d(53),s(54,"translate"),r()()}if(t&2){let e,o=u();c("formGroup",o.gitHubForm),n(4),h(p(5,18,"Credential")),n(4),c("ngIf",o.gitHubForm.controls.credential.value),n(),c("ngForOf",p(10,20,o.validGitHubCredentials)),n(2),j("show",(e=p(12,22,o.validGitHubOrganizations))==null?null:e.length),n(3),h(p(15,24,"!GitHub! Organization")),n(4),c("ngIf",o.gitHubForm.controls.organization.value),n(),c("value",null),n(2),c("ngForOf",p(22,26,o.validGitHubOrganizations)),n(3),h(p(25,28,"Leave blank to create the repository under your own user")),n(4),h(p(29,30,"Name")),n(7),h(p(36,32,"Path to create in")),n(6),h(p(42,34,"Browse")),n(4),h(p(46,36,"Default branch")),n(4),c("disabled",o.gitHubForm.invalid),n(),h(p(51,38,"Create")),n(3),h(p(54,40,"Private !repository!"))}}function $n(t,m){if(t&1&&_(0,"app-avatar",47),t&2){let e=u().ngIf;c("email",e.email)}}function Un(t,m){if(t&1&&(a(0,"span",4),d(1),r()),t&2){let e=u().ngIf;c("matTooltip",e.email),n(),h(e.email)}}function Wn(t,m){if(t&1&&(ie(0),f(1,$n,1,1,"app-avatar",46)(2,Un,2,2,"span",37),ne()),t&2){let e=m.ngIf;n(),c("ngIf",e.email),n(),c("ngIf",e.email)}}function Qn(t,m){if(t&1&&_(0,"app-avatar",49),t&2){let e=u().$implicit;c("email",e.email)}}function Xn(t,m){if(t&1&&(a(0,"span",4),d(1),r()),t&2){let e=u().$implicit;c("matTooltip",e.email),n(),h(e.email)}}function Yn(t,m){if(t&1&&(a(0,"mat-option",39),f(1,Qn,1,1,"app-avatar",48)(2,Xn,2,2,"span",37),r()),t&2){let e=m.$implicit;c("value",e),n(),c("ngIf",e.email),n(),c("ngIf",e.email)}}function Kn(t,m){if(t&1&&_(0,"img",42),t&2){let e=u().ngIf;c("src",e.avatarUrl,de)}}function Zn(t,m){if(t&1&&(ie(0),f(1,Kn,1,1,"img",50),a(2,"span",4),d(3),r(),ne()),t&2){let e=m.ngIf;n(),c("ngIf",e.avatarUrl),n(),c("matTooltip",e.name),n(),h(e.name)}}function Jn(t,m){if(t&1&&_(0,"img",42),t&2){let e=u().$implicit;c("src",e.avatarUrl,de)}}function ea(t,m){if(t&1&&(a(0,"mat-option",39),f(1,Jn,1,1,"img",50),a(2,"span",4),d(3),r()()),t&2){let e=m.$implicit;c("value",e),n(),c("ngIf",e.avatarUrl),n(),c("matTooltip",e.name),n(),h(e.name)}}function ta(t,m){if(t&1){let e=F();a(0,"form",43),M("ngSubmit",function(){x(e);let i=u();return k(i.createGitLab())}),a(1,"div",16)(2,"mat-form-field",26)(3,"mat-label"),d(4),s(5,"translate"),r(),a(6,"mat-select",27)(7,"mat-select-trigger"),f(8,Wn,3,2,"ng-container",28),r(),f(9,Yn,3,3,"mat-option",29),s(10,"async"),r()(),a(11,"mat-form-field",44),s(12,"async"),a(13,"mat-label"),d(14),s(15,"translate"),r(),a(16,"mat-select",45)(17,"mat-select-trigger"),f(18,Zn,4,3,"ng-container",28),r(),a(19,"mat-option",32),d(20,"None"),r(),f(21,ea,4,4,"mat-option",29),s(22,"async"),r(),a(23,"mat-hint"),d(24),s(25,"translate"),r()(),a(26,"mat-form-field",33)(27,"mat-label"),d(28),s(29,"translate"),r(),a(30,"mat-icon",18),d(31,"short_text"),r(),_(32,"input",34),r(),a(33,"mat-form-field",17),M("click",function(i){x(e);let l=u();return k(l.browsePathIfEmpty(i,l.gitLabForm.controls.path))}),a(34,"mat-label"),d(35),s(36,"translate"),r(),a(37,"mat-icon",18),d(38,"folder"),r(),_(39,"input",19),a(40,"button",20),M("click",function(i){x(e);let l=u();return k(l.browsePath(i,l.gitLabForm.controls.path))}),d(41),s(42,"translate"),r()(),a(43,"mat-form-field",21)(44,"mat-label"),d(45),s(46,"translate"),r(),_(47,"mat-icon",22)(48,"input",23),r()(),a(49,"button",24),d(50),s(51,"translate"),r(),a(52,"mat-slide-toggle",35),d(53),s(54,"translate"),r()()}if(t&2){let e,o=u();c("formGroup",o.gitLabForm),n(4),h(p(5,18,"Credential")),n(4),c("ngIf",o.gitLabForm.controls.credential.value),n(),c("ngForOf",p(10,20,o.validGitLabCredentials)),n(2),j("show",(e=p(12,22,o.validGitLabNamespaces))==null?null:e.length),n(3),h(p(15,24,"!GitLab! Namespace")),n(4),c("ngIf",o.gitLabForm.controls.namespace.value),n(),c("value",null),n(2),c("ngForOf",p(22,26,o.validGitLabNamespaces)),n(3),h(p(25,28,"Leave blank to create the repository under your own user")),n(4),h(p(29,30,"Name")),n(7),h(p(36,32,"Path to create in")),n(6),h(p(42,34,"Browse")),n(4),h(p(46,36,"Default branch")),n(4),c("disabled",o.gitLabForm.invalid),n(),h(p(51,38,"Create")),n(3),h(p(54,40,"Private !repository!"))}}function ia(t,m){if(t&1&&_(0,"app-avatar",55),t&2){let e=u().ngIf;c("email",e.email)}}function na(t,m){if(t&1&&(a(0,"span",4),d(1),r()),t&2){let e=u().ngIf;c("matTooltip",e.email),n(),h(e.email)}}function aa(t,m){if(t&1&&(ie(0),f(1,ia,1,1,"app-avatar",54)(2,na,2,2,"span",37),ne()),t&2){let e=m.ngIf;n(),c("ngIf",e.email),n(),c("ngIf",e.email)}}function ra(t,m){if(t&1&&_(0,"app-avatar",57),t&2){let e=u().$implicit;c("email",e.email)}}function oa(t,m){if(t&1&&(a(0,"span",4),d(1),r()),t&2){let e=u().$implicit;c("matTooltip",e.email),n(),h(e.email)}}function ca(t,m){if(t&1&&(a(0,"mat-option",39),f(1,ra,1,1,"app-avatar",56)(2,oa,2,2,"span",37),r()),t&2){let e=m.$implicit;c("value",e),n(),c("ngIf",e.email),n(),c("ngIf",e.email)}}function la(t,m){if(t&1&&_(0,"img",42),t&2){let e=u().ngIf;c("src",e.avatarUrl,de)}}function sa(t,m){if(t&1&&(ie(0),f(1,la,1,1,"img",50),a(2,"span",4),d(3),r(),ne()),t&2){let e=m.ngIf;n(),c("ngIf",e.avatarUrl),n(),c("matTooltip",e.name),n(),h(e.name)}}function pa(t,m){if(t&1&&_(0,"img",42),t&2){let e=u().$implicit;c("src",e.avatarUrl,de)}}function da(t,m){if(t&1&&(a(0,"mat-option",39),f(1,pa,1,1,"img",50),a(2,"span",4),d(3),r()()),t&2){let e=m.$implicit;c("value",e),n(),c("ngIf",e.avatarUrl),n(),c("matTooltip",e.name),n(),h(e.name)}}function ma(t,m){if(t&1){let e=F();a(0,"form",51),M("ngSubmit",function(){x(e);let i=u();return k(i.createBitbucket())}),a(1,"div",16)(2,"mat-form-field",26)(3,"mat-label"),d(4,"Credential"),r(),a(5,"mat-select",27)(6,"mat-select-trigger"),f(7,aa,3,2,"ng-container",28),r(),f(8,ca,3,3,"mat-option",29),s(9,"async"),r()(),a(10,"mat-form-field",52),s(11,"async"),a(12,"mat-label"),d(13),s(14,"translate"),r(),a(15,"mat-select",53)(16,"mat-select-trigger"),f(17,sa,4,3,"ng-container",28),r(),f(18,da,4,4,"mat-option",29),s(19,"async"),r()(),a(20,"mat-form-field",33)(21,"mat-label"),d(22),s(23,"translate"),r(),a(24,"mat-icon",18),d(25,"short_text"),r(),_(26,"input",34),r(),a(27,"mat-form-field",17),M("click",function(i){x(e);let l=u();return k(l.browsePathIfEmpty(i,l.bitbucketForm.controls.path))}),a(28,"mat-label"),d(29),s(30,"translate"),r(),a(31,"mat-icon",18),d(32,"folder"),r(),_(33,"input",19),a(34,"button",20),M("click",function(i){x(e);let l=u();return k(l.browsePath(i,l.bitbucketForm.controls.path))}),d(35),s(36,"translate"),r()(),a(37,"mat-form-field",21)(38,"mat-label"),d(39),s(40,"translate"),r(),_(41,"mat-icon",22)(42,"input",23),r()(),a(43,"button",24),d(44),s(45,"translate"),r(),a(46,"mat-slide-toggle",35),d(47),s(48,"translate"),r()()}if(t&2){let e,o=u();c("formGroup",o.bitbucketForm),n(7),c("ngIf",o.bitbucketForm.controls.credential.value),n(),c("ngForOf",p(9,15,o.validBitbucketCredentials)),n(2),j("show",(e=p(11,17,o.validBitbucketWorkspaces))==null?null:e.length),n(3),h(p(14,19,"!Bitbucket! Workspace")),n(4),c("ngIf",o.bitbucketForm.controls.workspace.value),n(),c("ngForOf",p(19,21,o.validBitbucketWorkspaces)),n(4),h(p(23,23,"Name")),n(7),h(p(30,25,"Path to create in")),n(6),h(p(36,27,"Browse")),n(4),h(p(40,29,"Default branch")),n(4),c("disabled",o.bitbucketForm.invalid),n(),h(p(45,31,"Create")),n(3),h(p(48,33,"Private !repository!"))}}function ha(t,m){t&1&&(a(0,"div",58),_(1,"mat-spinner"),d(2),s(3,"translate"),r()),t&2&&(n(2),D(" ",p(3,1,"Creating...")," "))}var on=(()=>{class t extends ae(re){constructor(e,o,i,l,b,g,R){super(),this.router=e,this.store=o,this.filesApi=i,this.bitbucketApi=l,this.gitHubApi=b,this.gitLabApi=g,this.repositoriesApi=R,this.view=new q("local"),this.localForm=new _e({path:new P(null,B.required),defaultBranch:new P("main",{nonNullable:!0})}),this.bitbucketForm=new _e({credential:new P(null,B.required),workspace:new P(null,B.required),name:new P(null,B.required),private:new P(!1,{nonNullable:!0,validators:B.required}),path:new P(null,B.required),defaultBranch:new P("main",{nonNullable:!0})}),this.validBitbucketWorkspaces=new q([]),this.gitHubForm=new _e({credential:new P(null,B.required),organization:new P(null),name:new P(null,B.required),private:new P(!1,{nonNullable:!0,validators:B.required}),path:new P(null,B.required),defaultBranch:new P("main",{nonNullable:!0})}),this.validGitHubOrganizations=new q([]),this.gitLabForm=new _e({credential:new P(null,B.required),namespace:new P(null),name:new P(null,B.required),private:new P(!1,{nonNullable:!0,validators:B.required}),path:new P(null,B.required),defaultBranch:new P("main",{nonNullable:!0})}),this.validGitLabNamespaces=new q([]),this.browsePath=(S,V)=>{S.preventDefault(),S.stopPropagation(),this.filesApi.openFolderDialog().pipe(T(this.destroyed$)).subscribe(C=>{C&&V.setValue(C)})},this.browsePathIfEmpty=(S,V)=>{V.value||this.browsePath(S,V)},this.create=()=>{if(this.view.value==="creating")return;let{path:S,defaultBranch:V}=this.localForm.value;if(!S)throw new O(new ue);let C=this.view.value;this.view.next("creating"),this.repositoriesApi.createRepository(S,V??"main").pipe(W(w=>et.matches(w)?z(()=>new O(w)):z(()=>w)),y(()=>this.store.dispatch(new J(S))),y(()=>this.store.dispatch(new $(S))),y(()=>this.store.dispatch(new U(S))),pe(()=>{this.view.next(C)})).subscribe(()=>{this.router.navigate(["/standard/default"])})},this.createBitbucket=()=>{if(this.view.value==="creating")return;let{credential:S,workspace:V,name:C,path:w,private:A,defaultBranch:v}=this.bitbucketForm.getRawValue();if(!S)throw new O(new he(E("Bitbucket")));if(!C)throw new O(new Je(E("Bitbucket")));if(!w)throw new O(new ue(E("Bitbucket")));if(!V)throw new O(new li);let X=this.view.value;this.view.next("creating");let fe=[...this.store.selectSnapshot(L.credentials)].find(([Y,K])=>K.type==="oauth-bitbucket"&&K.bitbucketId===S.bitbucketId);if(!fe)throw new O(new he(E("Bitbucket")));let ge=new Map([[this.store.selectSnapshot(L.selectedProfileId),{remotes:{origin:{credentialId:fe[0]}}}]]);this.bitbucketApi.createRepository(se(le({},S),{id:S.bitbucketId}),C,A,V.id).pipe(W(Y=>z(()=>new O(new Ze(E("Bitbucket"))))),y(Y=>this.repositoriesApi.createRepository(w,v??"main",Y?.links.clone[0]?.href)),y(()=>this.store.dispatch(new J(w,{profiles:ge}))),y(()=>this.store.dispatch(new $(w))),y(()=>this.store.dispatch(new U(w))),pe(()=>{this.view.next(X)})).subscribe(()=>{this.router.navigate(["/standard/default"])})},this.createGitHub=()=>{if(this.view.value==="creating")return;let{credential:S,organization:V,name:C,path:w,private:A,defaultBranch:v}=this.gitHubForm.getRawValue();if(!S)throw new O(new he(E("GitHub")));if(!C)throw new O(new Je(E("GitHub")));if(!w)throw new O(new ue(E("GitHub")));let X=this.view.value;this.view.next("creating");let ze=V?this.gitHubApi.createOrganizationRepository(S.token,V.name,C,A):this.gitHubApi.createRepository(S.token,C,A),ge=[...this.store.selectSnapshot(L.credentials)].find(([K,Et])=>Et.type==="oauth-github"&&Et.gitHubId===S.gitHubId);if(!ge)throw new O(new he(E("GitHub")));let Y=new Map([[this.store.selectSnapshot(L.selectedProfileId),{remotes:{origin:{credentialId:ge[0]}}}]]);ze.pipe(W(K=>z(()=>new O(new Ze(E("GitHub"))))),y(K=>this.repositoriesApi.createRepository(w,v??"main",K?.clone_url)),y(()=>this.store.dispatch(new J(w,{profiles:Y}))),y(()=>this.store.dispatch(new $(w))),y(()=>this.store.dispatch(new U(w))),pe(()=>{this.view.next(X)})).subscribe(()=>{this.router.navigate(["/standard/default"])})},this.createGitLab=()=>{if(this.view.value==="creating")return;let{credential:S,namespace:V,name:C,path:w,private:A,defaultBranch:v}=this.gitLabForm.getRawValue();if(!S)throw new O(new he(E("GitLab")));if(!C)throw new O(new Je(E("GitLab")));if(!w)throw new O(new ue(E("GitLab")));let X=this.view.value;this.view.next("creating");let fe=[...this.store.selectSnapshot(L.credentials)].find(([Y,K])=>K.type==="oauth-gitlab"&&K.gitLabId===S.gitLabId);if(!fe)throw new O(new he(E("GitLab")));let ge=new Map([[this.store.selectSnapshot(L.selectedProfileId),{remotes:{origin:{credentialId:fe[0]}}}]]);this.gitLabApi.createProject(se(le({},S),{id:S.gitLabId}),C,A,V?.id).pipe(W(Y=>z(()=>new O(new Ze(E("GitLab"))))),y(Y=>this.repositoriesApi.createRepository(w,v??"main",Y?.http_url_to_repo)),y(()=>this.store.dispatch(new J(w,{profiles:ge}))),y(()=>this.store.dispatch(new $(w))),y(()=>this.store.dispatch(new U(w))),pe(()=>{this.view.next(X)})).subscribe(()=>{this.router.navigate(["/standard/default"])})}}ngOnInit(){this.validBitbucketCredentials=this.allCredentials.pipe(G(e=>[...e.values()].filter(o=>o.type==="oauth-bitbucket")),T(this.destroyed$),qe(1)),this.bitbucketForm.controls.credential.valueChanges.pipe(we(this.bitbucketForm.controls.credential.value),y(e=>e?this.bitbucketApi.getWorkspaces(se(le({},e),{id:e.bitbucketId})).pipe(G(o=>(o??[]).sort((i,l)=>i.permission==="owner"?-1:0).map(({workspace:i})=>({id:i.uuid,name:i.name,avatarUrl:i.links.avatar.href})))):te([])),T(this.destroyed$)).subscribe(e=>{this.validBitbucketWorkspaces.next(e),!this.bitbucketForm.controls.workspace.value&&e[0]&&this.bitbucketForm.controls.workspace.setValue(e[0])}),this.validBitbucketCredentials.pipe(He(1)).subscribe(e=>{this.bitbucketForm.controls.credential.setValue(e[0]??null)}),this.validGitHubCredentials=this.allCredentials.pipe(G(e=>[...e.values()].filter(o=>o.type==="oauth-github")),T(this.destroyed$),qe(1)),this.gitHubForm.controls.credential.valueChanges.pipe(we(this.gitHubForm.controls.credential.value),y(e=>e?this.gitHubApi.getOrganizations(e.token).pipe(G(o=>o.map(i=>({name:i.login,avatarUrl:i.avatar_url})))):te([])),T(this.destroyed$)).subscribe(e=>{this.validGitHubOrganizations.next(e)}),this.validGitHubCredentials.pipe(He(1)).subscribe(e=>{this.gitHubForm.controls.credential.setValue(e[0]??null)}),this.validGitLabCredentials=this.allCredentials.pipe(G(e=>[...e.values()].filter(o=>o.type==="oauth-gitlab")),T(this.destroyed$),qe(1)),this.gitLabForm.controls.credential.valueChanges.pipe(we(this.gitLabForm.controls.credential.value),y(e=>e?this.gitLabApi.getNamespaces(se(le({},e),{id:e.gitLabId})).pipe(G(o=>o.filter(i=>i.kind==="group").map(i=>({id:i.id,name:i.name,avatarUrl:i.avatar_url})))):te([])),T(this.destroyed$)).subscribe(e=>{this.validGitLabNamespaces.next(e)}),this.validGitLabCredentials.pipe(He(1)).subscribe(e=>{this.gitLabForm.controls.credential.setValue(e[0]??null)})}static{this.\u0275fac=function(o){return new(o||t)(I(Ce),I(Me),I(Ie),I(pt),I(dt),I(mt),I(st))}}static{this.\u0275cmp=Q({type:t,selectors:[["app-create-repository-view"]],features:[Z],decls:49,vars:71,consts:[["tabPanel",""],["mat-tab-nav-bar","",3,"tabPanel","mat-stretch-tabs","disablePagination"],["mat-tab-link","",3,"click","active"],[1,"prefix"],[3,"matTooltip"],["mat-tab-link","",3,"click","active","disabled"],["svgIcon","github",1,"prefix"],["svgIcon","gitlab",1,"prefix"],["svgIcon","bitbucket",1,"prefix"],[3,"ngSwitch"],["class","local",3,"formGroup","ngSubmit",4,"ngSwitchCase"],["class","github",3,"formGroup","ngSubmit",4,"ngSwitchCase"],["class","gitlab",3,"formGroup","ngSubmit",4,"ngSwitchCase"],["class","bitbucket",3,"formGroup","ngSubmit",4,"ngSwitchCase"],["class","cloning",4,"ngSwitchCase"],[1,"local",3,"ngSubmit","formGroup"],[1,"form-fields"],[1,"path",3,"click"],["matPrefix",""],["type","text","matInput","","required","","formControlName","path"],["type","button","matSuffix","","mat-button","",1,"path-browse-button",3,"click"],[1,"default-branch"],["matPrefix","","svgIcon","source-branch"],["type","text","placeholder","main","matInput","","formControlName","defaultBranch"],["type","submit","mat-raised-button","","color","primary",3,"disabled"],[1,"github",3,"ngSubmit","formGroup"],[1,"credential-selector"],["formControlName","credential"],[4,"ngIf"],["class","create-repository-select-option",3,"value",4,"ngFor","ngForOf"],[1,"organization-selector"],["formControlName","organization"],[3,"value"],[1,"name"],["type","text","matInput","","formControlName","name"],["formControlName","private"],["type","github",3,"email",4,"ngIf"],[3,"matTooltip",4,"ngIf"],["type","github",3,"email"],[1,"create-repository-select-option",3,"value"],["class","create-repository-select-avatar","type","github",3,"email",4,"ngIf"],["type","github",1,"create-repository-select-avatar",3,"email"],[3,"src"],[1,"gitlab",3,"ngSubmit","formGroup"],[1,"namespace-selector"],["formControlName","namespace"],["type","gitlab",3,"email",4,"ngIf"],["type","gitlab",3,"email"],["class","create-repository-select-avatar","type","gitlab",3,"email",4,"ngIf"],["type","gitlab",1,"create-repository-select-avatar",3,"email"],[3,"src",4,"ngIf"],[1,"bitbucket",3,"ngSubmit","formGroup"],[1,"workspace-selector"],["formControlName","workspace"],["type","bitbucket",3,"email",4,"ngIf"],["type","bitbucket",3,"email"],["class","create-repository-select-avatar","type","bitbucket",3,"email",4,"ngIf"],["type","bitbucket",1,"create-repository-select-avatar",3,"email"],[1,"cloning"]],template:function(o,i){if(o&1){let l=F();a(0,"nav",1)(1,"a",2),s(2,"async"),M("click",function(){return x(l),k(i.view.next("local"))}),a(3,"mat-icon",3),d(4,"desktop_windows"),r(),d(5),s(6,"translate"),r(),a(7,"span",4),s(8,"async"),s(9,"nullEmpty"),s(10,"translate"),a(11,"a",5),s(12,"async"),s(13,"async"),s(14,"nullEmpty"),M("click",function(){return x(l),k(i.view.next("github"))}),_(15,"mat-icon",6),d(16),s(17,"translate"),r()(),a(18,"span",4),s(19,"async"),s(20,"nullEmpty"),s(21,"translate"),a(22,"a",5),s(23,"async"),s(24,"async"),s(25,"nullEmpty"),M("click",function(){return x(l),k(i.view.next("gitlab"))}),_(26,"mat-icon",7),d(27),s(28,"translate"),r()(),a(29,"span",4),s(30,"async"),s(31,"nullEmpty"),s(32,"translate"),a(33,"a",5),s(34,"async"),s(35,"async"),s(36,"nullEmpty"),M("click",function(){return x(l),k(i.view.next("bitbucket"))}),_(37,"mat-icon",8),d(38),s(39,"translate"),r()()(),a(40,"mat-tab-nav-panel",null,0),ie(42,9),s(43,"async"),f(44,Fn,20,11,"form",10)(45,jn,55,42,"form",11)(46,ta,55,42,"form",12)(47,ma,49,35,"form",13)(48,ha,4,3,"div",14),ne(),r()}if(o&2){let l=Xe(41);c("tabPanel",l)("mat-stretch-tabs",!1)("disablePagination",!0),n(),c("active",p(2,23,i.view)==="local"),n(4),D(" ",p(6,25,"Local")," "),n(2),c("matTooltip",p(9,29,p(8,27,i.validGitHubCredentials))?"":p(10,31,"To create repositories on GitHub, go to settings and add an integration")),n(4),c("active",p(12,33,i.view)==="github")("disabled",!p(14,37,p(13,35,i.validGitHubCredentials))),n(5),D(" ",p(17,39,"GitHub")," "),n(2),c("matTooltip",p(20,43,p(19,41,i.validGitLabCredentials))?"":p(21,45,"To create repositories on GitLab, go to settings and add an integration")),n(4),c("active",p(23,47,i.view)==="gitlab")("disabled",!p(25,51,p(24,49,i.validGitLabCredentials))),n(5),D(" ",p(28,53,"GitLab")," "),n(2),c("matTooltip",p(31,57,p(30,55,i.validBitbucketCredentials))?"":p(32,59,"To create repositories on Bitbucket, go to settings and add an integration")),n(4),c("active",p(34,61,i.view)==="bitbucket")("disabled",!p(36,65,p(35,63,i.validBitbucketCredentials))),n(5),D(" ",p(39,67,"Bitbucket")," "),n(4),c("ngSwitch",p(43,69,i.view)),n(2),c("ngSwitchCase","local"),n(),c("ngSwitchCase","github"),n(),c("ngSwitchCase","gitlab"),n(),c("ngSwitchCase","bitbucket"),n(),c("ngSwitchCase","creating")}},dependencies:[Re,Oe,Vi,Ve,Ee,Fe,wt,bt,Ei,ot,Ct,ji,Ui,$i,Ke,ve,ti,ii,it,xe,ke,tt,rt,nt,at,Pe,Be,lt,ut,ye,gt,oe],styles:["[_nghost-%COMP%]{display:block;padding:10px}nav[_ngcontent-%COMP%]{margin-bottom:10px}nav[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]{margin-right:10px}.local[_ngcontent-%COMP%], .github[_ngcontent-%COMP%], .gitlab[_ngcontent-%COMP%], .bitbucket[_ngcontent-%COMP%]{max-width:1010px}.local[_ngcontent-%COMP%]   .form-fields[_ngcontent-%COMP%], .github[_ngcontent-%COMP%]   .form-fields[_ngcontent-%COMP%], .gitlab[_ngcontent-%COMP%]   .form-fields[_ngcontent-%COMP%], .bitbucket[_ngcontent-%COMP%]   .form-fields[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.local[_ngcontent-%COMP%]   .path-browse-button[_ngcontent-%COMP%], .github[_ngcontent-%COMP%]   .path-browse-button[_ngcontent-%COMP%], .gitlab[_ngcontent-%COMP%]   .path-browse-button[_ngcontent-%COMP%], .bitbucket[_ngcontent-%COMP%]   .path-browse-button[_ngcontent-%COMP%]{margin-right:10px}.local[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%], .local[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%], .github[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%], .github[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%], .gitlab[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%], .gitlab[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%], .bitbucket[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%], .bitbucket[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{width:500px}.local[_ngcontent-%COMP%]   mat-select-trigger[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%], .github[_ngcontent-%COMP%]   mat-select-trigger[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%], .gitlab[_ngcontent-%COMP%]   mat-select-trigger[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%], .bitbucket[_ngcontent-%COMP%]   mat-select-trigger[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%]{height:20px;width:20px;line-height:0;vertical-align:middle;margin-right:5px}.local[_ngcontent-%COMP%]   mat-select-trigger[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .github[_ngcontent-%COMP%]   mat-select-trigger[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .gitlab[_ngcontent-%COMP%]   mat-select-trigger[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .bitbucket[_ngcontent-%COMP%]   mat-select-trigger[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:20px;width:20px;display:inline-block;border-radius:10%;vertical-align:middle;margin-right:5px}.local[_ngcontent-%COMP%]   .organization-selector[_ngcontent-%COMP%], .github[_ngcontent-%COMP%]   .organization-selector[_ngcontent-%COMP%], .gitlab[_ngcontent-%COMP%]   .organization-selector[_ngcontent-%COMP%], .bitbucket[_ngcontent-%COMP%]   .organization-selector[_ngcontent-%COMP%]{display:none}.local[_ngcontent-%COMP%]   .organization-selector.show[_ngcontent-%COMP%], .github[_ngcontent-%COMP%]   .organization-selector.show[_ngcontent-%COMP%], .gitlab[_ngcontent-%COMP%]   .organization-selector.show[_ngcontent-%COMP%], .bitbucket[_ngcontent-%COMP%]   .organization-selector.show[_ngcontent-%COMP%]{display:block}.local[_ngcontent-%COMP%]   mat-slide-toggle[_ngcontent-%COMP%], .github[_ngcontent-%COMP%]   mat-slide-toggle[_ngcontent-%COMP%], .gitlab[_ngcontent-%COMP%]   mat-slide-toggle[_ngcontent-%COMP%], .bitbucket[_ngcontent-%COMP%]   mat-slide-toggle[_ngcontent-%COMP%]{margin-left:20px}"],changeDetection:0})}}return be([Se(L.credentials)],t.prototype,"allCredentials",void 0),t})();var cn=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=H({type:t})}static{this.\u0275inj=N({imports:[Te,Le,vt,Ae,rn,Wi,ce]})}}return t})();function fa(t,m){if(t&1){let e=F();a(0,"button",12),M("click",function(){x(e);let i=u(2);return k(i.searchControl.setValue(null))}),a(1,"mat-icon"),d(2,"close"),r()()}}function ga(t,m){if(t&1&&(a(0,"mat-form-field",8)(1,"mat-label"),d(2),s(3,"translate"),r(),a(4,"span",9)(5,"mat-icon"),d(6,"search"),r(),d(7,"\xA0"),r(),_(8,"input",10),f(9,fa,3,0,"button",11),r()),t&2){let e=u();n(2),h(p(3,3,"Search")),n(6),c("formControl",e.searchControl),n(),c("ngIf",e.searchControl.value)}}function ba(t,m){if(t&1){let e=F();a(0,"mat-card",4)(1,"mat-card-title")(2,"mat-icon"),d(3,"history"),r(),d(4),s(5,"translate"),r(),a(6,"mat-card-content")(7,"app-repository-history-view",13),M("clicked",function(i){x(e);let l=u();return k(l.openRecent(i))})("dragStarted",function(i){x(e);let l=u();return k(l.dragstartListener(i[0],i[1]))}),r()()()}t&2&&(n(4),D(" ",p(5,1,"Recently opened"),""))}var ln=(()=>{class t extends ae(re){constructor(e,o,i){super(),this.router=e,this.store=o,this.filesApi=i,this.searchControl=new P(null),this.openBookmark=l=>{Di(l)||this.store.dispatch(new $(l.id)).pipe(y(()=>this.store.dispatch(new U(l.id))),T(this.destroyed$)).subscribe(()=>{this.router.navigate(["/standard/default"])})},this.openRecent=l=>{this.store.dispatch(new $(l)).pipe(y(()=>this.store.dispatch(new U(l))),T(this.destroyed$)).subscribe(()=>{this.router.navigate(["/standard/default"])})},this.openFromDisk=()=>{this.filesApi.openFolderDialog().pipe(T(this.destroyed$)).subscribe(l=>{l&&this.store.dispatch(new J(l)).pipe(y(()=>this.store.dispatch(new $(l))),y(()=>this.store.dispatch(new U(l))),T(this.destroyed$)).subscribe(()=>{this.router.navigate(["/standard/default"])})})},this.dragstartListener=(l,b)=>{l.dataTransfer&&(l.dataTransfer.setData("app/repository",b),l.dataTransfer.effectAllowed="move")}}static{this.\u0275fac=function(o){return new(o||t)(I(Ce),I(Me),I(Ie))}}static{this.\u0275cmp=Q({type:t,selectors:[["app-open-repository-view"]],features:[Z],decls:22,vars:12,consts:[["type","button","mat-flat-button","",1,"open-from-disk-button",3,"click"],["class","search-box",4,"ngIf"],["id","open-repository-view"],["min","210px"],["appearance","outlined"],[3,"nodeClick"],["min","300px"],["appearance","outlined",4,"ngIf"],[1,"search-box"],["matPrefix",""],["matInput","","type","text",3,"formControl"],["type","button","matSuffix","","class","app-icon-button-md",3,"click",4,"ngIf"],["type","button","matSuffix","",1,"app-icon-button-md",3,"click"],[3,"clicked","dragStarted"]],template:function(o,i){o&1&&(a(0,"header")(1,"button",0),M("click",function(){return i.openFromDisk()}),a(2,"mat-icon"),d(3,"folder_open"),r(),d(4),s(5,"translate"),r(),f(6,ga,10,5,"mat-form-field",1),r(),a(7,"main")(8,"app-grid",2)(9,"app-grid-cell",3)(10,"mat-card",4)(11,"mat-card-title")(12,"mat-icon"),d(13,"bookmarks"),r(),d(14),s(15,"translate"),r(),a(16,"mat-card-content")(17,"app-repository-bookmarks-view",5),M("nodeClick",function(b){return i.openBookmark(b)}),r()()()(),a(18,"app-grid-cell",6),f(19,ba,8,3,"mat-card",7),s(20,"async"),s(21,"nullEmpty"),r()()()),o&2&&(n(4),D(" ",p(5,4,"Open from disk")," "),n(2),c("ngIf",!1),n(8),D(" ",p(15,6,"Bookmarks"),""),n(5),c("ngIf",p(21,10,p(20,8,i.recentRepositories))))},dependencies:[Re,Oe,Ve,Ee,Fe,ve,xe,ke,gi,Pe,Ii,Oi,Pi,Be,_t,ft,Gi,Hi,ye,gt,oe],styles:["header[_ngcontent-%COMP%]{margin:10px 10px 0;display:flex;align-items:baseline}header[_ngcontent-%COMP%]   .open-from-disk-button[_ngcontent-%COMP%]{margin-bottom:26px;gap:5px}header[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{flex:auto;margin-left:10px}main[_ngcontent-%COMP%]{padding:0 5px 10px}main[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{margin:0 5px;padding:16px}main[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:0}app-repository-bookmarks-view[_ngcontent-%COMP%], app-repository-history-view[_ngcontent-%COMP%]{display:block;margin-top:10px}"],changeDetection:0})}}return be([Se(Ti.recentRepositories)],t.prototype,"recentRepositories",void 0),t})();var sn=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=H({type:t})}static{this.\u0275inj=N({imports:[Te,Le,ce,Ni,qi]})}}return t})();var wa=()=>["./open"],va=()=>["./clone"],ya=()=>["./create"],pn=(()=>{class t extends ae(re){static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Mt(t)))(i||t)}})()}static{this.\u0275cmp=Q({type:t,selectors:[["ng-component"]],features:[Z],decls:14,vars:15,consts:[["id","open-repository-layout"],["min","150px"],[1,"links"],["routerLinkActive","active",3,"routerLink"],["min","510px"]],template:function(o,i){o&1&&(a(0,"app-grid",0)(1,"app-grid-cell",1)(2,"mat-list",2)(3,"mat-list-item",3),d(4),s(5,"translate"),r(),a(6,"mat-list-item",3),d(7),s(8,"translate"),r(),a(9,"mat-list-item",3),d(10),s(11,"translate"),r()()(),a(12,"app-grid-cell",4),_(13,"router-outlet"),r()()),o&2&&(n(3),c("routerLink",Ye(12,wa)),n(),h(p(5,6,"Open")),n(2),c("routerLink",Ye(13,va)),n(),h(p(8,8,"Clone")),n(2),c("routerLink",Ye(14,ya)),n(),h(p(11,10,"Create")))},dependencies:[ki,Mi,_t,ft,ai,ri,oi,oe],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:calc(100% - 50px)}.links[_ngcontent-%COMP%]{padding-top:0}.links[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]{outline:none;cursor:pointer}.dark-theme[_nghost-%COMP%]   .links[_ngcontent-%COMP%]   mat-list-item.active[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .links[_ngcontent-%COMP%]   mat-list-item.active[_ngcontent-%COMP%]{background:#78909c}.light-theme[_nghost-%COMP%]   .links[_ngcontent-%COMP%]   mat-list-item.active[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .links[_ngcontent-%COMP%]   mat-list-item.active[_ngcontent-%COMP%]{background:#cfd8dc}"],changeDetection:0})}}return t})();var Ca=[{path:"",component:pn,children:[{path:"open",component:ln},{path:"clone",component:nn},{path:"create",component:on},{path:"",redirectTo:"open",pathMatch:"full"}]}],dn=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=H({type:t})}static{this.\u0275inj=N({imports:[It.forChild(Ca),It]})}}return t})();var ho=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=H({type:t})}static{this.\u0275inj=N({imports:[Si,Ae,ce,an,cn,sn,dn]})}}return t})();export{ho as OpenRepositoryLayoutModule};

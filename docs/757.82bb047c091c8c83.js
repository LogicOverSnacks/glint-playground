"use strict";(self.webpackChunkgit_glint=self.webpackChunkgit_glint||[]).push([[757],{8831:(N,A,n)=>{n.d(A,{S:()=>e});var l=n(4650);const e=P=>(()=>{class u extends P{constructor(){super(...arguments),this.disableTransitions=!0}ngOnInit(){super.ngOnInit&&super.ngOnInit(),setTimeout(()=>{this.disableTransitions=!1},0)}}return u.\u0275fac=function(){let I;return function(L){return(I||(I=l.n5z(u)))(L||u)}}(),u.\u0275prov=l.Yz7({token:u,factory:u.\u0275fac}),u})()},2771:(N,A,n)=>{n.d(A,{P:()=>u});var l=n(8929),e=n(3164),P=n(7625),C=n(4650);const u=I=>(()=>{class L extends I{ngAfterViewInit(){super.ngAfterViewInit&&super.ngAfterViewInit();const _=this.viewports.map(b=>{const o=new l.xQ,V=new ResizeObserver(()=>o.next());return o.pipe((0,e.p)(20,void 0,{leading:!0,trailing:!0}),(0,P.R)(this.destroyed$)).subscribe(()=>{b.checkViewportSize()}),V.observe(b.elementRef.nativeElement),V});this.destroyed$.subscribe(()=>{_.forEach(b=>b.disconnect())})}}return L.\u0275fac=function(){let T;return function(b){return(T||(T=C.n5z(L)))(b||L)}}(),L.\u0275prov=C.Yz7({token:L,factory:L.\u0275fac}),L})()},8070:(N,A,n)=>{n.d(A,{r:()=>e});var l=n(4650);let e=(()=>{class P{transform(u,I,x=u+"s"){return 1===I?u:x}}return P.\u0275fac=function(u){return new(u||P)},P.\u0275pipe=l.Yjl({name:"plural",type:P,pure:!0}),P})()},3448:(N,A,n)=>{n.d(A,{I:()=>e});var l=n(4650);let e=(()=>{class P{constructor(u){this.template=u}}return P.\u0275fac=function(u){return new(u||P)(l.Y36(l.Rgc))},P.\u0275dir=l.lG2({type:P,selectors:[["","appVirtualTreeLeafNode",""]]}),P})()},1123:(N,A,n)=>{n.d(A,{J:()=>e});var l=n(4650);let e=(()=>{class P{constructor(u){this.template=u}}return P.\u0275fac=function(u){return new(u||P)(l.Y36(l.Rgc))},P.\u0275dir=l.lG2({type:P,selectors:[["","appVirtualTreeNode",""]]}),P})()},6725:(N,A,n)=>{n.d(A,{L:()=>W});var l=n(7340),e=n(3668),P=n(4850),C=n(8926),u=n(9967),I=n(8831),x=n(2771),L=n(3448),T=n(1123),_=n(4650),b=n(6895);function o(D,v){1&D&&_.GkF(0)}const V=function(D){return{$implicit:D}};function J(D,v){if(1&D&&(_.TgZ(0,"li"),_.YNc(1,o,1,0,"ng-container",2),_.qZA()),2&D){const y=v.$implicit,w=_.oxw();_.Udp("padding-left",10*y.depth,"px"),_.xp6(1),_.Q6J("ngTemplateOutlet",w.isLeaf(y)?w.leafNodeDirective.template:w.nodeDirective.template)("ngTemplateOutletContext",_.VKq(4,V,y))}}let W=(()=>{class D extends((0,C.j)(u.A,I.S,x.P)){constructor(){super(...arguments),this.isLeaf=y=>!y.children,this.expandVisibleNodes=y=>this.isLeaf(y)||!y.expanded?[y]:[y,...y.children.flatMap(this.expandVisibleNodes)]}ngOnInit(){super.ngOnInit(),this.visibleNodes=this.tree.pipe((0,P.U)(y=>y.reduce((w,Y)=>[...w,...this.expandVisibleNodes(Y)],[])))}trackById(y,w){return w.id}}return D.\u0275fac=function(){let v;return function(w){return(v||(v=_.n5z(D)))(w||D)}}(),D.\u0275cmp=_.Xpm({type:D,selectors:[["app-virtual-tree"]],contentQueries:function(y,w,Y){if(1&y&&(_.Suo(Y,T.J,5),_.Suo(Y,L.I,5)),2&y){let $;_.iGM($=_.CRH())&&(w.nodeDirective=$.first),_.iGM($=_.CRH())&&(w.leafNodeDirective=$.first)}},viewQuery:function(y,w){if(1&y&&_.Gf(e.N7,5),2&y){let Y;_.iGM(Y=_.CRH())&&(w.viewports=Y)}},inputs:{tree:"tree",itemSize:"itemSize"},features:[_.qOj],decls:5,vars:9,consts:[[3,"itemSize"],[3,"padding-left",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(y,w){1&y&&(_.TgZ(0,"cdk-virtual-scroll-viewport",0)(1,"ul"),_.ALo(2,"async"),_.YNc(3,J,2,6,"li",1),_.ALo(4,"async"),_.qZA()()),2&y&&(_.Q6J("itemSize",w.itemSize)("@null",void 0),_.xp6(1),_.Q6J("@slide",_.lcZ(2,5,w.visibleNodes)),_.xp6(2),_.Q6J("cdkVirtualForOf",_.lcZ(4,7,w.visibleNodes))("cdkVirtualForTrackBy",w.trackById))},dependencies:[e.xd,e.x0,e.N7,b.tP,b.Ov],styles:["cdk-virtual-scroll-viewport[_ngcontent-%COMP%]     .cdk-virtual-scroll-spacer{transition:height 225ms ease-in-out}li[_ngcontent-%COMP%]{overflow-y:hidden}"],data:{animation:[(0,l.X$)("null",[(0,l.eR)(":enter",[]),(0,l.eR)(":leave",[])]),(0,l.X$)("slide",[(0,l.eR)("* => *",[(0,l.ru)([(0,l.IO)("li:enter",[(0,l.oB)({height:0}),(0,l.jt)("225ms ease-in-out",(0,l.oB)({height:"*"}))],{optional:!0}),(0,l.IO)("li:leave",[(0,l.oB)({height:"*"}),(0,l.jt)("225ms ease-in-out",(0,l.oB)({height:0}))],{optional:!0})])])])]},changeDetection:0}),D})()},9418:(N,A,n)=>{n.d(A,{c:()=>P});var l=n(3179),e=n(4650);let P=(()=>{class C{}return C.\u0275fac=function(I){return new(I||C)},C.\u0275mod=e.oAB({type:C}),C.\u0275inj=e.cJS({imports:[l.I]}),C})()},7615:(N,A,n)=>{n.d(A,{d:()=>C});var l=n(6421),e=n(9418),P=n(4650);let C=(()=>{class u{getPatchPath(x){switch(x.status){case l.v.Added:case l.v.Untracked:return x.newFilePath;case l.v.Conflicted:case l.v.Modified:case l.v.Renamed:return x.oldFilePath===x.newFilePath?x.newFilePath:`${x.oldFilePath} --\x3e ${x.newFilePath}`;case l.v.Deleted:return x.oldFilePath;default:throw new Error(`Don't know how to deal with patch status: ${l.v[x.status]}`)}}getPatchIcon(x){switch(x.status){case l.v.Added:case l.v.Untracked:return"add";case l.v.Conflicted:return"warning";case l.v.Modified:return"create";case l.v.Deleted:return"remove";case l.v.Renamed:return"swap_horiz";default:throw new Error(`Don't know how to deal with patch status: ${l.v[x.status]}`)}}getPatchIconColorClass(x){switch(x.status){case l.v.Added:case l.v.Untracked:return"green";case l.v.Conflicted:case l.v.Modified:return"orange";case l.v.Deleted:return"red";case l.v.Renamed:return"blue";default:throw new Error(`Don't know how to deal with patch status: ${l.v[x.status]}`)}}}return u.\u0275fac=function(x){return new(x||u)},u.\u0275prov=P.Yz7({token:u,factory:u.\u0275fac,providedIn:e.c}),u})()},1815:(N,A,n)=>{n.d(A,{E:()=>U});var l=n(4080),e=n(591),P=n(2986),C=n(7625),u=n(4850),I=n(8926),x=n(9967),L=n(4462),T=n(8310),_=n(2120),b=n(6966),o=n(4650),V=n(8184),J=n(240),W=n(6271),D=n(3394),v=n(6895),y=n(4859),w=n(7392),Y=n(266),$=n(5773);function G(i,g){if(1&i){const d=o.EpF();o.TgZ(0,"button",5),o.NdJ("click",function(){o.CHM(d);const c=o.oxw(2);return o.KtG(c.openWithTerminal())}),o.TgZ(1,"mat-icon"),o._uU(2,"terminal"),o.qZA(),o._uU(3," Terminal "),o.qZA()}}function z(i,g){if(1&i){const d=o.EpF();o.TgZ(0,"button",5),o.NdJ("click",function(){o.CHM(d);const c=o.oxw(2);return o.KtG(c.openWithVsCode())}),o._UZ(1,"mat-icon",8),o._uU(2," Visual Studio Code "),o.qZA()}}function X(i,g){if(1&i){const d=o.EpF();o.TgZ(0,"button",9),o.NdJ("click",function(){const M=o.CHM(d).$implicit,h=o.oxw(2);return o.KtG(h.openRemote(M.url))}),o._UZ(1,"mat-icon",10),o._uU(2),o.qZA()}if(2&i){const d=g.$implicit;o.Q6J("matTooltip",d.url),o.xp6(1),o.s9C("svgIcon",d.type),o.xp6(1),o.AsE(" ","bitbucket"===d.type?"Bitbucket":"github"===d.type?"GitHub":"gitlab"===d.type?"GitLab":"",": ",d.name," ")}}function B(i,g){if(1&i){const d=o.EpF();o.TgZ(0,"div",4)(1,"button",5),o.NdJ("click",function(){o.CHM(d);const c=o.oxw();return o.KtG(c.openWithFileExplorer())}),o.TgZ(2,"mat-icon"),o._uU(3,"folder"),o.qZA(),o._uU(4),o.qZA(),o.YNc(5,G,4,0,"button",6),o.ALo(6,"async"),o.YNc(7,z,3,0,"button",6),o.ALo(8,"async"),o.YNc(9,X,3,4,"button",7),o.ALo(10,"async"),o.qZA()}if(2&i){const d=o.oxw();o.xp6(4),o.hij(" ",d.folderText," "),o.xp6(1),o.Q6J("ngIf",o.lcZ(6,4,d.hasTerminal)),o.xp6(2),o.Q6J("ngIf",o.lcZ(8,6,d.hasVsCode)),o.xp6(2),o.Q6J("ngForOf",o.lcZ(10,8,d.remotes))}}let U=(()=>{class i extends((0,I.j)(x.A)){constructor(d,m,c,M,h){super(),this.overlay=d,this.viewContainerRef=m,this.store=c,this.filesApi=M,this.providerUrlMatcherService=h,this.menuOverlayRef=new e.X(null),this.folderText=L.V?"Finder":L.E?"File Explorer":"File Manager",this.openMenu=(f,F,Z)=>{f.preventDefault(),f.stopPropagation(),this.closeMenu();const R=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo(F).withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"}])});this.menuOverlayRef.next(R),R.attach(new l.UE(Z,this.viewContainerRef)),(0,T.t)(R,!1).pipe((0,P.q)(1),(0,C.R)(this.destroyed$)).subscribe(()=>this.closeMenu())},this.closeMenu=()=>{this.menuOverlayRef.value&&(this.menuOverlayRef.value.dispose(),this.menuOverlayRef.next(null))},this.openWithFileExplorer=()=>{const f=this.store.selectSnapshot(b.E.selectedRepositoryPath);if(!f)throw new Error("Cannot open repository in file explorer if repository has no path.");this.filesApi.openFileWithShell(f).subscribe(),this.closeMenu()},this.openWithTerminal=()=>{const f=this.store.selectSnapshot(b.E.selectedRepositoryPath);if(!f)throw new Error("Cannot open repository in terminal if repository has no path.");this.filesApi.openTerminal(f).subscribe(),this.closeMenu()},this.openWithVsCode=()=>{const f=this.store.selectSnapshot(b.E.selectedRepositoryPath);if(!f)throw new Error("Cannot open repository in vscode if repository has no path.");this.filesApi.openVsCode(f).subscribe(),this.closeMenu()},this.openRemote=f=>{window.open(f),this.closeMenu()}}ngOnInit(){this.remotes=this.store.select(b.E.selectedRemotes).pipe((0,u.U)(d=>(d??[]).map(m=>{const c=this.providerUrlMatcherService.matchProvider(m.url);return c?[m,c]:null}).filter(_.$K).map(([m,c])=>({type:c.type,url:this.providerUrlMatcherService.getUrl(c),name:m.name})))),this.hasTerminal=this.filesApi.hasTerminal(),this.hasVsCode=this.filesApi.hasVsCode()}}return i.\u0275fac=function(d){return new(d||i)(o.Y36(V.aV),o.Y36(o.s_b),o.Y36(J.yh),o.Y36(W.k),o.Y36(D.d))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-repository-actions-open-with"]],features:[o.qOj],decls:6,vars:0,consts:[["type","button","mat-stroked-button","","matTooltip","Open repository with...","appElementRef","",1,"item",3,"click"],["openWithMenuBtn","appElementRef"],[1,"launch-icon"],["openWithMenu",""],[1,"open-with-menu"],["type","button",1,"menu-item",3,"click"],["type","button","class","menu-item",3,"click",4,"ngIf"],["type","button","class","menu-item",3,"matTooltip","click",4,"ngFor","ngForOf"],["svgIcon","microsoft-visual-studio-code"],["type","button",1,"menu-item",3,"matTooltip","click"],[3,"svgIcon"]],template:function(d,m){if(1&d){const c=o.EpF();o.TgZ(0,"button",0,1),o.NdJ("click",function(h){o.CHM(c);const f=o.MAs(1),F=o.MAs(5);return o.KtG(m.openMenu(h,f,F))}),o.TgZ(2,"mat-icon",2),o._uU(3,"launch"),o.qZA()(),o.YNc(4,B,11,10,"ng-template",null,3,o.W1O)}},dependencies:[v.sg,v.O5,y.lW,w.Hw,Y.gM,$.F,v.Ov],styles:[".open-with-menu[_ngcontent-%COMP%]{background:#424242;border-radius:4px;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;max-height:calc(100vh - 48px);max-width:25vw;min-height:48px;min-width:112px;overflow-x:hidden;overflow-y:auto}.open-with-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;cursor:pointer;display:flex;font-family:MontserratVariable;font-size:14px;height:48px;line-height:48px;max-width:100%;outline:none;overflow:hidden;padding:0 16px;user-select:none;text-align:left;text-overflow:ellipsis;width:100%;white-space:nowrap}.open-with-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:first-child{border-radius:4px 4px 0 0}.open-with-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:last-child{border-radius:0 0 4px 4px}.open-with-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover{background:#565656}.open-with-menu[_ngcontent-%COMP%]   .menu-item[disabled][_ngcontent-%COMP%]{pointer-events:none;color:#ffffff4d}.open-with-menu[_ngcontent-%COMP%]   .menu-item.bold[_ngcontent-%COMP%]{font-weight:700}.open-with-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin:12px 16px 12px 0;vertical-align:middle;flex:0 0 auto}.open-with-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon.expand-icon[_ngcontent-%COMP%]{margin-left:auto;margin-right:0}.open-with-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.open-with-menu.sub-menu-1[_ngcontent-%COMP%]{background:#4a4a4a}.item[_ngcontent-%COMP%]{min-width:45px;padding:0 10px;font-size:0}"],changeDetection:0}),i})()},3888:(N,A,n)=>{n.d(A,{p:()=>P});var l=n(2686),e=n(4650);let P=(()=>{class C{constructor(){this.parseReference=I=>{const x=C.referenceRegex.exec(I);if(!x)throw new Error(`Reference invalid: ${I}`);if("remotes"===x[1]){const L=C.remoteBranchRegex.exec(I);if(!L)throw new Error(`Remote reference invalid: ${I}`);return{branch:L[2],sourceName:L[1],sourceType:"remote"}}return"stash"===x[1]?{branch:"stash",sourceName:"stash",sourceType:"stash"}:{branch:x[2],sourceName:"heads"===x[1]?"local":"tag",sourceType:"heads"===x[1]?"local":"tag"}},this.getBranchTypeIcon=I=>{switch(I){case"local":return"desktop_windows";case"remote":return"cloud_queue";case"stash":return"edit";case"tag":return"label";default:throw new Error(`Unknown reference type: ${I}`)}}}calculateBranches(I,x){const L=(0,l.Z)(I.map(this.parseReference),({branch:T})=>T);return Object.entries(L).map(([T,_])=>({name:T,sources:_.map(b=>({name:b.sourceName,type:b.sourceType,icon:this.getBranchTypeIcon(b.sourceType)}))})).sort((T,_)=>{const b=T.sources.some(v=>"local"===v.type&&`refs/heads/${T.name}`===x),o=T.sources.some(v=>"local"===v.type&&`refs/heads/${_.name}`===x);if(b&&!o)return-1;if(!b&&o)return 1;const V=T.sources.some(v=>"local"===v.type),J=_.sources.some(v=>"local"===v.type);if(V&&!J)return-1;if(!V&&J)return 1;const W=T.sources.some(v=>"remote"===v.type),D=_.sources.some(v=>"remote"===v.type);return W&&!D?-1:!W&&D?1:T.sources.length>_.sources.length?-1:T.sources.length<_.sources.length?1:T.name>_.name?-1:T.name<_.name?1:0}).slice(0,30)}}return C.referenceRegex=/refs\/(heads|remotes|tags|stash)(?:\/(.*))?/,C.remoteBranchRegex=/refs\/remotes\/([^\/]*)\/(.*)/,C.\u0275fac=function(I){return new(I||C)},C.\u0275prov=e.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})()},3989:(N,A,n)=>{n.d(A,{$:()=>B});var l=n(1134),e=n(539);const C=function P(U,i){return U<i},I=function u(U,i){return U&&U.length?(0,l.Z)(U,(0,e.Z)(i,2),C):void 0};var x=n(2382);var _=n(1256),b=n(3713),o=n(7711),V=n(9512),J=n(7988),W=n(6932),D=n(3228);var Y=n(7965),$=n(7118);const z=(0,Y.Z)(function(U,i){return(0,$.Z)(U)?function y(U,i,g,d){var m=-1,c=o.Z,M=!0,h=U.length,f=[],F=i.length;if(!h)return f;g&&(i=(0,J.Z)(i,(0,W.Z)(g))),d?(c=V.Z,M=!1):i.length>=200&&(c=D.Z,M=!1,i=new b.Z(i));e:for(;++m<h;){var Z=U[m],R=null==g?Z:g(Z);if(Z=d||0!==Z?Z:0,M&&R==R){for(var k=F;k--;)if(i[k]===R)continue e;f.push(Z)}else c(i,R,d)||f.push(Z)}return f}(U,i):[]});var X=n(4650);class B{isIndexInBounds(i,g,d){const m=i*B.yUnit;return m>=g&&m<d-B.yUnit}calculateVisible(i,g,d,m,c){return{commitDetails:i.slice(m,c),commitTrails:g.filter(M=>M.minYIndexWithMerges<=c&&M.maxYIndexWithMerges>=m),mergePaths:d.filter(M=>M.from.yIndex>=m&&M.to.some(h=>h.yIndex<=c))}}calculate(i,g,d,m,c,M){const h={};let f=[],F=[],Z=[];const R=(i?1:0)+g.length;d.forEach((t,a)=>{h[t.id]={id:t.id,yIndex:a+R,commit:t}});const k=[];g.forEach((t,a)=>{const s=`merge:${t.fromCommitId}:${t.toCommitId}`,r={id:s,message:t.message??`merge: from '${t.fromCommitId}' into '${t.toCommitId}'`,parentIds:[t.toCommitId,t.fromCommitId],time:0,references:[],authorEmail:"",authorName:""};k.push(r),h[s]={id:s,yIndex:a+(i?1:0),commit:r}});const p=i?{id:"head",message:"",parentIds:i.parentId?[i.parentId,...i.mergeHeads]:[...i.mergeHeads],time:0,references:[],authorEmail:"",authorName:""}:null;i&&(h.head={id:"head",yIndex:0,commit:p});const E=p?[p,...k,...d]:[...k,...d];if(E.forEach(t=>{const a=h[t.id];a.trail||this.calculateTrail(a,h,f,F),t.parentIds.length>1&&t.parentIds.slice(1).forEach(s=>{const r=h[s];if(r)if(r.mergeFrom)r.mergeFrom.to.push(a);else{const O={from:r,to:[a],isDashed:"head"===t.id||t.id.startsWith("merge:")};r.mergeFrom=O,Z.push(O)}})}),({mergePaths:Z,lanes:F}=this.calculateMergePaths(Z,F,m,c)),this.calculateColors(f,M),i&&i.parentId&&h[i.parentId]){const t=f.find(a=>0===a.minYIndex);if(t){t.commits=t.commits.filter(s=>"head"!==s.id);const a=I(t.commits,s=>s.yIndex);t.minYIndex=a?.yIndex??0,t.minYIndexWithMerges=a?.yIndex??0,this.createUncommittedTrail(h.head,h[i.parentId],f,t.colorIndex,t.lane)}}return k.forEach((t,a)=>{const s=f.find(r=>r.minYIndex===a+(i?1:0));if(s&&h[t.parentIds[0]]){if(s.commits=s.commits.filter(r=>r.id!==t.id),s.commits.length<=0)f=f.filter(r=>r!==s);else{const r=I(s.commits.filter(O=>"head"!==O.id&&!O.id.startsWith("merge:")),O=>O.yIndex);s.minYIndex=r?.yIndex??0,s.minYIndexWithMerges=r?.yIndex??0}this.createUncommittedTrail(h[t.id],h[t.parentIds[0]],f,s.colorIndex,s.lane)}}),{commitDetails:h,commitTrails:f,lanes:F,mergePaths:Z,headCommit:p,orderedCommits:E}}createUncommittedTrail(i,g,d,m,c){let M=g.yIndex;g.mergeFrom&&g.mergeFrom.to.length>0&&!g.mergeFrom.isDashed&&(M=Math.min(...g.mergeFrom.to.map(f=>f.yIndex))+.25,d.push({trailIndex:d.length,minYIndex:M,maxYIndex:g.yIndex,minYIndexWithMerges:M,maxYIndexWithMerges:g.yIndex,colorIndex:m,commits:[],isDashed:!1,lane:c}));const h={trailIndex:d.length,minYIndex:i.yIndex,maxYIndex:M,minYIndexWithMerges:i.yIndex,maxYIndexWithMerges:M,colorIndex:m,commits:[i],isDashed:!0,lane:c};return i.trail=h,d.push(h),h}calculateTrail(i,g,d,m){const c={trailIndex:d.length,minYIndex:i.yIndex,maxYIndex:i.yIndex,minYIndexWithMerges:i.yIndex,maxYIndexWithMerges:i.yIndex,colorIndex:null,commits:[],isDashed:!1};if(i.commit.parentIds.length<=0)i.trail=c,c.commits.push(i),c.maxYIndex=i.yIndex,c.maxYIndexWithMerges=i.yIndex;else{let h=i;for(;h&&!h.trail&&h.commit.parentIds.length>0;)h.trail=c,c.maxYIndex=h.yIndex,c.maxYIndexWithMerges=h.yIndex,c.commits.push(h),h=g[h.commit.parentIds[0]];h&&(c.maxYIndex=h.yIndex,c.maxYIndexWithMerges=h.yIndex,h.trail||(h.trail=c,c.commits.push(h)))}let M=m.find(h=>this.getLaneMaxYIndex(h)<c.minYIndex);return M||(M={xIndex:m.length,occupations:[]},m.push(M)),M.occupations.push({type:"commit-trail",minYIndex:c.minYIndex,maxYIndex:c.maxYIndex}),c.lane=M,d.push(c),c}calculateMergePaths(i,g,d,m){return g=g.map(c=>({...c,occupations:c.occupations.filter(M=>"merge-path"!==M.type)})).filter(c=>c.occupations.length>0),i.forEach(c=>{const M=[];let h;c.to.forEach(k=>{c.from.trail.minYIndexWithMerges>k.yIndex&&(c.from.trail.minYIndexWithMerges=k.yIndex),c.from.trail.maxYIndexWithMerges<k.yIndex&&(c.from.trail.maxYIndexWithMerges=k.yIndex),k.trail.minYIndexWithMerges>c.from.yIndex&&(k.trail.minYIndexWithMerges=c.from.yIndex),k.trail.maxYIndexWithMerges<c.from.yIndex&&(k.trail.maxYIndexWithMerges=c.from.yIndex)});const f=c.from.trail.lane.xIndex,F=d(f);let Z=[],R=c.to;if(c.from.trail.minYIndex<c.from.yIndex){const k=c.from.trail.commits.findIndex(E=>E.id===c.from.id),p=c.from.trail.commits[k-1];Z=c.to.filter(E=>E.yIndex>p.yIndex),R=c.to.filter(E=>E.yIndex<=p.yIndex),h=p.yIndex}else{h=c.from.yIndex-1;const k=function L(U,i){return U&&U.length?(0,l.Z)(U,(0,e.Z)(i,2),x.Z):void 0}(R,p=>p.yIndex);k&&k.yIndex===c.from.yIndex-1&&(R=R.filter(p=>p.id!==k.id),M.push(`M ${F} ${m(c.from.yIndex-.5)}`,`L ${d(k.trail.lane.xIndex)} ${m(k.yIndex)}`)),M.push(`M ${F} ${m(c.from.yIndex)}`),M.push(`V ${m(c.from.yIndex-.5)}`)}if(R.length>0){const k=Math.min(...R.map(t=>t.yIndex)),p=g.filter(t=>!this.isLaneOccupied(t,k+1,h)),E=I(p,t=>[...R,c.from].reduce((a,s)=>a+Math.abs(s.trail.lane.xIndex-t.xIndex),0))??{xIndex:g.length,occupations:[]};0===p.length&&g.push(E),E.occupations.push({type:"merge-path",minYIndex:k+1,maxYIndex:h}),M.push(`M ${F} ${m(h+.5)}`,`L ${d(E.xIndex)} ${m(h+.25)}`,`V ${m(k+.5)}`,...R.flatMap(t=>[`M ${d(E.xIndex)} ${m(t.yIndex+.5)}`,`L ${this.adjustForDashedLine(c.isDashed,E.xIndex,t.trail.lane.xIndex,t.yIndex+.5,t.yIndex,d,m)}`]))}M.push(...Z.flatMap(k=>[`M ${F} ${m(k.yIndex+.25)}`,`L ${this.adjustForDashedLine(c.isDashed,f,k.trail.lane.xIndex,k.yIndex+.25,k.yIndex,d,m)}`])),c.path=M.join(" ")}),{mergePaths:i,lanes:g}}calculateColors(i,g){const d=(0,_.Z)(0,g),m=[];i.forEach(c=>{const M=m.filter(f=>f.minYIndexWithMerges<=c.maxYIndexWithMerges&&f.maxYIndexWithMerges>=c.minYIndexWithMerges).map(f=>f.colorIndex),h=z(d,...M);c.colorIndex=h.length>0?h[0]:c.trailIndex%g,m.push(c)})}getLaneMaxYIndex(i){return i.occupations[i.occupations.length-1].maxYIndex}isLaneOccupied(i,g,d){return i.occupations.some(m=>m.minYIndex<=d&&m.maxYIndex>=g)}adjustForDashedLine(i,g,d,m,c,M,h){const F=i?m>c?.15:-.15:0;return`${M(d+(i?g>d?.3:-.3:0))} ${h(c+F)}`}}B.xUnit=15,B.yUnit=26,B.xOffset=B.xUnit/2,B.yOffset=B.yUnit/2,B.\u0275fac=function(i){return new(i||B)},B.\u0275prov=X.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"})},2312:(N,A,n)=>{n.d(A,{M:()=>k});var l=n(655),e=n(4650),P=n(240),C=n(591),u=n(8926),I=n(9967),x=n(9077),L=n(9578),T=n(6895),_=n(7392),b=n(266),o=n(811),V=n(3668),J=n(2771),W=n(4462),D=n(7615),v=n(9131),y=n(6709);function w(p,E){if(1&p){const t=e.EpF();e.TgZ(0,"mat-checkbox",7),e.NdJ("change",function(s){e.CHM(t);const r=e.oxw().$implicit,O=e.oxw();return e.KtG(O.checkedChanged.next([r,s.checked]))}),e.qZA()}if(2&p){const t=e.oxw().$implicit,a=e.oxw();e.Q6J("checked",a.isChecked(t))}}function Y(p,E){if(1&p){const t=e.EpF();e.TgZ(0,"li",3),e.NdJ("contextmenu",function(s){const O=e.CHM(t).$implicit,K=e.oxw();return e.KtG(K.contextMenuOpened.next([O,s]))}),e.TgZ(1,"mat-icon",4),e._uU(2),e.qZA(),e.YNc(3,w,1,1,"mat-checkbox",5),e.TgZ(4,"app-condensed-path",6),e.NdJ("click",function(){const r=e.CHM(t).$implicit,O=e.oxw();return e.KtG(O.selectedChanged.next(r))}),e.qZA()()}if(2&p){const t=E.$implicit,a=e.oxw();e.ekj("selected",a.isSelected(t))("checked",a.isChecked(t)),e.xp6(1),e.Q6J("ngClass",a.getPatchIconColorClass(t)),e.xp6(1),e.Oqu(a.getPatchIcon(t)),e.xp6(1),e.Q6J("ngIf",a.checked),e.xp6(1),e.Q6J("path",a.getPatchPath(t))}}let $=(()=>{class p extends((0,u.j)(I.A,J.P)){constructor(t){super(),this.commitDetailService=t,this.checked=null,this.checkedChanged=new e.vpe,this.selectedChanged=new e.vpe,this.contextMenuOpened=new e.vpe,this.keyPressDisabled=!1}ngOnChanges(t){t.selected&&(this.keyPressDisabled=!1)}trackByPatch(t,a){return`${a.oldFilePath}|${a.newFilePath}|${a.status}`}getPatchPath(t){return this.commitDetailService.getPatchPath(t)}getPatchIcon(t){return this.commitDetailService.getPatchIcon(t)}getPatchIconColorClass(t){return this.commitDetailService.getPatchIconColorClass(t)}isChecked(t){return this.checked?.some(({oldFilePath:a,newFilePath:s})=>a===t.oldFilePath&&s===t.newFilePath)}isSelected(t){return t.oldFilePath===this.selected?.oldFilePath&&t.newFilePath===this.selected.newFilePath}keyPressed(t,a){if(this.keyPressDisabled)return;t.preventDefault();const s=this.selected,r=a.findIndex(({oldFilePath:K,newFilePath:q})=>K===s?.oldFilePath&&q===s?.newFilePath);let O=null;switch(t.key){case"ArrowUp":if(!(W.V?t.metaKey:t.ctrlKey)){r>0&&(O=r-1);break}case"Home":O=0;break;case"ArrowDown":if(!(W.V?t.metaKey:t.ctrlKey)){r<a.length-1&&(O=r+1);break}case"End":O=a.length-1;break;case"Escape":r>=0&&(O=r)}if(null!==O){this.keyPressDisabled=!0,this.selectedChanged.next(a[O]);const K=this.viewports.first,q=K.measureScrollOffset("top"),j=q+K.getViewportSize(),H=22*O;(H<q||H>=j)&&K.scrollToIndex(O)}}}return p.\u0275fac=function(t){return new(t||p)(e.Y36(D.d))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-patch-list"]],viewQuery:function(t,a){if(1&t&&e.Gf(V.N7,5),2&t){let s;e.iGM(s=e.CRH())&&(a.viewports=s)}},inputs:{patches:"patches",checked:"checked",selected:"selected"},outputs:{checkedChanged:"checkedChanged",selectedChanged:"selectedChanged",contextMenuOpened:"contextMenuOpened"},features:[e.qOj,e.TTD],decls:3,vars:7,consts:[["tabindex","0",1,"item-list-container",3,"itemSize","maxBufferPx","minBufferPx","keydown"],[1,"patch-list"],[3,"selected","checked","contextmenu",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[3,"contextmenu"],["inline","",3,"ngClass"],[3,"checked","change",4,"ngIf"],[1,"name",3,"path","click"],[3,"checked","change"]],template:function(t,a){1&t&&(e.TgZ(0,"cdk-virtual-scroll-viewport",0),e.NdJ("keydown",function(r){return a.keyPressed(r,a.patches)}),e.TgZ(1,"ul",1),e.YNc(2,Y,5,8,"li",2),e.qZA()()),2&t&&(e.Q6J("itemSize",22)("maxBufferPx",400)("minBufferPx",200),e.xp6(1),e.ekj("checkboxes",a.checked),e.xp6(1),e.Q6J("cdkVirtualForOf",a.patches)("cdkVirtualForTrackBy",a.trackByPatch))},dependencies:[V.xd,V.x0,V.N7,T.mk,T.O5,_.Hw,v.j,y.oG],styles:["[_nghost-%COMP%]{display:contents}.item-list-container[_ngcontent-%COMP%]{margin-left:-16px;margin-right:-16px;height:100%;contain:content;outline:none}.item-list-container[_ngcontent-%COMP%]     .cdk-virtual-scroll-content-wrapper{width:100%}.item-list-container[_ngcontent-%COMP%]     .cdk-virtual-scroll-spacer{position:relative}.patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:flex;height:22px;line-height:22px;padding-left:16px;padding-right:16px;position:relative;overflow:hidden;text-overflow:ellipsis;cursor:pointer}.patch-list[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%]{background-color:#616161}.patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{display:none;flex:0 0 22px;width:22px}.patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{flex:0 0 22px;user-select:none;width:22px}.patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.red[_ngcontent-%COMP%]{color:#ef5350}.patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.green[_ngcontent-%COMP%]{color:#4caf50}.patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.orange[_ngcontent-%COMP%]{color:#cb8837}.patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.blue[_ngcontent-%COMP%]{color:#7c8bff}.patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{width:calc(100% - 22px)}.patch-list.checkboxes[_ngcontent-%COMP%] > li.checked[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .patch-list.checkboxes[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{display:none}.patch-list.checkboxes[_ngcontent-%COMP%] > li.checked[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%], .patch-list.checkboxes[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover   mat-checkbox[_ngcontent-%COMP%]{display:block}"],changeDetection:0}),p})();var G=n(2686),z=n(6053),X=n(1086),B=n(4850),U=n(5154),i=n(6725),g=n(3448),d=n(1123);function m(p,E){if(1&p){const t=e.EpF();e.TgZ(0,"mat-checkbox",8),e.NdJ("click",function(s){return s.stopPropagation()})("change",function(s){e.CHM(t);const r=e.oxw().$implicit,O=e.oxw();return e.KtG(O.clickNodeCheckbox(r,s.checked))}),e.qZA()}if(2&p){const t=e.oxw().$implicit;e.Q6J("checked","all"===t.checked)("indeterminate","some"===t.checked)}}function c(p,E){if(1&p){const t=e.EpF();e.TgZ(0,"div",3),e.NdJ("click",function(s){const O=e.CHM(t).$implicit,K=e.oxw();return e.KtG(K.toggleNodeExpanded(s,O))}),e.TgZ(1,"mat-icon",4),e._uU(2,"folder"),e.qZA(),e.YNc(3,m,1,2,"mat-checkbox",5),e.TgZ(4,"span",6),e._uU(5),e.qZA(),e.TgZ(6,"mat-icon",7),e._uU(7),e.qZA()()}if(2&p){const t=E.$implicit,a=e.oxw();e.ekj("checked","all"===t.checked),e.xp6(3),e.Q6J("ngIf",a.checked),e.xp6(1),e.Q6J("matTooltip",t.id),e.xp6(1),e.Oqu(t.segment),e.xp6(2),e.Oqu(t.expanded?"expand_less":"expand_more")}}function M(p,E){if(1&p){const t=e.EpF();e.TgZ(0,"mat-checkbox",13),e.NdJ("change",function(s){e.CHM(t);const r=e.oxw().$implicit,O=e.oxw();return e.KtG(O.checkedChanged.next([r.patch,s.checked]))}),e.qZA()}if(2&p){const t=e.oxw().$implicit;e.Q6J("checked",t.checked)}}function h(p,E){if(1&p){const t=e.EpF();e.TgZ(0,"div",9),e.NdJ("contextmenu",function(s){const O=e.CHM(t).$implicit,K=e.oxw();return e.KtG(K.contextMenuOpened.next([O.patch,s]))}),e.TgZ(1,"mat-icon",10),e._uU(2),e.qZA(),e.YNc(3,M,1,1,"mat-checkbox",11),e.TgZ(4,"span",12),e.NdJ("click",function(){const r=e.CHM(t).$implicit,O=e.oxw();return e.KtG(O.selectedChanged.next(r.patch))}),e._uU(5),e.qZA()()}if(2&p){const t=E.$implicit,a=e.oxw();let s;e.ekj("checked",t.checked)("selected",a.isSelected(t.patch)),e.xp6(1),e.Q6J("ngClass",a.getPatchIconColorClass(t.patch)),e.xp6(1),e.Oqu(a.getPatchIcon(t.patch)),e.xp6(1),e.Q6J("ngIf",a.checked),e.xp6(1),e.Q6J("matTooltip",null!==(s=a.getPatchPath(t.patch))&&void 0!==s?s:""),e.xp6(1),e.Oqu(t.segment)}}let f=(()=>{class p extends((0,u.j)(I.A)){constructor(t){super(),this.commitDetailService=t,this.checkedChanged=new e.vpe,this.selectedChanged=new e.vpe,this.contextMenuOpened=new e.vpe,this.collapsedNodeIds=new C.X(new Set),this.toggleNodeExpanded=(a,s)=>{a.preventDefault(),a.stopPropagation();const r=new Set(this.collapsedNodeIds.value);r.has(s.id)?(r.delete(s.id),this.collapsedNodeIds.next(r)):(r.add(s.id),this.collapsedNodeIds.next(r))}}ngOnInit(){this.tree=(0,z.aj)([this.patches,this.checked??(0,X.of)(null),this.collapsedNodeIds]).pipe((0,B.U)(([t,a,s])=>{const r=t.map(O=>({patch:O,segments:(O.newFilePath??O.oldFilePath??"").split("/")}));return this.buildTree(r,"",0,a,s)}),(0,U.d)(1))}getPatchPath(t){return this.commitDetailService.getPatchPath(t)}getPatchIcon(t){return this.commitDetailService.getPatchIcon(t)}getPatchIconColorClass(t){return this.commitDetailService.getPatchIconColorClass(t)}isSelected(t){return t.oldFilePath===this.selected?.oldFilePath&&t.newFilePath===this.selected.newFilePath}clickNodeCheckbox(t,a){const s=r=>r.reduce((O,K)=>[...O,..."patch"in K?[K]:s(K.children)],[]);for(const r of s(t.children))this.checkedChanged.next([r.patch,a])}buildTree(t,a,s,r,O){return Object.entries((0,G.Z)(t,({segments:j})=>j[0])).sort(([j],[H])=>j.localeCompare(H,void 0,{numeric:!0})).flatMap(([j,H])=>{const oe=`${a}${j}/`,ae=`${a}${j}`,ie=H.filter(({segments:S})=>S.length>1),se=r?H.every(({patch:S})=>r.some(({oldFilePath:Q,newFilePath:ce})=>Q===S.oldFilePath&&ce===S.newFilePath))?"all":H.some(({patch:S})=>r.some(({oldFilePath:Q,newFilePath:ce})=>Q===S.oldFilePath&&ce===S.newFilePath))?"some":"none":"none",ee=ie.length>0?{id:oe,depth:s,expanded:!O.has(oe),children:this.buildTree(ie.map(({patch:S,segments:Q})=>({patch:S,segments:Q.slice(1)})),oe,s+1,r,O),segment:j,checked:se}:null,te=H.find(({segments:S})=>S.length<=1),ne=te?{id:ae,depth:s,segment:j,patch:te.patch,checked:r?.some(({oldFilePath:S,newFilePath:Q})=>S===te.patch.oldFilePath&&Q===te.patch.newFilePath)??!1}:null;return ne&&ee?[ne,ee]:ee?[ee]:ne?[ne]:[]})}}return p.\u0275fac=function(t){return new(t||p)(e.Y36(D.d))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-patch-tree"]],inputs:{patches:"patches",checked:"checked",selected:"selected"},outputs:{checkedChanged:"checkedChanged",selectedChanged:"selectedChanged",contextMenuOpened:"contextMenuOpened"},features:[e.qOj],decls:3,vars:4,consts:[[3,"tree","itemSize"],["class","node-item",3,"checked","click",4,"appVirtualTreeNode"],["class","leaf-item",3,"checked","selected","contextmenu",4,"appVirtualTreeLeafNode"],[1,"node-item",3,"click"],["inline","",1,"node-icon"],[3,"checked","indeterminate","click","change",4,"ngIf"],[1,"text",3,"matTooltip"],[1,"expand-icon"],[3,"checked","indeterminate","click","change"],[1,"leaf-item",3,"contextmenu"],["inline","",1,"node-icon",3,"ngClass"],[3,"checked","change",4,"ngIf"],[1,"text",3,"matTooltip","click"],[3,"checked","change"]],template:function(t,a){1&t&&(e.TgZ(0,"app-virtual-tree",0),e.YNc(1,c,8,6,"div",1),e.YNc(2,h,6,9,"div",2),e.qZA()),2&t&&(e.ekj("checkboxes",!!a.checked),e.Q6J("tree",a.tree)("itemSize",22))},dependencies:[T.mk,T.O5,_.Hw,b.gM,i.L,g.I,d.J,y.oG],styles:["[_nghost-%COMP%]{display:contents}app-virtual-tree[_ngcontent-%COMP%]{display:contents}app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport{contain:content;scrollbar-gutter:stable;margin-left:-16px;margin-right:-16px}app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport .cdk-virtual-scroll-content-wrapper{width:100%}app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport .cdk-virtual-scroll-content-wrapper>ul{overflow-x:auto;overflow-y:hidden}app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport .cdk-virtual-scroll-spacer{position:relative}app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(> .leaf-item.selected){background-color:#616161}.node-item[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%]{margin-left:16px;display:flex;justify-content:space-between;cursor:pointer;line-height:22px;height:22px;user-select:none;align-items:center;min-width:200px}.node-item[_ngcontent-%COMP%] > .node-icon[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%] > .node-icon[_ngcontent-%COMP%]{flex:0 0 22px;user-select:none;width:22px}.node-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%]{color:#ef5350}.node-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%]{color:#4caf50}.node-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%]{color:#cb8837}.node-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%]{color:#7c8bff}.node-item[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%], .node-item[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%]{display:none;flex:0 0 22px;width:22px}.node-item[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]   .checkbox-icon[_ngcontent-%COMP%], .node-item[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%]   .checkbox-icon[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]   .checkbox-icon[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%]   .checkbox-icon[_ngcontent-%COMP%]{font-size:16px}.node-item[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.node-item[_ngcontent-%COMP%] > .expand-icon[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%] > .expand-icon[_ngcontent-%COMP%]{flex:0 0 auto;color:#ffffffb3;line-height:22px}app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .node-item.checked[_ngcontent-%COMP%]   .node-icon[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .node-item[_ngcontent-%COMP%]:has(.node-icon:hover, mat-checkbox[_ngcontent-%COMP%]:hover)   .node-icon[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .leaf-item.checked[_ngcontent-%COMP%]   .node-icon[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .leaf-item[_ngcontent-%COMP%]:hover   .node-icon[_ngcontent-%COMP%]{display:none}app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .node-item.checked[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .node-item.checked[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .node-item[_ngcontent-%COMP%]:has(.node-icon:hover, mat-checkbox[_ngcontent-%COMP%]:hover)   mat-checkbox[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .node-item[_ngcontent-%COMP%]:has(.node-icon:hover, mat-checkbox[_ngcontent-%COMP%]:hover)   .checkbox-button[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .leaf-item.checked[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .leaf-item.checked[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .leaf-item[_ngcontent-%COMP%]:hover   mat-checkbox[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .leaf-item[_ngcontent-%COMP%]:hover   .checkbox-button[_ngcontent-%COMP%]{display:block}"],changeDetection:0}),p})();function F(p,E){if(1&p){const t=e.EpF();e.TgZ(0,"app-patch-list",6),e.NdJ("checkedChanged",function(s){e.CHM(t);const r=e.oxw(2);return e.KtG(r.checkedChanged.next(s))})("selectedChanged",function(s){e.CHM(t);const r=e.oxw(2);return e.KtG(r.selectedChanged.next(s))})("contextMenuOpened",function(s){e.CHM(t);const r=e.oxw(2);return e.KtG(r.contextMenuOpened.next(s))}),e.ALo(1,"async"),e.qZA()}if(2&p){const t=e.oxw(2);e.Q6J("patches",t.patches)("checked",e.lcZ(1,3,t.checked))("selected",t.selected)}}function Z(p,E){if(1&p){const t=e.EpF();e.TgZ(0,"app-patch-tree",6),e.NdJ("checkedChanged",function(s){e.CHM(t);const r=e.oxw(2);return e.KtG(r.checkedChanged.next(s))})("selectedChanged",function(s){e.CHM(t);const r=e.oxw(2);return e.KtG(r.selectedChanged.next(s))})("contextMenuOpened",function(s){e.CHM(t);const r=e.oxw(2);return e.KtG(r.contextMenuOpened.next(s))}),e.qZA()}if(2&p){const t=e.oxw(2);e.Q6J("patches",t.patches$)("checked",t.checked)("selected",t.selected)}}function R(p,E){if(1&p){const t=e.EpF();e.ynx(0),e.TgZ(1,"header")(2,"mat-button-toggle-group",1),e.NdJ("change",function(s){e.CHM(t);const r=e.oxw();return e.KtG(r.changePatchView(s.value))}),e.TgZ(3,"mat-button-toggle",2)(4,"mat-icon"),e._uU(5,"list"),e.qZA()(),e.TgZ(6,"mat-button-toggle",3),e._UZ(7,"mat-icon",4),e.qZA()()(),e.YNc(8,F,2,5,"app-patch-list",5),e.YNc(9,Z,1,3,"app-patch-tree",5),e.BQk()}if(2&p){const t=E.ngIf;e.xp6(2),e.Q6J("value",t),e.xp6(6),e.Q6J("ngIf","list"===t),e.xp6(1),e.Q6J("ngIf","tree"===t)}}let k=(()=>{class p extends((0,u.j)(I.A)){constructor(t){super(),this.store=t,this.checked=null,this.checkedChanged=new e.vpe,this.selectedChanged=new e.vpe,this.contextMenuOpened=new e.vpe,this.patches$=new C.X([])}ngOnChanges(t){t.patches&&this.patches$.next(this.patches)}changePatchView(t){this.store.dispatch(new L.eh(t))}}return p.\u0275fac=function(t){return new(t||p)(e.Y36(P.yh))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-patch-list-view"]],inputs:{patches:"patches",checked:"checked",selected:"selected"},outputs:{checkedChanged:"checkedChanged",selectedChanged:"selectedChanged",contextMenuOpened:"contextMenuOpened"},features:[e.qOj,e.TTD],decls:2,vars:3,consts:[[4,"ngIf"],[3,"value","change"],["value","list","matTooltip","List View"],["value","tree","matTooltip","Tree View"],["svgIcon","file-tree"],[3,"patches","checked","selected","checkedChanged","selectedChanged","contextMenuOpened",4,"ngIf"],[3,"patches","checked","selected","checkedChanged","selectedChanged","contextMenuOpened"]],template:function(t,a){1&t&&(e.YNc(0,R,10,3,"ng-container",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,a.view))},dependencies:[T.O5,_.Hw,b.gM,o.A9,o.Yi,$,f,T.Ov],styles:["[_nghost-%COMP%]{display:contents}header[_ngcontent-%COMP%]{flex:0 0 auto;text-align:center;margin-bottom:-4px}header[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]{height:30px}header[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]{font-size:0}header[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]     .mat-button-toggle-label-content{line-height:28px;padding:0 5px}"],changeDetection:0}),(0,l.gn)([(0,P.Ph)(x.$.patchView)],p.prototype,"view",void 0),p})()},6057:(N,A,n)=>{n.d(A,{F:()=>L});var l=n(811),e=n(3546),P=n(6709),C=n(284),u=n(3179),I=n(9418),x=n(4650);let L=(()=>{class T{}return T.\u0275fac=function(b){return new(b||T)},T.\u0275mod=x.oAB({type:T}),T.\u0275inj=x.cJS({imports:[u.I,l.vV,e.QW,P.p9,C.c,I.c]}),T})()},2686:(N,A,n)=>{n.d(A,{Z:()=>J});var l=n(3496);const P=function e(W,D,v,y){for(var w=-1,Y=null==W?0:W.length;++w<Y;){var $=W[w];D(y,$,v($),W)}return y};var C=n(3693);const I=function u(W,D,v,y){return(0,C.Z)(W,function(w,Y,$){D(y,w,v(w),$)}),y};var x=n(539),L=n(4177),o=Object.prototype.hasOwnProperty;const J=function T(W,D){return function(v,y){var w=(0,L.Z)(v)?P:I,Y=D?D():{};return w(v,W,(0,x.Z)(y,2),Y)}}(function(W,D,v){o.call(W,v)?W[v].push(D):(0,l.Z)(W,v,[D])})}}]);
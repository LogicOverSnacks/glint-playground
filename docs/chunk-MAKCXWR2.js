import{$ as b,Aa as d,Ga as S,Gb as B,Hb as E,Ia as D,La as m,Mb as H,Mf as z,Nf as v,Oh as O,Ph as U,Qf as f,R as k,Ri as J,Sf as M,Sh as q,U as T,Ua as r,Va as p,Zf as $,_a as F,_i as K,ab as h,aj as Q,bb as a,da as V,ea as N,hh as A,ia as c,ig as W,ih as R,j as P,ja as s,kb as C,lb as j,lh as g,s as x,sc as L,t as w,ub as _,vb as u,wa as I,y,za as l,zi as G}from"./chunk-RKMHOEIU.js";function Z(i,X){if(i&1){let t=F();r(0,"li",2),_(1,"async"),h("mousemove",function(){let n=c(t).$implicit,o=a();return s(o.mouseMove(n))})("mouseleave",function(){let n=c(t).$implicit,o=a();return s(o.mouseLeave(n))}),r(2,"mat-icon",3),h("click",function(){let n=c(t).$implicit,o=a();return s(o.dismiss(n))}),C(3,"close"),p(),r(4,"mat-icon",4),C(5),p(),r(6,"div",5),_(7,"safeHtml"),h("click",function(n){c(t);let o=a();return s(o.htmlClick(n))}),p()()}if(i&2){let t=X.$implicit,e=a();m("@.disabled",u(1,6,e.initialized)===!1)("@fade",void 0)("ngClass",t.level+"-level"),l(4),m("matTooltip",e.getLevelText(t.level)),l(),j(e.getIcon(t.level)),l(),m("innerHtml",u(7,8,t.message),I)}}var ft=(()=>{class i extends A(R){static{this.displayTime=5e3}constructor(t,e,n){super(),this.router=t,this.store=e,this.htmlClickService=n,this.initialized=new P(!1),this.htmlClick=this.htmlClickService.click}ngOnInit(){this.notifications=w([y(1e3).pipe(k(0)),this.store.select(q.notifications)]).pipe(x(([,t])=>t.filter(e=>!e.dismissed&&e.created>Date.now()-i.displayTime)),T(()=>{setTimeout(()=>{this.initialized.next(!0)},0)}))}getId(t,e){return e.id}getIcon(t){switch(t){case"error":return"error";case"warn":return"warning";case"info":return"info";case"unhandled-error":return"error"}}getLevelText(t){switch(t){case"error":return g("Error");case"warn":return g("Warning");case"info":return g("Info");case"unhandled-error":return g("Error")}}mouseMove(t){this.store.dispatch(new O(t,{created:Date.now()+i.displayTime}))}mouseLeave(t){this.store.dispatch(new O(t,{created:Date.now()}))}dismiss(t){this.store.dispatch(new U(t))}static{this.\u0275fac=function(e){return new(e||i)(d(L),d(W),d(J))}}static{this.\u0275cmp=V({type:i,selectors:[["app-notification-tray-view"]],features:[S],decls:3,vars:4,consts:[[1,"notification-list"],["class","notification",3,"ngClass","mousemove","mouseleave",4,"ngFor","ngForOf","ngForTrackBy"],[1,"notification",3,"mousemove","mouseleave","ngClass"],[1,"close-icon",3,"click"],[1,"level-icon",3,"matTooltip"],[1,"message",3,"click","innerHtml"]],template:function(e,n){e&1&&(r(0,"ul",0),D(1,Z,8,10,"li",1),_(2,"async"),p()),e&2&&(l(),m("ngForOf",u(2,2,n.notifications))("ngForTrackBy",n.getId))},dependencies:[B,E,G,$,H,K],styles:["[_nghost-%COMP%]{max-width:calc(100% - 20px)}.notification-list[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto;padding-right:10px}.notification[_ngcontent-%COMP%]{border-radius:4px;padding:10px 40px 10px 10px;max-height:200px;margin:5px 0;overflow-y:hidden;opacity:1;display:flex;align-items:center;position:relative}.notification[_ngcontent-%COMP%]:first-child{margin-top:0}.notification[_ngcontent-%COMP%]:last-child{margin-bottom:0}.notification[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{position:absolute;top:10px;right:8px;cursor:pointer}.notification[_ngcontent-%COMP%]   .level-icon[_ngcontent-%COMP%]{margin-right:10px;flex:0 0 auto}.notification[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{overflow-y:auto;max-height:180px}.notification[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]     ul{list-style:inside}.notification[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]     pre{width:100%}.dark-theme[_nghost-%COMP%]   .notification.info-level[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .notification.info-level[_ngcontent-%COMP%]{background-color:#7c8bff}.dark-theme[_nghost-%COMP%]   .notification.warn-level[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .notification.warn-level[_ngcontent-%COMP%]{background-color:#cb8837}.dark-theme[_nghost-%COMP%]   .notification.error-level[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .notification.error-level[_ngcontent-%COMP%]{background-color:#ef5350}.dark-theme[_nghost-%COMP%]   .notification.unhandled-error-level[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .notification.unhandled-error-level[_ngcontent-%COMP%]{background-color:#ef5350}.light-theme[_nghost-%COMP%]   .notification.info-level[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .notification.info-level[_ngcontent-%COMP%]{background-color:#7c8bff}.light-theme[_nghost-%COMP%]   .notification.warn-level[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .notification.warn-level[_ngcontent-%COMP%]{background-color:#d8a669}.light-theme[_nghost-%COMP%]   .notification.error-level[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .notification.error-level[_ngcontent-%COMP%]{background-color:#ef5350}.light-theme[_nghost-%COMP%]   .notification.unhandled-error-level[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .notification.unhandled-error-level[_ngcontent-%COMP%]{background-color:#ef5350}"],data:{animation:[z("fade",[M(":enter",[f({opacity:0,height:0}),v("225ms ease-in-out",f({opacity:1,height:"*"}))]),M(":leave",[f({opacity:1,height:"*"}),v("225ms ease-in-out",f({opacity:0,height:0}))])])]},changeDetection:0})}}return i})();var ht=(()=>{class i{static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275mod=N({type:i})}static{this.\u0275inj=b({imports:[Q]})}}return i})();export{ft as a,ht as b};

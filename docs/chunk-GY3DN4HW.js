import{c as ye}from"./chunk-KTIAHO2X.js";import{b as be}from"./chunk-HHP4IUCA.js";import{D as x}from"./chunk-AHHMW4YH.js";import{$ as P,Aa as u,Bf as J,Ci as ue,Di as de,Ea as U,G as F,Ga as N,Gf as K,Gi as he,Hb as z,Hi as fe,Ia as C,Ib as H,Ii as _e,Ki as ve,La as c,Mb as q,Mi as I,Qg as ee,T as A,Ua as p,Va as l,Wa as W,Wg as te,Xh as T,Zf as Q,_a as f,ab as _,aj as ge,bb as v,bd as S,da as w,ea as j,eb as G,hh as ie,ia as d,ig as Z,ih as ne,j as k,ja as h,jb as B,kb as m,lb as g,mb as y,nb as $,pi as oe,ri as re,s as E,sb as L,ti as ae,ub as r,ui as pe,vb as s,vi as le,wb as X,wi as se,xi as me,yb as Y,za as o,zi as ce}from"./chunk-RKMHOEIU.js";function we(t,M){if(t&1){let e=f();p(0,"button",6),_("click",function(){d(e);let n=v(2);return h(n.openWithTerminal())}),p(1,"mat-icon"),m(2,"terminal"),l(),m(3),r(4,"translate"),l()}t&2&&(o(3),y(" ",s(4,1,"Terminal")," "))}function Se(t,M){if(t&1){let e=f();p(0,"button",6),_("click",function(){d(e);let n=v(2);return h(n.openWithVsCode())}),W(1,"mat-icon",9),m(2),r(3,"translate"),l()}t&2&&(o(2),y(" ",s(3,1,"Visual Studio Code")," "))}function Te(t,M){if(t&1){let e=f();p(0,"button",10),_("click",function(){let n=d(e).$implicit,b=v(2);return h(b.openRemote(n.url))}),W(1,"mat-icon",11),m(2),r(3,"translate"),r(4,"translate"),r(5,"translate"),l()}if(t&2){let e=M.$implicit;c("matTooltip",e.url),o(),G("svgIcon",e.type),o(),$(" ",e.type==="bitbucket"?s(3,4,"Bitbucket"):e.type==="github"?s(4,6,"GitHub"):e.type==="gitlab"?s(5,8,"GitLab"):"",": ",e.name," ")}}function Ie(t,M){if(t&1){let e=f();p(0,"div",4)(1,"div",5),m(2),r(3,"translate"),l(),p(4,"button",6),_("click",function(){d(e);let n=v();return h(n.openWithFileExplorer())}),p(5,"mat-icon"),m(6,"folder"),l(),m(7),l(),C(8,we,5,3,"button",7),r(9,"async"),C(10,Se,4,3,"button",7),r(11,"async"),C(12,Te,6,10,"button",8),r(13,"async"),l()}if(t&2){let e=v();o(2),g(s(3,5,"Open with...")),o(5),y(" ",e.folderText," "),o(),c("ngIf",s(9,7,e.hasTerminal)),o(2),c("ngIf",s(11,9,e.hasVsCode)),o(2),c("ngForOf",s(13,11,e.remotes))}}var Xe=(()=>{class t extends ie(ne){constructor(e,i,n,b,V){super(),this.overlay=e,this.viewContainerRef=i,this.store=n,this.filesApi=b,this.providerUrlMatcherService=V,this.menuOverlayRef=new k(null),this.folderText=he?"Finder":fe?"File Explorer":"File Manager",this.openMenu=(a,R,D)=>{a.preventDefault(),a.stopPropagation(),this.closeMenu();let O=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo(R).withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"}])});this.menuOverlayRef.next(O),O.attach(new J(D,this.viewContainerRef)),_e(O,!1).pipe(F(1),A(this.destroyed$)).subscribe(()=>this.closeMenu())},this.closeMenu=()=>{this.menuOverlayRef.value&&(this.menuOverlayRef.value.dispose(),this.menuOverlayRef.next(null))},this.openWithFileExplorer=()=>{let a=this.store.selectSnapshot(x.selectedRepositoryPath);if(!a)throw new S;this.filesApi.openFileWithShell(a).subscribe(),this.closeMenu()},this.openWithTerminal=()=>{let a=this.store.selectSnapshot(x.selectedRepositoryPath);if(!a)throw new S;this.filesApi.openTerminal(a).subscribe(),this.closeMenu()},this.openWithVsCode=()=>{let a=this.store.selectSnapshot(x.selectedRepositoryPath);if(!a)throw new S;this.filesApi.openVsCode(a).subscribe(),this.closeMenu()},this.openRemote=a=>{window.open(a),this.closeMenu()}}ngOnInit(){this.remotes=this.store.select(x.selectedRemotes).pipe(E(e=>(e??[]).map(i=>{let n=this.providerUrlMatcherService.matchProvider(i.url);return n?[i,n]:null}).filter(ee).map(([i,n])=>({type:n.type,url:this.providerUrlMatcherService.getUrl(n),name:i.name})))),this.hasTerminal=this.filesApi.hasTerminal(),this.hasVsCode=this.filesApi.hasVsCode()}static{this.\u0275fac=function(i){return new(i||t)(u(K),u(U),u(Z),u(te),u(de))}}static{this.\u0275cmp=w({type:t,selectors:[["app-repository-actions-open-with"]],features:[N],decls:7,vars:3,consts:[["openWithMenuBtn","appElementRef"],["openWithMenu",""],["type","button","mat-stroked-button","","appElementRef","",1,"item",3,"click","matTooltip"],[1,"launch-icon"],[1,"menu-panel"],[1,"menu-header"],["type","button",1,"menu-item",3,"click"],["type","button","class","menu-item",3,"click",4,"ngIf"],["type","button","class","menu-item",3,"matTooltip","click",4,"ngFor","ngForOf"],["svgIcon","microsoft-visual-studio-code"],["type","button",1,"menu-item",3,"click","matTooltip"],[3,"svgIcon"]],template:function(i,n){if(i&1){let b=f();p(0,"button",2,0),r(2,"translate"),_("click",function(a){d(b);let R=B(1),D=B(6);return h(n.openMenu(a,R,D))}),p(3,"mat-icon",3),m(4,"launch"),l()(),C(5,Ie,14,13,"ng-template",null,1,Y)}i&2&&c("matTooltip",s(2,1,"Open repository with..."))},dependencies:[z,H,T,ce,Q,ve,q,I],styles:[".item[_ngcontent-%COMP%]{min-width:45px;padding:0 10px;font-size:0}"],changeDetection:0})}}return t})();var Re=t=>({name:t}),qe=(()=>{class t{constructor(e){this.data=e}static{this.\u0275fac=function(i){return new(i||t)(u(re))}}static{this.\u0275cmp=w({type:t,selectors:[["app-remove-submodule-dialog"]],decls:13,vars:17,consts:[["mat-dialog-title",""],["type","button","mat-button","",3,"mat-dialog-close"],["type","submit","mat-button","","color","warn",3,"mat-dialog-close"]],template:function(i,n){i&1&&(p(0,"div",0),m(1),r(2,"translate"),l(),p(3,"mat-dialog-content"),m(4),r(5,"translate"),l(),p(6,"mat-dialog-actions")(7,"button",1),m(8),r(9,"translate"),l(),p(10,"button",2),m(11),r(12,"translate"),l()()),i&2&&(o(),g(s(2,6,"Remove Submodule")),o(3),y(" ",X(5,8,"Submodule _name_ has uncommitted changes, are you sure you want to remove it?",L(15,Re,n.data.name))," "),o(3),c("mat-dialog-close",null),o(),g(s(9,11,"Cancel")),o(2),c("mat-dialog-close",!0),o(),g(s(12,13,"Confirm")))},dependencies:[ae,pe,se,le,T,I],encapsulation:2,changeDetection:0})}}return t})();var nt=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=j({type:t})}static{this.\u0275inj=P({imports:[me,oe,ue,be,ye,ge]})}}return t})();export{Xe as a,qe as b,nt as c};

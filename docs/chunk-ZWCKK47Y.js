import{a as dt,b as gt}from"./chunk-XAEFNQ4I.js";import{$ as x,$i as mt,Aa as I,Ah as E,Ai as st,Bi as pt,Ga as A,Hh as Z,Ia as f,Ib as q,L as b,La as l,Li as lt,Mb as z,Mf as h,Nf as g,Oe as G,Of as J,Pf as T,Q as F,Qe as H,Qf as p,Se as W,Sf as C,T as V,Th as j,Ua as a,Va as r,Wa as _,We as $,Wh as tt,Yh as et,Ze as U,Zf as K,_a as w,ab as d,bb as P,da as D,ea as y,eb as N,gi as nt,hh as X,hi as it,ia as k,ig as Q,ih as Y,j as S,ja as L,kb as m,ki as ot,lb as u,mb as v,ni as at,oi as rt,sc as R,ub as i,vb as o,wc as B,yi as ct,za as n}from"./chunk-LQ6WPIKI.js";function ht(e,O){if(e&1){let t=w();a(0,"mat-icon",19),d("click",function(){k(t);let s=P(2);return L(s.integrateManually())}),m(1,"start"),r()}}function Ct(e,O){e&1&&_(0,"mat-spinner",20)}function Mt(e,O){e&1&&(a(0,"mat-error"),m(1),i(2,"translate"),r()),e&2&&(n(),u(o(2,1,"Authorization code is required")))}function bt(e,O){if(e&1){let t=w();a(0,"div",13)(1,"mat-form-field",14)(2,"mat-label"),m(3),i(4,"translate"),r(),a(5,"input",15),i(6,"translate"),d("keydown.enter",function(){k(t);let s=P();return L(s.integrateManually())}),r(),f(7,ht,2,0,"mat-icon",16),i(8,"async"),f(9,Ct,1,0,"mat-spinner",17),i(10,"async"),f(11,Mt,3,3,"mat-error",18),r()()}if(e&2){let t=P();l("@fadeInInput",void 0),n(3),u(o(4,7,"Authorization Code")),n(2),N("placeholder",o(6,9,"Enter the code displayed in your web browser...")),l("formControl",t.manualIntegrationControl),n(2),l("ngIf",o(8,11,t.manualIntegrationLoading)===!1),n(2),l("ngIf",o(10,13,t.manualIntegrationLoading)),n(2),l("ngIf",t.manualIntegrationControl.hasError("required"))}}var ft=(()=>{class e extends X(Y){constructor(t,c,s){super(),this.router=t,this.store=c,this.authService=s,this.manualIntegration=new S(null),this.manualIntegrationLoading=new S(!1),this.manualIntegrationControl=new $(null,H.required)}ngOnInit(){this.store.select(j.integrations).pipe(F(1),V(this.destroyed$)).subscribe(t=>{this.manualIntegration.next(null),this.manualIntegrationLoading.next(!1),this.manualIntegrationControl.setValue(null),t.length>0&&(this.store.dispatch(new E),this.router.navigate(["/standard/open-repository/clone"]))})}close(){let t=this.store.selectSnapshot(j.integrations);this.store.dispatch(new E),this.router.navigate([`/standard/open-repository/${t.length>0?"clone":"open"}`])}addIntegration(t){switch(t){case"bitbucket":this.authService.bitbucketLogin();break;case"github":this.authService.gitHubLogin();break;case"gitlab":this.authService.gitLabLogin();break}this.manualIntegration.next(t)}integrateManually(){let t=this.manualIntegrationControl.value;if(!t){this.manualIntegrationControl.markAsTouched();return}switch(this.manualIntegration.value){case"bitbucket":this.authService.bitbucketLoggedIn(t).pipe(b(()=>this.manualIntegrationLoading.next(!1))).subscribe();break;case"github":this.authService.gitHubLoggedIn(t).pipe(b(()=>this.manualIntegrationLoading.next(!1))).subscribe();break;case"gitlab":this.authService.gitLabLoggedIn(t).pipe(b(()=>this.manualIntegrationLoading.next(!1))).subscribe();break}this.manualIntegrationLoading.next(!0)}static{this.\u0275fac=function(c){return new(c||e)(I(R),I(Q),I(Z))}}static{this.\u0275cmp=D({type:e,selectors:[["ng-component"]],features:[A],decls:34,vars:27,consts:[["type","button","mat-icon-button","",1,"app-icon-button-md","welcome-close-button",3,"click","matTooltip"],[1,"mat-headline-2"],[1,"container"],[1,"get-started"],[1,"content"],[1,"cloud-hosts"],["type","button","mat-button","","color","primary",1,"cloud-host",3,"click"],["svgIcon","github",1,"prefix"],["svgIcon","gitlab",1,"prefix"],["svgIcon","bitbucket",1,"prefix"],["class","manual-integration",4,"ngIf"],[1,"close"],["type","button","mat-stroked-button","",1,"welcome-close-button",3,"click"],[1,"manual-integration"],["subscriptSizing","dynamic"],["matInput","",3,"keydown.enter","formControl","placeholder"],["matSuffix","",3,"click",4,"ngIf"],["matSuffix","","diameter","24",4,"ngIf"],[4,"ngIf"],["matSuffix","",3,"click"],["matSuffix","","diameter","24"]],template:function(c,s){c&1&&(a(0,"header")(1,"button",0),i(2,"translate"),d("click",function(){return s.close()}),a(3,"mat-icon"),m(4,"close"),r()()(),a(5,"main")(6,"h1",1),m(7),i(8,"translate"),r(),a(9,"div",2)(10,"div",3)(11,"div",4)(12,"p"),m(13),i(14,"translate"),r(),a(15,"div",5)(16,"button",6),d("click",function(){return s.addIntegration("github")}),_(17,"mat-icon",7),m(18),i(19,"translate"),r(),a(20,"button",6),d("click",function(){return s.addIntegration("gitlab")}),_(21,"mat-icon",8),m(22),i(23,"translate"),r(),a(24,"button",6),d("click",function(){return s.addIntegration("bitbucket")}),_(25,"mat-icon",9),m(26),i(27,"translate"),r()(),f(28,bt,12,15,"div",10),i(29,"async"),a(30,"div",11)(31,"button",12),d("click",function(){return s.close()}),m(32),i(33,"translate"),r()()()()()()),c&2&&(l("@fadeIn2",void 0),n(),l("matTooltip",o(2,11,"Close")),n(5),l("@fadeIn1",void 0),n(),u(o(8,13,"Welcome")),n(3),l("@fadeIn3",void 0),n(3),u(o(14,15,"Get started by connecting to a cloud host, or click close to jump straight to the app")),n(5),v(" ",o(19,17,"GitHub")," "),n(4),v(" ",o(23,19,"GitLab")," "),n(4),v(" ",o(27,21,"Bitbucket")," "),n(2),l("ngIf",o(29,23,s.manualIntegration)),n(4),u(o(33,25,"Close")))},dependencies:[at,nt,it,ot,st,dt,q,G,W,U,tt,et,ct,K,z,lt],styles:["header[_ngcontent-%COMP%]{padding:10px;text-align:right}main[_ngcontent-%COMP%]{text-align:center}main[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:40px;margin-bottom:40px}main[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;align-items:center;height:286px;margin-top:40px}main[_ngcontent-%COMP%]   .get-started[_ngcontent-%COMP%]{margin:0 auto;border:1px solid transparent;display:flex;justify-content:center;width:fit-content;overflow:hidden}main[_ngcontent-%COMP%]   .get-started[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{white-space:nowrap;margin:20px}main[_ngcontent-%COMP%]   .get-started[_ngcontent-%COMP%]   .cloud-hosts[_ngcontent-%COMP%]{margin-top:20px}main[_ngcontent-%COMP%]   .get-started[_ngcontent-%COMP%]   .cloud-hosts[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:160px;height:48px}main[_ngcontent-%COMP%]   .get-started[_ngcontent-%COMP%]   .cloud-hosts[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]{margin-right:10px;width:32px;height:32px}main[_ngcontent-%COMP%]   .get-started[_ngcontent-%COMP%]   .manual-integration[_ngcontent-%COMP%]{overflow:hidden}main[_ngcontent-%COMP%]   .get-started[_ngcontent-%COMP%]   .manual-integration[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-top:20px;width:100%}main[_ngcontent-%COMP%]   .get-started[_ngcontent-%COMP%]   .manual-integration[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{cursor:pointer;margin-left:10px;margin-right:10px}main[_ngcontent-%COMP%]   .get-started[_ngcontent-%COMP%]   .manual-integration[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin-left:10px;margin-right:25px}main[_ngcontent-%COMP%]   .get-started[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{margin-top:40px}.dark-theme[_nghost-%COMP%]   main[_ngcontent-%COMP%]   .get-started[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   main[_ngcontent-%COMP%]   .get-started[_ngcontent-%COMP%]{--border-color: rgba(255, 255, 255, .6)}.light-theme[_nghost-%COMP%]   main[_ngcontent-%COMP%]   .get-started[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   main[_ngcontent-%COMP%]   .get-started[_ngcontent-%COMP%]{--border-color: rgba(0, 0, 0, .6)}"],data:{animation:[h("fadeIn1",[C(":enter",[p({opacity:0}),g("2s 0.5s",p({opacity:1}))])]),h("fadeIn2",[C(":enter",[p({opacity:0}),g("2s 1.5s",p({opacity:1}))])]),h("fadeIn3",[C(":enter",[p({"border-color":"transparent",opacity:0,width:"0px",height:"0px"}),T([g("0.5s 1.5s ease",p({"border-color":"var(--border-color)",opacity:1,height:"*"})),J([g("1s ease-in-out",p({width:"*"})),g("0.75s 0.25s ease-in",p({"border-color":"transparent"}))])])])]),h("fadeInInput",[C(":enter",[p({height:"0px",opacity:0}),T([g("0.3s 3s",p({height:"*"})),g("1s ease-in-out",p({opacity:1}))])])])]},changeDetection:0})}}return e})();var xt=[{path:"",component:ft}],_t=(()=>{class e{static{this.\u0275fac=function(c){return new(c||e)}}static{this.\u0275mod=y({type:e})}static{this.\u0275inj=x({imports:[B.forChild(xt),B]})}}return e})();var Qt=(()=>{class e{static{this.\u0275fac=function(c){return new(c||e)}}static{this.\u0275mod=y({type:e})}static{this.\u0275inj=x({imports:[rt,pt,gt,mt,_t]})}}return e})();export{Qt as StartLayoutModule};

"use strict";(self.webpackChunkgit_glint=self.webpackChunkgit_glint||[]).push([[72],{2771:(W,Z,o)=>{o.d(Z,{P:()=>I});var h=o(7579),n=o(9468),B=o(2722),f=o(4650);const I=e=>{class w extends e{ngAfterViewInit(){super.ngAfterViewInit&&super.ngAfterViewInit();const r=this.viewports.map(m=>{const M=new h.x,T=new ResizeObserver(()=>M.next());return M.pipe((0,n.p)(20,void 0,{leading:!0,trailing:!0}),(0,B.R)(this.destroyed$)).subscribe(()=>{m.checkViewportSize()}),T.observe(m.elementRef.nativeElement),T});this.destroyed$.subscribe(()=>{r.forEach(m=>m.disconnect())})}static{this.\u0275fac=function(){let r;return function(M){return(r||(r=f.n5z(w)))(M||w)}}()}static{this.\u0275prov=f.Yz7({token:w,factory:w.\u0275fac})}}return w}},9131:(W,Z,o)=>{o.d(Z,{j:()=>e});var h=o(1135),n=o(4650),B=o(6895),f=o(266);function I(w,p){if(1&w&&(n.TgZ(0,"div",3),n._uU(1),n.ALo(2,"async"),n.qZA()),2&w){const r=n.oxw();n.xp6(1),n.Oqu(n.lcZ(2,1,r.leftPath))}}class e{constructor(){this.leftPath=new h.X(""),this.rightPath=new h.X("")}onCopy(p){p.preventDefault();const r=document.getSelection();r&&p.clipboardData?.setData("text/plain",r.toString().replace("\n",""))}ngOnChanges(p){if(p.path){const r=/^(.*)(\/[^\/]+)$/.exec(p.path.currentValue);r?(this.leftPath.next(r[1]),this.rightPath.next(r[2])):(this.leftPath.next(""),this.rightPath.next(p.path.currentValue))}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=n.Xpm({type:e,selectors:[["app-condensed-path"]],hostBindings:function(r,m){1&r&&n.NdJ("copy",function(T){return m.onCopy(T)})},inputs:{path:"path"},features:[n.TTD],decls:6,vars:7,consts:[[1,"container",3,"matTooltip"],["class","left",4,"ngIf"],[1,"right"],[1,"left"]],template:function(r,m){1&r&&(n.TgZ(0,"div",0),n.YNc(1,I,3,3,"div",1),n.ALo(2,"async"),n.TgZ(3,"div",2),n._uU(4),n.ALo(5,"async"),n.qZA()()),2&r&&(n.Q6J("matTooltip",m.path||""),n.xp6(1),n.Q6J("ngIf",n.lcZ(2,3,m.leftPath)),n.xp6(3),n.Oqu(n.lcZ(5,5,m.rightPath)))},dependencies:[B.O5,f.gM,B.Ov],styles:[".container[_ngcontent-%COMP%]{display:flex}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.left[_ngcontent-%COMP%]{min-width:15px}.right[_ngcontent-%COMP%]{flex:1 0 auto;max-width:100%}.left[_ngcontent-%COMP%] + .right[_ngcontent-%COMP%]{max-width:calc(100% - 15px)}"],changeDetection:0})}}},3061:(W,Z,o)=>{o.d(Z,{T:()=>t});var h=o(4650),n=o(4006),B=o(801),f=o(9841),I=o(8372),e=o(9300),w=o(8675),p=o(2722),r=o(8926),m=o(9967),M=o(4462),T=o(6895),E=o(4859),v=o(9549),O=o(7392),L=o(284),k=o(266);const C=["findControlInput"];function d(i,g){if(1&i&&(h.TgZ(0,"mat-error"),h._uU(1),h.qZA()),2&i){const u=h.oxw();h.xp6(1),h.Oqu(u.findControl.getError("regex"))}}class t extends((0,r.j)(m.A)){constructor(){super(...arguments),this.initial=null,this.searched=new h.vpe,this.findControl=new n.NI("",{nonNullable:!0,validators:g=>{if(this.useRegularExpressionControl?.value)try{new RegExp(g.value,"g")}catch(u){return{regex:u.message}}return null}}),this.matchCaseControl=new n.NI(!1,{nonNullable:!0}),this.useRegularExpressionControl=new n.NI(!1,{nonNullable:!0})}hostKeyDown(g){(M.V?g.metaKey:g.ctrlKey)&&("f"===g.key||"F"===g.key)&&(g.preventDefault(),this.findControlInput.nativeElement.focus({preventScroll:!0}))}ngOnInit(){this.initial&&(this.findControl.setValue(this.initial.text),this.matchCaseControl.setValue(this.initial.matchCase),this.useRegularExpressionControl.setValue(this.initial.useRegularExpression)),(0,f.a)([this.findControl.valueChanges.pipe((0,I.b)(200),(0,e.h)(()=>this.findControl.valid),(0,w.O)(this.findControl.value)),this.matchCaseControl.valueChanges.pipe((0,w.O)(this.matchCaseControl.value)),this.useRegularExpressionControl.valueChanges.pipe((0,w.O)(this.useRegularExpressionControl.value))]).pipe((0,p.R)(this.destroyed$)).subscribe(([g,u,b])=>{if(this.findControl.updateValueAndValidity({emitEvent:!1}),g)try{const y=new RegExp(b?g:(0,B.Z)(g),u?"g":"ig");this.searched.next(y)}catch{}else this.searched.next(null)})}static{this.\u0275fac=function(){let g;return function(b){return(g||(g=h.n5z(t)))(b||t)}}()}static{this.\u0275cmp=h.Xpm({type:t,selectors:[["app-find-control"]],viewQuery:function(u,b){if(1&u&&h.Gf(C,5,h.SBq),2&u){let y;h.iGM(y=h.CRH())&&(b.findControlInput=y.first)}},hostBindings:function(u,b){1&u&&h.NdJ("keydown",function(F){return b.hostKeyDown(F)},!1,h.evT)},inputs:{initial:"initial"},outputs:{searched:"searched"},features:[h.qOj],decls:15,vars:6,consts:[[1,"find-control"],["matPrefix",""],["type","text","matInput","",3,"formControl"],["findControlInput",""],["type","button","matSuffix","","mat-button","","disableRipple","","matTooltip","Match case",3,"click"],["svgIcon","format-letter-case"],["type","button","matSuffix","","mat-button","","disableRipple","","matTooltip","Use regular expression",3,"click"],["svgIcon","regex"],["type","button","matSuffix","","mat-button","","matTooltip","Clear",3,"click"],[4,"ngIf"]],template:function(u,b){1&u&&(h.TgZ(0,"mat-form-field",0)(1,"mat-label"),h._uU(2,"Find"),h.qZA(),h.TgZ(3,"mat-icon",1),h._uU(4,"search"),h.qZA(),h._UZ(5,"input",2,3),h.TgZ(7,"button",4),h.NdJ("click",function(){return b.matchCaseControl.setValue(!b.matchCaseControl.value)}),h._UZ(8,"mat-icon",5),h.qZA(),h.TgZ(9,"button",6),h.NdJ("click",function(){return b.useRegularExpressionControl.setValue(!b.useRegularExpressionControl.value)}),h._UZ(10,"mat-icon",7),h.qZA(),h.TgZ(11,"button",8),h.NdJ("click",function(){return b.findControl.setValue("")}),h.TgZ(12,"mat-icon"),h._uU(13,"close"),h.qZA()(),h.YNc(14,d,2,1,"mat-error",9),h.qZA()),2&u&&(h.xp6(5),h.Q6J("formControl",b.findControl),h.xp6(2),h.ekj("selected",b.matchCaseControl.value),h.xp6(2),h.ekj("selected",b.useRegularExpressionControl.value),h.xp6(5),h.Q6J("ngIf",b.findControl.hasError("regex")))},dependencies:[T.O5,n.Fj,n.JJ,n.oH,E.lW,v.KE,v.hX,v.TO,v.qo,v.R9,O.Hw,L.Nt,k.gM],styles:[".find-control[_ngcontent-%COMP%]{min-width:200px;margin-top:5px}.find-control[_ngcontent-%COMP%]  .mat-mdc-form-field-icon-suffix{display:flex;align-items:center;gap:4px;margin-right:4px}.find-control[_ngcontent-%COMP%]  .mdc-notched-outline__leading, .find-control[_ngcontent-%COMP%]  .mdc-notched-outline__notch, .find-control[_ngcontent-%COMP%]  .mdc-notched-outline__trailing{border:none}.find-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:2px solid transparent;min-width:36px}.find-control[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{border-color:#37474f}.find-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:0;font-size:24px;width:24px;height:24px}"],changeDetection:0})}}},8523:(W,Z,o)=>{o.d(Z,{C:()=>p});var h=o(9635),n=o(457),B=o(2843),f=o(262),I=o(6590),e=o(3900),w=o(2035);const p=m=>(0,h.z)((0,f.K)(M=>(0,n.D)(m(void 0)).pipe((0,I.d)(void 0),(0,e.w)(()=>(0,B._)(()=>M)))),(0,w.h)(1),(0,I.d)(void 0),(0,e.w)(m))},127:(W,Z,o)=>{o.d(Z,{m:()=>f});var h=o(3779),n=o(4650),B=o(7016);class f{constructor(e){this.baseApi=e}getHighlightedFile(e,w,p,r){return this.baseApi.single(h.w.highlight.getHighlightedFile,e,w,p,r)}static{this.\u0275fac=function(w){return new(w||f)(n.LFG(B._))}}static{this.\u0275prov=n.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}}},2259:(W,Z,o)=>{o.d(Z,{A:()=>L});var h=o(9646),n=o(2843),B=o(262),f=o(3900),I=o(4004),e=o(2435),w=o(2120),p=o(8523),r=o(4889),m=o(6966),M=o(1129),T=o(4650),E=o(9867),v=o(3058),O=o(2037);class L{constructor(C,d,t){this.store=C,this.repositoriesApi=d,this.stashApi=t,this.discardAllChanges=i=>this.store.dispatch(new M.z0(i,{name:"Discard",detail:"All changes",do:g=>{const u=this.store.selectSnapshot(m.E.openRepositoryIds);return this.stashApi.saveWorkingCopyState(i).pipe((0,B.K)(()=>(g(),(0,h.of)(""))),(0,f.w)(b=>this.repositoriesApi.discardAllChanges(i).pipe((0,B.K)(y=>e.J9.matches(y)?(0,n._)(()=>new w.ZR(y.message)):(0,n._)(()=>y)),(0,p.C)(y=>{const F=y?.filter(A=>u.includes(A))??[];return this.store.dispatch([...F.map(A=>new r.Vu(A,[r.nh.currentBranch,r.nh.currentBranchCommitId,r.nh.headCommitId])),new r.Vu(i,[r.nh.unstagedChanges,r.nh.submodules])]).pipe((0,I.U)(()=>[F,b]))}))))},undo:([g,u])=>this.stashApi.restoreWorkingCopyState(i,u).pipe((0,p.C)(()=>this.store.dispatch([...g.map(b=>new r.Vu(b,[r.nh.currentBranch,r.nh.currentBranchCommitId,r.nh.headCommitId])),new r.Vu(i,[r.nh.unstagedChanges,r.nh.submodules])])))})),this.discardFiles=(i,g)=>this.store.dispatch(new M.z0(i,{name:"Discard",detail:g.map(u=>u.newFilePath??u.oldFilePath).join(", "),do:u=>{const b=this.store.selectSnapshot(m.E.openRepositoryIds);return this.stashApi.saveWorkingCopyState(i,g.map(y=>y.newFilePath??y.oldFilePath).filter(w.$K)).pipe((0,B.K)(()=>(u(),(0,h.of)(""))),(0,f.w)(y=>this.repositoriesApi.discardFiles(i,g).pipe((0,B.K)(F=>e.J9.matches(F)?(0,n._)(()=>new w.ZR(F.message)):(0,n._)(()=>F)),(0,p.C)(F=>{const A=F?.filter(N=>b.includes(N))??[];return this.store.dispatch([...A.map(N=>new r.Vu(N,[r.nh.currentBranch,r.nh.currentBranchCommitId,r.nh.headCommitId])),new r.Vu(i,[r.nh.unstagedChanges,r.nh.submodules])]).pipe((0,I.U)(()=>[A,y]))}))))},undo:([u,b])=>this.stashApi.restoreWorkingCopyState(i,b).pipe((0,p.C)(()=>this.store.dispatch([...u.map(y=>new r.Vu(y,[r.nh.currentBranch,r.nh.currentBranchCommitId,r.nh.headCommitId])),new r.Vu(i,[r.nh.unstagedChanges,r.nh.submodules])])))})),this.discardFileLines=(i,g,u,b)=>this.store.dispatch(new M.z0(i,{name:"Discard lines",detail:`In ${u??g}`,do:()=>this.repositoriesApi.discardFileLines(i,g,u,b).pipe((0,p.C)(()=>this.store.dispatch(new r.Vu(i,[r.nh.unstagedChanges,r.nh.submodules]))))})),this.stageAllChanges=i=>this.store.dispatch(new M.z0(i,{name:"Stage",detail:"All changes",do:()=>this.repositoriesApi.getUnstagedChanges(i).pipe((0,f.w)(g=>this.repositoriesApi.stageAllChanges(i).pipe((0,p.C)(()=>this.store.dispatch(new r.Vu(i,[r.nh.stagedChanges,r.nh.unstagedChanges,r.nh.submodules]))),(0,p.C)(()=>(0,h.of)(g))))),undo:g=>this.repositoriesApi.unstageFiles(i,g).pipe((0,p.C)(()=>this.store.dispatch(new r.Vu(i,[r.nh.stagedChanges,r.nh.unstagedChanges,r.nh.submodules]))))})),this.stageFiles=(i,g)=>this.store.dispatch(new M.z0(i,{name:"Stage",detail:g.map(u=>u.newFilePath??u.oldFilePath).join(", "),do:()=>this.repositoriesApi.stageFiles(i,g).pipe((0,p.C)(()=>this.store.dispatch(new r.Vu(i,[r.nh.stagedChanges,r.nh.unstagedChanges,r.nh.submodules])))),undo:()=>this.repositoriesApi.unstageFiles(i,g).pipe((0,p.C)(()=>this.store.dispatch(new r.Vu(i,[r.nh.stagedChanges,r.nh.unstagedChanges,r.nh.submodules]))))})),this.stageFileLines=(i,g,u,b)=>this.store.dispatch(new M.z0(i,{name:"Stage lines",detail:`In ${u??g}`,do:()=>this.repositoriesApi.stageFileLines(i,g,u,b).pipe((0,p.C)(()=>this.store.dispatch(new r.Vu(i,[r.nh.stagedChanges,r.nh.unstagedChanges,r.nh.submodules]))))})),this.unstageAllChanges=i=>this.store.dispatch(new M.z0(i,{name:"Unstage",detail:"All changes",do:()=>this.repositoriesApi.getStagedChanges(i).pipe((0,f.w)(g=>this.repositoriesApi.unstageAllChanges(i).pipe((0,p.C)(()=>this.store.dispatch(new r.Vu(i,[r.nh.stagedChanges,r.nh.unstagedChanges,r.nh.submodules]))),(0,p.C)(()=>(0,h.of)(g))))),undo:g=>this.repositoriesApi.stageFiles(i,g).pipe((0,p.C)(()=>this.store.dispatch(new r.Vu(i,[r.nh.stagedChanges,r.nh.unstagedChanges,r.nh.submodules]))))})),this.unstageFiles=(i,g)=>this.store.dispatch(new M.z0(i,{name:"Unstage",detail:g.map(u=>u.newFilePath??u.oldFilePath).join(", "),do:()=>this.repositoriesApi.unstageFiles(i,g).pipe((0,p.C)(()=>this.store.dispatch(new r.Vu(i,[r.nh.stagedChanges,r.nh.unstagedChanges,r.nh.submodules])))),undo:()=>this.repositoriesApi.stageFiles(i,g).pipe((0,p.C)(()=>this.store.dispatch(new r.Vu(i,[r.nh.stagedChanges,r.nh.unstagedChanges,r.nh.submodules]))))})),this.unstageFileLines=(i,g,u,b)=>this.store.dispatch(new M.z0(i,{name:"Unstage",detail:`In ${u??g}`,do:()=>this.repositoriesApi.unstageFileLines(i,g,u,b).pipe((0,p.C)(()=>this.store.dispatch(new r.Vu(i,[r.nh.stagedChanges,r.nh.unstagedChanges,r.nh.submodules]))))}))}static{this.\u0275fac=function(d){return new(d||L)(T.LFG(E.yh),T.LFG(v.a),T.LFG(O._))}}static{this.\u0275prov=T.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"})}}},5410:(W,Z,o)=>{o.d(Z,{s:()=>ge});var h=o(655),n=o(4650),B=o(9867),f=o(7717),I=o(1135),e=o(9841),w=o(4128),p=o(9646),r=o(2843),m=o(4004),M=o(1884),T=o(8505),E=o(3900),v=o(2722),O=o(5684),L=o(9300),k=o(262),C=o(5698),d=o(2435),t=o(8926),i=o(9967),g=o(6966),u=o(9578),b=o(9077),y=o(127),F=o(7205),A=o(2259);function N(R,j){if(1&R&&(n._UZ(0,"app-condensed-path",14),n.ALo(1,"async")),2&R){const _=n.oxw(2);n.Q6J("path",n.lcZ(1,1,_.filePath))}}function Q(R,j){if(1&R){const _=n.EpF();n.TgZ(0,"button",15),n.NdJ("click",function(){n.CHM(_);const S=n.oxw(2);return n.KtG(S.modifyLinesStage("stage"))}),n._UZ(1,"mat-icon",16),n.qZA()}}function z(R,j){if(1&R){const _=n.EpF();n.TgZ(0,"button",17),n.NdJ("click",function(){n.CHM(_);const S=n.oxw(2);return n.KtG(S.modifyLinesStage("discard"))}),n._UZ(1,"mat-icon",18),n.qZA()}}function X(R,j){if(1&R){const _=n.EpF();n.TgZ(0,"button",19),n.NdJ("click",function(){n.CHM(_);const S=n.oxw(2);return n.KtG(S.modifyLinesStage("unstage"))}),n._UZ(1,"mat-icon",20),n.qZA()}}function V(R,j){if(1&R){const _=n.EpF();n.TgZ(0,"button",21),n.NdJ("click",function(){n.CHM(_);const S=n.oxw(2);return n.KtG(S.edited.next())}),n.TgZ(1,"mat-icon"),n._uU(2,"edit"),n.qZA()()}}function q(R,j){if(1&R){const _=n.EpF();n.TgZ(0,"button",22),n.NdJ("click",function(){n.CHM(_);const S=n.oxw(2);return n.KtG(S.closed.next())}),n.TgZ(1,"mat-icon"),n._uU(2,"close"),n.qZA()()}}function ne(R,j){1&R&&(n.TgZ(0,"main"),n._uU(1,"Loading..."),n.qZA())}function ee(R,j){1&R&&(n.TgZ(0,"main"),n._uU(1,"Cannot load binary file."),n.qZA())}function te(R,j){1&R&&(n.TgZ(0,"main"),n._uU(1,"Cannot load file."),n.qZA())}function ae(R,j){if(1&R&&n._UZ(0,"app-hunk-view",24),2&R){const _=n.oxw(3);n.Q6J("diffLines",_.diffLines)("search",_.search$)}}function re(R,j){if(1&R&&n._UZ(0,"app-inline-view",24),2&R){const _=n.oxw(3);n.Q6J("diffLines",_.diffLines)("search",_.search$)}}function se(R,j){if(1&R&&n._UZ(0,"app-split-view",24),2&R){const _=n.oxw(3);n.Q6J("diffLines",_.diffLines)("search",_.search$)}}function le(R,j){if(1&R&&(n.TgZ(0,"main"),n.YNc(1,ae,1,2,"app-hunk-view",23),n.YNc(2,re,1,2,"app-inline-view",23),n.YNc(3,se,1,2,"app-split-view",23),n.qZA()),2&R){const _=n.oxw().ngIf;n.xp6(1),n.Q6J("ngIf","hunk"===_),n.xp6(1),n.Q6J("ngIf","inline"===_),n.xp6(1),n.Q6J("ngIf","split"===_)}}function de(R,j){if(1&R){const _=n.EpF();n.ynx(0),n.TgZ(1,"header")(2,"app-find-control",1),n.NdJ("searched",function(S){n.CHM(_);const K=n.oxw();return n.KtG(K.search$.next(S))}),n.qZA(),n.YNc(3,N,2,3,"app-condensed-path",2),n.ALo(4,"async"),n.ALo(5,"async"),n.TgZ(6,"div",3),n.YNc(7,Q,2,0,"button",4),n.ALo(8,"async"),n.YNc(9,z,2,0,"button",5),n.ALo(10,"async"),n.YNc(11,X,2,0,"button",6),n.ALo(12,"async"),n.TgZ(13,"mat-button-toggle-group",7),n.NdJ("change",function(S){n.CHM(_);const K=n.oxw();return n.KtG(K.changeView(S.value))}),n.TgZ(14,"mat-button-toggle",8)(15,"mat-icon"),n._uU(16,"calendar_view_day"),n.qZA()(),n.TgZ(17,"mat-button-toggle",9)(18,"mat-icon"),n._uU(19,"view_headline"),n.qZA()(),n.TgZ(20,"mat-button-toggle",10)(21,"mat-icon"),n._uU(22,"vertical_split"),n.qZA()()(),n.TgZ(23,"div",11),n.YNc(24,V,3,0,"button",12),n.YNc(25,q,3,0,"button",13),n.qZA()()(),n.YNc(26,ne,2,0,"main",0),n.ALo(27,"async"),n.YNc(28,ee,2,0,"main",0),n.ALo(29,"async"),n.YNc(30,te,2,0,"main",0),n.ALo(31,"async"),n.YNc(32,le,4,3,"main",0),n.ALo(33,"async"),n.BQk()}if(2&R){const _=j.ngIf,P=n.oxw();n.xp6(2),n.Q6J("initial",P.search),n.xp6(1),n.Q6J("ngIf",!(n.lcZ(4,12,P.showStage)||n.lcZ(5,14,P.showUnstage))),n.xp6(4),n.Q6J("ngIf",n.lcZ(8,16,P.showStage)),n.xp6(2),n.Q6J("ngIf",n.lcZ(10,18,P.showStage)),n.xp6(2),n.Q6J("ngIf",n.lcZ(12,20,P.showUnstage)),n.xp6(2),n.Q6J("value",_),n.xp6(11),n.Q6J("ngIf",P.showEdit),n.xp6(1),n.Q6J("ngIf",!P.hideClose),n.xp6(1),n.Q6J("ngIf","loading"===n.lcZ(27,22,P.currentView)),n.xp6(2),n.Q6J("ngIf","binary-file"===n.lcZ(29,24,P.currentView)),n.xp6(2),n.Q6J("ngIf","error"===n.lcZ(31,26,P.currentView)),n.xp6(2),n.Q6J("ngIf","normal"===n.lcZ(33,28,P.currentView))}}let ge=(()=>{class R extends((0,t.j)(i.A)){constructor(_,P,S,K){super(),this.store=_,this.highlightApi=P,this.diffSelectionService=S,this.stagingActionsService=K,this.hideClose=!1,this.showEdit=!1,this.search=null,this.closed=new n.vpe,this.edited=new n.vpe,this.currentView=new I.X("loading"),this.diffLines=new I.X(null),this.search$=new I.X(null)}ngOnInit(){this.showStage=(0,e.a)([this.patch,this.selectedCommitId,this.diffSelectionService.selectedFileLines]).pipe((0,m.U)(([_,P,S])=>"head"===P&&!0===_?.isUnstaged&&!_.patch.newFileIsSubmodule&&!_.patch.oldFileIsSubmodule&&S.length>0)),this.showUnstage=(0,e.a)([this.patch,this.selectedCommitId,this.diffSelectionService.selectedFileLines]).pipe((0,m.U)(([_,P,S])=>"head"===P&&!1===_?.isUnstaged&&!_.patch.newFileIsSubmodule&&!_.patch.oldFileIsSubmodule&&S.length>0)),this.filePath=this.patch.pipe((0,m.U)(_=>_?.patch.newFilePath??_?.patch.oldFilePath??"")),this.patch.pipe((0,M.x)((_,P)=>_&&P?!(_.repositoryPath!==P.repositoryPath||_.isUnstaged!==P.isUnstaged||_.patch.newFileId!==P.patch.newFileId||_.patch.newFileIsDir!==P.patch.newFileIsDir||_.patch.newFileIsSubmodule!==P.patch.newFileIsSubmodule||_.patch.newFilePath!==P.patch.newFilePath||_.patch.oldFileId!==P.patch.oldFileId||_.patch.oldFileIsDir!==P.patch.oldFileIsDir||_.patch.oldFileIsSubmodule!==P.patch.oldFileIsSubmodule||_.patch.oldFilePath!==P.patch.oldFilePath||_.patch.status!==P.patch.status||_.patch.hunks.length!==P.patch.hunks.length||(0,f.Z)(_.patch.hunks,P.patch.hunks).some(([S,K])=>S?.lines.length!==K?.lines.length||S?.newStart!==K?.newStart||S?.oldStart!==K?.oldStart||S?.header!==K?.header||S&&K&&(0,f.Z)(S.lines,K.lines).some(([J,H])=>J?.content.length!==H?.content.length||J?.contentOffset!==H?.contentOffset||J?.newLineNo!==H?.newLineNo||J?.oldLineNo!==H?.oldLineNo||J?.origin!==H?.origin||J?.content!==H?.content))):!_&&!P),(0,T.b)(()=>{this.currentView.next("loading")}),(0,E.w)(_=>_?(0,w.D)(this.getLines(_,!1)).pipe((0,v.R)(this.currentView.pipe((0,O.T)(1),(0,L.h)(P=>"loading"===P))),(0,v.R)(this.destroyed$),(0,m.U)(([P,S])=>[_,P,S]),(0,k.K)(P=>d.OZ.matches(P)?(this.currentView.next("binary-file"),(0,p.of)(null)):d.hK.matches(P)?(this.currentView.next("error"),(0,p.of)(null)):(0,r._)(()=>P))):(0,p.of)(null)),(0,T.b)(_=>{if(_){const[P,S,K]=_;this.diffLines.next({hunks:P.patch.hunks,oldLines:S,newLines:K,oldFilePath:P.patch.oldFilePath,newFilePath:P.patch.newFilePath,highlighted:!1}),this.currentView.next("normal")}else this.diffLines.next(null)}),(0,E.w)(_=>_?.[0]?(0,w.D)(this.getLines(_?.[0],!0)).pipe((0,v.R)(this.currentView.pipe((0,O.T)(1),(0,L.h)(P=>"loading"===P))),(0,v.R)(this.destroyed$),(0,m.U)(([P,S])=>[_?.[0],P,S]),(0,k.K)(P=>d.OZ.matches(P)?(this.currentView.next("binary-file"),(0,p.of)(null)):d.hK.matches(P)?(this.currentView.next("error"),(0,p.of)(null)):(0,r._)(()=>P))):(0,p.of)(null)),(0,v.R)(this.destroyed$)).subscribe(_=>{if(_){const[P,S,K]=_;this.diffLines.next({hunks:P.patch.hunks,oldLines:S,newLines:K,oldFilePath:P.patch.oldFilePath,newFilePath:P.patch.newFilePath,highlighted:!0}),this.currentView.next("normal")}else this.diffLines.next(null)})}changeView(_){this.store.dispatch(new u.zb(_))}modifyLinesStage(_){const P=this.store.selectSnapshot(g.E.selectedRepositoryPath);if(!P)throw new Error(`Cannot ${_} file lines when no repository is selected`);this.patch.pipe((0,C.q)(1)).subscribe(S=>{if(!S||!S.patch.oldFilePath)return;const K=[P,S.patch.oldFileId?S.patch.oldFilePath:null,S.patch.newFileId?S.patch.newFilePath:null,this.diffSelectionService.selectedFileLines.value];switch(_){case"discard":this.stagingActionsService.discardFileLines(...K).subscribe();break;case"stage":this.stagingActionsService.stageFileLines(...K).subscribe();break;default:this.stagingActionsService.unstageFileLines(...K).subscribe()}})}getLines(_,P){if(_.patch.oldFileIsSubmodule||_.patch.newFileIsSubmodule){if(_.patch.hunks.length<=0)return[(0,p.of)([]),(0,p.of)([])];const S=_.patch.hunks[0].lines.find(J=>J.oldLineNo>0),K=_.patch.hunks[0].lines.find(J=>J.newLineNo>0);return[(0,p.of)([{lineNumber:1,text:S?.content??"",tokens:[{startIndex:0,endIndex:S?.content.length??0,scopes:["normal"]}]}]),(0,p.of)([{lineNumber:1,text:K?.content??"",tokens:[{startIndex:0,endIndex:K?.content.length??0,scopes:["normal"]}]}])]}return[_.patch.oldFileId?this.highlightApi.getHighlightedFile(_.repositoryPath,_.patch.oldFileId,_.patch.oldFilePath,P):(0,p.of)([]),_.isUnstaged?this.highlightApi.getHighlightedFile(_.repositoryPath,null,_.patch.newFilePath,P):_.patch.newFileId?this.highlightApi.getHighlightedFile(_.repositoryPath,_.patch.newFileId,_.patch.newFilePath,P):(0,p.of)([])]}static{this.\u0275fac=function(P){return new(P||R)(n.Y36(B.yh),n.Y36(y.m),n.Y36(F.Q),n.Y36(A.A))}}static{this.\u0275cmp=n.Xpm({type:R,selectors:[["app-diff-view"]],inputs:{patch:"patch",hideClose:"hideClose",showEdit:"showEdit",search:"search"},outputs:{closed:"closed",edited:"edited"},features:[n.qOj],decls:2,vars:3,consts:[[4,"ngIf"],[3,"initial","searched"],[3,"path",4,"ngIf"],[1,"right"],["type","button","class","stage-button","mat-stroked-button","","matTooltip","Stage selected lines",3,"click",4,"ngIf"],["type","button","class","discard-button","mat-stroked-button","","color","warn","matTooltip","Discard selected lines",3,"click",4,"ngIf"],["type","button","class","unstage-button","mat-stroked-button","","matTooltip","Unstage selected lines",3,"click",4,"ngIf"],[3,"value","change"],["value","hunk","matTooltip","Hunk View"],["value","inline","matTooltip","Inline View"],["value","split","matTooltip","Split View"],[1,"close-container"],["type","button","mat-icon-button","","class","edit-button app-icon-button-md",3,"click",4,"ngIf"],["type","button","mat-icon-button","","class","close-button app-icon-button-md",3,"click",4,"ngIf"],[3,"path"],["type","button","mat-stroked-button","","matTooltip","Stage selected lines",1,"stage-button",3,"click"],["svgIcon","tray-plus"],["type","button","mat-stroked-button","","color","warn","matTooltip","Discard selected lines",1,"discard-button",3,"click"],["svgIcon","tray-remove"],["type","button","mat-stroked-button","","matTooltip","Unstage selected lines",1,"unstage-button",3,"click"],["svgIcon","tray-minus"],["type","button","mat-icon-button","",1,"edit-button","app-icon-button-md",3,"click"],["type","button","mat-icon-button","",1,"close-button","app-icon-button-md",3,"click"],[3,"diffLines","search",4,"ngIf"],[3,"diffLines","search"]],template:function(P,S){1&P&&(n.YNc(0,de,34,30,"ng-container",0),n.ALo(1,"async")),2&P&&n.Q6J("ngIf",n.lcZ(1,1,S.view))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%;background:#1e1e1e;position:absolute}header[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:baseline;justify-content:space-between;margin-bottom:5px;outline:none;overflow-x:auto;overflow-y:hidden}header[_ngcontent-%COMP%]::-webkit-scrollbar{height:4px}header[_ngcontent-%COMP%]   app-condensed-path[_ngcontent-%COMP%]{min-width:150px}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;gap:5px}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .stage-button[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .discard-button[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .unstage-button[_ngcontent-%COMP%]{height:40px}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .stage-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .discard-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .unstage-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:0;font-size:24px;width:24px;height:24px}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]{height:40px}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]{font-size:0}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]     .mat-button-toggle-label-content{line-height:38px;padding:0 6px}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .close-container[_ngcontent-%COMP%]{display:flex;align-items:center;align-self:baseline;overflow:hidden;height:40px}main[_ngcontent-%COMP%]{flex:1 0 auto;outline:none;overflow-x:auto;overflow-y:auto}"],changeDetection:0})}}return(0,h.gn)([(0,B.Ph)(g.E.selectedCommitId)],R.prototype,"selectedCommitId",void 0),(0,h.gn)([(0,B.Ph)(b.$.diffView)],R.prototype,"view",void 0),R})()},7072:(W,Z,o)=>{o.d(Z,{m:()=>ce});var h=o(811),n=o(284),B=o(3179),f=o(5410),I=o(4883),e=o(4650),w=o(1134),p=o(2382),r=o(9940);var T=o(1256),E=o(8344),v=o(5601);const L=function O(x){var s=(0,v.Z)(x),c=s%1;return s==s?c?s-c:s:0},C=function k(x,s,c){var a=null==x?0:x.length;return a?(s=c||void 0===s?1:L(s),(0,E.Z)(x,0,(s=a-s)<0?0:s)):[]},t=function d(x,s,c){var a=null==x?0:x.length;return a?(s=c||void 0===s?1:L(s),(0,E.Z)(x,(s=a-s)<0?0:s,a)):[]};var i=o(1135),g=o(4004),u=o(8675),b=o(1520),y=o(4326),F=o(2722),A=o(8926),N=o(9967),Q=o(2771),z=o(315),X=o(7205),V=o(6895),q=o(4859),ne=o(7392),ee=o(1899),te=o(1453);const ae=["scrollContainer"],re=["code"];function se(x,s){if(1&x&&e._UZ(0,"span",9),2&x){const c=s.ngIf;e.Udp("left",c.left)("width",c.width)}}function le(x,s){if(1&x){const c=e.EpF();e.ynx(0),e.TgZ(1,"button",10),e.NdJ("click",function(){e.CHM(c);const l=e.oxw().$implicit,D=e.oxw();return e.KtG(D.expandSeparator(l))}),e.TgZ(2,"mat-icon",11),e._uU(3),e.qZA()(),e.TgZ(4,"span",12),e._uU(5),e.qZA(),e.BQk()}if(2&x){const c=e.oxw(),a=c.first,l=c.last,D=c.$implicit,U=e.oxw();e.xp6(1),e.Udp("width",U.lineNumberMargin+26,"px"),e.xp6(2),e.Oqu(a?"expand_less":l?"expand_more":"unfold_more"),e.xp6(2),e.Oqu(D.separatorHeader)}}function de(x,s){if(1&x&&(e.TgZ(0,"span",17),e._uU(1),e.qZA()),2&x){const c=s.$implicit;e.Q6J("ngClass",c.class),e.xp6(1),e.Oqu(c.text)}}function ge(x,s){if(1&x&&(e.ynx(0),e.YNc(1,de,2,2,"span",16),e.ALo(2,"tokens"),e.ALo(3,"searchToken"),e.ALo(4,"async"),e.BQk()),2&x){const c=s.ngIf,a=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,e.Dn7(3,4,c.tokens,c.text,e.lcZ(4,8,a.search)),c.text))}}function R(x,s){if(1&x&&(e.TgZ(0,"span",13),e._uU(1),e.qZA(),e.TgZ(2,"span",14),e._uU(3),e.qZA(),e.YNc(4,ge,5,10,"ng-container",15)),2&x){const c=e.oxw().$implicit,a=e.oxw();e.Udp("right","calc(100% + 26px + "+(a.lineNumberMargin/2).toString()+"px)")("width",a.lineNumberMargin/2-5,"px"),e.xp6(1),e.Oqu(null==c.diffLine.oldLine?null:c.diffLine.oldLine.lineNumber),e.xp6(1),e.Udp("width",a.lineNumberMargin/2-5,"px"),e.xp6(1),e.Oqu(null==c.diffLine.newLine?null:c.diffLine.newLine.lineNumber),e.xp6(1),e.Q6J("ngIf",a.getLineView(c.diffLine))}}function j(x,s){if(1&x&&(e.TgZ(0,"li",5),e.YNc(1,se,1,4,"span",6),e.ALo(2,"async"),e.YNc(3,le,6,4,"ng-container",7),e.YNc(4,R,5,9,"ng-template",null,8,e.W1O),e.qZA()),2&x){const c=s.$implicit,a=s.index,l=e.MAs(5),D=e.oxw();e.Q6J("ngClass","line-"+(c.isSeparator?"separator":c.diffLine.status)),e.xp6(1),e.Q6J("ngIf",e.lcZ(2,4,D.getSelection(a))),e.xp6(2),e.Q6J("ngIf",c.isSeparator)("ngIfElse",l)}}class _ extends((0,A.j)(N.A,Q.P)){constructor(s,c){super(),this.diffService=s,this.diffSelectionService=c,this.lineNumberMargin=0,this.lines$=new i.X([]),this.currentPatch=null,this.getSelection=a=>this.diffSelectionService.selectedRange.pipe((0,g.U)(l=>{if(!l)return null;const[D,U]=l[0].line>l[1].line||l[0].line===l[1].line&&l[0].char>l[1].char?[l[1],l[0]]:l;return a<D.line||a>U.line?null:a===D.line?{left:D.char*this.diffSelectionService.charWidth+"px",width:D.line===U.line?(U.char-D.char)*this.diffSelectionService.charWidth+"px":"100%"}:a===U.line?{left:"0px",width:U.char*this.diffSelectionService.charWidth+"px"}:{left:"0px",width:"100%"}}))}ngOnInit(){this.diffLines.pipe((0,u.O)(null),(0,b.G)(),(0,y.g)(0),(0,F.R)(this.destroyed$)).subscribe(([c,a])=>{const l=this.currentPatch?{...this.currentPatch}:null;if(a){this.currentPatch={newFilePath:a.newFilePath,oldFilePath:a.oldFilePath};const D=function m(x){return x&&x.length?(0,w.Z)(x,r.Z,p.Z):void 0}([a.oldLines.length,a.newLines.length])??0;this.lineNumberMargin=this.diffService.calculateMargin(D.toString().length),this.diffService.calculateHunkLines(a.oldLines,a.newLines,a.hunks).pipe((0,F.R)(this.destroyed$)).subscribe(U=>{c&&c.newFilePath===a.newFilePath&&c.oldFilePath===a.oldFilePath&&!c.highlighted&&a.highlighted?this.updateLines(U):this.lines$.next(U),(!l||l.oldFilePath!==this.currentPatch?.oldFilePath||l.newFilePath!==this.currentPatch?.newFilePath)&&this.scrollContainer.elementRef?.nativeElement?.scrollTo(0,0)})}else this.currentPatch=null,this.lineNumberMargin=0,this.lines$.next([]),l&&this.scrollContainer.elementRef?.nativeElement?.scrollTo(0,0)});const s=this.scrollContainer.elementRef.nativeElement;this.diffSelectionService.captureSelections(this.codeElement.nativeElement,(c,a)=>({line:Math.floor((s.scrollTop+a-s.getBoundingClientRect().top)/19),char:Math.max(0,Math.round((s.scrollLeft+c-s.getBoundingClientRect().left-(this.lineNumberMargin+26))/this.diffSelectionService.charWidth))}),(c,a)=>this.lines$.value.filter((l,D)=>D>=c&&D<=a).map(l=>l.isSeparator?l.separatorHeader??void 0:this.getLineView(l.diffLine)?.text),()=>{const c=this.lines$.value,a=c[c.length-1];return{line:c.length-1,char:(a.isSeparator?a.separatorHeader:this.getLineView(a.diffLine)?.text)?.length??0}},([c,a])=>(0,T.Z)(c.line,a.line+1).flatMap(l=>{const D=this.lines$.value[l];return!D||D.isSeparator?[]:[{oldLineNo:D.diffLine.oldLine?.lineNumber??-1,newLineNo:D.diffLine.newLine?.lineNumber??-1}]})).pipe((0,F.R)(this.destroyed$)).subscribe()}expandSeparator(s){const a=this.lines$.value;this.lines$.next(a.flatMap((l,D)=>{if(l!==s)return l;if(s.hiddenDiffLines.length<=25)return s.hiddenDiffLines.map(G=>({isSeparator:!1,diffLine:G}));if(0===D)return[{isSeparator:!0,separatorHeader:s.separatorHeader,hiddenDiffLines:C(s.hiddenDiffLines,20)},...t(s.hiddenDiffLines,20).map(G=>({isSeparator:!1,diffLine:G}))];if(D===a.length-1)return[...s.hiddenDiffLines.slice(0,20).map(G=>({isSeparator:!1,diffLine:G})),{isSeparator:!0,separatorHeader:null,hiddenDiffLines:s.hiddenDiffLines.slice(20)}];const U=s.hiddenDiffLines.slice(0,10),$=C(s.hiddenDiffLines.slice(10),10),Y=t(s.hiddenDiffLines,10);return[...U.map(G=>({isSeparator:!1,diffLine:G})),{isSeparator:!0,separatorHeader:s.separatorHeader,hiddenDiffLines:$},...Y.map(G=>({isSeparator:!1,diffLine:G}))]}))}getLineView(s){return"added"===s.status?s.newLine:"removed"===s.status?s.oldLine:"unchanged"===s.status?s.newLine??s.oldLine:null}trackByHunkLine(s,c){return c.isSeparator?c.separatorHeader:`${c.diffLine.oldLine?.text}:::${c.diffLine.newLine?.text}`}updateLines(s){const c=this.lines$.value;let a=0,l=0;const D=[];for(;l<s.length;){const U=c[a],$=s[l];if($.isSeparator){if(U.isSeparator){if(U.hiddenDiffLines.length===$.hiddenDiffLines.length){D.push($),a++,l++;continue}D.push({isSeparator:!0,separatorHeader:$.separatorHeader,hiddenDiffLines:$.hiddenDiffLines.slice(0,U.hiddenDiffLines.length)}),$.hiddenDiffLines=$.hiddenDiffLines.slice(U.hiddenDiffLines.length),a++;continue}if(0===$.hiddenDiffLines.length){l++;continue}D.push({isSeparator:!1,diffLine:$.hiddenDiffLines[0]}),$.hiddenDiffLines=$.hiddenDiffLines.slice(1),a++}else{if(c[a].isSeparator)throw new Error("Problem when updating hunk diff lines");D.push($),a++,l++}}this.lines$.next(D)}static{this.\u0275fac=function(c){return new(c||_)(e.Y36(z.S),e.Y36(X.Q))}}static{this.\u0275cmp=e.Xpm({type:_,selectors:[["app-hunk-view"]],viewQuery:function(c,a){if(1&c&&(e.Gf(ae,7),e.Gf(re,7,e.SBq),e.Gf(I.N7,5)),2&c){let l;e.iGM(l=e.CRH())&&(a.scrollContainer=l.first),e.iGM(l=e.CRH())&&(a.codeElement=l.first),e.iGM(l=e.CRH())&&(a.viewports=l)}},inputs:{diffLines:"diffLines",search:"search"},features:[e.qOj],decls:7,vars:9,consts:[[1,"viewport",3,"itemSize","maxBufferPx","minBufferPx"],["scrollContainer",""],["tabindex","0"],["code",""],["class","line",3,"ngClass",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"line",3,"ngClass"],["class","selection",3,"left","width",4,"ngIf"],[4,"ngIf","ngIfElse"],["diffLineContent",""],[1,"selection"],["mat-button","",1,"separator-icon",3,"click"],["inline",""],[1,"separator-header"],[1,"old-line-number"],[1,"new-line-number"],[4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(c,a){1&c&&(e.TgZ(0,"cdk-virtual-scroll-viewport",0,1)(2,"code",2,3)(4,"ul"),e.YNc(5,j,6,6,"li",4),e.ALo(6,"async"),e.qZA()()()),2&c&&(e.Q6J("itemSize",19)("maxBufferPx",1e3)("minBufferPx",200),e.xp6(4),e.Udp("margin-left",a.lineNumberMargin+26,"px"),e.xp6(1),e.Q6J("cdkVirtualForOf",e.lcZ(6,7,a.lines$))("cdkVirtualForTrackBy",a.trackByHunkLine))},dependencies:[I.xd,I.x0,I.N7,V.mk,V.sg,V.O5,q.lW,ne.Hw,V.Ov,ee.y,te.U],styles:['code[_ngcontent-%COMP%]{display:block;white-space:pre;user-select:none;cursor:text;outline:none;color:#d4d4d4;font-family:Monaco,Menlo,Consolas,Droid Sans Mono,Inconsolata,Courier New,monospace;font-size:14px;font-weight:400;letter-spacing:0px;line-height:19px}code[_ngcontent-%COMP%]     .line{height:19px}code[_ngcontent-%COMP%]     .line.line-added{background:#1f2c19}code[_ngcontent-%COMP%]     .line.line-removed{background:#501515}code[_ngcontent-%COMP%]     .line.line-void{background:#111}code[_ngcontent-%COMP%]     .diff-added{background-color:#1d572c}code[_ngcontent-%COMP%]     .diff-removed{background-color:#803030}code[_ngcontent-%COMP%]     .search-result{background-color:#a14e1b}code[_ngcontent-%COMP%]     .meta-embedded, code[_ngcontent-%COMP%]     .source-groovy-embedded{color:#d4d4d4}code[_ngcontent-%COMP%]     .emphasis{font-style:italic}code[_ngcontent-%COMP%]     .strong{font-weight:700}code[_ngcontent-%COMP%]     .header{color:navy}code[_ngcontent-%COMP%]     .comment{color:#6a9955}code[_ngcontent-%COMP%]     .constant-language{color:#569cd6}code[_ngcontent-%COMP%]     .constant-numeric, code[_ngcontent-%COMP%]     .entity-name-operator-custom-literal-number, code[_ngcontent-%COMP%]     .variable-other-enummember, code[_ngcontent-%COMP%]     .keyword-operator-plus-exponent, code[_ngcontent-%COMP%]     .keyword-operator-minus-exponent{color:#b5cea8}code[_ngcontent-%COMP%]     .constant-regexp{color:#646695}code[_ngcontent-%COMP%]     .entity-name-tag{color:#569cd6}code[_ngcontent-%COMP%]     .entity-name-tag-css{color:#d7ba7d}code[_ngcontent-%COMP%]     .entity-other-attribute-name{color:#9cdcfe}code[_ngcontent-%COMP%]     .entity-other-attribute-name-class-css, code[_ngcontent-%COMP%]     .entity-other-attribute-name-class-mixin-css, code[_ngcontent-%COMP%]     .entity-other-attribute-name-id-css, code[_ngcontent-%COMP%]     .entity-other-attribute-name-parent-selector-css, code[_ngcontent-%COMP%]     .entity-other-attribute-name-pseudo-class-css, code[_ngcontent-%COMP%]     .entity-other-attribute-name-pseudo-element-css, code[_ngcontent-%COMP%]     .source-css-less .entity-other-attribute-name-id, code[_ngcontent-%COMP%]     .entity-other-attribute-name-attribute-scss, code[_ngcontent-%COMP%]     .entity-other-attribute-name-scss{color:#d7ba7d}code[_ngcontent-%COMP%]     .invalid{color:#f44747}code[_ngcontent-%COMP%]     .markup-underline{text-decoration:underline}code[_ngcontent-%COMP%]     .markup-bold{font-weight:700;color:#569cd6}code[_ngcontent-%COMP%]     .markup-heading{font-weight:700;color:#569cd6}code[_ngcontent-%COMP%]     .markup-italic{font-style:italic}code[_ngcontent-%COMP%]     .markup-inserted{color:#b5cea8}code[_ngcontent-%COMP%]     .markup-deleted{color:#ce9178}code[_ngcontent-%COMP%]     .markup-changed{color:#569cd6}code[_ngcontent-%COMP%]     .punctuation-definition-quote-begin-markdown{color:#6a9955}code[_ngcontent-%COMP%]     .punctuation-definition-list-begin-markdown{color:#6796e6}code[_ngcontent-%COMP%]     .markup-inline-raw{color:#ce9178}code[_ngcontent-%COMP%]     .punctuation-definition-tag{color:gray}code[_ngcontent-%COMP%]     .meta-preprocessor{color:#569cd6}code[_ngcontent-%COMP%]     .meta-preprocessor-string{color:#ce9178}code[_ngcontent-%COMP%]     .meta-preprocessor-numeric{color:#b5cea8}code[_ngcontent-%COMP%]     .meta-structure-dictionary-key-python{color:#9cdcfe}code[_ngcontent-%COMP%]     .meta-diff-header{color:#569cd6}code[_ngcontent-%COMP%]     .storage{color:#569cd6}code[_ngcontent-%COMP%]     .storage-type{color:#569cd6}code[_ngcontent-%COMP%]     .storage-modifier, code[_ngcontent-%COMP%]     .keyword-operator-noexcept{color:#569cd6}code[_ngcontent-%COMP%]     .string, code[_ngcontent-%COMP%]     .entity-name-operator-custom-literal-string{color:#ce9178}code[_ngcontent-%COMP%]     .string-tag{color:#ce9178}code[_ngcontent-%COMP%]     .string-value{color:#ce9178}code[_ngcontent-%COMP%]     .string-regexp{color:#d16969}code[_ngcontent-%COMP%]     .punctuation-definition-template-expression-begin, code[_ngcontent-%COMP%]     .punctuation-definition-template-expression-end, code[_ngcontent-%COMP%]     .punctuation-section-embedded{color:#569cd6}code[_ngcontent-%COMP%]     .meta-template-expression{color:#d4d4d4}code[_ngcontent-%COMP%]     .support-type-vendored-property-name, code[_ngcontent-%COMP%]     .support-type-property-name, code[_ngcontent-%COMP%]     .variable-css, code[_ngcontent-%COMP%]     .variable-scss, code[_ngcontent-%COMP%]     .variable-other-less, code[_ngcontent-%COMP%]     .source-coffee-embedded{color:#9cdcfe}code[_ngcontent-%COMP%]     .keyword{color:#569cd6}code[_ngcontent-%COMP%]     .keyword-control{color:#569cd6}code[_ngcontent-%COMP%]     .keyword-operator{color:#d4d4d4}code[_ngcontent-%COMP%]     .keyword-operator-new, code[_ngcontent-%COMP%]     .keyword-operator-expression, code[_ngcontent-%COMP%]     .keyword-operator-cast, code[_ngcontent-%COMP%]     .keyword-operator-sizeof, code[_ngcontent-%COMP%]     .keyword-operator-typeid, code[_ngcontent-%COMP%]     .keyword-operator-alignas, code[_ngcontent-%COMP%]     .keyword-operator-instanceof, code[_ngcontent-%COMP%]     .keyword-operator-logical-python, code[_ngcontent-%COMP%]     .keyword-operator-wordlike{color:#569cd6}code[_ngcontent-%COMP%]     .keyword-other-unit{color:#b5cea8}code[_ngcontent-%COMP%]     .punctuation-section-embedded-begin-php, code[_ngcontent-%COMP%]     .punctuation-section-embedded-end-php{color:#569cd6}code[_ngcontent-%COMP%]     .support-function-git-rebase{color:#9cdcfe}code[_ngcontent-%COMP%]     .constant-sha-git-rebase{color:#b5cea8}code[_ngcontent-%COMP%]     .storage-modifier-import-java, code[_ngcontent-%COMP%]     .variable-language-wildcard-java, code[_ngcontent-%COMP%]     .storage-modifier-package-java{color:#d4d4d4}code[_ngcontent-%COMP%]     .variable-language{color:#569cd6}code[_ngcontent-%COMP%]     .entity-name-function, code[_ngcontent-%COMP%]     .support-function, code[_ngcontent-%COMP%]     .support-constant-handlebars, code[_ngcontent-%COMP%]     .source-powershell .variable-other-member{color:#dcdcaa}code[_ngcontent-%COMP%]     .meta-return-type, code[_ngcontent-%COMP%]     .support-class, code[_ngcontent-%COMP%]     .support-type, code[_ngcontent-%COMP%]     .entity-name-type, code[_ngcontent-%COMP%]     .entity-name-namespace, code[_ngcontent-%COMP%]     .entity-other-attribute, code[_ngcontent-%COMP%]     .entity-name-scope-resolution, code[_ngcontent-%COMP%]     .entity-name-class, code[_ngcontent-%COMP%]     .storage-type-numeric-go, code[_ngcontent-%COMP%]     .storage-type-byte-go, code[_ngcontent-%COMP%]     .storage-type-boolean-go, code[_ngcontent-%COMP%]     .storage-type-string-go, code[_ngcontent-%COMP%]     .storage-type-uintptr-go, code[_ngcontent-%COMP%]     .storage-type-error-go, code[_ngcontent-%COMP%]     .storage-type-rune-go, code[_ngcontent-%COMP%]     .storage-type-cs, code[_ngcontent-%COMP%]     .storage-type-generic-cs, code[_ngcontent-%COMP%]     .storage-type-modifier-cs, code[_ngcontent-%COMP%]     .storage-type-variable-cs, code[_ngcontent-%COMP%]     .storage-type-annotation-java, code[_ngcontent-%COMP%]     .storage-type-generic-java, code[_ngcontent-%COMP%]     .storage-type-java, code[_ngcontent-%COMP%]     .storage-type-object-array-java, code[_ngcontent-%COMP%]     .storage-type-primitive-array-java, code[_ngcontent-%COMP%]     .storage-type-primitive-java, code[_ngcontent-%COMP%]     .storage-type-token-java, code[_ngcontent-%COMP%]     .storage-type-groovy, code[_ngcontent-%COMP%]     .storage-type-annotation-groovy, code[_ngcontent-%COMP%]     .storage-type-parameters-groovy, code[_ngcontent-%COMP%]     .storage-type-generic-groovy, code[_ngcontent-%COMP%]     .storage-type-object-array-groovy, code[_ngcontent-%COMP%]     .storage-type-primitive-array-groovy, code[_ngcontent-%COMP%]     .storage-type-primitive-groovy{color:#4ec9b0}code[_ngcontent-%COMP%]     .meta-type-cast-expr, code[_ngcontent-%COMP%]     .meta-type-new-expr, code[_ngcontent-%COMP%]     .support-constant-math, code[_ngcontent-%COMP%]     .support-constant-dom, code[_ngcontent-%COMP%]     .support-constant-json, code[_ngcontent-%COMP%]     .entity-other-inherited-class{color:#4ec9b0}code[_ngcontent-%COMP%]     .keyword-control, code[_ngcontent-%COMP%]     .source-cpp .keyword-operator-new, code[_ngcontent-%COMP%]     .keyword-operator-delete, code[_ngcontent-%COMP%]     .keyword-other-using, code[_ngcontent-%COMP%]     .keyword-other-operator, code[_ngcontent-%COMP%]     .entity-name-operator{color:#c586c0}code[_ngcontent-%COMP%]     .variable, code[_ngcontent-%COMP%]     .meta-definition-variable-name, code[_ngcontent-%COMP%]     .support-variable, code[_ngcontent-%COMP%]     .entity-name-variable{color:#9cdcfe}code[_ngcontent-%COMP%]     .meta-object-literal-key{color:#9cdcfe}code[_ngcontent-%COMP%]     .support-constant-property-value, code[_ngcontent-%COMP%]     .support-constant-font-name, code[_ngcontent-%COMP%]     .support-constant-media-type, code[_ngcontent-%COMP%]     .support-constant-media, code[_ngcontent-%COMP%]     .constant-other-color-rgb-value, code[_ngcontent-%COMP%]     .constant-other-rgb-value, code[_ngcontent-%COMP%]     .support-constant-color{color:#ce9178}code[_ngcontent-%COMP%]     .punctuation-definition-group-regexp, code[_ngcontent-%COMP%]     .punctuation-definition-group-assertion-regexp, code[_ngcontent-%COMP%]     .punctuation-definition-character-class-regexp, code[_ngcontent-%COMP%]     .punctuation-character-set-begin-regexp, code[_ngcontent-%COMP%]     .punctuation-character-set-end-regexp, code[_ngcontent-%COMP%]     .keyword-operator-negation-regexp, code[_ngcontent-%COMP%]     .support-other-parenthesis-regexp{color:#ce9178}code[_ngcontent-%COMP%]     .constant-character-character-class-regexp, code[_ngcontent-%COMP%]     .constant-other-character-class-set-regexp, code[_ngcontent-%COMP%]     .constant-other-character-class-regexp, code[_ngcontent-%COMP%]     .constant-character-set-regexp{color:#d16969}code[_ngcontent-%COMP%]     .keyword-operator-or-regexp, code[_ngcontent-%COMP%]     .keyword-control-anchor-regexp{color:#dcdcaa}code[_ngcontent-%COMP%]     .keyword-operator-quantifier-regexp{color:#d7ba7d}code[_ngcontent-%COMP%]     .constant-character{color:#569cd6}code[_ngcontent-%COMP%]     .constant-character-escape{color:#d7ba7d}code[_ngcontent-%COMP%]     .entity-name-label{color:#c8c8c8}code[_ngcontent-%COMP%]     .punctuation-definition-string{color:#ce9178}code[_ngcontent-%COMP%]     .variable-language-this{color:#569cd6}code[_ngcontent-%COMP%]     .punctuation-definition-comment{color:#6a9955}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-separator[_ngcontent-%COMP%]{background:#252525}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%], code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]{position:absolute;text-align:right;user-select:none;color:#858585}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%]{right:calc(100% + 26px)}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{position:absolute;display:block;background-color:#53789b!important;height:19px;opacity:.5}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]{right:100%}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]{cursor:pointer;height:19px;line-height:19px;padding:0;text-align:center;min-width:0}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]:before{background:#252525;content:"";position:absolute;left:0;top:0;height:100%;width:100%;z-index:-1}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{line-height:19px}.viewport[_ngcontent-%COMP%]{height:100%;width:100%}'],changeDetection:0})}}const P=["scrollContainer"],S=["code"];function K(x,s){if(1&x&&e._UZ(0,"span",10),2&x){const c=s.ngIf;e.Udp("left",c.left)("width",c.width)}}function J(x,s){if(1&x&&(e.TgZ(0,"span",12),e._uU(1),e.qZA()),2&x){const c=s.$implicit;e.Q6J("ngClass",c.class),e.xp6(1),e.Oqu(c.text)}}function H(x,s){if(1&x&&(e.ynx(0),e.YNc(1,J,2,2,"span",11),e.ALo(2,"tokens"),e.ALo(3,"searchToken"),e.ALo(4,"async"),e.BQk()),2&x){const c=s.ngIf,a=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,e.Dn7(3,4,c.tokens,c.text,e.lcZ(4,8,a.search)),c.text))}}function fe(x,s){if(1&x&&(e.TgZ(0,"li",5),e.YNc(1,K,1,4,"span",6),e.ALo(2,"async"),e.TgZ(3,"span",7),e._uU(4),e.qZA(),e.TgZ(5,"span",8),e._uU(6),e.qZA(),e.YNc(7,H,5,10,"ng-container",9),e.qZA()),2&x){const c=s.$implicit,a=s.index,l=e.oxw();e.Q6J("ngClass","line-"+c.status),e.xp6(1),e.Q6J("ngIf",e.lcZ(2,11,l.getSelection(a))),e.xp6(2),e.Udp("right","calc(100% + 26px + "+(l.lineNumberMargin/2).toString()+"px)")("width",l.lineNumberMargin/2-5,"px"),e.xp6(1),e.Oqu(null==c.oldLine?null:c.oldLine.lineNumber),e.xp6(1),e.Udp("width",l.lineNumberMargin/2-5,"px"),e.xp6(1),e.Oqu(null==c.newLine?null:c.newLine.lineNumber),e.xp6(1),e.Q6J("ngIf",l.getLineView(c))}}class oe extends((0,A.j)(N.A,Q.P)){constructor(s,c){super(),this.diffService=s,this.diffSelectionService=c,this.lineNumberMargin=0,this.lines$=new i.X([]),this.currentPatch=null,this.getSelection=a=>this.diffSelectionService.selectedRange.pipe((0,g.U)(l=>{if(!l)return null;const[D,U]=l[0].line>l[1].line||l[0].line===l[1].line&&l[0].char>l[1].char?[l[1],l[0]]:l;return a<D.line||a>U.line?null:a===D.line?{left:D.char*this.diffSelectionService.charWidth+"px",width:D.line===U.line?(U.char-D.char)*this.diffSelectionService.charWidth+"px":"100%"}:a===U.line?{left:"0px",width:U.char*this.diffSelectionService.charWidth+"px"}:{left:"0px",width:"100%"}}))}ngOnInit(){this.diffLines.pipe((0,y.g)(0),(0,F.R)(this.destroyed$)).subscribe(c=>{const a=this.currentPatch?{...this.currentPatch}:null;if(c){this.currentPatch={newFilePath:c.newFilePath,oldFilePath:c.oldFilePath};const l=Math.max(c.oldLines.length,c.newLines.length)??0;this.lineNumberMargin=this.diffService.calculateMargin(l.toString().length),this.diffService.calculateInlineLines(c.oldLines,c.newLines,c.hunks).pipe((0,F.R)(this.destroyed$)).subscribe(D=>{this.lines$.next(D),(!a||a.oldFilePath!==this.currentPatch?.oldFilePath||a.newFilePath!==this.currentPatch?.newFilePath)&&this.scrollContainer.nativeElement?.scrollTo(0,0)})}else this.currentPatch=null,this.lineNumberMargin=0,this.lines$.next([]),a&&this.scrollContainer.nativeElement?.scrollTo(0,0)});const s=this.scrollContainer.nativeElement;this.diffSelectionService.captureSelections(this.codeElement.nativeElement,(c,a)=>({line:Math.floor((s.scrollTop+a-s.getBoundingClientRect().top)/19),char:Math.max(0,Math.round((s.scrollLeft+c-s.getBoundingClientRect().left-(this.lineNumberMargin+26))/this.diffSelectionService.charWidth))}),(c,a)=>this.lines$.value.filter((l,D)=>D>=c&&D<=a).map(l=>this.getLineView(l)?.text),()=>({line:this.lines$.value.length-1,char:this.getLineView(this.lines$.value[this.lines$.value.length-1])?.text.length??0}),([c,a])=>(0,T.Z)(c.line,a.line+1).map(l=>({oldLineNo:this.lines$.value[l]?.oldLine?.lineNumber??-1,newLineNo:this.lines$.value[l]?.newLine?.lineNumber??-1}))).pipe((0,F.R)(this.destroyed$)).subscribe()}getLineView(s){return"added"===s.status?s.newLine:"removed"===s.status?s.oldLine:"unchanged"===s.status?s.newLine??s.oldLine:null}trackByDiffLine(s,c){return s}static{this.\u0275fac=function(c){return new(c||oe)(e.Y36(z.S),e.Y36(X.Q))}}static{this.\u0275cmp=e.Xpm({type:oe,selectors:[["app-inline-view"]],viewQuery:function(c,a){if(1&c&&(e.Gf(P,7,e.SBq),e.Gf(S,7,e.SBq),e.Gf(I.N7,5)),2&c){let l;e.iGM(l=e.CRH())&&(a.scrollContainer=l.first),e.iGM(l=e.CRH())&&(a.codeElement=l.first),e.iGM(l=e.CRH())&&(a.viewports=l)}},inputs:{diffLines:"diffLines",search:"search"},features:[e.qOj],decls:7,vars:9,consts:[[1,"viewport",3,"itemSize","maxBufferPx","minBufferPx"],["scrollContainer",""],["tabindex","0"],["code",""],["class","line",3,"ngClass",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"line",3,"ngClass"],["class","selection",3,"left","width",4,"ngIf"],[1,"old-line-number"],[1,"new-line-number"],[4,"ngIf"],[1,"selection"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(c,a){1&c&&(e.TgZ(0,"cdk-virtual-scroll-viewport",0,1)(2,"code",2,3)(4,"ul"),e.YNc(5,fe,8,13,"li",4),e.ALo(6,"async"),e.qZA()()()),2&c&&(e.Q6J("itemSize",19)("maxBufferPx",1e3)("minBufferPx",200),e.xp6(4),e.Udp("margin-left",a.lineNumberMargin+26,"px"),e.xp6(1),e.Q6J("cdkVirtualForOf",e.lcZ(6,7,a.lines$))("cdkVirtualForTrackBy",a.trackByDiffLine))},dependencies:[I.xd,I.x0,I.N7,V.mk,V.sg,V.O5,V.Ov,ee.y,te.U],styles:["code[_ngcontent-%COMP%]{display:block;white-space:pre;user-select:none;cursor:text;outline:none;color:#d4d4d4;font-family:Monaco,Menlo,Consolas,Droid Sans Mono,Inconsolata,Courier New,monospace;font-size:14px;font-weight:400;letter-spacing:0px;line-height:19px}code[_ngcontent-%COMP%]     .line{height:19px}code[_ngcontent-%COMP%]     .line.line-added{background:#1f2c19}code[_ngcontent-%COMP%]     .line.line-removed{background:#501515}code[_ngcontent-%COMP%]     .line.line-void{background:#111}code[_ngcontent-%COMP%]     .diff-added{background-color:#1d572c}code[_ngcontent-%COMP%]     .diff-removed{background-color:#803030}code[_ngcontent-%COMP%]     .search-result{background-color:#a14e1b}code[_ngcontent-%COMP%]     .meta-embedded, code[_ngcontent-%COMP%]     .source-groovy-embedded{color:#d4d4d4}code[_ngcontent-%COMP%]     .emphasis{font-style:italic}code[_ngcontent-%COMP%]     .strong{font-weight:700}code[_ngcontent-%COMP%]     .header{color:navy}code[_ngcontent-%COMP%]     .comment{color:#6a9955}code[_ngcontent-%COMP%]     .constant-language{color:#569cd6}code[_ngcontent-%COMP%]     .constant-numeric, code[_ngcontent-%COMP%]     .entity-name-operator-custom-literal-number, code[_ngcontent-%COMP%]     .variable-other-enummember, code[_ngcontent-%COMP%]     .keyword-operator-plus-exponent, code[_ngcontent-%COMP%]     .keyword-operator-minus-exponent{color:#b5cea8}code[_ngcontent-%COMP%]     .constant-regexp{color:#646695}code[_ngcontent-%COMP%]     .entity-name-tag{color:#569cd6}code[_ngcontent-%COMP%]     .entity-name-tag-css{color:#d7ba7d}code[_ngcontent-%COMP%]     .entity-other-attribute-name{color:#9cdcfe}code[_ngcontent-%COMP%]     .entity-other-attribute-name-class-css, code[_ngcontent-%COMP%]     .entity-other-attribute-name-class-mixin-css, code[_ngcontent-%COMP%]     .entity-other-attribute-name-id-css, code[_ngcontent-%COMP%]     .entity-other-attribute-name-parent-selector-css, code[_ngcontent-%COMP%]     .entity-other-attribute-name-pseudo-class-css, code[_ngcontent-%COMP%]     .entity-other-attribute-name-pseudo-element-css, code[_ngcontent-%COMP%]     .source-css-less .entity-other-attribute-name-id, code[_ngcontent-%COMP%]     .entity-other-attribute-name-attribute-scss, code[_ngcontent-%COMP%]     .entity-other-attribute-name-scss{color:#d7ba7d}code[_ngcontent-%COMP%]     .invalid{color:#f44747}code[_ngcontent-%COMP%]     .markup-underline{text-decoration:underline}code[_ngcontent-%COMP%]     .markup-bold{font-weight:700;color:#569cd6}code[_ngcontent-%COMP%]     .markup-heading{font-weight:700;color:#569cd6}code[_ngcontent-%COMP%]     .markup-italic{font-style:italic}code[_ngcontent-%COMP%]     .markup-inserted{color:#b5cea8}code[_ngcontent-%COMP%]     .markup-deleted{color:#ce9178}code[_ngcontent-%COMP%]     .markup-changed{color:#569cd6}code[_ngcontent-%COMP%]     .punctuation-definition-quote-begin-markdown{color:#6a9955}code[_ngcontent-%COMP%]     .punctuation-definition-list-begin-markdown{color:#6796e6}code[_ngcontent-%COMP%]     .markup-inline-raw{color:#ce9178}code[_ngcontent-%COMP%]     .punctuation-definition-tag{color:gray}code[_ngcontent-%COMP%]     .meta-preprocessor{color:#569cd6}code[_ngcontent-%COMP%]     .meta-preprocessor-string{color:#ce9178}code[_ngcontent-%COMP%]     .meta-preprocessor-numeric{color:#b5cea8}code[_ngcontent-%COMP%]     .meta-structure-dictionary-key-python{color:#9cdcfe}code[_ngcontent-%COMP%]     .meta-diff-header{color:#569cd6}code[_ngcontent-%COMP%]     .storage{color:#569cd6}code[_ngcontent-%COMP%]     .storage-type{color:#569cd6}code[_ngcontent-%COMP%]     .storage-modifier, code[_ngcontent-%COMP%]     .keyword-operator-noexcept{color:#569cd6}code[_ngcontent-%COMP%]     .string, code[_ngcontent-%COMP%]     .entity-name-operator-custom-literal-string{color:#ce9178}code[_ngcontent-%COMP%]     .string-tag{color:#ce9178}code[_ngcontent-%COMP%]     .string-value{color:#ce9178}code[_ngcontent-%COMP%]     .string-regexp{color:#d16969}code[_ngcontent-%COMP%]     .punctuation-definition-template-expression-begin, code[_ngcontent-%COMP%]     .punctuation-definition-template-expression-end, code[_ngcontent-%COMP%]     .punctuation-section-embedded{color:#569cd6}code[_ngcontent-%COMP%]     .meta-template-expression{color:#d4d4d4}code[_ngcontent-%COMP%]     .support-type-vendored-property-name, code[_ngcontent-%COMP%]     .support-type-property-name, code[_ngcontent-%COMP%]     .variable-css, code[_ngcontent-%COMP%]     .variable-scss, code[_ngcontent-%COMP%]     .variable-other-less, code[_ngcontent-%COMP%]     .source-coffee-embedded{color:#9cdcfe}code[_ngcontent-%COMP%]     .keyword{color:#569cd6}code[_ngcontent-%COMP%]     .keyword-control{color:#569cd6}code[_ngcontent-%COMP%]     .keyword-operator{color:#d4d4d4}code[_ngcontent-%COMP%]     .keyword-operator-new, code[_ngcontent-%COMP%]     .keyword-operator-expression, code[_ngcontent-%COMP%]     .keyword-operator-cast, code[_ngcontent-%COMP%]     .keyword-operator-sizeof, code[_ngcontent-%COMP%]     .keyword-operator-typeid, code[_ngcontent-%COMP%]     .keyword-operator-alignas, code[_ngcontent-%COMP%]     .keyword-operator-instanceof, code[_ngcontent-%COMP%]     .keyword-operator-logical-python, code[_ngcontent-%COMP%]     .keyword-operator-wordlike{color:#569cd6}code[_ngcontent-%COMP%]     .keyword-other-unit{color:#b5cea8}code[_ngcontent-%COMP%]     .punctuation-section-embedded-begin-php, code[_ngcontent-%COMP%]     .punctuation-section-embedded-end-php{color:#569cd6}code[_ngcontent-%COMP%]     .support-function-git-rebase{color:#9cdcfe}code[_ngcontent-%COMP%]     .constant-sha-git-rebase{color:#b5cea8}code[_ngcontent-%COMP%]     .storage-modifier-import-java, code[_ngcontent-%COMP%]     .variable-language-wildcard-java, code[_ngcontent-%COMP%]     .storage-modifier-package-java{color:#d4d4d4}code[_ngcontent-%COMP%]     .variable-language{color:#569cd6}code[_ngcontent-%COMP%]     .entity-name-function, code[_ngcontent-%COMP%]     .support-function, code[_ngcontent-%COMP%]     .support-constant-handlebars, code[_ngcontent-%COMP%]     .source-powershell .variable-other-member{color:#dcdcaa}code[_ngcontent-%COMP%]     .meta-return-type, code[_ngcontent-%COMP%]     .support-class, code[_ngcontent-%COMP%]     .support-type, code[_ngcontent-%COMP%]     .entity-name-type, code[_ngcontent-%COMP%]     .entity-name-namespace, code[_ngcontent-%COMP%]     .entity-other-attribute, code[_ngcontent-%COMP%]     .entity-name-scope-resolution, code[_ngcontent-%COMP%]     .entity-name-class, code[_ngcontent-%COMP%]     .storage-type-numeric-go, code[_ngcontent-%COMP%]     .storage-type-byte-go, code[_ngcontent-%COMP%]     .storage-type-boolean-go, code[_ngcontent-%COMP%]     .storage-type-string-go, code[_ngcontent-%COMP%]     .storage-type-uintptr-go, code[_ngcontent-%COMP%]     .storage-type-error-go, code[_ngcontent-%COMP%]     .storage-type-rune-go, code[_ngcontent-%COMP%]     .storage-type-cs, code[_ngcontent-%COMP%]     .storage-type-generic-cs, code[_ngcontent-%COMP%]     .storage-type-modifier-cs, code[_ngcontent-%COMP%]     .storage-type-variable-cs, code[_ngcontent-%COMP%]     .storage-type-annotation-java, code[_ngcontent-%COMP%]     .storage-type-generic-java, code[_ngcontent-%COMP%]     .storage-type-java, code[_ngcontent-%COMP%]     .storage-type-object-array-java, code[_ngcontent-%COMP%]     .storage-type-primitive-array-java, code[_ngcontent-%COMP%]     .storage-type-primitive-java, code[_ngcontent-%COMP%]     .storage-type-token-java, code[_ngcontent-%COMP%]     .storage-type-groovy, code[_ngcontent-%COMP%]     .storage-type-annotation-groovy, code[_ngcontent-%COMP%]     .storage-type-parameters-groovy, code[_ngcontent-%COMP%]     .storage-type-generic-groovy, code[_ngcontent-%COMP%]     .storage-type-object-array-groovy, code[_ngcontent-%COMP%]     .storage-type-primitive-array-groovy, code[_ngcontent-%COMP%]     .storage-type-primitive-groovy{color:#4ec9b0}code[_ngcontent-%COMP%]     .meta-type-cast-expr, code[_ngcontent-%COMP%]     .meta-type-new-expr, code[_ngcontent-%COMP%]     .support-constant-math, code[_ngcontent-%COMP%]     .support-constant-dom, code[_ngcontent-%COMP%]     .support-constant-json, code[_ngcontent-%COMP%]     .entity-other-inherited-class{color:#4ec9b0}code[_ngcontent-%COMP%]     .keyword-control, code[_ngcontent-%COMP%]     .source-cpp .keyword-operator-new, code[_ngcontent-%COMP%]     .keyword-operator-delete, code[_ngcontent-%COMP%]     .keyword-other-using, code[_ngcontent-%COMP%]     .keyword-other-operator, code[_ngcontent-%COMP%]     .entity-name-operator{color:#c586c0}code[_ngcontent-%COMP%]     .variable, code[_ngcontent-%COMP%]     .meta-definition-variable-name, code[_ngcontent-%COMP%]     .support-variable, code[_ngcontent-%COMP%]     .entity-name-variable{color:#9cdcfe}code[_ngcontent-%COMP%]     .meta-object-literal-key{color:#9cdcfe}code[_ngcontent-%COMP%]     .support-constant-property-value, code[_ngcontent-%COMP%]     .support-constant-font-name, code[_ngcontent-%COMP%]     .support-constant-media-type, code[_ngcontent-%COMP%]     .support-constant-media, code[_ngcontent-%COMP%]     .constant-other-color-rgb-value, code[_ngcontent-%COMP%]     .constant-other-rgb-value, code[_ngcontent-%COMP%]     .support-constant-color{color:#ce9178}code[_ngcontent-%COMP%]     .punctuation-definition-group-regexp, code[_ngcontent-%COMP%]     .punctuation-definition-group-assertion-regexp, code[_ngcontent-%COMP%]     .punctuation-definition-character-class-regexp, code[_ngcontent-%COMP%]     .punctuation-character-set-begin-regexp, code[_ngcontent-%COMP%]     .punctuation-character-set-end-regexp, code[_ngcontent-%COMP%]     .keyword-operator-negation-regexp, code[_ngcontent-%COMP%]     .support-other-parenthesis-regexp{color:#ce9178}code[_ngcontent-%COMP%]     .constant-character-character-class-regexp, code[_ngcontent-%COMP%]     .constant-other-character-class-set-regexp, code[_ngcontent-%COMP%]     .constant-other-character-class-regexp, code[_ngcontent-%COMP%]     .constant-character-set-regexp{color:#d16969}code[_ngcontent-%COMP%]     .keyword-operator-or-regexp, code[_ngcontent-%COMP%]     .keyword-control-anchor-regexp{color:#dcdcaa}code[_ngcontent-%COMP%]     .keyword-operator-quantifier-regexp{color:#d7ba7d}code[_ngcontent-%COMP%]     .constant-character{color:#569cd6}code[_ngcontent-%COMP%]     .constant-character-escape{color:#d7ba7d}code[_ngcontent-%COMP%]     .entity-name-label{color:#c8c8c8}code[_ngcontent-%COMP%]     .punctuation-definition-string{color:#ce9178}code[_ngcontent-%COMP%]     .variable-language-this{color:#569cd6}code[_ngcontent-%COMP%]     .punctuation-definition-comment{color:#6a9955}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%]{position:absolute;text-align:right;user-select:none;color:#858585}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%]{right:calc(100% + 26px)}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{position:absolute;display:block;background-color:#53789b!important;height:19px;opacity:.5}.viewport[_ngcontent-%COMP%]{height:100%;width:100%}"],changeDetection:0})}}var ue=o(4968),Ce=o(1365),pe=o(9300),he=o(8505),_e=o(8372),me=o(7396),Me=o(3943);const Oe=["leftScrollContainer"],Pe=["rightScrollContainer"],ve=["leftCode"],be=["rightCode"];function ye(x,s){if(1&x&&e._UZ(0,"span",13),2&x){const c=s.ngIf;e.Udp("left",c.left)("width",c.width)}}function xe(x,s){if(1&x&&(e.TgZ(0,"span",16),e._uU(1),e.qZA()),2&x){const c=s.$implicit;e.Q6J("ngClass",c.class),e.xp6(1),e.Oqu(c.text)}}function Ee(x,s){if(1&x&&(e.ynx(0),e.TgZ(1,"span",14),e._uU(2),e.qZA(),e.YNc(3,xe,2,2,"span",15),e.ALo(4,"tokens"),e.ALo(5,"searchToken"),e.ALo(6,"async"),e.BQk()),2&x){const c=e.oxw().$implicit,a=e.oxw();e.xp6(2),e.Oqu(null==c.oldLine?null:c.oldLine.lineNumber),e.xp6(1),e.Q6J("ngForOf",e.xi3(4,2,e.Dn7(5,5,null==c.oldLine?null:c.oldLine.tokens,null==c.oldLine?null:c.oldLine.text,e.lcZ(6,9,a.search)),null==c.oldLine?null:c.oldLine.text))}}function we(x,s){if(1&x&&(e.TgZ(0,"li",10),e.YNc(1,ye,1,4,"span",11),e.ALo(2,"async"),e.YNc(3,Ee,7,11,"ng-container",12),e.qZA()),2&x){const c=s.$implicit,a=s.index,l=e.oxw();e.Q6J("ngClass","line-"+c.status),e.xp6(1),e.Q6J("ngIf",e.lcZ(2,3,l.getSelection(a,"left"))),e.xp6(2),e.Q6J("ngIf","added"!==c.status)}}function Le(x,s){if(1&x&&e._UZ(0,"span",13),2&x){const c=s.ngIf;e.Udp("left",c.left)("width",c.width)}}function Te(x,s){if(1&x&&(e.TgZ(0,"span",16),e._uU(1),e.qZA()),2&x){const c=s.$implicit;e.Q6J("ngClass",c.class),e.xp6(1),e.Oqu(c.text)}}function De(x,s){if(1&x&&(e.ynx(0),e.TgZ(1,"span",14),e._uU(2),e.qZA(),e.YNc(3,Te,2,2,"span",15),e.ALo(4,"tokens"),e.ALo(5,"searchToken"),e.ALo(6,"async"),e.BQk()),2&x){const c=e.oxw().$implicit,a=e.oxw();e.xp6(2),e.Oqu(null==c.newLine?null:c.newLine.lineNumber),e.xp6(1),e.Q6J("ngForOf",e.xi3(4,2,e.Dn7(5,5,null==c.newLine?null:c.newLine.tokens,null==c.newLine?null:c.newLine.text,e.lcZ(6,9,a.search)),null==c.newLine?null:c.newLine.text))}}function Ie(x,s){if(1&x&&(e.TgZ(0,"li",10),e.YNc(1,Le,1,4,"span",11),e.ALo(2,"async"),e.YNc(3,De,7,11,"ng-container",12),e.qZA()),2&x){const c=s.$implicit,a=s.index,l=e.oxw();e.Q6J("ngClass","line-"+c.status),e.xp6(1),e.Q6J("ngIf",e.lcZ(2,3,l.getSelection(a,"right"))),e.xp6(2),e.Q6J("ngIf","removed"!==c.status)}}class ie extends((0,A.j)(N.A,Q.P)){constructor(s,c,a){super(),this.zone=s,this.diffService=c,this.diffSelectionService=a,this.leftLineNumberMargin=0,this.rightLineNumberMargin=0,this.lines$=new i.X([]),this.currentPatch=null,this.selectionSide=new i.X("right"),this.getSelection=(l,D)=>this.diffSelectionService.selectedRange.pipe((0,Ce.M)(this.selectionSide),(0,g.U)(([U,$])=>{if(!U||$!==D)return null;const[Y,G]=U[0].line>U[1].line||U[0].line===U[1].line&&U[0].char>U[1].char?[U[1],U[0]]:U;return l<Y.line||l>G.line?null:l===Y.line?{left:Y.char*this.diffSelectionService.charWidth+"px",width:Y.line===G.line?(G.char-Y.char)*this.diffSelectionService.charWidth+"px":"100%"}:l===G.line?{left:"0px",width:G.char*this.diffSelectionService.charWidth+"px"}:{left:"0px",width:"100%"}}))}ngOnInit(){this.diffLines.pipe((0,y.g)(0),(0,F.R)(this.destroyed$)).subscribe(a=>{const l=this.currentPatch?{...this.currentPatch}:null;a?(this.currentPatch={newFilePath:a.newFilePath,oldFilePath:a.oldFilePath},this.leftLineNumberMargin=this.diffService.calculateMargin(a.oldLines.length.toString().length,!0),this.rightLineNumberMargin=this.diffService.calculateMargin(a.newLines.length.toString().length,!0),this.diffService.calculateSplitLines(a.oldLines,a.newLines,a.hunks).pipe((0,F.R)(this.destroyed$)).subscribe(D=>{this.lines$.next(D),(!l||l.oldFilePath!==this.currentPatch?.oldFilePath||l.newFilePath!==this.currentPatch?.newFilePath)&&(this.leftScrollContainer?.nativeElement?.scrollTo(0,0),this.rightScrollContainer?.nativeElement?.scrollTo(0,0))})):(this.currentPatch=null,this.leftLineNumberMargin=0,this.rightLineNumberMargin=0,this.lines$.next([]),l&&(this.leftScrollContainer?.nativeElement?.scrollTo(0,0),this.rightScrollContainer?.nativeElement?.scrollTo(0,0)))}),this.zone.runOutsideAngular(()=>{let a=!1,l=!1;(0,ue.R)(this.leftScrollContainer.nativeElement,"scroll",{passive:!0}).pipe((0,pe.h)(()=>!l),(0,he.b)(()=>{a=!0,this.rightScrollContainer.nativeElement.scrollTo(this.leftScrollContainer.nativeElement.scrollLeft,this.leftScrollContainer.nativeElement.scrollTop)}),(0,_e.b)(100),(0,F.R)(this.destroyed$)).subscribe(()=>{a=!1}),(0,ue.R)(this.rightScrollContainer.nativeElement,"scroll",{passive:!0}).pipe((0,pe.h)(()=>!a),(0,he.b)(()=>{l=!0,this.leftScrollContainer.nativeElement.scrollTo(this.rightScrollContainer.nativeElement.scrollLeft,this.rightScrollContainer.nativeElement.scrollTop)}),(0,_e.b)(100),(0,F.R)(this.destroyed$)).subscribe(()=>{l=!1})});const s=this.leftScrollContainer.nativeElement;this.diffSelectionService.captureSelections(this.leftCodeElement.nativeElement,(a,l)=>({line:Math.floor((s.scrollTop+l-s.getBoundingClientRect().top)/19),char:Math.max(0,Math.round((s.scrollLeft+a-s.getBoundingClientRect().left-(this.leftLineNumberMargin+26))/this.diffSelectionService.charWidth))}),(a,l)=>this.lines$.value.filter((D,U)=>U>=a&&U<=l).map(D=>D.oldLine?.text),()=>({line:this.lines$.value.length-1,char:this.lines$.value[this.lines$.value.length-1].oldLine?.text.length??0}),([a,l])=>(0,T.Z)(a.line,l.line+1).map(D=>({oldLineNo:this.lines$.value[D]?.oldLine?.lineNumber??-1,newLineNo:this.lines$.value[D]?.newLine?.lineNumber??-1}))).pipe((0,F.R)(this.destroyed$)).subscribe(()=>{this.selectionSide.next("left")});const c=this.rightScrollContainer.nativeElement;this.diffSelectionService.captureSelections(this.rightCodeElement.nativeElement,(a,l)=>({line:Math.floor((c.scrollTop+l-c.getBoundingClientRect().top)/19),char:Math.max(0,Math.round((c.scrollLeft+a-c.getBoundingClientRect().left-(this.rightLineNumberMargin+26))/this.diffSelectionService.charWidth))}),(a,l)=>this.lines$.value.filter((D,U)=>U>=a&&U<=l).map(D=>D.newLine?.text),()=>({line:this.lines$.value.length-1,char:this.lines$.value[this.lines$.value.length-1].newLine?.text.length??0}),([a,l])=>(0,T.Z)(a.line,l.line+1).map(D=>({oldLineNo:this.lines$.value[D]?.oldLine?.lineNumber??-1,newLineNo:this.lines$.value[D]?.newLine?.lineNumber??-1}))).pipe((0,F.R)(this.destroyed$)).subscribe(()=>{this.selectionSide.next("right")})}trackByDiffLine(s,c){return s}static{this.\u0275fac=function(c){return new(c||ie)(e.Y36(e.R0b),e.Y36(z.S),e.Y36(X.Q))}}static{this.\u0275cmp=e.Xpm({type:ie,selectors:[["app-split-view"]],viewQuery:function(c,a){if(1&c&&(e.Gf(Oe,7,e.SBq),e.Gf(Pe,7,e.SBq),e.Gf(ve,7,e.SBq),e.Gf(be,7,e.SBq),e.Gf(I.N7,5)),2&c){let l;e.iGM(l=e.CRH())&&(a.leftScrollContainer=l.first),e.iGM(l=e.CRH())&&(a.rightScrollContainer=l.first),e.iGM(l=e.CRH())&&(a.leftCodeElement=l.first),e.iGM(l=e.CRH())&&(a.rightCodeElement=l.first),e.iGM(l=e.CRH())&&(a.viewports=l)}},inputs:{diffLines:"diffLines",search:"search"},features:[e.qOj],decls:17,vars:18,consts:[["id","diff-view_split-left"],[1,"viewport",3,"itemSize","maxBufferPx","minBufferPx"],["leftScrollContainer",""],["tabindex","0",1,"left-code"],["leftCode",""],["class","line",3,"ngClass",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],["id","diff-view_split-right"],["rightScrollContainer",""],["tabindex","1",1,"right-code"],["rightCode",""],[1,"line",3,"ngClass"],["class","selection",3,"left","width",4,"ngIf"],[4,"ngIf"],[1,"selection"],[1,"line-number"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(c,a){1&c&&(e.TgZ(0,"app-grid")(1,"app-grid-cell",0)(2,"cdk-virtual-scroll-viewport",1,2)(4,"code",3,4)(6,"ul"),e.YNc(7,we,4,5,"li",5),e.ALo(8,"async"),e.qZA()()()(),e.TgZ(9,"app-grid-cell",6)(10,"cdk-virtual-scroll-viewport",1,7)(12,"code",8,9)(14,"ul"),e.YNc(15,Ie,4,5,"li",5),e.ALo(16,"async"),e.qZA()()()()()),2&c&&(e.xp6(2),e.Q6J("itemSize",19)("maxBufferPx",1e3)("minBufferPx",200),e.xp6(4),e.Udp("margin-left",a.leftLineNumberMargin+26,"px"),e.xp6(1),e.Q6J("cdkVirtualForOf",e.lcZ(8,14,a.lines$))("cdkVirtualForTrackBy",a.trackByDiffLine),e.xp6(3),e.Q6J("itemSize",19)("maxBufferPx",1e3)("minBufferPx",200),e.xp6(4),e.Udp("margin-left",a.rightLineNumberMargin+26,"px"),e.xp6(1),e.Q6J("cdkVirtualForOf",e.lcZ(16,16,a.lines$))("cdkVirtualForTrackBy",a.trackByDiffLine))},dependencies:[I.xd,I.x0,I.N7,V.mk,V.sg,V.O5,me.Y,Me.M,V.Ov,ee.y,te.U],styles:["code[_ngcontent-%COMP%]{display:block;white-space:pre;user-select:none;cursor:text;outline:none;color:#d4d4d4;font-family:Monaco,Menlo,Consolas,Droid Sans Mono,Inconsolata,Courier New,monospace;font-size:14px;font-weight:400;letter-spacing:0px;line-height:19px}code[_ngcontent-%COMP%]     .line{height:19px}code[_ngcontent-%COMP%]     .line.line-added{background:#1f2c19}code[_ngcontent-%COMP%]     .line.line-removed{background:#501515}code[_ngcontent-%COMP%]     .line.line-void{background:#111}code[_ngcontent-%COMP%]     .diff-added{background-color:#1d572c}code[_ngcontent-%COMP%]     .diff-removed{background-color:#803030}code[_ngcontent-%COMP%]     .search-result{background-color:#a14e1b}code[_ngcontent-%COMP%]     .meta-embedded, code[_ngcontent-%COMP%]     .source-groovy-embedded{color:#d4d4d4}code[_ngcontent-%COMP%]     .emphasis{font-style:italic}code[_ngcontent-%COMP%]     .strong{font-weight:700}code[_ngcontent-%COMP%]     .header{color:navy}code[_ngcontent-%COMP%]     .comment{color:#6a9955}code[_ngcontent-%COMP%]     .constant-language{color:#569cd6}code[_ngcontent-%COMP%]     .constant-numeric, code[_ngcontent-%COMP%]     .entity-name-operator-custom-literal-number, code[_ngcontent-%COMP%]     .variable-other-enummember, code[_ngcontent-%COMP%]     .keyword-operator-plus-exponent, code[_ngcontent-%COMP%]     .keyword-operator-minus-exponent{color:#b5cea8}code[_ngcontent-%COMP%]     .constant-regexp{color:#646695}code[_ngcontent-%COMP%]     .entity-name-tag{color:#569cd6}code[_ngcontent-%COMP%]     .entity-name-tag-css{color:#d7ba7d}code[_ngcontent-%COMP%]     .entity-other-attribute-name{color:#9cdcfe}code[_ngcontent-%COMP%]     .entity-other-attribute-name-class-css, code[_ngcontent-%COMP%]     .entity-other-attribute-name-class-mixin-css, code[_ngcontent-%COMP%]     .entity-other-attribute-name-id-css, code[_ngcontent-%COMP%]     .entity-other-attribute-name-parent-selector-css, code[_ngcontent-%COMP%]     .entity-other-attribute-name-pseudo-class-css, code[_ngcontent-%COMP%]     .entity-other-attribute-name-pseudo-element-css, code[_ngcontent-%COMP%]     .source-css-less .entity-other-attribute-name-id, code[_ngcontent-%COMP%]     .entity-other-attribute-name-attribute-scss, code[_ngcontent-%COMP%]     .entity-other-attribute-name-scss{color:#d7ba7d}code[_ngcontent-%COMP%]     .invalid{color:#f44747}code[_ngcontent-%COMP%]     .markup-underline{text-decoration:underline}code[_ngcontent-%COMP%]     .markup-bold{font-weight:700;color:#569cd6}code[_ngcontent-%COMP%]     .markup-heading{font-weight:700;color:#569cd6}code[_ngcontent-%COMP%]     .markup-italic{font-style:italic}code[_ngcontent-%COMP%]     .markup-inserted{color:#b5cea8}code[_ngcontent-%COMP%]     .markup-deleted{color:#ce9178}code[_ngcontent-%COMP%]     .markup-changed{color:#569cd6}code[_ngcontent-%COMP%]     .punctuation-definition-quote-begin-markdown{color:#6a9955}code[_ngcontent-%COMP%]     .punctuation-definition-list-begin-markdown{color:#6796e6}code[_ngcontent-%COMP%]     .markup-inline-raw{color:#ce9178}code[_ngcontent-%COMP%]     .punctuation-definition-tag{color:gray}code[_ngcontent-%COMP%]     .meta-preprocessor{color:#569cd6}code[_ngcontent-%COMP%]     .meta-preprocessor-string{color:#ce9178}code[_ngcontent-%COMP%]     .meta-preprocessor-numeric{color:#b5cea8}code[_ngcontent-%COMP%]     .meta-structure-dictionary-key-python{color:#9cdcfe}code[_ngcontent-%COMP%]     .meta-diff-header{color:#569cd6}code[_ngcontent-%COMP%]     .storage{color:#569cd6}code[_ngcontent-%COMP%]     .storage-type{color:#569cd6}code[_ngcontent-%COMP%]     .storage-modifier, code[_ngcontent-%COMP%]     .keyword-operator-noexcept{color:#569cd6}code[_ngcontent-%COMP%]     .string, code[_ngcontent-%COMP%]     .entity-name-operator-custom-literal-string{color:#ce9178}code[_ngcontent-%COMP%]     .string-tag{color:#ce9178}code[_ngcontent-%COMP%]     .string-value{color:#ce9178}code[_ngcontent-%COMP%]     .string-regexp{color:#d16969}code[_ngcontent-%COMP%]     .punctuation-definition-template-expression-begin, code[_ngcontent-%COMP%]     .punctuation-definition-template-expression-end, code[_ngcontent-%COMP%]     .punctuation-section-embedded{color:#569cd6}code[_ngcontent-%COMP%]     .meta-template-expression{color:#d4d4d4}code[_ngcontent-%COMP%]     .support-type-vendored-property-name, code[_ngcontent-%COMP%]     .support-type-property-name, code[_ngcontent-%COMP%]     .variable-css, code[_ngcontent-%COMP%]     .variable-scss, code[_ngcontent-%COMP%]     .variable-other-less, code[_ngcontent-%COMP%]     .source-coffee-embedded{color:#9cdcfe}code[_ngcontent-%COMP%]     .keyword{color:#569cd6}code[_ngcontent-%COMP%]     .keyword-control{color:#569cd6}code[_ngcontent-%COMP%]     .keyword-operator{color:#d4d4d4}code[_ngcontent-%COMP%]     .keyword-operator-new, code[_ngcontent-%COMP%]     .keyword-operator-expression, code[_ngcontent-%COMP%]     .keyword-operator-cast, code[_ngcontent-%COMP%]     .keyword-operator-sizeof, code[_ngcontent-%COMP%]     .keyword-operator-typeid, code[_ngcontent-%COMP%]     .keyword-operator-alignas, code[_ngcontent-%COMP%]     .keyword-operator-instanceof, code[_ngcontent-%COMP%]     .keyword-operator-logical-python, code[_ngcontent-%COMP%]     .keyword-operator-wordlike{color:#569cd6}code[_ngcontent-%COMP%]     .keyword-other-unit{color:#b5cea8}code[_ngcontent-%COMP%]     .punctuation-section-embedded-begin-php, code[_ngcontent-%COMP%]     .punctuation-section-embedded-end-php{color:#569cd6}code[_ngcontent-%COMP%]     .support-function-git-rebase{color:#9cdcfe}code[_ngcontent-%COMP%]     .constant-sha-git-rebase{color:#b5cea8}code[_ngcontent-%COMP%]     .storage-modifier-import-java, code[_ngcontent-%COMP%]     .variable-language-wildcard-java, code[_ngcontent-%COMP%]     .storage-modifier-package-java{color:#d4d4d4}code[_ngcontent-%COMP%]     .variable-language{color:#569cd6}code[_ngcontent-%COMP%]     .entity-name-function, code[_ngcontent-%COMP%]     .support-function, code[_ngcontent-%COMP%]     .support-constant-handlebars, code[_ngcontent-%COMP%]     .source-powershell .variable-other-member{color:#dcdcaa}code[_ngcontent-%COMP%]     .meta-return-type, code[_ngcontent-%COMP%]     .support-class, code[_ngcontent-%COMP%]     .support-type, code[_ngcontent-%COMP%]     .entity-name-type, code[_ngcontent-%COMP%]     .entity-name-namespace, code[_ngcontent-%COMP%]     .entity-other-attribute, code[_ngcontent-%COMP%]     .entity-name-scope-resolution, code[_ngcontent-%COMP%]     .entity-name-class, code[_ngcontent-%COMP%]     .storage-type-numeric-go, code[_ngcontent-%COMP%]     .storage-type-byte-go, code[_ngcontent-%COMP%]     .storage-type-boolean-go, code[_ngcontent-%COMP%]     .storage-type-string-go, code[_ngcontent-%COMP%]     .storage-type-uintptr-go, code[_ngcontent-%COMP%]     .storage-type-error-go, code[_ngcontent-%COMP%]     .storage-type-rune-go, code[_ngcontent-%COMP%]     .storage-type-cs, code[_ngcontent-%COMP%]     .storage-type-generic-cs, code[_ngcontent-%COMP%]     .storage-type-modifier-cs, code[_ngcontent-%COMP%]     .storage-type-variable-cs, code[_ngcontent-%COMP%]     .storage-type-annotation-java, code[_ngcontent-%COMP%]     .storage-type-generic-java, code[_ngcontent-%COMP%]     .storage-type-java, code[_ngcontent-%COMP%]     .storage-type-object-array-java, code[_ngcontent-%COMP%]     .storage-type-primitive-array-java, code[_ngcontent-%COMP%]     .storage-type-primitive-java, code[_ngcontent-%COMP%]     .storage-type-token-java, code[_ngcontent-%COMP%]     .storage-type-groovy, code[_ngcontent-%COMP%]     .storage-type-annotation-groovy, code[_ngcontent-%COMP%]     .storage-type-parameters-groovy, code[_ngcontent-%COMP%]     .storage-type-generic-groovy, code[_ngcontent-%COMP%]     .storage-type-object-array-groovy, code[_ngcontent-%COMP%]     .storage-type-primitive-array-groovy, code[_ngcontent-%COMP%]     .storage-type-primitive-groovy{color:#4ec9b0}code[_ngcontent-%COMP%]     .meta-type-cast-expr, code[_ngcontent-%COMP%]     .meta-type-new-expr, code[_ngcontent-%COMP%]     .support-constant-math, code[_ngcontent-%COMP%]     .support-constant-dom, code[_ngcontent-%COMP%]     .support-constant-json, code[_ngcontent-%COMP%]     .entity-other-inherited-class{color:#4ec9b0}code[_ngcontent-%COMP%]     .keyword-control, code[_ngcontent-%COMP%]     .source-cpp .keyword-operator-new, code[_ngcontent-%COMP%]     .keyword-operator-delete, code[_ngcontent-%COMP%]     .keyword-other-using, code[_ngcontent-%COMP%]     .keyword-other-operator, code[_ngcontent-%COMP%]     .entity-name-operator{color:#c586c0}code[_ngcontent-%COMP%]     .variable, code[_ngcontent-%COMP%]     .meta-definition-variable-name, code[_ngcontent-%COMP%]     .support-variable, code[_ngcontent-%COMP%]     .entity-name-variable{color:#9cdcfe}code[_ngcontent-%COMP%]     .meta-object-literal-key{color:#9cdcfe}code[_ngcontent-%COMP%]     .support-constant-property-value, code[_ngcontent-%COMP%]     .support-constant-font-name, code[_ngcontent-%COMP%]     .support-constant-media-type, code[_ngcontent-%COMP%]     .support-constant-media, code[_ngcontent-%COMP%]     .constant-other-color-rgb-value, code[_ngcontent-%COMP%]     .constant-other-rgb-value, code[_ngcontent-%COMP%]     .support-constant-color{color:#ce9178}code[_ngcontent-%COMP%]     .punctuation-definition-group-regexp, code[_ngcontent-%COMP%]     .punctuation-definition-group-assertion-regexp, code[_ngcontent-%COMP%]     .punctuation-definition-character-class-regexp, code[_ngcontent-%COMP%]     .punctuation-character-set-begin-regexp, code[_ngcontent-%COMP%]     .punctuation-character-set-end-regexp, code[_ngcontent-%COMP%]     .keyword-operator-negation-regexp, code[_ngcontent-%COMP%]     .support-other-parenthesis-regexp{color:#ce9178}code[_ngcontent-%COMP%]     .constant-character-character-class-regexp, code[_ngcontent-%COMP%]     .constant-other-character-class-set-regexp, code[_ngcontent-%COMP%]     .constant-other-character-class-regexp, code[_ngcontent-%COMP%]     .constant-character-set-regexp{color:#d16969}code[_ngcontent-%COMP%]     .keyword-operator-or-regexp, code[_ngcontent-%COMP%]     .keyword-control-anchor-regexp{color:#dcdcaa}code[_ngcontent-%COMP%]     .keyword-operator-quantifier-regexp{color:#d7ba7d}code[_ngcontent-%COMP%]     .constant-character{color:#569cd6}code[_ngcontent-%COMP%]     .constant-character-escape{color:#d7ba7d}code[_ngcontent-%COMP%]     .entity-name-label{color:#c8c8c8}code[_ngcontent-%COMP%]     .punctuation-definition-string{color:#ce9178}code[_ngcontent-%COMP%]     .variable-language-this{color:#569cd6}code[_ngcontent-%COMP%]     .punctuation-definition-comment{color:#6a9955}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .line-number[_ngcontent-%COMP%]{position:absolute;text-align:right;user-select:none;color:#858585;right:calc(100% + 26px)}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{position:absolute;display:block;background-color:#53789b!important;height:19px;opacity:.5}code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-added[_ngcontent-%COMP%]{background:#111}code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%]{background:#501515}code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-removed[_ngcontent-%COMP%]{background:#111}code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%]{background:#1f2c19}.viewport[_ngcontent-%COMP%]{height:100%;width:100%;overflow-x:scroll}"],changeDetection:0})}}var ke=o(266),Ae=o(9131),Se=o(3061);class ce{static{this.\u0275fac=function(c){return new(c||ce)}}static{this.\u0275mod=e.oAB({type:ce})}static{this.\u0275inj=e.cJS({imports:[h.vV,n.c,B.I]})}}e.B6R(f.s,[h.A9,h.Yi,V.O5,q.lW,q.RK,ne.Hw,ke.gM,Ae.j,Se.T,_,oe,ie],[V.Ov])},315:(W,Z,o)=>{o.d(Z,{S:()=>p});var h=o(3969),B=o(7717),f=o(9646),I=o(4128),e=o(4004),w=o(4650);class p{constructor(){this.calculateInlineLines=(m,M,T)=>{const E=[];let v=0,O=0,L=[];const k=(C,d)=>{(C>v||d>O)&&(E.push(...(0,B.Z)(m.slice(v,C),M.slice(O,d)).map(([t,i])=>({oldLine:t??null,newLine:i??null,status:"unchanged"}))),v=C,O=d)};for(const C of T){k(C.oldStart-1,C.newStart-1),[L,v,O]=this.calculateGroups(m,M,v,O,C);for(const d of L)"modified"===d.type?E.push(...d.lines.flatMap(t=>"replaced"===t.status?[{...t,status:"removed",newLine:null},{...t,status:"added",oldLine:null}]:[t]).sort((t,i)=>"removed"===t.status&&"removed"===i.status?0:"removed"===t.status?-1:"removed"===i.status?1:0)):E.push(...d.lines)}return k(m.length,M.length),(0,f.of)(E)},this.calculateHunkLines=(m,M,T)=>{const E=[];let v=0,O=0,L=[];const k=(C,d,t)=>{(C>v||d>O)&&(E.push({isSeparator:!0,separatorHeader:t,hiddenDiffLines:(0,B.Z)(m.slice(v,C),M.slice(O,d)).map(([i,g])=>({oldLine:i??null,newLine:g??null,status:"unchanged"}))}),v=C,O=d)};for(const C of T){k(C.oldStart-1,C.newStart-1,C.header),[L,v,O]=this.calculateGroups(m,M,v,O,C);for(const d of L)"modified"===d.type?E.push(...d.lines.flatMap(t=>"replaced"===t.status?[{isSeparator:!1,diffLine:{...t,status:"removed",newLine:null}},{isSeparator:!1,diffLine:{...t,status:"added",oldLine:null}}]:[{isSeparator:!1,diffLine:t}]).sort((t,i)=>"removed"===t.diffLine.status&&"removed"===i.diffLine.status?0:"removed"===t.diffLine.status?-1:"removed"===i.diffLine.status?1:0)):E.push(...d.lines.map(t=>({isSeparator:!1,diffLine:t})))}return k(m.length,M.length,null),(0,f.of)(E)},this.calculateSplitLines=(m,M,T)=>{const E=[];let v=0,O=0,L=[];const k=(C,d)=>{(C>v||d>O)&&(E.push(...(0,B.Z)(m.slice(v,C),M.slice(O,d)).map(([t,i])=>({oldLine:t??null,newLine:i??null,status:"unchanged"}))),v=C,O=d)};for(const C of T){k(C.oldStart-1,C.newStart-1),[L,v,O]=this.calculateGroups(m,M,v,O,C);for(const d of L)E.push(...d.lines)}return k(m.length,M.length),(0,f.of)(E)},this.calculateMergeLines=(m,M,T,E,v)=>{const O=[],L=this.calculateSplitLines(m,M,E),k=this.calculateSplitLines(m,T,v);return(0,I.D)([L,k]).pipe((0,e.U)(([C,d])=>{let t=1,i=0,g=0;for(;i<C.length&&g<d.length;){const u=C[i],b=d[g];if(u.oldLine||b.oldLine){if(!u.oldLine&&b.oldLine)O.push({baseLine:null,yoursLine:u.newLine,yoursStatus:u.status,theirsLine:null,theirsStatus:null}),i++;else if(u.oldLine&&!b.oldLine)O.push({baseLine:null,yoursLine:null,yoursStatus:null,theirsLine:b.newLine,theirsStatus:b.status}),g++;else if(u.oldLine&&b.oldLine){if(t!==u.oldLine.lineNumber||t!==b.oldLine.lineNumber)throw new Error(`Base line numbers do not match - yours: ${u.oldLine.lineNumber}, theirs: ${b.oldLine.lineNumber}`);O.push({baseLine:b.oldLine,yoursLine:u.newLine,yoursStatus:u.status,theirsLine:b.newLine,theirsStatus:b.status}),t++,i++,g++}}else O.push({baseLine:null,yoursLine:u.newLine,yoursStatus:u.status,theirsLine:b.newLine,theirsStatus:b.status}),i++,g++}for(;i<C.length;){const u=C[i];O.push({baseLine:u.oldLine,yoursLine:u.newLine,yoursStatus:u.status,theirsLine:null,theirsStatus:null}),i++}for(;g<d.length;){const u=d[g];O.push({baseLine:u.oldLine,yoursLine:null,yoursStatus:null,theirsLine:u.newLine,theirsStatus:u.status}),g++}return O}))},this.calculateGroups=(m,M,T,E,v)=>{const O=v.lines.filter(t=>">"!==t.origin&&"<"!==t.origin),L=[];let k=T,C=E,d=0;for(;d<O.length;)if(-1===O[d].newLineNo){const t=[];for(;d<O.length&&-1===O[d].newLineNo;)t.push(m[k]),k++,d++;if(d<O.length&&-1===O[d].oldLineNo){const i=[];for(;d<O.length&&-1===O[d].oldLineNo;)i.push(M[C]),C++,d++;L.push(this.createModifiedGroup(t,i))}else L.push({type:"removed",lines:t.map(i=>({oldLine:i,newLine:null,status:"removed"}))})}else if(-1===O[d].oldLineNo){const t=[];for(;d<O.length&&-1===O[d].oldLineNo;)t.push(M[C]),C++,d++;if(d<O.length&&-1===O[d].newLineNo){const i=[];for(;d<O.length&&-1===O[d].newLineNo;)i.push(m[k]),k++,d++;L.push(this.createModifiedGroup(i,t))}else L.push({type:"added",lines:t.map(i=>({oldLine:null,newLine:i,status:"added"}))})}else{const t=[],i=[];for(;d<O.length&&-1!==O[d].oldLineNo&&-1!==O[d].newLineNo;)t.push(m[k]),i.push(M[C]),k++,C++,d++;L.push({type:"unchanged",lines:(0,B.Z)(t,i).map(([g,u])=>({oldLine:g??null,newLine:u??null,status:"unchanged"}))})}return[L,k,C]},this.createModifiedGroup=(m,M)=>{const T=m.map(y=>y.text.replace("\n","")).join("\n"),E=M.map(y=>y.text.replace("\n","")).join("\n"),v=new h.diff_match_patch,O=v.diff_main(T,E);v.diff_cleanupSemantic(O);const L=[];let k=0,C=0,d=null,t=null,i=[],g=[],u=[];const b=y=>{y===h.DIFF_EQUAL?(L.push({status:null!==d&&null!==t?"replaced":null!==d?"removed":"added",oldLine:null!==d?{...m[k],tokens:[...m[k].tokens,...i]}:null,newLine:null!==t?{...M[C],tokens:[...M[C].tokens,...g]}:null}),k++,C++,d=null,t=null,i=[],g=[]):y===h.DIFF_INSERT?(null===d&&(L.push(...u),u=[]),(null===d?L:u).push({status:"added",oldLine:null,newLine:{...M[C],tokens:[...M[C].tokens,...g]}}),C++,t=null,g=[]):y===h.DIFF_DELETE&&(null===t&&(L.push(...u),u=[]),(null===t?L:u).push({status:"removed",oldLine:{...m[k],tokens:[...m[k].tokens,...i]},newLine:null}),k++,d=null,i=[])};for(const[y,F]of O){const A=F.split("\n");if(y===h.DIFF_EQUAL){if(A.length>1){L.push(...u),u=[],null!==d||null!==t?(d=(d??0)+A[0].length,t=(t??0)+A[0].length,b(y)):(L.push({status:"unchanged",oldLine:m[k],newLine:M[C]}),k++,C++);for(let N=1;N<A.length-1;N++)L.push({status:"unchanged",oldLine:m[k],newLine:M[C]}),k++,C++}d=(d??0)+A[A.length-1].length,t=(t??0)+A[A.length-1].length}else if(y===h.DIFF_INSERT){if(A.length>1)if(null!==t){A[0].length>0&&g.push({startIndex:t??0,endIndex:(t??0)+A[0].length,scopes:["diff-added"]}),t+=A[0].length,b(y);for(let N=1;N<A.length-1;N++)(null===d?L:u).push({status:"added",oldLine:null,newLine:{...M[C],tokens:[...M[C].tokens,{startIndex:0,endIndex:A[N].length,scopes:["diff-added"]}]}}),C++}else for(let N=0;N<A.length-1;N++)(null===d?L:u).push({status:"added",oldLine:null,newLine:{...M[C],tokens:[...M[C].tokens,{startIndex:0,endIndex:A[N].length,scopes:["diff-added"]}]}}),C++;A[A.length-1].length>0&&g.push({startIndex:t??0,endIndex:(t??0)+A[A.length-1].length,scopes:["diff-added"]}),t=(t??0)+A[A.length-1].length}else if(y===h.DIFF_DELETE){if(A.length>1)if(null!==d){A[0].length>0&&i.push({startIndex:d??0,endIndex:(d??0)+A[0].length,scopes:["diff-removed"]}),d+=A[0].length,b(y);for(let N=1;N<A.length-1;N++)(null===t?L:u).push({status:"removed",oldLine:{...m[k],tokens:[...m[k].tokens,{startIndex:0,endIndex:A[N].length,scopes:["diff-removed"]}]},newLine:null}),k++}else for(let N=0;N<A.length-1;N++)(null===t?L:u).push({status:"removed",oldLine:{...m[k],tokens:[...m[k].tokens,{startIndex:0,endIndex:A[N].length,scopes:["diff-removed"]}]},newLine:null}),k++;A[A.length-1].length>0&&i.push({startIndex:d??0,endIndex:(d??0)+A[A.length-1].length,scopes:["diff-removed"]}),d=(d??0)+A[A.length-1].length}}return L.push(...u),(null!==d||null!==t)&&(0===T.length&&(d=d??0),0===E.length&&(t=t??0),b(h.DIFF_EQUAL)),{type:"modified",lines:L}}}static{this.lineNumberCharacterWidth=8.3}static{this.lineNumberSpacing=10}calculateMargin(m,M=!1){return p.lineNumberSpacing+m*p.lineNumberCharacterWidth*(M?1:2)}getFileExtension(m){if(!m)return null;const M=m.lastIndexOf(".");return M>0?m.substring(M+1):null}static{this.\u0275fac=function(M){return new(M||p)}}static{this.\u0275prov=w.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})}}},1899:(W,Z,o)=>{o.d(Z,{y:()=>n});var h=o(4650);class n{transform(f,I,e){if(!e||!I)return f;const w=Array.from(I.matchAll(e),p=>({startIndex:p.index??0,endIndex:(p.index??0)+p[0].length,scopes:["search-result"]}));return[...f,...w]}static{this.\u0275fac=function(I){return new(I||n)}}static{this.\u0275pipe=h.Yjl({name:"searchToken",type:n,pure:!0})}}},1453:(W,Z,o)=>{o.d(Z,{U:()=>I});var h=o(9466),n=o(1256),B=o(4650);class I{constructor(){this.renderScopes=w=>w.map(p=>this.renderScope(p)).join(" "),this.areEqual=(w,p)=>{if(w.length!==p.length)return!1;const r=new Set(w);for(const m of p)if(!r.has(m))return!1;return!0}}transform(w,p=""){if(!p)return[];if(p.length>1e4)return[{class:"normal",text:p.slice(0,1e4)+"... Max line length reached!"}];const r=(0,h.Z)(w,E=>E.startIndex),m=[];let M=0,T=r.filter(E=>E.startIndex<=M&&E.endIndex>M);for(;M<p.length;){let E=r.filter(O=>O.startIndex<=M&&O.endIndex>M);const v=M;for(;this.areEqual(T,E)&&M<p.length;)M++,E=r.filter(O=>O.startIndex<=M&&O.endIndex>M);m.push({class:this.renderScopes(T.map(O=>O.scopes)),text:p.substring(v,M)||"\n"}),T=E}return m}renderScope(w){const r=w[w.length-1].split(".");return(0,n.Z)(1,r.length+1).map(m=>r.slice(0,m).join("-")).join(" ")}static{this.\u0275fac=function(p){return new(p||I)}}static{this.\u0275pipe=B.Yjl({name:"tokens",type:I,pure:!0})}}},811:(W,Z,o)=>{o.d(Z,{A9:()=>v,Yi:()=>L,vV:()=>k});var h=o(2693),n=o(1281),B=o(5017),f=o(4650),I=o(4006),e=o(3238);const w=["button"],p=["*"],r=new f.OlP("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),m=new f.OlP("MatButtonToggleGroup"),M={provide:I.JU,useExisting:(0,f.Gpc)(()=>v),multi:!0};let T=0;class E{constructor(d,t){this.source=d,this.value=t}}let v=(()=>{class C{get name(){return this._name}set name(t){this._name=t,this._markButtonsForCheck()}get vertical(){return this._vertical}set vertical(t){this._vertical=(0,n.Ig)(t)}get value(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t.map(i=>i.value):t[0]?t[0].value:void 0}set value(t){this._setSelectionByValue(t),this.valueChange.emit(this.value)}get selected(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t:t[0]||null}get multiple(){return this._multiple}set multiple(t){this._multiple=(0,n.Ig)(t),this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(t){this._disabled=(0,n.Ig)(t),this._markButtonsForCheck()}constructor(t,i){this._changeDetector=t,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+T++,this.valueChange=new f.vpe,this.change=new f.vpe,this.appearance=i&&i.appearance?i.appearance:"standard"}ngOnInit(){this._selectionModel=new B.Ov(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(t=>t.checked))}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_emitChangeEvent(t){const i=new E(t,this.value);this._controlValueAccessorChangeFn(i.value),this.change.emit(i)}_syncButtonToggle(t,i,g=!1,u=!1){!this.multiple&&this.selected&&!t.checked&&(this.selected.checked=!1),this._selectionModel?i?this._selectionModel.select(t):this._selectionModel.deselect(t):u=!0,u?Promise.resolve().then(()=>this._updateModelValue(t,g)):this._updateModelValue(t,g)}_isSelected(t){return this._selectionModel&&this._selectionModel.isSelected(t)}_isPrechecked(t){return!(typeof this._rawValue>"u")&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(i=>null!=t.value&&i===t.value):t.value===this._rawValue)}_setSelectionByValue(t){this._rawValue=t,this._buttonToggles&&(this.multiple&&t?(Array.isArray(t),this._clearSelection(),t.forEach(i=>this._selectValue(i))):(this._clearSelection(),this._selectValue(t)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(t=>t.checked=!1)}_selectValue(t){const i=this._buttonToggles.find(g=>null!=g.value&&g.value===t);i&&(i.checked=!0,this._selectionModel.select(i))}_updateModelValue(t,i){i&&this._emitChangeEvent(t),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(t=>t._markForCheck())}}return C.\u0275fac=function(t){return new(t||C)(f.Y36(f.sBO),f.Y36(r,8))},C.\u0275dir=f.lG2({type:C,selectors:[["mat-button-toggle-group"]],contentQueries:function(t,i,g){if(1&t&&f.Suo(g,L,5),2&t){let u;f.iGM(u=f.CRH())&&(i._buttonToggles=u)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(t,i){2&t&&(f.uIk("aria-disabled",i.disabled),f.ekj("mat-button-toggle-vertical",i.vertical)("mat-button-toggle-group-appearance-standard","standard"===i.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[f._Bn([M,{provide:m,useExisting:C}])]}),C})();const O=(0,e.Kr)(class{});let L=(()=>{class C extends O{get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(t){this._appearance=t}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(t){const i=(0,n.Ig)(t);i!==this._checked&&(this._checked=i,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(t){this._disabled=(0,n.Ig)(t)}constructor(t,i,g,u,b,y){super(),this._changeDetectorRef=i,this._elementRef=g,this._focusMonitor=u,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new f.vpe;const F=Number(b);this.tabIndex=F||0===F?F:null,this.buttonToggleGroup=t,this.appearance=y&&y.appearance?y.appearance:"standard"}ngOnInit(){const t=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+T++,t&&(t._isPrechecked(this)?this.checked=!0:t._isSelected(this)!==this._checked&&t._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const t=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),t&&t._isSelected(this)&&t._syncButtonToggle(this,!1,!1,!0)}focus(t){this._buttonElement.nativeElement.focus(t)}_onButtonClick(){const t=!!this._isSingleSelector()||!this._checked;t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new E(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this._isSingleSelector()?this.buttonToggleGroup.name:this.name||null}_isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}}return C.\u0275fac=function(t){return new(t||C)(f.Y36(m,8),f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(h.tE),f.$8M("tabindex"),f.Y36(r,8))},C.\u0275cmp=f.Xpm({type:C,selectors:[["mat-button-toggle"]],viewQuery:function(t,i){if(1&t&&f.Gf(w,5),2&t){let g;f.iGM(g=f.CRH())&&(i._buttonElement=g.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(t,i){1&t&&f.NdJ("focus",function(){return i.focus()}),2&t&&(f.uIk("aria-label",null)("aria-labelledby",null)("id",i.id)("name",null),f.ekj("mat-button-toggle-standalone",!i.buttonToggleGroup)("mat-button-toggle-checked",i.checked)("mat-button-toggle-disabled",i.disabled)("mat-button-toggle-appearance-standard","standard"===i.appearance))},inputs:{disableRipple:"disableRipple",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[f.qOj],ngContentSelectors:p,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(t,i){if(1&t&&(f.F$t(),f.TgZ(0,"button",0,1),f.NdJ("click",function(){return i._onButtonClick()}),f.TgZ(2,"span",2),f.Hsn(3),f.qZA()(),f._UZ(4,"span",3)(5,"span",4)),2&t){const g=f.MAs(1);f.Q6J("id",i.buttonId)("disabled",i.disabled||null),f.uIk("tabindex",i.disabled?-1:i.tabIndex)("aria-pressed",i.checked)("name",i._getButtonName())("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby),f.xp6(5),f.Q6J("matRippleTrigger",g)("matRippleDisabled",i.disableRipple||i.disabled)}},dependencies:[e.wG],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}"],encapsulation:2,changeDetection:0}),C})(),k=(()=>{class C{}return C.\u0275fac=function(t){return new(t||C)},C.\u0275mod=f.oAB({type:C}),C.\u0275inj=f.cJS({imports:[e.BQ,e.si,e.BQ]}),C})()},3693:(W,Z,o)=>{o.d(Z,{Z:()=>T});const f=function h(E){return function(v,O,L){for(var k=-1,C=Object(v),d=L(v),t=d.length;t--;){var i=d[E?t:++k];if(!1===O(C[i],i,C))break}return v}}();var I=o(4157);var p=o(8706);const T=function r(E,v){return function(O,L){if(null==O)return O;if(!(0,p.Z)(O))return E(O,L);for(var k=O.length,C=v?k:-1,d=Object(O);(v?C--:++C<k)&&!1!==L(d[C],C,d););return O}}(function e(E,v){return E&&f(E,v,I.Z)})},1134:(W,Z,o)=>{o.d(Z,{Z:()=>B});var h=o(6460);const B=function n(f,I,e){for(var w=-1,p=f.length;++w<p;){var r=f[w],m=I(r);if(null!=m&&(void 0===M?m==m&&!(0,h.Z)(m):e(m,M)))var M=m,T=r}return T}},2382:(W,Z,o)=>{o.d(Z,{Z:()=>n});const n=function h(B,f){return B>f}},5944:(W,Z,o)=>{o.d(Z,{Z:()=>d});var h=o(7988),n=o(7298),B=o(539),f=o(3693),I=o(8706);var m=o(6932),M=o(6460);const E=function T(t,i){if(t!==i){var g=void 0!==t,u=null===t,b=t==t,y=(0,M.Z)(t),F=void 0!==i,A=null===i,N=i==i,Q=(0,M.Z)(i);if(!A&&!Q&&!y&&t>i||y&&F&&N&&!A&&!Q||u&&F&&N||!g&&N||!b)return 1;if(!u&&!y&&!Q&&t<i||Q&&g&&b&&!u&&!y||A&&g&&b||!F&&b||!N)return-1}return 0};var L=o(9940),k=o(4177);const d=function C(t,i,g){i=i.length?(0,h.Z)(i,function(y){return(0,k.Z)(y)?function(F){return(0,n.Z)(F,1===y.length?y[0]:y)}:y}):[L.Z];var u=-1;i=(0,h.Z)(i,(0,m.Z)(B.Z));var b=function e(t,i){var g=-1,u=(0,I.Z)(t)?Array(t.length):[];return(0,f.Z)(t,function(b,y,F){u[++g]=i(b,y,F)}),u}(t,function(y,F,A){return{criteria:(0,h.Z)(i,function(Q){return Q(y)}),index:++u,value:y}});return function p(t,i){var g=t.length;for(t.sort(i);g--;)t[g]=t[g].value;return t}(b,function(y,F){return function v(t,i,g){for(var u=-1,b=t.criteria,y=i.criteria,F=b.length,A=g.length;++u<F;){var N=E(b[u],y[u]);if(N)return u>=A?N:N*("desc"==g[u]?-1:1)}return t.index-i.index}(y,F,g)})}},4810:(W,Z,o)=>{o.d(Z,{Z:()=>e});var h=o(3093),n=o(8706),B=o(6667),f=o(1999);const e=function I(w,p,r){if(!(0,f.Z)(r))return!1;var m=typeof p;return!!("number"==m?(0,n.Z)(r)&&(0,B.Z)(p,r.length):"string"==m&&p in r)&&(0,h.Z)(r[p],w)}},1256:(W,Z,o)=>{o.d(Z,{Z:()=>m});var h=Math.ceil,n=Math.max;var I=o(4810),e=o(5601);const m=function w(M){return function(T,E,v){return v&&"number"!=typeof v&&(0,I.Z)(T,E,v)&&(E=v=void 0),T=(0,e.Z)(T),void 0===E?(E=T,T=0):E=(0,e.Z)(E),function B(M,T,E,v){for(var O=-1,L=n(h((T-M)/(E||1)),0),k=Array(L);L--;)k[v?L:++O]=M,M+=E;return k}(T,E,v=void 0===v?T<E?1:-1:(0,e.Z)(v),M)}}()},9466:(W,Z,o)=>{o.d(Z,{Z:()=>e});var h=o(113),n=o(5944),B=o(7965),f=o(4810);const e=(0,B.Z)(function(w,p){if(null==w)return[];var r=p.length;return r>1&&(0,f.Z)(w,p[0],p[1])?p=[]:r>2&&(0,f.Z)(p[0],p[1],p[2])&&(p=[p[0]]),(0,n.Z)(w,(0,h.Z)(p,1),[])})},5601:(W,Z,o)=>{o.d(Z,{Z:()=>d});var h=/\s/;var f=/^\s+/;const e=function I(t){return t&&t.slice(0,function n(t){for(var i=t.length;i--&&h.test(t.charAt(i)););return i}(t)+1).replace(f,"")};var w=o(1999),p=o(6460),m=/^[-+]0x[0-9a-f]+$/i,M=/^0b[01]+$/i,T=/^0o[0-7]+$/i,E=parseInt;var L=1/0;const d=function C(t){return t?(t=function v(t){if("number"==typeof t)return t;if((0,p.Z)(t))return NaN;if((0,w.Z)(t)){var i="function"==typeof t.valueOf?t.valueOf():t;t=(0,w.Z)(i)?i+"":i}if("string"!=typeof t)return 0===t?t:+t;t=e(t);var g=M.test(t);return g||T.test(t)?E(t.slice(2),g?2:8):m.test(t)?NaN:+t}(t))===L||t===-L?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}}}]);
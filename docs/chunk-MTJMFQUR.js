import{k as ye}from"./chunk-LASU6GW6.js";import{b as be}from"./chunk-5T66DEWK.js";import{G as x}from"./chunk-ZK5OAROB.js";import{$i as I,Aa as j,Ab as L,Ba as w,Ca as U,Cb as r,Db as s,E as F,Eb as X,Fa as N,Fi as oe,Ga as C,Gb as Y,Hi as re,Ii as ae,Ji as pe,Ki as le,Lf as J,Li as se,Mi as me,Nb as z,Ob as H,Oi as ce,R as A,Ri as ue,Sb as q,Si as de,Tf as K,Ua as c,Va as p,Vi as fe,Wa as l,Wi as he,Xa as W,Xi as _e,Yf as Q,Zi as ve,_ as P,ah as ee,cb as h,da as d,ea as f,eb as _,fb as v,gh as te,j as k,ji as T,mb as B,pj as ge,q as E,qb as m,rb as g,sb as y,sd as S,tb as G,th as ie,ug as Z,uh as ne,va as o,vb as $,za as u}from"./chunk-R5KNYV3F.js";function we(t,M){if(t&1){let e=h();p(0,"button",6),_("click",function(){d(e);let n=v(2);return f(n.openWithTerminal())}),p(1,"mat-icon"),m(2,"terminal"),l(),m(3),r(4,"translate"),l()}t&2&&(o(3),y(" ",s(4,1,"Terminal")," "))}function Se(t,M){if(t&1){let e=h();p(0,"button",6),_("click",function(){d(e);let n=v(2);return f(n.openWithVsCode())}),W(1,"mat-icon",9),m(2),r(3,"translate"),l()}t&2&&(o(2),y(" ",s(3,1,"Visual Studio Code")," "))}function Te(t,M){if(t&1){let e=h();p(0,"button",10),_("click",function(){let n=d(e).$implicit,b=v(2);return f(b.openRemote(n.url))}),W(1,"mat-icon",11),m(2),r(3,"translate"),r(4,"translate"),r(5,"translate"),l()}if(t&2){let e=M.$implicit;c("matTooltip",e.url),o(),c("svgIcon",$(e.type)),o(),G(" ",e.type==="bitbucket"?s(3,5,"Bitbucket"):e.type==="github"?s(4,7,"GitHub"):e.type==="gitlab"?s(5,9,"GitLab"):"",": ",e.name," ")}}function Ie(t,M){if(t&1){let e=h();p(0,"div",4)(1,"div",5),m(2),r(3,"translate"),l(),p(4,"button",6),_("click",function(){d(e);let n=v();return f(n.openWithFileExplorer())}),p(5,"mat-icon"),m(6,"folder"),l(),m(7),l(),C(8,we,5,3,"button",7),r(9,"async"),C(10,Se,4,3,"button",7),r(11,"async"),C(12,Te,6,11,"button",8),r(13,"async"),l()}if(t&2){let e=v();o(2),g(s(3,5,"Open with...")),o(5),y(" ",e.folderText," "),o(),c("ngIf",s(9,7,e.hasTerminal)),o(2),c("ngIf",s(11,9,e.hasVsCode)),o(2),c("ngForOf",s(13,11,e.remotes))}}var Xe=(()=>{class t extends ie(ne){constructor(e,i,n,b,V){super(),this.overlay=e,this.viewContainerRef=i,this.store=n,this.filesApi=b,this.providerUrlMatcherService=V,this.menuOverlayRef=new k(null),this.folderText=fe?"Finder":he?"File Explorer":"File Manager",this.openMenu=(a,R,D)=>{a.preventDefault(),a.stopPropagation(),this.closeMenu();let O=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo(R).withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"}])});this.menuOverlayRef.next(O),O.attach(new J(D,this.viewContainerRef)),_e(O,!1).pipe(F(1),A(this.destroyed$)).subscribe(()=>this.closeMenu())},this.closeMenu=()=>{this.menuOverlayRef.value&&(this.menuOverlayRef.value.dispose(),this.menuOverlayRef.next(null))},this.openWithFileExplorer=()=>{let a=this.store.selectSnapshot(x.selectedRepositoryPath);if(!a)throw new S;this.filesApi.openFileWithShell(a).subscribe(),this.closeMenu()},this.openWithTerminal=()=>{let a=this.store.selectSnapshot(x.selectedRepositoryPath);if(!a)throw new S;this.filesApi.openTerminal(a).subscribe(),this.closeMenu()},this.openWithVsCode=()=>{let a=this.store.selectSnapshot(x.selectedRepositoryPath);if(!a)throw new S;this.filesApi.openVsCode(a).subscribe(),this.closeMenu()},this.openRemote=a=>{window.open(a),this.closeMenu()}}ngOnInit(){this.remotes=this.store.select(x.selectedRemotes).pipe(E(e=>(e??[]).map(i=>{let n=this.providerUrlMatcherService.matchProvider(i.url);return n?[i,n]:null}).filter(ee).map(([i,n])=>({type:n.type,url:this.providerUrlMatcherService.getUrl(n),name:i.name})))),this.hasTerminal=this.filesApi.hasTerminal(),this.hasVsCode=this.filesApi.hasVsCode()}static{this.\u0275fac=function(i){return new(i||t)(u(K),u(j),u(Z),u(te),u(de))}}static{this.\u0275cmp=w({type:t,selectors:[["app-repository-actions-open-with"]],standalone:!1,features:[N],decls:7,vars:3,consts:[["openWithMenuBtn","appElementRef"],["openWithMenu",""],["type","button","mat-stroked-button","","appElementRef","",1,"item",3,"click","matTooltip"],[1,"launch-icon"],[1,"menu-panel"],[1,"menu-header"],["type","button",1,"menu-item",3,"click"],["type","button","class","menu-item",3,"click",4,"ngIf"],["type","button","class","menu-item",3,"matTooltip","click",4,"ngFor","ngForOf"],["svgIcon","microsoft-visual-studio-code"],["type","button",1,"menu-item",3,"click","matTooltip"],[3,"svgIcon"]],template:function(i,n){if(i&1){let b=h();p(0,"button",2,0),r(2,"translate"),_("click",function(a){d(b);let R=B(1),D=B(6);return f(n.openMenu(a,R,D))}),p(3,"mat-icon",3),m(4,"launch"),l()(),C(5,Ie,14,13,"ng-template",null,1,Y)}i&2&&c("matTooltip",s(2,1,"Open repository with..."))},dependencies:[z,H,T,ce,Q,ve,q,I],styles:[".item[_ngcontent-%COMP%]{min-width:45px;padding:0 10px;font-size:0}"],changeDetection:0})}}return t})();var Re=t=>({name:t}),qe=(()=>{class t{constructor(e){this.data=e}static{this.\u0275fac=function(i){return new(i||t)(u(oe))}}static{this.\u0275cmp=w({type:t,selectors:[["app-remove-submodule-dialog"]],standalone:!1,decls:13,vars:17,consts:[["mat-dialog-title",""],["type","button","mat-button","",3,"mat-dialog-close"],["type","submit","mat-button","","color","warn",3,"mat-dialog-close"]],template:function(i,n){i&1&&(p(0,"div",0),m(1),r(2,"translate"),l(),p(3,"mat-dialog-content"),m(4),r(5,"translate"),l(),p(6,"mat-dialog-actions")(7,"button",1),m(8),r(9,"translate"),l(),p(10,"button",2),m(11),r(12,"translate"),l()()),i&2&&(o(),g(s(2,6,"Remove Submodule")),o(3),y(" ",X(5,8,"Submodule _name_ has uncommitted changes, are you sure you want to remove it?",L(15,Re,n.data.name))," "),o(3),c("mat-dialog-close",null),o(),g(s(9,11,"Cancel")),o(2),c("mat-dialog-close",!0),o(),g(s(12,13,"Confirm")))},dependencies:[re,ae,le,pe,T,I],encapsulation:2,changeDetection:0})}}return t})();var nt=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=U({type:t})}static{this.\u0275inj=P({imports:[se,me,ue,be,ye,ge]})}}return t})();export{Xe as a,qe as b,nt as c};

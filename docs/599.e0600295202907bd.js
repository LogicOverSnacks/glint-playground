"use strict";(self.webpackChunkgit_glint=self.webpackChunkgit_glint||[]).push([[599],{2744:(Lt,lt,o)=>{o.d(lt,{S:()=>e});var s=o(5879);const e=x=>(()=>{class W extends x{constructor(){super(...arguments),this.disableTransitions=!0}ngOnInit(){super.ngOnInit&&super.ngOnInit(),setTimeout(()=>{this.disableTransitions=!1},0)}static{this.\u0275fac=function(){let K;return function(k){return(K||(K=s.n5z(W)))(k||W)}}()}static{this.\u0275prov=s.Yz7({token:W,factory:W.\u0275fac})}}return W})()},1361:(Lt,lt,o)=>{o.d(lt,{P:()=>i});var s=o(8645),e=o(927),x=o(8753),a=o(9773),W=o(5879);const i=K=>(()=>{class k extends K{ngAfterViewInit(){super.ngAfterViewInit&&super.ngAfterViewInit();const n=this.viewports.map(A=>{const B=new s.x,st=new ResizeObserver(()=>B.next());return B.pipe((0,x.p)(20,e.Z,{leading:!0,trailing:!0}),(0,a.R)(this.destroyed$)).subscribe(()=>{A.checkViewportSize()}),st.observe(A.elementRef.nativeElement),st});this.destroyed$.subscribe(()=>{n.forEach(A=>A.disconnect())})}static{this.\u0275fac=function(){let n;return function(B){return(n||(n=W.n5z(k)))(B||k)}}()}static{this.\u0275prov=W.Yz7({token:k,factory:k.\u0275fac})}}return k})()},4551:(Lt,lt,o)=>{o.d(lt,{j:()=>i});var s=o(5619),e=o(5879),x=o(6814),a=o(2596);function W(K,H){if(1&K&&(e.TgZ(0,"div",3),e._uU(1),e.ALo(2,"async"),e.qZA()),2&K){const k=e.oxw();e.xp6(1),e.Oqu(e.lcZ(2,1,k.leftPath))}}let i=(()=>{class K{constructor(){this.leftPath=new s.X(""),this.rightPath=new s.X("")}onCopy(k){k.preventDefault();const _=document.getSelection();_&&k.clipboardData?.setData("text/plain",_.toString().replace("\n",""))}ngOnChanges(k){if(k.path){const _=/^(.*)(\/[^\/]+)$/.exec(k.path.currentValue);_?(this.leftPath.next(_[1]??""),this.rightPath.next(_[2]??"")):(this.leftPath.next(""),this.rightPath.next(k.path.currentValue))}}static{this.\u0275fac=function(_){return new(_||K)}}static{this.\u0275cmp=e.Xpm({type:K,selectors:[["app-condensed-path"]],hostBindings:function(_,n){1&_&&e.NdJ("copy",function(B){return n.onCopy(B)})},inputs:{path:"path"},features:[e.TTD],decls:6,vars:7,consts:[[1,"container",3,"matTooltip"],["class","left",4,"ngIf"],[1,"right"],[1,"left"]],template:function(_,n){1&_&&(e.TgZ(0,"div",0),e.YNc(1,W,3,3,"div",1),e.ALo(2,"async"),e.TgZ(3,"div",2),e._uU(4),e.ALo(5,"async"),e.qZA()()),2&_&&(e.Q6J("matTooltip",n.path||""),e.xp6(1),e.Q6J("ngIf",e.lcZ(2,3,n.leftPath)),e.xp6(3),e.Oqu(e.lcZ(5,5,n.rightPath)))},dependencies:[x.O5,a.gM,x.Ov],styles:[".container[_ngcontent-%COMP%]{display:flex}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.left[_ngcontent-%COMP%]{min-width:15px}.right[_ngcontent-%COMP%]{flex:1 0 auto;max-width:100%}.left[_ngcontent-%COMP%] + .right[_ngcontent-%COMP%]{max-width:calc(100% - 15px)}"],changeDetection:0})}}return K})()},680:(Lt,lt,o)=>{o.d(lt,{T:()=>h});var s=o(5879),e=o(6223),x=o(5961),a=o(2572),W=o(3620),i=o(2181),K=o(7921),H=o(9773),k=o(4573),_=o(7910),n=o(5248),A=o(6814),B=o(2296),st=o(4170),t=o(617),at=o(4516),N=o(2596),j=o(7484);const E=["findControlInput"];function c(P,M){if(1&P&&(s.TgZ(0,"mat-error"),s._uU(1),s.qZA()),2&P){const y=s.oxw();s.xp6(1),s.Oqu(y.findControl.getError("regex"))}}let h=(()=>{class P extends((0,k.j)(_.A)){constructor(){super(...arguments),this.initial=null,this.searched=new s.vpe,this.findControl=new e.NI("",{nonNullable:!0,validators:y=>{if(this.useRegularExpressionControl?.value)try{new RegExp(y.value,"g")}catch(Z){return{regex:Z.message}}return null}}),this.matchCaseControl=new e.NI(!1,{nonNullable:!0}),this.useRegularExpressionControl=new e.NI(!1,{nonNullable:!0})}hostKeyDown(y){(n.V?y.metaKey:y.ctrlKey)&&("f"===y.key||"F"===y.key)&&(y.preventDefault(),this.findControlInput.nativeElement.focus({preventScroll:!0}))}ngOnInit(){this.initial&&(this.findControl.setValue(this.initial.text),this.matchCaseControl.setValue(this.initial.matchCase),this.useRegularExpressionControl.setValue(this.initial.useRegularExpression)),(0,a.a)([this.findControl.valueChanges.pipe((0,W.b)(200),(0,i.h)(()=>this.findControl.valid),(0,K.O)(this.findControl.value)),this.matchCaseControl.valueChanges.pipe((0,K.O)(this.matchCaseControl.value)),this.useRegularExpressionControl.valueChanges.pipe((0,K.O)(this.useRegularExpressionControl.value))]).pipe((0,H.R)(this.destroyed$)).subscribe(([y,Z,z])=>{if(this.findControl.updateValueAndValidity({emitEvent:!1}),y)try{const ct=new RegExp(z?y:(0,x.Z)(y),Z?"g":"ig");this.searched.next(ct)}catch{}else this.searched.next(null)})}static{this.\u0275fac=function(){let y;return function(z){return(y||(y=s.n5z(P)))(z||P)}}()}static{this.\u0275cmp=s.Xpm({type:P,selectors:[["app-find-control"]],viewQuery:function(Z,z){if(1&Z&&s.Gf(E,5,s.SBq),2&Z){let ct;s.iGM(ct=s.CRH())&&(z.findControlInput=ct.first)}},hostBindings:function(Z,z){1&Z&&s.NdJ("keydown",function(tt){return z.hostKeyDown(tt)},!1,s.evT)},inputs:{initial:"initial"},outputs:{searched:"searched"},features:[s.qOj],decls:19,vars:18,consts:[[1,"find-control"],["matPrefix",""],["type","text","matInput","",3,"formControl"],["findControlInput",""],["type","button","matSuffix","","mat-button","","disableRipple","",3,"matTooltip","click"],["svgIcon","format-letter-case"],["svgIcon","regex"],["type","button","matSuffix","","mat-button","",3,"matTooltip","click"],[4,"ngIf"]],template:function(Z,z){1&Z&&(s.TgZ(0,"mat-form-field",0)(1,"mat-label"),s._uU(2),s.ALo(3,"translate"),s.qZA(),s.TgZ(4,"mat-icon",1),s._uU(5,"search"),s.qZA(),s._UZ(6,"input",2,3),s.TgZ(8,"button",4),s.NdJ("click",function(){return z.matchCaseControl.setValue(!z.matchCaseControl.value)}),s.ALo(9,"translate"),s._UZ(10,"mat-icon",5),s.qZA(),s.TgZ(11,"button",4),s.NdJ("click",function(){return z.useRegularExpressionControl.setValue(!z.useRegularExpressionControl.value)}),s.ALo(12,"translate"),s._UZ(13,"mat-icon",6),s.qZA(),s.TgZ(14,"button",7),s.NdJ("click",function(){return z.findControl.setValue("")}),s.ALo(15,"translate"),s.TgZ(16,"mat-icon"),s._uU(17,"close"),s.qZA()(),s.YNc(18,c,2,1,"mat-error",8),s.qZA()),2&Z&&(s.xp6(2),s.Oqu(s.lcZ(3,10,"Find")),s.xp6(4),s.Q6J("formControl",z.findControl),s.xp6(2),s.ekj("selected",z.matchCaseControl.value),s.Q6J("matTooltip",s.lcZ(9,12,"Match case")),s.xp6(3),s.ekj("selected",z.useRegularExpressionControl.value),s.Q6J("matTooltip",s.lcZ(12,14,"Use regular expression")),s.xp6(3),s.Q6J("matTooltip",s.lcZ(15,16,"Clear")),s.xp6(4),s.Q6J("ngIf",z.findControl.hasError("regex")))},dependencies:[A.O5,e.Fj,e.JJ,e.oH,B.lW,st.KE,st.hX,st.TO,st.qo,st.R9,t.Hw,at.Nt,N.gM,j.X],styles:[".find-control[_ngcontent-%COMP%]{min-width:240px;margin-top:5px;width:100%}.find-control[_ngcontent-%COMP%]  .mat-mdc-form-field-icon-suffix{display:flex;align-items:center;gap:4px;margin-right:4px}.find-control[_ngcontent-%COMP%]  .mdc-notched-outline__leading, .find-control[_ngcontent-%COMP%]  .mdc-notched-outline__notch, .find-control[_ngcontent-%COMP%]  .mdc-notched-outline__trailing{border:none}.find-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:2px solid transparent;min-width:36px}.find-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:0;font-size:18px;width:18px;height:18px}.dark-theme[_nghost-%COMP%]   .find-control[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .find-control[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{border-color:#78909c}.light-theme[_nghost-%COMP%]   .find-control[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .find-control[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{border-color:#78909c}"],changeDetection:0})}}return P})()},8517:(Lt,lt,o)=>{o.d(lt,{$:()=>e});var s=o(5879);let e=(()=>{class x{constructor(W){this.template=W}static{this.\u0275fac=function(i){return new(i||x)(s.Y36(s.Rgc))}}static{this.\u0275dir=s.lG2({type:x,selectors:[["","appVirtualTreeEmptyNode",""]]})}}return x})()},510:(Lt,lt,o)=>{o.d(lt,{I:()=>e});var s=o(5879);let e=(()=>{class x{constructor(W){this.template=W}static{this.\u0275fac=function(i){return new(i||x)(s.Y36(s.Rgc))}}static{this.\u0275dir=s.lG2({type:x,selectors:[["","appVirtualTreeLeafNode",""]]})}}return x})()},3999:(Lt,lt,o)=>{o.d(lt,{J:()=>e});var s=o(5879);let e=(()=>{class x{constructor(W){this.template=W}static{this.\u0275fac=function(i){return new(i||x)(s.Y36(s.Rgc))}}static{this.\u0275dir=s.lG2({type:x,selectors:[["","appVirtualTreeNode",""]]})}}return x})()},9687:(Lt,lt,o)=>{o.d(lt,{L:()=>at});var s=o(6825),e=o(7368),x=o(5879),a=o(7398),W=o(4573),i=o(7910),K=o(2744),H=o(1361),k=o(8517),_=o(510),n=o(3999),A=o(6814);function B(N,j){1&N&&x.GkF(0)}const st=function(N){return{$implicit:N}};function t(N,j){if(1&N&&(x.TgZ(0,"li"),x.YNc(1,B,1,0,"ng-container",2),x.qZA()),2&N){const E=j.$implicit,c=x.oxw();x.Udp("padding-left",10*E.depth,"px"),x.xp6(1),x.Q6J("ngTemplateOutlet",c.isEmpty(E)?c.emptyNodeDirective.template:c.isLeaf(E)?c.leafNodeDirective.template:c.nodeDirective.template)("ngTemplateOutletContext",x.VKq(4,st,E))}}let at=(()=>{class N extends((0,W.j)(i.A,K.S,H.P)){constructor(){super(...arguments),this.keyPressed=new x.vpe,this.isEmpty=E=>!E.id,this.isLeaf=E=>!E.children,this.expandVisibleNodes=E=>this.isLeaf(E)||!E.expanded?[E]:[E,...E.children.length>0?E.children.flatMap(this.expandVisibleNodes):this.emptyNodeDirective?[{depth:1}]:[]]}ngOnInit(){super.ngOnInit(),this.visibleNodes=this.tree.pipe((0,a.U)(E=>E.reduce((c,h)=>[...c,...this.expandVisibleNodes(h)],[])))}trackById(E,c){return c.id??null}static{this.\u0275fac=function(){let E;return function(h){return(E||(E=x.n5z(N)))(h||N)}}()}static{this.\u0275cmp=x.Xpm({type:N,selectors:[["app-virtual-tree"]],contentQueries:function(c,h,P){if(1&c&&(x.Suo(P,n.J,5),x.Suo(P,_.I,5),x.Suo(P,k.$,5)),2&c){let M;x.iGM(M=x.CRH())&&(h.nodeDirective=M.first),x.iGM(M=x.CRH())&&(h.leafNodeDirective=M.first),x.iGM(M=x.CRH())&&(h.emptyNodeDirective=M.first)}},viewQuery:function(c,h){if(1&c&&x.Gf(e.N7,5),2&c){let P;x.iGM(P=x.CRH())&&(h.viewports=P)}},inputs:{tree:"tree",itemSize:"itemSize"},outputs:{keyPressed:"keyPressed"},features:[x.qOj],decls:5,vars:9,consts:[["tabindex","0",3,"itemSize","keydown"],[3,"padding-left",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(c,h){1&c&&(x.TgZ(0,"cdk-virtual-scroll-viewport",0),x.NdJ("keydown",function(M){return h.keyPressed.next(M)}),x.TgZ(1,"ul"),x.ALo(2,"async"),x.YNc(3,t,2,6,"li",1),x.ALo(4,"async"),x.qZA()()),2&c&&(x.Q6J("itemSize",h.itemSize)("@null",void 0),x.xp6(1),x.Q6J("@slide",x.lcZ(2,5,h.visibleNodes)),x.xp6(2),x.Q6J("cdkVirtualForOf",x.lcZ(4,7,h.visibleNodes))("cdkVirtualForTrackBy",h.trackById))},dependencies:[e.xd,e.x0,e.N7,A.tP,A.Ov],styles:["cdk-virtual-scroll-viewport[_ngcontent-%COMP%]{outline:none}cdk-virtual-scroll-viewport[_ngcontent-%COMP%]     .cdk-virtual-scroll-spacer{transition:height 225ms ease-in-out}li[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:hidden}"],data:{animation:[(0,s.X$)("null",[(0,s.eR)(":enter",[]),(0,s.eR)(":leave",[])]),(0,s.X$)("slide",[(0,s.eR)("* => *",[(0,s.ru)([(0,s.IO)("li:enter",[(0,s.oB)({height:0}),(0,s.jt)("225ms ease-in-out",(0,s.oB)({height:"*"}))],{optional:!0}),(0,s.IO)("li:leave",[(0,s.oB)({height:"*"}),(0,s.jt)("225ms ease-in-out",(0,s.oB)({height:0}))],{optional:!0})])])])]},changeDetection:0})}}return N})()},2415:(Lt,lt,o)=>{o.d(lt,{v:()=>H});var s=o(9773),e=o(4573),x=o(7910),a=o(8873),W=o(5879),i=o(6814),K=o(4666);let H=(()=>{class k extends((0,e.j)(x.A)){constructor(n,A,B){super(),this.datePipe=A,this.language="en",B.select(a.aB.language).pipe((0,s.R)(this.destroyed$)).subscribe(st=>{this.language=st,this.input&&(this.output=this.translate(st,this.input.date,this.input.format)),n.markForCheck()})}transform(n,A){return(!this.input||!this.output||this.input.date!==n||this.input.format!==A)&&(this.input={date:n,format:A},this.output=this.translate(this.language,n,A)),this.output}translate(n,A,B){let st;switch(n){case"en":st="en-GB","monthYear"===B&&(B="MMM yyyy");break;case"zh":st="zh-CN","monthYear"===B&&(B="yyyy\u5e74M\u6708")}return this.datePipe.transform(A,B,void 0,st)}static{this.\u0275fac=function(A){return new(A||k)(W.Y36(W.sBO,16),W.Y36(i.uU,16),W.Y36(K.yh,16))}}static{this.\u0275pipe=W.Yjl({name:"translateDate",type:k,pure:!1})}}return k})()},8599:(Lt,lt,o)=>{o.r(lt),o.d(lt,{StandardLayoutModule:()=>Qe});var s=o(9038),e=o(8525),x=o(1345),a=o(6016),W=o(4630),i=o(7700),K=o(4170),H=o(4516),k=o(7988),_=o(5940),n=o(4104),A=o(1264),B=o(8700),st=o(535),t=o(5879);let at=(()=>{class f{static{this.\u0275fac=function(C){return new(C||f)}}static{this.\u0275mod=t.oAB({type:f})}static{this.\u0275inj=t.cJS({imports:[W.Bb,i.Is,K.lN,H.c,k.Tx,_.Cq,e.LD,n.Nh,x.I,A.$,B.m,st.Z]})}}return f})();var N=o(2860),j=o(3897),E=o(6223),c=o(5619),h=o(2572),P=o(7921),M=o(8753),y=o(7398),Z=o(2181),z=o(9397),ct=o(4664),tt=o(2096),nt=o(6306),G=o(8504),ft=o(9773),xt=o(4716),q=o(3153),ut=o(4573),rt=o(7910),_t=o(751),bt=o(4820),Mt=o(2401),Bt=o(709),wt=o(4666),gt=o(2718),kt=o(7584),T=o(7183),D=o(5033),p=o(6814),I=o(2296),b=o(617),L=o(2596),w=o(6825),pt=o(7368),g=o(1361),U=o(4214),ot=o(1314),yt=o(1102),Dt=o(6275),Gt=o(9193),zt=o(3588),te=o(3235),Yt=o(1135),Kt=o(7484);function ae(f,Tt){if(1&f){const l=t.EpF();t.TgZ(0,"li",10),t.NdJ("click",function(){const $=t.CHM(l).$implicit,Y=t.oxw();return t.KtG(Y.selectedCommitDetail.next($))}),t.ALo(1,"async"),t._UZ(2,"app-avatar",11),t.TgZ(3,"span",12),t._uU(4),t.qZA()()}if(2&f){const l=Tt.$implicit,C=t.oxw(),u=t.MAs(12);let $;t.ekj("selected",l.id===(null==($=t.lcZ(1,9,C.selectedCommitDetail))?null:$.id)),t.Q6J("appContextMenu",u)("appContextMenuData",l),t.xp6(2),t.Q6J("matTooltip",l.authorName+" ("+l.authorEmail+")")("remotes",C.remotes)("email",l.authorEmail),t.xp6(1),t.Q6J("matTooltip",l.message),t.xp6(1),t.hij(" ",C.getCommitSummary(l)," ")}}function qt(f,Tt){if(1&f){const l=t.EpF();t.TgZ(0,"app-diff-view",13),t.NdJ("closed",function(){t.CHM(l);const u=t.oxw();return t.KtG(u.selectedPatch.next(null))}),t.qZA()}if(2&f){const l=t.oxw();t.Q6J("@slideLeft",void 0)("patch",l.selectedPatch)}}function le(f,Tt){if(1&f){const l=t.EpF();t.TgZ(0,"app-commit-detail-view",14),t.NdJ("patchChanged",function(u){t.CHM(l);const $=t.oxw();return t.KtG($.patchChanged(u))}),t.qZA()}if(2&f){const l=t.oxw();t.Q6J("commit",l.selectedCommitDetail)("selectedFile",l.selectedFile)}}function ue(f,Tt){if(1&f){const l=t.EpF();t.TgZ(0,"div",15)(1,"div",16),t._uU(2),t.qZA(),t.TgZ(3,"button",17),t.NdJ("click",function(){const $=t.CHM(l).data,Y=t.oxw();return t.KtG(Y.copyToClipboard($.commitId))}),t.TgZ(4,"mat-icon"),t._uU(5,"content_copy"),t.qZA(),t.TgZ(6,"span"),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.TgZ(9,"button",17),t.NdJ("click",function(){const $=t.CHM(l).data,Y=t.oxw();return t.KtG(Y.jumpToCommit($.commitId))}),t.TgZ(10,"mat-icon"),t._uU(11,"launch"),t.qZA(),t.TgZ(12,"span"),t._uU(13),t.ALo(14,"translate"),t.qZA()()()}if(2&f){const l=Tt.data,C=t.oxw();t.xp6(1),t.Q6J("matTooltip",l.message),t.xp6(1),t.Oqu(C.getCommitSummary(l)),t.xp6(1),t.Q6J("matTooltip",l.commitId),t.xp6(4),t.Oqu(t.lcZ(8,6,"Copy Commit ID")),t.xp6(2),t.Q6J("matTooltip",l.commitId),t.xp6(4),t.Oqu(t.lcZ(14,8,"Jump to Commit"))}}let de=(()=>{class f extends((0,ut.j)(rt.A,g.P)){constructor(l,C,u){super(),this.router=l,this.store=C,this.commitsApi=u,this.yUnit=ot.$.yUnit,this.commitDetails=new c.X([]),this.selectedCommitDetail=new c.X(null),this.selectedPatch=new c.X(null),this.selectedFile=this.selectedPatch.pipe((0,y.U)($=>$?{area:"commit",oldFilePath:$.patch.oldFilePath,newFilePath:$.patch.newFilePath}:null)),this.getCommitSummary=$=>$.message.split("\n")[0]}ngOnChanges(l){if(!l.commits)return;const C=this.store.selectSnapshot(Mt.E.selectedRepositoryPath);if(!C)throw new q.uX;this.repositoryPath=C,this.commitsApi.getCommits(C,this.commits).pipe((0,ft.R)(this.destroyed$)).subscribe($=>{this.commitDetails.next($),$[0]&&this.selectedCommitDetail.next($[0])});const u=this.store.selectSnapshot(Mt.E.selectedRemotes);if(!u)throw new q.St;this.remotes=u}patchChanged(l){const C=this.selectedCommitDetail.value;"commit"!==l.area||!C||0===C.patches.length||this.commitsApi.getPatch(this.repositoryPath,C.id,l.oldFilePath,l.newFilePath).pipe((0,y.U)(u=>({repositoryPath:this.repositoryPath,patch:u,isUnstaged:!1})),(0,nt.K)(u=>q.ik.matches(u)||q.vE.matches(u)?(0,tt.of)(null):(0,G._)(()=>u)),(0,ft.R)(this.destroyed$)).subscribe(u=>{this.selectedPatch.next(this.selectedPatch.value?.patch.newFilePath===u?.patch.newFilePath&&this.selectedPatch.value?.patch.oldFilePath===u?.patch.oldFilePath?null:u)})}copyToClipboard(l){navigator.clipboard.writeText(l??"")}jumpToCommit(l){this.store.dispatch([new U.jQ(this.repositoryPath,l),new U.BK(this.repositoryPath,l)]).subscribe(()=>{this.router.navigate(["/standard/default"])})}trackCommitDetail(l,C){return C.id}static{this.\u0275fac=function(C){return new(C||f)(t.Y36(j.F0),t.Y36(wt.yh),t.Y36(gt.T))}}static{this.\u0275cmp=t.Xpm({type:f,selectors:[["app-pull-request-commits-view"]],viewQuery:function(C,u){if(1&C&&t.Gf(pt.N7,5),2&C){let $;t.iGM($=t.CRH())&&(u.viewports=$)}},inputs:{commits:"commits"},features:[t.qOj,t.TTD],decls:13,vars:9,consts:[["id","pull-request-commits-view"],["min","200px",1,"left-cell"],[1,"viewport-wrapper"],[1,"viewport","messages-viewport",3,"itemSize"],[1,"messages"],[3,"selected","appContextMenu","appContextMenuData","click",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[3,"patch","closed",4,"ngIf"],["min","234px",1,"right-cell"],[3,"commit","selectedFile","patchChanged",4,"ngIf"],["contextMenu",""],[3,"appContextMenu","appContextMenuData","click"],[3,"matTooltip","remotes","email"],[1,"summary",3,"matTooltip"],[3,"patch","closed"],[3,"commit","selectedFile","patchChanged"],[1,"menu-panel"],[1,"menu-header",3,"matTooltip"],[1,"menu-item",3,"matTooltip","click"]],template:function(C,u){1&C&&(t.TgZ(0,"app-grid",0)(1,"app-grid-cell",1)(2,"div",2)(3,"cdk-virtual-scroll-viewport",3)(4,"ul",4),t.YNc(5,ae,5,11,"li",5),t.qZA()()(),t.YNc(6,qt,1,2,"app-diff-view",6),t.ALo(7,"async"),t.qZA(),t.TgZ(8,"app-grid-cell",7),t.YNc(9,le,1,2,"app-commit-detail-view",8),t.ALo(10,"async"),t.qZA()(),t.YNc(11,ue,15,10,"ng-template",null,9,t.W1O)),2&C&&(t.xp6(3),t.Q6J("itemSize",u.yUnit),t.xp6(2),t.Q6J("cdkVirtualForOf",u.commitDetails)("cdkVirtualForTrackBy",u.trackCommitDetail),t.xp6(1),t.Q6J("ngIf",t.lcZ(7,5,u.selectedPatch)),t.xp6(3),t.Q6J("ngIf",t.lcZ(10,7,u.selectedCommitDetail)))},dependencies:[pt.xd,pt.x0,pt.N7,p.O5,b.Hw,L.gM,yt.A,Dt.l,Gt.Y,zt.M,te.T,Yt.s,p.Ov,Kt.X],styles:[".viewport-wrapper[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}.messages-viewport[_ngcontent-%COMP%]{contain:content;scrollbar-gutter:stable;height:100%}.messages[_ngcontent-%COMP%]{position:relative;font-size:0}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative;cursor:pointer;height:28px;line-height:28px;padding-left:5px;padding-right:130px;user-select:none;white-space:nowrap}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%]{width:26px;height:26px;vertical-align:middle;margin-right:5px}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]{font-size:1rem;vertical-align:middle}app-diff-view[_ngcontent-%COMP%]{z-index:200;padding-left:10px}.dark-theme[_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover, .dark-theme   [_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{background-color:#2d2d2d}.dark-theme[_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%]{background-color:#424242}.dark-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#90a4ae;--bgColor: #1e1e1e}.dark-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date.selected.scrolled-to-top[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date.selected.scrolled-to-top[_ngcontent-%COMP%]{--bgColor: #424242}.dark-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{--bgColor: #424242}.light-theme[_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover, .light-theme   [_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.light-theme[_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%]{background-color:#eee}.light-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#90a4ae;--bgColor: #fafafa}.light-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date.selected.scrolled-to-top[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date.selected.scrolled-to-top[_ngcontent-%COMP%]{--bgColor: #eeeeee}.light-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{--bgColor: #eeeeee}"],data:{animation:[(0,w.X$)("slideLeft",[(0,w.eR)(":enter",[(0,w.oB)({position:"absolute",top:0,left:0,transform:"translateX(100%)"}),(0,w.jt)("200ms",(0,w.oB)({transform:"translateX(0)"}))]),(0,w.eR)(":leave",[(0,w.oB)({position:"absolute",top:0,left:0,transform:"translateX(0)"}),(0,w.jt)("200ms",(0,w.oB)({transform:"translateX(100%)"}))])])]},changeDetection:0})}}return f})();var he=o(5684),pe=o(5696);function me(f,Tt){if(1&f){const l=t.EpF();t.TgZ(0,"app-diff-view",5),t.NdJ("closed",function(){t.CHM(l);const u=t.oxw();return t.KtG(u.selectedPatch.next(null))}),t.qZA()}if(2&f){const l=t.oxw();t.Q6J("@slideLeft",void 0)("patch",l.selectedPatch)}}let ht=(()=>{class f extends((0,ut.j)(rt.A)){constructor(l,C){super(),this.store=l,this.commitsApi=C,this.selectedPatch=new c.X(null),this.selectedFile=this.selectedPatch.pipe((0,y.U)(u=>u?{area:"commit",oldFilePath:u.patch.oldFilePath,newFilePath:u.patch.newFilePath}:null))}ngOnInit(){const l=this.store.selectSnapshot(Mt.E.selectedRepositoryPath);if(!l)throw new q.uX;this.repositoryPath=l}ngAfterViewInit(){const l=(0,he.Z)(this.patches,C=>C.oldFilePath?.toLowerCase()??C.newFilePath?.toLowerCase())[0];l&&setTimeout(()=>{this.changePatch(l.oldFilePath,l.newFilePath)},500)}changePatch(l,C){this.commitsApi.getCompareCommitsPatch(this.repositoryPath,this.fromCommitId,this.toCommitId,l,C).pipe((0,y.U)(u=>({repositoryPath:this.repositoryPath,patch:u,isUnstaged:!1})),(0,nt.K)(u=>q.ik.matches(u)||q.vE.matches(u)?(0,tt.of)(null):(0,G._)(()=>u)),(0,ft.R)(this.destroyed$)).subscribe(u=>{this.selectedPatch.next(this.selectedPatch.value?.patch.newFilePath===u?.patch.newFilePath&&this.selectedPatch.value?.patch.oldFilePath===u?.patch.oldFilePath?null:u)})}static{this.\u0275fac=function(C){return new(C||f)(t.Y36(wt.yh),t.Y36(gt.T))}}static{this.\u0275cmp=t.Xpm({type:f,selectors:[["app-pull-request-patches-view"]],inputs:{fromCommitId:"fromCommitId",toCommitId:"toCommitId",patches:"patches"},features:[t.qOj],decls:7,vars:7,consts:[["id","pull-request-commits-view"],["min","200px",1,"left-cell"],[3,"patch","closed",4,"ngIf"],["min","234px",1,"right-cell"],[3,"patches","selected","selectedChanged"],[3,"patch","closed"]],template:function(C,u){1&C&&(t.TgZ(0,"app-grid",0)(1,"app-grid-cell",1),t.YNc(2,me,1,2,"app-diff-view",2),t.ALo(3,"async"),t.qZA(),t.TgZ(4,"app-grid-cell",3)(5,"app-patches-view",4),t.NdJ("selectedChanged",function(Y){return u.changePatch(Y.oldFilePath,Y.newFilePath)}),t.ALo(6,"async"),t.qZA()()()),2&C&&(t.xp6(2),t.Q6J("ngIf",t.lcZ(3,3,u.selectedPatch)),t.xp6(3),t.Q6J("patches",u.patches)("selected",t.lcZ(6,5,u.selectedFile)))},dependencies:[p.O5,Gt.Y,zt.M,Yt.s,pe.i,p.Ov],styles:["app-diff-view[_ngcontent-%COMP%]{z-index:200;padding-left:10px}app-patches-view[_ngcontent-%COMP%]{padding:16px;height:100%;display:flex;flex-direction:column;gap:10px}"],data:{animation:[(0,w.X$)("slideLeft",[(0,w.eR)(":enter",[(0,w.oB)({position:"absolute",top:0,left:0,transform:"translateX(100%)"}),(0,w.jt)("200ms",(0,w.oB)({transform:"translateX(0)"}))]),(0,w.eR)(":leave",[(0,w.oB)({position:"absolute",top:0,left:0,transform:"translateX(0)"}),(0,w.jt)("200ms",(0,w.oB)({transform:"translateX(100%)"}))])])]},changeDetection:0})}}return f})();var Ut=o(7612),O=o(3680);function V(f,Tt){if(1&f&&(t.TgZ(0,"mat-option",11),t._uU(1),t.qZA()),2&f){const l=Tt.$implicit;t.Q6J("value",l),t.xp6(1),t.AsE(" ",l.owner,"/",l.repo," ")}}const X=function(f){return{branch:f}};function Pt(f,Tt){if(1&f&&(t.TgZ(0,"mat-option",11),t._uU(1),t.qZA()),2&f){const l=Tt.$implicit;t.Q6J("value",t.VKq(2,X,l)),t.xp6(1),t.Oqu(l)}}function Zt(f,Tt){if(1&f&&(t.TgZ(0,"mat-option",11),t._uU(1),t.qZA()),2&f){const l=Tt.$implicit;t.Q6J("value",l),t.xp6(1),t.AsE(" ",l.owner,"/",l.repo," ")}}function se(f,Tt){if(1&f&&(t.TgZ(0,"mat-option",11),t._uU(1),t.qZA()),2&f){const l=Tt.$implicit;t.Q6J("value",t.VKq(2,X,l)),t.xp6(1),t.Oqu(l)}}let ie=(()=>{class f extends((0,ut.j)(rt.A)){constructor(l,C,u,$,Y){super(),this.store=l,this.bitbucketApiService=C,this.gitHubApiService=u,this.gitLabApiService=$,this.providerUrlMatcherService=Y,this.filteredFromRepos=[],this.displayBranch=dt=>dt?dt.branch:"",this.displayRepo=dt=>dt?`${dt.owner}/${dt.repo}`:""}ngOnInit(){const l=this.store.selectSnapshot(Mt.E.selectedRemotes)?.filter(C=>this.providerUrlMatcherService.matchProvider(C.url)?.type===this.integration.type);if(!l)throw new _t.ZR(new q.St);this.filteredFromRepos=l.flatMap(C=>{const u=this.providerUrlMatcherService.matchProvider(C.url);return u?.type!==this.integration.type?[]:{owner:"bitbucket"===u.type?u.workspace:"github"===u.type?u.owner:"gitlab"===u.type?u.namespace:"",repo:u.repo}}),this.filteredFromRepos[0]&&(this.controls.fromRepo.setValue(this.filteredFromRepos[0]),this.controls.toRepo.setValue(this.filteredFromRepos[0])),this.filteredFromBranches=(0,h.a)([this.controls.fromRepo.valueChanges.pipe((0,P.O)(this.controls.fromRepo.value),(0,M.p)(500,void 0,{leading:!0,trailing:!0}),(0,ct.w)(C=>this.getBranches(C))),this.controls.fromBranch.valueChanges.pipe((0,P.O)(this.controls.fromBranch.value),(0,M.p)(500,void 0,{leading:!0,trailing:!0}))]).pipe((0,y.U)(([C,u])=>"string"==typeof u?C.filter($=>$.toLowerCase().includes(u.toLowerCase())):C)),this.filteredToRepos=this.controls.fromRepo.valueChanges.pipe((0,P.O)(this.controls.fromRepo.value),(0,M.p)(500,void 0,{leading:!0,trailing:!0}),(0,ct.w)(C=>{const{owner:u,repo:$}=C??{};if(!u||!$)return(0,tt.of)(this.filteredFromRepos);switch(this.integration.type){case"bitbucket":return this.bitbucketApiService.getRepository(u,$,void 0,this.integration).pipe((0,y.U)(Y=>{if(!Y?.parent){const et=this.controls.fromRepo.value,Et=this.controls.toRepo.value;return et?.owner===Et?.owner&&et?.repo===Et?.repo&&this.controls.toBranch.pristine&&Y?.mainbranch&&this.controls.toBranch.setValue({branch:Y.mainbranch.name}),this.filteredFromRepos}const[dt,vt]=Y?.parent?.full_name.split("/")??[];return dt&&vt?(this.controls.toBranch.pristine&&Y.parent?.mainbranch&&this.controls.toBranch.setValue({branch:Y.parent.mainbranch.name}),[{owner:dt,repo:vt},...this.filteredFromRepos.filter(et=>et.owner!==dt||et.repo!==vt)]):this.filteredFromRepos}));case"github":return this.gitHubApiService.getRepository(this.integration.token,u,$).pipe((0,y.U)(Y=>{if(!Y?.parent){const et=this.controls.fromRepo.value,Et=this.controls.toRepo.value;return et?.owner===Et?.owner&&et?.repo===Et?.repo&&this.controls.toBranch.pristine&&Y&&this.controls.toBranch.setValue({branch:Y.default_branch}),this.filteredFromRepos}const[dt,vt]=Y?.parent?.full_name.split("/")??[];return dt&&vt?(this.controls.toBranch.pristine&&Y.parent&&this.controls.toBranch.setValue({branch:Y.parent.default_branch}),[{owner:dt,repo:vt},...this.filteredFromRepos.filter(et=>et.owner!==dt||et.repo!==vt)]):this.filteredFromRepos}));case"gitlab":return this.gitLabApiService.getRepository(this.integration,u,$).pipe((0,y.U)(Y=>{if(!Y?.forked_from_project){const et=this.controls.fromRepo.value,Et=this.controls.toRepo.value;return et?.owner===Et?.owner&&et?.repo===Et?.repo&&this.controls.toBranch.pristine&&Y&&this.controls.toBranch.setValue({branch:Y.default_branch}),this.filteredFromRepos}const dt=Y?.forked_from_project?.namespace.path,vt=Y?.forked_from_project?.path;return dt&&vt?(this.controls.toBranch.pristine&&Y.forked_from_project&&this.controls.toBranch.setValue({branch:Y.forked_from_project.default_branch}),[{owner:dt,repo:vt},...this.filteredFromRepos.filter(et=>et.owner!==dt||et.repo!==vt)]):this.filteredFromRepos}));default:throw new Error("Check not exhaustive.")}})),this.filteredToBranches=(0,h.a)([this.controls.toRepo.valueChanges.pipe((0,P.O)(this.controls.toRepo.value),(0,M.p)(500,void 0,{leading:!0,trailing:!0}),(0,ct.w)(C=>this.getBranches(C))),this.controls.toBranch.valueChanges.pipe((0,P.O)(this.controls.toBranch.value),(0,M.p)(500,void 0,{leading:!0,trailing:!0}))]).pipe((0,y.U)(([C,u])=>"string"==typeof u?C.filter($=>$.toLowerCase().includes(u.toLowerCase())):C))}getBranches(l){const{owner:C,repo:u}=l??{};if(!C||!u)return(0,tt.of)([]);switch(this.integration.type){case"bitbucket":return this.bitbucketApiService.getBranches(this.integration,C,u).pipe((0,y.U)($=>$?.values.map(({name:Y})=>Y)??[]),(0,nt.K)(()=>(0,tt.of)([])));case"github":return this.gitHubApiService.getBranches(this.integration.token,C,u).pipe((0,y.U)($=>$?.map(({name:Y})=>Y)??[]),(0,nt.K)(()=>(0,tt.of)([])));case"gitlab":return this.gitLabApiService.getBranches(this.integration,C,u).pipe((0,y.U)($=>$?.map(({name:Y})=>Y)??[]),(0,nt.K)(()=>(0,tt.of)([])));default:throw new Error("Check not exhaustive.")}}static{this.\u0275fac=function(C){return new(C||f)(t.Y36(wt.yh),t.Y36(kt.L),t.Y36(T.t),t.Y36(D.T),t.Y36(Ut.d))}}static{this.\u0275cmp=t.Xpm({type:f,selectors:[["app-pull-request-select-view"]],inputs:{integration:"integration",controls:"controls"},features:[t.qOj],decls:33,vars:30,consts:[["subscriptSizing","dynamic",1,"to-repo"],["required","",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["subscriptSizing","dynamic",1,"to-branch"],["type","text","matInput","","required","",3,"formControl","matAutocomplete"],[3,"displayWith"],["autoToBranch","matAutocomplete"],["subscriptSizing","dynamic",1,"from-repo"],["subscriptSizing","dynamic",1,"from-branch"],["type","text","matInput","","required","","cdkFocusInitial","",3,"formControl","matAutocomplete"],["autoFromBranch","matAutocomplete"],[3,"value"]],template:function(C,u){if(1&C&&(t.TgZ(0,"mat-form-field",0)(1,"mat-label"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"mat-select",1),t.YNc(5,V,2,3,"mat-option",2),t.ALo(6,"async"),t.qZA()(),t.TgZ(7,"mat-form-field",3)(8,"mat-label"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t._UZ(11,"input",4),t.TgZ(12,"mat-autocomplete",5,6),t.YNc(14,Pt,2,4,"mat-option",2),t.ALo(15,"async"),t.qZA()(),t.TgZ(16,"mat-icon"),t._uU(17,"arrow_back"),t.qZA(),t.TgZ(18,"mat-form-field",7)(19,"mat-label"),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"mat-select",1),t.YNc(23,Zt,2,3,"mat-option",2),t.qZA()(),t.TgZ(24,"mat-form-field",8)(25,"mat-label"),t._uU(26),t.ALo(27,"translate"),t.qZA(),t._UZ(28,"input",9),t.TgZ(29,"mat-autocomplete",5,10),t.YNc(31,se,2,4,"mat-option",2),t.ALo(32,"async"),t.qZA()()),2&C){const $=t.MAs(13),Y=t.MAs(30);t.xp6(2),t.Oqu(t.lcZ(3,16,"Base Repository")),t.xp6(2),t.Q6J("formControl",u.controls.toRepo),t.xp6(1),t.Q6J("ngForOf",t.lcZ(6,18,u.filteredToRepos)),t.xp6(4),t.Oqu(t.lcZ(10,20,"Base Branch")),t.xp6(2),t.Q6J("formControl",u.controls.toBranch)("matAutocomplete",$),t.xp6(1),t.Q6J("displayWith",u.displayBranch),t.xp6(2),t.Q6J("ngForOf",t.lcZ(15,22,u.filteredToBranches)),t.xp6(6),t.Oqu(t.lcZ(21,24,"Head Repository")),t.xp6(2),t.Q6J("formControl",u.controls.fromRepo),t.xp6(1),t.Q6J("ngForOf",u.filteredFromRepos),t.xp6(3),t.Oqu(t.lcZ(27,26,"Head Branch")),t.xp6(2),t.Q6J("formControl",u.controls.fromBranch)("matAutocomplete",Y),t.xp6(1),t.Q6J("displayWith",u.displayBranch),t.xp6(2),t.Q6J("ngForOf",t.lcZ(32,28,u.filteredFromBranches))}},dependencies:[W.XC,O.ey,W.ZL,K.KE,K.hX,H.Nt,e.gD,p.sg,E.Fj,E.JJ,E.Q7,E.oH,b.Hw,p.Ov,Kt.X],styles:["[_nghost-%COMP%]{display:flex;gap:10px;align-items:center}.to-repo[_ngcontent-%COMP%], .from-repo[_ngcontent-%COMP%]{min-width:140px;flex:2 1 auto}.to-branch[_ngcontent-%COMP%], .from-branch[_ngcontent-%COMP%]{min-width:100px;flex:1 2 auto}"],changeDetection:0})}}return f})();function ce(f,Tt){1&f&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&f&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Title is required")))}const it=function(f){return{count:f}};function Ct(f,Tt){if(1&f&&(t.TgZ(0,"mat-tab",4),t.ALo(1,"translate"),t.TgZ(2,"div",16),t._UZ(3,"app-pull-request-commits-view",17),t.qZA()()),2&f){const l=t.oxw().ngIf;t.s9C("label",t.xi3(1,2,"Commits (_count_)",t.VKq(5,it,l.commits.length))),t.xp6(3),t.Q6J("commits",l.commits)}}function v(f,Tt){if(1&f&&(t.TgZ(0,"mat-tab",4),t.ALo(1,"translate"),t._UZ(2,"app-pull-request-patches-view",18),t.qZA()),2&f){const l=t.oxw().ngIf;t.s9C("label",t.xi3(1,4,"Files changed (_count_)",t.VKq(7,it,l.patches.length))),t.xp6(2),t.Q6J("fromCommitId",l.fromCommitId)("toCommitId",l.toCommitId)("patches",l.patches)}}function J(f,Tt){if(1&f&&(t.ynx(0),t.YNc(1,Ct,4,7,"mat-tab",15),t.YNc(2,v,3,9,"mat-tab",15),t.BQk()),2&f){const l=Tt.ngIf,C=t.oxw();t.xp6(1),t.Q6J("ngIf",C.hasCommits(l)),t.xp6(1),t.Q6J("ngIf",C.hasPatches(l))}}function S(f,Tt){if(1&f&&(t.TgZ(0,"span",21),t.ALo(1,"translate"),t.ALo(2,"async"),t._uU(3),t.ALo(4,"translate"),t.qZA()),2&f){const l=t.oxw(2);t.Q6J("matTooltip",t.lcZ(1,2,null===t.lcZ(2,4,l.compare)?"Information unavailable in the repository, view in the browser instead":"Select valid branches to compare")),t.xp6(3),t.hij(" ",t.lcZ(4,6,"Commits")," ")}}function Q(f,Tt){if(1&f&&(t.TgZ(0,"span",21),t.ALo(1,"translate"),t.ALo(2,"async"),t._uU(3),t.ALo(4,"translate"),t.qZA()),2&f){const l=t.oxw(2);t.Q6J("matTooltip",t.lcZ(1,2,null===t.lcZ(2,4,l.compare)?"Information unavailable in the repository, view in the browser instead":"Select valid branches to compare")),t.xp6(3),t.hij(" ",t.lcZ(4,6,"Files changed")," ")}}function Ot(f,Tt){1&f&&(t.ynx(0),t.TgZ(1,"mat-tab",19),t.YNc(2,S,5,8,"ng-template",20),t.qZA(),t.TgZ(3,"mat-tab",19),t.YNc(4,Q,5,8,"ng-template",20),t.qZA(),t.BQk())}function It(f,Tt){1&f&&t._UZ(0,"mat-spinner",22)}function Ht(f,Tt){1&f&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&f&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"View in browser")))}function ee(f,Tt){1&f&&t._UZ(0,"mat-spinner",22)}function jt(f,Tt){1&f&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&f&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Create Pull Request")))}let be=(()=>{class f extends((0,ut.j)(rt.A)){constructor(l,C,u,$,Y,dt){super(),this.route=l,this.store=C,this.commitsApi=u,this.bitbucketApiService=$,this.gitHubApiService=Y,this.gitLabApiService=dt,this.form=new E.cw({fromRepo:new E.NI(null,E.kI.required),fromBranch:new E.NI(null,E.kI.required),toRepo:new E.NI(null,E.kI.required),toBranch:new E.NI(null,E.kI.required),title:new E.NI(null,E.kI.required),description:new E.NI(null),draft:new E.NI(!1,{nonNullable:!0})}),this.compare=new c.X(void 0),this.loadingCompare=new c.X(!1),this.creatingPullRequest=new c.X(!1),this.hasCommits=vt=>!!vt.commits,this.hasPatches=vt=>!!vt.patches,this.getBranch=vt=>"string"==typeof vt?vt:vt.branch}ngOnInit(){const l=this.route.snapshot.paramMap.get("type");if("bitbucket"!==l&&"github"!==l&&"gitlab"!==l)throw new q.wp(l);const C=this.route.snapshot.paramMap.get("integrationId"),u=this.store.selectSnapshot(Bt.$.integrations).find(Y=>Y.type===l&&Y.id==C);if(!u)throw new q.e5(l,C);this.integration=u;const $=this.store.selectSnapshot(Mt.E.selectedRepositoryPath);if(!$)throw new q.uX;(0,h.a)([this.form.controls.toRepo.valueChanges.pipe((0,P.O)(this.form.controls.toRepo.value)),this.form.controls.toBranch.valueChanges.pipe((0,P.O)(this.form.controls.toBranch.value)),this.form.controls.fromRepo.valueChanges.pipe((0,P.O)(this.form.controls.fromRepo.value)),this.form.controls.fromBranch.valueChanges.pipe((0,P.O)(this.form.controls.fromBranch.value))]).pipe((0,M.p)(500,void 0,{leading:!0,trailing:!0}),(0,y.U)(([Y,dt,vt,et])=>{const{owner:Et,repo:St}=this.getOwnerRepo(Y),{owner:Wt,repo:Qt}=this.getOwnerRepo(vt);return Et&&St&&dt&&Wt&&Qt&&et?{toOwner:Et,toRepo:St,toBranch:dt,fromOwner:Wt,fromRepo:Qt,fromBranch:et}:null}),(0,Z.h)(_t.$K),(0,z.b)(()=>{this.loadingCompare.next(!0)}),(0,ct.w)(({toOwner:Y,toRepo:dt,toBranch:vt,fromOwner:et,fromRepo:Et,fromBranch:St})=>{switch(this.integration.type){case"bitbucket":const Wt=this.getBranch(St),Qt=this.getBranch(vt);return Y!==et||dt!==Et?(0,tt.of)({url:`https://bitbucket.org/${Y}/${dt}/branches/compare/${et}/${Et}:${Wt}%0D${Y}/${dt}:${Qt}`}):this.bitbucketApiService.compareCommits(Y,dt,Wt,Qt,"values.hash,values.parents.hash").pipe((0,ct.w)(Rt=>{const Vt=Rt.values[0]?.hash,Ft=Rt.values[Rt.values.length-1]?.parents[0]?.hash,oe={url:`https://bitbucket.org/${Y}/${dt}/branches/compare/${Wt}..${Qt}`,fromCommitId:Vt,toCommitId:Ft,commits:Rt.values.map(re=>re.hash)};return Vt&&Ft?this.commitsApi.compareCommits($,Vt,Ft).pipe((0,y.U)(re=>({...oe,fromCommitId:Vt,toCommitId:Ft,patches:re}))):(0,tt.of)(null)}));case"github":return this.gitHubApiService.compare(this.integration.token,Y,dt,this.getBranch(vt),et,Et,this.getBranch(St)).pipe((0,ct.w)(Rt=>{const Vt=Rt?.commits[Rt.commits.length-1]?.sha,Ft=Rt?.base_commit.sha;if(!Rt)return(0,tt.of)(null);const oe={url:Rt.html_url,fromCommitId:Vt,toCommitId:Ft,commits:Rt.commits.map(re=>re.sha)};return Rt&&Vt&&Ft&&Rt.commits.length<250?this.commitsApi.compareCommits($,Vt,Ft).pipe((0,y.U)(re=>({...oe,fromCommitId:Vt,toCommitId:Ft,patches:re}))):(0,tt.of)(null)}));case"gitlab":const $t=this.integration;return this.gitLabApiService.getProject($t,Y,dt).pipe((0,ct.w)(Rt=>this.gitLabApiService.compare($t,et,Et,this.getBranch(St),this.getBranch(vt),Rt.id)),(0,ct.w)(Rt=>{const Vt=Rt?.commit?.id,Ft=Rt?.commits[0]?.parent_ids[0];if(!Rt)return(0,tt.of)(null);const oe={url:Rt.web_url,fromCommitId:Vt,toCommitId:Ft,commits:Rt.commits.map(re=>re.id)};return Rt&&Vt&&Ft?this.commitsApi.compareCommits($,Vt,Ft).pipe((0,y.U)(re=>({...oe,fromCommitId:Vt,toCommitId:Ft,patches:re}))):(0,tt.of)(null)}));default:throw new Error(`Check not exhaustive '${this.integration}'.`)}}),(0,nt.K)(Y=>q.ik.matches(Y)?(0,tt.of)(null):(0,G._)(()=>Y)),(0,bt.s)(()=>{this.loadingCompare.next(!1)}),(0,ft.R)(this.destroyed$)).subscribe(Y=>{this.compare.next(Y),this.loadingCompare.next(!1)})}close(){history.back()}openCompareInBrowser(){const l=this.compare.value?.url;l&&window.open(l)}createPullRequest(){const{toRepo:l,toBranch:C,fromRepo:u,fromBranch:$,title:Y,description:dt}=this.form.value,{owner:vt,repo:et}=this.getOwnerRepo(l),{owner:Et,repo:St}=this.getOwnerRepo(u);if(this.form.invalid||!vt||!et||!C||!Et||!St||!$||!Y)throw new _t.ZR(new q.KH);let Wt;switch(this.creatingPullRequest.next(!0),this.integration.type){case"bitbucket":Wt=this.bitbucketApiService.createPullRequest(this.integration,vt,et,{title:Y,description:dt??void 0,source:{branch:{name:this.getBranch($)},repository:{full_name:`${Et}/${St}`}},destination:{branch:{name:this.getBranch(C)}}});break;case"github":Wt=this.gitHubApiService.createPullRequest(this.integration.token,vt,et,{head:`${Et}:${this.getBranch($)}`,head_repo:St,base:this.getBranch(C),title:Y,body:dt??void 0});break;case"gitlab":const Qt=this.integration;Wt=this.gitLabApiService.getRepository(Qt,vt,et).pipe((0,ct.w)(Xt=>this.gitLabApiService.createMergeRequest(Qt,Et,St,{source_branch:this.getBranch($),target_branch:this.getBranch(C),target_project_id:Xt.id??void 0,title:Y,description:dt??void 0})));break;default:throw new Error(`Check not exhaustive '${this.integration}'.`)}Wt.pipe((0,xt.x)(()=>{this.creatingPullRequest.next(!1)})).subscribe(()=>{this.close()})}getOwnerRepo(l){if("string"==typeof l){const C=l.split("/"),[u,$]=C;return u&&$&&2===C.length?{owner:u,repo:$}:{owner:void 0,repo:void 0}}return l??{owner:void 0,repo:void 0}}static{this.\u0275fac=function(C){return new(C||f)(t.Y36(j.gz),t.Y36(wt.yh),t.Y36(gt.T),t.Y36(kt.L),t.Y36(T.t),t.Y36(D.T))}}static{this.\u0275cmp=t.Xpm({type:f,selectors:[["ng-component"]],features:[t.qOj],decls:47,vars:59,consts:[["type","button","mat-icon-button","","matTooltip","Go Back",1,"back-btn","app-icon-button-md",3,"click"],[1,"mat-headline-6","text"],[3,"controls","integration"],[1,"tabs",3,"disablePagination","mat-stretch-tabs","preserveContent"],[3,"label"],[1,"tab","description"],[1,"title-field"],["type","text","matInput","","required","",3,"formControl"],[4,"ngIf"],[1,"description-field"],["matInput","","rows","5",3,"placeholder","formControl"],["type","button","mat-flat-button","","color","accent",3,"disabled","click"],["diameter","24",4,"ngIf"],[3,"matTooltip"],["type","button","mat-flat-button","","color","primary",3,"disabled","click"],[3,"label",4,"ngIf"],[1,"tab"],[3,"commits"],[3,"fromCommitId","toCommitId","patches"],["disabled",""],["mat-tab-label",""],[1,"disabled-tab",3,"matTooltip"],["diameter","24"]],template:function(C,u){1&C&&(t.TgZ(0,"header")(1,"button",0),t.NdJ("click",function(){return u.close()}),t.TgZ(2,"mat-icon"),t._uU(3,"arrow_back"),t.qZA()(),t.TgZ(4,"span",1),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"main"),t._UZ(8,"app-pull-request-select-view",2),t.TgZ(9,"mat-tab-group",3)(10,"mat-tab",4),t.ALo(11,"translate"),t.TgZ(12,"div",5)(13,"mat-form-field",6)(14,"mat-label"),t._uU(15),t.ALo(16,"translate"),t.qZA(),t._UZ(17,"input",7),t.YNc(18,ce,3,3,"mat-error",8),t.qZA(),t.TgZ(19,"mat-form-field",9),t._UZ(20,"textarea",10),t.ALo(21,"translate"),t.qZA()()(),t.YNc(22,J,3,2,"ng-container",8),t.ALo(23,"async"),t.YNc(24,Ot,5,0,"ng-container",8),t.ALo(25,"async"),t.qZA()(),t.TgZ(26,"footer")(27,"button",11),t.NdJ("click",function(){return u.openCompareInBrowser()}),t.ALo(28,"async"),t.ALo(29,"async"),t.ALo(30,"async"),t.YNc(31,It,1,0,"mat-spinner",12),t.ALo(32,"async"),t.YNc(33,Ht,3,3,"span",8),t.ALo(34,"async"),t.qZA(),t.TgZ(35,"span",13),t.ALo(36,"async"),t.ALo(37,"translate"),t.ALo(38,"translate"),t.TgZ(39,"button",14),t.NdJ("click",function(){return u.createPullRequest()}),t.ALo(40,"async"),t.ALo(41,"async"),t.ALo(42,"async"),t.YNc(43,ee,1,0,"mat-spinner",12),t.ALo(44,"async"),t.YNc(45,jt,3,3,"span",8),t.ALo(46,"async"),t.qZA()()()),2&C&&(t.xp6(5),t.Oqu(t.lcZ(6,21,"Create Pull Request")),t.xp6(3),t.Q6J("controls",u.form.controls)("integration",u.integration),t.xp6(1),t.Q6J("disablePagination",!0)("mat-stretch-tabs",!1)("preserveContent",!0),t.xp6(1),t.s9C("label",t.lcZ(11,23,"Description")),t.xp6(5),t.Oqu(t.lcZ(16,25,"Title")),t.xp6(2),t.Q6J("formControl",u.form.controls.title),t.xp6(1),t.Q6J("ngIf",u.form.controls.title.hasError("required")),t.xp6(2),t.s9C("placeholder",t.lcZ(21,27,"Leave a comment...")),t.Q6J("formControl",u.form.controls.description),t.xp6(2),t.Q6J("ngIf",t.lcZ(23,29,u.compare)),t.xp6(2),t.Q6J("ngIf",void 0===t.lcZ(25,31,u.compare)),t.xp6(3),t.Q6J("disabled",t.lcZ(28,33,u.loadingCompare)||void 0===t.lcZ(29,35,u.compare)||null===t.lcZ(30,37,u.compare)),t.xp6(4),t.Q6J("ngIf",t.lcZ(32,39,u.loadingCompare)),t.xp6(2),t.Q6J("ngIf",!1===t.lcZ(34,41,u.loadingCompare)),t.xp6(2),t.Q6J("matTooltip",void 0===t.lcZ(36,43,u.compare)?t.lcZ(37,45,"Select valid branches to compare"):u.form.invalid?t.lcZ(38,47,"Title is required"):""),t.xp6(4),t.Q6J("disabled",u.form.invalid||t.lcZ(40,49,u.loadingCompare)||void 0===t.lcZ(41,51,u.compare)||t.lcZ(42,53,u.creatingPullRequest)),t.xp6(4),t.Q6J("ngIf",t.lcZ(44,55,u.creatingPullRequest)),t.xp6(2),t.Q6J("ngIf",!1===t.lcZ(46,57,u.creatingPullRequest)))},dependencies:[K.KE,K.hX,K.TO,H.Nt,_.Ou,n.uD,n.uX,n.SP,p.O5,E.Fj,E.JJ,E.Q7,E.oH,I.lW,I.RK,b.Hw,L.gM,de,ht,ie,p.Ov,Kt.X],styles:["[_nghost-%COMP%]{padding:10px;display:flex;flex-direction:column;gap:20px;min-height:0}header[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;align-items:center;gap:10px}header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{flex:0 0 auto}header[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{flex:1 1 auto;min-height:0;display:flex;flex-direction:column;gap:10px}main[_ngcontent-%COMP%]   app-pull-request-select-view[_ngcontent-%COMP%]{flex:0 0 auto}main[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{flex:1 1 auto;min-height:0}main[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]     .mat-mdc-tab-body-wrapper{flex-grow:1}main[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{margin-top:15px;height:calc(100% - 15px)}main[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;justify-content:stretch}main[_ngcontent-%COMP%]   .disabled-tab[_ngcontent-%COMP%]{pointer-events:auto}footer[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;gap:10px}"],changeDetection:0})}}return f})();var Ce=o(9315),R=o(8180),At=o(5195),r=o(2415);function d(f,Tt){1&f&&t._UZ(0,"mat-spinner")}function m(f,Tt){if(1&f&&(t.TgZ(0,"mat-card",24),t._uU(1),t.qZA()),2&f){const l=t.oxw().ngIf;t.xp6(1),t.Oqu(l.description)}}const F=function(f){return{count:f}};function mt(f,Tt){if(1&f&&(t.TgZ(0,"mat-tab",7),t.ALo(1,"translate"),t.TgZ(2,"div",8),t._UZ(3,"app-pull-request-commits-view",25),t.qZA()()),2&f){const l=t.oxw().ngIf;t.s9C("label",t.xi3(1,2,"Commits (_count_)",t.VKq(5,F,l.commits.length))),t.xp6(3),t.Q6J("commits",l.commits)}}function Nt(f,Tt){1&f&&(t._UZ(0,"mat-tab",26),t.ALo(1,"translate")),2&f&&t.s9C("label",t.lcZ(1,1,"Commits"))}function Jt(f,Tt){if(1&f&&(t.TgZ(0,"mat-tab",7),t.ALo(1,"translate"),t._UZ(2,"app-pull-request-patches-view",27),t.qZA()),2&f){const l=t.oxw().ngIf;t.s9C("label",t.xi3(1,4,"Files changed (_count_)",t.VKq(7,F,l.patches.length))),t.xp6(2),t.Q6J("fromCommitId",l.fromCommitId)("toCommitId",l.toCommitId)("patches",l.patches)}}function ne(f,Tt){1&f&&(t._UZ(0,"mat-tab",26),t.ALo(1,"translate")),2&f&&t.s9C("label",t.lcZ(1,1,"Files changed"))}function fe(f,Tt){if(1&f&&(t.ynx(0),t.TgZ(1,"span",5),t._uU(2),t.qZA(),t.TgZ(3,"mat-tab-group",6)(4,"mat-tab",7),t.ALo(5,"translate"),t.TgZ(6,"div",8)(7,"div",9)(8,"mat-form-field",10)(9,"mat-label"),t._uU(10),t.ALo(11,"translate"),t.qZA(),t._UZ(12,"input",11),t.qZA(),t.TgZ(13,"mat-form-field",12)(14,"mat-label"),t._uU(15),t.ALo(16,"translate"),t.qZA(),t._UZ(17,"input",11),t.qZA(),t.TgZ(18,"mat-icon"),t._uU(19,"arrow_back"),t.qZA(),t.TgZ(20,"mat-form-field",13)(21,"mat-label"),t._uU(22),t.ALo(23,"translate"),t.qZA(),t._UZ(24,"input",11),t.qZA(),t.TgZ(25,"mat-form-field",14)(26,"mat-label"),t._uU(27),t.ALo(28,"translate"),t.qZA(),t._UZ(29,"input",11),t.qZA()(),t.TgZ(30,"div",15)(31,"div",16),t._uU(32),t.ALo(33,"translate"),t._UZ(34,"img",17),t.TgZ(35,"span",18),t._uU(36),t.qZA(),t._UZ(37,"br"),t.qZA(),t.TgZ(38,"div",19),t.ALo(39,"translateDate"),t._uU(40),t.ALo(41,"translate"),t.TgZ(42,"span",18),t._uU(43),t.ALo(44,"translateDate"),t.qZA(),t._uU(45),t.ALo(46,"translate"),t.TgZ(47,"span",18),t._uU(48),t.ALo(49,"translateDate"),t.qZA()()(),t.YNc(50,m,2,1,"mat-card",20),t.qZA()(),t.YNc(51,mt,4,7,"mat-tab",21),t.YNc(52,Nt,2,3,"ng-template",null,22,t.W1O),t.YNc(54,Jt,3,9,"mat-tab",21),t.YNc(55,ne,2,3,"ng-template",null,23,t.W1O),t.qZA(),t.BQk()),2&f){const l=Tt.ngIf,C=t.MAs(53),u=t.MAs(56);t.xp6(2),t.Oqu(l.title),t.xp6(1),t.Q6J("disablePagination",!0)("mat-stretch-tabs",!1)("preserveContent",!0),t.xp6(1),t.s9C("label",t.lcZ(5,28,"!pull request! Details")),t.xp6(6),t.Oqu(t.lcZ(11,30,"Base Repository")),t.xp6(2),t.Q6J("value",l.toOwner+"/"+l.toRepo),t.xp6(3),t.Oqu(t.lcZ(16,32,"Base Branch")),t.xp6(2),t.Q6J("value",l.toBranch),t.xp6(5),t.Oqu(t.lcZ(23,34,"Head Repository")),t.xp6(2),t.Q6J("value",l.fromOwner+"/"+l.fromRepo),t.xp6(3),t.Oqu(t.lcZ(28,36,"Head Branch")),t.xp6(2),t.Q6J("value",l.fromBranch),t.xp6(2),t.Q6J("matTooltip",l.authorName),t.xp6(1),t.hij(" ",t.lcZ(33,38,"authored by")," "),t.xp6(2),t.Q6J("src",l.authorAvatar,t.LSH)("matTooltip",l.authorName),t.xp6(2),t.Oqu(l.authorName),t.xp6(2),t.Q6J("matTooltip",t.xi3(39,40,l.date,"z")||""),t.xp6(2),t.hij(" ",t.lcZ(41,43,"on !date!")," "),t.xp6(3),t.Oqu(t.xi3(44,45,l.date,"longDate")),t.xp6(2),t.hij(" ",t.lcZ(46,48,"at !time!")," "),t.xp6(3),t.Oqu(t.xi3(49,50,l.date,"HH:mm")),t.xp6(2),t.Q6J("ngIf",l.description),t.xp6(1),t.Q6J("ngIf",l.commits)("ngIfElse",C),t.xp6(3),t.Q6J("ngIf",l.patches)("ngIfElse",u)}}function Oe(f,Tt){1&f&&t._UZ(0,"mat-spinner",28)}function ve(f,Tt){1&f&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&f&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"View in browser")))}let xe=(()=>{class f extends((0,ut.j)(rt.A)){constructor(l,C,u,$,Y,dt){super(),this.route=l,this.store=C,this.commitsApi=u,this.bitbucketApiService=$,this.gitHubApiService=Y,this.gitLabApiService=dt,this.pullRequest=new c.X(void 0),this.loading=new c.X(!1)}ngOnInit(){const l=this.route.snapshot.paramMap.get("type");if("bitbucket"!==l&&"github"!==l&&"gitlab"!==l)throw new q.wp(l);const C=this.route.snapshot.paramMap.get("owner")??"",u=this.route.snapshot.paramMap.get("repo")??"",$=this.route.snapshot.paramMap.get("id")??"",Y=this.store.selectSnapshot(Mt.E.selectedRepositoryPath);if(!Y)throw new q.uX;let dt;switch(l){case"bitbucket":dt=this.bitbucketApiService.getPullRequest(C,u,parseInt($,10)).pipe((0,ct.w)(et=>{if(!et)return(0,tt.of)(null);const[Et,St]=et.source.repository.full_name.split("/")??[],Wt=et.source.commit.hash,[Qt,$t]=et.destination.repository.full_name.split("/")??[],Xt=et.destination.commit.hash;if(!(Et&&St&&Qt&&$t))return(0,tt.of)(null);const Rt={url:et.links.html.href,title:et.title,description:et.description,authorName:et.author.display_name,authorAvatar:et.author.links.avatar.href,date:new Date(et.created_on),fromOwner:Et,fromRepo:St,fromBranch:et.source.branch.name,fromCommitId:Wt,toOwner:Qt,toRepo:$t,toBranch:et.destination.branch.name,toCommitId:Xt};return this.bitbucketApiService.getPullRequestCommits(C,u,parseInt($,10)).pipe((0,ct.w)(Vt=>Vt?this.commitsApi.compareCommits(Y,Wt,Xt).pipe((0,y.U)(Ft=>({...Rt,commits:Vt.values.map(oe=>oe.hash),patches:Ft}))):(0,tt.of)(Rt)))}));break;case"github":dt=this.gitHubApiService.getPullRequest(C,u,parseInt($,10)).pipe((0,ct.w)(et=>{if(!et)return(0,tt.of)(null);const[Et,St]=et.head.repo.full_name.split("/")??[],Wt=et.head.sha,[Qt,$t]=et.base.repo.full_name.split("/")??[],Xt=et.base.sha;if(!(Et&&St&&Qt&&$t))return(0,tt.of)(null);const Rt={url:et.html_url,title:et.title,description:et.body,authorName:et.user.login,authorAvatar:et.user.avatar_url,date:new Date(et.created_at),fromOwner:Et,fromRepo:St,fromBranch:et.head.ref,fromCommitId:Wt,toOwner:Qt,toRepo:$t,toBranch:et.base.ref,toCommitId:Xt};return this.gitHubApiService.getPullRequestCommits(C,u,parseInt($,10)).pipe((0,ct.w)(Vt=>Vt&&Vt.length<250?this.commitsApi.compareCommits(Y,Wt,Xt).pipe((0,y.U)(Ft=>({...Rt,commits:Vt.map(oe=>oe.sha),patches:Ft}))):(0,tt.of)(Rt)))}));break;case"gitlab":dt=this.gitLabApiService.getMergeRequest(C,u,parseInt($,10)).pipe((0,ct.w)(et=>et?(0,Ce.D)([this.gitLabApiService.getProjectById(et.source_project_id),this.gitLabApiService.getProjectById(et.target_project_id)]).pipe((0,y.U)(([Et,St])=>Et&&St?{source:Et,target:St,pullRequest:et}:null)):(0,tt.of)(null)),(0,ct.w)(et=>{if(!et)return(0,tt.of)(null);const[Et,St]=et.source.path_with_namespace.split("/")??[],Wt=et.pullRequest.diff_refs.head_sha,[Qt,$t]=et.target.path_with_namespace.split("/")??[],Xt=et.pullRequest.diff_refs.base_sha;if(!(Et&&St&&Qt&&$t))return(0,tt.of)(null);const Rt={url:et.pullRequest.web_url,title:et.pullRequest.title,description:et.pullRequest.description,authorName:et.pullRequest.author.name,authorAvatar:et.pullRequest.author.avatar_url,date:new Date(et.pullRequest.created_at),fromOwner:Et,fromRepo:St,fromBranch:et.pullRequest.source_branch,fromCommitId:Wt,toOwner:Qt,toRepo:$t,toBranch:et.pullRequest.target_branch,toCommitId:Xt};return this.gitLabApiService.getPullRequestCommits(C,u,parseInt($,10)).pipe((0,ct.w)(Vt=>Vt?this.commitsApi.compareCommits(Y,Wt,Xt).pipe((0,y.U)(Ft=>({...Rt,commits:Vt.map(oe=>oe.id),patches:Ft}))):(0,tt.of)(Rt)))}));break;default:throw new Error(`Check not exhaustive '${l}'.`)}this.loading.next(!0),dt.pipe((0,nt.K)(vt=>q.ik.matches(vt)?(0,tt.of)(null):(0,G._)(()=>vt)),(0,R.q)(1),(0,ft.R)(this.destroyed$),(0,xt.x)(()=>{this.loading.next(!1)})).subscribe(vt=>{this.pullRequest.next(vt)})}openInBrowser(){const l=this.pullRequest.value?.url;l&&window.open(l)}close(){history.back()}static{this.\u0275fac=function(C){return new(C||f)(t.Y36(j.gz),t.Y36(wt.yh),t.Y36(gt.T),t.Y36(kt.L),t.Y36(T.t),t.Y36(D.T))}}static{this.\u0275cmp=t.Xpm({type:f,selectors:[["ng-component"]],features:[t.qOj],decls:20,vars:20,consts:[["type","button","mat-icon-button","","matTooltip","Go Back",1,"back-btn","app-icon-button-md",3,"click"],[1,"mat-headline-6","text"],[4,"ngIf"],["type","button","mat-flat-button","","color","accent",3,"disabled","click"],["diameter","24",4,"ngIf"],[1,"mat-headline-4","title"],[1,"tabs",3,"disablePagination","mat-stretch-tabs","preserveContent"],[3,"label"],[1,"tab"],[1,"repos"],["subscriptSizing","dynamic",1,"to-repo"],["type","text","matInput","","readonly","",3,"value"],["subscriptSizing","dynamic",1,"to-branch"],["subscriptSizing","dynamic",1,"from-repo"],["subscriptSizing","dynamic",1,"from-branch"],[1,"created"],[1,"author",3,"matTooltip"],[1,"avatar",3,"src","matTooltip"],[1,"highlight"],[1,"date",3,"matTooltip"],["class","description",4,"ngIf"],[3,"label",4,"ngIf","ngIfElse"],["emptyCommitsTab",""],["emptyPatchesTab",""],[1,"description"],[3,"commits"],["disabled","",3,"label"],[3,"fromCommitId","toCommitId","patches"],["diameter","24"]],template:function(C,u){1&C&&(t.TgZ(0,"header")(1,"button",0),t.NdJ("click",function(){return u.close()}),t.TgZ(2,"mat-icon"),t._uU(3,"arrow_back"),t.qZA()(),t.TgZ(4,"span",1),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"main"),t.YNc(8,d,1,0,"mat-spinner",2),t.ALo(9,"async"),t.YNc(10,fe,57,53,"ng-container",2),t.ALo(11,"async"),t.qZA(),t.TgZ(12,"footer")(13,"button",3),t.NdJ("click",function(){return u.openInBrowser()}),t.ALo(14,"async"),t.ALo(15,"async"),t.YNc(16,Oe,1,0,"mat-spinner",4),t.ALo(17,"async"),t.YNc(18,ve,3,3,"span",2),t.ALo(19,"async"),t.qZA()()),2&C&&(t.xp6(5),t.Oqu(t.lcZ(6,6,"Viewing Pull Request")),t.xp6(3),t.Q6J("ngIf",t.lcZ(9,8,u.loading)),t.xp6(2),t.Q6J("ngIf",t.lcZ(11,10,u.pullRequest)),t.xp6(3),t.Q6J("disabled",t.lcZ(14,12,u.loading)||null===t.lcZ(15,14,u.pullRequest)),t.xp6(3),t.Q6J("ngIf",t.lcZ(17,16,u.loading)),t.xp6(2),t.Q6J("ngIf",!1===t.lcZ(19,18,u.loading)))},dependencies:[K.KE,K.hX,H.Nt,_.Ou,n.uX,n.SP,p.O5,I.lW,I.RK,At.a8,b.Hw,L.gM,de,ht,p.Ov,r.v,Kt.X],styles:["[_nghost-%COMP%]{padding:10px;display:flex;flex-direction:column;gap:20px;min-height:0}header[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;align-items:center;gap:10px}header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{flex:0 0 auto}header[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{flex:1 1 auto;min-height:0;display:flex;flex-direction:column;gap:10px}main[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:10px}main[_ngcontent-%COMP%]   .repos[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center;margin-bottom:20px}main[_ngcontent-%COMP%]   .repos[_ngcontent-%COMP%]   .to-repo[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .repos[_ngcontent-%COMP%]   .from-repo[_ngcontent-%COMP%]{min-width:140px;flex:2 1 auto}main[_ngcontent-%COMP%]   .repos[_ngcontent-%COMP%]   .to-branch[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .repos[_ngcontent-%COMP%]   .from-branch[_ngcontent-%COMP%]{min-width:100px;flex:1 2 auto}main[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]{margin-bottom:20px}main[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{display:inline-block}main[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{border-radius:10%;width:auto;height:1.5625rem;aspect-ratio:1/1;margin:0 3px 0 5px;vertical-align:bottom}main[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{font-size:1.25rem}main[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{margin-left:5px}main[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{font-size:1.25rem}main[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{padding:10px}main[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{flex:1 1 auto;min-height:0}main[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]     .mat-mdc-tab-body-wrapper{flex-grow:1}main[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{margin-top:15px;height:calc(100% - 15px)}main[_ngcontent-%COMP%]   .disabled-tab[_ngcontent-%COMP%]{pointer-events:auto}footer[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;gap:10px}.dark-theme[_nghost-%COMP%]   .author[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .author[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .date[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .date[_ngcontent-%COMP%]{color:#ffffffb3}.dark-theme[_nghost-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#fff}.light-theme[_nghost-%COMP%]   .author[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .author[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .date[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .date[_ngcontent-%COMP%]{color:#0000008a}.light-theme[_nghost-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#000000de}"],changeDetection:0})}}return f})();var ye=o(7525);let Pe=(()=>{class f{constructor(l,C){this.router=l,this.authService=C}canActivate(){return"pro"===this.authService.accessLevel.value||this.router.parseUrl("/standard/open-repository")}static{this.\u0275fac=function(C){return new(C||f)(t.LFG(j.F0),t.LFG(ye.e))}}static{this.\u0275prov=t.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})(),_e=(()=>{class f{constructor(l,C){this.router=l,this.store=C}canActivate(){return!!this.store.selectSnapshot(Mt.E.selectedRepositoryPath)||this.router.parseUrl("/standard/open-repository")}static{this.\u0275fac=function(C){return new(C||f)(t.LFG(j.F0),t.LFG(wt.yh))}}static{this.\u0275prov=t.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})();var ge=o(7582),Te=o(2438),we=o(9589),Ie=o(271),ke=o(7547),Ae=o(7081),Ee=o(5248),Me=o(5657),Le=o(2098);function De(f,Tt){1&f&&(t.TgZ(0,"mat-icon",10),t._uU(1,"folder"),t.qZA())}function Re(f,Tt){1&f&&t._UZ(0,"mat-spinner",11)}function Ze(f,Tt){if(1&f){const l=t.EpF();t.TgZ(0,"a",5),t.NdJ("mouseup",function(u){const Y=t.CHM(l).$implicit,dt=t.oxw();return t.KtG(dt.tabClicked(u,Y))})("dragstart",function(u){const $=t.CHM(l),Y=$.$implicit,dt=$.index,vt=t.oxw();return t.KtG(vt.dragstartListener(u,Y,dt))})("dragleave",function(){t.CHM(l);const u=t.oxw();return t.KtG(u.dragOverRepositoryIndex.next(null))})("dragover",function(u){const Y=t.CHM(l).index,dt=t.oxw();return t.KtG(dt.dragoverListener(u,Y))})("drop",function(u){const Y=t.CHM(l).index,dt=t.oxw();return t.KtG(dt.dropListener(u,Y))}),t.ALo(1,"async"),t.ALo(2,"async"),t.ALo(3,"async"),t.YNc(4,De,2,0,"mat-icon",6),t.YNc(5,Re,1,0,"mat-spinner",7),t.TgZ(6,"span",8),t._uU(7),t.qZA(),t.TgZ(8,"mat-icon",9),t.NdJ("click",function(){const $=t.CHM(l).$implicit,Y=t.oxw();return t.KtG(Y.closeRepository($.path))}),t._uU(9,"close"),t.qZA()()}if(2&f){const l=Tt.$implicit,C=Tt.index,u=t.oxw();t.ekj("border-left",t.lcZ(1,11,u.hasLeftBorder(C)))("border-right",t.lcZ(2,13,u.hasRightBorder(C))),t.Q6J("matTooltip",l.path)("active",t.lcZ(3,15,u.selectedRepositoryPath)===l.path),t.xp6(4),t.Q6J("ngIf",l.loaded),t.xp6(1),t.Q6J("ngIf",!l.loaded),t.xp6(1),t.ekj("disabled",!l.loaded),t.xp6(1),t.Oqu(l.name)}}function Be(f,Tt){if(1&f){const l=t.EpF();t.TgZ(0,"a",12),t.NdJ("mouseup",function(u){t.CHM(l);const $=t.oxw();return t.KtG($.changelogClicked(u))}),t.ALo(1,"translate"),t.ALo(2,"async"),t.TgZ(3,"mat-icon",10),t._uU(4,"auto_awesome"),t.qZA(),t.TgZ(5,"span",8),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"mat-icon",13),t.NdJ("mouseup",function(u){t.CHM(l);const $=t.oxw();return t.KtG($.closeChangelogClicked(u))}),t._uU(9,"close"),t.qZA()()}if(2&f){const l=t.oxw();t.Q6J("matTooltip",t.lcZ(1,3,"See whats new! !release notes!"))("active",l.isChangelogUrl()&&null===t.lcZ(2,5,l.selectedRepositoryPath)),t.xp6(6),t.Oqu(t.lcZ(7,7,"Release Notes"))}}let Se=(()=>{class f extends((0,ut.j)(rt.A)){documentKeydown(l){if(!l.isComposing&&(Ee.V?l.metaKey:l.ctrlKey)&&!l.altKey&&!l.metaKey)switch(l.key){case"W":case"w":if(!l.shiftKey){const C=this.store.selectSnapshot(Mt.E.selectedRepositoryPath);C&&this.closeRepository(C)}break;case"T":case"t":l.shiftKey||this.openNewRepository();break;case"Tab":{const C=this.store.selectSnapshot(Mt.E.selectedRepositoryPath);this.visibleRepositories.pipe((0,R.q)(1)).subscribe(u=>{const $=C?u.findIndex(dt=>dt.path===C):u.length;if($<0)throw new q.VF(C??"");let Y=$+(l.shiftKey?-1:1);Y>=u.length?Y=0:Y<0&&(Y=u.length-1),this.changeRepository(u[Y]?.path??null)});break}}}documentMouseDown(l){1===l.button&&l.preventDefault()}constructor(l,C,u,$){super(),this.cdr=l,this.router=C,this.store=u,this.updatesApiService=$,this.inkBarAnimationDisabled=new c.X(!1),this.dragRepositoryIndex=null,this.dragOverRepositoryIndex=new c.X(null),this.dragPosition=new c.X(null),this.dragstartListener=(Y,dt,vt)=>{Y.dataTransfer&&(Y.dataTransfer.setData("app/repository",dt.path),Y.dataTransfer.setData("app/repository-tab",dt.path),Y.dataTransfer.effectAllowed="move",this.dragRepositoryIndex=vt)},this.dragoverListener=(Y,dt)=>{if(Y.dataTransfer&&Y.dataTransfer.types.includes("app/repository")){Y.preventDefault(),Y.dataTransfer.dropEffect="move",this.dragOverRepositoryIndex.value!==dt&&this.dragOverRepositoryIndex.next(dt);const vt=Y.target;if(vt.draggable){const et=this.getDragoverPosition(Y.offsetX,vt.clientWidth);this.dragPosition.value!==et&&this.dragPosition.next(et)}}},this.dropListener=(Y,dt)=>{if(Y.dataTransfer&&Y.dataTransfer.types.includes("app/repository-tab")){this.dragOverRepositoryIndex.value!==dt&&this.dragOverRepositoryIndex.next(dt);const vt=Y.target;if(vt.draggable){const et=this.getDragoverPosition(Y.offsetX,vt.clientWidth);this.dragPosition.value!==et&&this.dragPosition.next(et)}Y.preventDefault(),(0,h.a)([this.openOrLoadingRepositories,this.visibleRepositories]).pipe((0,ft.R)(this.destroyed$),(0,R.q)(1)).subscribe(([et,Et])=>{const St=dt+("right"===this.dragPosition.value?1:0);if(null!==this.dragRepositoryIndex&&St>=0){const Wt=Et[this.dragRepositoryIndex]?.path,Qt=Et[St]?.path,$t=et.findIndex(Ft=>Ft.path===Wt),Xt=Qt?et.findIndex(Ft=>Ft.path===Qt):et.length,Rt=$t>Xt?[...et.slice(0,Xt),et[$t],...et.filter((Ft,oe)=>oe!==$t).slice(Xt)]:$t<Xt?[...et.slice(0,Xt).filter((Ft,oe)=>oe!==$t),et[$t],...et.slice(Xt)]:et;this.inkBarAnimationDisabled.next(!0);const Vt=Rt.map(Ft=>Ft?.path).filter(_t.$K);this.store.dispatch(new U.jq(Vt)).pipe((0,ke.g)(250)).subscribe(()=>this.inkBarAnimationDisabled.next(!1))}})}this.dragRepositoryIndex=null,this.dragOverRepositoryIndex.next(null),this.dragPosition.next(null)},this.hasLeftBorder=Y=>(0,h.a)([this.dragOverRepositoryIndex,this.dragPosition]).pipe((0,y.U)(([dt,vt])=>dt===Y&&"left"===vt||dt===Y-1&&"right"===vt)),this.hasRightBorder=Y=>(0,h.a)([this.dragOverRepositoryIndex,this.dragPosition]).pipe((0,y.U)(([dt,vt])=>dt===Y&&"right"===vt||dt===Y+1&&"left"===vt)),this.getDragoverPosition=(Y,dt)=>Y/dt<.5?"left":"right"}ngOnInit(){this.visibleRepositories=(0,h.a)([this.openOrLoadingRepositories,this.profile]).pipe((0,y.U)(([l,C])=>C&&"all"!==C.allowedRepositories?l.filter(u=>C.allowedRepositories.includes(u.path)):l),(0,ft.R)(this.destroyed$),(0,Ae.d)(1)),this.hasUnreadChangelog=this.store.select(Me.U9.changelogReadUpto).pipe((0,ct.w)(l=>this.updatesApiService.getVersion().pipe((0,y.U)(C=>{if(!l)return!1;const[u,$,Y]=C.replace(/-.*$/,"").split(".").map(St=>+St),[dt,vt,et]=l.replace(/-.*$/,"").split(".").map(St=>+St),Et=void 0===u||void 0===$||void 0===dt||void 0===vt||dt<u||vt<$;return Et&&this.openChangelog(),Et}))))}ngAfterViewInit(){setTimeout(()=>{this.matTabNav._alignInkBarToSelectedTab(),this.cdr.markForCheck()},100),setTimeout(()=>{this.matTabNav._alignInkBarToSelectedTab(),this.cdr.markForCheck()},1e3)}trackRepository(l,C){return C.path}tabClicked(l,C){switch(l.button){case 0:C.loaded&&this.changeRepository(C.path);break;case 1:this.closeRepository(C.path)}}changeRepository(l){this.store.dispatch(new U.BZ(l)).subscribe(()=>{this.router.navigate(["/standard/default"])})}closeRepository(l){this.store.dispatch(new U.F$(l))}isChangelogUrl(){return"/standard/changelog"===this.router.url}changelogClicked(l){switch(l.button){case 0:this.openChangelog();break;case 1:this.closeChangelog()}}closeChangelogClicked(l){0===l.button&&(this.closeChangelog(),l.preventDefault(),l.stopPropagation())}openChangelog(){this.store.dispatch(new U.BZ(null)).subscribe(()=>{this.router.navigate(["/standard/changelog"])})}closeChangelog(){this.updatesApiService.getVersion().subscribe(l=>{this.store.dispatch(new Me.kH(l)).subscribe(()=>{this.router.navigate(["/standard/default"])})})}openNewRepository(){this.store.dispatch(new U.BZ(null)).subscribe(()=>{this.router.navigate(["/standard/open-repository"])})}static{this.\u0275fac=function(C){return new(C||f)(t.Y36(t.sBO),t.Y36(j.F0),t.Y36(wt.yh),t.Y36(Le.j))}}static{this.\u0275cmp=t.Xpm({type:f,selectors:[["app-repository-tabs-view"]],viewQuery:function(C,u){if(1&C&&t.Gf(n.BU,5),2&C){let $;t.iGM($=t.CRH())&&(u.matTabNav=$.first)}},hostBindings:function(C,u){1&C&&t.NdJ("keydown",function(Y){return u.documentKeydown(Y)},!1,t.evT)("mousedown",function(Y){return u.documentMouseDown(Y)},!1,t.evT)},features:[t.qOj],decls:13,vars:20,consts:[["mat-tab-nav-bar","",3,"tabPanel","mat-stretch-tabs","disablePagination"],["mat-tab-link","","draggable","true",3,"border-left","border-right","matTooltip","active","mouseup","dragstart","dragleave","dragover","drop",4,"ngFor","ngForOf","ngForTrackBy"],["mat-tab-link","","class","changelog-link",3,"matTooltip","active","mouseup",4,"ngIf"],["mat-tab-link","",1,"new-tab-link",3,"matTooltip","active","click"],["tabPanel",""],["mat-tab-link","","draggable","true",3,"matTooltip","active","mouseup","dragstart","dragleave","dragover","drop"],["class","prefix",4,"ngIf"],["class","prefix disabled","diameter","18",4,"ngIf"],[1,"name"],["draggable","false",1,"suffix",3,"click"],[1,"prefix"],["diameter","18",1,"prefix","disabled"],["mat-tab-link","",1,"changelog-link",3,"matTooltip","active","mouseup"],[1,"suffix",3,"mouseup"]],template:function(C,u){if(1&C&&(t.TgZ(0,"nav",0),t.ALo(1,"async"),t.YNc(2,Ze,10,17,"a",1),t.ALo(3,"async"),t.YNc(4,Be,10,9,"a",2),t.ALo(5,"async"),t.TgZ(6,"a",3),t.NdJ("click",function(){return u.openNewRepository()}),t.ALo(7,"translate"),t.ALo(8,"async"),t.TgZ(9,"mat-icon"),t._uU(10,"add"),t.qZA()()(),t._UZ(11,"mat-tab-nav-panel",null,4)),2&C){const $=t.MAs(12);t.ekj("ink-bar-animation-disabled",t.lcZ(1,10,u.inkBarAnimationDisabled)),t.Q6J("tabPanel",$)("mat-stretch-tabs",!1)("disablePagination",!0),t.xp6(2),t.Q6J("ngForOf",t.lcZ(3,12,u.visibleRepositories))("ngForTrackBy",u.trackRepository),t.xp6(2),t.Q6J("ngIf",u.isChangelogUrl()||t.lcZ(5,14,u.hasUnreadChangelog)),t.xp6(2),t.Q6J("matTooltip",t.lcZ(7,16,"Open a new repository"))("active",!u.isChangelogUrl()&&null===t.lcZ(8,18,u.selectedRepositoryPath))}},dependencies:[p.sg,p.O5,b.Hw,L.gM,_.Ou,n.BU,n.sW,n.Nj,p.Ov,Kt.X],styles:['nav.ink-bar-animation-disabled[_ngcontent-%COMP%]     .mat-ink-bar{transition:none!important}.mat-mdc-tab-link[_ngcontent-%COMP%]{position:relative;padding:0 18px;min-width:120px}.mat-mdc-tab-link[_ngcontent-%COMP%]     .mdc-tab__content{pointer-events:initial}.mat-mdc-tab-link[_ngcontent-%COMP%]:before, .mat-mdc-tab-link[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;height:100%;width:1px;margin:0;padding:0;border:none;background-color:transparent;top:0}.mat-mdc-tab-link[_ngcontent-%COMP%]:before{left:0}.mat-mdc-tab-link[_ngcontent-%COMP%]:after{right:0}.mat-mdc-tab-link[_ngcontent-%COMP%]:first-child:before{width:2px}.mat-mdc-tab-link[_ngcontent-%COMP%]:nth-last-child(2):after{width:2px}.mat-mdc-tab-link[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]{margin-right:10px}.mat-mdc-tab-link[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%], .mat-mdc-tab-link[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{pointer-events:none}.mat-mdc-tab-link[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%]{margin-left:5px;z-index:1}.mat-mdc-tab-link[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%], .mat-mdc-tab-link[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}.new-tab-link[_ngcontent-%COMP%]{min-width:48px}.dark-theme[_nghost-%COMP%]   .mat-mdc-tab-link.border-left[_ngcontent-%COMP%]:before, .dark-theme   [_nghost-%COMP%]   .mat-mdc-tab-link.border-left[_ngcontent-%COMP%]:before{background-color:#78909c}.dark-theme[_nghost-%COMP%]   .mat-mdc-tab-link.border-right[_ngcontent-%COMP%]:after, .dark-theme   [_nghost-%COMP%]   .mat-mdc-tab-link.border-right[_ngcontent-%COMP%]:after{background-color:#78909c}.dark-theme[_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .prefix.disabled[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .prefix.disabled[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .name.disabled[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .name.disabled[_ngcontent-%COMP%]{color:#ffffff80}.light-theme[_nghost-%COMP%]   .mat-mdc-tab-link.border-left[_ngcontent-%COMP%]:before, .light-theme   [_nghost-%COMP%]   .mat-mdc-tab-link.border-left[_ngcontent-%COMP%]:before{background-color:#78909c}.light-theme[_nghost-%COMP%]   .mat-mdc-tab-link.border-right[_ngcontent-%COMP%]:after, .light-theme   [_nghost-%COMP%]   .mat-mdc-tab-link.border-right[_ngcontent-%COMP%]:after{background-color:#78909c}.light-theme[_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .prefix.disabled[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .prefix.disabled[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .name.disabled[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .name.disabled[_ngcontent-%COMP%]{color:#00000061}'],changeDetection:0})}}return(0,ge.gn)([(0,wt.Ph)(Mt.E.selectedRepositoryPath)],f.prototype,"selectedRepositoryPath",void 0),(0,ge.gn)([(0,wt.Ph)(Mt.E.openOrLoadingRepositories)],f.prototype,"openOrLoadingRepositories",void 0),(0,ge.gn)([(0,wt.Ph)(Bt.$.selectedProfile)],f.prototype,"profile",void 0),f})();const Fe=["header"];function Ue(f,Tt){if(1&f&&t._UZ(0,"app-avatar",7),2&f){const l=t.oxw().ngIf;t.Q6J("email",l.email)}}function Ne(f,Tt){if(1&f&&(t.TgZ(0,"span"),t.YNc(1,Ue,1,1,"app-avatar",6),t._uU(2),t.qZA()),2&f){const l=Tt.ngIf;t.xp6(1),t.Q6J("ngIf",l.email),t.xp6(1),t.hij(" ",l.profileName," ")}}function Ve(f,Tt){if(1&f&&t._UZ(0,"app-avatar",10),2&f){const l=t.oxw().$implicit;t.Q6J("email",l.value.email)}}function Ye(f,Tt){if(1&f&&(t.TgZ(0,"mat-option",8),t.YNc(1,Ve,1,1,"app-avatar",9),t._uU(2),t.qZA()),2&f){const l=Tt.$implicit;t.Q6J("value",l.key),t.xp6(1),t.Q6J("ngIf",l.value.email),t.xp6(1),t.hij(" ",l.value.profileName," ")}}const Ke=function(){return["/settings"]},We=[{path:"",component:(()=>{class f extends((0,ut.j)(rt.A)){constructor(l){super(),this.store=l,this.selectedProfileControl=new E.NI(null)}ngOnInit(){this.selectedProfileId.pipe((0,ft.R)(this.destroyed$)).subscribe(l=>{this.selectedProfileControl.setValue(l,{emitEvent:!1})}),this.selectedProfileControl.valueChanges.pipe((0,ft.R)(this.destroyed$)).subscribe(l=>{null!==l&&this.store.dispatch(new we.Pt(l))}),(0,Te.R)(this.headerElement.nativeElement,"wheel",{passive:!0}).pipe((0,ft.R)(this.destroyed$)).subscribe(l=>{this.headerElement.nativeElement.scrollLeft+=l.deltaY})}static{this.\u0275fac=function(C){return new(C||f)(t.Y36(wt.yh))}}static{this.\u0275cmp=t.Xpm({type:f,selectors:[["ng-component"]],viewQuery:function(C,u){if(1&C&&t.Gf(Fe,7),2&C){let $;t.iGM($=t.CRH())&&(u.headerElement=$.first)}},features:[t.qOj],decls:19,vars:17,consts:[["header",""],["subscriptSizing","dynamic",1,"profile-selector"],[3,"formControl"],[4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"settings-icon",3,"routerLink","matTooltip"],[3,"email",4,"ngIf"],[3,"email"],[3,"value"],["class","profile-select-avatar",3,"email",4,"ngIf"],[1,"profile-select-avatar",3,"email"]],template:function(C,u){1&C&&(t.TgZ(0,"header",null,0),t._UZ(2,"app-repository-tabs-view"),t.TgZ(3,"mat-form-field",1)(4,"mat-label"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"mat-select",2)(8,"mat-select-trigger"),t.YNc(9,Ne,3,2,"span",3),t.ALo(10,"async"),t.qZA(),t.YNc(11,Ye,3,3,"mat-option",4),t.ALo(12,"keyvalue"),t.ALo(13,"async"),t.qZA()(),t.TgZ(14,"mat-icon",5),t.ALo(15,"translate"),t._uU(16,"settings"),t.qZA()(),t._UZ(17,"router-outlet")(18,"app-notification-tray-view")),2&C&&(t.xp6(5),t.Oqu(t.lcZ(6,6,"Select Profile")),t.xp6(2),t.Q6J("formControl",u.selectedProfileControl),t.xp6(2),t.Q6J("ngIf",t.lcZ(10,8,u.selectedProfile)),t.xp6(2),t.Q6J("ngForOf",t.lcZ(12,10,t.lcZ(13,12,u.profiles))),t.xp6(3),t.Q6J("routerLink",t.DdM(16,Ke))("matTooltip",t.lcZ(15,14,"Settings")))},dependencies:[K.KE,K.hX,e.gD,e.$L,O.ey,p.sg,p.O5,E.JJ,E.oH,b.Hw,L.gM,yt.A,Ie.G,Se,j.lC,j.rH,p.Ov,p.Nd,Kt.X],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}header[_ngcontent-%COMP%]{display:flex;height:50px;min-height:50px;border-bottom:1px solid transparent;overflow-x:auto;overflow-y:hidden}header[_ngcontent-%COMP%]::-webkit-scrollbar{height:1px}header[_ngcontent-%COMP%]   app-repository-tabs-view[_ngcontent-%COMP%]{flex:1 0 auto}header[_ngcontent-%COMP%]   app-repository-tabs-view[_ngcontent-%COMP%]     .mat-mdc-tab-nav-bar{border:none}header[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]{flex:0 0 200px;margin-right:12px;margin-top:8px;height:38px}header[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]   mat-select-trigger[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%]{height:15px;vertical-align:middle;font-size:0}header[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]     .mat-mdc-form-field-infix{padding:7px 0;min-height:38px}header[_ngcontent-%COMP%]   .settings-icon[_ngcontent-%COMP%]{flex:0 0 auto;margin:12px;cursor:pointer}app-notification-tray-view[_ngcontent-%COMP%]{position:fixed;bottom:10px;left:10px;margin-right:10px;margin-top:10px;z-index:1000}.dark-theme[_nghost-%COMP%]   header[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   header[_ngcontent-%COMP%]{border-bottom-color:#ffffff1f}.dark-theme[_nghost-%COMP%]   header[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .dark-theme   [_nghost-%COMP%]   header[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#90a4ae}.light-theme[_nghost-%COMP%]   header[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   header[_ngcontent-%COMP%]{border-bottom-color:#0000001f}.light-theme[_nghost-%COMP%]   header[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .light-theme   [_nghost-%COMP%]   header[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#90a4ae}"],changeDetection:0})}}return(0,ge.gn)([(0,wt.Ph)(Bt.$.profiles)],f.prototype,"profiles",void 0),(0,ge.gn)([(0,wt.Ph)(Bt.$.selectedProfileId)],f.prototype,"selectedProfileId",void 0),(0,ge.gn)([(0,wt.Ph)(Bt.$.selectedProfile)],f.prototype,"selectedProfile",void 0),(0,ge.gn)([(0,wt.Ph)(Mt.E.selectedRepositoryPath)],f.prototype,"selectedRepositoryPath",void 0),f})(),children:[{path:"blame",canActivate:[_e],loadChildren:()=>o.e(623).then(o.bind(o,4623)).then(f=>f.BlameLayoutModule)},{path:"changelog",loadChildren:()=>o.e(504).then(o.bind(o,7504)).then(f=>f.ChangelogLayoutModule)},{path:"default",canActivate:[_e],loadChildren:()=>Promise.all([o.e(305),o.e(365),o.e(696)]).then(o.bind(o,4696)).then(f=>f.DefaultLayoutModule)},{path:"open-repository",loadChildren:()=>Promise.all([o.e(305),o.e(25),o.e(773)]).then(o.bind(o,6773)).then(f=>f.OpenRepositoryLayoutModule)},{path:"pull-request/create/:type/:integrationId",canActivate:[_e,Pe],component:be},{path:"pull-request/view/:type/:owner/:repo/:id",canActivate:[_e,Pe],component:xe},{path:"rebase",canActivate:[_e],loadChildren:()=>Promise.all([o.e(365),o.e(478)]).then(o.bind(o,5478)).then(f=>f.RebaseLayoutModule)},{path:"search",canActivate:[_e],loadChildren:()=>Promise.all([o.e(305),o.e(622)]).then(o.bind(o,9622)).then(f=>f.SearchLayoutModule)},{path:"",redirectTo:"default",pathMatch:"full"}]}];let Je=(()=>{class f{static{this.\u0275fac=function(C){return new(C||f)}}static{this.\u0275mod=t.oAB({type:f})}static{this.\u0275inj=t.cJS({imports:[j.Bz.forChild(We),j.Bz]})}}return f})(),Qe=(()=>{class f{static{this.\u0275fac=function(C){return new(C||f)}}static{this.\u0275mod=t.oAB({type:f})}static{this.\u0275inj=t.cJS({imports:[s.ie,e.LD,x.I,a.X,at,N.Z,Je]})}}return f})()},7735:(Lt,lt,o)=>{o.d(lt,{m:()=>a});var s=o(6250),e=o(5879),x=o(1380);let a=(()=>{class W{constructor(K){this.baseApi=K}getHighlightedFile(K,H,k,_){return this.baseApi.single(s.w.highlight.getHighlightedFile,K,H,k,_)}static{this.\u0275fac=function(H){return new(H||W)(e.LFG(x._))}}static{this.\u0275prov=e.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"})}}return W})()},3902:(Lt,lt,o)=>{o.d(lt,{c:()=>x});var s=o(1345),e=o(5879);let x=(()=>{class a{static{this.\u0275fac=function(K){return new(K||a)}}static{this.\u0275mod=e.oAB({type:a})}static{this.\u0275inj=e.cJS({imports:[s.I]})}}return a})()},9918:(Lt,lt,o)=>{o.d(lt,{d:()=>W});var s=o(3665),e=o(3153),x=o(3902),a=o(5879);let W=(()=>{class i{getPatchPath(H){switch(H.status){case s.v.Added:case s.v.Untracked:return H.newFilePath;case s.v.Conflicted:case s.v.Modified:case s.v.Renamed:return H.oldFilePath===H.newFilePath?H.newFilePath:`${H.oldFilePath} --\x3e ${H.newFilePath}`;case s.v.Deleted:return H.oldFilePath;default:throw new e.hj(H.status)}}getPatchIcon(H){switch(H.status){case s.v.Added:case s.v.Untracked:return"add";case s.v.Conflicted:return"warning";case s.v.Modified:return"create";case s.v.Deleted:return"remove";case s.v.Renamed:return"swap_horiz";default:throw new e.hj(H.status)}}getPatchIconColorClass(H){switch(H.status){case s.v.Added:case s.v.Untracked:return"green";case s.v.Conflicted:case s.v.Modified:return"orange";case s.v.Deleted:return"red";case s.v.Renamed:return"blue";default:throw new e.hj(H.status)}}static{this.\u0275fac=function(k){return new(k||i)}}static{this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:x.c})}}return i})()},9500:(Lt,lt,o)=>{o.d(lt,{A:()=>N});var s=o(2096),e=o(8504),x=o(6306),a=o(4664),W=o(7398),i=o(3153),K=o(9076),H=o(751),k=o(4820),_=o(4214),n=o(2401),A=o(3559),B=o(5879),st=o(4666),t=o(7361),at=o(8205);let N=(()=>{class j{constructor(c,h,P){this.store=c,this.repositoriesApi=h,this.stashApi=P,this.discardAllChanges=M=>this.store.dispatch(new A.z0(M,{name:"Discard",detail:(0,K.Iu)("All changes"),do:y=>{const Z=this.store.selectSnapshot(n.E.openRepositoryIds);return this.stashApi.saveWorkingCopyState(M).pipe((0,x.K)(()=>(y(),(0,s.of)(""))),(0,a.w)(z=>this.repositoriesApi.discardAllChanges(M).pipe((0,x.K)(ct=>i.SO.matches(ct)?(0,e._)(()=>new H.ZR(ct)):(0,e._)(()=>ct)),(0,k.C)(ct=>{const tt=ct?.filter(nt=>Z.includes(nt))??[];return this.store.dispatch([...tt.map(nt=>new _.Vu(nt,[_.nh.currentBranch,_.nh.currentBranchCommitId,_.nh.headCommitId])),new _.Vu(M,[_.nh.unstagedChanges,_.nh.submodules])]).pipe((0,W.U)(()=>[tt,z]))}))))},undo:([y,Z])=>this.stashApi.restoreWorkingCopyState(M,Z).pipe((0,k.C)(()=>this.store.dispatch([...y.map(z=>new _.Vu(z,[_.nh.currentBranch,_.nh.currentBranchCommitId,_.nh.headCommitId])),new _.Vu(M,[_.nh.unstagedChanges,_.nh.submodules])])))})),this.discardFiles=(M,y)=>this.store.dispatch(new A.z0(M,{name:"Discard",detail:y.map(Z=>Z.newFilePath??Z.oldFilePath).join(", "),do:Z=>{const z=this.store.selectSnapshot(n.E.openRepositoryIds);return this.stashApi.saveWorkingCopyState(M,y.map(ct=>ct.newFilePath??ct.oldFilePath).filter(H.$K)).pipe((0,x.K)(()=>(Z(),(0,s.of)(""))),(0,a.w)(ct=>this.repositoriesApi.discardFiles(M,y).pipe((0,x.K)(tt=>i.SO.matches(tt)?(0,e._)(()=>new H.ZR(tt)):(0,e._)(()=>tt)),(0,k.C)(tt=>{const nt=tt?.filter(G=>z.includes(G))??[];return this.store.dispatch([...nt.map(G=>new _.Vu(G,[_.nh.currentBranch,_.nh.currentBranchCommitId,_.nh.headCommitId])),new _.Vu(M,[_.nh.unstagedChanges,_.nh.submodules])]).pipe((0,W.U)(()=>[nt,ct]))}))))},undo:([Z,z])=>this.stashApi.restoreWorkingCopyState(M,z).pipe((0,k.C)(()=>this.store.dispatch([...Z.map(ct=>new _.Vu(ct,[_.nh.currentBranch,_.nh.currentBranchCommitId,_.nh.headCommitId])),new _.Vu(M,[_.nh.unstagedChanges,_.nh.submodules])])))})),this.discardFileLines=(M,y,Z,z)=>this.store.dispatch(new A.z0(M,{name:"Discard lines",detail:(0,K.Iu)("In _name_",{name:Z??y}),do:()=>this.repositoriesApi.discardFileLines(M,y,Z,z).pipe((0,k.C)(()=>this.store.dispatch(new _.Vu(M,[_.nh.unstagedChanges,_.nh.submodules]))))})),this.stageAllChanges=M=>this.store.dispatch(new A.z0(M,{name:"Stage",detail:(0,K.Iu)("All changes"),do:()=>this.repositoriesApi.getUnstagedChanges(M).pipe((0,a.w)(y=>this.repositoriesApi.stageAllChanges(M).pipe((0,k.C)(()=>this.store.dispatch(new _.Vu(M,[_.nh.stagedChanges,_.nh.unstagedChanges,_.nh.submodules]))),(0,k.C)(()=>(0,s.of)(y))))),undo:y=>this.repositoriesApi.unstageFiles(M,y).pipe((0,k.C)(()=>this.store.dispatch(new _.Vu(M,[_.nh.stagedChanges,_.nh.unstagedChanges,_.nh.submodules]))))})),this.stageFiles=(M,y)=>this.store.dispatch(new A.z0(M,{name:"Stage",detail:y.map(Z=>Z.newFilePath??Z.oldFilePath).join(", "),do:()=>this.repositoriesApi.stageFiles(M,y).pipe((0,k.C)(()=>this.store.dispatch(new _.Vu(M,[_.nh.stagedChanges,_.nh.unstagedChanges,_.nh.submodules])))),undo:()=>this.repositoriesApi.unstageFiles(M,y).pipe((0,k.C)(()=>this.store.dispatch(new _.Vu(M,[_.nh.stagedChanges,_.nh.unstagedChanges,_.nh.submodules]))))})),this.stageFileLines=(M,y,Z,z)=>this.store.dispatch(new A.z0(M,{name:"Stage lines",detail:(0,K.Iu)("In _name_",{name:Z??y}),do:()=>this.repositoriesApi.stageFileLines(M,y,Z,z).pipe((0,k.C)(()=>this.store.dispatch(new _.Vu(M,[_.nh.stagedChanges,_.nh.unstagedChanges,_.nh.submodules]))))})),this.unstageAllChanges=M=>this.store.dispatch(new A.z0(M,{name:"Unstage",detail:(0,K.Iu)("All changes"),do:()=>this.repositoriesApi.getStagedChanges(M).pipe((0,a.w)(y=>this.repositoriesApi.unstageAllChanges(M).pipe((0,k.C)(()=>this.store.dispatch(new _.Vu(M,[_.nh.stagedChanges,_.nh.unstagedChanges,_.nh.submodules]))),(0,k.C)(()=>(0,s.of)(y))))),undo:y=>this.repositoriesApi.stageFiles(M,y).pipe((0,k.C)(()=>this.store.dispatch(new _.Vu(M,[_.nh.stagedChanges,_.nh.unstagedChanges,_.nh.submodules]))))})),this.unstageFiles=(M,y)=>this.store.dispatch(new A.z0(M,{name:"Unstage",detail:y.map(Z=>Z.newFilePath??Z.oldFilePath).join(", "),do:()=>this.repositoriesApi.unstageFiles(M,y).pipe((0,k.C)(()=>this.store.dispatch(new _.Vu(M,[_.nh.stagedChanges,_.nh.unstagedChanges,_.nh.submodules])))),undo:()=>this.repositoriesApi.stageFiles(M,y).pipe((0,k.C)(()=>this.store.dispatch(new _.Vu(M,[_.nh.stagedChanges,_.nh.unstagedChanges,_.nh.submodules]))))})),this.unstageFileLines=(M,y,Z,z)=>this.store.dispatch(new A.z0(M,{name:"Unstage lines",detail:(0,K.Iu)("In _name_",{name:Z??y}),do:()=>this.repositoriesApi.unstageFileLines(M,y,Z,z).pipe((0,k.C)(()=>this.store.dispatch(new _.Vu(M,[_.nh.stagedChanges,_.nh.unstagedChanges,_.nh.submodules]))))}))}static{this.\u0275fac=function(h){return new(h||j)(B.LFG(st.yh),B.LFG(t.a),B.LFG(at._))}}static{this.\u0275prov=B.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"})}}return j})()},3235:(Lt,lt,o)=>{o.d(lt,{T:()=>K});var s=o(5879),e=o(4573),x=o(7910);function a(H,k){if(1&H){const _=s.EpF();s.TgZ(0,"app-new-commit",3),s.NdJ("patchChanged",function(A){s.CHM(_);const B=s.oxw(2);return s.KtG(B.patchChanged.next(A))}),s.qZA()}}function W(H,k){if(1&H){const _=s.EpF();s.TgZ(0,"app-commit",4),s.NdJ("patchChanged",function(A){s.CHM(_);const B=s.oxw(2);return s.KtG(B.patchChanged.next(A))}),s.qZA()}if(2&H){const _=s.oxw(2);s.Q6J("commit",_.commit)("selectedFile",_.selectedFile)}}function i(H,k){if(1&H&&(s.ynx(0),s.YNc(1,a,1,0,"app-new-commit",1),s.YNc(2,W,1,2,"app-commit",2),s.BQk()),2&H){const _=k.ngIf;s.xp6(1),s.Q6J("ngIf","head"===_),s.xp6(1),s.Q6J("ngIf","head"!==_)}}let K=(()=>{class H extends((0,e.j)(x.A)){constructor(){super(...arguments),this.patchChanged=new s.vpe}static{this.\u0275fac=function(){let _;return function(A){return(_||(_=s.n5z(H)))(A||H)}}()}static{this.\u0275cmp=s.Xpm({type:H,selectors:[["app-commit-detail-view"]],inputs:{commit:"commit",selectedFile:"selectedFile"},outputs:{patchChanged:"patchChanged"},features:[s.qOj],decls:2,vars:3,consts:[[4,"ngIf"],[3,"patchChanged",4,"ngIf"],[3,"commit","selectedFile","patchChanged",4,"ngIf"],[3,"patchChanged"],[3,"commit","selectedFile","patchChanged"]],template:function(n,A){1&n&&(s.YNc(0,i,3,2,"ng-container",0),s.ALo(1,"async")),2&n&&s.Q6J("ngIf",s.lcZ(1,1,A.commit))},encapsulation:2,changeDetection:0})}}return H})()},1264:(Lt,lt,o)=>{o.d(lt,{$:()=>me});var s=o(5195),e=o(5986),x=o(4516),a=o(5940),W=o(1345),i=o(3902),K=o(535),H=o(3235),k=o(7582),_=o(8484),n=o(5879),A=o(4666),B=o(8180),st=o(9773),t=o(4573),at=o(7910),N=o(2020),j=o(4214),E=o(2401),c=o(3651),h=o(3897),P=o(9918),M=o(6814),y=o(617),Z=o(2596),z=o(1102),ct=o(9193),tt=o(3588),nt=o(5696),G=o(2415),ft=o(7484);function xt(ht,Ut){if(1&ht){const O=n.EpF();n.TgZ(0,"li",21),n.NdJ("click",function(){const Pt=n.CHM(O).$implicit,Zt=n.oxw(4);return n.KtG(Zt.changeCommit(Pt))}),n._uU(1),n.qZA()}if(2&ht){const O=Ut.$implicit,V=Ut.first;n.Q6J("matTooltip",O),n.xp6(1),n.AsE("",V?"":", ","",O,"")}}function q(ht,Ut){if(1&ht&&(n.TgZ(0,"div",18)(1,"span",4),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"div",19)(5,"ul"),n.YNc(6,xt,2,3,"li",20),n.qZA()()()),2&ht){const O=n.oxw(2).ngIf;n.ekj("plural",O.parentIds.length>1),n.xp6(2),n.hij("",n.lcZ(3,4,1===O.parentIds.length?"Parent:":"Parents:")," "),n.xp6(4),n.Q6J("ngForOf",O.parentIds)}}function ut(ht,Ut){if(1&ht&&(n.TgZ(0,"div",22),n._uU(1),n.ALo(2,"translate"),n._UZ(3,"app-avatar",11),n.ALo(4,"async"),n.TgZ(5,"span",12),n._uU(6),n.qZA()()),2&ht){const O=n.oxw(2).ngIf,V=n.oxw();n.Q6J("matTooltip",O.committerName+" ("+O.committerEmail+")"),n.xp6(1),n.hij(" ",n.lcZ(2,5,"committed by")," "),n.xp6(2),n.Q6J("remotes",n.lcZ(4,7,V.remotes))("email",O.committerEmail),n.xp6(3),n.Oqu(O.committerName)}}function rt(ht,Ut){if(1&ht){const O=n.EpF();n.TgZ(0,"div",23)(1,"div",24),n._uU(2),n.qZA(),n.TgZ(3,"button",25),n.NdJ("click",function(){const Pt=n.CHM(O).data,Zt=n.oxw(3);return n.KtG(Zt.copyToClipboard(Zt.getPatchPath(Pt)))}),n.TgZ(4,"mat-icon"),n._uU(5,"content_copy"),n.qZA(),n.TgZ(6,"span"),n._uU(7),n.ALo(8,"translate"),n.qZA()(),n.TgZ(9,"button",26),n.NdJ("click",function(){const Pt=n.CHM(O).data,Zt=n.oxw(3);return n.KtG(Zt.blamePatch(Pt))}),n.TgZ(10,"mat-icon"),n._uU(11,"document_scanner"),n.qZA(),n.TgZ(12,"span"),n._uU(13),n.ALo(14,"translate"),n.qZA()()()}if(2&ht){const O=Ut.data,V=n.oxw(3);let X;n.xp6(1),n.Q6J("matTooltip",null!==(X=V.getPatchPath(O))&&void 0!==X?X:""),n.xp6(1),n.Oqu(V.getPatchFilename(O)),n.xp6(5),n.Oqu(n.lcZ(8,4,"Copy Path")),n.xp6(6),n.Oqu(n.lcZ(14,6,"Blame"))}}function _t(ht,Ut){if(1&ht){const O=n.EpF();n.TgZ(0,"div",2)(1,"header")(2,"div",3),n.NdJ("click",function(){n.CHM(O);const X=n.oxw().ngIf,Pt=n.oxw();return n.KtG(Pt.copyToClipboard(X.id))}),n.TgZ(3,"span",4),n._uU(4),n.ALo(5,"translate"),n.qZA(),n._uU(6),n.qZA(),n.YNc(7,q,7,6,"div",5),n.qZA(),n.TgZ(8,"app-grid",6)(9,"app-grid-cell")(10,"mat-card",7)(11,"div",8)(12,"span",9),n._uU(13),n.qZA(),n._UZ(14,"br"),n.TgZ(15,"span"),n._uU(16),n.qZA()(),n.TgZ(17,"div",10),n._uU(18),n.ALo(19,"translate"),n._UZ(20,"app-avatar",11),n.ALo(21,"async"),n.TgZ(22,"span",12),n._uU(23),n.qZA(),n._UZ(24,"br"),n.qZA(),n.YNc(25,ut,7,9,"div",13),n.TgZ(26,"div",14),n.ALo(27,"translateDate"),n._uU(28),n.ALo(29,"translate"),n.TgZ(30,"span",12),n._uU(31),n.ALo(32,"translateDate"),n.qZA(),n._uU(33),n.ALo(34,"translate"),n.TgZ(35,"span",12),n._uU(36),n.ALo(37,"translateDate"),n.qZA()()()(),n.TgZ(38,"app-grid-cell")(39,"mat-card",15)(40,"app-patches-view",16),n.NdJ("selectedChanged",function(X){n.CHM(O);const Pt=n.oxw(2);return n.KtG(Pt.changeFile(X.oldFilePath,X.newFilePath))})("contextMenuOpened",function(X){n.CHM(O);const Pt=n.MAs(43),Zt=n.oxw(2);return n.KtG(Zt.openContextMenu(Pt,X[0],X[1]))}),n.ALo(41,"async"),n.qZA()()()(),n.YNc(42,rt,15,8,"ng-template",null,17,n.W1O),n.qZA()}if(2&ht){const O=n.oxw().ngIf,V=n.oxw();n.xp6(2),n.Q6J("matTooltip",O.id),n.xp6(2),n.Oqu(n.lcZ(5,19,"Commit:")),n.xp6(2),n.hij(" ",O.id," "),n.xp6(1),n.Q6J("ngIf",O.parentIds.length),n.xp6(6),n.Oqu(V.getMessageSubject(O.message)),n.xp6(3),n.Oqu(V.getMessageBody(O.message)),n.xp6(1),n.Q6J("matTooltip",O.authorName+" ("+O.authorEmail+")"),n.xp6(1),n.hij(" ",n.lcZ(19,21,"authored by")," "),n.xp6(2),n.Q6J("remotes",n.lcZ(21,23,V.remotes))("email",O.authorEmail),n.xp6(3),n.Oqu(O.authorName),n.xp6(2),n.Q6J("ngIf",O.committerName&&O.committerEmail&&(O.authorName!==O.committerName||O.authorEmail!==O.committerEmail)),n.xp6(1),n.Q6J("matTooltip",n.xi3(27,25,O.date,"z")||""),n.xp6(2),n.hij(" ",n.lcZ(29,28,"on !date!")," "),n.xp6(3),n.Oqu(n.xi3(32,30,O.date,"longDate")),n.xp6(2),n.hij(" ",n.lcZ(34,33,"at !time!")," "),n.xp6(3),n.Oqu(n.xi3(37,35,O.date,"HH:mm")),n.xp6(4),n.Q6J("patches",O.patches)("selected",n.lcZ(41,38,V.selectedFile))}}function bt(ht,Ut){if(1&ht&&(n.ynx(0),n.YNc(1,_t,44,40,"div",1),n.BQk()),2&ht){const O=Ut.ngIf;n.xp6(1),n.Q6J("ngIf",O&&"head"!==O)}}let Mt=(()=>{class ht extends((0,t.j)(at.A)){constructor(O,V,X,Pt,Zt){super(),this.overlay=O,this.router=V,this.viewContainerRef=X,this.store=Pt,this.commitDetailService=Zt,this.patchChanged=new n.vpe,this.overlayRef=null}getPatchPath(O){return this.commitDetailService.getPatchPath(O)}getPatchFilename(O){const V=this.commitDetailService.getPatchPath(O);return V?V.slice(V.lastIndexOf("/")+1):null}getMessageSubject(O){return O.split("\n")[0]??""}getMessageBody(O){return O.split("\n").slice(1).join("\n").trimEnd()}copyToClipboard(O){navigator.clipboard.writeText(O??"").then(()=>{})}changeCommit(O){this.selectedRepositoryPath.pipe((0,B.q)(1)).subscribe(V=>{null!==V&&(this.store.dispatch(new j.jQ(V,O)),O&&this.store.dispatch(new j.BK(V,O)))})}changeFile(O,V){this.patchChanged.next({area:"commit",oldFilePath:O,newFilePath:V})}blamePatch(O){this.commit.pipe((0,B.q)(1)).subscribe(V=>{this.router.navigate(["/standard/blame"],{queryParams:{area:"commit","commit-id":"head"===V?"head":V?.id,path:O.newFilePath}})})}openContextMenu(O,V,X){X.preventDefault(),X.stopPropagation(),this.closeContextMenu(),this.overlayRef=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo({x:X.x,y:X.y}).withPositions([{originX:"end",originY:"bottom",overlayX:"start",overlayY:"top"}])}),this.overlayRef.attach(new _.UE(O,this.viewContainerRef,{data:V})),(0,N.t)(this.overlayRef).pipe((0,B.q)(1),(0,st.R)(this.destroyed$)).subscribe(()=>this.closeContextMenu())}closeContextMenu(){this.overlayRef?.dispose(),this.overlayRef=null}static{this.\u0275fac=function(V){return new(V||ht)(n.Y36(c.aV),n.Y36(h.F0),n.Y36(n.s_b),n.Y36(A.yh),n.Y36(P.d))}}static{this.\u0275cmp=n.Xpm({type:ht,selectors:[["app-commit"]],inputs:{commit:"commit",selectedFile:"selectedFile"},outputs:{patchChanged:"patchChanged"},features:[n.qOj],decls:2,vars:3,consts:[[4,"ngIf"],["class","detail-container",4,"ngIf"],[1,"detail-container"],[1,"this-commit",3,"matTooltip","click"],[1,"title"],["class","parent-commits",3,"plural",4,"ngIf"],["id","commit-detail-view","vertical",""],["appearance","outlined",1,"message"],[1,"content"],[1,"subject"],[1,"author",3,"matTooltip"],[3,"remotes","email"],[1,"highlight"],["class","committer",3,"matTooltip",4,"ngIf"],[1,"date",3,"matTooltip"],["appearance","outlined",1,"files"],[3,"patches","selected","selectedChanged","contextMenuOpened"],["fileContextMenu",""],[1,"parent-commits"],[1,"parent-commit-ids"],[3,"matTooltip","click",4,"ngFor","ngForOf"],[3,"matTooltip","click"],[1,"committer",3,"matTooltip"],[1,"menu-panel"],[1,"menu-header",3,"matTooltip"],[1,"menu-item",3,"click"],["matTooltip","Show file history",1,"menu-item",3,"click"]],template:function(V,X){1&V&&(n.YNc(0,bt,2,1,"ng-container",0),n.ALo(1,"async")),2&V&&n.Q6J("ngIf",n.lcZ(1,1,X.commit))},dependencies:[s.a8,M.sg,M.O5,y.Hw,Z.gM,z.A,ct.Y,tt.M,nt.i,M.Ov,G.v,ft.X],styles:[".detail-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;gap:10px}header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;column-gap:10px;padding:0 10px;flex:0 0 auto;overflow-x:hidden;overflow-y:auto;font-weight:600}header[_ngcontent-%COMP%]   .this-commit[_ngcontent-%COMP%]{flex:1 1 113px;min-width:113px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer}header[_ngcontent-%COMP%]   .parent-commits[_ngcontent-%COMP%]{flex:1 1 106px;min-width:106px;overflow:hidden}header[_ngcontent-%COMP%]   .parent-commits[_ngcontent-%COMP%]   .parent-commit-ids[_ngcontent-%COMP%]{display:inline-block;width:calc(100% - 61px)}header[_ngcontent-%COMP%]   .parent-commits[_ngcontent-%COMP%]   .parent-commit-ids[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{width:100%;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}header[_ngcontent-%COMP%]   .parent-commits[_ngcontent-%COMP%]   .parent-commit-ids[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer}header[_ngcontent-%COMP%]   .parent-commits.plural[_ngcontent-%COMP%]{flex-basis:163px;min-width:163px}header[_ngcontent-%COMP%]   .parent-commits.plural[_ngcontent-%COMP%]   .parent-commit-ids[_ngcontent-%COMP%]{width:calc(100% - 63px)}header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:400}.message[_ngcontent-%COMP%]{height:calc(100% - 5px);margin:0 10px 5px;padding:16px;overflow:auto;white-space:pre-line}.message[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:1rem;overflow-wrap:anywhere}.message[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .subject[_ngcontent-%COMP%]{font-size:1.25rem}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{margin-top:20px}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]{margin-bottom:2px}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%]{width:auto;height:1.5625rem;aspect-ratio:1/1;margin:0 3px 0 5px;vertical-align:bottom}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{font-size:1.25rem}.files[_ngcontent-%COMP%]{height:calc(100% - 5px);margin:5px 10px 0;padding:16px;white-space:nowrap;overflow:auto;display:flex;flex-direction:column;gap:10px}.dark-theme[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#fff}.dark-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#ffffffb3}.dark-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#fff}.light-theme[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#000000de}.light-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#0000008a}.light-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#000000de}"],changeDetection:0})}}return(0,k.gn)([(0,A.Ph)(E.E.selectedRemotes)],ht.prototype,"remotes",void 0),(0,k.gn)([(0,A.Ph)(E.E.selectedRepositoryPath)],ht.prototype,"selectedRepositoryPath",void 0),ht})();var Bt=o(7368),wt=o(6223),gt=o(5619),kt=o(2572),T=o(3019),D=o(7398),p=o(3620),I=o(7921),b=o(4716),L=o(3665),w=o(1361),pt=o(9076),g=o(5657),U=o(709),ot=o(4304),yt=o(9500),Dt=o(4170),Gt=o(6263),zt=o(2296),te=o(6885);function Yt(ht,Ut){if(1&ht){const O=n.EpF();n.TgZ(0,"button",21),n.NdJ("click",function(){n.CHM(O);const X=n.oxw(2);return n.KtG(X.stage())}),n.ALo(1,"translate"),n.ALo(2,"nullEmpty"),n.ALo(3,"async"),n._UZ(4,"mat-icon",19),n.ALo(5,"nullEmpty"),n.ALo(6,"async"),n.qZA()}if(2&ht){const O=n.oxw(2);n.Q6J("matTooltip",n.lcZ(1,2,n.lcZ(2,4,n.lcZ(3,6,O.checkedUnstaged))?"Stage selected changes":"Stage all changes")),n.xp6(4),n.Q6J("svgIcon",n.lcZ(5,8,n.lcZ(6,10,O.checkedUnstaged))?"tray-plus":"tray-arrow-down")}}function Kt(ht,Ut){1&ht&&(n.TgZ(0,"div",22),n.ALo(1,"translate"),n.TgZ(2,"button",23)(3,"mat-icon"),n._uU(4,"warning"),n.qZA()()()),2&ht&&n.Q6J("matTooltip",n.lcZ(1,1,"Cannot stage conflicted files, resolve the conflicts first"))}function ae(ht,Ut){if(1&ht){const O=n.EpF();n.TgZ(0,"app-grid-cell",2)(1,"mat-card",12)(2,"div",13)(3,"button",14),n.NdJ("click",function(){n.CHM(O);const X=n.oxw();return n.KtG(X.clickAllUnstagedCheckbox())}),n.ALo(4,"translate"),n.ALo(5,"async"),n.TgZ(6,"mat-icon"),n._uU(7),n.ALo(8,"async"),n.qZA()(),n.TgZ(9,"div",15),n.YNc(10,Yt,7,12,"button",16),n.ALo(11,"async"),n.YNc(12,Kt,5,3,"div",17),n.ALo(13,"async"),n.TgZ(14,"button",18),n.NdJ("click",function(){n.CHM(O);const X=n.oxw();return n.KtG(X.discard())}),n.ALo(15,"translate"),n.ALo(16,"nullEmpty"),n.ALo(17,"async"),n._UZ(18,"mat-icon",19),n.ALo(19,"nullEmpty"),n.ALo(20,"async"),n.qZA()()(),n.TgZ(21,"app-patches-view",20),n.NdJ("checkedChanged",function(X){n.CHM(O);const Pt=n.oxw();return n.KtG(Pt.setPatchChecked("unstaged",X[0],X[1]))})("selectedChanged",function(X){n.CHM(O);const Pt=n.oxw();return n.KtG(Pt.selectFile("unstaged",X.oldFilePath,X.newFilePath))})("contextMenuOpened",function(X){n.CHM(O);const Pt=n.oxw(),Zt=n.MAs(23);return n.KtG(Pt.openContextMenu("unstaged",Zt,X[0],X[1]))}),n.ALo(22,"async"),n.qZA()()()}if(2&ht){const O=Ut.ngIf,V=n.oxw();n.xp6(3),n.Q6J("matTooltip",n.lcZ(4,9,"check_box_outline_blank"===n.lcZ(5,11,V.allUnstagedCheckboxIcon)?"Select all":"Deselect all")),n.xp6(4),n.Oqu(n.lcZ(8,13,V.allUnstagedCheckboxIcon)),n.xp6(3),n.Q6J("ngIf",!1===n.lcZ(11,15,V.hasConflicts)),n.xp6(2),n.Q6J("ngIf",n.lcZ(13,17,V.hasConflicts)),n.xp6(2),n.Q6J("matTooltip",n.lcZ(15,19,n.lcZ(16,21,n.lcZ(17,23,V.checkedUnstaged))?"Discard selected changes":"Discard all changes")),n.xp6(4),n.Q6J("svgIcon",n.lcZ(19,25,n.lcZ(20,27,V.checkedUnstaged))?"tray-remove":"tray"),n.xp6(3),n.Q6J("patches",O)("checked",V.checkedUnstaged)("selected",n.lcZ(22,29,V.selectedUnstagedFile))}}function qt(ht,Ut){if(1&ht){const O=n.EpF();n.TgZ(0,"mat-card",24)(1,"div",13)(2,"button",14),n.NdJ("click",function(){n.CHM(O);const X=n.oxw();return n.KtG(X.clickAllStagedCheckbox())}),n.ALo(3,"translate"),n.ALo(4,"async"),n.TgZ(5,"mat-icon"),n._uU(6),n.ALo(7,"async"),n.qZA()(),n.TgZ(8,"div",15)(9,"button",25),n.NdJ("click",function(){n.CHM(O);const X=n.oxw();return n.KtG(X.unstage())}),n.ALo(10,"translate"),n.ALo(11,"nullEmpty"),n.ALo(12,"async"),n._UZ(13,"mat-icon",19),n.ALo(14,"nullEmpty"),n.ALo(15,"async"),n.qZA()()(),n.TgZ(16,"app-patches-view",20),n.NdJ("checkedChanged",function(X){n.CHM(O);const Pt=n.oxw();return n.KtG(Pt.setPatchChecked("staged",X[0],X[1]))})("selectedChanged",function(X){n.CHM(O);const Pt=n.oxw();return n.KtG(Pt.selectFile("staged",X.oldFilePath,X.newFilePath))})("contextMenuOpened",function(X){n.CHM(O);const Pt=n.oxw(),Zt=n.MAs(23);return n.KtG(Pt.openContextMenu("staged",Zt,X[0],X[1]))}),n.ALo(17,"async"),n.qZA()()}if(2&ht){const O=Ut.ngIf,V=n.oxw();n.xp6(2),n.Q6J("matTooltip",n.lcZ(3,7,"check_box_outline_blank"===n.lcZ(4,9,V.allStagedCheckboxIcon)?"Select all":"Deselect all")),n.xp6(4),n.Oqu(n.lcZ(7,11,V.allStagedCheckboxIcon)),n.xp6(3),n.Q6J("matTooltip",n.lcZ(10,13,n.lcZ(11,15,n.lcZ(12,17,V.checkedStaged))?"Unstage selected changes":"Unstage all changes")),n.xp6(4),n.Q6J("svgIcon",n.lcZ(14,19,n.lcZ(15,21,V.checkedStaged))?"tray-minus":"tray-arrow-up"),n.xp6(3),n.Q6J("patches",O)("checked",V.checkedStaged)("selected",n.lcZ(17,23,V.selectedStagedFile))}}function le(ht,Ut){1&ht&&n._UZ(0,"mat-spinner",26)}function ue(ht,Ut){1&ht&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&ht&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"Commit changes")))}function de(ht,Ut){if(1&ht){const O=n.EpF();n.TgZ(0,"button",31),n.NdJ("click",function(){n.CHM(O);const X=n.oxw().data,Pt=n.oxw();return n.KtG(Pt.blamePatch(X.area,X.patch))}),n.TgZ(1,"mat-icon"),n._uU(2,"document_scanner"),n.qZA(),n.TgZ(3,"span"),n._uU(4),n.ALo(5,"translate"),n.qZA()()}2&ht&&(n.xp6(4),n.Oqu(n.lcZ(5,1,"Blame")))}function he(ht,Ut){if(1&ht){const O=n.EpF();n.TgZ(0,"div",27)(1,"div",28),n._uU(2),n.qZA(),n.TgZ(3,"button",29),n.NdJ("click",function(){const Pt=n.CHM(O).data,Zt=n.oxw();return n.KtG(Zt.copyToClipboard(Zt.getPatchPath(Pt.patch)))}),n.TgZ(4,"mat-icon"),n._uU(5,"content_copy"),n.qZA(),n.TgZ(6,"span"),n._uU(7),n.ALo(8,"translate"),n.qZA()(),n.YNc(9,de,6,3,"button",30),n.qZA()}if(2&ht){const O=Ut.data,V=n.oxw();let X;n.xp6(1),n.Q6J("matTooltip",null!==(X=V.getPatchPath(O.patch))&&void 0!==X?X:""),n.xp6(1),n.Oqu(V.getPatchFilename(O.patch)),n.xp6(5),n.Oqu(n.lcZ(8,4,"Copy Path")),n.xp6(2),n.Q6J("ngIf",!V.isPatchAdded(O.patch))}}let pe=(()=>{class ht extends((0,t.j)(at.A,w.P)){constructor(O,V,X,Pt,Zt,se,ie){super(),this.overlay=O,this.router=V,this.viewContainerRef=X,this.store=Pt,this.commitDetailService=Zt,this.repositoryActionsService=se,this.stagingActionsService=ie,this.patchChanged=new n.vpe,this.commitMessageControl=new wt.NI(null),this.commitButtonLoading=new gt.X(!1),this.checkedStaged=new gt.X([]),this.checkedUnstaged=new gt.X([]),this.allStagedCheckboxIcon=new gt.X("check_box_outline_blank"),this.allUnstagedCheckboxIcon=new gt.X("check_box_outline_blank"),this.overlayRef=null,this.isPatchAdded=ce=>ce.status===L.v.Added}ngOnInit(){this.stagedChanges=this.allStagedChanges.pipe((0,D.U)(O=>O?.filter(V=>V.status!==L.v.Conflicted)??null)),this.selectedRepositoryCommitMessage.pipe((0,st.R)(this.destroyed$)).subscribe(O=>{this.commitMessageControl.setValue(O,{emitEvent:!1})}),this.commitMessageControl.valueChanges.pipe((0,p.b)(200),(0,st.R)(this.destroyed$)).subscribe(O=>{const V=this.store.selectSnapshot(E.E.selectedRepositoryPath);V&&this.store.dispatch(new j.$h(V,O))}),this.commitButtonDisabled=(0,kt.a)([this.commitButtonLoading,this.stagedChanges,(0,T.T)(this.selectedRepositoryCommitMessage,this.commitMessageControl.valueChanges.pipe((0,I.O)(this.commitMessageControl.value)))]).pipe((0,D.U)(([O,V,X])=>O||!X||!V||0===V.length)),this.commitButtonTooltip=(0,kt.a)([this.stagedChanges,(0,T.T)(this.selectedRepositoryCommitMessage,this.commitMessageControl.valueChanges.pipe((0,I.O)(this.commitMessageControl.value)))]).pipe((0,D.U)(([O,V])=>V?O&&0!==O.length?"":(0,pt.Iu)("There must be staged changes to commit"):(0,pt.Iu)("The commit message cannot be empty"))),this.hasConflicts=(0,kt.a)([this.unstagedChanges,this.checkedUnstaged]).pipe((0,D.U)(([O,V])=>V.length>0&&V.some(X=>X.status===L.v.Conflicted)||0===V.length&&!!O&&O.some(X=>X.status===L.v.Conflicted)))}getPatchPath(O){return this.commitDetailService.getPatchPath(O)}getPatchFilename(O){const V=this.commitDetailService.getPatchPath(O);return V?V.slice(V.lastIndexOf("/")+1):null}selectFile(O,V,X){this.patchChanged.next({area:O,oldFilePath:V,newFilePath:X})}discard(){const O=this.store.selectSnapshot(E.E.selectedRepositoryPath);O&&(this.checkedUnstaged.value.length>0?this.stagingActionsService.discardFiles(O,this.checkedUnstaged.value):this.stagingActionsService.discardAllChanges(O)).pipe((0,st.R)(this.destroyed$)).subscribe(()=>{this.checkedStaged.next([]),this.checkedUnstaged.next([]),this.allUnstagedCheckboxIcon.next("check_box_outline_blank")})}stage(){const O=this.store.selectSnapshot(E.E.selectedRepositoryPath);O&&(this.checkedUnstaged.value.length>0?this.stagingActionsService.stageFiles(O,this.checkedUnstaged.value):this.stagingActionsService.stageAllChanges(O)).pipe((0,st.R)(this.destroyed$)).subscribe(()=>{this.checkedStaged.next([]),this.checkedUnstaged.next([]),this.allUnstagedCheckboxIcon.next("check_box_outline_blank")})}unstage(){const O=this.store.selectSnapshot(E.E.selectedRepositoryPath);O&&(this.checkedStaged.value.length>0?this.stagingActionsService.unstageFiles(O,this.checkedStaged.value):this.stagingActionsService.unstageAllChanges(O)).pipe((0,st.R)(this.destroyed$)).subscribe(()=>{this.checkedStaged.next([]),this.checkedUnstaged.next([]),this.allStagedCheckboxIcon.next("check_box_outline_blank")})}setPatchChecked(O,V,X){const Pt="staged"===O?this.checkedStaged.value:this.checkedUnstaged.value,Zt=Pt.findIndex(ce=>ce.oldFilePath===V.oldFilePath&&ce.newFilePath===V.newFilePath);Zt>=0&&!X?Pt.splice(Zt,1):Zt<0&&X&&Pt.push(V),"staged"===O?this.checkedStaged.next(Pt):this.checkedUnstaged.next(Pt);const se="staged"===O?this.allStagedCheckboxIcon:this.allUnstagedCheckboxIcon;(this.store.selectSnapshot("staged"===O?E.E.selectedStagedChanges:E.E.selectedUnstagedChanges)?.length??0)===Pt.length?se.next("check_box"):se.next(0===Pt.length?"check_box_outline_blank":"indeterminate_check_box")}commitChanges(){const O=this.store.selectSnapshot(E.E.selectedRepositoryPath),V=this.store.selectSnapshot(U.$.selectedProfile),X=[];O||X.push((0,pt.Iu)("Cannot commit if no repository is selected")),V||X.push((0,pt.Iu)("Cannot commit if no profile is selected"));const Pt=this.commitMessageControl.value;if(Pt||X.push((0,pt.Iu)("Cannot commit with empty commit message")),X.length>0)return void this.store.dispatch(X.map(ie=>new g.hx("error",ie)));this.commitButtonLoading.next(!0);const Zt=O;this.repositoryActionsService.createCommit(Zt,V,Pt??"").pipe((0,b.x)(()=>{this.commitButtonLoading.next(!1)})).subscribe(ie=>{this.store.dispatch(new j.BK(Zt,ie))})}copyToClipboard(O){navigator.clipboard.writeText(O??"")}blamePatch(O,V){this.router.navigate(["/standard/blame"],{queryParams:{area:O,"commit-id":"head",path:V.newFilePath}})}clickAllStagedCheckbox(){switch(this.allStagedCheckboxIcon.value){case"check_box":case"indeterminate_check_box":this.checkedStaged.next([]),this.allStagedCheckboxIcon.next("check_box_outline_blank");break;case"check_box_outline_blank":const O=this.store.selectSnapshot(E.E.selectedStagedChanges);this.checkedStaged.next([...O??[]]),this.allStagedCheckboxIcon.next("check_box")}}clickAllUnstagedCheckbox(){switch(this.allUnstagedCheckboxIcon.value){case"check_box":case"indeterminate_check_box":this.checkedUnstaged.next([]),this.allUnstagedCheckboxIcon.next("check_box_outline_blank");break;case"check_box_outline_blank":const O=this.store.selectSnapshot(E.E.selectedUnstagedChanges);this.checkedUnstaged.next([...O??[]]),this.allUnstagedCheckboxIcon.next("check_box")}}openContextMenu(O,V,X,Pt){Pt.preventDefault(),Pt.stopPropagation(),this.closeContextMenu(),this.overlayRef=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo({x:Pt.x,y:Pt.y}).withPositions([{originX:"end",originY:"bottom",overlayX:"start",overlayY:"top"}])}),this.overlayRef.attach(new _.UE(V,this.viewContainerRef,{data:{area:O,patch:X}})),(0,N.t)(this.overlayRef).pipe((0,B.q)(1),(0,st.R)(this.destroyed$)).subscribe(()=>this.closeContextMenu())}closeContextMenu(){this.overlayRef?.dispose(),this.overlayRef=null}static{this.\u0275fac=function(V){return new(V||ht)(n.Y36(c.aV),n.Y36(h.F0),n.Y36(n.s_b),n.Y36(A.yh),n.Y36(P.d),n.Y36(ot.$),n.Y36(yt.A))}}static{this.\u0275cmp=n.Xpm({type:ht,selectors:[["app-new-commit"]],viewQuery:function(V,X){if(1&V&&n.Gf(Bt.N7,5),2&V){let Pt;n.iGM(Pt=n.CRH())&&(X.viewports=Pt)}},outputs:{patchChanged:"patchChanged"},features:[n.qOj],decls:24,vars:27,consts:[["vertical",""],["min","150px",4,"ngIf"],["min","150px"],["appearance","outlined","class","staged",4,"ngIf"],["appearance","outlined",1,"commit"],[1,"description"],["matInput","","cdkTextareaAutosize","",3,"placeholder","formControl"],[1,"button-container",3,"matTooltip"],["mat-flat-button","","color","primary",1,"commit-btn",3,"disabled","click"],["diameter","24",4,"ngIf"],[4,"ngIf"],["fileContextMenu",""],["appearance","outlined",1,"unstaged"],[1,"header-buttons"],["type","button","mat-icon-button","",1,"checkbox-button","app-icon-button-md",3,"matTooltip","click"],[1,"buttons"],["type","button","mat-stroked-button","","class","stage-button",3,"matTooltip","click",4,"ngIf"],["class","conflicts-wrapper",3,"matTooltip",4,"ngIf"],["type","button","mat-stroked-button","","color","warn",1,"discard-button",3,"matTooltip","click"],[3,"svgIcon"],[3,"patches","checked","selected","checkedChanged","selectedChanged","contextMenuOpened"],["type","button","mat-stroked-button","",1,"stage-button",3,"matTooltip","click"],[1,"conflicts-wrapper",3,"matTooltip"],["type","button","mat-stroked-button","","disabled","",1,"stage-button","has-conflicts"],["appearance","outlined",1,"staged"],["type","button","mat-stroked-button","",1,"unstage-button",3,"matTooltip","click"],["diameter","24"],[1,"menu-panel"],[1,"menu-header",3,"matTooltip"],["type","button",1,"menu-item",3,"click"],["type","button","class","menu-item","matTooltip","Show file history",3,"click",4,"ngIf"],["type","button","matTooltip","Show file history",1,"menu-item",3,"click"]],template:function(V,X){1&V&&(n.TgZ(0,"app-grid",0),n.YNc(1,ae,23,31,"app-grid-cell",1),n.ALo(2,"nullEmpty"),n.ALo(3,"async"),n.TgZ(4,"app-grid-cell",2),n.YNc(5,qt,18,25,"mat-card",3),n.ALo(6,"async"),n.qZA()(),n.TgZ(7,"mat-card",4)(8,"mat-form-field",5)(9,"mat-label"),n._uU(10),n.ALo(11,"translate"),n.qZA(),n._UZ(12,"textarea",6),n.ALo(13,"translate"),n.qZA(),n.TgZ(14,"div",7),n.ALo(15,"async"),n.TgZ(16,"button",8),n.NdJ("click",function(){return X.commitChanges()}),n.ALo(17,"async"),n.YNc(18,le,1,0,"mat-spinner",9),n.ALo(19,"async"),n.YNc(20,ue,3,3,"span",10),n.ALo(21,"async"),n.qZA()()(),n.YNc(22,he,10,6,"ng-template",null,11,n.W1O)),2&V&&(n.xp6(1),n.Q6J("ngIf",n.lcZ(2,9,n.lcZ(3,11,X.unstagedChanges))),n.xp6(4),n.Q6J("ngIf",n.lcZ(6,13,X.stagedChanges)),n.xp6(5),n.Oqu(n.lcZ(11,15,"Commit Message")),n.xp6(2),n.s9C("placeholder",n.lcZ(13,17,"Enter a description...")),n.Q6J("formControl",X.commitMessageControl),n.xp6(2),n.Q6J("matTooltip",n.lcZ(15,19,X.commitButtonTooltip)||""),n.xp6(2),n.Q6J("disabled",n.lcZ(17,21,X.commitButtonDisabled)),n.xp6(2),n.Q6J("ngIf",n.lcZ(19,23,X.commitButtonLoading)),n.xp6(2),n.Q6J("ngIf",!1===n.lcZ(21,25,X.commitButtonLoading)))},dependencies:[s.a8,x.Nt,Dt.KE,Dt.hX,Gt.IC,a.Ou,M.O5,wt.Fj,wt.JJ,wt.oH,zt.lW,zt.RK,y.Hw,Z.gM,ct.Y,tt.M,nt.i,M.Ov,te.x,ft.X],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:stretch;height:100%;gap:10px}.staged[_ngcontent-%COMP%]{margin:5px 10px 0;height:calc(100% - 5px)}.unstaged[_ngcontent-%COMP%]{margin:0 10px 5px;height:calc(100% - 5px)}app-grid-cell[_ngcontent-%COMP%]:first-child   .staged[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;height:100%}.staged[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]{padding:16px;white-space:nowrap;overflow:auto;display:flex;flex-direction:column;gap:10px}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]{flex:0 0 auto;position:relative}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:space-between;min-height:40px;margin-left:32px}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .conflicts-wrapper[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .conflicts-wrapper[_ngcontent-%COMP%]{flex:1 1 calc(50% - 16px)}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .conflicts-wrapper[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .conflicts-wrapper[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:100%}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .conflicts-wrapper[_ngcontent-%COMP%] + button[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .conflicts-wrapper[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]{flex:1 1 calc(50% - 16px)}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1 1 auto}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%]{cursor:default}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%]{position:absolute;top:0;left:-12px}.commit[_ngcontent-%COMP%]{flex:0 0 auto;margin:0 10px;padding:16px;overflow:auto;display:flex;flex-direction:column;min-height:158px;max-height:33%}.commit[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{width:100%}.commit[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:34px}.commit[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{flex:0 0 auto}.commit[_ngcontent-%COMP%]   .commit-btn[_ngcontent-%COMP%]{width:100%}.dark-theme[_nghost-%COMP%]   .staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%]{color:#cb8837}.light-theme[_nghost-%COMP%]   .staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%]{color:#d8a669}"],changeDetection:0})}}return(0,k.gn)([(0,A.Ph)(E.E.selectedRepositoryPath)],ht.prototype,"repositoryPath",void 0),(0,k.gn)([(0,A.Ph)(E.E.selectedStagedChanges)],ht.prototype,"allStagedChanges",void 0),(0,k.gn)([(0,A.Ph)(E.E.selectedUnstagedChanges)],ht.prototype,"unstagedChanges",void 0),(0,k.gn)([(0,A.Ph)(E.E.selectedFileForArea("staged"))],ht.prototype,"selectedStagedFile",void 0),(0,k.gn)([(0,A.Ph)(E.E.selectedFileForArea("unstaged"))],ht.prototype,"selectedUnstagedFile",void 0),(0,k.gn)([(0,A.Ph)(E.E.selectedRepositoryCommitMessage)],ht.prototype,"selectedRepositoryCommitMessage",void 0),(0,k.gn)([(0,A.Ph)(U.$.selectedProfile)],ht.prototype,"selectedProfile",void 0),(0,k.gn)([(0,A.Ph)(U.$.profiles)],ht.prototype,"profiles",void 0),ht})(),me=(()=>{class ht{static{this.\u0275fac=function(V){return new(V||ht)}}static{this.\u0275mod=n.oAB({type:ht})}static{this.\u0275inj=n.cJS({imports:[s.QW,e.p9,x.c,a.Cq,W.I,i.c,K.Z]})}}return ht})();n.B6R(H.T,[M.O5,Mt,pe],[M.Ov])},1135:(Lt,lt,o)=>{o.d(lt,{s:()=>D});var s=o(7582),e=o(6825),x=o(1088),a=o(5879),W=o(4666),i=o(9738),K=o(5619),H=o(2572),k=o(9315),_=o(2096),n=o(8504),A=o(7398),B=o(3997),st=o(9397),t=o(4664),at=o(9773),N=o(836),j=o(2181),E=o(6306),c=o(8180),h=o(3153),P=o(4573),M=o(7910),y=o(2401),Z=o(9589),z=o(709),ct=o(7735),tt=o(2368),nt=o(9500);function G(p,I){if(1&p&&(a._UZ(0,"app-condensed-path",14),a.ALo(1,"async")),2&p){const b=a.oxw(2);a.Q6J("path",a.lcZ(1,1,b.filePath))}}function ft(p,I){if(1&p){const b=a.EpF();a.TgZ(0,"button",15),a.NdJ("click",function(){a.CHM(b);const w=a.oxw(2);return a.KtG(w.modifyLinesStage("stage"))}),a.ALo(1,"translate"),a._UZ(2,"mat-icon",16),a.qZA()}2&p&&a.Q6J("matTooltip",a.lcZ(1,1,"Stage selected lines"))}function xt(p,I){if(1&p){const b=a.EpF();a.TgZ(0,"button",17),a.NdJ("click",function(){a.CHM(b);const w=a.oxw(2);return a.KtG(w.modifyLinesStage("discard"))}),a.ALo(1,"translate"),a._UZ(2,"mat-icon",18),a.qZA()}2&p&&a.Q6J("matTooltip",a.lcZ(1,1,"Discard selected lines"))}function q(p,I){if(1&p){const b=a.EpF();a.TgZ(0,"button",19),a.NdJ("click",function(){a.CHM(b);const w=a.oxw(2);return a.KtG(w.modifyLinesStage("unstage"))}),a.ALo(1,"translate"),a._UZ(2,"mat-icon",20),a.qZA()}2&p&&a.Q6J("matTooltip",a.lcZ(1,1,"Unstage selected lines"))}function ut(p,I){if(1&p){const b=a.EpF();a.TgZ(0,"button",21),a.NdJ("click",function(){a.CHM(b);const w=a.oxw(2);return a.KtG(w.edited.next())}),a.TgZ(1,"mat-icon"),a._uU(2,"edit"),a.qZA()()}}function rt(p,I){if(1&p){const b=a.EpF();a.TgZ(0,"button",22),a.NdJ("click",function(){a.CHM(b);const w=a.oxw(2);return a.KtG(w.closed.next())}),a.TgZ(1,"mat-icon"),a._uU(2,"close"),a.qZA()()}}function _t(p,I){1&p&&(a.TgZ(0,"main"),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&p&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Loading...")))}function bt(p,I){1&p&&(a.TgZ(0,"main"),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&p&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Cannot load binary file.")))}function Mt(p,I){1&p&&(a.TgZ(0,"main"),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&p&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Cannot load file.")))}function Bt(p,I){if(1&p&&a._UZ(0,"app-hunk-view",24),2&p){const b=a.oxw(3);a.Q6J("diffLines",b.diffLines)("search",b.search$)}}function wt(p,I){if(1&p&&a._UZ(0,"app-inline-view",24),2&p){const b=a.oxw(3);a.Q6J("diffLines",b.diffLines)("search",b.search$)}}function gt(p,I){if(1&p&&a._UZ(0,"app-split-view",24),2&p){const b=a.oxw(3);a.Q6J("diffLines",b.diffLines)("search",b.search$)}}function kt(p,I){if(1&p&&(a.TgZ(0,"main"),a.YNc(1,Bt,1,2,"app-hunk-view",23),a.YNc(2,wt,1,2,"app-inline-view",23),a.YNc(3,gt,1,2,"app-split-view",23),a.qZA()),2&p){const b=a.oxw().ngIf;a.xp6(1),a.Q6J("ngIf","hunk"===b),a.xp6(1),a.Q6J("ngIf","inline"===b),a.xp6(1),a.Q6J("ngIf","split"===b)}}function T(p,I){if(1&p){const b=a.EpF();a.ynx(0),a.TgZ(1,"header")(2,"app-find-control",1),a.NdJ("searched",function(w){a.CHM(b);const pt=a.oxw();return a.KtG(pt.search$.next(w))})("focusin",function(){a.CHM(b);const w=a.oxw();return a.KtG(w.findControlHasFocus$.next(!0))})("focusout",function(){a.CHM(b);const w=a.oxw();return a.KtG(w.findControlHasFocus$.next(!1))}),a.ALo(3,"async"),a.qZA(),a.YNc(4,G,2,3,"app-condensed-path",2),a.ALo(5,"async"),a.ALo(6,"async"),a.TgZ(7,"div",3),a.YNc(8,ft,3,3,"button",4),a.ALo(9,"async"),a.YNc(10,xt,3,3,"button",5),a.ALo(11,"async"),a.YNc(12,q,3,3,"button",6),a.ALo(13,"async"),a.TgZ(14,"mat-button-toggle-group",7),a.NdJ("change",function(w){a.CHM(b);const pt=a.oxw();return a.KtG(pt.changeView(w.value))}),a.TgZ(15,"mat-button-toggle",8),a.ALo(16,"translate"),a.TgZ(17,"mat-icon"),a._uU(18,"calendar_view_day"),a.qZA()(),a.TgZ(19,"mat-button-toggle",9),a.ALo(20,"translate"),a.TgZ(21,"mat-icon"),a._uU(22,"view_headline"),a.qZA()(),a.TgZ(23,"mat-button-toggle",10),a.ALo(24,"translate"),a.TgZ(25,"mat-icon"),a._uU(26,"vertical_split"),a.qZA()()(),a.TgZ(27,"div",11),a.YNc(28,ut,3,0,"button",12),a.YNc(29,rt,3,0,"button",13),a.qZA()()(),a.YNc(30,_t,3,3,"main",0),a.ALo(31,"async"),a.YNc(32,bt,3,3,"main",0),a.ALo(33,"async"),a.YNc(34,Mt,3,3,"main",0),a.ALo(35,"async"),a.YNc(36,kt,4,3,"main",0),a.ALo(37,"async"),a.BQk()}if(2&p){const b=I.ngIf,L=a.oxw();a.xp6(2),a.Q6J("@showFindControl",a.lcZ(3,16,L.showFindControl))("initial",L.search),a.xp6(2),a.Q6J("ngIf",!(a.lcZ(5,18,L.showStage)||a.lcZ(6,20,L.showUnstage))),a.xp6(4),a.Q6J("ngIf",a.lcZ(9,22,L.showStage)),a.xp6(2),a.Q6J("ngIf",a.lcZ(11,24,L.showStage)),a.xp6(2),a.Q6J("ngIf",a.lcZ(13,26,L.showUnstage)),a.xp6(2),a.Q6J("value",b),a.xp6(1),a.Q6J("matTooltip",a.lcZ(16,28,"Hunk View")),a.xp6(4),a.Q6J("matTooltip",a.lcZ(20,30,"Inline View")),a.xp6(4),a.Q6J("matTooltip",a.lcZ(24,32,"Split View")),a.xp6(5),a.Q6J("ngIf",L.showEdit),a.xp6(1),a.Q6J("ngIf",!L.hideClose),a.xp6(1),a.Q6J("ngIf","loading"===a.lcZ(31,34,L.currentView)),a.xp6(2),a.Q6J("ngIf","binary-file"===a.lcZ(33,36,L.currentView)),a.xp6(2),a.Q6J("ngIf","error"===a.lcZ(35,38,L.currentView)),a.xp6(2),a.Q6J("ngIf","normal"===a.lcZ(37,40,L.currentView))}}let D=(()=>{class p extends((0,P.j)(M.A)){constructor(b,L,w,pt,g){super(),this.breakpointObserver=b,this.store=L,this.highlightApi=w,this.diffSelectionService=pt,this.stagingActionsService=g,this.hideClose=!1,this.showEdit=!1,this.search=null,this.closed=new a.vpe,this.edited=new a.vpe,this.currentView=new K.X("loading"),this.diffLines=new K.X(null),this.search$=new K.X(null),this.findControlHasFocus$=new K.X(!1),this.showFindControl=(0,H.a)([this.search$,this.findControlHasFocus$,this.breakpointObserver.observe([x.u3.XSmall,x.u3.Small,x.u3.Medium])]).pipe((0,A.U)(([U,ot,yt])=>!!U||ot||!yt.matches))}ngOnInit(){this.showStage=(0,H.a)([this.patch,this.selectedCommitId,this.diffSelectionService.selectedFileLines]).pipe((0,A.U)(([b,L,w])=>"head"===L&&!0===b?.isUnstaged&&!b.patch.newFileIsSubmodule&&!b.patch.oldFileIsSubmodule&&w.length>0)),this.showUnstage=(0,H.a)([this.patch,this.selectedCommitId,this.diffSelectionService.selectedFileLines]).pipe((0,A.U)(([b,L,w])=>"head"===L&&!1===b?.isUnstaged&&!b.patch.newFileIsSubmodule&&!b.patch.oldFileIsSubmodule&&w.length>0)),this.filePath=this.patch.pipe((0,A.U)(b=>b?.patch.newFilePath??b?.patch.oldFilePath??"")),this.patch.pipe((0,B.x)((b,L)=>b&&L?!(b.repositoryPath!==L.repositoryPath||b.isUnstaged!==L.isUnstaged||b.patch.newFileId!==L.patch.newFileId||b.patch.newFileIsDir!==L.patch.newFileIsDir||b.patch.newFileIsSubmodule!==L.patch.newFileIsSubmodule||b.patch.newFilePath!==L.patch.newFilePath||b.patch.oldFileId!==L.patch.oldFileId||b.patch.oldFileIsDir!==L.patch.oldFileIsDir||b.patch.oldFileIsSubmodule!==L.patch.oldFileIsSubmodule||b.patch.oldFilePath!==L.patch.oldFilePath||b.patch.status!==L.patch.status||b.patch.hunks.length!==L.patch.hunks.length||(0,i.Z)(b.patch.hunks,L.patch.hunks).some(([w,pt])=>w?.lines.length!==pt?.lines.length||w?.newStart!==pt?.newStart||w?.oldStart!==pt?.oldStart||w?.header!==pt?.header||w&&pt&&(0,i.Z)(w.lines,pt.lines).some(([g,U])=>g?.content.length!==U?.content.length||g?.newLineNo!==U?.newLineNo||g?.oldLineNo!==U?.oldLineNo||g?.origin!==U?.origin||g?.content!==U?.content))):!b&&!L),(0,st.b)(()=>{this.currentView.next("loading")}),(0,t.w)(b=>b?(0,k.D)(this.getLines(b,!1)).pipe((0,at.R)(this.currentView.pipe((0,N.T)(1),(0,j.h)(L=>"loading"===L))),(0,at.R)(this.destroyed$),(0,A.U)(([L,w])=>[b,L,w]),(0,E.K)(L=>h.OZ.matches(L)?(this.currentView.next("binary-file"),(0,_.of)(null)):h.hK.matches(L)?(this.currentView.next("error"),(0,_.of)(null)):(0,n._)(()=>L))):(0,_.of)(null)),(0,st.b)(b=>{if(b){const[L,w,pt]=b;this.diffLines.next({hunks:L.patch.hunks,oldLines:w,newLines:pt,oldFilePath:L.patch.oldFilePath,newFilePath:L.patch.newFilePath,highlighted:!1}),this.currentView.next("normal")}else this.diffLines.next(null)}),(0,t.w)(b=>b?.[0]?(0,k.D)(this.getLines(b?.[0],!0)).pipe((0,at.R)(this.currentView.pipe((0,N.T)(1),(0,j.h)(L=>"loading"===L))),(0,at.R)(this.destroyed$),(0,A.U)(([L,w])=>[b?.[0],L,w]),(0,E.K)(L=>h.OZ.matches(L)?(this.currentView.next("binary-file"),(0,_.of)(null)):h.hK.matches(L)?(this.currentView.next("error"),(0,_.of)(null)):(0,n._)(()=>L))):(0,_.of)(null)),(0,at.R)(this.destroyed$)).subscribe(b=>{if(b){const[L,w,pt]=b;this.diffLines.next({hunks:L.patch.hunks,oldLines:w,newLines:pt,oldFilePath:L.patch.oldFilePath,newFilePath:L.patch.newFilePath,highlighted:!0}),this.currentView.next("normal")}else this.diffLines.next(null)})}changeView(b){this.store.dispatch(new Z.zb(b))}modifyLinesStage(b){const L=this.store.selectSnapshot(y.E.selectedRepositoryPath);if(!L)throw new h.uX;this.patch.pipe((0,c.q)(1)).subscribe(w=>{if(!w||!w.patch.oldFilePath)return;const pt=[L,w.patch.oldFileId?w.patch.oldFilePath:null,w.patch.newFileId?w.patch.newFilePath:null,this.diffSelectionService.selectedFileLines.value];switch(b){case"discard":this.stagingActionsService.discardFileLines(...pt).subscribe();break;case"stage":this.stagingActionsService.stageFileLines(...pt).subscribe();break;default:this.stagingActionsService.unstageFileLines(...pt).subscribe()}})}getLines(b,L){if(b.patch.oldFileIsSubmodule||b.patch.newFileIsSubmodule){if(b.patch.hunks.length<=0)return[(0,_.of)([]),(0,_.of)([])];const w=b.patch.hunks[0]?.lines.find(g=>g.oldLineNo>0),pt=b.patch.hunks[0]?.lines.find(g=>g.newLineNo>0);return[(0,_.of)([{lineNumber:1,text:w?.content??"",tokens:[{startIndex:0,endIndex:w?.content.length??0,scopes:["normal"]}]}]),(0,_.of)([{lineNumber:1,text:pt?.content??"",tokens:[{startIndex:0,endIndex:pt?.content.length??0,scopes:["normal"]}]}])]}return[b.patch.oldFileId?this.highlightApi.getHighlightedFile(b.repositoryPath,b.patch.oldFileId,b.patch.oldFilePath,L):(0,_.of)([]),b.isUnstaged?this.highlightApi.getHighlightedFile(b.repositoryPath,null,b.patch.newFilePath,L):b.patch.newFileId?this.highlightApi.getHighlightedFile(b.repositoryPath,b.patch.newFileId,b.patch.newFilePath,L):(0,_.of)([])]}static{this.\u0275fac=function(L){return new(L||p)(a.Y36(x.Yg),a.Y36(W.yh),a.Y36(ct.m),a.Y36(tt.Q),a.Y36(nt.A))}}static{this.\u0275cmp=a.Xpm({type:p,selectors:[["app-diff-view"]],inputs:{patch:"patch",hideClose:"hideClose",showEdit:"showEdit",search:"search"},outputs:{closed:"closed",edited:"edited"},features:[a.qOj],decls:2,vars:3,consts:[[4,"ngIf"],[3,"initial","searched","focusin","focusout"],[3,"path",4,"ngIf"],[1,"right"],["type","button","class","stage-button","mat-stroked-button","",3,"matTooltip","click",4,"ngIf"],["type","button","class","discard-button","mat-stroked-button","","color","warn",3,"matTooltip","click",4,"ngIf"],["type","button","class","unstage-button","mat-stroked-button","",3,"matTooltip","click",4,"ngIf"],[3,"value","change"],["value","hunk",3,"matTooltip"],["value","inline",3,"matTooltip"],["value","split",3,"matTooltip"],[1,"close-container"],["type","button","mat-icon-button","","class","edit-button app-icon-button-md",3,"click",4,"ngIf"],["type","button","mat-icon-button","","class","close-button app-icon-button-md",3,"click",4,"ngIf"],[3,"path"],["type","button","mat-stroked-button","",1,"stage-button",3,"matTooltip","click"],["svgIcon","tray-plus"],["type","button","mat-stroked-button","","color","warn",1,"discard-button",3,"matTooltip","click"],["svgIcon","tray-remove"],["type","button","mat-stroked-button","",1,"unstage-button",3,"matTooltip","click"],["svgIcon","tray-minus"],["type","button","mat-icon-button","",1,"edit-button","app-icon-button-md",3,"click"],["type","button","mat-icon-button","",1,"close-button","app-icon-button-md",3,"click"],[3,"diffLines","search",4,"ngIf"],[3,"diffLines","search"]],template:function(L,w){1&L&&(a.YNc(0,T,38,42,"ng-container",0),a.ALo(1,"async")),2&L&&a.Q6J("ngIf",a.lcZ(1,1,w.view))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%;position:absolute}header[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:baseline;justify-content:space-between;margin-bottom:5px;outline:none;overflow-x:auto;overflow-y:hidden}header[_ngcontent-%COMP%]::-webkit-scrollbar{height:4px}header[_ngcontent-%COMP%]   app-find-control[_ngcontent-%COMP%]{min-width:240px;max-width:350px;overflow:hidden}header[_ngcontent-%COMP%]   app-condensed-path[_ngcontent-%COMP%]{min-width:150px}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;gap:5px;margin-left:auto}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .stage-button[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .discard-button[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .unstage-button[_ngcontent-%COMP%]{height:40px}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]{height:40px}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]{font-size:0}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]     .mat-button-toggle-label-content{line-height:38px;padding:0 6px}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .close-container[_ngcontent-%COMP%]{display:flex;align-items:center;align-self:baseline;overflow:hidden;height:40px}main[_ngcontent-%COMP%]{flex:1 0 auto;outline:none;overflow-x:auto;overflow-y:auto}.dark-theme   [_nghost-%COMP%]{background:#1e1e1e}.light-theme   [_nghost-%COMP%]{background:#fafafa}"],data:{animation:[(0,e.X$)("showFindControl",[(0,e.SB)("true",(0,e.oB)({opacity:1})),(0,e.SB)("false",(0,e.oB)({opacity:0,position:"absolute",height:0})),(0,e.eR)("false -> true",[(0,e.oB)({opacity:0,position:"relative",height:"*"}),(0,e.jt)("225ms ease-in-out",(0,e.oB)({opacity:1}))]),(0,e.eR)("true -> false",[(0,e.oB)({opacity:1}),(0,e.jt)("225ms ease-in-out",(0,e.oB)({opacity:0}))])])]},changeDetection:0})}}return(0,s.gn)([(0,W.Ph)(y.E.selectedCommitId)],p.prototype,"selectedCommitId",void 0),(0,s.gn)([(0,W.Ph)(z.$.diffView)],p.prototype,"view",void 0),p})()},8700:(Lt,lt,o)=>{o.d(lt,{m:()=>ce});var s=o(9488),e=o(4516),x=o(1345),a=o(1135),W=o(7368),i=o(5879),K=o(2159),H=o(4957),k=o(1974);var A=o(9768),B=o(3988),st=o(231);const at=function t(it){var Ct=(0,st.Z)(it),v=Ct%1;return Ct==Ct?v?Ct-v:Ct:0},j=function N(it,Ct,v){var J=null==it?0:it.length;return J?(Ct=v||void 0===Ct?1:at(Ct),(0,B.Z)(it,0,(Ct=J-Ct)<0?0:Ct)):[]},c=function E(it,Ct,v){var J=null==it?0:it.length;return J?(Ct=v||void 0===Ct?1:at(Ct),(0,B.Z)(it,(Ct=J-Ct)<0?0:Ct,J)):[]};var h=o(5619),P=o(7398),M=o(7921),y=o(9384),Z=o(7547),z=o(9773),ct=o(3153),tt=o(4573),nt=o(7910),G=o(1361),ft=o(4794),xt=o(2368),q=o(6814),ut=o(2296),rt=o(617),_t=o(7041),bt=o(6974);const Mt=["scrollContainer"],Bt=["code"];function wt(it,Ct){if(1&it&&i._UZ(0,"span",9),2&it){const v=Ct.ngIf;i.Udp("left",v.left)("width",v.width)}}function gt(it,Ct){if(1&it){const v=i.EpF();i.ynx(0),i.TgZ(1,"button",10),i.NdJ("click",function(){i.CHM(v);const S=i.oxw().$implicit,Q=i.oxw();return i.KtG(Q.expandSeparator(S))}),i.TgZ(2,"mat-icon",11),i._uU(3),i.qZA()(),i.TgZ(4,"span",12),i._uU(5),i.qZA(),i.BQk()}if(2&it){const v=i.oxw(),J=v.first,S=v.last,Q=v.$implicit,Ot=i.oxw();i.xp6(1),i.Udp("width",Ot.lineNumberMargin+26,"px"),i.xp6(2),i.Oqu(J?"expand_less":S?"expand_more":"unfold_more"),i.xp6(2),i.Oqu(Q.separatorHeader)}}function kt(it,Ct){if(1&it&&(i.TgZ(0,"span",17),i._uU(1),i.qZA()),2&it){const v=Ct.$implicit;i.Q6J("ngClass",v.class),i.xp6(1),i.Oqu(v.text)}}function T(it,Ct){if(1&it&&(i.ynx(0),i.YNc(1,kt,2,2,"span",16),i.ALo(2,"tokens"),i.ALo(3,"searchToken"),i.ALo(4,"async"),i.BQk()),2&it){const v=Ct.ngIf,J=i.oxw(3);i.xp6(1),i.Q6J("ngForOf",i.xi3(2,1,i.Dn7(3,4,v.tokens,v.text,i.lcZ(4,8,J.search)),v.text))}}function D(it,Ct){if(1&it&&(i.TgZ(0,"span",13),i._uU(1),i.qZA(),i.TgZ(2,"span",14),i._uU(3),i.qZA(),i.YNc(4,T,5,10,"ng-container",15)),2&it){const v=i.oxw().$implicit,J=i.oxw();i.Udp("right","calc(100% + 26px + "+(J.lineNumberMargin/2).toString()+"px)")("width",J.lineNumberMargin/2-5,"px"),i.xp6(1),i.Oqu(null==v.diffLine.oldLine?null:v.diffLine.oldLine.lineNumber),i.xp6(1),i.Udp("width",J.lineNumberMargin/2-5,"px"),i.xp6(1),i.Oqu(null==v.diffLine.newLine?null:v.diffLine.newLine.lineNumber),i.xp6(1),i.Q6J("ngIf",J.getLineView(v.diffLine))}}function p(it,Ct){if(1&it&&(i.TgZ(0,"li",5),i.YNc(1,wt,1,4,"span",6),i.ALo(2,"async"),i.YNc(3,gt,6,4,"ng-container",7),i.YNc(4,D,5,9,"ng-template",null,8,i.W1O),i.qZA()),2&it){const v=Ct.$implicit,J=Ct.index,S=i.MAs(5),Q=i.oxw();i.Q6J("ngClass","line-"+(v.isSeparator?"separator":v.diffLine.status)),i.xp6(1),i.Q6J("ngIf",i.lcZ(2,4,Q.getSelection(J))),i.xp6(2),i.Q6J("ngIf",v.isSeparator)("ngIfElse",S)}}let I=(()=>{class it extends((0,tt.j)(nt.A,G.P)){constructor(v,J){super(),this.diffService=v,this.diffSelectionService=J,this.lineNumberMargin=0,this.lines$=new h.X([]),this.currentPatch=null,this.getSelection=S=>this.diffSelectionService.selectedRange.pipe((0,P.U)(Q=>{if(!Q)return null;const[Ot,It]=Q[0].line>Q[1].line||Q[0].line===Q[1].line&&Q[0].char>Q[1].char?[Q[1],Q[0]]:Q;return S<Ot.line||S>It.line?null:S===Ot.line?{left:Ot.char*this.diffSelectionService.charWidth+"px",width:Ot.line===It.line?(It.char-Ot.char)*this.diffSelectionService.charWidth+"px":"100%"}:S===It.line?{left:"0px",width:It.char*this.diffSelectionService.charWidth+"px"}:{left:"0px",width:"100%"}}))}ngOnInit(){this.diffLines.pipe((0,M.O)(null),(0,y.G)(),(0,Z.g)(0),(0,z.R)(this.destroyed$)).subscribe(([J,S])=>{const Q=this.currentPatch?{...this.currentPatch}:null;if(S){this.currentPatch={newFilePath:S.newFilePath,oldFilePath:S.oldFilePath};const Ot=function _(it){return it&&it.length?(0,K.Z)(it,k.Z,H.Z):void 0}([S.oldLines.length,S.newLines.length])??0;this.lineNumberMargin=this.diffService.calculateMargin(Ot.toString().length),this.diffService.calculateHunkLines(S.oldLines,S.newLines,S.hunks).pipe((0,z.R)(this.destroyed$)).subscribe(It=>{J&&J.newFilePath===S.newFilePath&&J.oldFilePath===S.oldFilePath&&!J.highlighted&&S.highlighted?this.updateLines(It):this.lines$.next(It),(!Q||Q.oldFilePath!==this.currentPatch?.oldFilePath||Q.newFilePath!==this.currentPatch?.newFilePath)&&this.scrollContainer.elementRef?.nativeElement?.scrollTo(0,0)})}else this.currentPatch=null,this.lineNumberMargin=0,this.lines$.next([]),Q&&this.scrollContainer.elementRef?.nativeElement?.scrollTo(0,0)});const v=this.scrollContainer.elementRef.nativeElement;this.diffSelectionService.captureSelections(this.codeElement.nativeElement,(J,S)=>({line:Math.floor((v.scrollTop+S-v.getBoundingClientRect().top)/19),char:Math.max(0,Math.round((v.scrollLeft+J-v.getBoundingClientRect().left-(this.lineNumberMargin+26))/this.diffSelectionService.charWidth))}),(J,S)=>this.lines$.value.filter((Q,Ot)=>Ot>=J&&Ot<=S).map(Q=>Q.isSeparator?Q.separatorHeader??void 0:this.getLineView(Q.diffLine)?.text),()=>{const J=this.lines$.value,S=J[J.length-1];return{line:J.length-1,char:S?(S.isSeparator?S.separatorHeader:this.getLineView(S.diffLine)?.text)?.length??0:0}},([J,S])=>(0,A.Z)(J.line,S.line+1).flatMap(Q=>{const Ot=this.lines$.value[Q];return!Ot||Ot.isSeparator?[]:[{oldLineNo:Ot.diffLine.oldLine?.lineNumber??-1,newLineNo:Ot.diffLine.newLine?.lineNumber??-1}]})).pipe((0,z.R)(this.destroyed$)).subscribe()}expandSeparator(v){const S=this.lines$.value;this.lines$.next(S.flatMap((Q,Ot)=>{if(Q!==v)return Q;if(v.hiddenDiffLines.length<=25)return v.hiddenDiffLines.map(jt=>({isSeparator:!1,diffLine:jt}));if(0===Ot)return[{isSeparator:!0,separatorHeader:v.separatorHeader,hiddenDiffLines:j(v.hiddenDiffLines,20)},...c(v.hiddenDiffLines,20).map(jt=>({isSeparator:!1,diffLine:jt}))];if(Ot===S.length-1)return[...v.hiddenDiffLines.slice(0,20).map(jt=>({isSeparator:!1,diffLine:jt})),{isSeparator:!0,separatorHeader:null,hiddenDiffLines:v.hiddenDiffLines.slice(20)}];const It=v.hiddenDiffLines.slice(0,10),Ht=j(v.hiddenDiffLines.slice(10),10),ee=c(v.hiddenDiffLines,10);return[...It.map(jt=>({isSeparator:!1,diffLine:jt})),{isSeparator:!0,separatorHeader:v.separatorHeader,hiddenDiffLines:Ht},...ee.map(jt=>({isSeparator:!1,diffLine:jt}))]}))}getLineView(v){return"added"===v.status?v.newLine:"removed"===v.status?v.oldLine:"unchanged"===v.status?v.newLine??v.oldLine:null}trackByHunkLine(v,J){return J.isSeparator?J.separatorHeader:`${J.diffLine.oldLine?.text}:::${J.diffLine.newLine?.text}`}updateLines(v){const J=this.lines$.value;let S=0,Q=0;const Ot=[];for(;Q<v.length;){const It=J[S],Ht=v[Q];if(!It||!Ht)throw new ct.jc;if(Ht.isSeparator){if(It.isSeparator){if(It.hiddenDiffLines.length===Ht.hiddenDiffLines.length){Ot.push(Ht),S++,Q++;continue}Ot.push({isSeparator:!0,separatorHeader:Ht.separatorHeader,hiddenDiffLines:Ht.hiddenDiffLines.slice(0,It.hiddenDiffLines.length)}),Ht.hiddenDiffLines=Ht.hiddenDiffLines.slice(It.hiddenDiffLines.length),S++;continue}const ee=Ht.hiddenDiffLines[0];if(!ee){Q++;continue}Ot.push({isSeparator:!1,diffLine:ee}),Ht.hiddenDiffLines=Ht.hiddenDiffLines.slice(1),S++}else{if(It.isSeparator)throw new ct.jc;Ot.push(Ht),S++,Q++}}this.lines$.next(Ot)}static{this.\u0275fac=function(J){return new(J||it)(i.Y36(ft.S),i.Y36(xt.Q))}}static{this.\u0275cmp=i.Xpm({type:it,selectors:[["app-hunk-view"]],viewQuery:function(J,S){if(1&J&&(i.Gf(Mt,7),i.Gf(Bt,7,i.SBq),i.Gf(W.N7,5)),2&J){let Q;i.iGM(Q=i.CRH())&&(S.scrollContainer=Q.first),i.iGM(Q=i.CRH())&&(S.codeElement=Q.first),i.iGM(Q=i.CRH())&&(S.viewports=Q)}},inputs:{diffLines:"diffLines",search:"search"},features:[i.qOj],decls:7,vars:9,consts:[[1,"viewport",3,"itemSize","maxBufferPx","minBufferPx"],["scrollContainer",""],["tabindex","0",1,"vs-code-theme"],["code",""],["class","line",3,"ngClass",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"line",3,"ngClass"],["class","selection",3,"left","width",4,"ngIf"],[4,"ngIf","ngIfElse"],["diffLineContent",""],[1,"selection"],["mat-button","",1,"separator-icon",3,"click"],["inline",""],[1,"separator-header"],[1,"old-line-number"],[1,"new-line-number"],[4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(J,S){1&J&&(i.TgZ(0,"cdk-virtual-scroll-viewport",0,1)(2,"code",2,3)(4,"ul"),i.YNc(5,p,6,6,"li",4),i.ALo(6,"async"),i.qZA()()()),2&J&&(i.Q6J("itemSize",19)("maxBufferPx",1e3)("minBufferPx",200),i.xp6(4),i.Udp("margin-left",S.lineNumberMargin+26,"px"),i.xp6(1),i.Q6J("cdkVirtualForOf",i.lcZ(6,7,S.lines$))("cdkVirtualForTrackBy",S.trackByHunkLine))},dependencies:[W.xd,W.x0,W.N7,q.mk,q.sg,q.O5,ut.lW,rt.Hw,q.Ov,_t.y,bt.U],styles:['code[_ngcontent-%COMP%]{display:block;white-space:pre;user-select:none;cursor:text;outline:none}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%], code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]{position:absolute;text-align:right;user-select:none}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%]{right:calc(100% + 26px)}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{position:absolute;display:block;height:19px;opacity:.5}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]{right:100%}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]{cursor:pointer;height:19px;line-height:19px;padding:0;text-align:center;min-width:0}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;height:100%;width:100%;z-index:-1}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{line-height:19px}.viewport[_ngcontent-%COMP%]{height:100%;width:100%}.dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-separator[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-separator[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]:before, .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]:before{background:#252525}.dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]{color:#858585}.dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{background-color:#53789b!important}.light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-separator[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-separator[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]:before, .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]:before{background:#eeeeee}.light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]{color:#5e5e5e}.light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{background-color:#add6ff!important}'],changeDetection:0})}}return it})();const b=["scrollContainer"],L=["code"];function w(it,Ct){if(1&it&&i._UZ(0,"span",10),2&it){const v=Ct.ngIf;i.Udp("left",v.left)("width",v.width)}}function pt(it,Ct){if(1&it&&(i.TgZ(0,"span",12),i._uU(1),i.qZA()),2&it){const v=Ct.$implicit;i.Q6J("ngClass",v.class),i.xp6(1),i.Oqu(v.text)}}function g(it,Ct){if(1&it&&(i.ynx(0),i.YNc(1,pt,2,2,"span",11),i.ALo(2,"tokens"),i.ALo(3,"searchToken"),i.ALo(4,"async"),i.BQk()),2&it){const v=Ct.ngIf,J=i.oxw(2);i.xp6(1),i.Q6J("ngForOf",i.xi3(2,1,i.Dn7(3,4,v.tokens,v.text,i.lcZ(4,8,J.search)),v.text))}}function U(it,Ct){if(1&it&&(i.TgZ(0,"li",5),i.YNc(1,w,1,4,"span",6),i.ALo(2,"async"),i.TgZ(3,"span",7),i._uU(4),i.qZA(),i.TgZ(5,"span",8),i._uU(6),i.qZA(),i.YNc(7,g,5,10,"ng-container",9),i.qZA()),2&it){const v=Ct.$implicit,J=Ct.index,S=i.oxw();i.Q6J("ngClass","line-"+v.status),i.xp6(1),i.Q6J("ngIf",i.lcZ(2,11,S.getSelection(J))),i.xp6(2),i.Udp("right","calc(100% + 26px + "+(S.lineNumberMargin/2).toString()+"px)")("width",S.lineNumberMargin/2-5,"px"),i.xp6(1),i.Oqu(null==v.oldLine?null:v.oldLine.lineNumber),i.xp6(1),i.Udp("width",S.lineNumberMargin/2-5,"px"),i.xp6(1),i.Oqu(null==v.newLine?null:v.newLine.lineNumber),i.xp6(1),i.Q6J("ngIf",S.getLineView(v))}}let ot=(()=>{class it extends((0,tt.j)(nt.A,G.P)){constructor(v,J){super(),this.diffService=v,this.diffSelectionService=J,this.lineNumberMargin=0,this.lines$=new h.X([]),this.currentPatch=null,this.getSelection=S=>this.diffSelectionService.selectedRange.pipe((0,P.U)(Q=>{if(!Q)return null;const[Ot,It]=Q[0].line>Q[1].line||Q[0].line===Q[1].line&&Q[0].char>Q[1].char?[Q[1],Q[0]]:Q;return S<Ot.line||S>It.line?null:S===Ot.line?{left:Ot.char*this.diffSelectionService.charWidth+"px",width:Ot.line===It.line?(It.char-Ot.char)*this.diffSelectionService.charWidth+"px":"100%"}:S===It.line?{left:"0px",width:It.char*this.diffSelectionService.charWidth+"px"}:{left:"0px",width:"100%"}}))}ngOnInit(){this.diffLines.pipe((0,Z.g)(0),(0,z.R)(this.destroyed$)).subscribe(J=>{const S=this.currentPatch?{...this.currentPatch}:null;if(J){this.currentPatch={newFilePath:J.newFilePath,oldFilePath:J.oldFilePath};const Q=Math.max(J.oldLines.length,J.newLines.length)??0;this.lineNumberMargin=this.diffService.calculateMargin(Q.toString().length),this.diffService.calculateInlineLines(J.oldLines,J.newLines,J.hunks).pipe((0,z.R)(this.destroyed$)).subscribe(Ot=>{this.lines$.next(Ot),(!S||S.oldFilePath!==this.currentPatch?.oldFilePath||S.newFilePath!==this.currentPatch?.newFilePath)&&this.scrollContainer.nativeElement?.scrollTo(0,0)})}else this.currentPatch=null,this.lineNumberMargin=0,this.lines$.next([]),S&&this.scrollContainer.nativeElement?.scrollTo(0,0)});const v=this.scrollContainer.nativeElement;this.diffSelectionService.captureSelections(this.codeElement.nativeElement,(J,S)=>({line:Math.floor((v.scrollTop+S-v.getBoundingClientRect().top)/19),char:Math.max(0,Math.round((v.scrollLeft+J-v.getBoundingClientRect().left-(this.lineNumberMargin+26))/this.diffSelectionService.charWidth))}),(J,S)=>this.lines$.value.filter((Q,Ot)=>Ot>=J&&Ot<=S).map(Q=>this.getLineView(Q)?.text),()=>{const J=this.lines$.value[this.lines$.value.length-1];return{line:this.lines$.value.length-1,char:J?this.getLineView(J)?.text.length??0:0}},([J,S])=>(0,A.Z)(J.line,S.line+1).map(Q=>({oldLineNo:this.lines$.value[Q]?.oldLine?.lineNumber??-1,newLineNo:this.lines$.value[Q]?.newLine?.lineNumber??-1}))).pipe((0,z.R)(this.destroyed$)).subscribe()}getLineView(v){return"added"===v.status?v.newLine:"removed"===v.status?v.oldLine:"unchanged"===v.status?v.newLine??v.oldLine:null}trackByDiffLine(v,J){return v}static{this.\u0275fac=function(J){return new(J||it)(i.Y36(ft.S),i.Y36(xt.Q))}}static{this.\u0275cmp=i.Xpm({type:it,selectors:[["app-inline-view"]],viewQuery:function(J,S){if(1&J&&(i.Gf(b,7,i.SBq),i.Gf(L,7,i.SBq),i.Gf(W.N7,5)),2&J){let Q;i.iGM(Q=i.CRH())&&(S.scrollContainer=Q.first),i.iGM(Q=i.CRH())&&(S.codeElement=Q.first),i.iGM(Q=i.CRH())&&(S.viewports=Q)}},inputs:{diffLines:"diffLines",search:"search"},features:[i.qOj],decls:7,vars:9,consts:[[1,"viewport",3,"itemSize","maxBufferPx","minBufferPx"],["scrollContainer",""],["tabindex","0",1,"vs-code-theme"],["code",""],["class","line",3,"ngClass",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"line",3,"ngClass"],["class","selection",3,"left","width",4,"ngIf"],[1,"old-line-number"],[1,"new-line-number"],[4,"ngIf"],[1,"selection"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(J,S){1&J&&(i.TgZ(0,"cdk-virtual-scroll-viewport",0,1)(2,"code",2,3)(4,"ul"),i.YNc(5,U,8,13,"li",4),i.ALo(6,"async"),i.qZA()()()),2&J&&(i.Q6J("itemSize",19)("maxBufferPx",1e3)("minBufferPx",200),i.xp6(4),i.Udp("margin-left",S.lineNumberMargin+26,"px"),i.xp6(1),i.Q6J("cdkVirtualForOf",i.lcZ(6,7,S.lines$))("cdkVirtualForTrackBy",S.trackByDiffLine))},dependencies:[W.xd,W.x0,W.N7,q.mk,q.sg,q.O5,q.Ov,_t.y,bt.U],styles:["code[_ngcontent-%COMP%]{display:block;white-space:pre;user-select:none;cursor:text;outline:none}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%]{position:absolute;text-align:right;user-select:none}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%]{right:calc(100% + 26px)}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{position:absolute;display:block;height:19px;opacity:.5}.viewport[_ngcontent-%COMP%]{height:100%;width:100%}.dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%]{color:#858585}.dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{background-color:#53789b!important}.light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%]{color:#5e5e5e}.light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{background-color:#add6ff!important}"],changeDetection:0})}}return it})();var yt=o(2438),Dt=o(2460),Gt=o(2181),zt=o(9397),te=o(3620),Yt=o(9193),Kt=o(3588);const ae=["leftScrollContainer"],qt=["rightScrollContainer"],le=["leftCode"],ue=["rightCode"];function de(it,Ct){if(1&it&&i._UZ(0,"span",13),2&it){const v=Ct.ngIf;i.Udp("left",v.left)("width",v.width)}}function he(it,Ct){if(1&it&&(i.TgZ(0,"span",16),i._uU(1),i.qZA()),2&it){const v=Ct.$implicit;i.Q6J("ngClass",v.class),i.xp6(1),i.Oqu(v.text)}}function pe(it,Ct){if(1&it&&(i.ynx(0),i.TgZ(1,"span",14),i._uU(2),i.qZA(),i.YNc(3,he,2,2,"span",15),i.ALo(4,"tokens"),i.ALo(5,"searchToken"),i.ALo(6,"async"),i.BQk()),2&it){const v=i.oxw().$implicit,J=i.oxw();i.xp6(2),i.Oqu(null==v.oldLine?null:v.oldLine.lineNumber),i.xp6(1),i.Q6J("ngForOf",i.xi3(4,2,i.Dn7(5,5,null==v.oldLine?null:v.oldLine.tokens,null==v.oldLine?null:v.oldLine.text,i.lcZ(6,9,J.search)),null==v.oldLine?null:v.oldLine.text))}}function me(it,Ct){if(1&it&&(i.TgZ(0,"li",10),i.YNc(1,de,1,4,"span",11),i.ALo(2,"async"),i.YNc(3,pe,7,11,"ng-container",12),i.qZA()),2&it){const v=Ct.$implicit,J=Ct.index,S=i.oxw();i.Q6J("ngClass","line-"+v.status),i.xp6(1),i.Q6J("ngIf",i.lcZ(2,3,S.getSelection(J,"left"))),i.xp6(2),i.Q6J("ngIf","added"!==v.status)}}function ht(it,Ct){if(1&it&&i._UZ(0,"span",13),2&it){const v=Ct.ngIf;i.Udp("left",v.left)("width",v.width)}}function Ut(it,Ct){if(1&it&&(i.TgZ(0,"span",16),i._uU(1),i.qZA()),2&it){const v=Ct.$implicit;i.Q6J("ngClass",v.class),i.xp6(1),i.Oqu(v.text)}}function O(it,Ct){if(1&it&&(i.ynx(0),i.TgZ(1,"span",14),i._uU(2),i.qZA(),i.YNc(3,Ut,2,2,"span",15),i.ALo(4,"tokens"),i.ALo(5,"searchToken"),i.ALo(6,"async"),i.BQk()),2&it){const v=i.oxw().$implicit,J=i.oxw();i.xp6(2),i.Oqu(null==v.newLine?null:v.newLine.lineNumber),i.xp6(1),i.Q6J("ngForOf",i.xi3(4,2,i.Dn7(5,5,null==v.newLine?null:v.newLine.tokens,null==v.newLine?null:v.newLine.text,i.lcZ(6,9,J.search)),null==v.newLine?null:v.newLine.text))}}function V(it,Ct){if(1&it&&(i.TgZ(0,"li",10),i.YNc(1,ht,1,4,"span",11),i.ALo(2,"async"),i.YNc(3,O,7,11,"ng-container",12),i.qZA()),2&it){const v=Ct.$implicit,J=Ct.index,S=i.oxw();i.Q6J("ngClass","line-"+v.status),i.xp6(1),i.Q6J("ngIf",i.lcZ(2,3,S.getSelection(J,"right"))),i.xp6(2),i.Q6J("ngIf","removed"!==v.status)}}let X=(()=>{class it extends((0,tt.j)(nt.A,G.P)){constructor(v,J,S){super(),this.zone=v,this.diffService=J,this.diffSelectionService=S,this.leftLineNumberMargin=0,this.rightLineNumberMargin=0,this.lines$=new h.X([]),this.currentPatch=null,this.selectionSide=new h.X("right"),this.getSelection=(Q,Ot)=>this.diffSelectionService.selectedRange.pipe((0,Dt.M)(this.selectionSide),(0,P.U)(([It,Ht])=>{if(!It||Ht!==Ot)return null;const[ee,jt]=It[0].line>It[1].line||It[0].line===It[1].line&&It[0].char>It[1].char?[It[1],It[0]]:It;return Q<ee.line||Q>jt.line?null:Q===ee.line?{left:ee.char*this.diffSelectionService.charWidth+"px",width:ee.line===jt.line?(jt.char-ee.char)*this.diffSelectionService.charWidth+"px":"100%"}:Q===jt.line?{left:"0px",width:jt.char*this.diffSelectionService.charWidth+"px"}:{left:"0px",width:"100%"}}))}ngOnInit(){this.diffLines.pipe((0,Z.g)(0),(0,z.R)(this.destroyed$)).subscribe(S=>{const Q=this.currentPatch?{...this.currentPatch}:null;S?(this.currentPatch={newFilePath:S.newFilePath,oldFilePath:S.oldFilePath},this.leftLineNumberMargin=this.diffService.calculateMargin(S.oldLines.length.toString().length,!0),this.rightLineNumberMargin=this.diffService.calculateMargin(S.newLines.length.toString().length,!0),this.diffService.calculateSplitLines(S.oldLines,S.newLines,S.hunks).pipe((0,z.R)(this.destroyed$)).subscribe(Ot=>{this.lines$.next(Ot),(!Q||Q.oldFilePath!==this.currentPatch?.oldFilePath||Q.newFilePath!==this.currentPatch?.newFilePath)&&(this.leftScrollContainer?.nativeElement?.scrollTo(0,0),this.rightScrollContainer?.nativeElement?.scrollTo(0,0))})):(this.currentPatch=null,this.leftLineNumberMargin=0,this.rightLineNumberMargin=0,this.lines$.next([]),Q&&(this.leftScrollContainer?.nativeElement?.scrollTo(0,0),this.rightScrollContainer?.nativeElement?.scrollTo(0,0)))}),this.zone.runOutsideAngular(()=>{let S=!1,Q=!1;(0,yt.R)(this.leftScrollContainer.nativeElement,"scroll",{passive:!0}).pipe((0,Gt.h)(()=>!Q),(0,zt.b)(()=>{S=!0,this.rightScrollContainer.nativeElement.scrollTo(this.leftScrollContainer.nativeElement.scrollLeft,this.leftScrollContainer.nativeElement.scrollTop)}),(0,te.b)(100),(0,z.R)(this.destroyed$)).subscribe(()=>{S=!1}),(0,yt.R)(this.rightScrollContainer.nativeElement,"scroll",{passive:!0}).pipe((0,Gt.h)(()=>!S),(0,zt.b)(()=>{Q=!0,this.leftScrollContainer.nativeElement.scrollTo(this.rightScrollContainer.nativeElement.scrollLeft,this.rightScrollContainer.nativeElement.scrollTop)}),(0,te.b)(100),(0,z.R)(this.destroyed$)).subscribe(()=>{Q=!1})});const v=this.leftScrollContainer.nativeElement;this.diffSelectionService.captureSelections(this.leftCodeElement.nativeElement,(S,Q)=>({line:Math.floor((v.scrollTop+Q-v.getBoundingClientRect().top)/19),char:Math.max(0,Math.round((v.scrollLeft+S-v.getBoundingClientRect().left-(this.leftLineNumberMargin+26))/this.diffSelectionService.charWidth))}),(S,Q)=>this.lines$.value.filter((Ot,It)=>It>=S&&It<=Q).map(Ot=>Ot.oldLine?.text),()=>({line:this.lines$.value.length-1,char:this.lines$.value[this.lines$.value.length-1]?.oldLine?.text.length??0}),([S,Q])=>(0,A.Z)(S.line,Q.line+1).map(Ot=>({oldLineNo:this.lines$.value[Ot]?.oldLine?.lineNumber??-1,newLineNo:this.lines$.value[Ot]?.newLine?.lineNumber??-1}))).pipe((0,z.R)(this.destroyed$)).subscribe(()=>{this.selectionSide.next("left")});const J=this.rightScrollContainer.nativeElement;this.diffSelectionService.captureSelections(this.rightCodeElement.nativeElement,(S,Q)=>({line:Math.floor((J.scrollTop+Q-J.getBoundingClientRect().top)/19),char:Math.max(0,Math.round((J.scrollLeft+S-J.getBoundingClientRect().left-(this.rightLineNumberMargin+26))/this.diffSelectionService.charWidth))}),(S,Q)=>this.lines$.value.filter((Ot,It)=>It>=S&&It<=Q).map(Ot=>Ot.newLine?.text),()=>({line:this.lines$.value.length-1,char:this.lines$.value[this.lines$.value.length-1]?.newLine?.text.length??0}),([S,Q])=>(0,A.Z)(S.line,Q.line+1).map(Ot=>({oldLineNo:this.lines$.value[Ot]?.oldLine?.lineNumber??-1,newLineNo:this.lines$.value[Ot]?.newLine?.lineNumber??-1}))).pipe((0,z.R)(this.destroyed$)).subscribe(()=>{this.selectionSide.next("right")})}trackByDiffLine(v,J){return v}static{this.\u0275fac=function(J){return new(J||it)(i.Y36(i.R0b),i.Y36(ft.S),i.Y36(xt.Q))}}static{this.\u0275cmp=i.Xpm({type:it,selectors:[["app-split-view"]],viewQuery:function(J,S){if(1&J&&(i.Gf(ae,7,i.SBq),i.Gf(qt,7,i.SBq),i.Gf(le,7,i.SBq),i.Gf(ue,7,i.SBq),i.Gf(W.N7,5)),2&J){let Q;i.iGM(Q=i.CRH())&&(S.leftScrollContainer=Q.first),i.iGM(Q=i.CRH())&&(S.rightScrollContainer=Q.first),i.iGM(Q=i.CRH())&&(S.leftCodeElement=Q.first),i.iGM(Q=i.CRH())&&(S.rightCodeElement=Q.first),i.iGM(Q=i.CRH())&&(S.viewports=Q)}},inputs:{diffLines:"diffLines",search:"search"},features:[i.qOj],decls:17,vars:18,consts:[["id","diff-view_split-left"],[1,"viewport",3,"itemSize","maxBufferPx","minBufferPx"],["leftScrollContainer",""],["tabindex","0",1,"vs-code-theme","left-code"],["leftCode",""],["class","line",3,"ngClass",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],["id","diff-view_split-right"],["rightScrollContainer",""],["tabindex","1",1,"vs-code-theme","right-code"],["rightCode",""],[1,"line",3,"ngClass"],["class","selection",3,"left","width",4,"ngIf"],[4,"ngIf"],[1,"selection"],[1,"line-number"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(J,S){1&J&&(i.TgZ(0,"app-grid")(1,"app-grid-cell",0)(2,"cdk-virtual-scroll-viewport",1,2)(4,"code",3,4)(6,"ul"),i.YNc(7,me,4,5,"li",5),i.ALo(8,"async"),i.qZA()()()(),i.TgZ(9,"app-grid-cell",6)(10,"cdk-virtual-scroll-viewport",1,7)(12,"code",8,9)(14,"ul"),i.YNc(15,V,4,5,"li",5),i.ALo(16,"async"),i.qZA()()()()()),2&J&&(i.xp6(2),i.Q6J("itemSize",19)("maxBufferPx",1e3)("minBufferPx",200),i.xp6(4),i.Udp("margin-left",S.leftLineNumberMargin+26,"px"),i.xp6(1),i.Q6J("cdkVirtualForOf",i.lcZ(8,14,S.lines$))("cdkVirtualForTrackBy",S.trackByDiffLine),i.xp6(3),i.Q6J("itemSize",19)("maxBufferPx",1e3)("minBufferPx",200),i.xp6(4),i.Udp("margin-left",S.rightLineNumberMargin+26,"px"),i.xp6(1),i.Q6J("cdkVirtualForOf",i.lcZ(16,16,S.lines$))("cdkVirtualForTrackBy",S.trackByDiffLine))},dependencies:[W.xd,W.x0,W.N7,q.mk,q.sg,q.O5,Yt.Y,Kt.M,q.Ov,_t.y,bt.U],styles:["code[_ngcontent-%COMP%]{display:block;white-space:pre;user-select:none;cursor:text;outline:none}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .line-number[_ngcontent-%COMP%]{position:absolute;text-align:right;user-select:none;right:calc(100% + 26px)}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{position:absolute;display:block;height:19px;opacity:.5}.viewport[_ngcontent-%COMP%]{height:100%;width:100%;overflow-x:scroll}.dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .line-number[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .line-number[_ngcontent-%COMP%]{color:#858585}.dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{background-color:#53789b!important}.dark-theme[_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-added[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-added[_ngcontent-%COMP%]{background:#111}.dark-theme[_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%]{background:#501515}.dark-theme[_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-removed[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-removed[_ngcontent-%COMP%]{background:#111}.dark-theme[_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%]{background:#1f2c19}.light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .line-number[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .line-number[_ngcontent-%COMP%]{color:#5e5e5e}.light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{background-color:#add6ff!important}.light-theme[_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-added[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-added[_ngcontent-%COMP%]{background:#f0f0f0}.light-theme[_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%]{background:#ee7e7e}.light-theme[_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-removed[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-removed[_ngcontent-%COMP%]{background:#f0f0f0}.light-theme[_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%]{background:#0cd086}"],changeDetection:0})}}return it})();var Pt=o(2596),Zt=o(4551),se=o(680),ie=o(7484);let ce=(()=>{class it{static{this.\u0275fac=function(J){return new(J||it)}}static{this.\u0275mod=i.oAB({type:it})}static{this.\u0275inj=i.cJS({imports:[s.vV,e.c,x.I]})}}return it})();i.B6R(a.s,[s.A9,s.Yi,q.O5,ut.lW,ut.RK,rt.Hw,Pt.gM,Zt.j,se.T,I,ot,X],[q.Ov,ie.X])},4794:(Lt,lt,o)=>{o.d(lt,{S:()=>k});var s=o(4458),x=o(9738),a=o(2096),W=o(9315),i=o(7398),K=o(3153),H=o(5879);let k=(()=>{class _{constructor(){this.calculateInlineLines=(A,B,st)=>{const t=[];let at=0,N=0,j=[];const E=(c,h)=>{(c>at||h>N)&&(t.push(...(0,x.Z)(A.slice(at,c),B.slice(N,h)).map(([P,M])=>({oldLine:P??null,newLine:M??null,status:"unchanged"}))),at=c,N=h)};for(const c of st){E(c.oldStart-1,c.newStart-1),[j,at,N]=this.calculateGroups(A,B,at,N,c);for(const h of j)"modified"===h.type?t.push(...h.lines.flatMap(P=>"replaced"===P.status?[{...P,status:"removed",newLine:null},{...P,status:"added",oldLine:null}]:[P]).sort((P,M)=>"removed"===P.status&&"removed"===M.status?0:"removed"===P.status?-1:"removed"===M.status?1:0)):t.push(...h.lines)}return E(A.length,B.length),(0,a.of)(t)},this.calculateHunkLines=(A,B,st)=>{const t=[];let at=0,N=0,j=[];const E=(c,h,P)=>{(c>at||h>N)&&(t.push({isSeparator:!0,separatorHeader:P,hiddenDiffLines:(0,x.Z)(A.slice(at,c),B.slice(N,h)).map(([M,y])=>({oldLine:M??null,newLine:y??null,status:"unchanged"}))}),at=c,N=h)};for(const c of st){E(c.oldStart-1,c.newStart-1,c.header),[j,at,N]=this.calculateGroups(A,B,at,N,c);for(const h of j)"modified"===h.type?t.push(...h.lines.flatMap(P=>"replaced"===P.status?[{isSeparator:!1,diffLine:{...P,status:"removed",newLine:null}},{isSeparator:!1,diffLine:{...P,status:"added",oldLine:null}}]:[{isSeparator:!1,diffLine:P}]).sort((P,M)=>"removed"===P.diffLine.status&&"removed"===M.diffLine.status?0:"removed"===P.diffLine.status?-1:"removed"===M.diffLine.status?1:0)):t.push(...h.lines.map(P=>({isSeparator:!1,diffLine:P})))}return E(A.length,B.length,null),(0,a.of)(t)},this.calculateSplitLines=(A,B,st)=>{const t=[];let at=0,N=0,j=[];const E=(c,h)=>{(c>at||h>N)&&(t.push(...(0,x.Z)(A.slice(at,c),B.slice(N,h)).map(([P,M])=>({oldLine:P??null,newLine:M??null,status:"unchanged"}))),at=c,N=h)};for(const c of st){E(c.oldStart-1,c.newStart-1),[j,at,N]=this.calculateGroups(A,B,at,N,c);for(const h of j)t.push(...h.lines)}return E(A.length,B.length),(0,a.of)(t)},this.calculateMergeLines=(A,B,st,t,at)=>{const N=[],j=this.calculateSplitLines(A,B,t),E=this.calculateSplitLines(A,st,at);return(0,W.D)([j,E]).pipe((0,i.U)(([c,h])=>{let P=1,M=0,y=0;for(;M<c.length&&y<h.length;){const Z=c[M],z=h[y];if(Z.oldLine||z.oldLine){if(!Z.oldLine&&z.oldLine)N.push({baseLine:null,yoursLine:Z.newLine,yoursStatus:Z.status,theirsLine:null,theirsStatus:null}),M++;else if(Z.oldLine&&!z.oldLine)N.push({baseLine:null,yoursLine:null,yoursStatus:null,theirsLine:z.newLine,theirsStatus:z.status}),y++;else if(Z.oldLine&&z.oldLine){if(P!==Z.oldLine.lineNumber||P!==z.oldLine.lineNumber)throw new K.UY(Z.oldLine.lineNumber,z.oldLine.lineNumber);N.push({baseLine:z.oldLine,yoursLine:Z.newLine,yoursStatus:Z.status,theirsLine:z.newLine,theirsStatus:z.status}),P++,M++,y++}}else N.push({baseLine:null,yoursLine:Z.newLine,yoursStatus:Z.status,theirsLine:z.newLine,theirsStatus:z.status}),M++,y++}for(;M<c.length;){const Z=c[M];N.push({baseLine:Z.oldLine,yoursLine:Z.newLine,yoursStatus:Z.status,theirsLine:null,theirsStatus:null}),M++}for(;y<h.length;){const Z=h[y];N.push({baseLine:Z.oldLine,yoursLine:null,yoursStatus:null,theirsLine:Z.newLine,theirsStatus:Z.status}),y++}return N}))},this.calculateGroups=(A,B,st,t,at)=>{const N=at.lines.filter(P=>">"!==P.origin&&"<"!==P.origin),j=[];let E=st,c=t,h=0;for(;h<N.length;)if(-1===N[h]?.newLineNo){const P=[];for(;h<N.length&&-1===N[h]?.newLineNo;){const M=A[E];M&&P.push(M),E++,h++}if(h<N.length&&-1===N[h]?.oldLineNo){const M=[];for(;h<N.length&&-1===N[h]?.oldLineNo;){const y=B[c];y&&M.push(y),c++,h++}j.push(this.createModifiedGroup(P,M))}else j.push({type:"removed",lines:P.map(M=>({oldLine:M,newLine:null,status:"removed"}))})}else if(-1===N[h]?.oldLineNo){const P=[];for(;h<N.length&&-1===N[h]?.oldLineNo;){const M=B[c];M&&P.push(M),c++,h++}if(h<N.length&&-1===N[h]?.newLineNo){const M=[];for(;h<N.length&&-1===N[h]?.newLineNo;){const y=A[E];y&&M.push(y),E++,h++}j.push(this.createModifiedGroup(M,P))}else j.push({type:"added",lines:P.map(M=>({oldLine:null,newLine:M,status:"added"}))})}else{const P=[],M=[];for(;h<N.length&&-1!==N[h]?.oldLineNo&&-1!==N[h]?.newLineNo;){const y=A[E];y&&P.push(y);const Z=B[c];Z&&M.push(Z),E++,c++,h++}j.push({type:"unchanged",lines:(0,x.Z)(P,M).map(([y,Z])=>({oldLine:y??null,newLine:Z??null,status:"unchanged"}))})}return[j,E,c]},this.createModifiedGroup=(A,B)=>{const st=A.map(ct=>ct.text.replace("\n","")).join("\n"),t=B.map(ct=>ct.text.replace("\n","")).join("\n"),at=new s.diff_match_patch,N=at.diff_main(st,t);at.diff_cleanupSemantic(N);const j=[];let E=0,c=0,h=null,P=null,M=[],y=[],Z=[];const z=ct=>{ct===s.DIFF_EQUAL?(j.push({status:null!==h&&null!==P?"replaced":null!==h?"removed":"added",oldLine:null!==h?{...A[E],tokens:[...A[E]?.tokens??[],...M]}:null,newLine:null!==P?{...B[c],tokens:[...B[c]?.tokens??[],...y]}:null}),E++,c++,h=null,P=null,M=[],y=[]):ct===s.DIFF_INSERT?(null===h&&(j.push(...Z),Z=[]),(null===h?j:Z).push({status:"added",oldLine:null,newLine:{...B[c],tokens:[...B[c]?.tokens??[],...y]}}),c++,P=null,y=[]):ct===s.DIFF_DELETE&&(null===P&&(j.push(...Z),Z=[]),(null===P?j:Z).push({status:"removed",oldLine:{...A[E],tokens:[...A[E]?.tokens??[],...M]},newLine:null}),E++,h=null,M=[])};for(const[ct,tt]of N){const nt=tt.split("\n");if(ct===s.DIFF_EQUAL){if(nt.length>1){j.push(...Z),Z=[],null!==h||null!==P?(h=(h??0)+(nt[0]?.length??0),P=(P??0)+(nt[0]?.length??0),z(ct)):(j.push({status:"unchanged",oldLine:A[E],newLine:B[c]}),E++,c++);for(let G=1;G<nt.length-1;G++)j.push({status:"unchanged",oldLine:A[E],newLine:B[c]}),E++,c++}h=(h??0)+(nt[nt.length-1]?.length??0),P=(P??0)+(nt[nt.length-1]?.length??0)}else if(ct===s.DIFF_INSERT){if(nt.length>1)if(null!==P){nt[0]&&nt[0].length>0&&y.push({startIndex:P??0,endIndex:(P??0)+nt[0].length,scopes:["diff-added"]}),P+=nt[0]?.length??0,z(ct);for(let G=1;G<nt.length-1;G++)(null===h?j:Z).push({status:"added",oldLine:null,newLine:{...B[c],tokens:[...B[c]?.tokens??[],{startIndex:0,endIndex:nt[G]?.length??0,scopes:["diff-added"]}]}}),c++}else for(let G=0;G<nt.length-1;G++)(null===h?j:Z).push({status:"added",oldLine:null,newLine:{...B[c],tokens:[...B[c]?.tokens??[],{startIndex:0,endIndex:nt[G]?.length??0,scopes:["diff-added"]}]}}),c++;(nt[nt.length-1]?.length??0)>0&&y.push({startIndex:P??0,endIndex:(P??0)+(nt[nt.length-1]?.length??0),scopes:["diff-added"]}),P=(P??0)+(nt[nt.length-1]?.length??0)}else if(ct===s.DIFF_DELETE){if(nt.length>1)if(null!==h){(nt[0]?.length??0)>0&&M.push({startIndex:h??0,endIndex:(h??0)+(nt[0]?.length??0),scopes:["diff-removed"]}),h+=nt[0]?.length??0,z(ct);for(let G=1;G<nt.length-1;G++)(null===P?j:Z).push({status:"removed",oldLine:{...A[E],tokens:[...A[E]?.tokens??[],{startIndex:0,endIndex:nt[G]?.length??0,scopes:["diff-removed"]}]},newLine:null}),E++}else for(let G=0;G<nt.length-1;G++)(null===P?j:Z).push({status:"removed",oldLine:{...A[E],tokens:[...A[E]?.tokens??[],{startIndex:0,endIndex:nt[G]?.length??0,scopes:["diff-removed"]}]},newLine:null}),E++;(nt[nt.length-1]?.length??0)>0&&M.push({startIndex:h??0,endIndex:(h??0)+(nt[nt.length-1]?.length??0),scopes:["diff-removed"]}),h=(h??0)+(nt[nt.length-1]?.length??0)}}return j.push(...Z),(null!==h||null!==P)&&(0===st.length&&(h=h??0),0===t.length&&(P=P??0),z(s.DIFF_EQUAL)),{type:"modified",lines:j}}}static{this.lineNumberCharacterWidth=8.3}static{this.lineNumberSpacing=10}calculateMargin(A,B=!1){return _.lineNumberSpacing+A*_.lineNumberCharacterWidth*(B?1:2)}getFileExtension(A){if(!A)return null;const B=A.lastIndexOf(".");return B>0?A.substring(B+1):null}static{this.\u0275fac=function(B){return new(B||_)}}static{this.\u0275prov=H.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()},7041:(Lt,lt,o)=>{o.d(lt,{y:()=>e});var s=o(5879);let e=(()=>{class x{transform(W,i,K){if(!K||!i)return W;const H=Array.from(i.matchAll(K),k=>({startIndex:k.index??0,endIndex:(k.index??0)+(k[0]?.length??0),scopes:["search-result"]}));return[...W,...H]}static{this.\u0275fac=function(i){return new(i||x)}}static{this.\u0275pipe=s.Yjl({name:"searchToken",type:x,pure:!0})}}return x})()},6974:(Lt,lt,o)=>{o.d(lt,{U:()=>i});var s=o(6708),e=o(9768),x=o(9076),a=o(5879);let i=(()=>{class K{constructor(){this.renderScopes=k=>k.map(_=>this.renderScope(_)).join(" "),this.areEqual=(k,_)=>{if(k.length!==_.length)return!1;const n=new Set(k);for(const A of _)if(!n.has(A))return!1;return!0}}transform(k,_=""){if(!_)return[];if(_.length>1e4)return[{class:"normal",text:_.slice(0,1e4)+(0,x.Iu)("... Max line length reached!")}];const n=(0,s.Z)(k,t=>t.startIndex),A=[];let B=0,st=n.filter(t=>t.startIndex<=B&&t.endIndex>B);for(;B<_.length;){let t=n.filter(N=>N.startIndex<=B&&N.endIndex>B);const at=B;for(;this.areEqual(st,t)&&B<_.length;)B++,t=n.filter(N=>N.startIndex<=B&&N.endIndex>B);A.push({class:this.renderScopes(st.map(N=>N.scopes)),text:_.substring(at,B)||"\n"}),st=t}return A}renderScope(k){const _=k[k.length-1];if(!_)return"";const n=_.split(".");return(0,e.Z)(1,n.length+1).map(A=>n.slice(0,A).join("-")).join(" ")}static{this.\u0275fac=function(_){return new(_||K)}}static{this.\u0275pipe=a.Yjl({name:"tokens",type:K,pure:!0})}}return K})()},1314:(Lt,lt,o)=>{o.d(lt,{$:()=>ct});var s=o(2159),e=o(4746);const a=function x(tt,nt){return tt<nt},i=function W(tt,nt){return tt&&tt.length?(0,s.Z)(tt,(0,e.Z)(nt,2),a):void 0};var K=o(4957);var _=o(9768),n=o(342),A=o(2544),B=o(2541),st=o(2720),t=o(8733),at=o(6614);var c=o(2447),h=o(9568);const M=(0,c.Z)(function(tt,nt){return(0,h.Z)(tt)?function j(tt,nt,G,ft){var xt=-1,q=A.Z,ut=!0,rt=tt.length,_t=[],bt=nt.length;if(!rt)return _t;G&&(nt=(0,st.Z)(nt,(0,t.Z)(G))),ft?(q=B.Z,ut=!1):nt.length>=200&&(q=at.Z,ut=!1,nt=new n.Z(nt));t:for(;++xt<rt;){var Mt=tt[xt],Bt=null==G?Mt:G(Mt);if(Mt=ft||0!==Mt?Mt:0,ut&&Bt==Bt){for(var wt=bt;wt--;)if(nt[wt]===Bt)continue t;_t.push(Mt)}else q(nt,Bt,ft)||_t.push(Mt)}return _t}(tt,nt):[]});var y=o(3153),Z=o(9076),z=o(5879);let ct=(()=>{class tt{constructor(){this.isDashed=G=>"head"===G.id||G.id.startsWith("merge:")}static{this.xUnit=15}static{this.yUnit=28}static{this.xOffset=7.5}static{this.yOffset=13}static{this.totalColors=15}isIndexInBounds(G,ft,xt){const q=G*tt.yUnit;return q>=ft&&q<xt-tt.yUnit}calculateVisible(G,ft,xt,q,ut){return{commitDetails:G.slice(q,ut),commitTrails:ft.filter(rt=>rt.minYIndexWithMerges<=ut&&rt.maxYIndexWithMerges>=q),mergePaths:xt.filter(rt=>rt.from.yIndex>=q&&rt.to.some(_t=>_t.yIndex<=ut))}}calculate(G,ft,xt,q,ut,rt,_t){const bt={};let Mt=[],Bt=[],wt=[];const gt=(G?1:0)+ft.length;q.forEach((p,I)=>{bt[p.id]={id:p.id,yIndex:I+gt,commit:p}});const kt=[];ft.forEach((p,I)=>{const b=`merge:${p.fromCommitId}:${p.toCommitId}`,L={id:b,message:p.message??(0,Z.Iu)("merge: from _branch_ into _branch_",{from:p.fromCommitId,to:p.toCommitId}),parentIds:[p.toCommitId,p.fromCommitId],time:0,references:[],authorEmail:"",authorName:""};kt.push(L),bt[b]={id:b,yIndex:I+(G?1:0),commit:L}}),xt.forEach(p=>{const I=bt[p.id],b=I?.commit.parentIds[1];!I||!b||2!==I.commit.parentIds.length||(I.stash={index:p.index,workingDirCommitId:p.id,indexCommitId:b})});const T=G?{id:"head",message:"",parentIds:G.parentId?[G.parentId,...G.mergeHeads]:[...G.mergeHeads],time:0,references:[],authorEmail:"",authorName:""}:null;G&&(bt.head={id:"head",yIndex:0,commit:T});const D=T?[T,...kt,...q]:[...kt,...q];if(D.forEach(p=>{const I=bt[p.id];if(!I)throw new y.qf(p.id);I.trail||this.calculateTrail(I,bt,Mt,Bt),!I.stash&&p.parentIds.length>1&&p.parentIds.slice(1).forEach(b=>{const L=bt[b];if(L)if(L.mergeFrom)L.mergeFrom.to.push(I);else{const w={from:L,to:[I]};L.mergeFrom=w,wt.push(w)}})}),({mergePaths:wt,lanes:Bt}=this.calculateMergePaths(wt,Bt,ut,rt)),this.calculateColors(Mt,_t),G&&G.parentId&&bt[G.parentId]){const p=Mt.find(I=>0===I.minYIndex);if(p){p.commits=p.commits.filter(b=>"head"!==b.id);const I=i(p.commits,b=>b.yIndex);p.minYIndex=I?.yIndex??0,p.minYIndexWithMerges=I?.yIndex??0,this.createUncommittedTrail(bt.head,bt[G.parentId],Mt,p.colorIndex,p.lane)}}return kt.forEach((p,I)=>{const b=Mt.find(pt=>pt.minYIndex===I+(G?1:0)),L=p.parentIds[0],w=L?bt[L]:void 0;if(b&&w){if(b.commits=b.commits.filter(g=>g.id!==p.id),b.commits.length<=0)Mt=Mt.filter(g=>g!==b);else{const g=i(b.commits.filter(U=>"head"!==U.id&&!U.id.startsWith("merge:")),U=>U.yIndex);b.minYIndex=g?.yIndex??0,b.minYIndexWithMerges=g?.yIndex??0}const pt=bt[p.id];if(!pt)throw new y.qf;this.createUncommittedTrail(pt,w,Mt,b.colorIndex,b.lane)}}),xt.forEach(p=>{const I=bt[p.id];if(!I)return;const L=I.trail,w=I.commit.parentIds[0],pt=w?bt[w]:void 0;if(pt){if(L.commits=L.commits.filter(g=>g.id!==p.id),L.commits.length<=0)Mt=Mt.filter(g=>g!==L);else{const g=i(L.commits,U=>U.yIndex);L.minYIndex=g?.yIndex??0,L.minYIndexWithMerges=g?.yIndex??0}this.createUncommittedTrail(I,pt,Mt,L.colorIndex,L.lane)}}),{commitDetails:bt,commitTrails:Mt,lanes:Bt,mergePaths:wt,headCommit:T,orderedCommits:D}}createUncommittedTrail(G,ft,xt,q,ut){let rt=ft.yIndex;ft.mergeFrom&&ft.mergeFrom.to.length>0&&ft.mergeFrom.to.some(bt=>!this.isDashed(bt))&&(rt=Math.min(...ft.mergeFrom.to.filter(bt=>!this.isDashed(bt)).map(({yIndex:bt})=>bt))+.25,rt<G.yIndex&&(rt=G.yIndex+.5),xt.push({trailIndex:xt.length,minYIndex:rt,maxYIndex:ft.yIndex,minYIndexWithMerges:rt,maxYIndexWithMerges:ft.yIndex,colorIndex:q,commits:[],isDashed:!1,lane:ut}));const _t={trailIndex:xt.length,minYIndex:G.yIndex,maxYIndex:rt,minYIndexWithMerges:G.yIndex,maxYIndexWithMerges:rt,colorIndex:q,commits:[G],isDashed:!0,lane:ut};return G.trail=_t,xt.push(_t),_t}calculateTrail(G,ft,xt,q){const ut={trailIndex:xt.length,minYIndex:G.yIndex,maxYIndex:G.yIndex,minYIndexWithMerges:G.yIndex,maxYIndexWithMerges:G.yIndex,colorIndex:null,commits:[],isDashed:!1};if(G.commit.parentIds.length<=0)G.trail=ut,ut.commits.push(G),ut.maxYIndex=G.yIndex,ut.maxYIndexWithMerges=G.yIndex;else{let _t=G;for(;_t&&!_t.trail&&_t.commit.parentIds.length>0;){_t.trail=ut,ut.maxYIndex=_t.yIndex,ut.maxYIndexWithMerges=_t.yIndex,ut.commits.push(_t);const bt=_t.commit.parentIds[0];_t=bt?ft[bt]:void 0}_t&&(ut.maxYIndex=_t.yIndex,ut.maxYIndexWithMerges=_t.yIndex,_t.trail||(_t.trail=ut,ut.commits.push(_t)))}let rt=q.find(_t=>{const bt=this.getLaneMaxYIndex(_t);return void 0===bt||bt<ut.minYIndex});return rt||(rt={xIndex:q.length,occupations:[]},q.push(rt)),rt.occupations.push({type:"commit-trail",minYIndex:ut.minYIndex,maxYIndex:ut.maxYIndex}),ut.lane=rt,xt.push(ut),ut}calculateMergePaths(G,ft,xt,q){ft=ft.map(rt=>({...rt,occupations:rt.occupations.filter(_t=>"merge-path"!==_t.type)})).filter(rt=>rt.occupations.length>0);const ut=[...G];return G.forEach(rt=>{const _t=[],bt=[];let Mt;rt.to.forEach(D=>{rt.from.trail.minYIndexWithMerges>D.yIndex&&(rt.from.trail.minYIndexWithMerges=D.yIndex),rt.from.trail.maxYIndexWithMerges<D.yIndex&&(rt.from.trail.maxYIndexWithMerges=D.yIndex),D.trail.minYIndexWithMerges>rt.from.yIndex&&(D.trail.minYIndexWithMerges=rt.from.yIndex),D.trail.maxYIndexWithMerges<rt.from.yIndex&&(D.trail.maxYIndexWithMerges=rt.from.yIndex)});const Bt=rt.from.trail.lane.xIndex,wt=xt(Bt);let gt=[],kt=rt.to;const T=rt.to.every(this.isDashed);if(rt.from.trail.minYIndex<rt.from.yIndex){const D=rt.from.trail.commits.findIndex(I=>I.id===rt.from.id),p=rt.from.trail.commits[D-1];if(!p)throw new y.qf;gt=rt.to.filter(I=>I.yIndex>p.yIndex),kt=rt.to.filter(I=>I.yIndex<=p.yIndex),Mt=p.yIndex}else{_t.push(`M ${wt} ${q(rt.from.yIndex)}`),_t.push(`V ${q(rt.from.yIndex-.5)}`),Mt=rt.from.yIndex-1;const D=function H(tt,nt){return tt&&tt.length?(0,s.Z)(tt,(0,e.Z)(nt,2),K.Z):void 0}(kt,p=>p.yIndex);if(D&&D.yIndex===rt.from.yIndex-1){kt=kt.filter(I=>I.id!==D.id);const p=`L ${xt(D.trail.lane.xIndex)} ${q(D.yIndex)}`;this.isDashed(D)?bt.push(p):_t.push(p)}}if(kt.length>0){const D=Math.min(...kt.map(w=>w.yIndex)),p=ft.filter(w=>!this.isLaneOccupied(w,D+1,Mt)),I=i(p,w=>[...kt,rt.from].reduce((pt,g)=>pt+Math.abs(g.trail.lane.xIndex-w.xIndex),0))??{xIndex:ft.length,occupations:[]};0===p.length&&ft.push(I),I.occupations.push({type:"merge-path",minYIndex:D+1,maxYIndex:Mt});const b=kt.filter(this.isDashed),L=kt.filter(w=>!this.isDashed(w));if(_t.push(...L.flatMap(w=>[`M ${xt(I.xIndex)} ${q(w.yIndex+.5)}`,`L ${this.adjustForDashedLine(!1,I.xIndex,w.trail.lane.xIndex,w.yIndex+.5,w.yIndex,xt,q)}`])),bt.push(...b.flatMap(w=>[`M ${xt(I.xIndex)} ${q(w.yIndex+.5)}`,`L ${this.adjustForDashedLine(!0,I.xIndex,w.trail.lane.xIndex,w.yIndex+.5,w.yIndex,xt,q)}`])),T)_t.push(`M ${wt} ${q(Mt+.5)}`,`L ${xt(I.xIndex)} ${q(Mt+.25)}`,`V ${q(D+.5)}`);else{const w=Math.min(...L.map(pt=>pt.yIndex));_t.push(`M ${wt} ${q(Mt+.5)}`,`L ${xt(I.xIndex)} ${q(Mt+.25)}`,`V ${q(w+.5)}`),bt.push(`M ${wt} ${q(w+.5)}`,`V ${q(D+.5)}`)}}_t.push(...gt.filter(D=>!this.isDashed(D)).flatMap(D=>[`M ${wt} ${q(D.yIndex+.25)}`,`L ${this.adjustForDashedLine(!1,Bt,D.trail.lane.xIndex,D.yIndex+.25,D.yIndex,xt,q)}`])),bt.push(...gt.filter(this.isDashed).flatMap(D=>[`M ${wt} ${q(D.yIndex+.25)}`,`L ${this.adjustForDashedLine(!0,Bt,D.trail.lane.xIndex,D.yIndex+.25,D.yIndex,xt,q)}`])),T?(rt.isDashed=!0,rt.path=[..._t,...bt].join(" ")):(rt.isDashed=!1,rt.path=_t.join(" "),bt.length>0&&ut.push({from:rt.from,isDashed:!0,path:bt.join(" "),to:rt.to.filter(this.isDashed)}))}),{mergePaths:ut,lanes:ft}}calculateColors(G,ft){const xt=(0,_.Z)(0,ft),q=[];G.forEach(ut=>{const rt=q.filter(bt=>bt.minYIndexWithMerges<=ut.maxYIndexWithMerges&&bt.maxYIndexWithMerges>=ut.minYIndexWithMerges).map(bt=>bt.colorIndex),_t=M(xt,...rt);ut.colorIndex=_t[0]??ut.trailIndex%ft,q.push(ut)})}getLaneMaxYIndex(G){return G.occupations[G.occupations.length-1]?.maxYIndex}isLaneOccupied(G,ft,xt){return G.occupations.some(q=>q.minYIndex<=xt&&q.maxYIndex>=ft)}adjustForDashedLine(G,ft,xt,q,ut,rt,_t){const Mt=G?q>ut?.15:-.15:0;return`${rt(xt+(G?ft>xt?.3:-.3:0))} ${_t(ut+Mt)}`}static{this.\u0275fac=function(ft){return new(ft||tt)}}static{this.\u0275prov=z.Yz7({token:tt,factory:tt.\u0275fac,providedIn:"root"})}}return tt})()},5696:(Lt,lt,o)=>{o.d(lt,{i:()=>wt});var s=o(7582),e=o(5879),x=o(4666),a=o(5619),W=o(4573),i=o(7910),K=o(709),H=o(9589),k=o(9488),_=o(6814),n=o(617),A=o(2596),B=o(7368),st=o(5684),t=o(3665),at=o(1361),N=o(5248),j=o(9918),E=o(5986),c=o(4551);function h(gt,kt){if(1&gt){const T=e.EpF();e.TgZ(0,"mat-checkbox",7),e.NdJ("change",function(p){e.CHM(T);const I=e.oxw().$implicit,b=e.oxw();return e.KtG(b.checkedChanged.next([I,p.checked]))}),e.qZA()}if(2&gt){const T=e.oxw().$implicit,D=e.oxw();e.Q6J("checked",D.isChecked(T))}}function P(gt,kt){if(1&gt){const T=e.EpF();e.TgZ(0,"li",3),e.NdJ("contextmenu",function(p){const b=e.CHM(T).$implicit,L=e.oxw();return e.KtG(L.contextMenuOpened.next([b,p]))}),e.TgZ(1,"mat-icon",4),e._uU(2),e.qZA(),e.YNc(3,h,1,1,"mat-checkbox",5),e.TgZ(4,"app-condensed-path",6),e.NdJ("click",function(){const I=e.CHM(T).$implicit,b=e.oxw();return e.KtG(b.selectedChanged.next(I))}),e.qZA()()}if(2&gt){const T=kt.$implicit,D=e.oxw();e.ekj("selected",D.isSelected(T))("checked",D.isChecked(T)),e.xp6(1),e.Q6J("ngClass",D.getPatchIconColorClass(T)),e.xp6(1),e.Oqu(D.getPatchIcon(T)),e.xp6(1),e.Q6J("ngIf",D.checked),e.xp6(1),e.Q6J("path",D.getPatchPath(T))}}let M=(()=>{class gt extends((0,W.j)(i.A,at.P)){constructor(T){super(),this.commitDetailService=T,this.checked=null,this.checkedChanged=new e.vpe,this.selectedChanged=new e.vpe,this.contextMenuOpened=new e.vpe,this.keyPressDisabled=!1}ngOnChanges(T){T.selected&&(this.keyPressDisabled=!1),T.patches&&(this.orderedPatches=(0,st.Z)(this.patches,[D=>D.status===t.v.Conflicted,D=>(D.oldFilePath??D.newFilePath??"").toLowerCase()],["desc","asc"]))}trackByPatch(T,D){return`${D.oldFilePath}|${D.newFilePath}|${D.status}`}getPatchPath(T){return this.commitDetailService.getPatchPath(T)}getPatchIcon(T){return this.commitDetailService.getPatchIcon(T)}getPatchIconColorClass(T){return this.commitDetailService.getPatchIconColorClass(T)}isChecked(T){return this.checked?.some(({oldFilePath:D,newFilePath:p})=>D===T.oldFilePath&&p===T.newFilePath)}isSelected(T){return T.oldFilePath===this.selected?.oldFilePath&&T.newFilePath===this.selected.newFilePath}keyPressed(T){if(this.keyPressDisabled)return;T.preventDefault();const D=this.selected,p=this.orderedPatches.findIndex(({oldFilePath:b,newFilePath:L})=>b===D?.oldFilePath&&L===D?.newFilePath);let I=null;switch(T.key){case"ArrowUp":if(!(N.V?T.metaKey:T.ctrlKey)){p>0&&(I=p-1);break}case"Home":I=0;break;case"ArrowDown":if(!(N.V?T.metaKey:T.ctrlKey)){p<this.orderedPatches.length-1&&(I=p+1);break}case"End":I=this.orderedPatches.length-1;break;case"Escape":p>=0&&(I=p)}if(null!==I){this.keyPressDisabled=!0;const b=this.orderedPatches[I];b&&this.selectedChanged.next(b);const L=this.viewports.first,w=L.measureScrollOffset("top"),pt=w+L.getViewportSize(),g=22*I;(g<w||g>=pt)&&L.scrollToIndex(I)}}static{this.\u0275fac=function(D){return new(D||gt)(e.Y36(j.d))}}static{this.\u0275cmp=e.Xpm({type:gt,selectors:[["app-patch-list"]],viewQuery:function(D,p){if(1&D&&e.Gf(B.N7,5),2&D){let I;e.iGM(I=e.CRH())&&(p.viewports=I)}},inputs:{patches:"patches",checked:"checked",selected:"selected"},outputs:{checkedChanged:"checkedChanged",selectedChanged:"selectedChanged",contextMenuOpened:"contextMenuOpened"},features:[e.qOj,e.TTD],decls:3,vars:7,consts:[["tabindex","0",1,"item-list-container",3,"itemSize","maxBufferPx","minBufferPx","keydown"],[1,"patch-list"],[3,"selected","checked","contextmenu",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[3,"contextmenu"],["inline","",3,"ngClass"],[3,"checked","change",4,"ngIf"],[1,"name",3,"path","click"],[3,"checked","change"]],template:function(D,p){1&D&&(e.TgZ(0,"cdk-virtual-scroll-viewport",0),e.NdJ("keydown",function(b){return p.keyPressed(b)}),e.TgZ(1,"ul",1),e.YNc(2,P,5,8,"li",2),e.qZA()()),2&D&&(e.Q6J("itemSize",22)("maxBufferPx",400)("minBufferPx",200),e.xp6(1),e.ekj("checkboxes",p.checked),e.xp6(1),e.Q6J("cdkVirtualForOf",p.orderedPatches)("cdkVirtualForTrackBy",p.trackByPatch))},dependencies:[E.oG,B.xd,B.x0,B.N7,_.mk,_.O5,n.Hw,c.j],styles:["[_nghost-%COMP%]{display:contents}.item-list-container[_ngcontent-%COMP%]{margin-left:-16px;margin-right:-16px;height:100%;contain:content;outline:none}.item-list-container[_ngcontent-%COMP%]     .cdk-virtual-scroll-content-wrapper{width:100%}.item-list-container[_ngcontent-%COMP%]     .cdk-virtual-scroll-spacer{position:relative}.patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:flex;height:22px;line-height:22px;padding-left:16px;padding-right:16px;position:relative;overflow:hidden;text-overflow:ellipsis;cursor:pointer;gap:4px}.patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{display:none;flex:0 0 22px;width:22px;font-size:0;--mdc-checkbox-ripple-size: 28px;--mdc-checkbox-touch-target-size: 22px}.patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]    >.mdc-form-field{margin:-9px}.patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{flex:0 0 22px;user-select:none;width:22px;text-align:center}.patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{width:calc(100% - 22px)}.patch-list.checkboxes[_ngcontent-%COMP%] > li.checked[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .patch-list.checkboxes[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{display:none}.patch-list.checkboxes[_ngcontent-%COMP%] > li.checked[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%], .patch-list.checkboxes[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover   mat-checkbox[_ngcontent-%COMP%]{display:block}.dark-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover, .dark-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{background-color:#515151}.dark-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%]{background-color:#616161}.dark-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.red[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.red[_ngcontent-%COMP%]{color:#ef5350}.dark-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.green[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.green[_ngcontent-%COMP%]{color:#4caf50}.dark-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.orange[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.orange[_ngcontent-%COMP%]{color:#cb8837}.dark-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.blue[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.blue[_ngcontent-%COMP%]{color:#7c8bff}.light-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover, .light-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.light-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%]{background-color:#bdbdbd}.light-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.red[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.red[_ngcontent-%COMP%]{color:#ef5350}.light-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.green[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.green[_ngcontent-%COMP%]{color:#4caf50}.light-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.orange[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.orange[_ngcontent-%COMP%]{color:#d8a669}.light-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.blue[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.blue[_ngcontent-%COMP%]{color:#7c8bff}"],changeDetection:0})}}return gt})();var y=o(5601),Z=o(2572),z=o(2096),ct=o(7398),tt=o(9687),nt=o(510),G=o(3999);function ft(gt,kt){if(1&gt){const T=e.EpF();e.TgZ(0,"mat-checkbox",8),e.NdJ("click",function(p){return p.stopPropagation()})("change",function(p){e.CHM(T);const I=e.oxw().$implicit,b=e.oxw();return e.KtG(b.clickNodeCheckbox(I,p.checked))}),e.qZA()}if(2&gt){const T=e.oxw().$implicit;e.Q6J("checked","all"===T.checked)("indeterminate","some"===T.checked)}}function xt(gt,kt){if(1&gt){const T=e.EpF();e.TgZ(0,"div",3),e.NdJ("click",function(p){const b=e.CHM(T).$implicit,L=e.oxw();return e.KtG(L.toggleNodeExpanded(p,b))}),e.TgZ(1,"mat-icon",4),e._uU(2,"folder"),e.qZA(),e.YNc(3,ft,1,2,"mat-checkbox",5),e.TgZ(4,"span",6),e._uU(5),e.qZA(),e.TgZ(6,"mat-icon",7),e._uU(7),e.qZA()()}if(2&gt){const T=kt.$implicit,D=e.oxw();e.ekj("checked","all"===T.checked),e.xp6(3),e.Q6J("ngIf",D.checked),e.xp6(1),e.Q6J("matTooltip",T.id),e.xp6(1),e.Oqu(T.segment),e.xp6(2),e.Oqu(T.expanded?"expand_less":"expand_more")}}function q(gt,kt){if(1&gt){const T=e.EpF();e.TgZ(0,"mat-checkbox",13),e.NdJ("change",function(p){e.CHM(T);const I=e.oxw().$implicit,b=e.oxw();return e.KtG(b.checkedChanged.next([I.patch,p.checked]))}),e.qZA()}if(2&gt){const T=e.oxw().$implicit;e.Q6J("checked",T.checked)}}function ut(gt,kt){if(1&gt){const T=e.EpF();e.TgZ(0,"div",9),e.NdJ("contextmenu",function(p){const b=e.CHM(T).$implicit,L=e.oxw();return e.KtG(L.contextMenuOpened.next([b.patch,p]))}),e.TgZ(1,"mat-icon",10),e._uU(2),e.qZA(),e.YNc(3,q,1,1,"mat-checkbox",11),e.TgZ(4,"span",12),e.NdJ("click",function(){const I=e.CHM(T).$implicit,b=e.oxw();return e.KtG(b.selectedChanged.next(I.patch))}),e._uU(5),e.qZA()()}if(2&gt){const T=kt.$implicit,D=e.oxw();let p;e.ekj("checked",T.checked)("selected",D.isSelected(T.patch)),e.xp6(1),e.Q6J("ngClass",D.getPatchIconColorClass(T.patch)),e.xp6(1),e.Oqu(D.getPatchIcon(T.patch)),e.xp6(1),e.Q6J("ngIf",D.checked),e.xp6(1),e.Q6J("matTooltip",null!==(p=D.getPatchPath(T.patch))&&void 0!==p?p:""),e.xp6(1),e.Oqu(T.segment)}}let rt=(()=>{class gt extends((0,W.j)(i.A)){constructor(T){super(),this.commitDetailService=T,this.checkedChanged=new e.vpe,this.selectedChanged=new e.vpe,this.contextMenuOpened=new e.vpe,this.tree=new a.X([]),this.leafNodes=new a.X([]),this.collapsedNodeIds=new a.X(new Set),this.keyPressDisabled=!1,this.toggleNodeExpanded=(D,p)=>{D.preventDefault(),D.stopPropagation();const I=new Set(this.collapsedNodeIds.value);I.has(p.id)?(I.delete(p.id),this.collapsedNodeIds.next(I)):(I.add(p.id),this.collapsedNodeIds.next(I))},this.getDescendantsLeafNodes=D=>D.reduce((p,I)=>[...p,..."patch"in I?[I]:this.getDescendantsLeafNodes(I.children)],[]),this.getDescendantsList=D=>D.reduce((p,I)=>[...p,..."patch"in I?[I]:[I,...this.getDescendantsList(I.children)]],[])}ngOnInit(){(0,Z.a)([this.patches,this.checked??(0,z.of)(null),this.collapsedNodeIds]).pipe((0,ct.U)(([T,D,p])=>{const I=T.map(b=>({patch:b,segments:(b.newFilePath??b.oldFilePath??"").split("/")}));return this.buildTree(I,"",0,D,p)})).subscribe(T=>{this.tree.next(T),this.leafNodes.next(this.getDescendantsLeafNodes(T)),this.keyPressDisabled=!1})}getPatchPath(T){return this.commitDetailService.getPatchPath(T)}getPatchIcon(T){return this.commitDetailService.getPatchIcon(T)}getPatchIconColorClass(T){return this.commitDetailService.getPatchIconColorClass(T)}isSelected(T){return T.oldFilePath===this.selected?.oldFilePath&&T.newFilePath===this.selected.newFilePath}clickNodeCheckbox(T,D){for(const p of this.getDescendantsLeafNodes(T.children))this.checkedChanged.next([p.patch,D])}buildTree(T,D,p,I,b){return Object.entries((0,y.Z)(T,({segments:pt})=>pt[0])).sort(([pt],[g])=>pt.localeCompare(g,void 0,{numeric:!0})).flatMap(([pt,g])=>{const U=`${D}${pt}/`,ot=`${D}${pt}`,yt=g.filter(({segments:Yt})=>Yt.length>1),Dt=I?g.every(({patch:Yt})=>I.some(({oldFilePath:Kt,newFilePath:ae})=>Kt===Yt.oldFilePath&&ae===Yt.newFilePath))?"all":g.some(({patch:Yt})=>I.some(({oldFilePath:Kt,newFilePath:ae})=>Kt===Yt.oldFilePath&&ae===Yt.newFilePath))?"some":"none":"none",Gt=yt.length>0?{id:U,depth:p,expanded:!b.has(U),children:this.buildTree(yt.map(({patch:Yt,segments:Kt})=>({patch:Yt,segments:Kt.slice(1)})),U,p+1,I,b),segment:pt,checked:Dt}:null,zt=g.find(({segments:Yt})=>Yt.length<=1),te=zt?{id:ot,depth:p,segment:pt,patch:zt.patch,checked:I?.some(({oldFilePath:Yt,newFilePath:Kt})=>Yt===zt.patch.oldFilePath&&Kt===zt.patch.newFilePath)??!1}:null;return te&&Gt?[te,Gt]:Gt?[Gt]:te?[te]:[]})}keyPressed(T){if(this.keyPressDisabled)return;T.preventDefault();const D=this.selected,p=this.leafNodes.value,I=p.findIndex(({patch:L})=>L.oldFilePath===D?.oldFilePath&&L.newFilePath===D?.newFilePath);let b=null;switch(T.key){case"ArrowUp":if(!(N.V?T.metaKey:T.ctrlKey)){I>0&&(b=I-1);break}case"Home":b=0;break;case"ArrowDown":if(!(N.V?T.metaKey:T.ctrlKey)){I<p.length-1&&(b=I+1);break}case"End":b=p.length-1;break;case"Escape":I>=0&&(b=I)}if(null!==b){this.keyPressDisabled=!0;const L=p[b];L&&this.selectedChanged.next(L.patch);const w=this.virtualTree.viewports.first,pt=w.measureScrollOffset("top"),g=pt+w.getViewportSize();let U=0;this.getDescendantsList(this.tree.value);for(const Dt of this.getDescendantsList(this.tree.value)){if(Dt===L)break;U++}const yt=22*U;(yt<pt||yt>=g)&&w.scrollToIndex(U)}}static{this.\u0275fac=function(D){return new(D||gt)(e.Y36(j.d))}}static{this.\u0275cmp=e.Xpm({type:gt,selectors:[["app-patch-tree"]],viewQuery:function(D,p){if(1&D&&e.Gf(tt.L,5),2&D){let I;e.iGM(I=e.CRH())&&(p.virtualTree=I.first)}},inputs:{patches:"patches",checked:"checked",selected:"selected"},outputs:{checkedChanged:"checkedChanged",selectedChanged:"selectedChanged",contextMenuOpened:"contextMenuOpened"},features:[e.qOj],decls:3,vars:4,consts:[[3,"tree","itemSize","keyPressed"],["class","node-item",3,"checked","click",4,"appVirtualTreeNode"],["class","leaf-item",3,"checked","selected","contextmenu",4,"appVirtualTreeLeafNode"],[1,"node-item",3,"click"],["inline","",1,"node-icon"],[3,"checked","indeterminate","click","change",4,"ngIf"],[1,"text",3,"matTooltip"],[1,"expand-icon"],[3,"checked","indeterminate","click","change"],[1,"leaf-item",3,"contextmenu"],["inline","",1,"node-icon",3,"ngClass"],[3,"checked","change",4,"ngIf"],[1,"text",3,"matTooltip","click"],[3,"checked","change"]],template:function(D,p){1&D&&(e.TgZ(0,"app-virtual-tree",0),e.NdJ("keyPressed",function(b){return p.keyPressed(b)}),e.YNc(1,xt,8,6,"div",1),e.YNc(2,ut,6,9,"div",2),e.qZA()),2&D&&(e.ekj("checkboxes",!!p.checked),e.Q6J("tree",p.tree)("itemSize",22))},dependencies:[E.oG,_.mk,_.O5,n.Hw,A.gM,tt.L,nt.I,G.J],styles:["[_nghost-%COMP%]{display:contents}app-virtual-tree[_ngcontent-%COMP%]{display:contents}app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport{contain:content;scrollbar-gutter:stable;margin-left:-16px;margin-right:-16px}app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport .cdk-virtual-scroll-content-wrapper{width:100%}app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport .cdk-virtual-scroll-content-wrapper>ul{overflow-x:auto;overflow-y:hidden}app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport .cdk-virtual-scroll-spacer{position:relative}app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(>.leaf-item.selected){background-color:#616161}.node-item[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%]{margin-left:16px;display:flex;justify-content:space-between;cursor:pointer;line-height:22px;height:22px;user-select:none;align-items:center;min-width:200px;gap:4px}.node-item[_ngcontent-%COMP%] > .node-icon[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%] > .node-icon[_ngcontent-%COMP%]{flex:0 0 22px;user-select:none;width:22px;text-align:center}.node-item[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%], .node-item[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%]{display:none;flex:0 0 22px;width:22px;height:22px;font-size:0;--mdc-checkbox-ripple-size: 28px;--mdc-checkbox-touch-target-size: 22px}.node-item[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]    >.mdc-form-field, .node-item[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%]    >.mdc-form-field, .leaf-item[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]    >.mdc-form-field, .leaf-item[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%]    >.mdc-form-field{margin:-9px}.node-item[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.node-item[_ngcontent-%COMP%] > .expand-icon[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%] > .expand-icon[_ngcontent-%COMP%]{flex:0 0 auto;color:#ffffffb3;line-height:22px}app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .node-item.checked[_ngcontent-%COMP%]   .node-icon[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .node-item[_ngcontent-%COMP%]:has(.node-icon:hover, mat-checkbox[_ngcontent-%COMP%]:hover)   .node-icon[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .leaf-item.checked[_ngcontent-%COMP%]   .node-icon[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .leaf-item[_ngcontent-%COMP%]:hover   .node-icon[_ngcontent-%COMP%]{display:none}app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .node-item.checked[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .node-item.checked[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .node-item[_ngcontent-%COMP%]:has(.node-icon:hover, mat-checkbox[_ngcontent-%COMP%]:hover)   mat-checkbox[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .node-item[_ngcontent-%COMP%]:has(.node-icon:hover, mat-checkbox[_ngcontent-%COMP%]:hover)   .checkbox-button[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .leaf-item.checked[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .leaf-item.checked[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .leaf-item[_ngcontent-%COMP%]:hover   mat-checkbox[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .leaf-item[_ngcontent-%COMP%]:hover   .checkbox-button[_ngcontent-%COMP%]{display:block}.dark-theme[_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(>.leaf-item:hover), .dark-theme   [_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(>.leaf-item:hover){background-color:#515151}.dark-theme[_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(>.leaf-item.selected), .dark-theme   [_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(>.leaf-item.selected){background-color:#616161}.dark-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%]{color:#ef5350}.dark-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%]{color:#4caf50}.dark-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%]{color:#cb8837}.dark-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%]{color:#7c8bff}.light-theme[_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(>.leaf-item:hover), .light-theme   [_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(>.leaf-item:hover){background-color:#e0e0e0}.light-theme[_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(>.leaf-item.selected), .light-theme   [_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(>.leaf-item.selected){background-color:#bdbdbd}.light-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%]{color:#ef5350}.light-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%]{color:#4caf50}.light-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%]{color:#d8a669}.light-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%]{color:#7c8bff}"],changeDetection:0})}}return gt})();var _t=o(7484);function bt(gt,kt){if(1&gt){const T=e.EpF();e.TgZ(0,"app-patch-list",6),e.NdJ("checkedChanged",function(p){e.CHM(T);const I=e.oxw(2);return e.KtG(I.checkedChanged.next(p))})("selectedChanged",function(p){e.CHM(T);const I=e.oxw(2);return e.KtG(I.selectedChanged.next(p))})("contextMenuOpened",function(p){e.CHM(T);const I=e.oxw(2);return e.KtG(I.contextMenuOpened.next(p))}),e.ALo(1,"async"),e.qZA()}if(2&gt){const T=e.oxw(2);e.Q6J("patches",T.patches)("checked",e.lcZ(1,3,T.checked))("selected",T.selected)}}function Mt(gt,kt){if(1&gt){const T=e.EpF();e.TgZ(0,"app-patch-tree",6),e.NdJ("checkedChanged",function(p){e.CHM(T);const I=e.oxw(2);return e.KtG(I.checkedChanged.next(p))})("selectedChanged",function(p){e.CHM(T);const I=e.oxw(2);return e.KtG(I.selectedChanged.next(p))})("contextMenuOpened",function(p){e.CHM(T);const I=e.oxw(2);return e.KtG(I.contextMenuOpened.next(p))}),e.qZA()}if(2&gt){const T=e.oxw(2);e.Q6J("patches",T.patches$)("checked",T.checked)("selected",T.selected)}}function Bt(gt,kt){if(1&gt){const T=e.EpF();e.ynx(0),e.TgZ(1,"header")(2,"mat-button-toggle-group",1),e.NdJ("change",function(p){e.CHM(T);const I=e.oxw();return e.KtG(I.changePatchView(p.value))}),e.TgZ(3,"mat-button-toggle",2),e.ALo(4,"translate"),e.TgZ(5,"mat-icon"),e._uU(6,"list"),e.qZA()(),e.TgZ(7,"mat-button-toggle",3),e.ALo(8,"translate"),e._UZ(9,"mat-icon",4),e.qZA()()(),e.YNc(10,bt,2,5,"app-patch-list",5),e.YNc(11,Mt,1,3,"app-patch-tree",5),e.BQk()}if(2&gt){const T=kt.ngIf;e.xp6(2),e.Q6J("value",T),e.xp6(1),e.Q6J("matTooltip",e.lcZ(4,5,"List View")),e.xp6(4),e.Q6J("matTooltip",e.lcZ(8,7,"Tree View")),e.xp6(3),e.Q6J("ngIf","list"===T),e.xp6(1),e.Q6J("ngIf","tree"===T)}}let wt=(()=>{class gt extends((0,W.j)(i.A)){constructor(T){super(),this.store=T,this.checked=null,this.checkedChanged=new e.vpe,this.selectedChanged=new e.vpe,this.contextMenuOpened=new e.vpe,this.patches$=new a.X([])}ngOnChanges(T){T.patches&&this.patches$.next(this.patches)}changePatchView(T){this.store.dispatch(new H.eh(T))}static{this.\u0275fac=function(D){return new(D||gt)(e.Y36(x.yh))}}static{this.\u0275cmp=e.Xpm({type:gt,selectors:[["app-patches-view"]],inputs:{patches:"patches",checked:"checked",selected:"selected"},outputs:{checkedChanged:"checkedChanged",selectedChanged:"selectedChanged",contextMenuOpened:"contextMenuOpened"},features:[e.qOj,e.TTD],decls:2,vars:3,consts:[[4,"ngIf"],[3,"value","change"],["value","list",3,"matTooltip"],["value","tree",3,"matTooltip"],["svgIcon","file-tree"],[3,"patches","checked","selected","checkedChanged","selectedChanged","contextMenuOpened",4,"ngIf"],[3,"patches","checked","selected","checkedChanged","selectedChanged","contextMenuOpened"]],template:function(D,p){1&D&&(e.YNc(0,Bt,12,9,"ng-container",0),e.ALo(1,"async")),2&D&&e.Q6J("ngIf",e.lcZ(1,1,p.view))},dependencies:[k.A9,k.Yi,_.O5,n.Hw,A.gM,M,rt,_.Ov,_t.X],styles:["[_nghost-%COMP%]{display:contents}header[_ngcontent-%COMP%]{flex:0 0 auto;text-align:center;margin-bottom:-4px}header[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]{height:30px}header[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]{font-size:0}header[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]     .mat-button-toggle-label-content{line-height:28px;padding:0 5px}"],changeDetection:0})}}return(0,s.gn)([(0,x.Ph)(K.$.patchView)],gt.prototype,"view",void 0),gt})()},535:(Lt,lt,o)=>{o.d(lt,{Z:()=>H});var s=o(9488),e=o(5195),x=o(5986),a=o(4516),W=o(1345),i=o(3902),K=o(5879);let H=(()=>{class k{static{this.\u0275fac=function(A){return new(A||k)}}static{this.\u0275mod=K.oAB({type:k})}static{this.\u0275inj=K.cJS({imports:[s.vV,e.QW,x.p9,a.c,W.I,i.c]})}}return k})()},2860:(Lt,lt,o)=>{o.d(lt,{Z:()=>W});var s=o(5940),e=o(4104),x=o(1345),a=o(5879);let W=(()=>{class i{static{this.\u0275fac=function(k){return new(k||i)}}static{this.\u0275mod=a.oAB({type:i})}static{this.\u0275inj=a.cJS({imports:[x.I,s.Cq,e.Nh]})}}return i})()},4630:(Lt,lt,o)=>{o.d(lt,{Bb:()=>L,XC:()=>Mt,ZL:()=>b});var s=o(5879),e=o(3680),x=o(6814),a=o(7368),W=o(3651),i=o(4300),K=o(2495),H=o(2831),k=o(6825),_=o(7394),n=o(8645),A=o(4911),B=o(3019),st=o(2096),t=o(2438),at=o(6028),N=o(8484),j=o(6223),E=o(4170),c=o(7921),h=o(4664),P=o(8180),M=o(2181),y=o(7398),Z=o(9397),z=o(7547),ct=o(9388);const tt=["panel"];function nt(w,pt){if(1&w){const g=s.EpF();s.TgZ(0,"div",0,1),s.NdJ("@panelAnimation.done",function(ot){s.CHM(g);const yt=s.oxw();return s.KtG(yt._animationDone.next(ot))}),s.Hsn(2),s.qZA()}if(2&w){const g=pt.id,U=s.oxw();s.Q6J("id",U.id)("ngClass",U._classList)("@panelAnimation",U.isOpen?"visible":"hidden"),s.uIk("aria-label",U.ariaLabel||null)("aria-labelledby",U._getPanelAriaLabelledby(g))}}const G=["*"],ft=(0,k.X$)("panelAnimation",[(0,k.SB)("void, hidden",(0,k.oB)({opacity:0,transform:"scaleY(0.8)"})),(0,k.eR)(":enter, hidden => visible",[(0,k.ru)([(0,k.jt)("0.03s linear",(0,k.oB)({opacity:1})),(0,k.jt)("0.12s cubic-bezier(0, 0, 0.2, 1)",(0,k.oB)({transform:"scaleY(1)"}))])]),(0,k.eR)(":leave, visible => hidden",[(0,k.jt)("0.075s linear",(0,k.oB)({opacity:0}))])]);let xt=0;class q{constructor(pt,g){this.source=pt,this.option=g}}const ut=(0,e.Kr)(class{}),rt=new s.OlP("mat-autocomplete-default-options",{providedIn:"root",factory:function _t(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1}}});let bt=(()=>{class w extends ut{get isOpen(){return this._isOpen&&this.showPanel}_setColor(g){this._color=g,this._setThemeClasses(this._classList)}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(g){this._autoActiveFirstOption=(0,K.Ig)(g)}get autoSelectActiveOption(){return this._autoSelectActiveOption}set autoSelectActiveOption(g){this._autoSelectActiveOption=(0,K.Ig)(g)}get requireSelection(){return this._requireSelection}set requireSelection(g){this._requireSelection=(0,K.Ig)(g)}set classList(g){this._classList=g&&g.length?(0,K.du)(g).reduce((U,ot)=>(U[ot]=!0,U),{}):{},this._setVisibilityClasses(this._classList),this._setThemeClasses(this._classList),this._elementRef.nativeElement.className=""}constructor(g,U,ot,yt){super(),this._changeDetectorRef=g,this._elementRef=U,this._defaults=ot,this._activeOptionChanges=_.w0.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new s.vpe,this.opened=new s.vpe,this.closed=new s.vpe,this.optionActivated=new s.vpe,this._classList={},this.id="mat-autocomplete-"+xt++,this.inertGroups=yt?.SAFARI||!1,this._autoActiveFirstOption=!!ot.autoActiveFirstOption,this._autoSelectActiveOption=!!ot.autoSelectActiveOption,this._requireSelection=!!ot.requireSelection}ngAfterContentInit(){this._keyManager=new i.s1(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(g=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[g]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe()}_setScrollTop(g){this.panel&&(this.panel.nativeElement.scrollTop=g)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(g){const U=new q(this,g);this.optionSelected.emit(U)}_getPanelAriaLabelledby(g){return this.ariaLabel?null:this.ariaLabelledby?(g?g+" ":"")+this.ariaLabelledby:g}_setVisibilityClasses(g){g[this._visibleClass]=this.showPanel,g[this._hiddenClass]=!this.showPanel}_setThemeClasses(g){g["mat-primary"]="primary"===this._color,g["mat-warn"]="warn"===this._color,g["mat-accent"]="accent"===this._color}_skipPredicate(g){return g.disabled}static{this.\u0275fac=function(U){return new(U||w)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(rt),s.Y36(H.t4))}}static{this.\u0275dir=s.lG2({type:w,viewQuery:function(U,ot){if(1&U&&(s.Gf(s.Rgc,7),s.Gf(tt,5)),2&U){let yt;s.iGM(yt=s.CRH())&&(ot.template=yt.first),s.iGM(yt=s.CRH())&&(ot.panel=yt.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",autoSelectActiveOption:"autoSelectActiveOption",requireSelection:"requireSelection",panelWidth:"panelWidth",classList:["class","classList"]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[s.qOj]})}}return w})(),Mt=(()=>{class w extends bt{constructor(){super(...arguments),this._visibleClass="mat-mdc-autocomplete-visible",this._hiddenClass="mat-mdc-autocomplete-hidden",this._animationDone=new s.vpe,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(g){this._hideSingleSelectionIndicator=(0,K.Ig)(g),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const g of this.options)g._changeDetectorRef.markForCheck()}ngOnDestroy(){super.ngOnDestroy(),this._animationDone.complete()}_skipPredicate(g){return!1}static{this.\u0275fac=function(){let g;return function(ot){return(g||(g=s.n5z(w)))(ot||w)}}()}static{this.\u0275cmp=s.Xpm({type:w,selectors:[["mat-autocomplete"]],contentQueries:function(U,ot,yt){if(1&U&&(s.Suo(yt,e.K7,5),s.Suo(yt,e.ey,5)),2&U){let Dt;s.iGM(Dt=s.CRH())&&(ot.optionGroups=Dt),s.iGM(Dt=s.CRH())&&(ot.options=Dt)}},hostAttrs:["ngSkipHydration","",1,"mat-mdc-autocomplete"],inputs:{disableRipple:"disableRipple",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matAutocomplete"],features:[s._Bn([{provide:e.HF,useExisting:w}]),s.qOj],ngContentSelectors:G,decls:1,vars:0,consts:[["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id","ngClass"],["panel",""]],template:function(U,ot){1&U&&(s.F$t(),s.YNc(0,nt,3,5,"ng-template"))},dependencies:[x.mk],styles:["div.mat-mdc-autocomplete-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-autocomplete-background-color)}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[ft]},changeDetection:0})}}return w})();const gt={provide:j.JU,useExisting:(0,s.Gpc)(()=>b),multi:!0},T=new s.OlP("mat-autocomplete-scroll-strategy"),p={provide:T,deps:[W.aV],useFactory:function D(w){return()=>w.scrollStrategies.reposition()}};let I=(()=>{class w{get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(g){this._autocompleteDisabled=(0,K.Ig)(g)}constructor(g,U,ot,yt,Dt,Gt,zt,te,Yt,Kt,ae){this._element=g,this._overlay=U,this._viewContainerRef=ot,this._zone=yt,this._changeDetectorRef=Dt,this._dir=zt,this._formField=te,this._document=Yt,this._viewportRuler=Kt,this._defaults=ae,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=_.w0.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new n.x,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=(0,A.P)(()=>{const qt=this.autocomplete?this.autocomplete.options:null;return qt?qt.changes.pipe((0,c.O)(qt),(0,h.w)(()=>(0,B.T)(...qt.map(le=>le.onSelectionChange)))):this._zone.onStable.pipe((0,P.q)(1),(0,h.w)(()=>this.optionSelections))}),this._handlePanelKeydown=qt=>{(qt.keyCode===at.hY&&!(0,at.Vb)(qt)||qt.keyCode===at.LH&&(0,at.Vb)(qt,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),qt.stopPropagation(),qt.preventDefault())},this._trackedModal=null,this._scrollStrategy=Gt}ngAfterViewInit(){const g=this._getWindow();typeof g<"u"&&this._zone.runOutsideAngular(()=>g.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(g){g.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const g=this._getWindow();typeof g<"u"&&g.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel(),this._trackedModal&&(0,i.Zf)(this._trackedModal,"aria-owns",this.autocomplete.id)}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._isOpen=this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal)&&(0,i.iD)(this._trackedModal,"aria-owns",this.autocomplete.id)}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return(0,B.T)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe((0,M.h)(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe((0,M.h)(()=>this._overlayAttached)):(0,st.of)()).pipe((0,y.U)(g=>g instanceof e.rN?g:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return(0,B.T)((0,t.R)(this._document,"click"),(0,t.R)(this._document,"auxclick"),(0,t.R)(this._document,"touchend")).pipe((0,M.h)(g=>{const U=(0,H.sA)(g),ot=this._formField?this._formField._elementRef.nativeElement:null,yt=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&U!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!ot||!ot.contains(U))&&(!yt||!yt.contains(U))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(U)}))}writeValue(g){Promise.resolve(null).then(()=>this._assignOptionValue(g))}registerOnChange(g){this._onChange=g}registerOnTouched(g){this._onTouched=g}setDisabledState(g){this._element.nativeElement.disabled=g}_handleKeydown(g){const U=g.keyCode,ot=(0,at.Vb)(g);if(U===at.hY&&!ot&&g.preventDefault(),this.activeOption&&U===at.K5&&this.panelOpen&&!ot)this.activeOption._selectViaInteraction(),this._resetActiveItem(),g.preventDefault();else if(this.autocomplete){const yt=this.autocomplete._keyManager.activeItem,Dt=U===at.LH||U===at.JH;U===at.Mf||Dt&&!ot&&this.panelOpen?this.autocomplete._keyManager.onKeydown(g):Dt&&this._canOpen()&&this.openPanel(),(Dt||this.autocomplete._keyManager.activeItem!==yt)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._element.nativeElement.value),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(g){let U=g.target,ot=U.value;"number"===U.type&&(ot=""==ot?null:parseFloat(ot)),this._previousValue!==ot&&(this._previousValue=ot,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(ot),ot||this._clearPreviousSelectedOption(null,!1),this._canOpen()&&this._document.activeElement===g.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this.openPanel()}_floatLabel(g=!1){this._formField&&"auto"===this._formField.floatLabel&&(g?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const g=this._zone.onStable.pipe((0,P.q)(1)),U=this.autocomplete.options.changes.pipe((0,Z.b)(()=>this._positionStrategy.reapplyLastPosition()),(0,z.g)(0));return(0,B.T)(g,U).pipe((0,h.w)(()=>(this._zone.run(()=>{const ot=this.panelOpen;this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),ot!==this.panelOpen&&(this.panelOpen?(this._captureValueOnAttach(),this._emitOpened()):this.autocomplete.closed.emit())}),this.panelClosingActions)),(0,P.q)(1)).subscribe(ot=>this._setValueAndClose(ot))}_emitOpened(){this.autocomplete.opened.emit()}_captureValueOnAttach(){this._valueOnAttach=this._element.nativeElement.value}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_assignOptionValue(g){const U=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(g):g;this._updateNativeInputValue(U??"")}_updateNativeInputValue(g){this._formField?this._formField._control.value=g:this._element.nativeElement.value=g,this._previousValue=g}_setValueAndClose(g){const U=this.autocomplete,ot=g?g.source:this._pendingAutoselectedOption;ot?(this._clearPreviousSelectedOption(ot),this._assignOptionValue(ot.value),this._onChange(ot.value),U._emitSelectEvent(ot),this._element.nativeElement.focus()):U.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),U._animationDone?U._animationDone.pipe((0,P.q)(1)).subscribe(()=>this._onChange(null)):this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(g,U){this.autocomplete?.options?.forEach(ot=>{ot!==g&&ot.selected&&ot.deselect(U)})}_attachOverlay(){let g=this._overlayRef;g?(this._positionStrategy.setOrigin(this._getConnectedElement()),g.updateSize({width:this._getPanelWidth()})):(this._portal=new N.UE(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),g=this._overlay.create(this._getOverlayConfig()),this._overlayRef=g,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&g&&g.updateSize({width:this._getPanelWidth()})})),g&&!g.hasAttached()&&(g.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const U=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this._captureValueOnAttach(),this.panelOpen&&U!==this.panelOpen&&this._emitOpened()}_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){const g=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=g.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=g.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new W.X_({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){const g=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(g),this._positionStrategy=g,g}_setStrategyPositions(g){const U=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],ot=this._aboveClass,yt=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:ot},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:ot}];let Dt;Dt="above"===this.position?yt:"below"===this.position?U:[...U,...yt],g.withPositions(Dt)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const g=this.autocomplete;if(g.autoActiveFirstOption){let U=-1;for(let ot=0;ot<g.options.length;ot++)if(!g.options.get(ot).disabled){U=ot;break}g._keyManager.setActiveItem(U)}else g._keyManager.setActiveItem(-1)}_canOpen(){const g=this._element.nativeElement;return!g.readOnly&&!g.disabled&&!this._autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(g){const U=this.autocomplete,ot=(0,e.CB)(g,U.options,U.optionGroups);if(0===g&&1===ot)U._setScrollTop(0);else if(U.panel){const yt=U.options.toArray()[g];if(yt){const Dt=yt._getHostElement(),Gt=(0,e.jH)(Dt.offsetTop,Dt.offsetHeight,U._getScrollTop(),U.panel.nativeElement.offsetHeight);U._setScrollTop(Gt)}}}_applyModalPanelOwnership(){const g=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!g)return;const U=this.autocomplete.id;this._trackedModal&&(0,i.iD)(this._trackedModal,"aria-owns",U),(0,i.Zf)(g,"aria-owns",U),this._trackedModal=g}_clearFromModal(){this._trackedModal&&((0,i.iD)(this._trackedModal,"aria-owns",this.autocomplete.id),this._trackedModal=null)}static{this.\u0275fac=function(U){return new(U||w)(s.Y36(s.SBq),s.Y36(W.aV),s.Y36(s.s_b),s.Y36(s.R0b),s.Y36(s.sBO),s.Y36(T),s.Y36(ct.Is,8),s.Y36(E.G_,9),s.Y36(x.K0,8),s.Y36(a.rL),s.Y36(rt,8))}}static{this.\u0275dir=s.lG2({type:w,inputs:{autocomplete:["matAutocomplete","autocomplete"],position:["matAutocompletePosition","position"],connectedTo:["matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"]},features:[s.TTD]})}}return w})(),b=(()=>{class w extends I{constructor(){super(...arguments),this._aboveClass="mat-mdc-autocomplete-panel-above"}static{this.\u0275fac=function(){let g;return function(ot){return(g||(g=s.n5z(w)))(ot||w)}}()}static{this.\u0275dir=s.lG2({type:w,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(U,ot){1&U&&s.NdJ("focusin",function(){return ot._handleFocus()})("blur",function(){return ot._onTouched()})("input",function(Dt){return ot._handleInput(Dt)})("keydown",function(Dt){return ot._handleKeydown(Dt)})("click",function(){return ot._handleClick()}),2&U&&s.uIk("autocomplete",ot.autocompleteAttribute)("role",ot.autocompleteDisabled?null:"combobox")("aria-autocomplete",ot.autocompleteDisabled?null:"list")("aria-activedescendant",ot.panelOpen&&ot.activeOption?ot.activeOption.id:null)("aria-expanded",ot.autocompleteDisabled?null:ot.panelOpen.toString())("aria-controls",ot.autocompleteDisabled||!ot.panelOpen||null==ot.autocomplete?null:ot.autocomplete.id)("aria-haspopup",ot.autocompleteDisabled?null:"listbox")},exportAs:["matAutocompleteTrigger"],features:[s._Bn([gt]),s.qOj]})}}return w})(),L=(()=>{class w{static{this.\u0275fac=function(U){return new(U||w)}}static{this.\u0275mod=s.oAB({type:w})}static{this.\u0275inj=s.cJS({providers:[p],imports:[W.U8,e.Ng,e.BQ,x.ez,a.ZD,e.Ng,e.BQ]})}}return w})()},9488:(Lt,lt,o)=>{o.d(lt,{A9:()=>st,Yi:()=>at,vV:()=>N});var s=o(4300),e=o(2495),x=o(8337),a=o(5879),W=o(6223),i=o(3680);const K=["button"],H=["*"],k=new a.OlP("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),_=new a.OlP("MatButtonToggleGroup"),n={provide:W.JU,useExisting:(0,a.Gpc)(()=>st),multi:!0};let A=0;class B{constructor(E,c){this.source=E,this.value=c}}let st=(()=>{class j{get name(){return this._name}set name(c){this._name=c,this._markButtonsForCheck()}get vertical(){return this._vertical}set vertical(c){this._vertical=(0,e.Ig)(c)}get value(){const c=this._selectionModel?this._selectionModel.selected:[];return this.multiple?c.map(h=>h.value):c[0]?c[0].value:void 0}set value(c){this._setSelectionByValue(c),this.valueChange.emit(this.value)}get selected(){const c=this._selectionModel?this._selectionModel.selected:[];return this.multiple?c:c[0]||null}get multiple(){return this._multiple}set multiple(c){this._multiple=(0,e.Ig)(c),this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(c){this._disabled=(0,e.Ig)(c),this._markButtonsForCheck()}constructor(c,h){this._changeDetector=c,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+A++,this.valueChange=new a.vpe,this.change=new a.vpe,this.appearance=h&&h.appearance?h.appearance:"standard"}ngOnInit(){this._selectionModel=new x.Ov(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(c=>c.checked))}writeValue(c){this.value=c,this._changeDetector.markForCheck()}registerOnChange(c){this._controlValueAccessorChangeFn=c}registerOnTouched(c){this._onTouched=c}setDisabledState(c){this.disabled=c}_emitChangeEvent(c){const h=new B(c,this.value);this._rawValue=h.value,this._controlValueAccessorChangeFn(h.value),this.change.emit(h)}_syncButtonToggle(c,h,P=!1,M=!1){!this.multiple&&this.selected&&!c.checked&&(this.selected.checked=!1),this._selectionModel?h?this._selectionModel.select(c):this._selectionModel.deselect(c):M=!0,M?Promise.resolve().then(()=>this._updateModelValue(c,P)):this._updateModelValue(c,P)}_isSelected(c){return this._selectionModel&&this._selectionModel.isSelected(c)}_isPrechecked(c){return!(typeof this._rawValue>"u")&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(h=>null!=c.value&&h===c.value):c.value===this._rawValue)}_setSelectionByValue(c){this._rawValue=c,this._buttonToggles&&(this.multiple&&c?(Array.isArray(c),this._clearSelection(),c.forEach(h=>this._selectValue(h))):(this._clearSelection(),this._selectValue(c)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(c=>c.checked=!1)}_selectValue(c){const h=this._buttonToggles.find(P=>null!=P.value&&P.value===c);h&&(h.checked=!0,this._selectionModel.select(h))}_updateModelValue(c,h){h&&this._emitChangeEvent(c),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(c=>c._markForCheck())}static{this.\u0275fac=function(h){return new(h||j)(a.Y36(a.sBO),a.Y36(k,8))}}static{this.\u0275dir=a.lG2({type:j,selectors:[["mat-button-toggle-group"]],contentQueries:function(h,P,M){if(1&h&&a.Suo(M,at,5),2&h){let y;a.iGM(y=a.CRH())&&(P._buttonToggles=y)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(h,P){2&h&&(a.uIk("aria-disabled",P.disabled),a.ekj("mat-button-toggle-vertical",P.vertical)("mat-button-toggle-group-appearance-standard","standard"===P.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[a._Bn([n,{provide:_,useExisting:j}])]})}}return j})();const t=(0,i.Kr)(class{});let at=(()=>{class j extends t{get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(c){this._appearance=c}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(c){const h=(0,e.Ig)(c);h!==this._checked&&(this._checked=h,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(c){this._disabled=(0,e.Ig)(c)}constructor(c,h,P,M,y,Z){super(),this._changeDetectorRef=h,this._elementRef=P,this._focusMonitor=M,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new a.vpe;const z=Number(y);this.tabIndex=z||0===z?z:null,this.buttonToggleGroup=c,this.appearance=Z&&Z.appearance?Z.appearance:"standard"}ngOnInit(){const c=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+A++,c&&(c._isPrechecked(this)?this.checked=!0:c._isSelected(this)!==this._checked&&c._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const c=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),c&&c._isSelected(this)&&c._syncButtonToggle(this,!1,!1,!0)}focus(c){this._buttonElement.nativeElement.focus(c)}_onButtonClick(){const c=!!this._isSingleSelector()||!this._checked;c!==this._checked&&(this._checked=c,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new B(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this._isSingleSelector()?this.buttonToggleGroup.name:this.name||null}_isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}static{this.\u0275fac=function(h){return new(h||j)(a.Y36(_,8),a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(s.tE),a.$8M("tabindex"),a.Y36(k,8))}}static{this.\u0275cmp=a.Xpm({type:j,selectors:[["mat-button-toggle"]],viewQuery:function(h,P){if(1&h&&a.Gf(K,5),2&h){let M;a.iGM(M=a.CRH())&&(P._buttonElement=M.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(h,P){1&h&&a.NdJ("focus",function(){return P.focus()}),2&h&&(a.uIk("aria-label",null)("aria-labelledby",null)("id",P.id)("name",null),a.ekj("mat-button-toggle-standalone",!P.buttonToggleGroup)("mat-button-toggle-checked",P.checked)("mat-button-toggle-disabled",P.disabled)("mat-button-toggle-appearance-standard","standard"===P.appearance))},inputs:{disableRipple:"disableRipple",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[a.qOj],ngContentSelectors:H,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(h,P){if(1&h&&(a.F$t(),a.TgZ(0,"button",0,1),a.NdJ("click",function(){return P._onButtonClick()}),a.TgZ(2,"span",2),a.Hsn(3),a.qZA()(),a._UZ(4,"span",3)(5,"span",4)),2&h){const M=a.MAs(1);a.Q6J("id",P.buttonId)("disabled",P.disabled||null),a.uIk("tabindex",P.disabled?-1:P.tabIndex)("aria-pressed",P.checked)("name",P._getButtonName())("aria-label",P.ariaLabel)("aria-labelledby",P.ariaLabelledby),a.xp6(5),a.Q6J("matRippleTrigger",M)("matRippleDisabled",P.disableRipple||P.disabled)}},dependencies:[i.wG],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{--mat-legacy-button-toggle-height:36px;--mat-legacy-button-toggle-shape:2px;--mat-legacy-button-toggle-focus-state-layer-opacity:1;position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{--mat-standard-button-toggle-shape:4px;--mat-standard-button-toggle-hover-state-layer-opacity:0.04;--mat-standard-button-toggle-focus-state-layer-opacity:0.12;border-radius:var(--mat-standard-button-toggle-shape);border:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-text-font)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard{--mat-standard-button-toggle-shape:4px;--mat-standard-button-toggle-hover-state-layer-opacity:0.04;--mat-standard-button-toggle-focus-state-layer-opacity:0.12;color:var(--mat-standard-button-toggle-text-color);background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-text-font)}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color)}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color);background-color:var(--mat-standard-button-toggle-selected-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color)}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity)}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity)}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}"],encapsulation:2,changeDetection:0})}}return j})(),N=(()=>{class j{static{this.\u0275fac=function(h){return new(h||j)}}static{this.\u0275mod=a.oAB({type:j})}static{this.\u0275inj=a.cJS({imports:[i.BQ,i.si,i.BQ]})}}return j})()},4104:(Lt,lt,o)=>{o.d(lt,{BU:()=>ee,Nh:()=>Ce,Nj:()=>jt,SP:()=>v,sW:()=>be,uD:()=>Gt,uX:()=>Ut});var s=o(6814),e=o(5879),x=o(3680),a=o(8484),W=o(7131),i=o(4300),K=o(9388),H=o(7394),k=o(8645),_=o(2438),n=o(2096),A=o(3019),B=o(6232),st=o(5592),t=o(4825),at=o(5619),N=o(7921),j=o(3997),E=o(9773),c=o(8180),h=o(4664),P=o(836),M=o(2181),y=o(6825),Z=o(2495),z=o(7368),ct=o(2831),tt=o(6028);function nt(R,At){}const G=function(R){return{animationDuration:R}},ft=function(R,At){return{value:R,params:At}};function xt(R,At){1&R&&e.Hsn(0)}const q=["*"],ut=["tabListContainer"],rt=["tabList"],_t=["tabListInner"],bt=["nextPaginator"],Mt=["previousPaginator"],Bt=["tabBodyWrapper"],wt=["tabHeader"];function gt(R,At){}function kt(R,At){if(1&R&&e.YNc(0,gt,0,0,"ng-template",14),2&R){const r=e.oxw().$implicit;e.Q6J("cdkPortalOutlet",r.templateLabel)}}function T(R,At){if(1&R&&e._uU(0),2&R){const r=e.oxw().$implicit;e.Oqu(r.textLabel)}}function D(R,At){if(1&R){const r=e.EpF();e.TgZ(0,"div",6,7),e.NdJ("click",function(){const m=e.CHM(r),F=m.$implicit,mt=m.index,Nt=e.oxw(),Jt=e.MAs(1);return e.KtG(Nt._handleClick(F,Jt,mt))})("cdkFocusChange",function(m){const mt=e.CHM(r).index,Nt=e.oxw();return e.KtG(Nt._tabFocusChanged(m,mt))}),e._UZ(2,"span",8)(3,"div",9),e.TgZ(4,"span",10)(5,"span",11),e.YNc(6,kt,1,1,"ng-template",12),e.YNc(7,T,1,1,"ng-template",null,13,e.W1O),e.qZA()()()}if(2&R){const r=At.$implicit,d=At.index,m=e.MAs(1),F=e.MAs(8),mt=e.oxw();e.ekj("mdc-tab--active",mt.selectedIndex===d),e.Q6J("id",mt._getTabLabelId(d))("ngClass",r.labelClass)("disabled",r.disabled)("fitInkBarToContent",mt.fitInkBarToContent),e.uIk("tabIndex",mt._getTabIndex(d))("aria-posinset",d+1)("aria-setsize",mt._tabs.length)("aria-controls",mt._getTabContentId(d))("aria-selected",mt.selectedIndex===d)("aria-label",r.ariaLabel||null)("aria-labelledby",!r.ariaLabel&&r.ariaLabelledby?r.ariaLabelledby:null),e.xp6(3),e.Q6J("matRippleTrigger",m)("matRippleDisabled",r.disabled||mt.disableRipple),e.xp6(3),e.Q6J("ngIf",r.templateLabel)("ngIfElse",F)}}function p(R,At){if(1&R){const r=e.EpF();e.TgZ(0,"mat-tab-body",15),e.NdJ("_onCentered",function(){e.CHM(r);const m=e.oxw();return e.KtG(m._removeTabBodyWrapperHeight())})("_onCentering",function(m){e.CHM(r);const F=e.oxw();return e.KtG(F._setTabBodyWrapperHeight(m))}),e.qZA()}if(2&R){const r=At.$implicit,d=At.index,m=e.oxw();e.ekj("mat-mdc-tab-body-active",m.selectedIndex===d),e.Q6J("id",m._getTabContentId(d))("ngClass",r.bodyClass)("content",r.content)("position",r.position)("origin",r.origin)("animationDuration",m.animationDuration)("preserveContent",m.preserveContent),e.uIk("tabindex",null!=m.contentTabIndex&&m.selectedIndex===d?m.contentTabIndex:null)("aria-labelledby",m._getTabLabelId(d))("aria-hidden",m.selectedIndex!==d)}}const I=["mat-tab-nav-bar",""],b=["mat-tab-link",""],L={translateTab:(0,y.X$)("translateTab",[(0,y.SB)("center, void, left-origin-center, right-origin-center",(0,y.oB)({transform:"none"})),(0,y.SB)("left",(0,y.oB)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,y.SB)("right",(0,y.oB)({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,y.eR)("* => left, * => right, left => center, right => center",(0,y.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),(0,y.eR)("void => left-origin-center",[(0,y.oB)({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),(0,y.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),(0,y.eR)("void => right-origin-center",[(0,y.oB)({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),(0,y.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let w=(()=>{class R extends a.Pl{constructor(r,d,m,F){super(r,d,F),this._host=m,this._centeringSub=H.w0.EMPTY,this._leavingSub=H.w0.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe((0,N.O)(this._host._isCenterPosition(this._host._position))).subscribe(r=>{r&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static{this.\u0275fac=function(d){return new(d||R)(e.Y36(e._Vd),e.Y36(e.s_b),e.Y36((0,e.Gpc)(()=>g)),e.Y36(s.K0))}}static{this.\u0275dir=e.lG2({type:R,selectors:[["","matTabBodyHost",""]],features:[e.qOj]})}}return R})(),pt=(()=>{class R{set position(r){this._positionIndex=r,this._computePositionAnimationState()}constructor(r,d,m){this._elementRef=r,this._dir=d,this._dirChangeSubscription=H.w0.EMPTY,this._translateTabComplete=new k.x,this._onCentering=new e.vpe,this._beforeCentering=new e.vpe,this._afterLeavingCenter=new e.vpe,this._onCentered=new e.vpe(!0),this.animationDuration="500ms",this.preserveContent=!1,d&&(this._dirChangeSubscription=d.change.subscribe(F=>{this._computePositionAnimationState(F),m.markForCheck()})),this._translateTabComplete.pipe((0,j.x)((F,mt)=>F.fromState===mt.fromState&&F.toState===mt.toState)).subscribe(F=>{this._isCenterPosition(F.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(F.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(r){const d=this._isCenterPosition(r.toState);this._beforeCentering.emit(d),d&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(r){return"center"==r||"left-origin-center"==r||"right-origin-center"==r}_computePositionAnimationState(r=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==r?"left":"right":this._positionIndex>0?"ltr"==r?"right":"left":"center"}_computePositionFromOrigin(r){const d=this._getLayoutDirection();return"ltr"==d&&r<=0||"rtl"==d&&r>0?"left-origin-center":"right-origin-center"}static{this.\u0275fac=function(d){return new(d||R)(e.Y36(e.SBq),e.Y36(K.Is,8),e.Y36(e.sBO))}}static{this.\u0275dir=e.lG2({type:R,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}})}}return R})(),g=(()=>{class R extends pt{constructor(r,d,m){super(r,d,m)}static{this.\u0275fac=function(d){return new(d||R)(e.Y36(e.SBq),e.Y36(K.Is,8),e.Y36(e.sBO))}}static{this.\u0275cmp=e.Xpm({type:R,selectors:[["mat-tab-body"]],viewQuery:function(d,m){if(1&d&&e.Gf(a.Pl,5),2&d){let F;e.iGM(F=e.CRH())&&(m._portalHost=F.first)}},hostAttrs:[1,"mat-mdc-tab-body"],features:[e.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-mdc-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(d,m){1&d&&(e.TgZ(0,"div",0,1),e.NdJ("@translateTab.start",function(mt){return m._onTranslateTabStarted(mt)})("@translateTab.done",function(mt){return m._translateTabComplete.next(mt)}),e.YNc(2,nt,0,0,"ng-template",2),e.qZA()),2&d&&e.Q6J("@translateTab",e.WLB(3,ft,m._position,e.VKq(1,G,m.animationDuration)))},dependencies:[w],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[L.translateTab]}})}}return R})();const U=new e.OlP("MatTabContent");let ot=(()=>{class R{constructor(r){this.template=r}static{this.\u0275fac=function(d){return new(d||R)(e.Y36(e.Rgc))}}static{this.\u0275dir=e.lG2({type:R,selectors:[["","matTabContent",""]],features:[e._Bn([{provide:U,useExisting:R}])]})}}return R})();const yt=new e.OlP("MatTabLabel"),Dt=new e.OlP("MAT_TAB");let Gt=(()=>{class R extends a.ig{constructor(r,d,m){super(r,d),this._closestTab=m}static{this.\u0275fac=function(d){return new(d||R)(e.Y36(e.Rgc),e.Y36(e.s_b),e.Y36(Dt,8))}}static{this.\u0275dir=e.lG2({type:R,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[e._Bn([{provide:yt,useExisting:R}]),e.qOj]})}}return R})();const zt="mdc-tab-indicator--active",te="mdc-tab-indicator--no-transition";class Yt{constructor(At){this._items=At}hide(){this._items.forEach(At=>At.deactivateInkBar())}alignToElement(At){const r=this._items.find(m=>m.elementRef.nativeElement===At),d=this._currentItem;if(r!==d&&(d?.deactivateInkBar(),r)){const m=d?.elementRef.nativeElement.getBoundingClientRect?.();r.activateInkBar(m),this._currentItem=r}}}function Kt(R){return class extends R{constructor(...At){super(...At),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(At){const r=(0,Z.Ig)(At);this._fitToContent!==r&&(this._fitToContent=r,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(At){const r=this.elementRef.nativeElement;if(!At||!r.getBoundingClientRect||!this._inkBarContentElement)return void r.classList.add(zt);const d=r.getBoundingClientRect(),m=At.width/d.width,F=At.left-d.left;r.classList.add(te),this._inkBarContentElement.style.setProperty("transform",`translateX(${F}px) scaleX(${m})`),r.getBoundingClientRect(),r.classList.remove(te),r.classList.add(zt),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this.elementRef.nativeElement.classList.remove(zt)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const At=this.elementRef.nativeElement.ownerDocument||document;this._inkBarElement=At.createElement("span"),this._inkBarContentElement=At.createElement("span"),this._inkBarElement.className="mdc-tab-indicator",this._inkBarContentElement.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",this._inkBarElement.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this.elementRef.nativeElement.querySelector(".mdc-tab__content"):this.elementRef.nativeElement).appendChild(this._inkBarElement)}}}const le=(0,x.Id)(class{}),de=Kt((()=>{class R extends le{constructor(r){super(),this.elementRef=r}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static{this.\u0275fac=function(d){return new(d||R)(e.Y36(e.SBq))}}static{this.\u0275dir=e.lG2({type:R,features:[e.qOj]})}}return R})());let he=(()=>{class R extends de{static{this.\u0275fac=function(){let r;return function(m){return(r||(r=e.n5z(R)))(m||R)}}()}static{this.\u0275dir=e.lG2({type:R,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(d,m){2&d&&(e.uIk("aria-disabled",!!m.disabled),e.ekj("mat-mdc-tab-disabled",m.disabled))},inputs:{disabled:"disabled",fitInkBarToContent:"fitInkBarToContent"},features:[e.qOj]})}}return R})();const pe=(0,x.Id)(class{}),me=new e.OlP("MAT_TAB_GROUP");let ht=(()=>{class R extends pe{get content(){return this._contentPortal}constructor(r,d){super(),this._viewContainerRef=r,this._closestTabGroup=d,this.textLabel="",this._contentPortal=null,this._stateChanges=new k.x,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(r){(r.hasOwnProperty("textLabel")||r.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new a.UE(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(r){r&&r._closestTab===this&&(this._templateLabel=r)}static{this.\u0275fac=function(d){return new(d||R)(e.Y36(e.s_b),e.Y36(me,8))}}static{this.\u0275dir=e.lG2({type:R,viewQuery:function(d,m){if(1&d&&e.Gf(e.Rgc,7),2&d){let F;e.iGM(F=e.CRH())&&(m._implicitContent=F.first)}},inputs:{textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},features:[e.qOj,e.TTD]})}}return R})(),Ut=(()=>{class R extends ht{constructor(){super(...arguments),this._explicitContent=void 0}get templateLabel(){return this._templateLabel}set templateLabel(r){this._setTemplateLabelInput(r)}static{this.\u0275fac=function(){let r;return function(m){return(r||(r=e.n5z(R)))(m||R)}}()}static{this.\u0275cmp=e.Xpm({type:R,selectors:[["mat-tab"]],contentQueries:function(d,m,F){if(1&d&&(e.Suo(F,ot,7,e.Rgc),e.Suo(F,Gt,5)),2&d){let mt;e.iGM(mt=e.CRH())&&(m._explicitContent=mt.first),e.iGM(mt=e.CRH())&&(m.templateLabel=mt.first)}},inputs:{disabled:"disabled"},exportAs:["matTab"],features:[e._Bn([{provide:Dt,useExisting:R}]),e.qOj],ngContentSelectors:q,decls:1,vars:0,template:function(d,m){1&d&&(e.F$t(),e.YNc(0,xt,1,0,"ng-template"))},encapsulation:2})}}return R})();const O=(0,ct.i$)({passive:!0});let Pt=(()=>{class R{get disablePagination(){return this._disablePagination}set disablePagination(r){this._disablePagination=(0,Z.Ig)(r)}get selectedIndex(){return this._selectedIndex}set selectedIndex(r){r=(0,Z.su)(r),this._selectedIndex!=r&&(this._selectedIndexChanged=!0,this._selectedIndex=r,this._keyManager&&this._keyManager.updateActiveItem(r))}constructor(r,d,m,F,mt,Nt,Jt){this._elementRef=r,this._changeDetectorRef=d,this._viewportRuler=m,this._dir=F,this._ngZone=mt,this._platform=Nt,this._animationMode=Jt,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new k.x,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new k.x,this._disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new e.vpe,this.indexFocused=new e.vpe,mt.runOutsideAngular(()=>{(0,_.R)(r.nativeElement,"mouseleave").pipe((0,E.R)(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){(0,_.R)(this._previousPaginator.nativeElement,"touchstart",O).pipe((0,E.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),(0,_.R)(this._nextPaginator.nativeElement,"touchstart",O).pipe((0,E.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const r=this._dir?this._dir.change:(0,n.of)("ltr"),d=this._viewportRuler.change(150),m=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new i.Em(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe((0,c.q)(1)).subscribe(m),(0,A.T)(r,d,this._items.changes,this._itemsResized()).pipe((0,E.R)(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),m()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(F=>{this.indexFocused.emit(F),this._setTabFocus(F)})}_itemsResized(){return"function"!=typeof ResizeObserver?B.E:this._items.changes.pipe((0,N.O)(this._items),(0,h.w)(r=>new st.y(d=>this._ngZone.runOutsideAngular(()=>{const m=new ResizeObserver(F=>d.next(F));return r.forEach(F=>m.observe(F.elementRef.nativeElement)),()=>{m.disconnect()}}))),(0,P.T)(1),(0,M.h)(r=>r.some(d=>d.contentRect.width>0&&d.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(r){if(!(0,tt.Vb)(r))switch(r.keyCode){case tt.K5:case tt.L_:if(this.focusIndex!==this.selectedIndex){const d=this._items.get(this.focusIndex);d&&!d.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(r))}break;default:this._keyManager.onKeydown(r)}}_onContentChanges(){const r=this._elementRef.nativeElement.textContent;r!==this._currentTextContent&&(this._currentTextContent=r||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(r){!this._isValidIndex(r)||this.focusIndex===r||!this._keyManager||this._keyManager.setActiveItem(r)}_isValidIndex(r){return!this._items||!!this._items.toArray()[r]}_setTabFocus(r){if(this._showPaginationControls&&this._scrollToLabel(r),this._items&&this._items.length){this._items.toArray()[r].focus();const d=this._tabListContainer.nativeElement;d.scrollLeft="ltr"==this._getLayoutDirection()?0:d.scrollWidth-d.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const r=this.scrollDistance,d="ltr"===this._getLayoutDirection()?-r:r;this._tabList.nativeElement.style.transform=`translateX(${Math.round(d)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(r){this._scrollTo(r)}_scrollHeader(r){return this._scrollTo(this._scrollDistance+("before"==r?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(r){this._stopInterval(),this._scrollHeader(r)}_scrollToLabel(r){if(this.disablePagination)return;const d=this._items?this._items.toArray()[r]:null;if(!d)return;const m=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:F,offsetWidth:mt}=d.elementRef.nativeElement;let Nt,Jt;"ltr"==this._getLayoutDirection()?(Nt=F,Jt=Nt+mt):(Jt=this._tabListInner.nativeElement.offsetWidth-F,Nt=Jt-mt);const ne=this.scrollDistance,fe=this.scrollDistance+m;Nt<ne?this.scrollDistance-=ne-Nt:Jt>fe&&(this.scrollDistance+=Math.min(Jt-fe,Nt-ne))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const r=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;r||(this.scrollDistance=0),r!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=r}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const r=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,d=r?r.elementRef.nativeElement:null;d?this._inkBar.alignToElement(d):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(r,d){d&&null!=d.button&&0!==d.button||(this._stopInterval(),(0,t.H)(650,100).pipe((0,E.R)((0,A.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:m,distance:F}=this._scrollHeader(r);(0===F||F>=m)&&this._stopInterval()}))}_scrollTo(r){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const d=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(d,r)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:d,distance:this._scrollDistance}}static{this.\u0275fac=function(d){return new(d||R)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(z.rL),e.Y36(K.Is,8),e.Y36(e.R0b),e.Y36(ct.t4),e.Y36(e.QbO,8))}}static{this.\u0275dir=e.lG2({type:R,inputs:{disablePagination:"disablePagination"}})}}return R})(),Zt=(()=>{class R extends Pt{get disableRipple(){return this._disableRipple}set disableRipple(r){this._disableRipple=(0,Z.Ig)(r)}constructor(r,d,m,F,mt,Nt,Jt){super(r,d,m,F,mt,Nt,Jt),this._disableRipple=!1}_itemSelected(r){r.preventDefault()}static{this.\u0275fac=function(d){return new(d||R)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(z.rL),e.Y36(K.Is,8),e.Y36(e.R0b),e.Y36(ct.t4),e.Y36(e.QbO,8))}}static{this.\u0275dir=e.lG2({type:R,inputs:{disableRipple:"disableRipple"},features:[e.qOj]})}}return R})(),se=(()=>{class R extends Zt{constructor(r,d,m,F,mt,Nt,Jt){super(r,d,m,F,mt,Nt,Jt)}ngAfterContentInit(){this._inkBar=new Yt(this._items),super.ngAfterContentInit()}static{this.\u0275fac=function(d){return new(d||R)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(z.rL),e.Y36(K.Is,8),e.Y36(e.R0b),e.Y36(ct.t4),e.Y36(e.QbO,8))}}static{this.\u0275cmp=e.Xpm({type:R,selectors:[["mat-tab-header"]],contentQueries:function(d,m,F){if(1&d&&e.Suo(F,he,4),2&d){let mt;e.iGM(mt=e.CRH())&&(m._items=mt)}},viewQuery:function(d,m){if(1&d&&(e.Gf(ut,7),e.Gf(rt,7),e.Gf(_t,7),e.Gf(bt,5),e.Gf(Mt,5)),2&d){let F;e.iGM(F=e.CRH())&&(m._tabListContainer=F.first),e.iGM(F=e.CRH())&&(m._tabList=F.first),e.iGM(F=e.CRH())&&(m._tabListInner=F.first),e.iGM(F=e.CRH())&&(m._nextPaginator=F.first),e.iGM(F=e.CRH())&&(m._previousPaginator=F.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(d,m){2&d&&e.ekj("mat-mdc-tab-header-pagination-controls-enabled",m._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==m._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[e.qOj],ngContentSelectors:q,decls:13,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-mdc-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(d,m){1&d&&(e.F$t(),e.TgZ(0,"button",0,1),e.NdJ("click",function(){return m._handlePaginatorClick("before")})("mousedown",function(mt){return m._handlePaginatorPress("before",mt)})("touchend",function(){return m._stopInterval()}),e._UZ(2,"div",2),e.qZA(),e.TgZ(3,"div",3,4),e.NdJ("keydown",function(mt){return m._handleKeydown(mt)}),e.TgZ(5,"div",5,6),e.NdJ("cdkObserveContent",function(){return m._onContentChanges()}),e.TgZ(7,"div",7,8),e.Hsn(9),e.qZA()()(),e.TgZ(10,"button",9,10),e.NdJ("mousedown",function(mt){return m._handlePaginatorPress("after",mt)})("click",function(){return m._handlePaginatorClick("after")})("touchend",function(){return m._stopInterval()}),e._UZ(12,"div",2),e.qZA()),2&d&&(e.ekj("mat-mdc-tab-header-pagination-disabled",m._disableScrollBefore),e.Q6J("matRippleDisabled",m._disableScrollBefore||m.disableRipple)("disabled",m._disableScrollBefore||null),e.xp6(3),e.ekj("_mat-animation-noopable","NoopAnimations"===m._animationMode),e.xp6(7),e.ekj("mat-mdc-tab-header-pagination-disabled",m._disableScrollAfter),e.Q6J("matRippleDisabled",m._disableScrollAfter||m.disableRipple)("disabled",m._disableScrollAfter||null))},dependencies:[x.wG,W.wD],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0;--mdc-tab-indicator-active-indicator-height:2px;--mdc-tab-indicator-active-indicator-shape:0;--mdc-secondary-navigation-tab-container-height:48px}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2})}}return R})();const ie=new e.OlP("MAT_TABS_CONFIG");let ce=0;const it=(0,x.pj)((0,x.Kr)(class{constructor(R){this._elementRef=R}}),"primary");let Ct=(()=>{class R extends it{get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(r){this._dynamicHeight=(0,Z.Ig)(r)}get selectedIndex(){return this._selectedIndex}set selectedIndex(r){this._indexToSelect=(0,Z.su)(r,null)}get animationDuration(){return this._animationDuration}set animationDuration(r){this._animationDuration=/^\d+$/.test(r+"")?r+"ms":r}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(r){this._contentTabIndex=(0,Z.su)(r,null)}get disablePagination(){return this._disablePagination}set disablePagination(r){this._disablePagination=(0,Z.Ig)(r)}get preserveContent(){return this._preserveContent}set preserveContent(r){this._preserveContent=(0,Z.Ig)(r)}get backgroundColor(){return this._backgroundColor}set backgroundColor(r){const d=this._elementRef.nativeElement.classList;d.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),r&&d.add("mat-tabs-with-background",`mat-background-${r}`),this._backgroundColor=r}constructor(r,d,m,F){super(r),this._changeDetectorRef=d,this._animationMode=F,this._tabs=new e.n_E,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=H.w0.EMPTY,this._tabLabelSubscription=H.w0.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this._disablePagination=!1,this._preserveContent=!1,this.selectedIndexChange=new e.vpe,this.focusChange=new e.vpe,this.animationDone=new e.vpe,this.selectedTabChange=new e.vpe(!0),this._groupId=ce++,this.animationDuration=m&&m.animationDuration?m.animationDuration:"500ms",this.disablePagination=!(!m||null==m.disablePagination)&&m.disablePagination,this.dynamicHeight=!(!m||null==m.dynamicHeight)&&m.dynamicHeight,this.contentTabIndex=m?.contentTabIndex??null,this.preserveContent=!!m?.preserveContent}ngAfterContentChecked(){const r=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=r){const d=null==this._selectedIndex;if(!d){this.selectedTabChange.emit(this._createChangeEvent(r));const m=this._tabBodyWrapper.nativeElement;m.style.minHeight=m.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((m,F)=>m.isActive=F===r),d||(this.selectedIndexChange.emit(r),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((d,m)=>{d.position=m-r,null!=this._selectedIndex&&0==d.position&&!d.origin&&(d.origin=r-this._selectedIndex)}),this._selectedIndex!==r&&(this._selectedIndex=r,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const r=this._clampTabIndex(this._indexToSelect);if(r===this._selectedIndex){const d=this._tabs.toArray();let m;for(let F=0;F<d.length;F++)if(d[F].isActive){this._indexToSelect=this._selectedIndex=F,this._lastFocusedTabIndex=null,m=d[F];break}!m&&d[r]&&Promise.resolve().then(()=>{d[r].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(r))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe((0,N.O)(this._allTabs)).subscribe(r=>{this._tabs.reset(r.filter(d=>d._closestTabGroup===this||!d._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(r){const d=this._tabHeader;d&&(d.focusIndex=r)}_focusChanged(r){this._lastFocusedTabIndex=r,this.focusChange.emit(this._createChangeEvent(r))}_createChangeEvent(r){const d=new J;return d.index=r,this._tabs&&this._tabs.length&&(d.tab=this._tabs.toArray()[r]),d}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,A.T)(...this._tabs.map(r=>r._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(r){return Math.min(this._tabs.length-1,Math.max(r||0,0))}_getTabLabelId(r){return`mat-tab-label-${this._groupId}-${r}`}_getTabContentId(r){return`mat-tab-content-${this._groupId}-${r}`}_setTabBodyWrapperHeight(r){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const d=this._tabBodyWrapper.nativeElement;d.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(d.style.height=r+"px")}_removeTabBodyWrapperHeight(){const r=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=r.clientHeight,r.style.height="",this.animationDone.emit()}_handleClick(r,d,m){d.focusIndex=m,r.disabled||(this.selectedIndex=m)}_getTabIndex(r){return r===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(r,d){r&&"mouse"!==r&&"touch"!==r&&(this._tabHeader.focusIndex=d)}static{this.\u0275fac=function(d){return new(d||R)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(ie,8),e.Y36(e.QbO,8))}}static{this.\u0275dir=e.lG2({type:R,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",preserveContent:"preserveContent",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[e.qOj]})}}return R})(),v=(()=>{class R extends Ct{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(r){this._fitInkBarToContent=(0,Z.Ig)(r),this._changeDetectorRef.markForCheck()}get stretchTabs(){return this._stretchTabs}set stretchTabs(r){this._stretchTabs=(0,Z.Ig)(r)}constructor(r,d,m,F){super(r,d,m,F),this._fitInkBarToContent=!1,this._stretchTabs=!0,this.fitInkBarToContent=!(!m||null==m.fitInkBarToContent)&&m.fitInkBarToContent,this.stretchTabs=!m||null==m.stretchTabs||m.stretchTabs}static{this.\u0275fac=function(d){return new(d||R)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(ie,8),e.Y36(e.QbO,8))}}static{this.\u0275cmp=e.Xpm({type:R,selectors:[["mat-tab-group"]],contentQueries:function(d,m,F){if(1&d&&e.Suo(F,Ut,5),2&d){let mt;e.iGM(mt=e.CRH())&&(m._allTabs=mt)}},viewQuery:function(d,m){if(1&d&&(e.Gf(Bt,5),e.Gf(wt,5)),2&d){let F;e.iGM(F=e.CRH())&&(m._tabBodyWrapper=F.first),e.iGM(F=e.CRH())&&(m._tabHeader=F.first)}},hostAttrs:["ngSkipHydration","",1,"mat-mdc-tab-group"],hostVars:8,hostBindings:function(d,m){2&d&&(e.Udp("--mat-tab-animation-duration",m.animationDuration),e.ekj("mat-mdc-tab-group-dynamic-height",m.dynamicHeight)("mat-mdc-tab-group-inverted-header","below"===m.headerPosition)("mat-mdc-tab-group-stretch-tabs",m.stretchTabs))},inputs:{color:"color",disableRipple:"disableRipple",fitInkBarToContent:"fitInkBarToContent",stretchTabs:["mat-stretch-tabs","stretchTabs"]},exportAs:["matTabGroup"],features:[e._Bn([{provide:me,useExisting:R}]),e.qOj],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mdc-tab mat-mdc-tab mat-mdc-focus-indicator","role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",3,"id","mdc-tab--active","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-mdc-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-mdc-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange"],["tabNode",""],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering"]],template:function(d,m){1&d&&(e.TgZ(0,"mat-tab-header",0,1),e.NdJ("indexFocused",function(mt){return m._focusChanged(mt)})("selectFocusedIndex",function(mt){return m.selectedIndex=mt}),e.YNc(2,D,9,17,"div",2),e.qZA(),e.TgZ(3,"div",3,4),e.YNc(5,p,1,12,"mat-tab-body",5),e.qZA()),2&d&&(e.Q6J("selectedIndex",m.selectedIndex||0)("disableRipple",m.disableRipple)("disablePagination",m.disablePagination),e.xp6(2),e.Q6J("ngForOf",m._tabs),e.xp6(1),e.ekj("_mat-animation-noopable","NoopAnimations"===m._animationMode),e.xp6(2),e.Q6J("ngForOf",m._tabs))},dependencies:[s.mk,s.sg,s.O5,a.Pl,x.wG,i.kH,g,he,se],styles:['.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-tracking);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-top-width:var(--mdc-tab-indicator-active-indicator-height)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:not(.mdc-tab--stacked){height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab:not(:disabled).mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2})}}return R})();class J{}let S=0,Q=(()=>{class R extends Pt{get backgroundColor(){return this._backgroundColor}set backgroundColor(r){const d=this._elementRef.nativeElement.classList;d.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),r&&d.add("mat-tabs-with-background",`mat-background-${r}`),this._backgroundColor=r}get disableRipple(){return this._disableRipple}set disableRipple(r){this._disableRipple=(0,Z.Ig)(r)}constructor(r,d,m,F,mt,Nt,Jt){super(r,F,mt,d,m,Nt,Jt),this._disableRipple=!1,this.color="primary"}_itemSelected(){}ngAfterContentInit(){this._items.changes.pipe((0,N.O)(null),(0,E.R)(this._destroyed)).subscribe(()=>{this.updateActiveLink()}),super.ngAfterContentInit()}updateActiveLink(){if(!this._items)return;const r=this._items.toArray();for(let d=0;d<r.length;d++)if(r[d].active)return this.selectedIndex=d,this._changeDetectorRef.markForCheck(),void(this.tabPanel&&(this.tabPanel._activeTabId=r[d].id));this.selectedIndex=-1,this._inkBar.hide()}_getRole(){return this.tabPanel?"tablist":this._elementRef.nativeElement.getAttribute("role")}static{this.\u0275fac=function(d){return new(d||R)(e.Y36(e.SBq),e.Y36(K.Is,8),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(z.rL),e.Y36(ct.t4),e.Y36(e.QbO,8))}}static{this.\u0275dir=e.lG2({type:R,inputs:{backgroundColor:"backgroundColor",disableRipple:"disableRipple",color:"color",tabPanel:"tabPanel"},features:[e.qOj]})}}return R})();const Ot=(0,x.sb)((0,x.Kr)((0,x.Id)(class{}))),Ht=Kt((()=>{class R extends Ot{get active(){return this._isActive}set active(r){const d=(0,Z.Ig)(r);d!==this._isActive&&(this._isActive=d,this._tabNavBar.updateActiveLink())}get rippleDisabled(){return this.disabled||this.disableRipple||this._tabNavBar.disableRipple||!!this.rippleConfig.disabled}constructor(r,d,m,F,mt,Nt){super(),this._tabNavBar=r,this.elementRef=d,this._focusMonitor=mt,this._isActive=!1,this.id="mat-tab-link-"+S++,this.rippleConfig=m||{},this.tabIndex=parseInt(F)||0,"NoopAnimations"===Nt&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}focus(){this.elementRef.nativeElement.focus()}ngAfterViewInit(){this._focusMonitor.monitor(this.elementRef)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this.elementRef)}_handleFocus(){this._tabNavBar.focusIndex=this._tabNavBar._items.toArray().indexOf(this)}_handleKeydown(r){(r.keyCode===tt.L_||r.keyCode===tt.K5)&&(this.disabled?r.preventDefault():this._tabNavBar.tabPanel&&this.elementRef.nativeElement.click())}_getAriaControls(){return this._tabNavBar.tabPanel?this._tabNavBar.tabPanel?.id:this.elementRef.nativeElement.getAttribute("aria-controls")}_getAriaSelected(){return this._tabNavBar.tabPanel?this.active?"true":"false":this.elementRef.nativeElement.getAttribute("aria-selected")}_getAriaCurrent(){return this.active&&!this._tabNavBar.tabPanel?"page":null}_getRole(){return this._tabNavBar.tabPanel?"tab":this.elementRef.nativeElement.getAttribute("role")}_getTabIndex(){return this._tabNavBar.tabPanel?this._isActive&&!this.disabled?0:-1:this.tabIndex}static{this.\u0275fac=function(d){return new(d||R)(e.Y36(Q),e.Y36(e.SBq),e.Y36(x.Y2,8),e.$8M("tabindex"),e.Y36(i.tE),e.Y36(e.QbO,8))}}static{this.\u0275dir=e.lG2({type:R,inputs:{active:"active",id:"id"},features:[e.qOj]})}}return R})());let ee=(()=>{class R extends Q{get fitInkBarToContent(){return this._fitInkBarToContent.value}set fitInkBarToContent(r){this._fitInkBarToContent.next((0,Z.Ig)(r)),this._changeDetectorRef.markForCheck()}get stretchTabs(){return this._stretchTabs}set stretchTabs(r){this._stretchTabs=(0,Z.Ig)(r)}get animationDuration(){return this._animationDuration}set animationDuration(r){this._animationDuration=/^\d+$/.test(r+"")?r+"ms":r}constructor(r,d,m,F,mt,Nt,Jt,ne){super(r,d,m,F,mt,Nt,Jt),this._fitInkBarToContent=new at.X(!1),this._stretchTabs=!0,this.disablePagination=!(!ne||null==ne.disablePagination)&&ne.disablePagination,this.fitInkBarToContent=!(!ne||null==ne.fitInkBarToContent)&&ne.fitInkBarToContent,this.stretchTabs=!ne||null==ne.stretchTabs||ne.stretchTabs}ngAfterContentInit(){this._inkBar=new Yt(this._items),super.ngAfterContentInit()}ngAfterViewInit(){super.ngAfterViewInit()}static{this.\u0275fac=function(d){return new(d||R)(e.Y36(e.SBq),e.Y36(K.Is,8),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(z.rL),e.Y36(ct.t4),e.Y36(e.QbO,8),e.Y36(ie,8))}}static{this.\u0275cmp=e.Xpm({type:R,selectors:[["","mat-tab-nav-bar",""]],contentQueries:function(d,m,F){if(1&d&&e.Suo(F,jt,5),2&d){let mt;e.iGM(mt=e.CRH())&&(m._items=mt)}},viewQuery:function(d,m){if(1&d&&(e.Gf(ut,7),e.Gf(rt,7),e.Gf(_t,7),e.Gf(bt,5),e.Gf(Mt,5)),2&d){let F;e.iGM(F=e.CRH())&&(m._tabListContainer=F.first),e.iGM(F=e.CRH())&&(m._tabList=F.first),e.iGM(F=e.CRH())&&(m._tabListInner=F.first),e.iGM(F=e.CRH())&&(m._nextPaginator=F.first),e.iGM(F=e.CRH())&&(m._previousPaginator=F.first)}},hostAttrs:[1,"mat-mdc-tab-nav-bar","mat-mdc-tab-header"],hostVars:17,hostBindings:function(d,m){2&d&&(e.uIk("role",m._getRole()),e.Udp("--mat-tab-animation-duration",m.animationDuration),e.ekj("mat-mdc-tab-header-pagination-controls-enabled",m._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==m._getLayoutDirection())("mat-mdc-tab-nav-bar-stretch-tabs",m.stretchTabs)("mat-primary","warn"!==m.color&&"accent"!==m.color)("mat-accent","accent"===m.color)("mat-warn","warn"===m.color)("_mat-animation-noopable","NoopAnimations"===m._animationMode))},inputs:{color:"color",fitInkBarToContent:"fitInkBarToContent",stretchTabs:["mat-stretch-tabs","stretchTabs"],animationDuration:"animationDuration"},exportAs:["matTabNavBar","matTabNav"],features:[e.qOj],attrs:I,ngContentSelectors:q,decls:13,vars:8,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-link-container",3,"keydown"],["tabListContainer",""],[1,"mat-mdc-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-mdc-tab-links"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(d,m){1&d&&(e.F$t(),e.TgZ(0,"button",0,1),e.NdJ("click",function(){return m._handlePaginatorClick("before")})("mousedown",function(mt){return m._handlePaginatorPress("before",mt)})("touchend",function(){return m._stopInterval()}),e._UZ(2,"div",2),e.qZA(),e.TgZ(3,"div",3,4),e.NdJ("keydown",function(mt){return m._handleKeydown(mt)}),e.TgZ(5,"div",5,6),e.NdJ("cdkObserveContent",function(){return m._onContentChanges()}),e.TgZ(7,"div",7,8),e.Hsn(9),e.qZA()()(),e.TgZ(10,"button",9,10),e.NdJ("mousedown",function(mt){return m._handlePaginatorPress("after",mt)})("click",function(){return m._handlePaginatorClick("after")})("touchend",function(){return m._stopInterval()}),e._UZ(12,"div",2),e.qZA()),2&d&&(e.ekj("mat-mdc-tab-header-pagination-disabled",m._disableScrollBefore),e.Q6J("matRippleDisabled",m._disableScrollBefore||m.disableRipple)("disabled",m._disableScrollBefore||null),e.xp6(10),e.ekj("mat-mdc-tab-header-pagination-disabled",m._disableScrollAfter),e.Q6J("matRippleDisabled",m._disableScrollAfter||m.disableRipple)("disabled",m._disableScrollAfter||null))},dependencies:[x.wG,W.wD],styles:[".mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0;--mdc-tab-indicator-active-indicator-height:2px;--mdc-tab-indicator-active-indicator-shape:0;--mdc-secondary-navigation-tab-container-height:48px}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-links{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-link-container .mat-mdc-tab-links{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-link-container .mat-mdc-tab-links{justify-content:flex-end}.mat-mdc-tab-link-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background.mat-primary>.mat-mdc-tab-link-container .mat-mdc-tab-link .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background.mat-primary>.mat-mdc-tab-link-container .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-link-container .mat-mdc-tab-link:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-link-container .mat-mdc-tab-link:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-mdc-focus-indicator::before,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-ripple-element,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mdc-tab__ripple::before,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}"],encapsulation:2})}}return R})(),jt=(()=>{class R extends Ht{constructor(r,d,m,F,mt,Nt){super(r,d,m,F,mt,Nt),this._destroyed=new k.x,r._fitInkBarToContent.pipe((0,E.R)(this._destroyed)).subscribe(Jt=>{this.fitInkBarToContent=Jt})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),super.ngOnDestroy()}static{this.\u0275fac=function(d){return new(d||R)(e.Y36(ee),e.Y36(e.SBq),e.Y36(x.Y2,8),e.$8M("tabindex"),e.Y36(i.tE),e.Y36(e.QbO,8))}}static{this.\u0275cmp=e.Xpm({type:R,selectors:[["","mat-tab-link",""],["","matTabLink",""]],hostAttrs:[1,"mdc-tab","mat-mdc-tab-link","mat-mdc-focus-indicator"],hostVars:11,hostBindings:function(d,m){1&d&&e.NdJ("focus",function(){return m._handleFocus()})("keydown",function(mt){return m._handleKeydown(mt)}),2&d&&(e.uIk("aria-controls",m._getAriaControls())("aria-current",m._getAriaCurrent())("aria-disabled",m.disabled)("aria-selected",m._getAriaSelected())("id",m.id)("tabIndex",m._getTabIndex())("role",m._getRole()),e.ekj("mat-mdc-tab-disabled",m.disabled)("mdc-tab--active",m.active))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",active:"active",id:"id"},exportAs:["matTabLink"],features:[e.qOj],attrs:b,ngContentSelectors:q,decls:5,vars:2,consts:[[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"]],template:function(d,m){1&d&&(e.F$t(),e._UZ(0,"span",0)(1,"div",1),e.TgZ(2,"span",2)(3,"span",3),e.Hsn(4),e.qZA()()),2&d&&(e.xp6(1),e.Q6J("matRippleTrigger",m.elementRef.nativeElement)("matRippleDisabled",m.rippleDisabled))},dependencies:[x.wG],styles:['.mat-mdc-tab-link{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-tracking);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab-link .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color)}.mat-mdc-tab-link .mdc-tab-indicator__content--underline{border-top-width:var(--mdc-tab-indicator-active-indicator-height)}.mat-mdc-tab-link .mdc-tab-indicator__content--underline{border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab-link:not(.mdc-tab--stacked){height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab-link:not(:disabled).mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:not(:disabled):hover.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:not(:disabled):focus.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:not(:disabled):active.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:disabled.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:not(:disabled):not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:not(:disabled):hover:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:not(:disabled):focus:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:not(:disabled):active:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:disabled:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link.mdc-tab{flex-grow:0}.mat-mdc-tab-link:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab-link:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab-link.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab-link.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab-link.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab-link.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab-link.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab-link.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab-link.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab-link.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab-link.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab-link.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab-link.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab-link .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-link .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab-link .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab-link:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab-link.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab-link.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab-link .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header.mat-mdc-tab-nav-bar-stretch-tabs .mat-mdc-tab-link{flex-grow:1}.mat-mdc-tab-link::before{margin:5px}@media(max-width: 599px){.mat-mdc-tab-link{min-width:72px}}'],encapsulation:2,changeDetection:0})}}return R})(),be=(()=>{class R{constructor(){this.id="mat-tab-nav-panel-"+S++}static{this.\u0275fac=function(d){return new(d||R)}}static{this.\u0275cmp=e.Xpm({type:R,selectors:[["mat-tab-nav-panel"]],hostAttrs:["role","tabpanel",1,"mat-mdc-tab-nav-panel"],hostVars:2,hostBindings:function(d,m){2&d&&e.uIk("aria-labelledby",m._activeTabId)("id",m.id)},inputs:{id:"id"},exportAs:["matTabNavPanel"],ngContentSelectors:q,decls:1,vars:0,template:function(d,m){1&d&&(e.F$t(),e.Hsn(0))},encapsulation:2,changeDetection:0})}}return R})(),Ce=(()=>{class R{static{this.\u0275fac=function(d){return new(d||R)}}static{this.\u0275mod=e.oAB({type:R})}static{this.\u0275inj=e.cJS({imports:[s.ez,x.BQ,a.eL,x.si,W.Q8,i.rt,x.BQ]})}}return R})()},373:(Lt,lt,o)=>{o.d(lt,{Z:()=>A});const a=function s(B){return function(st,t,at){for(var N=-1,j=Object(st),E=at(st),c=E.length;c--;){var h=E[B?c:++N];if(!1===t(j[h],h,j))break}return st}}();var W=o(0);var H=o(6247);const A=function k(B,st){return function(t,at){if(null==t)return t;if(!(0,H.Z)(t))return B(t,at);for(var N=t.length,j=st?N:-1,E=Object(t);(st?j--:++j<N)&&!1!==at(E[j],j,E););return t}}(function i(B,st){return B&&a(B,st,W.Z)})},2159:(Lt,lt,o)=>{o.d(lt,{Z:()=>x});var s=o(7106);const x=function e(a,W,i){for(var K=-1,H=a.length;++K<H;){var k=a[K],_=W(k);if(null!=_&&(void 0===n?_==_&&!(0,s.Z)(_):i(_,n)))var n=_,A=k}return A}},4957:(Lt,lt,o)=>{o.d(lt,{Z:()=>e});const e=function s(x,a){return x>a}},9580:(Lt,lt,o)=>{o.d(lt,{Z:()=>E});var s=o(2720),e=o(4818),x=o(4746),a=o(373),W=o(6247);var _=o(8733),n=o(7106);const B=function A(c,h){if(c!==h){var P=void 0!==c,M=null===c,y=c==c,Z=(0,n.Z)(c),z=void 0!==h,ct=null===h,tt=h==h,nt=(0,n.Z)(h);if(!ct&&!nt&&!Z&&c>h||Z&&z&&tt&&!ct&&!nt||M&&z&&tt||!P&&tt||!y)return 1;if(!M&&!Z&&!nt&&c<h||nt&&P&&y&&!M&&!Z||ct&&P&&y||!z&&y||!tt)return-1}return 0};var at=o(1974),N=o(9977);const E=function j(c,h,P){h=h.length?(0,s.Z)(h,function(Z){return(0,N.Z)(Z)?function(z){return(0,e.Z)(z,1===Z.length?Z[0]:Z)}:Z}):[at.Z];var M=-1;h=(0,s.Z)(h,(0,_.Z)(x.Z));var y=function i(c,h){var P=-1,M=(0,W.Z)(c)?Array(c.length):[];return(0,a.Z)(c,function(y,Z,z){M[++P]=h(y,Z,z)}),M}(c,function(Z,z,ct){return{criteria:(0,s.Z)(h,function(nt){return nt(Z)}),index:++M,value:Z}});return function H(c,h){var P=c.length;for(c.sort(h);P--;)c[P]=c[P].value;return c}(y,function(Z,z){return function st(c,h,P){for(var M=-1,y=c.criteria,Z=h.criteria,z=y.length,ct=P.length;++M<z;){var tt=B(y[M],Z[M]);if(tt)return M>=ct?tt:tt*("desc"==P[M]?-1:1)}return c.index-h.index}(Z,z,P)})}},1799:(Lt,lt,o)=>{o.d(lt,{Z:()=>i});var s=o(8418),e=o(6247),x=o(9229),a=o(5829);const i=function W(K,H,k){if(!(0,a.Z)(k))return!1;var _=typeof H;return!!("number"==_?(0,e.Z)(k)&&(0,x.Z)(H,k.length):"string"==_&&H in k)&&(0,s.Z)(k[H],K)}},5601:(Lt,lt,o)=>{o.d(lt,{Z:()=>st});var s=o(6041);const x=function e(t,at,N,j){for(var E=-1,c=null==t?0:t.length;++E<c;){var h=t[E];at(j,h,N(h),t)}return j};var a=o(373);const i=function W(t,at,N,j){return(0,a.Z)(t,function(E,c,h){at(j,E,N(E),h)}),j};var K=o(4746),H=o(9977),A=Object.prototype.hasOwnProperty;const st=function k(t,at){return function(N,j){var E=(0,H.Z)(N)?x:i,c=at?at():{};return E(N,t,(0,K.Z)(j,2),c)}}(function(t,at,N){A.call(t,N)?t[N].push(at):(0,s.Z)(t,N,[at])})},5684:(Lt,lt,o)=>{o.d(lt,{Z:()=>a});var s=o(9580),e=o(9977);const a=function x(W,i,K,H){return null==W?[]:((0,e.Z)(i)||(i=null==i?[]:[i]),(0,e.Z)(K=H?void 0:K)||(K=null==K?[]:[K]),(0,s.Z)(W,i,K))}},9768:(Lt,lt,o)=>{o.d(lt,{Z:()=>_});var s=Math.ceil,e=Math.max;var W=o(1799),i=o(231);const _=function K(n){return function(A,B,st){return st&&"number"!=typeof st&&(0,W.Z)(A,B,st)&&(B=st=void 0),A=(0,i.Z)(A),void 0===B?(B=A,A=0):B=(0,i.Z)(B),function x(n,A,B,st){for(var t=-1,at=e(s((A-n)/(B||1)),0),N=Array(at);at--;)N[st?at:++t]=n,n+=B;return N}(A,B,st=void 0===st?A<B?1:-1:(0,i.Z)(st),n)}}()},6708:(Lt,lt,o)=>{o.d(lt,{Z:()=>i});var s=o(4583),e=o(9580),x=o(2447),a=o(1799);const i=(0,x.Z)(function(K,H){if(null==K)return[];var k=H.length;return k>1&&(0,a.Z)(K,H[0],H[1])?H=[]:k>2&&(0,a.Z)(H[0],H[1],H[2])&&(H=[H[0]]),(0,e.Z)(K,(0,s.Z)(H,1),[])})},231:(Lt,lt,o)=>{o.d(lt,{Z:()=>E});var s=/\s/;var a=/^\s+/;const i=function W(c){return c&&c.slice(0,function e(c){for(var h=c.length;h--&&s.test(c.charAt(h)););return h}(c)+1).replace(a,"")};var K=o(5829),H=o(7106),_=/^[-+]0x[0-9a-f]+$/i,n=/^0b[01]+$/i,A=/^0o[0-7]+$/i,B=parseInt;const E=function j(c){return c?1/0===(c=function st(c){if("number"==typeof c)return c;if((0,H.Z)(c))return NaN;if((0,K.Z)(c)){var h="function"==typeof c.valueOf?c.valueOf():c;c=(0,K.Z)(h)?h+"":h}if("string"!=typeof c)return 0===c?c:+c;c=i(c);var P=n.test(c);return P||A.test(c)?B(c.slice(2),P?2:8):_.test(c)?NaN:+c}(c))||-1/0===c?17976931348623157e292*(c<0?-1:1):c==c?c:0:0===c?c:0}}}]);
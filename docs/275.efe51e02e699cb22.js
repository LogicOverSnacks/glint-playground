"use strict";(self.webpackChunkgit_glint=self.webpackChunkgit_glint||[]).push([[275],{5773:(wt,H,r)=>{r.d(H,{F:()=>t});var A=r(4650);class t extends A.SBq{constructor(K){super(K.nativeElement)}static{this.\u0275fac=function(p){return new(p||t)(A.Y36(A.SBq))}}static{this.\u0275dir=A.lG2({type:t,selectors:[["","appElementRef",""]],exportAs:["appElementRef"],features:[A.qOj]})}}},7275:(wt,H,r)=>{r.r(H),r.d(H,{SettingsLayoutModule:()=>xt});var A=r(6338),t=r(4650),w=r(3238),K=r(3353),p=r(6895);const bt=["*",[["mat-toolbar-row"]]],nt=["*","mat-toolbar-row"],B=(0,w.pj)(class{constructor(n){this._elementRef=n}});let Vt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=t.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),vt=(()=>{class n extends B{constructor(e,o,i){super(e),this._platform=o,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(K.t4),t.Y36(p.K0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,o,i){if(1&e&&t.Suo(i,Vt,5),2&e){let l;t.iGM(l=t.CRH())&&(o._toolbarRows=l)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,o){2&e&&t.ekj("mat-toolbar-multiple-rows",o._toolbarRows.length>0)("mat-toolbar-single-row",0===o._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[t.qOj],ngContentSelectors:nt,decls:2,vars:0,template:function(e,o){1&e&&(t.F$t(bt),t.Hsn(0),t.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),Et=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[w.BQ,w.BQ]}),n})();var F=r(3179),Qt=r(4398),g=r(9549),L=r(284),Mt=r(1281);const Ft=new t.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS"),Dt=(0,w.pj)(class{constructor(n){this._elementRef=n}},"primary");let Gt=(()=>{class n extends Dt{constructor(e,o,i,l,c){super(e),this._ngZone=o,this._changeDetectorRef=i,this._animationMode=l,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new t.vpe,this._mode="determinate",this._transitionendHandler=C=>{0===this.animationEnd.observers.length||!C.target||!C.target.classList.contains("mdc-linear-progress__primary-bar")||("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation="NoopAnimations"===l,c&&(c.color&&(this.color=this.defaultColor=c.color),this.mode=c.mode||this.mode)}get value(){return this._value}set value(e){this._value=At((0,Mt.su)(e)),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(e){this._bufferValue=At((0,Mt.su)(e)),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(e){this._mode=e,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${"buffer"===this.mode?this.bufferValue:100}%`}_isIndeterminate(){return"indeterminate"===this.mode||"query"===this.mode}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.R0b),t.Y36(t.sBO),t.Y36(t.QbO,8),t.Y36(Ft,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:8,hostBindings:function(e,o){2&e&&(t.uIk("aria-valuenow",o._isIndeterminate()?null:o.value)("mode",o.mode),t.ekj("_mat-animation-noopable",o._isNoopAnimation)("mdc-linear-progress--animation-ready",!o._isNoopAnimation)("mdc-linear-progress--indeterminate",o._isIndeterminate()))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[t.qOj],decls:7,vars:4,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"div",1)(2,"div",2),t.qZA(),t.TgZ(3,"div",3),t._UZ(4,"span",4),t.qZA(),t.TgZ(5,"div",5),t._UZ(6,"span",4),t.qZA()),2&e&&(t.xp6(1),t.Udp("flex-basis",o._getBufferBarFlexBasis()),t.xp6(2),t.Udp("transform",o._getPrimaryBarTransform()))},styles:["@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half, 83.67142%))}100%{transform:translateX(var(--mdc-linear-progress-primary-full, 200.611057%))}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter, 37.651913%))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half, 84.386165%))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full, 160.277782%))}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(-10px)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half-neg, -83.67142%))}100%{transform:translateX(var(--mdc-linear-progress-primary-full-neg, -200.611057%))}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter-neg, -37.651913%))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half-neg, -84.386165%))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full-neg, -160.277782%))}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}@media screen and (forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;width:100%;height:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid}.mdc-linear-progress__buffer{display:flex;position:absolute;width:100%;height:100%}.mdc-linear-progress__buffer-dots{background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__bar{right:0;-webkit-transform-origin:center right;transform-origin:center right}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__buffer-dots,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}.mdc-linear-progress--closed{opacity:0}.mdc-linear-progress--closed-animation-off .mdc-linear-progress__buffer-dots{animation:none}.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar,.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar .mdc-linear-progress__bar-inner{animation:none}.mdc-linear-progress__bar-inner{border-color:var(--mdc-linear-progress-active-indicator-color, #6200ee)}.mdc-linear-progress__buffer-dots{background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='%23e6e6e6'/%3E%3C/svg%3E\")}.mdc-linear-progress__buffer-bar{background-color:#e6e6e6}.mdc-linear-progress{height:var(--mdc-linear-progress-track-height, 4px)}.mdc-linear-progress__bar-inner{border-top-width:var(--mdc-linear-progress-track-height, 4px)}.mdc-linear-progress__buffer-dots{background-size:10px var(--mdc-linear-progress-track-height, 4px)}.mat-mdc-progress-bar{display:block}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}"],encapsulation:2,changeDetection:0}),n})();function At(n,a=0,e=100){return Math.max(a,Math.min(e,n))}let jt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[w.BQ]}),n})();var v=r(4385);class ot{static{this.\u0275fac=function(e){return new(e||ot)}}static{this.\u0275mod=t.oAB({type:ot})}static{this.\u0275inj=t.cJS({imports:[g.lN,L.c,jt,v.LD,F.I]})}}var _=r(5412);class it{static{this.\u0275fac=function(e){return new(e||it)}}static{this.\u0275mod=t.oAB({type:it})}static{this.\u0275inj=t.cJS({imports:[_.Is,g.lN,L.c,v.LD,F.I]})}}var at=r(6709),rt=r(1572);class z{static{this.\u0275fac=function(e){return new(e||z)}}static{this.\u0275mod=t.oAB({type:z})}static{this.\u0275inj=t.cJS({imports:[v.LD,rt.Cq,F.I]})}}class st{static{this.\u0275fac=function(e){return new(e||st)}}static{this.\u0275mod=t.oAB({type:st})}static{this.\u0275inj=t.cJS({imports:[at.p9,_.Is,g.lN,L.c,rt.Cq,v.LD,F.I,z]})}}class lt{static{this.\u0275fac=function(e){return new(e||lt)}}static{this.\u0275mod=t.oAB({type:lt})}static{this.\u0275inj=t.cJS({imports:[at.p9,_.Is,g.lN,L.c,v.LD,F.I]})}}var W=r(7084),Ht=r(7093),Kt=r(6093),Bt=r(3612);class ct{static{this.\u0275fac=function(e){return new(e||ct)}}static{this.\u0275mod=t.oAB({type:ct})}static{this.\u0275inj=t.cJS({imports:[_.Is,W.To,g.lN,L.c,v.LD,F.I,Ht.v,Kt.i,Bt.e]})}}class pt{static{this.\u0275fac=function(e){return new(e||pt)}}static{this.\u0275mod=t.oAB({type:pt})}static{this.\u0275inj=t.cJS({imports:[v.LD,F.I,z]})}}var k=r(2367),f=r(655),d=r(7340),s=r(4006),m=r(9867),y=r(1135),$t=r(5963),h=r(2722),Tt=r(9300),mt=r(3900),N=r(8926),U=r(9967),gt=r(4889),dt=r(4317),Xt=r(6901),Z=r(4859),S=r(7392),J=r(4442);function zt(n,a){1&n&&(t.TgZ(0,"div",11),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.Q6J("@slideDown",void 0),t.xp6(1),t.hij(" ",t.lcZ(2,2,"No update available."),"\n"))}const Lt=function(n){return{version:n}};function Wt(n,a){if(1&n&&(t.TgZ(0,"div",11),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"async"),t.qZA()),2&n){const e=t.oxw();t.Q6J("@slideDown",void 0),t.xp6(1),t.hij(" ",t.xi3(2,2,"Update to version _version_ is available.",t.VKq(7,Lt,t.lcZ(3,5,e.availableVersion))),"\n")}}function te(n,a){if(1&n&&(t.TgZ(0,"div",11),t._uU(1),t.ALo(2,"translate"),t._UZ(3,"mat-progress-bar",12),t.ALo(4,"async"),t.qZA()),2&n){const e=t.oxw();t.Q6J("@slideDown",void 0),t.xp6(1),t.hij(" ",t.lcZ(2,3,"Downloading:")," "),t.xp6(2),t.Q6J("value",t.lcZ(4,5,e.downloadProgress))}}function ee(n,a){if(1&n&&(t.TgZ(0,"div",11),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"async"),t.qZA()),2&n){const e=t.oxw();t.Q6J("@slideDown",void 0),t.xp6(1),t.hij(" ",t.xi3(2,2,"Update to version _version_ has been downloaded, restart Glint to install.",t.VKq(7,Lt,t.lcZ(3,5,e.availableVersion))),"\n")}}let ne=(()=>{class n extends((0,N.j)(U.A)){constructor(e,o,i){super(),this.router=e,this.store=o,this.updatesApiService=i,this.channelControl=new s.NI("latest",{nonNullable:!0}),this.version=new y.X(""),this.forceDisplayUpdateMessage=new y.X(!1)}ngOnInit(){this.updatesApiService.getVersion().subscribe(e=>{this.version.next(e)}),this.updatesApiService.getUpdateChannel().subscribe(e=>{this.channelControl.setValue(e,{emitEvent:!1})}),this.channelControl.valueChanges.pipe((0,h.R)(this.destroyed$)).subscribe(e=>{this.channelControl.disable({emitEvent:!1}),this.updatesApiService.setUpdateChannel(e).subscribe(()=>{this.channelControl.enable({emitEvent:!1})})}),this.forceDisplayUpdateMessage.pipe((0,Tt.h)(e=>e),(0,mt.w)(()=>(0,$t.H)(1e4)),(0,h.R)(this.destroyed$)).subscribe(()=>{this.forceDisplayUpdateMessage.next(!1)})}openChangelog(){this.store.dispatch(new gt.BZ(null)).subscribe(()=>{this.router.navigate(["/standard/changelog"])})}update(){this.updatesApiService.checkForUpdates().subscribe(()=>{this.forceDisplayUpdateMessage.next(!0)})}reportBug(){window.open("https://github.com/LogicOverSnacks/glint-release/issues/new?assignees=&labels=bug&template=bug_report.md&title=")}requestFeature(){window.open("https://github.com/LogicOverSnacks/glint-release/issues/new?assignees=&labels=enhancement&template=feature_request.md&title=")}static{this.\u0275fac=function(o){return new(o||n)(t.Y36(k.F0),t.Y36(m.yh),t.Y36(Xt.j))}}static{this.\u0275cmp=t.Xpm({type:n,selectors:[["ng-component"]],features:[t.qOj],decls:45,vars:47,consts:[["type","button","mat-stroked-button","","color","primary",1,"changelog-btn",3,"click"],[1,"updates"],["type","button","mat-stroked-button","",1,"update-btn",3,"click"],["subscriptSizing","dynamic"],[3,"formControl"],["value","alpha"],["value","beta"],["value","latest"],["class","updates-message",4,"ngIf"],["type","button","mat-stroked-button","","color","primary",1,"issues-btn","request-feature-btn",3,"click"],["type","button","mat-stroked-button","","color","warn",1,"issues-btn","report-issue-btn",3,"click"],[1,"updates-message"],["mode","determinate",3,"value"]],template:function(o,i){1&o&&(t.TgZ(0,"h2"),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"async"),t.TgZ(4,"button",0),t.NdJ("click",function(){return i.openChangelog()}),t.TgZ(5,"mat-icon"),t._uU(6,"auto_awesome"),t.qZA(),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.TgZ(9,"div",1)(10,"button",2),t.NdJ("click",function(){return i.update()}),t.TgZ(11,"mat-icon"),t._uU(12,"update"),t.qZA(),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"mat-form-field",3)(16,"mat-label"),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"mat-select",4)(20,"mat-option",5),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"mat-option",6),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"mat-option",7),t._uU(27),t.ALo(28,"translate"),t.qZA()()()(),t.YNc(29,zt,3,4,"div",8),t.ALo(30,"async"),t.ALo(31,"async"),t.YNc(32,Wt,4,9,"div",8),t.ALo(33,"async"),t.ALo(34,"async"),t.YNc(35,te,5,7,"div",8),t.ALo(36,"async"),t.YNc(37,ee,4,9,"div",8),t.ALo(38,"async"),t.TgZ(39,"button",9),t.NdJ("click",function(){return i.requestFeature()}),t._uU(40),t.ALo(41,"translate"),t.qZA(),t.TgZ(42,"button",10),t.NdJ("click",function(){return i.reportBug()}),t._uU(43),t.ALo(44,"translate"),t.qZA()),2&o&&(t.xp6(1),t.AsE(" ",t.lcZ(2,15,"Version:")," ",t.lcZ(3,17,i.version)," "),t.xp6(6),t.Oqu(t.lcZ(8,19,"Release Notes")),t.xp6(6),t.hij("",t.lcZ(14,21,"Check for updates")," "),t.xp6(4),t.Oqu(t.lcZ(18,23,"Update Channel")),t.xp6(2),t.Q6J("formControl",i.channelControl),t.xp6(2),t.Oqu(t.lcZ(22,25,"alpha")),t.xp6(3),t.Oqu(t.lcZ(25,27,"beta")),t.xp6(3),t.Oqu(t.lcZ(28,29,"stable")),t.xp6(2),t.Q6J("ngIf",t.lcZ(30,31,i.forceDisplayUpdateMessage)&&null===t.lcZ(31,33,i.updateState)),t.xp6(3),t.Q6J("ngIf","available"===t.lcZ(33,35,i.updateState)||"downloading"===t.lcZ(34,37,i.updateState)),t.xp6(3),t.Q6J("ngIf","downloading"===t.lcZ(36,39,i.updateState)),t.xp6(2),t.Q6J("ngIf","done"===t.lcZ(38,41,i.updateState)),t.xp6(3),t.Oqu(t.lcZ(41,43,"Request a feature")),t.xp6(3),t.Oqu(t.lcZ(44,45,"Report an issue")))},dependencies:[g.KE,g.hX,Gt,v.gD,w.ey,p.O5,s.JJ,s.oH,Z.lW,S.Hw,p.Ov,J.X],styles:["[_nghost-%COMP%]{padding:10px}.changelog-btn[_ngcontent-%COMP%]{margin-left:10px;gap:5px}.updates[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:20px}.updates[_ngcontent-%COMP%]   .update-btn[_ngcontent-%COMP%]{min-width:212px;gap:5px;height:56px}.updates-message[_ngcontent-%COMP%]{overflow:hidden;margin-bottom:20px;max-width:434px}.issues-btn[_ngcontent-%COMP%]{margin-right:10px}.issues-btn[_ngcontent-%COMP%]:last-child{margin-right:0}"],data:{animation:[(0,d.X$)("slideDown",[(0,d.eR)(":enter",[(0,d.oB)({height:0,"margin-bottom":0}),(0,d.jt)("300ms ease-in-out",(0,d.oB)([{height:"*","margin-bottom":"*"}]))]),(0,d.eR)(":leave",[(0,d.oB)({height:"*","margin-bottom":"*"}),(0,d.jt)("300ms ease-in-out",(0,d.oB)([{height:0,"margin-bottom":0}]))])])]},changeDetection:0})}}return(0,f.gn)([(0,m.Ph)(dt.xS.updateState)],n.prototype,"updateState",void 0),(0,f.gn)([(0,m.Ph)(dt.xS.availableVersion)],n.prototype,"availableVersion",void 0),(0,f.gn)([(0,m.Ph)(dt.xS.downloadProgress)],n.prototype,"downloadProgress",void 0),n})();var R=r(4004),V=r(8746),I=r(3825),Zt=r(5938),T=r(9578),b=r(4924),oe=r(2333),ie=r(6271),O=r(3546),Y=r(266),yt=r(3051);const ae=["dialog"];function re(n,a){if(1&n&&t._UZ(0,"app-avatar",12),2&n){const e=t.oxw().$implicit;t.Q6J("email",e.value.credentialName)}}function se(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,l=t.oxw();return t.KtG(l.copyPublicKey(i.value.publicKeyPath))}),t.ALo(1,"translate"),t.TgZ(2,"mat-icon"),t._uU(3,"content_copy"),t.qZA()()}2&n&&t.Q6J("matTooltip",t.lcZ(1,1,"Copy public key to clipboard"))}function le(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"mat-card",6)(1,"mat-card-header"),t.YNc(2,re,1,1,"app-avatar",7),t.TgZ(3,"mat-card-title",8),t._uU(4),t.qZA(),t.TgZ(5,"mat-card-subtitle",8),t._uU(6),t.qZA()(),t.TgZ(7,"mat-card-actions"),t.YNc(8,se,4,3,"button",9),t.TgZ(9,"button",10),t.NdJ("click",function(){const l=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.editCredential(l.key,l.value))}),t.ALo(10,"translate"),t.TgZ(11,"mat-icon"),t._uU(12,"edit"),t.qZA()(),t.TgZ(13,"button",11),t.NdJ("click",function(){const l=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.deleteCredential(l.key))}),t.ALo(14,"translate"),t.TgZ(15,"mat-icon"),t._uU(16,"delete"),t.qZA()()()()}if(2&n){const e=a.$implicit;t.xp6(2),t.Q6J("ngIf",e.value.credentialName),t.xp6(1),t.Q6J("matTooltip",e.value.credentialName),t.xp6(1),t.Oqu(e.value.credentialName),t.xp6(1),t.Q6J("matTooltip",e.value.description||""),t.xp6(1),t.Oqu(e.value.description),t.xp6(2),t.Q6J("ngIf","ssh"===e.value.type),t.xp6(1),t.Q6J("matTooltip",t.lcZ(10,8,"Edit")),t.xp6(4),t.Q6J("matTooltip",t.lcZ(14,10,"Delete"))}}function ce(n,a){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Credential name is required")," "))}function pe(n,a){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Invalid !ssh! key or password")," "))}function me(n,a){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Private !ssh! key is required")," "))}function ge(n,a){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Invalid !ssh! key or password")," "))}function de(n,a){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Public !ssh! key is required")," "))}function ue(n,a){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Invalid !ssh! key or password")," "))}function _e(n,a){if(1&n){const e=t.EpF();t.ynx(0,27),t.TgZ(1,"mat-form-field",16)(2,"mat-label"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"input",28),t.ALo(6,"translate"),t.TgZ(7,"mat-icon",29),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.showPassword=!i.showPassword)}),t._uU(8),t.qZA(),t.YNc(9,pe,3,3,"mat-error",21),t.qZA(),t.TgZ(10,"mat-form-field",16)(11,"mat-label"),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"input",30),t.NdJ("focus",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.openDialogIfEmpty("privateKeyPath"))}),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"mat-icon",31),t.NdJ("click",function(i){return t.CHM(e),t.oxw(2).openDialog("privateKeyPath"),t.KtG(i.stopPropagation())}),t._uU(17,"folder"),t.qZA(),t.YNc(18,me,3,3,"mat-error",21),t.YNc(19,ge,3,3,"mat-error",21),t.qZA(),t.TgZ(20,"mat-form-field",16)(21,"mat-label"),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"input",32),t.NdJ("focus",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.openDialogIfEmpty("publicKeyPath"))}),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"mat-icon",31),t.NdJ("click",function(i){return t.CHM(e),t.oxw(2).openDialog("publicKeyPath"),t.KtG(i.stopPropagation())}),t._uU(27,"folder"),t.qZA(),t.YNc(28,de,3,3,"mat-error",21),t.YNc(29,ue,3,3,"mat-error",21),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(2);t.xp6(3),t.Oqu(t.lcZ(4,13,"Password")),t.xp6(2),t.s9C("placeholder",t.lcZ(6,15,"Leave blank for no password")),t.Q6J("type",e.showPassword?"text":"password"),t.xp6(3),t.hij(" ",e.showPassword?"visibility_off":"visibility"," "),t.xp6(1),t.Q6J("ngIf",e.form.controls.ssh.controls.password.hasError("invalid")),t.xp6(3),t.Oqu(t.lcZ(13,17,"Private !ssh! key")),t.xp6(2),t.s9C("placeholder",t.lcZ(15,19,"Private !ssh! key path...")),t.xp6(4),t.Q6J("ngIf",e.form.controls.ssh.controls.privateKeyPath.hasError("required")),t.xp6(1),t.Q6J("ngIf",e.form.controls.ssh.controls.privateKeyPath.hasError("invalid")),t.xp6(3),t.Oqu(t.lcZ(23,21,"Public !ssh! key")),t.xp6(2),t.s9C("placeholder",t.lcZ(25,23,"Public !ssh! key path...")),t.xp6(4),t.Q6J("ngIf",e.form.controls.ssh.controls.publicKeyPath.hasError("required")),t.xp6(1),t.Q6J("ngIf",e.form.controls.ssh.controls.publicKeyPath.hasError("invalid"))}}function fe(n,a){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Username is required")," "))}function he(n,a){if(1&n){const e=t.EpF();t.ynx(0,33),t.TgZ(1,"mat-form-field",16)(2,"mat-label"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"input",34),t.ALo(6,"translate"),t.YNc(7,fe,3,3,"mat-error",21),t.qZA(),t.TgZ(8,"mat-form-field",16)(9,"mat-label"),t._uU(10),t.ALo(11,"translate"),t.qZA(),t._UZ(12,"input",28),t.ALo(13,"translate"),t.TgZ(14,"mat-icon",29),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.showPassword=!i.showPassword)}),t._uU(15),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw(2);t.xp6(3),t.Oqu(t.lcZ(4,7,"Username")),t.xp6(2),t.s9C("placeholder",t.lcZ(6,9,"Enter username...")),t.xp6(2),t.Q6J("ngIf",e.form.controls.password.controls.username.hasError("required")),t.xp6(3),t.Oqu(t.lcZ(11,11,"Password")),t.xp6(2),t.s9C("placeholder",t.lcZ(13,13,"Enter password...")),t.Q6J("type",e.showPassword?"text":"password"),t.xp6(3),t.hij(" ",e.showPassword?"visibility_off":"visibility"," ")}}function Ce(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",14),t._uU(1),t.qZA(),t.TgZ(2,"form",15)(3,"mat-dialog-content")(4,"mat-form-field",16)(5,"mat-label"),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"mat-select",17)(9,"mat-option",18),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"mat-option",19),t._uU(13),t.ALo(14,"translate"),t.qZA()()(),t.TgZ(15,"mat-form-field",16)(16,"mat-label"),t._uU(17),t.ALo(18,"translate"),t.qZA(),t._UZ(19,"input",20),t.ALo(20,"translate"),t.YNc(21,ce,3,3,"mat-error",21),t.qZA(),t.TgZ(22,"mat-form-field",16)(23,"mat-label"),t._uU(24),t.ALo(25,"translate"),t.qZA(),t._UZ(26,"input",22),t.ALo(27,"translate"),t.qZA(),t.YNc(28,_e,30,25,"ng-container",23),t.YNc(29,he,16,15,"ng-container",24),t.qZA(),t.TgZ(30,"mat-dialog-actions")(31,"button",25),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.closeCredentialDialog(!1))}),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"button",26),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.closeCredentialDialog(!0))}),t._uU(35),t.ALo(36,"translate"),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(1),t.Oqu(e.dialogTitle),t.xp6(1),t.Q6J("formGroup",e.form),t.xp6(4),t.Oqu(t.lcZ(7,15,"Credential Type")),t.xp6(4),t.Oqu(t.lcZ(11,17,"SSH Key")),t.xp6(3),t.Oqu(t.lcZ(14,19,"Password")),t.xp6(4),t.Oqu(t.lcZ(18,21,"Credential Name")),t.xp6(2),t.s9C("placeholder",t.lcZ(20,23,"Enter credential name..")),t.xp6(2),t.Q6J("ngIf",e.form.controls.credentialName.hasError("required")),t.xp6(3),t.Oqu(t.lcZ(25,25,"Description")),t.xp6(2),t.s9C("placeholder",t.lcZ(27,27,"Enter description...")),t.xp6(2),t.Q6J("ngIf","ssh"===e.form.controls.type.value),t.xp6(1),t.Q6J("ngIf","password"===e.form.controls.type.value),t.xp6(3),t.Oqu(t.lcZ(33,29,"Cancel")),t.xp6(2),t.Q6J("disabled",e.form.invalid),t.xp6(1),t.hij(" ",t.lcZ(36,31,"Save")," ")}}let xe=(()=>{class n extends((0,N.j)(U.A)){constructor(e,o,i,l){super(),this.dialog=e,this.store=o,this.encryptionApi=i,this.filesApi=l,this.form=new s.cw({type:new s.NI("ssh",{nonNullable:!0}),credentialName:new s.NI(null,s.kI.required),description:new s.NI(null),password:new s.cw({username:new s.NI(null,s.kI.required),password:new s.NI(null)}),ssh:new s.cw({password:new s.NI(null),privateKeyPath:new s.NI(null,s.kI.required),publicKeyPath:new s.NI(null,s.kI.required)})}),this.dialogTitle="Add new credential",this.showPassword=!1,this.editingCredentialId=null,this.dialogRef=null,this.findFolderDialogDisabled=!1}ngOnInit(){this.validCredentials=this.credentials.pipe((0,R.U)(e=>new Map([...e].filter(o=>"password"===o[1].type||"ssh"===o[1].type)))),this.form.controls.type.valueChanges.pipe((0,h.R)(this.destroyed$)).subscribe(e=>{"ssh"===e?(this.form.controls.ssh.enable(),this.form.controls.password.disable()):(this.form.controls.ssh.disable(),this.form.controls.password.enable())})}addNewCredential(){this.dialogRef?.close(),this.dialogTitle=(0,I.Iu)("Add new credential"),this.showPassword=!1,this.editingCredentialId=null,this.form.reset({type:"ssh"}),this.dialogRef=this.dialog.open(this.dialogTemplateRef)}editCredential(e,o){this.dialogRef?.close(),this.dialogTitle=(0,I.Iu)("Edit credential"),this.showPassword=!1,this.editingCredentialId=e,this.encryptionApi.decrypt(o.password).subscribe(i=>{this.form.setValue({type:o.type,credentialName:o.credentialName,description:o.description,ssh:{password:"ssh"===o.type?i:null,privateKeyPath:"ssh"===o.type?o.privateKeyPath:null,publicKeyPath:"ssh"===o.type?o.publicKeyPath:null},password:{username:"password"===o.type?o.username:null,password:"password"===o.type?i:null}}),this.dialogRef=this.dialog.open(this.dialogTemplateRef)})}closeCredentialDialog(e){if(!e)return void this.dialogRef?.close();const o=this.form.value,i="ssh"===o.type?{type:"ssh",credentialName:o.credentialName??null,description:o.description??null,password:o.ssh?.password??null,privateKeyPath:o.ssh?.privateKeyPath??null,publicKeyPath:o.ssh?.publicKeyPath??null}:{type:"password",credentialName:o.credentialName??null,description:o.description??null,username:o.password?.username??null,password:o.password?.password??null};b.$.validateCredential(i)?"ssh"===i.type?this.encryptionApi.isSshCredentialValid(i).subscribe(l=>{l?(this.store.dispatch(new T.Vh(this.editingCredentialId??this.store.selectSnapshot(b.$.maxCredentialId)+1,i)),this.dialogRef?.close()):(this.store.dispatch(new Zt.hx("warn",(0,I.Iu)("SSH key is not valid."))),this.form.controls.ssh.controls.password.setErrors({invalid:!0}),this.form.controls.ssh.controls.privateKeyPath.setErrors({invalid:!0}),this.form.controls.ssh.controls.publicKeyPath.setErrors({invalid:!0}))}):(this.store.dispatch(new T.Vh(this.editingCredentialId??this.store.selectSnapshot(b.$.maxCredentialId)+1,i)),this.dialogRef?.close()):(this.store.dispatch(new Zt.hx("warn",(0,I.Iu)("Credential form failed validation:",{form:JSON.stringify(o)}))),this.dialogRef?.close())}deleteCredential(e){this.store.dispatch(new T.Tz(e))}copyPublicKey(e){this.filesApi.getFileContents([e]).subscribe(o=>{o&&navigator.clipboard.writeText(o).then(()=>{})})}openDialog(e){this.findFolderDialogDisabled||(this.findFolderDialogDisabled=!0,this.filesApi.openFileDialog(["openFile","showHiddenFiles"]).pipe((0,h.R)(this.destroyed$),(0,V.x)(()=>{this.findFolderDialogDisabled=!1})).subscribe(o=>{this.form.controls.ssh.controls[e].setValue(o)}))}openDialogIfEmpty(e){this.form.controls.ssh.controls[e].value||this.openDialog(e)}static{this.\u0275fac=function(o){return new(o||n)(t.Y36(_.uw),t.Y36(m.yh),t.Y36(oe.B),t.Y36(ie.k))}}static{this.\u0275cmp=t.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(o,i){if(1&o&&t.Gf(ae,5),2&o){let l;t.iGM(l=t.CRH())&&(i.dialogTemplateRef=l.first)}},features:[t.qOj],decls:11,vars:8,consts:[[1,"cards"],["appearance","outlined","class","credential",4,"ngFor","ngForOf"],["appearance","outlined",1,"add-new-credential",3,"matTooltip","click"],["mat-icon-button",""],["inline",""],["dialog",""],["appearance","outlined",1,"credential"],["mat-card-avatar","",3,"email",4,"ngIf"],[3,"matTooltip"],["mat-mini-fab","","color","accent",3,"matTooltip","click",4,"ngIf"],["mat-mini-fab","","color","primary",3,"matTooltip","click"],["mat-mini-fab","","color","warn",3,"matTooltip","click"],["mat-card-avatar","",3,"email"],["mat-mini-fab","","color","accent",3,"matTooltip","click"],["mat-dialog-title",""],[3,"formGroup"],[1,"full-width"],["required","","formControlName","type"],["value","ssh"],["value","password"],["type","text","matInput","","required","","name","credentialName","formControlName","credentialName","cdkFocusInitial","",3,"placeholder"],[4,"ngIf"],["type","text","matInput","","name","description","formControlName","description",3,"placeholder"],["formGroupName","ssh",4,"ngIf"],["formGroupName","password",4,"ngIf"],["type","button","mat-button","",3,"click"],["type","submit","mat-flat-button","","color","primary",3,"disabled","click"],["formGroupName","ssh"],["matInput","","name","password","formControlName","password",3,"type","placeholder"],["matSuffix","",1,"password-icon",3,"click"],["type","text","matInput","","required","","name","privateKeyPath","formControlName","privateKeyPath",3,"placeholder","focus"],["matSuffix","",1,"file-input-icon",3,"click"],["type","text","matInput","","required","","name","publicKeyPath","formControlName","publicKeyPath",3,"placeholder","focus"],["formGroupName","password"],["type","text","matInput","","required","","name","username","formControlName","username",3,"placeholder"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0),t.YNc(1,le,17,12,"mat-card",1),t.ALo(2,"keyvalue"),t.ALo(3,"async"),t.TgZ(4,"mat-card",2),t.NdJ("click",function(){return i.addNewCredential()}),t.ALo(5,"translate"),t.TgZ(6,"button",3)(7,"mat-icon",4),t._uU(8,"add"),t.qZA()()()(),t.YNc(9,Ce,37,33,"ng-template",null,5,t.W1O)),2&o&&(t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,2,t.lcZ(3,4,i.validCredentials))),t.xp6(3),t.Q6J("matTooltip",t.lcZ(5,6,"Add new credential")))},dependencies:[_.uh,_.xY,_.H8,g.KE,g.hX,g.TO,g.R9,L.Nt,v.gD,w.ey,p.sg,p.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.sg,s.u,s.x0,Z.lW,Z.RK,Z.nh,O.a8,O.hq,O.kc,O.dk,O.$j,O.n5,S.Hw,Y.gM,yt.A,p.Ov,p.Nd,J.X],styles:["[_nghost-%COMP%]{padding:10px}.cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:20px}.credential[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{height:64px;flex-grow:1}.credential[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]     .mat-mdc-card-header-text{overflow:hidden}.credential[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.credential[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{margin-bottom:0;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.credential[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin-right:10px}.add-new-credential[_ngcontent-%COMP%]{border:2px solid transparent;height:150px;justify-content:center;align-items:center;line-height:100px;cursor:pointer}.add-new-credential[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:104px;height:104px}.add-new-credential[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px}.file-input-icon[_ngcontent-%COMP%], .password-icon[_ngcontent-%COMP%]{cursor:pointer}.full-width[_ngcontent-%COMP%]{width:100%}.dark-theme[_nghost-%COMP%]   .add-new-credential[_ngcontent-%COMP%]:hover, .dark-theme   [_nghost-%COMP%]   .add-new-credential[_ngcontent-%COMP%]:hover{background:#515151}.light-theme[_nghost-%COMP%]   .add-new-credential[_ngcontent-%COMP%]:hover, .light-theme   [_nghost-%COMP%]   .add-new-credential[_ngcontent-%COMP%]:hover{background:#e0e0e0}"],changeDetection:0})}}return(0,f.gn)([(0,m.Ph)(b.$.credentials)],n.prototype,"credentials",void 0),(0,f.gn)([(0,m.Ph)(b.$.maxCredentialId)],n.prototype,"maxCredentialId",void 0),n})();var be=r(4080),kt=r(5698),$=r(2270),Ze=r(8310),Ot=r(1526),ye=r(8171),E=r(7573),Oe=r(1129),we=r(4454),ve=r(9615),ut=r(2464),Pe=r(5773),It=r(2843),qt=r(262);function Me(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"mat-icon",15),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.loginManually())}),t._uU(1,"start"),t.qZA()}}function Ae(n,a){1&n&&t._UZ(0,"mat-spinner",16)}function Te(n,a){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Authorization code is required")))}function Le(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",10)(1,"mat-form-field")(2,"mat-label"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"input",11),t.NdJ("keydown.enter",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.loginManually())}),t.ALo(6,"translate"),t.qZA(),t.YNc(7,Me,2,0,"mat-icon",12),t.ALo(8,"async"),t.YNc(9,Ae,1,0,"mat-spinner",13),t.ALo(10,"async"),t.YNc(11,Te,3,3,"mat-error",14),t.qZA()()}if(2&n){const e=t.oxw();t.Q6J("@fadeIn",void 0),t.xp6(3),t.Oqu(t.lcZ(4,7,"Authorization Code")),t.xp6(2),t.s9C("placeholder",t.lcZ(6,9,"Enter the code displayed in your web browser...")),t.Q6J("formControl",e.manualLoginControl),t.xp6(2),t.Q6J("ngIf",!1===t.lcZ(8,11,e.manualLoginLoading)),t.xp6(2),t.Q6J("ngIf",t.lcZ(10,13,e.manualLoginLoading)),t.xp6(2),t.Q6J("ngIf",e.manualLoginControl.hasError("required"))}}function ke(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"p",17),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.register())}),t.ALo(1,"translate"),t.qZA()}2&n&&t.Q6J("innerHtml",t.lcZ(1,1,"Don't have an account? Click here to register."),t.oJD)}function Ie(n,a){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Invalid email address")," "))}function qe(n,a){if(1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.loginForm.controls.email.getError("server").join(", ")," ")}}function Ne(n,a){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Password must have at least 10 characters")," "))}function Ue(n,a){if(1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.loginForm.controls.password.getError("server").join(", ")," ")}}function Se(n,a){1&n&&t._UZ(0,"mat-spinner",25)}function Je(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"form",18),t.NdJ("ngSubmit",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.login())}),t.TgZ(1,"mat-form-field",19)(2,"mat-label"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"input",20),t.ALo(6,"translate"),t.YNc(7,Ie,3,3,"mat-error",14),t.YNc(8,qe,2,1,"mat-error",14),t.qZA(),t.TgZ(9,"mat-form-field",19)(10,"mat-label"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t._UZ(13,"input",21),t.ALo(14,"async"),t.ALo(15,"translate"),t.TgZ(16,"button",22),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.passwordHidden.next(!i.passwordHidden.value))}),t.ALo(17,"translate"),t.ALo(18,"async"),t.TgZ(19,"mat-icon"),t._uU(20),t.qZA()(),t.YNc(21,Ne,3,3,"mat-error",14),t.YNc(22,Ue,2,1,"mat-error",14),t.qZA(),t.TgZ(23,"button",23),t.YNc(24,Se,1,0,"mat-spinner",24),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.TgZ(27,"p",17),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.lostPassword())}),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"p",17),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.register())}),t.ALo(30,"translate"),t.qZA()()}if(2&n){const e=t.oxw();t.Q6J("formGroup",e.loginForm),t.xp6(3),t.Oqu(t.lcZ(4,17,"Email")),t.xp6(2),t.s9C("placeholder",t.lcZ(6,19,"Enter your email address...")),t.xp6(2),t.Q6J("ngIf",e.loginForm.controls.email.hasError("invalid")),t.xp6(1),t.Q6J("ngIf",e.loginForm.controls.email.hasError("server")),t.xp6(3),t.Oqu(t.lcZ(12,21,"Password")),t.xp6(2),t.s9C("placeholder",t.lcZ(15,25,"Enter your password...")),t.uIk("type",t.lcZ(14,23,e.passwordHidden)?"password":"text"),t.xp6(3),t.Q6J("matTooltip",t.lcZ(17,27,t.lcZ(18,29,e.passwordHidden)?"Show":"Hide")),t.xp6(4),t.Oqu(e.passwordHidden.value?"visibility":"visibility_off"),t.xp6(1),t.Q6J("ngIf",e.loginForm.controls.password.hasError("invalid")),t.xp6(1),t.Q6J("ngIf",e.loginForm.controls.password.hasError("server")),t.xp6(1),t.Q6J("disabled",e.processingLogin),t.xp6(1),t.Q6J("ngIf",e.processingLogin),t.xp6(1),t.hij(" ",t.lcZ(26,31,"Login")," "),t.xp6(2),t.Q6J("innerHtml",t.lcZ(28,33,"Forgot your password? Click here to reset it."),t.oJD),t.xp6(2),t.Q6J("innerHtml",t.lcZ(30,35,"Don't have an account? Click here to register."),t.oJD)}}function Re(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"mat-card",26)(1,"h2"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"p",17),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.requestEmailConfirmationCode())}),t.ALo(5,"translate"),t.qZA()()}2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,2,"Email Not Confirmed")),t.xp6(2),t.Q6J("innerHtml",t.lcZ(5,4,"You must confirm your email to login to Glint"),t.oJD))}class tt extends((0,N.j)(U.A)){constructor(a,e,o){super(),this.cdr=a,this.store=e,this.authService=o,this.loginForm=new s.cw({email:new s.NI(null,[s.kI.email,s.kI.required]),password:new s.NI(null,[s.kI.minLength(10),s.kI.required])}),this.passwordHidden=new y.X(!0),this.processingLogin=!1,this.showLoginForm=new y.X(!1),this.emailNotConfirmed=new y.X(!1),this.manualLogin=new y.X(null),this.manualLoginLoading=new y.X(!1),this.manualLoginControl=new s.NI(null,s.kI.required)}ngOnInit(){this.store.select(E.jq.user).pipe((0,h.R)(this.destroyed$)).subscribe(()=>{this.manualLogin.next(null),this.manualLoginLoading.next(!1),this.manualLoginControl.setValue(null)})}login(){this.processingLogin||!this.loginForm.controls.email.value||!this.loginForm.controls.password.value||(this.processingLogin=!0,this.authService.emailLogin(this.loginForm.controls.email.value,this.loginForm.controls.password.value).pipe((0,qt.K)(a=>{if(400===a.status){const e=[],o=[];for(const i of a.error.errors)"email"===i.param?e.push(i.msg):"password"===i.param&&o.push(i.msg);this.loginForm.controls.email.setErrors(e.length>0?{server:e}:null),this.loginForm.controls.password.setErrors(o.length>0?{server:o}:null)}else this.loginForm.controls.email.setErrors({server:["Server error. Please try again."]}),this.loginForm.controls.password.setErrors({server:["Server error. Please try again."]});return(0,It._)(()=>a)}),(0,V.x)(()=>{this.processingLogin=!1,this.cdr.markForCheck()})).subscribe(({user:a})=>{a.confirmed?(this.store.dispatch(new E.Rl(a)),this.loginForm.reset(),this.emailNotConfirmed.next(!1)):(this.showLoginForm.next(!0),this.emailNotConfirmed.next(!0))}))}requestEmailConfirmationCode(){const a=this.loginForm.controls.email.value;if(!a)throw new $.gS;this.authService.requestEmailConfirmationCode(a)}clickEmailLogin(){this.showLoginForm.next(!this.showLoginForm.value),this.emailNotConfirmed.next(!1),this.manualLogin.next(null)}googleLogin(){this.authService.googleLogin(),this.showLoginForm.next(!1),this.emailNotConfirmed.next(!1),this.manualLogin.next("google")}bitbucketLogin(){this.authService.bitbucketLogin(),this.showLoginForm.next(!1),this.emailNotConfirmed.next(!1),this.manualLogin.next("bitbucket")}gitHubLogin(){this.authService.gitHubLogin(),this.showLoginForm.next(!1),this.emailNotConfirmed.next(!1),this.manualLogin.next("github")}gitLabLogin(){this.authService.gitLabLogin(),this.showLoginForm.next(!1),this.emailNotConfirmed.next(!1),this.manualLogin.next("gitlab")}logout(){this.store.dispatch(new E.RD)}lostPassword(){this.authService.emailLostPassword()}register(){this.authService.emailRegister()}loginManually(){const a=this.manualLoginControl.value;if(a){switch(this.manualLogin.value){case"bitbucket":this.authService.bitbucketLoggedIn(a).pipe((0,V.x)(()=>this.manualLoginLoading.next(!1))).subscribe();break;case"github":this.authService.gitHubLoggedIn(a).pipe((0,V.x)(()=>this.manualLoginLoading.next(!1))).subscribe();break;case"gitlab":this.authService.gitLabLoggedIn(a).pipe((0,V.x)(()=>this.manualLoginLoading.next(!1))).subscribe();break;case"google":this.authService.googleLoggedIn(a).pipe((0,V.x)(()=>this.manualLoginLoading.next(!1))).subscribe()}this.manualLoginLoading.next(!0)}else this.manualLoginControl.markAsTouched()}static{this.\u0275fac=function(e){return new(e||tt)(t.Y36(t.sBO),t.Y36(m.yh),t.Y36(ut.e))}}static{this.\u0275cmp=t.Xpm({type:tt,selectors:[["app-login-view"]],features:[t.qOj],decls:36,vars:36,consts:[[1,"choose-login-buttons"],["type","button","mat-stroked-button","",3,"disabled","click"],["svgIcon","google"],["svgIcon","github"],["svgIcon","gitlab"],["svgIcon","bitbucket"],["class","manual-login",4,"ngIf"],[3,"innerHtml","click",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],["class","email-not-confirmed",4,"ngIf"],[1,"manual-login"],["matInput","",3,"formControl","placeholder","keydown.enter"],["matSuffix","",3,"click",4,"ngIf"],["matSuffix","","diameter","24",4,"ngIf"],[4,"ngIf"],["matSuffix","",3,"click"],["matSuffix","","diameter","24"],[3,"innerHtml","click"],[3,"formGroup","ngSubmit"],["appearance","outline",1,"form-field"],["type","email","matInput","","required","","formControlName","email",3,"placeholder"],["matInput","","required","","formControlName","password",3,"placeholder"],["type","button","matSuffix","","mat-icon-button","",1,"password-visibility-button","app-icon-button-md",3,"matTooltip","click"],["type","submit","mat-stroked-button","",1,"submit-btn",3,"disabled"],["diameter","18",4,"ngIf"],["diameter","18"],[1,"email-not-confirmed"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return o.clickEmailLogin()}),t.ALo(2,"async"),t.TgZ(3,"mat-icon"),t._uU(4,"mail"),t.qZA(),t.TgZ(5,"span"),t._uU(6),t.ALo(7,"translate"),t.qZA()(),t.TgZ(8,"button",1),t.NdJ("click",function(){return o.googleLogin()}),t._UZ(9,"mat-icon",2),t.TgZ(10,"span"),t._uU(11),t.ALo(12,"translate"),t.qZA()(),t.TgZ(13,"button",1),t.NdJ("click",function(){return o.gitHubLogin()}),t._UZ(14,"mat-icon",3),t.TgZ(15,"span"),t._uU(16),t.ALo(17,"translate"),t.qZA()(),t.TgZ(18,"button",1),t.NdJ("click",function(){return o.gitLabLogin()}),t._UZ(19,"mat-icon",4),t.TgZ(20,"span"),t._uU(21),t.ALo(22,"translate"),t.qZA()(),t.TgZ(23,"button",1),t.NdJ("click",function(){return o.bitbucketLogin()}),t._UZ(24,"mat-icon",5),t.TgZ(25,"span"),t._uU(26),t.ALo(27,"translate"),t.qZA()()(),t.YNc(28,Le,12,15,"div",6),t.ALo(29,"async"),t.YNc(30,ke,2,3,"p",7),t.ALo(31,"async"),t.YNc(32,Je,31,37,"form",8),t.ALo(33,"async"),t.YNc(34,Re,6,6,"mat-card",9),t.ALo(35,"async")),2&e&&(t.xp6(1),t.ekj("selected",t.lcZ(2,16,o.showLoginForm)),t.Q6J("disabled",o.processingLogin),t.xp6(5),t.Oqu(t.lcZ(7,18,"Login with Email")),t.xp6(2),t.Q6J("disabled",o.processingLogin),t.xp6(3),t.Oqu(t.lcZ(12,20,"Login with Google")),t.xp6(2),t.Q6J("disabled",o.processingLogin),t.xp6(3),t.Oqu(t.lcZ(17,22,"Login with GitHub")),t.xp6(2),t.Q6J("disabled",o.processingLogin),t.xp6(3),t.Oqu(t.lcZ(22,24,"Login with GitLab")),t.xp6(2),t.Q6J("disabled",o.processingLogin),t.xp6(3),t.Oqu(t.lcZ(27,26,"Login with Bitbucket")),t.xp6(2),t.Q6J("ngIf",t.lcZ(29,28,o.manualLogin)),t.xp6(2),t.Q6J("ngIf",!1===t.lcZ(31,30,o.showLoginForm)),t.xp6(2),t.Q6J("ngIf",t.lcZ(33,32,o.showLoginForm)),t.xp6(2),t.Q6J("ngIf",t.lcZ(35,34,o.emailNotConfirmed)))},dependencies:[g.KE,g.hX,g.TO,g.R9,rt.Ou,p.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.oH,s.sg,s.u,Z.lW,Z.RK,O.a8,S.Hw,L.Nt,Y.gM,p.Ov,J.X],styles:[".choose-login-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:10px}.choose-login-buttons[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:245px;justify-content:flex-start;gap:10px}.manual-login[_ngcontent-%COMP%]{overflow:hidden}.manual-login[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-top:20px;width:100%}.manual-login[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{cursor:pointer}.manual-login[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin-right:12px}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{min-width:250px;max-width:400px;width:100%}form[_ngcontent-%COMP%]   .password-visibility-button[_ngcontent-%COMP%]{margin-right:10px}form[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]{margin-bottom:22px}form[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{display:inline-block;margin-right:5px;vertical-align:middle;margin-top:-2px}.email-not-confirmed[_ngcontent-%COMP%]{margin-top:20px;padding:20px}.dark-theme[_nghost-%COMP%]   .choose-login-buttons[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .choose-login-buttons[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{background-color:#37474f}.dark-theme[_nghost-%COMP%]   .email-not-confirmed[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .email-not-confirmed[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#e57373}.light-theme[_nghost-%COMP%]   .choose-login-buttons[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .choose-login-buttons[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{background-color:#cfd8dc}.light-theme[_nghost-%COMP%]   .email-not-confirmed[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .email-not-confirmed[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#e57373}"],data:{animation:[(0,d.X$)("fadeIn",[(0,d.eR)(":enter",[(0,d.oB)({height:"0px",opacity:0}),(0,d.vP)([(0,d.jt)("0.3s 3s",(0,d.oB)({height:"*"})),(0,d.jt)("1s ease-in-out",(0,d.oB)({opacity:1}))])])])]},changeDetection:0})}}const Ve=["factoryResetDialog"];function Ee(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.upgrade())}),t.ALo(1,"async"),t._uU(2),t.ALo(3,"translate"),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("disabled",null===t.lcZ(1,2,e.user)),t.xp6(2),t.Oqu(t.lcZ(3,4,"Upgrade !verb!"))}}function Qe(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.manage())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Manage")))}function Fe(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",28),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.logout())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Logout")))}function Ye(n,a){if(1&n&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=a.ngIf;t.xp6(1),t.AsE("",t.lcZ(2,2,"Logged in as:")," ",e.email,"")}}function De(n,a){1&n&&t._UZ(0,"app-login-view")}function Ge(n,a){if(1&n&&t._UZ(0,"app-avatar",35),2&n){const e=t.oxw().$implicit;t.Q6J("email",e.email)("type",e.type)}}function je(n,a){if(1&n&&(t.TgZ(0,"span",1),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.Q6J("matTooltip",e.email),t.xp6(1),t.Oqu(e.email)}}function He(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"li")(1,"span",29)(2,"span",30),t.NdJ("click",function(){const l=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.clickIntegration(l))}),t.ALo(3,"translate"),t._UZ(4,"mat-icon",31),t.YNc(5,Ge,1,2,"app-avatar",32),t.qZA(),t.YNc(6,je,2,2,"span",33),t.qZA(),t.TgZ(7,"button",34),t.NdJ("click",function(){const l=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.removeIntegration(l))}),t.ALo(8,"translate"),t.TgZ(9,"mat-icon"),t._uU(10,"delete"),t.qZA()()()}if(2&n){const e=a.$implicit;t.xp6(2),t.Q6J("matTooltip",t.lcZ(3,5,"Click to open profile in web browser")),t.xp6(2),t.Q6J("svgIcon",e.type),t.xp6(1),t.Q6J("ngIf",e.email),t.xp6(1),t.Q6J("ngIf",e.email),t.xp6(1),t.Q6J("matTooltip",t.lcZ(8,7,"Remove Integration"))}}function Ke(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"mat-icon",40),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.integrateManually())}),t._uU(1,"start"),t.qZA()}}function Be(n,a){1&n&&t._UZ(0,"mat-spinner",41)}function $e(n,a){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Authorization code is required")))}function Xe(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",36)(1,"mat-form-field")(2,"mat-label"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"input",37),t.NdJ("keydown.enter",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.integrateManually())}),t.ALo(6,"translate"),t.qZA(),t.YNc(7,Ke,2,0,"mat-icon",38),t.ALo(8,"async"),t.YNc(9,Be,1,0,"mat-spinner",39),t.ALo(10,"async"),t.YNc(11,$e,3,3,"mat-error",5),t.qZA()()}if(2&n){const e=t.oxw();t.Q6J("@fadeIn",void 0),t.xp6(3),t.Oqu(t.lcZ(4,7,"Authorization Code")),t.xp6(2),t.s9C("placeholder",t.lcZ(6,9,"Enter the code displayed in your web browser...")),t.Q6J("formControl",e.manualIntegrationControl),t.xp6(2),t.Q6J("ngIf",!1===t.lcZ(8,11,e.manualIntegrationLoading)),t.xp6(2),t.Q6J("ngIf",t.lcZ(10,13,e.manualIntegrationLoading)),t.xp6(2),t.Q6J("ngIf",e.manualIntegrationControl.hasError("required"))}}function ze(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",42)(1,"button",43),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.addIntegration("github"))}),t._UZ(2,"mat-icon",44),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"button",43),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.addIntegration("gitlab"))}),t._UZ(7,"mat-icon",45),t.TgZ(8,"span"),t._uU(9),t.ALo(10,"translate"),t.qZA()(),t.TgZ(11,"button",43),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.addIntegration("bitbucket"))}),t._UZ(12,"mat-icon",46),t.TgZ(13,"span"),t._uU(14),t.ALo(15,"translate"),t.qZA()()()}2&n&&(t.xp6(4),t.Oqu(t.lcZ(5,3,"Connect to GitHub")),t.xp6(5),t.Oqu(t.lcZ(10,5,"Connect to GitLab")),t.xp6(5),t.Oqu(t.lcZ(15,7,"Connect to Bitbucket")))}function We(n,a){1&n&&(t.TgZ(0,"div",47),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"mat-dialog-content"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"mat-dialog-actions")(7,"button",48),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"button",49),t._uU(11),t.ALo(12,"translate"),t.qZA()()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,6,"Factory Reset")),t.xp6(3),t.hij(" ",t.lcZ(5,8,"All application settings will be erased, are you sure you want to continue?")," "),t.xp6(3),t.Q6J("mat-dialog-close",!1),t.xp6(1),t.Oqu(t.lcZ(9,10,"Cancel")),t.xp6(2),t.Q6J("mat-dialog-close",!0),t.xp6(1),t.Oqu(t.lcZ(12,12,"Confirm")))}function tn(n,a){1&n&&(t.TgZ(0,"span",50),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"!seconds!")))}function en(n,a){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Cannot be less than 10 seconds")))}let nn=(()=>{class n extends((0,N.j)(U.A)){constructor(e,o,i,l,c,C){super(),this.router=e,this.dialog=o,this.overlay=i,this.viewContainerRef=l,this.store=c,this.authService=C,this.autoFetchControl=new s.NI(null,s.kI.min(10)),this.factoryResetDialogRef=null,this.telemetryControl=new s.NI(!0,{nonNullable:!0}),this.languageControl=new s.NI("en",{nonNullable:!0}),this.themeControl=new s.NI("dark",{nonNullable:!0}),this.menuOverlayRef=new y.X(null),this.manualIntegration=new y.X(null),this.manualIntegrationLoading=new y.X(!1),this.manualIntegrationControl=new s.NI(null,s.kI.required),this.openMenu=(x,u,Q)=>{x.preventDefault(),x.stopPropagation(),this.closeMenu();const X=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo(u).withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"}])});this.menuOverlayRef.next(X),X.attach(new be.UE(Q,this.viewContainerRef)),(0,Ze.t)(X,!1).pipe((0,kt.q)(1),(0,h.R)(this.destroyed$)).subscribe(()=>this.closeMenu())},this.closeMenu=()=>{this.menuOverlayRef.value&&(this.menuOverlayRef.value.dispose(),this.menuOverlayRef.next(null))}}ngOnInit(){this.accessLevel=this.authService.accessLevel,this.integrations.pipe((0,h.R)(this.destroyed$)).subscribe(()=>{this.manualIntegration.next(null),this.manualIntegrationLoading.next(!1),this.manualIntegrationControl.setValue(null)}),this.autoFetchInterval.pipe((0,h.R)(this.destroyed$)).subscribe(e=>{this.autoFetchControl.setValue(e?e/1e3:null,{emitEvent:!1})}),this.autoFetchControl.valueChanges.pipe((0,h.R)(this.destroyed$)).subscribe(e=>{e&&e<10||this.store.dispatch(new T.aZ(e?1e3*e:null))}),this.telemetryEnabled.pipe((0,h.R)(this.destroyed$)).subscribe(e=>{this.telemetryControl.setValue(e,{emitEvent:!1})}),this.telemetryControl.valueChanges.pipe((0,h.R)(this.destroyed$)).subscribe(e=>{this.store.dispatch(new Ot.Wb(e))}),this.language.pipe((0,h.R)(this.destroyed$)).subscribe(e=>{this.languageControl.setValue(e,{emitEvent:!1})}),this.theme.pipe((0,h.R)(this.destroyed$)).subscribe(e=>{this.themeControl.setValue(e,{emitEvent:!1})}),this.themeControl.valueChanges.pipe((0,h.R)(this.destroyed$)).subscribe(e=>{this.store.dispatch(new T._Q(e))})}logout(){this.store.dispatch(new E.RD)}upgrade(){if(!this.store.selectSnapshot(E.jq.user))throw new $.Ce;this.router.navigate(["/settings/upgrade"])}manage(){this.authService.manageAccount()}addIntegration(e){this.authService.startIntegration(e),this.manualIntegration.next(e),this.closeMenu()}clickIntegration(e){switch(e.type){case"github":case"gitlab":case"bitbucket":window.open(e.profileUrl)}}removeIntegration(e){this.store.dispatch(new T.sM(e.type,e.id))}integrateManually(){const e=this.manualIntegrationControl.value;if(e){switch(this.manualIntegration.value){case"bitbucket":this.authService.bitbucketIntegrated(e).pipe((0,V.x)(()=>this.manualIntegrationLoading.next(!1))).subscribe();break;case"github":this.authService.gitHubIntegrated(e).pipe((0,V.x)(()=>this.manualIntegrationLoading.next(!1))).subscribe();break;case"gitlab":this.authService.gitLabIntegrated(e).pipe((0,V.x)(()=>this.manualIntegrationLoading.next(!1))).subscribe()}this.manualIntegrationLoading.next(!0)}else this.manualIntegrationControl.markAsTouched()}factoryReset(){this.factoryResetDialogRef&&this.factoryResetDialogRef.close(),this.factoryResetDialogRef=this.dialog.open(this.factoryResetDialog),this.factoryResetDialogRef.afterClosed().pipe((0,h.R)(this.destroyed$)).subscribe(e=>{e&&this.store.dispatch([Ot.AN,E.AN,Zt.AN,Oe.AN,gt.AN,we.AN,T.AN,dt.AN]).subscribe(()=>{this.router.navigate(["/"])})})}static{this.\u0275fac=function(o){return new(o||n)(t.Y36(k.F0),t.Y36(_.uw),t.Y36(ve.aV),t.Y36(t.s_b),t.Y36(m.yh),t.Y36(ut.e))}}static{this.\u0275cmp=t.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(o,i){if(1&o&&t.Gf(Ve,5),2&o){let l;t.iGM(l=t.CRH())&&(i.factoryResetDialog=l.first)}},features:[t.qOj],decls:84,vars:85,consts:[[1,"your-plan"],[3,"matTooltip"],["class","upgrade-button","mat-stroked-button","","color","accent",3,"disabled","click",4,"ngIf"],["type","button","mat-stroked-button","","color","primary",3,"click",4,"ngIf"],["type","button","mat-stroked-button","","color","warn",3,"click",4,"ngIf"],[4,"ngIf"],[1,"integrations"],[1,"integration-list"],[4,"ngFor","ngForOf"],["type","button","mat-stroked-button","","appElementRef","",3,"click"],["addIntegrationMenuBtn","appElementRef"],["class","manual-integration",4,"ngIf"],["addIntegrationMenu",""],[1,"settings"],[1,"factory-reset"],["type","button","mat-stroked-button","","color","warn",1,"factory-reset-button",3,"matTooltip","click"],["factoryResetDialog",""],[1,"tile"],[1,"form-field"],[3,"formControl"],["value","dark"],["value","light"],["appearance","outline","floatLabel","always",1,"form-field",3,"matTooltip"],["matInput","","type","number",1,"text-align-right",3,"placeholder","formControl"],["class","auto-fetch-suffix","matSuffix","",4,"ngIf"],[3,"formControl","matTooltip"],["mat-stroked-button","","color","accent",1,"upgrade-button",3,"disabled","click"],["type","button","mat-stroked-button","","color","primary",3,"click"],["type","button","mat-stroked-button","","color","warn",3,"click"],[1,"info"],[1,"clickable",3,"matTooltip","click"],[3,"svgIcon"],[3,"email","type",4,"ngIf"],[3,"matTooltip",4,"ngIf"],["type","button","mat-icon-button","","color","warn",1,"app-icon-button-md",3,"matTooltip","click"],[3,"email","type"],[1,"manual-integration"],["matInput","",3,"formControl","placeholder","keydown.enter"],["matSuffix","",3,"click",4,"ngIf"],["matSuffix","","diameter","24",4,"ngIf"],["matSuffix","",3,"click"],["matSuffix","","diameter","24"],[1,"add-integration-menu","menu-panel"],["type","button",1,"menu-item",3,"click"],["svgIcon","github",1,"branch-icon"],["svgIcon","gitlab",1,"branch-icon"],["svgIcon","bitbucket",1,"branch-icon"],["mat-dialog-title",""],["type","button","mat-button","",3,"mat-dialog-close"],["type","button","mat-button","","color","warn",1,"confirm-factory-reset-button",3,"mat-dialog-close"],["matSuffix","",1,"auto-fetch-suffix"]],template:function(o,i){if(1&o){const l=t.EpF();t.TgZ(0,"div",0)(1,"h2"),t._uU(2),t.ALo(3,"translate"),t.TgZ(4,"span"),t.ALo(5,"async"),t._uU(6),t.ALo(7,"translate"),t.ALo(8,"async"),t.qZA(),t.TgZ(9,"span",1),t.ALo(10,"translate"),t.ALo(11,"async"),t.YNc(12,Ee,4,6,"button",2),t.ALo(13,"async"),t.qZA(),t.YNc(14,Qe,3,3,"button",3),t.ALo(15,"async"),t.YNc(16,Fe,3,3,"button",4),t.ALo(17,"async"),t.qZA(),t.YNc(18,Ye,3,4,"h3",5),t.ALo(19,"async"),t.qZA(),t.YNc(20,De,1,0,"app-login-view",5),t.ALo(21,"async"),t.TgZ(22,"div",6)(23,"h2",1),t.ALo(24,"translate"),t.TgZ(25,"mat-icon"),t._uU(26,"account_tree"),t.qZA(),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"ul",7),t.YNc(30,He,11,9,"li",8),t.ALo(31,"async"),t.qZA(),t.TgZ(32,"button",9,10),t.NdJ("click",function(C){t.CHM(l);const x=t.MAs(33),u=t.MAs(39);return t.KtG(i.openMenu(C,x,u))}),t.TgZ(34,"mat-icon"),t._uU(35,"add"),t.qZA()(),t.YNc(36,Xe,12,15,"div",11),t.ALo(37,"async"),t.YNc(38,ze,16,9,"ng-template",null,12,t.W1O),t.qZA(),t.TgZ(40,"div",13)(41,"h2")(42,"mat-icon"),t._uU(43,"settings"),t.qZA(),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.TgZ(46,"div",14)(47,"button",15),t.NdJ("click",function(){return i.factoryReset()}),t.ALo(48,"translate"),t.TgZ(49,"mat-icon"),t._uU(50,"error_outline"),t.qZA(),t._uU(51),t.ALo(52,"translate"),t.qZA()(),t.YNc(53,We,13,14,"ng-template",null,16,t.W1O),t.TgZ(55,"div",17)(56,"mat-form-field",18)(57,"mat-label"),t._uU(58),t.ALo(59,"translate"),t.qZA(),t.TgZ(60,"mat-select",19)(61,"mat-option",20),t._uU(62),t.ALo(63,"translate"),t.qZA(),t.TgZ(64,"mat-option",21),t._uU(65),t.ALo(66,"translate"),t.qZA()()(),t.TgZ(67,"mat-form-field",22),t.ALo(68,"translate"),t.TgZ(69,"mat-label"),t._uU(70),t.ALo(71,"translate"),t.qZA(),t._UZ(72,"input",23),t.ALo(73,"translate"),t.YNc(74,tn,3,3,"span",24),t.TgZ(75,"mat-hint"),t._uU(76),t.ALo(77,"translate"),t.qZA(),t.YNc(78,en,3,3,"mat-error",5),t.qZA()(),t.TgZ(79,"div",18)(80,"mat-checkbox",25),t.ALo(81,"translate"),t._uU(82),t.ALo(83,"translate"),t.qZA()()()}2&o&&(t.xp6(2),t.hij(" ",t.lcZ(3,31,"Your plan:")," "),t.xp6(2),t.ekj("highlight","pro"===t.lcZ(5,33,i.accessLevel)),t.xp6(2),t.Oqu(t.lcZ(7,35,"pro"===t.lcZ(8,37,i.accessLevel)?"Premium":"Free")),t.xp6(3),t.Q6J("matTooltip",t.lcZ(10,39,t.lcZ(11,41,i.user)?"Click to purchase a subscription":"You must be logged in to upgrade")),t.xp6(3),t.Q6J("ngIf","free"===t.lcZ(13,43,i.accessLevel)),t.xp6(2),t.Q6J("ngIf",t.lcZ(15,45,i.user)),t.xp6(2),t.Q6J("ngIf",t.lcZ(17,47,i.user)),t.xp6(2),t.Q6J("ngIf",t.lcZ(19,49,i.user)),t.xp6(2),t.Q6J("ngIf",null===t.lcZ(21,51,i.user)),t.xp6(3),t.Q6J("matTooltip",t.lcZ(24,53,"Integrate with git cloud providers to enable features such as browsing repositories to clone")),t.xp6(4),t.hij("",t.lcZ(28,55,"Integrations")," "),t.xp6(3),t.Q6J("ngForOf",t.lcZ(31,57,i.integrations)),t.xp6(6),t.Q6J("ngIf",t.lcZ(37,59,i.manualIntegration)),t.xp6(8),t.Oqu(t.lcZ(45,61,"Settings")),t.xp6(3),t.Q6J("matTooltip",t.lcZ(48,63,"Erase all settings and reset the app to the default state")),t.xp6(4),t.Oqu(t.lcZ(52,65,"Factory Reset")),t.xp6(7),t.Oqu(t.lcZ(59,67,"Theme")),t.xp6(2),t.Q6J("formControl",i.themeControl),t.xp6(2),t.Oqu(t.lcZ(63,69,"Dark !theme!")),t.xp6(3),t.Oqu(t.lcZ(66,71,"Light !theme!")),t.xp6(2),t.Q6J("matTooltip",t.lcZ(68,73,"Auto fetch polling interval (in seconds)")),t.xp6(3),t.Oqu(t.lcZ(71,75,"Auto fetch every")),t.xp6(2),t.s9C("placeholder",t.lcZ(73,77,"Enter seconds...")),t.Q6J("formControl",i.autoFetchControl),t.xp6(2),t.Q6J("ngIf",i.autoFetchControl.value),t.xp6(2),t.Oqu(t.lcZ(77,79,"Leave blank to disable")),t.xp6(2),t.Q6J("ngIf",i.autoFetchControl.hasError("min")),t.xp6(2),t.Q6J("formControl",i.telemetryControl)("matTooltip",t.lcZ(81,81,"Telemetry helps us better understand how to improve Glint")),t.xp6(2),t.Oqu(t.lcZ(83,83,"Enable telemetry")))},dependencies:[at.oG,_.ZT,_.uh,_.xY,_.H8,g.KE,g.hX,g.bx,g.TO,g.R9,L.Nt,rt.Ou,v.gD,w.ey,p.sg,p.O5,s.Fj,s.wV,s.JJ,s.oH,Z.lW,Z.RK,S.Hw,Y.gM,yt.A,Pe.F,tt,p.Ov,J.X],styles:["[_nghost-%COMP%]{padding:10px}.your-plan[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:10px}.your-plan[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:0}.your-plan[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:20px;vertical-align:middle}app-login-view[_ngcontent-%COMP%]{display:block;max-width:500px}.integrations[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%], .settings[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{display:flex;align-items:center}.integrations[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%], .settings[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{margin-right:10px}.integrations[_ngcontent-%COMP%]{margin-top:40px;max-width:450px}.integrations[_ngcontent-%COMP%]   .integration-list[_ngcontent-%COMP%]{margin-bottom:20px}.integrations[_ngcontent-%COMP%]   .integration-list[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.integrations[_ngcontent-%COMP%]   .integration-list[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .clickable[_ngcontent-%COMP%]{cursor:pointer}.integrations[_ngcontent-%COMP%]   .integration-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.integrations[_ngcontent-%COMP%]   .integration-list[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%]{width:24px;height:24px;vertical-align:middle;margin:0 5px}.integrations[_ngcontent-%COMP%]   .manual-integration[_ngcontent-%COMP%]{overflow:hidden}.integrations[_ngcontent-%COMP%]   .manual-integration[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-top:20px;width:100%}.integrations[_ngcontent-%COMP%]   .manual-integration[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{cursor:pointer;margin-left:10px}.integrations[_ngcontent-%COMP%]   .manual-integration[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin-left:10px;margin-right:5px}.settings[_ngcontent-%COMP%]{margin-top:40px}.settings[_ngcontent-%COMP%]   .text-align-right[_ngcontent-%COMP%]{text-align:right}.settings[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, .settings[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{display:none}.settings[_ngcontent-%COMP%]   .auto-fetch-suffix[_ngcontent-%COMP%]{margin-right:10px}.settings[_ngcontent-%COMP%]   .factory-reset-button[_ngcontent-%COMP%]{gap:5px;margin-bottom:20px}.settings[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{margin-bottom:20px}.settings[_ngcontent-%COMP%]   .tile[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap}.dark-theme[_nghost-%COMP%]   .your-plan[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .your-plan[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#ffd180}.light-theme[_nghost-%COMP%]   .your-plan[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .your-plan[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#ffab40}"],data:{animation:[(0,d.X$)("fadeIn",[(0,d.eR)(":enter",[(0,d.oB)({height:"0px",opacity:0}),(0,d.vP)([(0,d.jt)("0.3s 3s",(0,d.oB)({height:"*"})),(0,d.jt)("1s ease-in-out",(0,d.oB)({opacity:1}))])])])]},changeDetection:0})}}return(0,f.gn)([(0,m.Ph)(E.jq.user)],n.prototype,"user",void 0),(0,f.gn)([(0,m.Ph)(b.$.autoFetchInterval)],n.prototype,"autoFetchInterval",void 0),(0,f.gn)([(0,m.Ph)(b.$.integrations)],n.prototype,"integrations",void 0),(0,f.gn)([(0,m.Ph)(Ot.ie.enabled)],n.prototype,"telemetryEnabled",void 0),(0,f.gn)([(0,m.Ph)(ye.aB.language)],n.prototype,"language",void 0),(0,f.gn)([(0,m.Ph)(b.$.theme)],n.prototype,"theme",void 0),n})();var on=r(4128),et=r(6966),an=r(3058);const rn=["dialog"];function sn(n,a){if(1&n&&t._UZ(0,"app-avatar",12),2&n){const e=t.oxw().$implicit;t.Q6J("email",e.value.email)}}function ln(n,a){if(1&n&&(t.TgZ(0,"mat-card-subtitle")(1,"div",13),t._uU(2),t.qZA(),t.TgZ(3,"div",14),t._uU(4),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("matTooltip",e.value.name||""),t.xp6(1),t.Oqu(e.value.name),t.xp6(1),t.Q6J("matTooltip",e.value.email||""),t.xp6(1),t.Oqu(e.value.email)}}function cn(n,a){1&n&&(t.TgZ(0,"mat-card-subtitle")(1,"div",15),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"div",16),t.qZA()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"Uses the default username and email from your git config.")," "))}function pn(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,l=t.oxw();return t.KtG(l.setSelectedProfile(i.key))}),t.ALo(1,"translate"),t.TgZ(2,"mat-icon"),t._uU(3,"app_registration"),t.qZA()()}2&n&&t.Q6J("matTooltip",t.lcZ(1,1,"Select profile"))}function mn(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,l=t.oxw();return t.KtG(l.editProfile(i.key,i.value))}),t.ALo(1,"translate"),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA()()}2&n&&t.Q6J("matTooltip",t.lcZ(1,1,"Edit"))}function gn(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,l=t.oxw();return t.KtG(l.deleteProfile(i.key))}),t.ALo(1,"translate"),t.TgZ(2,"mat-icon"),t._uU(3,"delete"),t.qZA()()}2&n&&t.Q6J("matTooltip",t.lcZ(1,1,"Delete"))}function dn(n,a){if(1&n&&(t.TgZ(0,"mat-card",6),t.ALo(1,"async"),t.TgZ(2,"mat-card-header"),t.YNc(3,sn,1,1,"app-avatar",7),t.TgZ(4,"mat-card-title",8),t._uU(5),t.qZA(),t.YNc(6,ln,5,4,"mat-card-subtitle",9),t.YNc(7,cn,5,3,"mat-card-subtitle",9),t.qZA(),t.TgZ(8,"mat-card-actions"),t.YNc(9,pn,4,3,"button",10),t.ALo(10,"async"),t.YNc(11,mn,4,3,"button",10),t.YNc(12,gn,4,3,"button",11),t.qZA()()),2&n){const e=a.$implicit,o=t.oxw();t.ekj("git-config",0===e.key)("is-default",e.key===t.lcZ(1,12,o.selectedProfileId)),t.xp6(3),t.Q6J("ngIf",e.value.email),t.xp6(1),t.Q6J("matTooltip",e.value.profileName),t.xp6(1),t.Oqu(e.value.profileName),t.xp6(1),t.Q6J("ngIf",0!==e.key),t.xp6(1),t.Q6J("ngIf",0===e.key),t.xp6(2),t.Q6J("ngIf",e.key!==t.lcZ(10,14,o.selectedProfileId)),t.xp6(2),t.Q6J("ngIf",0!==e.key),t.xp6(1),t.Q6J("ngIf",0!==e.key)}}function un(n,a){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Profile name is required")," "))}function _n(n,a){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Name is required")," "))}function fn(n,a){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Email is required")," "))}function hn(n,a){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Invalid email")," "))}function Cn(n,a){if(1&n&&(t.TgZ(0,"mat-option",32),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",e.key),t.xp6(1),t.hij(" ",e.value.credentialName," ")}}function xn(n,a){if(1&n&&(t.TgZ(0,"mat-form-field",21)(1,"mat-label"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"mat-select",30),t.YNc(5,Cn,2,2,"mat-option",31),t.ALo(6,"keyvalue"),t.ALo(7,"async"),t.qZA(),t.TgZ(8,"mat-hint"),t._uU(9),t.ALo(10,"translate"),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,3,"Credentials")),t.xp6(3),t.Q6J("ngForOf",t.lcZ(6,5,t.lcZ(7,7,e.credentials))),t.xp6(4),t.Oqu(t.lcZ(10,9,"Choose which credentials this profile can use"))}}function bn(n,a){if(1&n&&(t.TgZ(0,"mat-option",35),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",e.key)("matTooltip",e.key),t.xp6(1),t.hij(" ",e.value," ")}}function Zn(n,a){if(1&n&&(t.TgZ(0,"mat-form-field",21)(1,"mat-label"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"mat-select",33),t.YNc(5,bn,2,3,"mat-option",34),t.ALo(6,"keyvalue"),t.ALo(7,"async"),t.qZA(),t.TgZ(8,"mat-hint"),t._uU(9),t.ALo(10,"translate"),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,3,"Repositories")),t.xp6(3),t.Q6J("ngForOf",t.lcZ(6,5,t.lcZ(7,7,e.repositories))),t.xp6(4),t.Oqu(t.lcZ(10,9,"Choose which repositories this profile can use"))}}function yn(n,a){if(1&n&&(t.TgZ(0,"div",19),t._uU(1),t.qZA(),t.TgZ(2,"form",20)(3,"mat-dialog-content")(4,"mat-form-field",21)(5,"mat-label"),t._uU(6),t.ALo(7,"translate"),t.qZA(),t._UZ(8,"input",22),t.ALo(9,"translate"),t.YNc(10,un,3,3,"mat-error",9),t.qZA(),t.TgZ(11,"mat-form-field",21)(12,"mat-label"),t._uU(13),t.ALo(14,"translate"),t.qZA(),t._UZ(15,"input",23),t.ALo(16,"translate"),t.YNc(17,_n,3,3,"mat-error",9),t.qZA(),t.TgZ(18,"mat-form-field",21)(19,"mat-label"),t._uU(20),t.ALo(21,"translate"),t.qZA(),t._UZ(22,"input",24),t.ALo(23,"translate"),t.YNc(24,fn,3,3,"mat-error",9),t.YNc(25,hn,3,3,"mat-error",9),t.qZA(),t.TgZ(26,"mat-checkbox",25),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.YNc(29,xn,11,11,"mat-form-field",26),t.TgZ(30,"mat-checkbox",27),t._uU(31),t.ALo(32,"translate"),t.qZA(),t.YNc(33,Zn,11,11,"mat-form-field",26),t.qZA(),t.TgZ(34,"mat-dialog-actions")(35,"button",28),t._uU(36),t.ALo(37,"translate"),t.qZA(),t.TgZ(38,"button",29),t._uU(39),t.ALo(40,"translate"),t.qZA()()()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(e.dialogTitle),t.xp6(1),t.Q6J("formGroup",e.form),t.xp6(4),t.Oqu(t.lcZ(7,21,"Profile Name")),t.xp6(2),t.s9C("placeholder",t.lcZ(9,23,"Enter profile name...")),t.xp6(2),t.Q6J("ngIf",e.form.controls.profileName.hasError("required")),t.xp6(3),t.Oqu(t.lcZ(14,25,"Name")),t.xp6(2),t.s9C("placeholder",t.lcZ(16,27,"Enter name...")),t.xp6(2),t.Q6J("ngIf",e.form.controls.name.hasError("required")),t.xp6(3),t.Oqu(t.lcZ(21,29,"Email")),t.xp6(2),t.s9C("placeholder",t.lcZ(23,31,"Enter email...")),t.xp6(2),t.Q6J("ngIf",e.form.controls.email.hasError("required")),t.xp6(1),t.Q6J("ngIf",e.form.controls.email.hasError("email")),t.xp6(2),t.Oqu(t.lcZ(28,33,"Allow access to all credentials")),t.xp6(2),t.Q6J("ngIf",!0!==e.form.controls.allCredentials.value),t.xp6(2),t.Oqu(t.lcZ(32,35,"Allow access to all repositories")),t.xp6(2),t.Q6J("ngIf",!0!==e.form.controls.allRepositories.value),t.xp6(2),t.Q6J("mat-dialog-close",!1),t.xp6(1),t.Oqu(t.lcZ(37,37,"Cancel")),t.xp6(2),t.Q6J("mat-dialog-close",!0)("disabled",e.form.invalid),t.xp6(1),t.hij(" ",t.lcZ(40,39,"Save")," ")}}let On=(()=>{class n extends((0,N.j)(U.A)){constructor(e,o,i){super(),this.dialog=e,this.store=o,this.repositoriesApi=i,this.form=new s.cw({profileName:new s.NI(null,[s.kI.required]),name:new s.NI(null,[s.kI.required]),email:new s.NI(null,[s.kI.required,s.kI.email]),allCredentials:new s.NI(!0,{nonNullable:!0}),credentials:new s.NI([],{nonNullable:!0}),allRepositories:new s.NI(!0,{nonNullable:!0}),repositories:new s.NI([],{nonNullable:!0})}),this.dialogTitle=(0,I.Iu)("Add new profile"),this.addNewProfile=()=>{this.dialogTitle=(0,I.Iu)("Add new profile"),this.form.reset({allCredentials:!0,credentials:[],allRepositories:!0,repositories:[]}),this.dialog.open(this.dialogTemplateRef).afterClosed().pipe((0,h.R)(this.destroyed$)).subscribe(c=>{c&&this.maxProfileId.pipe((0,kt.q)(1)).subscribe(C=>{const x=this.form.value,u={profileName:x.profileName??null,name:x.name??null,email:x.email??null,credentialIds:x.allCredentials?"all":x.credentials??[],allowedRepositories:x.allRepositories?"all":x.repositories??[]};if(!b.$.validateProfile(u))throw new $.NN(x);this.store.dispatch(new T.Bu(C+1,u))})})},this.editProfile=(l,c)=>{this.dialogTitle=(0,I.Iu)("Edit profile"),this.form.setValue({profileName:c.profileName,name:c.name,email:c.email,allCredentials:"all"===c.credentialIds,credentials:"all"===c.credentialIds?[]:c.credentialIds,allRepositories:"all"===c.allowedRepositories,repositories:"all"===c.allowedRepositories?[]:c.allowedRepositories}),this.dialog.open(this.dialogTemplateRef).afterClosed().pipe((0,h.R)(this.destroyed$)).subscribe(x=>{if(x){const u=this.form.value,Q={...c,profileName:u.profileName??null,name:u.name??null,email:u.email??null,credentialIds:u.allCredentials?"all":u.credentials??[],allowedRepositories:u.allRepositories?"all":u.repositories??[]};if(!b.$.validateProfile(Q))throw new $.NN(u);this.store.dispatch(new T.Bu(l,Q))}})},this.deleteProfile=l=>{this.store.dispatch(new T.p3(l))},this.setSelectedProfile=l=>{this.store.dispatch(new T.Pt(l))}}ngOnInit(){this.repositories=this.repositorySettings.pipe((0,mt.w)(e=>(0,on.D)(Object.keys(e).map(o=>this.repositoriesApi.getRepositoryName(o).pipe((0,R.U)(i=>[o,i]))))),(0,R.U)(Object.fromEntries))}static{this.\u0275fac=function(o){return new(o||n)(t.Y36(_.uw),t.Y36(m.yh),t.Y36(an.a))}}static{this.\u0275cmp=t.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(o,i){if(1&o&&t.Gf(rn,5),2&o){let l;t.iGM(l=t.CRH())&&(i.dialogTemplateRef=l.first)}},features:[t.qOj],decls:11,vars:8,consts:[[1,"cards"],["appearance","outlined","class","profile",3,"git-config","is-default",4,"ngFor","ngForOf"],["appearance","outlined",1,"add-new-profile",3,"matTooltip","click"],["mat-icon-button",""],["inline",""],["dialog",""],["appearance","outlined",1,"profile"],["mat-card-avatar","",3,"email",4,"ngIf"],[3,"matTooltip"],[4,"ngIf"],["type","button","mat-mini-fab","","color","primary",3,"matTooltip","click",4,"ngIf"],["type","button","mat-mini-fab","","color","warn",3,"matTooltip","click",4,"ngIf"],["mat-card-avatar","",3,"email"],[1,"subtitle-name",3,"matTooltip"],[1,"subtitle-email",3,"matTooltip"],["matTooltip","Uses the default username and email from your git config",1,"subtitle-name"],[1,"subtitle-email"],["type","button","mat-mini-fab","","color","primary",3,"matTooltip","click"],["type","button","mat-mini-fab","","color","warn",3,"matTooltip","click"],["mat-dialog-title",""],[1,"dialog-form",3,"formGroup"],[1,"full-width"],["type","text","matInput","","required","","name","profileName","formControlName","profileName","cdkFocusInitial","",3,"placeholder"],["type","text","matInput","","required","","name","name","formControlName","name",3,"placeholder"],["type","email","email","","matInput","","required","","name","email","formControlName","email",3,"placeholder"],["formControlName","allCredentials"],["class","full-width",4,"ngIf"],["formControlName","allRepositories"],["type","button","mat-button","",3,"mat-dialog-close"],["type","submit","mat-flat-button","","color","primary",3,"mat-dialog-close","disabled"],["formControlName","credentials","multiple",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["formControlName","repositories","multiple",""],[3,"value","matTooltip",4,"ngFor","ngForOf"],[3,"value","matTooltip"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0),t.YNc(1,dn,13,16,"mat-card",1),t.ALo(2,"keyvalue"),t.ALo(3,"async"),t.TgZ(4,"mat-card",2),t.NdJ("click",function(){return i.addNewProfile()}),t.ALo(5,"translate"),t.TgZ(6,"button",3)(7,"mat-icon",4),t._uU(8,"add"),t.qZA()()()(),t.YNc(9,yn,41,41,"ng-template",null,5,t.W1O)),2&o&&(t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,2,t.lcZ(3,4,i.profiles))),t.xp6(3),t.Q6J("matTooltip",t.lcZ(5,6,"Add new profile")))},dependencies:[at.oG,_.ZT,_.uh,_.xY,_.H8,g.KE,g.hX,g.bx,g.TO,L.Nt,v.gD,w.ey,p.sg,p.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.on,s.sg,s.u,Z.lW,Z.RK,Z.nh,O.a8,O.hq,O.kc,O.dk,O.$j,O.n5,S.Hw,Y.gM,yt.A,p.Ov,p.Nd,J.X],styles:["[_nghost-%COMP%]{padding:10px}.cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:20px}.profile[_ngcontent-%COMP%]{border:2px solid transparent}.profile.git-config[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]   .subtitle-name[_ngcontent-%COMP%]{overflow:auto;white-space:normal}.profile[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{height:80px;margin-bottom:10px}.profile[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]     .mat-mdc-card-header-text{overflow:hidden}.profile[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.1}.profile[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{margin-bottom:0}.profile[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]   .subtitle-name[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.profile[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]   .subtitle-email[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.profile[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin-right:10px}.add-new-profile[_ngcontent-%COMP%]{border:2px solid transparent;height:150px;justify-content:center;align-items:center;cursor:pointer}.add-new-profile[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:106px;height:106px}.add-new-profile[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px}.full-width[_ngcontent-%COMP%]{width:100%}.dialog-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:50vw}.dialog-form[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{display:block;margin:8px 0}.dark-theme[_nghost-%COMP%]   .profile.is-default[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .profile.is-default[_ngcontent-%COMP%]{border-color:#78909c}.light-theme[_nghost-%COMP%]   .profile.is-default[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .profile.is-default[_ngcontent-%COMP%]{border-color:#b0bec5}"],changeDetection:0})}}return(0,f.gn)([(0,m.Ph)(b.$.profiles)],n.prototype,"profiles",void 0),(0,f.gn)([(0,m.Ph)(b.$.credentials)],n.prototype,"credentials",void 0),(0,f.gn)([(0,m.Ph)(b.$.selectedProfileId)],n.prototype,"selectedProfileId",void 0),(0,f.gn)([(0,m.Ph)(b.$.maxProfileId)],n.prototype,"maxProfileId",void 0),(0,f.gn)([(0,m.Ph)(et.E.repositorySettings)],n.prototype,"repositorySettings",void 0),n})();var Nt=r(9251),wn=r(9160),Ut=r(7396),St=r(3943),vn=r(5174),_t=r(9841),Jt=r(4326),Pn=r(8372),ft=r(8675),Rt=r(5684),Mn=r(6590),An=r(2120),Tn=r(6719),Ln=r(3394);const kn=["addRemoteDialog"];function In(n,a){if(1&n&&(t.TgZ(0,"td",12)(1,"mat-icon"),t._uU(2),t.qZA()()),2&n){const e=a.ngIf,o=t.oxw(3);t.Q6J("matTooltip",o.getRemoteTypeTooltip(e)),t.xp6(2),t.Oqu(o.getRemoteTypeIcon(e))}}function qn(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,l=t.oxw(2);return t.KtG(l.setSelectedRemote(i.name))}),t.ALo(1,"translate"),t.TgZ(2,"mat-icon"),t._uU(3,"app_registration"),t.qZA()()}2&n&&t.Q6J("matTooltip",t.lcZ(1,1,"Set as default remote"))}const Nn=function(n){return{remote:n}};function Un(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"tr",6)(1,"td"),t._uU(2),t.qZA(),t.YNc(3,In,3,2,"td",7),t.ALo(4,"async"),t.TgZ(5,"td")(6,"mat-form-field",8),t.ALo(7,"translate"),t.TgZ(8,"mat-label"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t._UZ(11,"input",9),t.qZA()(),t.TgZ(12,"td"),t.YNc(13,qn,4,3,"button",10),t.TgZ(14,"button",11),t.NdJ("click",function(){const l=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.deleteRemote(l.name))}),t.ALo(15,"translate"),t.TgZ(16,"mat-icon"),t._uU(17,"delete"),t.qZA()()()()}if(2&n){const e=a.$implicit,o=t.oxw().ngIf,i=t.oxw();t.ekj("selected",o.selectedRemote===e.name),t.xp6(2),t.Oqu(e.name),t.xp6(1),t.Q6J("ngIf",t.lcZ(4,9,i.getRemoteType(e.control))),t.xp6(3),t.Q6J("matTooltip",t.xi3(7,11,"The URL for _remote_",t.VKq(18,Nn,e.name))),t.xp6(3),t.Oqu(t.lcZ(10,14,"URL")),t.xp6(2),t.Q6J("formControl",e.control),t.xp6(2),t.Q6J("ngIf",o.selectedRemote!==e.name),t.xp6(1),t.Q6J("matTooltip",t.lcZ(15,16,"Delete remote"))}}function Sn(n,a){if(1&n&&(t.TgZ(0,"div",14),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"form",15)(4,"mat-dialog-content")(5,"mat-form-field",16)(6,"mat-label"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t._UZ(9,"input",17),t.qZA(),t.TgZ(10,"mat-form-field",18)(11,"mat-label"),t._uU(12),t.ALo(13,"translate"),t.qZA(),t._UZ(14,"input",19),t.qZA()(),t.TgZ(15,"mat-dialog-actions")(16,"button",20),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"button",21),t._uU(20),t.ALo(21,"translate"),t.qZA()()()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(t.lcZ(2,9,"Add Remote")),t.xp6(2),t.Q6J("formGroup",e.addRemoteForm),t.xp6(4),t.Oqu(t.lcZ(8,11,"Name")),t.xp6(5),t.Oqu(t.lcZ(13,13,"Url")),t.xp6(4),t.Q6J("mat-dialog-close",null),t.xp6(1),t.Oqu(t.lcZ(18,15,"Cancel")),t.xp6(2),t.Q6J("mat-dialog-close",e.addRemoteForm.value)("disabled",e.addRemoteForm.invalid),t.xp6(1),t.Oqu(t.lcZ(21,17,"Save"))}}function Jn(n,a){if(1&n&&(t.TgZ(0,"mat-option",33),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}const Rn=function(n,a){return{remote:n,profile:a}};function Vn(n,a){if(1&n&&(t.TgZ(0,"mat-form-field",29),t.ALo(1,"translate"),t.TgZ(2,"mat-label"),t._uU(3),t.qZA(),t.TgZ(4,"mat-select",30),t.ALo(5,"translate"),t.TgZ(6,"mat-option",31),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.YNc(9,Jn,2,2,"mat-option",32),t.qZA()()),2&n){const e=t.oxw().$implicit,o=t.oxw().$implicit,i=t.oxw(3);t.Q6J("matTooltip",t.xi3(1,6,"Credential to use for _remote_ when using the _profile_ profile",t.WLB(13,Rn,e.key,o.name))),t.xp6(3),t.Oqu(e.key),t.xp6(1),t.s9C("placeholder",t.lcZ(5,9,"Select credential")),t.Q6J("formControl",e.value.control),t.xp6(3),t.Oqu(t.lcZ(8,11,"None")),t.xp6(2),t.Q6J("ngForOf",i.getValidCredentials(o.credentials,e.value.url))}}function En(n,a){if(1&n&&(t.ynx(0),t.YNc(1,Vn,10,16,"mat-form-field",28),t.BQk()),2&n){const e=a.$implicit,o=t.oxw(4);t.xp6(1),t.Q6J("ngIf",!o.isFile(e.value.url))}}function Qn(n,a){if(1&n&&(t.TgZ(0,"tr",26)(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t.YNc(4,En,2,1,"ng-container",27),t.ALo(5,"keyvalue"),t.qZA()()),2&n){const e=a.$implicit;t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Q6J("ngForOf",t.lcZ(5,2,e.remotes))}}function Fn(n,a){if(1&n&&(t.TgZ(0,"section",22)(1,"h2")(2,"mat-icon"),t._uU(3,"key"),t.qZA(),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"table")(7,"thead")(8,"tr",23)(9,"td",24),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.ALo(14,"translate"),t.qZA()()(),t.TgZ(15,"tbody"),t.YNc(16,Qn,6,4,"tr",25),t.ALo(17,"async"),t.qZA()()()),2&n){const e=t.oxw(2);t.xp6(4),t.Oqu(t.lcZ(5,4,"Credentials")),t.xp6(6),t.Oqu(t.lcZ(11,6,"Profile")),t.xp6(3),t.Oqu(t.lcZ(14,8,"Credential to use")),t.xp6(3),t.Q6J("ngForOf",t.lcZ(17,10,e.profiles))}}function Yn(n,a){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"section",1)(2,"h2")(3,"mat-icon"),t._uU(4,"cloud_queue"),t.qZA(),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"table")(8,"tbody"),t.YNc(9,Un,18,20,"tr",2),t.ALo(10,"async"),t.qZA()(),t.TgZ(11,"button",3),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.addRemote())}),t.ALo(12,"translate"),t.TgZ(13,"mat-icon"),t._uU(14,"add"),t.qZA()(),t.YNc(15,Sn,22,19,"ng-template",null,4,t.W1O),t.qZA(),t.YNc(17,Fn,18,12,"section",5),t.ALo(18,"async"),t.BQk()}if(2&n){const e=t.oxw();t.xp6(5),t.Oqu(t.lcZ(6,5,"Remotes")),t.xp6(4),t.Q6J("ngForOf",t.lcZ(10,7,e.remotes))("ngForTrackBy",e.trackRemote),t.xp6(2),t.Q6J("matTooltip",t.lcZ(12,9,"Add remote")),t.xp6(6),t.Q6J("ngIf",t.lcZ(18,11,e.hasNonFileRemote))}}let Dn=(()=>{class n extends((0,N.j)(U.A)){constructor(e,o,i,l){super(),this.dialog=e,this.store=o,this.repositoryActionsService=i,this.providerUrlMatcherService=l,this.remotes=new y.X([]),this.repositorySettings=new y.X(null),this.profiles=new y.X([]),this.addRemoteForm=new s.cw({name:new s.NI("origin",{nonNullable:!0}),url:new s.NI(null)}),this.addRemoteDialogRef=null,this.getRemoteTypeIcon=c=>"file"===c?"lock_open":"https"===c?"password":"key",this.getRemoteTypeTooltip=c=>(0,I.Iu)("file"===c?"No credentials possible":"https"===c?"Only username/password credentials are valid":"Only SSH credentials are valid"),this.getValidCredentials=(c,C)=>{const x=this.providerUrlMatcherService.matchProvider(C);return this.isHttp(C)?c.filter(u=>"password"===u.type||x&&u.type===`oauth-${x.type}`):this.isFile(C)?[]:c.filter(u=>"ssh"===u.type)},this.deleteRemote=c=>{this.repositoryActionsService.deleteRemote(this.lastRepositoryId,c).subscribe()},this.setSelectedRemote=c=>{this.store.dispatch(new gt.J2(this.lastRepositoryId,c))},this.addRemote=()=>{this.addRemoteDialogRef&&this.addRemoteDialogRef.close(),this.addRemoteForm.reset({name:"origin"}),this.addRemoteDialogRef=this.dialog.open(this.addRemoteDialog),this.addRemoteDialogRef.afterClosed().pipe((0,h.R)(this.destroyed$)).subscribe(c=>{if(c){if(!c.name)throw new $.rE;if(!c.url)throw new $.yg;this.repositoryActionsService.addRemote(this.lastRepositoryId,c.name,c.url).subscribe()}})},this.isFile=c=>/^(git|file)?:\/\//.test(c)||/^\//.test(c)||!/:/.test(c),this.isHttp=c=>/^https?:\/\//.test(c)}ngOnInit(){const e=(0,_t.a)([this.repositoryId.pipe((0,Tt.h)(An.Nf)),this.allRepositorySettings,this.allProfiles,this.allCredentials]);e.pipe((0,mt.w)(([o,i,l,c])=>this.store.select(et.E.remotesForRepository(o)).pipe((0,R.U)(C=>[o,C??[],i[o],l,c]))),(0,h.R)(this.destroyed$),(0,Jt.g)(0)).subscribe(([o,i,l,c,C])=>{if(!l)return void this.repositorySettings.next(null);this.repositorySettings.next(l);const x=this.lastRepositoryId!==o;this.lastRepositoryId=o;const u=this.remotes.value,Q=[];for(const P of i){const q=u.find(({name:G})=>G===P.name);Q.push(!x&&q?q:{name:P.name,control:new s.NI(P.url,{nonNullable:!0,validators:s.kI.required})})}this.remotes.next(Q),Q.forEach(P=>{P.control.valueChanges.pipe((0,Pn.b)(250)).subscribe(q=>{this.repositoryActionsService.updateRemoteUrl(o,P.name,q).subscribe()})});const X=[...c].map(([P,q])=>{const G="all"===q.credentialIds?[...C]:[...C].filter(([M])=>q.credentialIds.includes(M));return{id:P,name:q.profileName,credentials:G.map(([M,j])=>({id:M,name:j.credentialName,type:j.type})),remotes:Object.fromEntries(i.map(M=>[M.name,{url:M.url,control:new s.NI(l.profiles.get(P)?.remotes[M.name]?.credentialId??"none",{nonNullable:!0})}]))}});this.profiles.next(X),X.forEach(P=>{const q=Object.entries(P.remotes).map(([G,{control:M}])=>M.valueChanges.pipe((0,ft.O)(M.value),(0,R.U)(j=>[G,j])));(0,_t.a)(q).pipe((0,Jt.g)(0),(0,Rt.T)(1),(0,h.R)(e.pipe((0,Rt.T)(1))),(0,h.R)(this.destroyed$)).subscribe(G=>{this.store.dispatch(new gt.xs(l.path,P.id,{remotes:Object.fromEntries(G.map(([M,j])=>[M,{credentialId:"none"===j?null:j}]))}))})})}),this.hasNonFileRemote=this.remotes.pipe((0,mt.w)(o=>(0,_t.a)(o.map(i=>this.getRemoteType(i.control))).pipe((0,Mn.d)([]))),(0,R.U)(o=>o.some(i=>"file"!==i)))}trackRemote(e,o){return o.name}trackProfile(e,o){return o.id}getRemoteType(e){return e.valueChanges.pipe((0,ft.O)(e.value),(0,R.U)(o=>this.isHttp(o)?"https":this.isFile(o)?"file":"ssh"))}static{this.\u0275fac=function(o){return new(o||n)(t.Y36(_.uw),t.Y36(m.yh),t.Y36(Tn.$),t.Y36(Ln.d))}}static{this.\u0275cmp=t.Xpm({type:n,selectors:[["app-repository-settings-view"]],viewQuery:function(o,i){if(1&o&&t.Gf(kn,5),2&o){let l;t.iGM(l=t.CRH())&&(i.addRemoteDialog=l.first)}},inputs:{repositoryId:"repositoryId"},features:[t.qOj],decls:2,vars:3,consts:[[4,"ngIf"],[1,"remotes"],["class","remote",3,"selected",4,"ngFor","ngForOf","ngForTrackBy"],["type","button","mat-stroked-button","",1,"add-remote-button",3,"matTooltip","click"],["addRemoteDialog",""],["class","credentials",4,"ngIf"],[1,"remote"],["class","icon-cell",3,"matTooltip",4,"ngIf"],["subscriptSizing","dynamic",1,"full-width",3,"matTooltip"],["type","url","matInput","","required","",3,"formControl"],["mat-mini-fab","","color","primary",3,"matTooltip","click",4,"ngIf"],["mat-mini-fab","","color","warn",3,"matTooltip","click"],[1,"icon-cell",3,"matTooltip"],["mat-mini-fab","","color","primary",3,"matTooltip","click"],["mat-dialog-title",""],[3,"formGroup"],[1,"full-width"],["type","text","matInput","","required","","formControlName","name"],["subscriptSizing","dynamic",1,"full-width"],["type","url","matInput","","required","","formControlName","url"],["mat-button","",3,"mat-dialog-close"],["mat-flat-button","","type","submit","color","primary",3,"mat-dialog-close","disabled"],[1,"credentials"],[1,"heading"],[1,"credentials-profile-name"],["class","profile",4,"ngFor","ngForOf"],[1,"profile"],[4,"ngFor","ngForOf"],["class","credential-selector full-width",3,"matTooltip",4,"ngIf"],[1,"credential-selector","full-width",3,"matTooltip"],[3,"formControl","placeholder"],["value","none"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(o,i){1&o&&(t.YNc(0,Yn,19,13,"ng-container",0),t.ALo(1,"async")),2&o&&t.Q6J("ngIf",t.lcZ(1,1,i.repositorySettings))},dependencies:[_.ZT,_.uh,_.xY,_.H8,g.KE,g.hX,L.Nt,v.gD,w.ey,p.sg,p.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.oH,s.sg,s.u,Z.lW,Z.nh,S.Hw,Y.gM,p.Ov,p.Nd,J.X],styles:["[_nghost-%COMP%]{display:block;padding:0 5px}.full-width[_ngcontent-%COMP%]{width:100%}.remotes[_ngcontent-%COMP%]{margin-bottom:20px}.remotes[_ngcontent-%COMP%]   .add-remote-button[_ngcontent-%COMP%]{margin-top:10px}.remotes[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%], .credentials[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{display:flex;align-items:center}.remotes[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%], .credentials[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{margin-right:10px}.remotes[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], .credentials[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:0;width:100%}.remotes[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .icon-cell[_ngcontent-%COMP%], .credentials[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .icon-cell[_ngcontent-%COMP%]{width:24px}.remotes[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .credentials[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{font-weight:700}.remotes[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .credentials[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-top:0}.remotes[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .credentials[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:2px solid transparent;border-bottom:2px solid transparent;padding:15px 7.5px}.remotes[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child, .credentials[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:2px solid transparent;border-top-left-radius:4px;border-bottom-left-radius:4px;padding-left:15px}.remotes[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child, .credentials[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:2px solid transparent;border-top-right-radius:4px;border-bottom-right-radius:4px;padding-right:15px}.remotes[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{width:115px;text-align:right}.remotes[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child   button[_ngcontent-%COMP%]{margin-left:10px}.remotes[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child   button[_ngcontent-%COMP%]:first-child{margin-left:0}.dark-theme[_nghost-%COMP%]   .remotes[_ngcontent-%COMP%]   tr.selected[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .remotes[_ngcontent-%COMP%]   tr.selected[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .credentials[_ngcontent-%COMP%]   tr.selected[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .credentials[_ngcontent-%COMP%]   tr.selected[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{border-color:#78909c}.light-theme[_nghost-%COMP%]   .remotes[_ngcontent-%COMP%]   tr.selected[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .remotes[_ngcontent-%COMP%]   tr.selected[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .credentials[_ngcontent-%COMP%]   tr.selected[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .credentials[_ngcontent-%COMP%]   tr.selected[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{border-color:#b0bec5}"],changeDetection:0})}}return(0,f.gn)([(0,m.Ph)(et.E.repositorySettings)],n.prototype,"allRepositorySettings",void 0),(0,f.gn)([(0,m.Ph)(b.$.profiles)],n.prototype,"allProfiles",void 0),(0,f.gn)([(0,m.Ph)(b.$.credentials)],n.prototype,"allCredentials",void 0),n})();var Gn=r(744);function jn(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"li",8),t.NdJ("click",function(){const l=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.selectRepository(l.path))})("dragstart",function(i){const c=t.CHM(e).$implicit,C=t.oxw(2);return t.KtG(C.dragstartListener(i,c.path))}),t.ALo(1,"async"),t._uU(2),t.qZA()}if(2&n){const e=a.$implicit,o=t.oxw(2);t.ekj("selected",e.path===t.lcZ(1,4,o.repositoryId)),t.Q6J("matTooltip",e.path),t.xp6(2),t.hij(" ",e.name," ")}}function Hn(n,a){if(1&n&&(t.TgZ(0,"mat-expansion-panel",4)(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"mat-icon",5),t._uU(4,"view_list"),t.qZA(),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"ul",6),t.YNc(8,jn,3,6,"li",7),t.qZA()()),2&n){const e=a.ngIf;t.xp6(5),t.Oqu(t.lcZ(6,2,"Currently open")),t.xp6(3),t.Q6J("ngForOf",e)}}function Kn(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"mat-expansion-panel",4)(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"mat-icon",5),t._uU(4,"bookmarks"),t.qZA(),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"app-repository-bookmarks-view",9),t.NdJ("nodeClick",function(i){t.CHM(e);const l=t.oxw();return t.KtG(l.selectBookmark(i))}),t.ALo(8,"async"),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(5),t.Oqu(t.lcZ(6,2,"Bookmarks")),t.xp6(2),t.Q6J("selectedNodeId",t.lcZ(8,4,e.repositoryId))}}function Bn(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"mat-expansion-panel",4)(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"mat-icon",5),t._uU(4,"history"),t.qZA(),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"app-repository-history-view",10),t.NdJ("clicked",function(i){t.CHM(e);const l=t.oxw();return t.KtG(l.selectRepository(i))})("dragStarted",function(i){t.CHM(e);const l=t.oxw();return t.KtG(l.dragstartListener(i[0],i[1]))}),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(5),t.Oqu(t.lcZ(6,2,"Recently opened")),t.xp6(2),t.Q6J("selectedId",e.repositoryId)}}function $n(n,a){if(1&n&&t._UZ(0,"app-repository-settings-view",11),2&n){const e=t.oxw();t.Q6J("repositoryId",e.repositoryId)}}let Xn=(()=>{class n extends((0,N.j)(U.A)){constructor(e,o,i){super(),this.route=e,this.router=o,this.remotesApi=i,this.repositoryId=this.route.queryParamMap.pipe((0,R.U)(l=>l.get("id"))),this.dragstartListener=(l,c)=>{l.dataTransfer&&(l.dataTransfer.setData("app/repository",c),l.dataTransfer.effectAllowed="move")}}selectRepository(e){this.remotesApi.getRemotes(e).subscribe(()=>{this.router.navigate([],{relativeTo:this.route,skipLocationChange:!0,queryParams:{id:e}})})}selectBookmark(e){(0,Nt.b)(e)||this.selectRepository(e.id)}static{this.\u0275fac=function(o){return new(o||n)(t.Y36(k.gz),t.Y36(k.F0),t.Y36(wn.G))}}static{this.\u0275cmp=t.Xpm({type:n,selectors:[["ng-component"]],features:[t.qOj],decls:13,vars:14,consts:[["id","repositories-settings-view"],["multi","",1,"repositories"],["expanded","",4,"ngIf"],["class","settings",3,"repositoryId",4,"ngIf"],["expanded",""],[1,"title-icon"],[1,"open-repositories"],["draggable","true",3,"selected","matTooltip","click","dragstart",4,"ngFor","ngForOf"],["draggable","true",3,"matTooltip","click","dragstart"],[3,"selectedNodeId","nodeClick"],[3,"selectedId","clicked","dragStarted"],[1,"settings",3,"repositoryId"]],template:function(o,i){1&o&&(t.TgZ(0,"app-grid",0)(1,"app-grid-cell")(2,"mat-accordion",1),t.YNc(3,Hn,9,4,"mat-expansion-panel",2),t.ALo(4,"nullEmpty"),t.ALo(5,"async"),t.YNc(6,Kn,9,6,"mat-expansion-panel",2),t.YNc(7,Bn,8,4,"mat-expansion-panel",2),t.ALo(8,"nullEmpty"),t.ALo(9,"async"),t.qZA()(),t.TgZ(10,"app-grid-cell"),t.YNc(11,$n,1,1,"app-repository-settings-view",3),t.ALo(12,"async"),t.qZA()()),2&o&&(t.xp6(3),t.Q6J("ngIf",t.lcZ(4,4,t.lcZ(5,6,i.openRepositories))),t.xp6(3),t.Q6J("ngIf",!0),t.xp6(1),t.Q6J("ngIf",t.lcZ(8,8,t.lcZ(9,10,i.recentRepositories))),t.xp6(4),t.Q6J("ngIf",t.lcZ(12,12,i.repositoryId)))},dependencies:[W.pp,W.ib,W.yz,W.yK,p.sg,p.O5,S.Hw,Y.gM,Ut.Y,St.M,Nt.j,vn.J,Dn,p.Ov,Gn.x,J.X],styles:[".repositories[_ngcontent-%COMP%], .settings[_ngcontent-%COMP%]{display:block;padding:10px}.open-repositories[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{padding:10px;cursor:pointer}mat-panel-title[_ngcontent-%COMP%]{line-height:24px}mat-panel-title[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{margin-right:10px}.dark-theme[_nghost-%COMP%]   .open-repositories[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .open-repositories[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%]{background:#78909c}.light-theme[_nghost-%COMP%]   .open-repositories[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .open-repositories[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%]{background:#cfd8dc}"],changeDetection:0})}}return(0,f.gn)([(0,m.Ph)(et.E.openRepositories)],n.prototype,"openRepositories",void 0),(0,f.gn)([(0,m.Ph)(et.E.recentRepositories)],n.prototype,"recentRepositories",void 0),n})();var zn=r(529);class D{static{this.cnyCountries=["Asia/Shanghai","Asia/Urumqi"]}static{this.gbpCountries=["Atlantic/South_Georgia","Atlantic/St_Helena","Europe/Gibraltar","Europe/Guernsey","Europe/Isle_of_Man","Europe/Jersey","Europe/London"]}static{this.jpyCountries=["Asia/Tokyo"]}get currencies(){return[{id:"USD",displayText:"USD $"},{id:"CNY",displayText:"CNY \u5143"},{id:"EUR",displayText:"EUR \u20ac"},{id:"GBP",displayText:"GBP \xa3"},{id:"JPY",displayText:"JPY \u5186"}]}getCurrency(){const a=Intl.DateTimeFormat().resolvedOptions().timeZone;return D.cnyCountries.includes(a)?"CNY":D.gbpCountries.includes(a)?"GBP":D.jpyCountries.includes(a)?"JPY":a.startsWith("Europe")?"EUR":"USD"}getPriceText(a,e){return"CNY"===a?`${e}\u5143`:"EUR"===a?`\u20ac${e}`:"GBP"===a?`\xa3${e}`:"JPY"===a?`${e}\u5186`:`$${e}`}static{this.\u0275fac=function(e){return new(e||D)}}static{this.\u0275prov=t.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}}var Wn=r(7092),to=r(1709),eo=r(1942);function no(n,a){1&n&&(t.TgZ(0,"div",16)(1,"h2",17),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"h4"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._UZ(7,"app-login-view"),t.qZA()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,2,"Login")),t.xp6(3),t.Oqu(t.lcZ(6,4,"You must be logged in to upgrade")))}function oo(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"h3",18),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"button",19),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.logout())}),t._uU(4),t.ALo(5,"translate"),t.qZA()()}if(2&n){const e=a.ngIf;t.xp6(1),t.AsE(" ",t.lcZ(2,3,"Logged in as:")," ",e.email," "),t.xp6(3),t.Oqu(t.lcZ(5,5,"Logout"))}}function io(n,a){if(1&n&&(t.TgZ(0,"mat-option",20),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.displayText)}}const ao=function(n){return{error:n}};function ro(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",21)(1,"mat-icon",22),t._uU(2,"warning"),t.qZA(),t.TgZ(3,"span",23),t.NdJ("click",function(i){t.CHM(e);const l=t.oxw();return t.KtG(l.htmlClick(i))}),t.ALo(4,"safeHtml"),t.ALo(5,"translate"),t.qZA()()}if(2&n){const e=a.ngIf;t.xp6(3),t.Q6J("innerHtml",t.lcZ(4,1,t.xi3(5,3,"There was a problem processing the request.",t.VKq(6,ao,e))),t.oJD)}}let so=(()=>{class n extends((0,N.j)(U.A)){constructor(e,o,i,l,c,C){super(),this.router=e,this.store=o,this.authService=i,this.currencyService=l,this.priceService=c,this.htmlClickService=C,this.purchaseError=new y.X(null),this.frequencyControl=new s.NI("year",{nonNullable:!0}),this.currencyControl=new s.NI(this.currencyService.getCurrency(),{nonNullable:!0}),this.price=(0,_t.a)([this.frequencyControl.valueChanges.pipe((0,ft.O)(this.frequencyControl.value)),this.currencyControl.valueChanges.pipe((0,ft.O)(this.currencyControl.value))]).pipe((0,R.U)(([x,u])=>this.currencyService.getPriceText(u,this.priceService.getPriceInfo(u,x).price))),this.currencies=this.currencyService.currencies,this.htmlClick=this.htmlClickService.click}ngOnInit(){this.authService.accessLevel.pipe((0,h.R)(this.destroyed$)).subscribe(e=>{"pro"===e&&this.router.navigate(["/settings"])})}logout(){this.store.dispatch(new E.RD)}buyLicense(){this.authService.purchase(this.currencyControl.value,this.frequencyControl.value).pipe((0,qt.K)(e=>(e instanceof zn.UA&&this.purchaseError.next(400===e.status&&"validation"===e.error.reason?"400PA":400===e.status?"400PB":403===e.status&&"unverified"===e.error.reason?"403PA":"500PA"),(0,It._)(()=>e)))).subscribe(()=>{this.purchaseError.next(null)})}static{this.\u0275fac=function(o){return new(o||n)(t.Y36(k.F0),t.Y36(m.yh),t.Y36(ut.e),t.Y36(D),t.Y36(Wn.N),t.Y36(to.Q))}}static{this.\u0275cmp=t.Xpm({type:n,selectors:[["ng-component"]],features:[t.qOj],decls:51,vars:47,consts:[["class","login",4,"ngIf"],["class","logged-in",4,"ngIf"],[1,"features"],[1,"title","mat-headline-4"],[1,"premium"],[1,"mat-headline-4"],[1,"price"],["appearance","outline"],[3,"formControl"],["value","month"],["value","year"],[3,"value",4,"ngFor","ngForOf"],[3,"matTooltip"],["mat-stroked-button","","color","accent",1,"purchase-btn",3,"disabled","click"],["class","errors",4,"ngIf"],[1,"highlight"],[1,"login"],[1,"login-title","mat-headline-4"],[1,"logged-in"],["type","button","mat-stroked-button","","color","warn",1,"logout-btn",3,"click"],[3,"value"],[1,"errors"],["inline",""],[3,"innerHtml","click"]],template:function(o,i){1&o&&(t.YNc(0,no,8,6,"div",0),t.ALo(1,"async"),t.YNc(2,oo,6,7,"h3",1),t.ALo(3,"async"),t.TgZ(4,"article",2)(5,"h2",3),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"mat-card",4)(9,"h2",5),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"h3",6),t._uU(13),t.ALo(14,"async"),t.TgZ(15,"mat-form-field",7)(16,"mat-select",8)(17,"mat-option",9),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"mat-option",10),t._uU(21),t.ALo(22,"translate"),t.qZA()()(),t.TgZ(23,"mat-form-field",7)(24,"mat-select",8),t.YNc(25,io,2,2,"mat-option",11),t.qZA()()(),t.TgZ(26,"span",12),t.ALo(27,"translate"),t.ALo(28,"async"),t.TgZ(29,"button",13),t.NdJ("click",function(){return i.buyLicense()}),t.ALo(30,"async"),t._uU(31),t.ALo(32,"translate"),t.qZA()(),t.YNc(33,ro,6,8,"div",14),t.ALo(34,"async"),t.TgZ(35,"ul")(36,"li",15)(37,"mat-icon"),t._uU(38,"check"),t.qZA(),t._uU(39),t.ALo(40,"translate"),t.qZA(),t.TgZ(41,"li")(42,"mat-icon"),t._uU(43,"tab"),t.qZA(),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.TgZ(46,"li")(47,"mat-icon"),t._uU(48,"light_mode"),t.qZA(),t._uU(49),t.ALo(50,"translate"),t.qZA()()()()),2&o&&(t.Q6J("ngIf",null===t.lcZ(1,17,i.user)),t.xp6(2),t.Q6J("ngIf",t.lcZ(3,19,i.user)),t.xp6(4),t.Oqu(t.lcZ(7,21,"Available Upgrades:")),t.xp6(4),t.Oqu(t.lcZ(11,23,"Premium")),t.xp6(3),t.hij(" ",t.lcZ(14,25,i.price)," / "),t.xp6(3),t.Q6J("formControl",i.frequencyControl),t.xp6(2),t.Oqu(t.lcZ(19,27,"Month")),t.xp6(3),t.Oqu(t.lcZ(22,29,"Year")),t.xp6(3),t.Q6J("formControl",i.currencyControl),t.xp6(1),t.Q6J("ngForOf",i.currencies),t.xp6(1),t.Q6J("matTooltip",t.lcZ(27,31,t.lcZ(28,33,i.user)?"Click to purchase a subscription":"You must be logged in to upgrade")),t.xp6(3),t.Q6J("disabled",null===t.lcZ(30,35,i.user)),t.xp6(2),t.hij(" ",t.lcZ(32,37,"Buy License")," "),t.xp6(2),t.Q6J("ngIf",t.lcZ(34,39,i.purchaseError)),t.xp6(6),t.Oqu(t.lcZ(40,41,"All basic features")),t.xp6(5),t.Oqu(t.lcZ(45,43,"Unlimited tabs")),t.xp6(5),t.Oqu(t.lcZ(50,45,"Light theme")))},dependencies:[g.KE,v.gD,w.ey,p.sg,p.O5,s.JJ,s.oH,Z.lW,O.a8,S.Hw,Y.gM,tt,p.Ov,eo.z,J.X],styles:["[_nghost-%COMP%]{padding:10px}.login[_ngcontent-%COMP%]{margin-bottom:40px}.login[_ngcontent-%COMP%]   .login-title[_ngcontent-%COMP%]{margin-bottom:20px}.login[_ngcontent-%COMP%]   app-login-view[_ngcontent-%COMP%]{display:block;max-width:500px}.logged-in[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]{margin-left:10px}.features[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:40px}.features[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{width:400px;margin-bottom:20px;padding-top:40px;text-align:center}.features[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .mat-headline-4[_ngcontent-%COMP%]{margin-bottom:20px;font-family:Alegreya Sans SC,sans-serif;letter-spacing:.1rem}.features[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{line-height:32px;margin:0}.features[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-left:10px;width:110px}.features[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]     .mat-mdc-form-field-infix{padding-top:4px;padding-bottom:4px;min-height:32px}.features[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper{display:none}.features[_ngcontent-%COMP%]   .purchase-btn[_ngcontent-%COMP%]{display:block;margin:20px auto}.features[_ngcontent-%COMP%]   .errors[_ngcontent-%COMP%]{margin:0 10px 20px}.features[_ngcontent-%COMP%]   .errors[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:5px}.features[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:0 10px 10px;list-style:none;text-align:left}.features[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{border-radius:4px;margin-bottom:10px;padding:10px;vertical-align:middle}.features[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.features[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:10px;vertical-align:middle}.dark-theme[_nghost-%COMP%]   .features[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .mat-headline-4[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .features[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .mat-headline-4[_ngcontent-%COMP%]{color:#ffd180}.dark-theme[_nghost-%COMP%]   .features[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.highlight[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .features[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.highlight[_ngcontent-%COMP%]{background-color:#263238}.light-theme[_nghost-%COMP%]   .features[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .mat-headline-4[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .features[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .mat-headline-4[_ngcontent-%COMP%]{color:#ffab40}.light-theme[_nghost-%COMP%]   .features[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.highlight[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .features[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.highlight[_ngcontent-%COMP%]{background-color:#b0bec5}"],changeDetection:0})}}return(0,f.gn)([(0,m.Ph)(E.jq.user)],n.prototype,"user",void 0),n})();var lo=r(7033);const co=function(){return["./upgrade"]};function po(n,a){1&n&&(t.TgZ(0,"mat-list-item",9),t._UZ(1,"mat-icon",10),t._uU(2),t.ALo(3,"translate"),t.qZA()),2&n&&(t.Q6J("routerLink",t.DdM(4,co)),t.xp6(2),t.hij("",t.lcZ(3,2,"Upgrade !verb!")," "))}const mo=function(){return["./general"]},go=function(){return["./profiles"]},uo=function(){return["./credentials"]},_o=function(){return["./repositories"]},fo=function(){return["./about"]};class ht extends((0,N.j)(U.A)){constructor(a){super(),this.authService=a,this.close=()=>{history.back()}}ngOnInit(){this.accessLevel=this.authService.accessLevel}static{this.\u0275fac=function(e){return new(e||ht)(t.Y36(ut.e))}}static{this.\u0275cmp=t.Xpm({type:ht,selectors:[["ng-component"]],features:[t.qOj],decls:41,vars:31,consts:[["type","button","mat-icon-button","","matTooltip","Go Back",1,"app-icon-button-md",3,"click"],[1,"mat-app-background"],["id","settings-layout"],["min","200px"],[1,"links"],["routerLinkActive","active","skipLocationChange","","class","highlight",3,"routerLink",4,"ngIf"],["routerLinkActive","active","skipLocationChange","",3,"routerLink"],["svgIcon","source-repository"],["min","500px"],["routerLinkActive","active","skipLocationChange","",1,"highlight",3,"routerLink"],["svgIcon","glint"]],template:function(e,o){1&e&&(t.TgZ(0,"header")(1,"mat-toolbar")(2,"button",0),t.NdJ("click",function(){return o.close()}),t.TgZ(3,"mat-icon"),t._uU(4,"arrow_back"),t.qZA()(),t.TgZ(5,"span"),t._uU(6),t.ALo(7,"translate"),t.qZA()()(),t.TgZ(8,"main",1)(9,"app-grid",2)(10,"app-grid-cell",3)(11,"mat-list",4),t.YNc(12,po,4,5,"mat-list-item",5),t.ALo(13,"async"),t.TgZ(14,"mat-list-item",6)(15,"mat-icon"),t._uU(16,"build"),t.qZA(),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"mat-list-item",6)(20,"mat-icon"),t._uU(21,"person"),t.qZA(),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"mat-list-item",6)(25,"mat-icon"),t._uU(26,"key"),t.qZA(),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"mat-list-item",6),t._UZ(30,"mat-icon",7),t._uU(31),t.ALo(32,"translate"),t.qZA(),t.TgZ(33,"mat-list-item",6)(34,"mat-icon"),t._uU(35,"info"),t.qZA(),t._uU(36),t.ALo(37,"translate"),t.qZA()()(),t.TgZ(38,"app-grid-cell",8),t._UZ(39,"router-outlet"),t.qZA()()(),t._UZ(40,"app-notification-tray-view")),2&e&&(t.xp6(6),t.Oqu(t.lcZ(7,12,"Settings")),t.xp6(6),t.Q6J("ngIf","pro"!==t.lcZ(13,14,o.accessLevel)),t.xp6(2),t.Q6J("routerLink",t.DdM(26,mo)),t.xp6(3),t.hij("",t.lcZ(18,16,"General")," "),t.xp6(2),t.Q6J("routerLink",t.DdM(27,go)),t.xp6(3),t.hij("",t.lcZ(23,18,"Profiles")," "),t.xp6(2),t.Q6J("routerLink",t.DdM(28,uo)),t.xp6(3),t.hij("",t.lcZ(28,20,"Credentials")," "),t.xp6(2),t.Q6J("routerLink",t.DdM(29,_o)),t.xp6(2),t.hij("",t.lcZ(32,22,"Repositories")," "),t.xp6(2),t.Q6J("routerLink",t.DdM(30,fo)),t.xp6(3),t.hij("",t.lcZ(37,24,"About")," "))},dependencies:[A.i$,A.Tg,vt,p.O5,Z.RK,S.Hw,Y.gM,Ut.Y,St.M,lo.G,k.lC,k.rH,k.Od,p.Ov,J.X],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:-8px;margin-right:10px}main[_ngcontent-%COMP%]{height:100%;overflow:hidden}main[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]{padding-top:0}main[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]{outline:none;cursor:pointer}main[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:10px}main[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   .exit-icon[_ngcontent-%COMP%]{line-height:48px;margin-right:10px}app-notification-tray-view[_ngcontent-%COMP%]{position:fixed;bottom:10px;left:10px;margin-right:10px;margin-top:10px;z-index:1000}.dark-theme[_nghost-%COMP%]   main[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   main[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background:#78909c}.dark-theme[_nghost-%COMP%]   main[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   main[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ffd180}.light-theme[_nghost-%COMP%]   main[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   main[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background:#cfd8dc}.light-theme[_nghost-%COMP%]   main[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   main[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ffab40}"],changeDetection:0})}}const ho=[{path:"",component:ht,children:[{path:"about",component:ne},{path:"credentials",component:xe},{path:"general",component:nn},{path:"profiles",component:On},{path:"repositories",component:Xn},{path:"upgrade",component:so},{path:"",redirectTo:"general",pathMatch:"full"}]}];class Ct{static{this.\u0275fac=function(e){return new(e||Ct)}}static{this.\u0275mod=t.oAB({type:Ct})}static{this.\u0275inj=t.cJS({imports:[k.Bz.forChild(ho),k.Bz]})}}class xt{static{this.\u0275fac=function(e){return new(e||xt)}}static{this.\u0275mod=t.oAB({type:xt})}static{this.\u0275inj=t.cJS({imports:[A.ie,Et,F.I,Qt.X,Ct,ot,it,st,lt,ct,pt]})}}},7093:(wt,H,r)=>{r.d(H,{v:()=>B});var A=r(5412),t=r(9549),w=r(284),K=r(1572),p=r(4385),bt=r(3179),nt=r(4650);class B{static{this.\u0275fac=function(Pt){return new(Pt||B)}}static{this.\u0275mod=nt.oAB({type:B})}static{this.\u0275inj=nt.cJS({imports:[A.Is,t.lN,w.c,K.Cq,p.LD,bt.I]})}}}}]);
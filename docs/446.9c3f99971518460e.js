"use strict";(self.webpackChunkgit_glint=self.webpackChunkgit_glint||[]).push([[446],{9131:(V,N,o)=>{o.d(N,{j:()=>R});var p=o(1135),n=o(4650),A=o(6895),_=o(266);function e(D,f){if(1&D&&(n.TgZ(0,"div",3),n._uU(1),n.ALo(2,"async"),n.qZA()),2&D){const w=n.oxw();n.xp6(1),n.Oqu(n.lcZ(2,1,w.leftPath))}}class R{constructor(){this.leftPath=new p.X(""),this.rightPath=new p.X("")}onCopy(f){f.preventDefault();const w=document.getSelection();w&&f.clipboardData?.setData("text/plain",w.toString().replace("\n",""))}ngOnChanges(f){if(f.path){const w=/^(.*)(\/[^\/]+)$/.exec(f.path.currentValue);w?(this.leftPath.next(w[1]),this.rightPath.next(w[2])):(this.leftPath.next(""),this.rightPath.next(f.path.currentValue))}}static{this.\u0275fac=function(w){return new(w||R)}}static{this.\u0275cmp=n.Xpm({type:R,selectors:[["app-condensed-path"]],hostBindings:function(w,m){1&w&&n.NdJ("copy",function(I){return m.onCopy(I)})},inputs:{path:"path"},features:[n.TTD],decls:6,vars:7,consts:[[1,"container",3,"matTooltip"],["class","left",4,"ngIf"],[1,"right"],[1,"left"]],template:function(w,m){1&w&&(n.TgZ(0,"div",0),n.YNc(1,e,3,3,"div",1),n.ALo(2,"async"),n.TgZ(3,"div",2),n._uU(4),n.ALo(5,"async"),n.qZA()()),2&w&&(n.Q6J("matTooltip",m.path||""),n.xp6(1),n.Q6J("ngIf",n.lcZ(2,3,m.leftPath)),n.xp6(3),n.Oqu(n.lcZ(5,5,m.rightPath)))},dependencies:[A.O5,_.gM,A.Ov],styles:[".container[_ngcontent-%COMP%]{display:flex}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.left[_ngcontent-%COMP%]{min-width:15px}.right[_ngcontent-%COMP%]{flex:1 0 auto;max-width:100%;margin-left:-4px;padding-left:4px}.left[_ngcontent-%COMP%] + .right[_ngcontent-%COMP%]{max-width:calc(100% - 15px)}"],changeDetection:0})}}},3061:(V,N,o)=>{o.d(N,{T:()=>t});var p=o(4650),n=o(4006),A=o(801),_=o(9841),e=o(8372),R=o(9300),D=o(8675),f=o(2722),w=o(8926),m=o(9967),O=o(4462),I=o(6895),v=o(4859),x=o(9549),C=o(7392),y=o(284),b=o(266);const l=["findControlInput"];function a(i,M){if(1&i&&(p.TgZ(0,"mat-error"),p._uU(1),p.qZA()),2&i){const h=p.oxw();p.xp6(1),p.Oqu(h.findControl.getError("regex"))}}class t extends((0,w.j)(m.A)){constructor(){super(...arguments),this.initial=null,this.searched=new p.vpe,this.findControl=new n.NI("",{nonNullable:!0,validators:M=>{if(this.useRegularExpressionControl?.value)try{new RegExp(M.value,"g")}catch(h){return{regex:h.message}}return null}}),this.matchCaseControl=new n.NI(!1,{nonNullable:!0}),this.useRegularExpressionControl=new n.NI(!1,{nonNullable:!0})}hostKeyDown(M){(O.V?M.metaKey:M.ctrlKey)&&("f"===M.key||"F"===M.key)&&(M.preventDefault(),this.findControlInput.nativeElement.focus({preventScroll:!0}))}ngOnInit(){this.initial&&(this.findControl.setValue(this.initial.text),this.matchCaseControl.setValue(this.initial.matchCase),this.useRegularExpressionControl.setValue(this.initial.useRegularExpression)),(0,_.a)([this.findControl.valueChanges.pipe((0,e.b)(200),(0,R.h)(()=>this.findControl.valid),(0,D.O)(this.findControl.value)),this.matchCaseControl.valueChanges.pipe((0,D.O)(this.matchCaseControl.value)),this.useRegularExpressionControl.valueChanges.pipe((0,D.O)(this.useRegularExpressionControl.value))]).pipe((0,f.R)(this.destroyed$)).subscribe(([M,h,k])=>{if(this.findControl.updateValueAndValidity({emitEvent:!1}),M)try{const B=new RegExp(k?M:(0,A.Z)(M),h?"g":"ig");this.searched.next(B)}catch{}else this.searched.next(null)})}static{this.\u0275fac=function(){let M;return function(k){return(M||(M=p.n5z(t)))(k||t)}}()}static{this.\u0275cmp=p.Xpm({type:t,selectors:[["app-find-control"]],viewQuery:function(h,k){if(1&h&&p.Gf(l,5,p.SBq),2&h){let B;p.iGM(B=p.CRH())&&(k.findControlInput=B.first)}},hostBindings:function(h,k){1&h&&p.NdJ("keydown",function(T){return k.hostKeyDown(T)},!1,p.evT)},inputs:{initial:"initial"},outputs:{searched:"searched"},features:[p.qOj],decls:15,vars:6,consts:[[1,"find-control"],["matPrefix",""],["type","text","matInput","",3,"formControl"],["findControlInput",""],["type","button","matSuffix","","mat-button","","disableRipple","","matTooltip","Match case",3,"click"],["svgIcon","format-letter-case"],["type","button","matSuffix","","mat-button","","disableRipple","","matTooltip","Use regular expression",3,"click"],["svgIcon","regex"],["type","button","matSuffix","","mat-button","","matTooltip","Clear",3,"click"],[4,"ngIf"]],template:function(h,k){1&h&&(p.TgZ(0,"mat-form-field",0)(1,"mat-label"),p._uU(2,"Find"),p.qZA(),p.TgZ(3,"mat-icon",1),p._uU(4,"search"),p.qZA(),p._UZ(5,"input",2,3),p.TgZ(7,"button",4),p.NdJ("click",function(){return k.matchCaseControl.setValue(!k.matchCaseControl.value)}),p._UZ(8,"mat-icon",5),p.qZA(),p.TgZ(9,"button",6),p.NdJ("click",function(){return k.useRegularExpressionControl.setValue(!k.useRegularExpressionControl.value)}),p._UZ(10,"mat-icon",7),p.qZA(),p.TgZ(11,"button",8),p.NdJ("click",function(){return k.findControl.setValue("")}),p.TgZ(12,"mat-icon"),p._uU(13,"close"),p.qZA()(),p.YNc(14,a,2,1,"mat-error",9),p.qZA()),2&h&&(p.xp6(5),p.Q6J("formControl",k.findControl),p.xp6(2),p.ekj("selected",k.matchCaseControl.value),p.xp6(2),p.ekj("selected",k.useRegularExpressionControl.value),p.xp6(5),p.Q6J("ngIf",k.findControl.hasError("regex")))},dependencies:[I.O5,n.Fj,n.JJ,n.oH,v.lW,x.KE,x.hX,x.TO,x.qo,x.R9,C.Hw,y.Nt,b.gM],styles:[".find-control[_ngcontent-%COMP%]{min-width:200px;margin-top:5px}.find-control[_ngcontent-%COMP%]  .mat-mdc-form-field-icon-suffix{display:flex;align-items:center;gap:4px;margin-right:4px}.find-control[_ngcontent-%COMP%]  .mdc-notched-outline__leading, .find-control[_ngcontent-%COMP%]  .mdc-notched-outline__notch, .find-control[_ngcontent-%COMP%]  .mdc-notched-outline__trailing{border:none}.find-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:2px solid transparent;min-width:36px}.find-control[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{border-color:#37474f}.find-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:0;font-size:24px;width:24px;height:24px}"],changeDetection:0})}}},127:(V,N,o)=>{o.d(N,{m:()=>_});var p=o(3779),n=o(4650),A=o(7016);class _{constructor(R){this.baseApi=R}getHighlightedFile(R,D,f,w){return this.baseApi.single(p.w.highlight.getHighlightedFile,R,D,f,w)}static{this.\u0275fac=function(D){return new(D||_)(n.LFG(A._))}}static{this.\u0275prov=n.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}}},7205:(V,N,o)=>{o.d(N,{Q:()=>y});var p=o(1135),n=o(4968),A=o(9646),_=o(515),e=o(6451),R=o(3900),D=o(9468),f=o(4004),w=o(8675),m=o(2722),O=o(8505),I=o(8746),v=o(4462),x=o(2120),C=o(4650);class y{constructor(){this.charWidth=7.7,this.selectedRange=new p.X(null),this.selectedFileLines=new p.X([]),this.isGreaterThan=(l,a)=>l.line>a.line||l.line===a.line&&l.char>a.char,this.isLessThan=(l,a)=>l.line<a.line||l.line===a.line&&l.char<a.char}captureSelections(l,a,t,i,M){const h=(0,n.R)(l,"mousedown").pipe((0,R.w)(T=>{const g=a(T.x,T.y);return T.shiftKey?(0,A.of)([this.selectedRange.value?.[0]??{line:0,char:0},g]):(0,n.R)(l,"mousemove").pipe((0,D.p)(30,void 0,{leading:!0,trailing:!0}),(0,f.U)(E=>[g,a(E.x,E.y)]),(0,w.O)(null),(0,m.R)((0,n.R)(l,"mousedown")),(0,m.R)((0,n.R)(l,"mouseleave")),(0,m.R)((0,n.R)(l,"mouseup")))})),k=(0,n.R)(l,"keydown").pipe((0,R.w)(T=>{if((v.V?T.metaKey:T.ctrlKey)&&!T.shiftKey&&!T.altKey)switch(T.key){case"A":case"a":return T.preventDefault(),(0,A.of)([{line:0,char:0},i()]);case"C":case"c":T.preventDefault();const g=this.selectedRange.value;if(g){const[E,j]=this.isLessThan(g[0],g[1])?g:[g[1],g[0]],W=t(E.line,j.line);E.line===j.line?W[0]=W[0]?.slice(E.char,j.char):(W[0]=W[0]?.slice(E.char),W[W.length-1]=W[W.length-1]?.slice(0,j.char)),navigator.clipboard.writeText(W.filter(x.$K).join("\n"))}}if(!T.metaKey&&!T.ctrlKey&&T.shiftKey&&!T.altKey){const g=this.selectedRange.value;switch(T.key){case"ArrowUp":if(g){const E=g[1].line-1,j=t(E,E)[0]??"";return(0,A.of)([g[0],{line:E,char:Math.min(j.length,g[1].char)}])}break;case"ArrowDown":if(g){const E=g[1].line+1,j=t(E,E)[0]??"";return(0,A.of)([g[0],{line:E,char:Math.min(j.length,g[1].char)}])}return(0,A.of)([{line:0,char:0},{line:1,char:0}]);case"ArrowLeft":if(g){if(g[1].char<=0){const j=g[1].line-1,W=t(j,j)[0]??"";return(0,A.of)([g[0],{line:j,char:W.length-1}])}return(0,A.of)([g[0],{line:g[1].line,char:g[1].char-1}])}break;case"ArrowRight":if(g){const E=g[1].char,j=t(g[1].line,g[1].line)[0]??"";return(0,A.of)(E>=j.length-1?[g[0],{line:g[1].line+1,char:0}]:[g[0],{line:g[1].line,char:g[1].char+1}])}break;case"Home":if(g)return(0,A.of)([g[0],{line:0,char:0}]);break;case"End":if(g)return(0,A.of)([g[0],i()])}}return _.E})),B=(0,n.R)(l,"dblclick").pipe((0,R.w)(T=>{const g=a(T.x,T.y),E=t(g.line,g.line)[0];if(E){const j=/[a-zA-Z0-9_]/;let W=g.char,H=g.char;for(;E[W]&&j.test(E[W]);)W--;for(;E[H]&&j.test(E[H]);)H++;return 0===E.slice(W,H).length?(0,A.of)(null):(0,A.of)([{line:g.line,char:W+1},{line:g.line,char:H}])}return _.E}));return(0,e.T)(h,k,B).pipe((0,O.b)(T=>{this.selectedRange.next(T),this.selectedFileLines.next(T?M(this.isLessThan(T[0],T[1])?T:[T[1],T[0]]):[])}),(0,I.x)(()=>{this.selectedRange.next(null),this.selectedFileLines.next([])}))}static{this.\u0275fac=function(a){return new(a||y)}}static{this.\u0275prov=C.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}}},5410:(V,N,o)=>{o.d(N,{s:()=>ge});var p=o(655),n=o(4650),A=o(9867),_=o(7717),e=o(1135),R=o(9841),D=o(4128),f=o(9646),w=o(2843),m=o(4004),O=o(1884),I=o(8505),v=o(3900),x=o(2722),C=o(5684),y=o(9300),b=o(262),l=o(5698),a=o(2435),t=o(8926),i=o(9967),M=o(4889),h=o(6966),k=o(9578),B=o(9077),T=o(127),g=o(7205);const E=["fontMeasure"];function j(F,$){if(1&F&&(n._UZ(0,"app-condensed-path",16),n.ALo(1,"async")),2&F){const u=n.oxw(2);n.Q6J("path",n.lcZ(1,1,u.filePath))}}function W(F,$){if(1&F){const u=n.EpF();n.TgZ(0,"button",17),n.NdJ("click",function(){n.CHM(u);const Z=n.oxw(2);return n.KtG(Z.modifyLinesStage("stage"))}),n._UZ(1,"mat-icon",18),n.qZA()}}function H(F,$){if(1&F){const u=n.EpF();n.TgZ(0,"button",19),n.NdJ("click",function(){n.CHM(u);const Z=n.oxw(2);return n.KtG(Z.modifyLinesStage("discard"))}),n._UZ(1,"mat-icon",20),n.qZA()}}function te(F,$){if(1&F){const u=n.EpF();n.TgZ(0,"button",21),n.NdJ("click",function(){n.CHM(u);const Z=n.oxw(2);return n.KtG(Z.modifyLinesStage("unstage"))}),n._UZ(1,"mat-icon",22),n.qZA()}}function ne(F,$){if(1&F){const u=n.EpF();n.TgZ(0,"button",23),n.NdJ("click",function(){n.CHM(u);const Z=n.oxw(2);return n.KtG(Z.edited.next())}),n.TgZ(1,"mat-icon"),n._uU(2,"edit"),n.qZA()()}}function oe(F,$){if(1&F){const u=n.EpF();n.TgZ(0,"button",24),n.NdJ("click",function(){n.CHM(u);const Z=n.oxw(2);return n.KtG(Z.closed.next())}),n.TgZ(1,"mat-icon"),n._uU(2,"close"),n.qZA()()}}function ce(F,$){1&F&&(n.TgZ(0,"main"),n._uU(1,"Loading..."),n.qZA())}function ie(F,$){1&F&&(n.TgZ(0,"main"),n._uU(1,"Cannot load binary file."),n.qZA())}function re(F,$){1&F&&(n.TgZ(0,"main"),n._uU(1,"Cannot load file."),n.qZA())}function ae(F,$){if(1&F&&n._UZ(0,"app-hunk-view",26),2&F){const u=n.oxw(3);n.Q6J("diffLines",u.diffLines)("search",u.search$)}}function se(F,$){if(1&F&&n._UZ(0,"app-inline-view",26),2&F){const u=n.oxw(3);n.Q6J("diffLines",u.diffLines)("search",u.search$)}}function X(F,$){if(1&F&&n._UZ(0,"app-split-view",26),2&F){const u=n.oxw(3);n.Q6J("diffLines",u.diffLines)("search",u.search$)}}function le(F,$){if(1&F&&(n.TgZ(0,"main"),n.YNc(1,ae,1,2,"app-hunk-view",25),n.YNc(2,se,1,2,"app-inline-view",25),n.YNc(3,X,1,2,"app-split-view",25),n.qZA()),2&F){const u=n.oxw().ngIf;n.xp6(1),n.Q6J("ngIf","hunk"===u),n.xp6(1),n.Q6J("ngIf","inline"===u),n.xp6(1),n.Q6J("ngIf","split"===u)}}function de(F,$){if(1&F){const u=n.EpF();n.ynx(0),n.TgZ(1,"header")(2,"app-find-control",3),n.NdJ("searched",function(Z){n.CHM(u);const K=n.oxw();return n.KtG(K.search$.next(Z))}),n.qZA(),n.YNc(3,j,2,3,"app-condensed-path",4),n.ALo(4,"async"),n.ALo(5,"async"),n.TgZ(6,"div",5),n.YNc(7,W,2,0,"button",6),n.ALo(8,"async"),n.YNc(9,H,2,0,"button",7),n.ALo(10,"async"),n.YNc(11,te,2,0,"button",8),n.ALo(12,"async"),n.TgZ(13,"mat-button-toggle-group",9),n.NdJ("change",function(Z){n.CHM(u);const K=n.oxw();return n.KtG(K.changeView(Z.value))}),n.TgZ(14,"mat-button-toggle",10)(15,"mat-icon"),n._uU(16,"calendar_view_day"),n.qZA()(),n.TgZ(17,"mat-button-toggle",11)(18,"mat-icon"),n._uU(19,"view_headline"),n.qZA()(),n.TgZ(20,"mat-button-toggle",12)(21,"mat-icon"),n._uU(22,"vertical_split"),n.qZA()()(),n.TgZ(23,"div",13),n.YNc(24,ne,3,0,"button",14),n.YNc(25,oe,3,0,"button",15),n.qZA()()(),n.YNc(26,ce,2,0,"main",0),n.ALo(27,"async"),n.YNc(28,ie,2,0,"main",0),n.ALo(29,"async"),n.YNc(30,re,2,0,"main",0),n.ALo(31,"async"),n.YNc(32,le,4,3,"main",0),n.ALo(33,"async"),n.BQk()}if(2&F){const u=$.ngIf,P=n.oxw();n.xp6(2),n.Q6J("initial",P.search),n.xp6(1),n.Q6J("ngIf",!(n.lcZ(4,12,P.showStage)||n.lcZ(5,14,P.showUnstage))),n.xp6(4),n.Q6J("ngIf",n.lcZ(8,16,P.showStage)),n.xp6(2),n.Q6J("ngIf",n.lcZ(10,18,P.showStage)),n.xp6(2),n.Q6J("ngIf",n.lcZ(12,20,P.showUnstage)),n.xp6(2),n.Q6J("value",u),n.xp6(11),n.Q6J("ngIf",P.showEdit),n.xp6(1),n.Q6J("ngIf",!P.hideClose),n.xp6(1),n.Q6J("ngIf","loading"===n.lcZ(27,22,P.currentView)),n.xp6(2),n.Q6J("ngIf","binary-file"===n.lcZ(29,24,P.currentView)),n.xp6(2),n.Q6J("ngIf","error"===n.lcZ(31,26,P.currentView)),n.xp6(2),n.Q6J("ngIf","normal"===n.lcZ(33,28,P.currentView))}}let ge=(()=>{class F extends((0,t.j)(i.A)){constructor(u,P,Z){super(),this.store=u,this.highlightApi=P,this.diffSelectionService=Z,this.hideClose=!1,this.showEdit=!1,this.search=null,this.closed=new n.vpe,this.edited=new n.vpe,this.currentView=new e.X("loading"),this.diffLines=new e.X(null),this.search$=new e.X(null)}ngOnInit(){this.diffSelectionService.charWidth=this.fontMeasure.nativeElement.getBoundingClientRect().width/1942,this.showStage=(0,R.a)([this.patch,this.selectedCommitId,this.diffSelectionService.selectedFileLines]).pipe((0,m.U)(([u,P,Z])=>"head"===P&&!0===u?.isUnstaged&&!u.patch.newFileIsSubmodule&&!u.patch.oldFileIsSubmodule&&Z.length>0)),this.showUnstage=(0,R.a)([this.patch,this.selectedCommitId,this.diffSelectionService.selectedFileLines]).pipe((0,m.U)(([u,P,Z])=>"head"===P&&!1===u?.isUnstaged&&!u.patch.newFileIsSubmodule&&!u.patch.oldFileIsSubmodule&&Z.length>0)),this.filePath=this.patch.pipe((0,m.U)(u=>u?.patch.newFilePath??u?.patch.oldFilePath??"")),this.patch.pipe((0,O.x)((u,P)=>u&&P?!(u.repositoryPath!==P.repositoryPath||u.isUnstaged!==P.isUnstaged||u.patch.newFileId!==P.patch.newFileId||u.patch.newFileIsDir!==P.patch.newFileIsDir||u.patch.newFileIsSubmodule!==P.patch.newFileIsSubmodule||u.patch.newFilePath!==P.patch.newFilePath||u.patch.oldFileId!==P.patch.oldFileId||u.patch.oldFileIsDir!==P.patch.oldFileIsDir||u.patch.oldFileIsSubmodule!==P.patch.oldFileIsSubmodule||u.patch.oldFilePath!==P.patch.oldFilePath||u.patch.status!==P.patch.status||u.patch.hunks.length!==P.patch.hunks.length||(0,_.Z)(u.patch.hunks,P.patch.hunks).some(([Z,K])=>Z?.lines.length!==K?.lines.length||Z?.newStart!==K?.newStart||Z?.oldStart!==K?.oldStart||Z?.header!==K?.header||Z&&K&&(0,_.Z)(Z.lines,K.lines).some(([J,Y])=>J?.content.length!==Y?.content.length||J?.contentOffset!==Y?.contentOffset||J?.newLineNo!==Y?.newLineNo||J?.oldLineNo!==Y?.oldLineNo||J?.origin!==Y?.origin||J?.content!==Y?.content))):!u&&!P),(0,I.b)(()=>{this.currentView.next("loading")}),(0,v.w)(u=>u?(0,D.D)(this.getLines(u,!1)).pipe((0,x.R)(this.currentView.pipe((0,C.T)(1),(0,y.h)(P=>"loading"===P))),(0,x.R)(this.destroyed$),(0,m.U)(([P,Z])=>[u,P,Z]),(0,b.K)(P=>a.OZ.matches(P)?(this.currentView.next("binary-file"),(0,f.of)(null)):a.hK.matches(P)?(this.currentView.next("error"),(0,f.of)(null)):(0,w._)(()=>P))):(0,f.of)(null)),(0,I.b)(u=>{if(u){const[P,Z,K]=u;this.diffLines.next({hunks:P.patch.hunks,oldLines:Z,newLines:K,oldFilePath:P.patch.oldFilePath,newFilePath:P.patch.newFilePath,highlighted:!1}),this.currentView.next("normal")}else this.diffLines.next(null)}),(0,v.w)(u=>u?.[0]?(0,D.D)(this.getLines(u?.[0],!0)).pipe((0,x.R)(this.currentView.pipe((0,C.T)(1),(0,y.h)(P=>"loading"===P))),(0,x.R)(this.destroyed$),(0,m.U)(([P,Z])=>[u?.[0],P,Z]),(0,b.K)(P=>a.OZ.matches(P)?(this.currentView.next("binary-file"),(0,f.of)(null)):a.hK.matches(P)?(this.currentView.next("error"),(0,f.of)(null)):(0,w._)(()=>P))):(0,f.of)(null)),(0,x.R)(this.destroyed$)).subscribe(u=>{if(u){const[P,Z,K]=u;this.diffLines.next({hunks:P.patch.hunks,oldLines:Z,newLines:K,oldFilePath:P.patch.oldFilePath,newFilePath:P.patch.newFilePath,highlighted:!0}),this.currentView.next("normal")}else this.diffLines.next(null)})}changeView(u){this.store.dispatch(new k.zb(u))}modifyLinesStage(u){const P=this.store.selectSnapshot(h.E.selectedRepositoryPath);if(!P)throw new Error(`Cannot ${u} file lines when no repository is selected`);this.patch.pipe((0,l.q)(1)).subscribe(Z=>{Z&&Z.patch.oldFilePath&&this.store.dispatch(new("discard"===u?M.Hb:"stage"===u?M.q:M.ew)(P,Z.patch.oldFileId?Z.patch.oldFilePath:null,Z.patch.newFileId?Z.patch.newFilePath:null,this.diffSelectionService.selectedFileLines.value))})}getLines(u,P){if(u.patch.oldFileIsSubmodule||u.patch.newFileIsSubmodule){if(u.patch.hunks.length<=0)return[(0,f.of)([]),(0,f.of)([])];const Z=u.patch.hunks[0].lines.find(J=>J.oldLineNo>0),K=u.patch.hunks[0].lines.find(J=>J.newLineNo>0);return[(0,f.of)([{lineNumber:1,text:Z?.content??"",tokens:[{startIndex:0,endIndex:Z?.content.length??0,scopes:["normal"]}]}]),(0,f.of)([{lineNumber:1,text:K?.content??"",tokens:[{startIndex:0,endIndex:K?.content.length??0,scopes:["normal"]}]}])]}return[u.patch.oldFileId?this.highlightApi.getHighlightedFile(u.repositoryPath,u.patch.oldFileId,u.patch.oldFilePath,P):(0,f.of)([]),u.isUnstaged?this.highlightApi.getHighlightedFile(u.repositoryPath,null,u.patch.newFilePath,P):u.patch.newFileId?this.highlightApi.getHighlightedFile(u.repositoryPath,u.patch.newFileId,u.patch.newFilePath,P):(0,f.of)([])]}static{this.\u0275fac=function(P){return new(P||F)(n.Y36(A.yh),n.Y36(T.m),n.Y36(g.Q))}}static{this.\u0275cmp=n.Xpm({type:F,selectors:[["app-diff-view"]],viewQuery:function(P,Z){if(1&P&&n.Gf(E,7,n.SBq),2&P){let K;n.iGM(K=n.CRH())&&(Z.fontMeasure=K.first)}},inputs:{patch:"patch",hideClose:"hideClose",showEdit:"showEdit",search:"search"},outputs:{closed:"closed",edited:"edited"},features:[n.qOj],decls:5,vars:3,consts:[[4,"ngIf"],[1,"font-measure-text"],["fontMeasure",""],[3,"initial","searched"],[3,"path",4,"ngIf"],[1,"right"],["type","button","class","stage-button","mat-stroked-button","","matTooltip","Stage selected lines",3,"click",4,"ngIf"],["type","button","class","discard-button","mat-stroked-button","","color","warn","matTooltip","Discard selected lines",3,"click",4,"ngIf"],["type","button","class","unstage-button","mat-stroked-button","","matTooltip","Unstage selected lines",3,"click",4,"ngIf"],[3,"value","change"],["value","hunk","matTooltip","Hunk View"],["value","inline","matTooltip","Inline View"],["value","split","matTooltip","Split View"],[1,"close-container"],["type","button","class","edit-button","mat-icon-button","",3,"click",4,"ngIf"],["type","button","class","close-button","mat-icon-button","",3,"click",4,"ngIf"],[3,"path"],["type","button","mat-stroked-button","","matTooltip","Stage selected lines",1,"stage-button",3,"click"],["svgIcon","tray-plus"],["type","button","mat-stroked-button","","color","warn","matTooltip","Discard selected lines",1,"discard-button",3,"click"],["svgIcon","tray-remove"],["type","button","mat-stroked-button","","matTooltip","Unstage selected lines",1,"unstage-button",3,"click"],["svgIcon","tray-minus"],["type","button","mat-icon-button","",1,"edit-button",3,"click"],["type","button","mat-icon-button","",1,"close-button",3,"click"],[3,"diffLines","search",4,"ngIf"],[3,"diffLines","search"]],template:function(P,Z){1&P&&(n.YNc(0,de,34,30,"ng-container",0),n.ALo(1,"async"),n.TgZ(2,"code",1,2),n._uU(4,"this is a test line to measure the font width since it is different on different devices, or if the user has configured a different font. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla mattis lectus a nulla porta eleifend. Phasellus at sollicitudin mauris, et ultricies purus. Donec eget lacus sed massa pulvinar pharetra. Morbi aliquet dictum massa vel pellentesque. Nulla quis suscipit nulla, non interdum mauris. Pellentesque nunc lorem, pulvinar at luctus eu, lacinia at erat. Nullam ut ornare justo. Integer in nulla neque. Ut faucibus congue augue a viverra. Pellentesque nec justo et mauris consectetur bibendum. Cras sit amet porttitor eros, quis viverra risus. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Donec nec massa vitae magna semper porttitor. Nullam a dui ut ante dignissim dictum. Nullam ultrices eros at ligula venenatis iaculis. Sed consequat, lacus quis vulputate vehicula, tortor ante tempus dolor, et accumsan lacus augue eu quam. Aenean faucibus lacus at sem aliquet, vitae iaculis ex aliquet. Curabitur eget mollis mi, quis tincidunt nunc. Donec at molestie odio. Nulla facilisi. Vestibulum id luctus nunc, a iaculis magna. Sed ac accumsan est. Integer imperdiet lacus non facilisis rutrum. In commodo nisl mi, eu vestibulum nisl congue feugiat. Aenean malesuada augue in ex auctor egestas. Donec eget urna tortor. Proin quis lectus elementum, pharetra nibh at, pharetra nulla. Vivamus et consectetur tortor. Morbi mi turpis, egestas suscipit risus vel, auctor porta turpis. Maecenas commodo mi vel turpis tempor pulvinar. Phasellus a nibh ornare, mollis nulla ut, scelerisque lacus. Etiam non congue velit. Suspendisse in dictum orci, et vestibulum ipsum. Duis blandit consectetur neque, eu sollicitudin lorem hendrerit in. Cras sit amet iaculis turpis. Sed pulvinar, nunc sit amet dignissim malesuada, leo nunc rutrum sem, a accumsan nisl neque vitae ante."),n.qZA()),2&P&&n.Q6J("ngIf",n.lcZ(1,1,Z.view))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%;background:#1e1e1e;position:absolute}header[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:baseline;justify-content:space-between;margin-bottom:5px;outline:none;overflow-x:auto;overflow-y:hidden}header[_ngcontent-%COMP%]::-webkit-scrollbar{height:4px}header[_ngcontent-%COMP%]   app-condensed-path[_ngcontent-%COMP%]{min-width:150px}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;gap:5px}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .stage-button[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .discard-button[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .unstage-button[_ngcontent-%COMP%]{top:4px;height:40px}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .stage-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .discard-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .unstage-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:0;font-size:24px;width:24px;height:24px}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]{top:-1px;height:40px}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]{font-size:0}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]     .mat-button-toggle-label-content{line-height:38px;padding:0 6px}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .close-container[_ngcontent-%COMP%]{display:flex;align-items:center;align-self:baseline;overflow:hidden}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .close-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{line-height:20px;width:36px;height:36px;padding:6px}main[_ngcontent-%COMP%]{flex:1 0 auto;outline:none;overflow-x:auto;overflow-y:auto}.font-measure-text[_ngcontent-%COMP%]{position:absolute;visibility:hidden;display:block;white-space:pre;user-select:none;cursor:text;outline:none;color:#d4d4d4;font-family:Monaco,Menlo,Consolas,Droid Sans Mono,Inconsolata,Courier New,monospace;font-size:14px;font-weight:400;letter-spacing:0px;line-height:19px}.font-measure-text[_ngcontent-%COMP%]     .line{height:19px}.font-measure-text[_ngcontent-%COMP%]     .line.line-added{background:#1f2c19}.font-measure-text[_ngcontent-%COMP%]     .line.line-removed{background:#501515}.font-measure-text[_ngcontent-%COMP%]     .line.line-void{background:#111}.font-measure-text[_ngcontent-%COMP%]     .diff-added{background-color:#1d572c}.font-measure-text[_ngcontent-%COMP%]     .diff-removed{background-color:#803030}.font-measure-text[_ngcontent-%COMP%]     .search-result{background-color:#a14e1b}.font-measure-text[_ngcontent-%COMP%]     .meta-embedded, .font-measure-text[_ngcontent-%COMP%]     .source-groovy-embedded{color:#d4d4d4}.font-measure-text[_ngcontent-%COMP%]     .emphasis{font-style:italic}.font-measure-text[_ngcontent-%COMP%]     .strong{font-weight:700}.font-measure-text[_ngcontent-%COMP%]     .header{color:navy}.font-measure-text[_ngcontent-%COMP%]     .comment{color:#6a9955}.font-measure-text[_ngcontent-%COMP%]     .constant-language{color:#569cd6}.font-measure-text[_ngcontent-%COMP%]     .constant-numeric, .font-measure-text[_ngcontent-%COMP%]     .entity-name-operator-custom-literal-number, .font-measure-text[_ngcontent-%COMP%]     .variable-other-enummember, .font-measure-text[_ngcontent-%COMP%]     .keyword-operator-plus-exponent, .font-measure-text[_ngcontent-%COMP%]     .keyword-operator-minus-exponent{color:#b5cea8}.font-measure-text[_ngcontent-%COMP%]     .constant-regexp{color:#646695}.font-measure-text[_ngcontent-%COMP%]     .entity-name-tag{color:#569cd6}.font-measure-text[_ngcontent-%COMP%]     .entity-name-tag-css{color:#d7ba7d}.font-measure-text[_ngcontent-%COMP%]     .entity-other-attribute-name{color:#9cdcfe}.font-measure-text[_ngcontent-%COMP%]     .entity-other-attribute-name-class-css, .font-measure-text[_ngcontent-%COMP%]     .entity-other-attribute-name-class-mixin-css, .font-measure-text[_ngcontent-%COMP%]     .entity-other-attribute-name-id-css, .font-measure-text[_ngcontent-%COMP%]     .entity-other-attribute-name-parent-selector-css, .font-measure-text[_ngcontent-%COMP%]     .entity-other-attribute-name-pseudo-class-css, .font-measure-text[_ngcontent-%COMP%]     .entity-other-attribute-name-pseudo-element-css, .font-measure-text[_ngcontent-%COMP%]     .source-css-less .entity-other-attribute-name-id, .font-measure-text[_ngcontent-%COMP%]     .entity-other-attribute-name-attribute-scss, .font-measure-text[_ngcontent-%COMP%]     .entity-other-attribute-name-scss{color:#d7ba7d}.font-measure-text[_ngcontent-%COMP%]     .invalid{color:#f44747}.font-measure-text[_ngcontent-%COMP%]     .markup-underline{text-decoration:underline}.font-measure-text[_ngcontent-%COMP%]     .markup-bold{font-weight:700;color:#569cd6}.font-measure-text[_ngcontent-%COMP%]     .markup-heading{font-weight:700;color:#569cd6}.font-measure-text[_ngcontent-%COMP%]     .markup-italic{font-style:italic}.font-measure-text[_ngcontent-%COMP%]     .markup-inserted{color:#b5cea8}.font-measure-text[_ngcontent-%COMP%]     .markup-deleted{color:#ce9178}.font-measure-text[_ngcontent-%COMP%]     .markup-changed{color:#569cd6}.font-measure-text[_ngcontent-%COMP%]     .punctuation-definition-quote-begin-markdown{color:#6a9955}.font-measure-text[_ngcontent-%COMP%]     .punctuation-definition-list-begin-markdown{color:#6796e6}.font-measure-text[_ngcontent-%COMP%]     .markup-inline-raw{color:#ce9178}.font-measure-text[_ngcontent-%COMP%]     .punctuation-definition-tag{color:gray}.font-measure-text[_ngcontent-%COMP%]     .meta-preprocessor{color:#569cd6}.font-measure-text[_ngcontent-%COMP%]     .meta-preprocessor-string{color:#ce9178}.font-measure-text[_ngcontent-%COMP%]     .meta-preprocessor-numeric{color:#b5cea8}.font-measure-text[_ngcontent-%COMP%]     .meta-structure-dictionary-key-python{color:#9cdcfe}.font-measure-text[_ngcontent-%COMP%]     .meta-diff-header{color:#569cd6}.font-measure-text[_ngcontent-%COMP%]     .storage{color:#569cd6}.font-measure-text[_ngcontent-%COMP%]     .storage-type{color:#569cd6}.font-measure-text[_ngcontent-%COMP%]     .storage-modifier, .font-measure-text[_ngcontent-%COMP%]     .keyword-operator-noexcept{color:#569cd6}.font-measure-text[_ngcontent-%COMP%]     .string, .font-measure-text[_ngcontent-%COMP%]     .entity-name-operator-custom-literal-string{color:#ce9178}.font-measure-text[_ngcontent-%COMP%]     .string-tag{color:#ce9178}.font-measure-text[_ngcontent-%COMP%]     .string-value{color:#ce9178}.font-measure-text[_ngcontent-%COMP%]     .string-regexp{color:#d16969}.font-measure-text[_ngcontent-%COMP%]     .punctuation-definition-template-expression-begin, .font-measure-text[_ngcontent-%COMP%]     .punctuation-definition-template-expression-end, .font-measure-text[_ngcontent-%COMP%]     .punctuation-section-embedded{color:#569cd6}.font-measure-text[_ngcontent-%COMP%]     .meta-template-expression{color:#d4d4d4}.font-measure-text[_ngcontent-%COMP%]     .support-type-vendored-property-name, .font-measure-text[_ngcontent-%COMP%]     .support-type-property-name, .font-measure-text[_ngcontent-%COMP%]     .variable-css, .font-measure-text[_ngcontent-%COMP%]     .variable-scss, .font-measure-text[_ngcontent-%COMP%]     .variable-other-less, .font-measure-text[_ngcontent-%COMP%]     .source-coffee-embedded{color:#9cdcfe}.font-measure-text[_ngcontent-%COMP%]     .keyword{color:#569cd6}.font-measure-text[_ngcontent-%COMP%]     .keyword-control{color:#569cd6}.font-measure-text[_ngcontent-%COMP%]     .keyword-operator{color:#d4d4d4}.font-measure-text[_ngcontent-%COMP%]     .keyword-operator-new, .font-measure-text[_ngcontent-%COMP%]     .keyword-operator-expression, .font-measure-text[_ngcontent-%COMP%]     .keyword-operator-cast, .font-measure-text[_ngcontent-%COMP%]     .keyword-operator-sizeof, .font-measure-text[_ngcontent-%COMP%]     .keyword-operator-typeid, .font-measure-text[_ngcontent-%COMP%]     .keyword-operator-alignas, .font-measure-text[_ngcontent-%COMP%]     .keyword-operator-instanceof, .font-measure-text[_ngcontent-%COMP%]     .keyword-operator-logical-python, .font-measure-text[_ngcontent-%COMP%]     .keyword-operator-wordlike{color:#569cd6}.font-measure-text[_ngcontent-%COMP%]     .keyword-other-unit{color:#b5cea8}.font-measure-text[_ngcontent-%COMP%]     .punctuation-section-embedded-begin-php, .font-measure-text[_ngcontent-%COMP%]     .punctuation-section-embedded-end-php{color:#569cd6}.font-measure-text[_ngcontent-%COMP%]     .support-function-git-rebase{color:#9cdcfe}.font-measure-text[_ngcontent-%COMP%]     .constant-sha-git-rebase{color:#b5cea8}.font-measure-text[_ngcontent-%COMP%]     .storage-modifier-import-java, .font-measure-text[_ngcontent-%COMP%]     .variable-language-wildcard-java, .font-measure-text[_ngcontent-%COMP%]     .storage-modifier-package-java{color:#d4d4d4}.font-measure-text[_ngcontent-%COMP%]     .variable-language{color:#569cd6}.font-measure-text[_ngcontent-%COMP%]     .entity-name-function, .font-measure-text[_ngcontent-%COMP%]     .support-function, .font-measure-text[_ngcontent-%COMP%]     .support-constant-handlebars, .font-measure-text[_ngcontent-%COMP%]     .source-powershell .variable-other-member{color:#dcdcaa}.font-measure-text[_ngcontent-%COMP%]     .meta-return-type, .font-measure-text[_ngcontent-%COMP%]     .support-class, .font-measure-text[_ngcontent-%COMP%]     .support-type, .font-measure-text[_ngcontent-%COMP%]     .entity-name-type, .font-measure-text[_ngcontent-%COMP%]     .entity-name-namespace, .font-measure-text[_ngcontent-%COMP%]     .entity-other-attribute, .font-measure-text[_ngcontent-%COMP%]     .entity-name-scope-resolution, .font-measure-text[_ngcontent-%COMP%]     .entity-name-class, .font-measure-text[_ngcontent-%COMP%]     .storage-type-numeric-go, .font-measure-text[_ngcontent-%COMP%]     .storage-type-byte-go, .font-measure-text[_ngcontent-%COMP%]     .storage-type-boolean-go, .font-measure-text[_ngcontent-%COMP%]     .storage-type-string-go, .font-measure-text[_ngcontent-%COMP%]     .storage-type-uintptr-go, .font-measure-text[_ngcontent-%COMP%]     .storage-type-error-go, .font-measure-text[_ngcontent-%COMP%]     .storage-type-rune-go, .font-measure-text[_ngcontent-%COMP%]     .storage-type-cs, .font-measure-text[_ngcontent-%COMP%]     .storage-type-generic-cs, .font-measure-text[_ngcontent-%COMP%]     .storage-type-modifier-cs, .font-measure-text[_ngcontent-%COMP%]     .storage-type-variable-cs, .font-measure-text[_ngcontent-%COMP%]     .storage-type-annotation-java, .font-measure-text[_ngcontent-%COMP%]     .storage-type-generic-java, .font-measure-text[_ngcontent-%COMP%]     .storage-type-java, .font-measure-text[_ngcontent-%COMP%]     .storage-type-object-array-java, .font-measure-text[_ngcontent-%COMP%]     .storage-type-primitive-array-java, .font-measure-text[_ngcontent-%COMP%]     .storage-type-primitive-java, .font-measure-text[_ngcontent-%COMP%]     .storage-type-token-java, .font-measure-text[_ngcontent-%COMP%]     .storage-type-groovy, .font-measure-text[_ngcontent-%COMP%]     .storage-type-annotation-groovy, .font-measure-text[_ngcontent-%COMP%]     .storage-type-parameters-groovy, .font-measure-text[_ngcontent-%COMP%]     .storage-type-generic-groovy, .font-measure-text[_ngcontent-%COMP%]     .storage-type-object-array-groovy, .font-measure-text[_ngcontent-%COMP%]     .storage-type-primitive-array-groovy, .font-measure-text[_ngcontent-%COMP%]     .storage-type-primitive-groovy{color:#4ec9b0}.font-measure-text[_ngcontent-%COMP%]     .meta-type-cast-expr, .font-measure-text[_ngcontent-%COMP%]     .meta-type-new-expr, .font-measure-text[_ngcontent-%COMP%]     .support-constant-math, .font-measure-text[_ngcontent-%COMP%]     .support-constant-dom, .font-measure-text[_ngcontent-%COMP%]     .support-constant-json, .font-measure-text[_ngcontent-%COMP%]     .entity-other-inherited-class{color:#4ec9b0}.font-measure-text[_ngcontent-%COMP%]     .keyword-control, .font-measure-text[_ngcontent-%COMP%]     .source-cpp .keyword-operator-new, .font-measure-text[_ngcontent-%COMP%]     .keyword-operator-delete, .font-measure-text[_ngcontent-%COMP%]     .keyword-other-using, .font-measure-text[_ngcontent-%COMP%]     .keyword-other-operator, .font-measure-text[_ngcontent-%COMP%]     .entity-name-operator{color:#c586c0}.font-measure-text[_ngcontent-%COMP%]     .variable, .font-measure-text[_ngcontent-%COMP%]     .meta-definition-variable-name, .font-measure-text[_ngcontent-%COMP%]     .support-variable, .font-measure-text[_ngcontent-%COMP%]     .entity-name-variable{color:#9cdcfe}.font-measure-text[_ngcontent-%COMP%]     .meta-object-literal-key{color:#9cdcfe}.font-measure-text[_ngcontent-%COMP%]     .support-constant-property-value, .font-measure-text[_ngcontent-%COMP%]     .support-constant-font-name, .font-measure-text[_ngcontent-%COMP%]     .support-constant-media-type, .font-measure-text[_ngcontent-%COMP%]     .support-constant-media, .font-measure-text[_ngcontent-%COMP%]     .constant-other-color-rgb-value, .font-measure-text[_ngcontent-%COMP%]     .constant-other-rgb-value, .font-measure-text[_ngcontent-%COMP%]     .support-constant-color{color:#ce9178}.font-measure-text[_ngcontent-%COMP%]     .punctuation-definition-group-regexp, .font-measure-text[_ngcontent-%COMP%]     .punctuation-definition-group-assertion-regexp, .font-measure-text[_ngcontent-%COMP%]     .punctuation-definition-character-class-regexp, .font-measure-text[_ngcontent-%COMP%]     .punctuation-character-set-begin-regexp, .font-measure-text[_ngcontent-%COMP%]     .punctuation-character-set-end-regexp, .font-measure-text[_ngcontent-%COMP%]     .keyword-operator-negation-regexp, .font-measure-text[_ngcontent-%COMP%]     .support-other-parenthesis-regexp{color:#ce9178}.font-measure-text[_ngcontent-%COMP%]     .constant-character-character-class-regexp, .font-measure-text[_ngcontent-%COMP%]     .constant-other-character-class-set-regexp, .font-measure-text[_ngcontent-%COMP%]     .constant-other-character-class-regexp, .font-measure-text[_ngcontent-%COMP%]     .constant-character-set-regexp{color:#d16969}.font-measure-text[_ngcontent-%COMP%]     .keyword-operator-or-regexp, .font-measure-text[_ngcontent-%COMP%]     .keyword-control-anchor-regexp{color:#dcdcaa}.font-measure-text[_ngcontent-%COMP%]     .keyword-operator-quantifier-regexp{color:#d7ba7d}.font-measure-text[_ngcontent-%COMP%]     .constant-character{color:#569cd6}.font-measure-text[_ngcontent-%COMP%]     .constant-character-escape{color:#d7ba7d}.font-measure-text[_ngcontent-%COMP%]     .entity-name-label{color:#c8c8c8}.font-measure-text[_ngcontent-%COMP%]     .punctuation-definition-string{color:#ce9178}.font-measure-text[_ngcontent-%COMP%]     .variable-language-this{color:#569cd6}.font-measure-text[_ngcontent-%COMP%]     .punctuation-definition-comment{color:#6a9955}"],changeDetection:0})}}return(0,p.gn)([(0,A.Ph)(h.E.selectedCommitId)],F.prototype,"selectedCommitId",void 0),(0,p.gn)([(0,A.Ph)(B.$.diffView)],F.prototype,"view",void 0),F})()},8853:(V,N,o)=>{o.d(N,{m:()=>ee});var p=o(811),n=o(284),A=o(3179),_=o(5410),e=o(4650),R=o(1580),D=o(1256),f=o(8344),w=o(5601);const O=function m(L){var s=(0,w.Z)(L),c=s%1;return s==s?c?s-c:s:0},v=function I(L,s,c){var r=null==L?0:L.length;return r?(s=c||void 0===s?1:O(s),(0,f.Z)(L,0,(s=r-s)<0?0:s)):[]},C=function x(L,s,c){var r=null==L?0:L.length;return r?(s=c||void 0===s?1:O(s),(0,f.Z)(L,(s=r-s)<0?0:s,r)):[]};var y=o(1135),b=o(4004),l=o(8675),a=o(1520),t=o(4326),i=o(2722),M=o(8926),h=o(9967),k=o(315),B=o(7205),T=o(6326),g=o(6895),E=o(4859),j=o(7392),W=o(1899),H=o(1453);const te=["scrollContainer"],ne=["code"];function oe(L,s){if(1&L&&e._UZ(0,"span",9),2&L){const c=s.ngIf;e.Udp("left",c.left)("width",c.width)}}function ce(L,s){if(1&L){const c=e.EpF();e.ynx(0),e.TgZ(1,"button",10),e.NdJ("click",function(){e.CHM(c);const d=e.oxw().$implicit,S=e.oxw();return e.KtG(S.expandSeparator(d))}),e.TgZ(2,"mat-icon",11),e._uU(3),e.qZA()(),e.TgZ(4,"span",12),e._uU(5),e.qZA(),e.BQk()}if(2&L){const c=e.oxw(),r=c.first,d=c.last,S=c.$implicit,U=e.oxw();e.xp6(1),e.Udp("width",U.lineNumberMargin+26,"px"),e.xp6(2),e.Oqu(r?"expand_less":d?"expand_more":"unfold_more"),e.xp6(2),e.Oqu(S.separatorHeader)}}function ie(L,s){if(1&L&&(e.TgZ(0,"span",17),e._uU(1),e.qZA()),2&L){const c=s.$implicit;e.Q6J("ngClass",c.class),e.xp6(1),e.Oqu(c.text)}}function re(L,s){if(1&L&&(e.ynx(0),e.YNc(1,ie,2,2,"span",16),e.ALo(2,"tokens"),e.ALo(3,"searchToken"),e.ALo(4,"async"),e.BQk()),2&L){const c=s.ngIf,r=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,e.Dn7(3,4,c.tokens,c.text,e.lcZ(4,8,r.search)),c.text))}}function ae(L,s){if(1&L&&(e.TgZ(0,"span",13),e._uU(1),e.qZA(),e.TgZ(2,"span",14),e._uU(3),e.qZA(),e.YNc(4,re,5,10,"ng-container",15)),2&L){const c=e.oxw().$implicit,r=e.oxw();e.Udp("right","calc(100% + 26px + "+(r.lineNumberMargin/2).toString()+"px)")("width",r.lineNumberMargin/2-5,"px"),e.xp6(1),e.Oqu(null==c.diffLine.oldLine?null:c.diffLine.oldLine.lineNumber),e.xp6(1),e.Udp("width",r.lineNumberMargin/2-5,"px"),e.xp6(1),e.Oqu(null==c.diffLine.newLine?null:c.diffLine.newLine.lineNumber),e.xp6(1),e.Q6J("ngIf",r.getLineView(c.diffLine))}}function se(L,s){if(1&L&&(e.TgZ(0,"li",5),e.YNc(1,oe,1,4,"span",6),e.ALo(2,"async"),e.YNc(3,ce,6,4,"ng-container",7),e.YNc(4,ae,5,9,"ng-template",null,8,e.W1O),e.qZA()),2&L){const c=s.$implicit,r=s.index,d=e.MAs(5),S=e.oxw();e.Q6J("ngClass","line-"+(c.isSeparator?"separator":c.diffLine.status)),e.xp6(1),e.Q6J("ngIf",e.lcZ(2,4,S.getSelection(r))),e.xp6(2),e.Q6J("ngIf",c.isSeparator)("ngIfElse",d)}}class X extends((0,M.j)(h.A)){constructor(s,c){super(),this.diffService=s,this.diffSelectionService=c,this.lineNumberMargin=0,this.lines$=new y.X([]),this.currentPatch=null,this.getSelection=r=>this.diffSelectionService.selectedRange.pipe((0,b.U)(d=>{if(!d)return null;const[S,U]=d[0].line>d[1].line||d[0].line===d[1].line&&d[0].char>d[1].char?[d[1],d[0]]:d;return r<S.line||r>U.line?null:r===S.line?{left:S.char*this.diffSelectionService.charWidth+"px",width:S.line===U.line?(U.char-S.char)*this.diffSelectionService.charWidth+"px":"100%"}:r===U.line?{left:"0px",width:U.char*this.diffSelectionService.charWidth+"px"}:{left:"0px",width:"100%"}}))}ngOnInit(){this.diffLines.pipe((0,l.O)(null),(0,a.G)(),(0,t.g)(0),(0,i.R)(this.destroyed$)).subscribe(([c,r])=>{const d=this.currentPatch?{...this.currentPatch}:null;if(r){this.currentPatch={newFilePath:r.newFilePath,oldFilePath:r.oldFilePath};const S=(0,R.Z)([r.oldLines.length,r.newLines.length])??0;this.lineNumberMargin=this.diffService.calculateMargin(S.toString().length),this.diffService.calculateHunkLines(r.oldLines,r.newLines,r.hunks).pipe((0,i.R)(this.destroyed$)).subscribe(U=>{c&&c.newFilePath===r.newFilePath&&c.oldFilePath===r.oldFilePath&&!c.highlighted&&r.highlighted?this.updateLines(U):this.lines$.next(U),(!d||d.oldFilePath!==this.currentPatch?.oldFilePath||d.newFilePath!==this.currentPatch?.newFilePath)&&this.scrollContainer.elementRef?.nativeElement?.scrollTo(0,0)})}else this.currentPatch=null,this.lineNumberMargin=0,this.lines$.next([]),d&&this.scrollContainer.elementRef?.nativeElement?.scrollTo(0,0)});const s=this.scrollContainer.elementRef.nativeElement;this.diffSelectionService.captureSelections(this.codeElement.nativeElement,(c,r)=>({line:Math.floor((s.scrollTop+r-s.getBoundingClientRect().top)/19),char:Math.max(0,Math.round((s.scrollLeft+c-s.getBoundingClientRect().left-(this.lineNumberMargin+26))/this.diffSelectionService.charWidth))}),(c,r)=>this.lines$.value.filter((d,S)=>S>=c&&S<=r).map(d=>d.isSeparator?d.separatorHeader??void 0:this.getLineView(d.diffLine)?.text),()=>{const c=this.lines$.value,r=c[c.length-1];return{line:c.length-1,char:(r.isSeparator?r.separatorHeader:this.getLineView(r.diffLine)?.text)?.length??0}},([c,r])=>(0,D.Z)(c.line,r.line+1).flatMap(d=>{const S=this.lines$.value[d];return!S||S.isSeparator?[]:[{oldLineNo:S.diffLine.oldLine?.lineNumber??-1,newLineNo:S.diffLine.newLine?.lineNumber??-1}]})).pipe((0,i.R)(this.destroyed$)).subscribe()}expandSeparator(s){const r=this.lines$.value;this.lines$.next(r.flatMap((d,S)=>{if(d!==s)return d;if(s.hiddenDiffLines.length<=25)return s.hiddenDiffLines.map(G=>({isSeparator:!1,diffLine:G}));if(0===S)return[{isSeparator:!0,separatorHeader:s.separatorHeader,hiddenDiffLines:v(s.hiddenDiffLines,20)},...C(s.hiddenDiffLines,20).map(G=>({isSeparator:!1,diffLine:G}))];if(S===r.length-1)return[...s.hiddenDiffLines.slice(0,20).map(G=>({isSeparator:!1,diffLine:G})),{isSeparator:!0,separatorHeader:null,hiddenDiffLines:s.hiddenDiffLines.slice(20)}];const U=s.hiddenDiffLines.slice(0,10),Q=v(s.hiddenDiffLines.slice(10),10),z=C(s.hiddenDiffLines,10);return[...U.map(G=>({isSeparator:!1,diffLine:G})),{isSeparator:!0,separatorHeader:s.separatorHeader,hiddenDiffLines:Q},...z.map(G=>({isSeparator:!1,diffLine:G}))]}))}getLineView(s){return"added"===s.status?s.newLine:"removed"===s.status?s.oldLine:"unchanged"===s.status?s.newLine??s.oldLine:null}trackByHunkLine(s,c){return c.isSeparator?c.separatorHeader:`${c.diffLine.oldLine?.text}:::${c.diffLine.newLine?.text}`}updateLines(s){const c=this.lines$.value;let r=0,d=0;const S=[];for(;d<s.length;){const U=c[r],Q=s[d];if(Q.isSeparator){if(U.isSeparator){if(U.hiddenDiffLines.length===Q.hiddenDiffLines.length){S.push(Q),r++,d++;continue}S.push({isSeparator:!0,separatorHeader:Q.separatorHeader,hiddenDiffLines:Q.hiddenDiffLines.slice(0,U.hiddenDiffLines.length)}),Q.hiddenDiffLines=Q.hiddenDiffLines.slice(U.hiddenDiffLines.length),r++;continue}if(0===Q.hiddenDiffLines.length){d++;continue}S.push({isSeparator:!1,diffLine:Q.hiddenDiffLines[0]}),Q.hiddenDiffLines=Q.hiddenDiffLines.slice(1),r++}else{if(c[r].isSeparator)throw new Error("Problem when updating hunk diff lines");S.push(Q),r++,d++}}this.lines$.next(S)}static{this.\u0275fac=function(c){return new(c||X)(e.Y36(k.S),e.Y36(B.Q))}}static{this.\u0275cmp=e.Xpm({type:X,selectors:[["app-hunk-view"]],viewQuery:function(c,r){if(1&c&&(e.Gf(te,7),e.Gf(ne,7,e.SBq)),2&c){let d;e.iGM(d=e.CRH())&&(r.scrollContainer=d.first),e.iGM(d=e.CRH())&&(r.codeElement=d.first)}},inputs:{diffLines:"diffLines",search:"search"},features:[e.qOj],decls:7,vars:9,consts:[[1,"viewport",3,"itemSize","maxBufferPx","minBufferPx"],["scrollContainer",""],["tabindex","0"],["code",""],["class","line",3,"ngClass",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"line",3,"ngClass"],["class","selection",3,"left","width",4,"ngIf"],[4,"ngIf","ngIfElse"],["diffLineContent",""],[1,"selection"],["mat-button","",1,"separator-icon",3,"click"],["inline",""],[1,"separator-header"],[1,"old-line-number"],[1,"new-line-number"],[4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(c,r){1&c&&(e.TgZ(0,"cdk-virtual-scroll-viewport",0,1)(2,"code",2,3)(4,"ul"),e.YNc(5,se,6,6,"li",4),e.ALo(6,"async"),e.qZA()()()),2&c&&(e.Q6J("itemSize",19)("maxBufferPx",1e3)("minBufferPx",200),e.xp6(4),e.Udp("margin-left",r.lineNumberMargin+26,"px"),e.xp6(1),e.Q6J("cdkVirtualForOf",e.lcZ(6,7,r.lines$))("cdkVirtualForTrackBy",r.trackByHunkLine))},dependencies:[T.xd,T.x0,T.N7,g.mk,g.sg,g.O5,E.lW,j.Hw,g.Ov,W.y,H.U],styles:['code[_ngcontent-%COMP%]{display:block;white-space:pre;user-select:none;cursor:text;outline:none;color:#d4d4d4;font-family:Monaco,Menlo,Consolas,Droid Sans Mono,Inconsolata,Courier New,monospace;font-size:14px;font-weight:400;letter-spacing:0px;line-height:19px}code[_ngcontent-%COMP%]     .line{height:19px}code[_ngcontent-%COMP%]     .line.line-added{background:#1f2c19}code[_ngcontent-%COMP%]     .line.line-removed{background:#501515}code[_ngcontent-%COMP%]     .line.line-void{background:#111}code[_ngcontent-%COMP%]     .diff-added{background-color:#1d572c}code[_ngcontent-%COMP%]     .diff-removed{background-color:#803030}code[_ngcontent-%COMP%]     .search-result{background-color:#a14e1b}code[_ngcontent-%COMP%]     .meta-embedded, code[_ngcontent-%COMP%]     .source-groovy-embedded{color:#d4d4d4}code[_ngcontent-%COMP%]     .emphasis{font-style:italic}code[_ngcontent-%COMP%]     .strong{font-weight:700}code[_ngcontent-%COMP%]     .header{color:navy}code[_ngcontent-%COMP%]     .comment{color:#6a9955}code[_ngcontent-%COMP%]     .constant-language{color:#569cd6}code[_ngcontent-%COMP%]     .constant-numeric, code[_ngcontent-%COMP%]     .entity-name-operator-custom-literal-number, code[_ngcontent-%COMP%]     .variable-other-enummember, code[_ngcontent-%COMP%]     .keyword-operator-plus-exponent, code[_ngcontent-%COMP%]     .keyword-operator-minus-exponent{color:#b5cea8}code[_ngcontent-%COMP%]     .constant-regexp{color:#646695}code[_ngcontent-%COMP%]     .entity-name-tag{color:#569cd6}code[_ngcontent-%COMP%]     .entity-name-tag-css{color:#d7ba7d}code[_ngcontent-%COMP%]     .entity-other-attribute-name{color:#9cdcfe}code[_ngcontent-%COMP%]     .entity-other-attribute-name-class-css, code[_ngcontent-%COMP%]     .entity-other-attribute-name-class-mixin-css, code[_ngcontent-%COMP%]     .entity-other-attribute-name-id-css, code[_ngcontent-%COMP%]     .entity-other-attribute-name-parent-selector-css, code[_ngcontent-%COMP%]     .entity-other-attribute-name-pseudo-class-css, code[_ngcontent-%COMP%]     .entity-other-attribute-name-pseudo-element-css, code[_ngcontent-%COMP%]     .source-css-less .entity-other-attribute-name-id, code[_ngcontent-%COMP%]     .entity-other-attribute-name-attribute-scss, code[_ngcontent-%COMP%]     .entity-other-attribute-name-scss{color:#d7ba7d}code[_ngcontent-%COMP%]     .invalid{color:#f44747}code[_ngcontent-%COMP%]     .markup-underline{text-decoration:underline}code[_ngcontent-%COMP%]     .markup-bold{font-weight:700;color:#569cd6}code[_ngcontent-%COMP%]     .markup-heading{font-weight:700;color:#569cd6}code[_ngcontent-%COMP%]     .markup-italic{font-style:italic}code[_ngcontent-%COMP%]     .markup-inserted{color:#b5cea8}code[_ngcontent-%COMP%]     .markup-deleted{color:#ce9178}code[_ngcontent-%COMP%]     .markup-changed{color:#569cd6}code[_ngcontent-%COMP%]     .punctuation-definition-quote-begin-markdown{color:#6a9955}code[_ngcontent-%COMP%]     .punctuation-definition-list-begin-markdown{color:#6796e6}code[_ngcontent-%COMP%]     .markup-inline-raw{color:#ce9178}code[_ngcontent-%COMP%]     .punctuation-definition-tag{color:gray}code[_ngcontent-%COMP%]     .meta-preprocessor{color:#569cd6}code[_ngcontent-%COMP%]     .meta-preprocessor-string{color:#ce9178}code[_ngcontent-%COMP%]     .meta-preprocessor-numeric{color:#b5cea8}code[_ngcontent-%COMP%]     .meta-structure-dictionary-key-python{color:#9cdcfe}code[_ngcontent-%COMP%]     .meta-diff-header{color:#569cd6}code[_ngcontent-%COMP%]     .storage{color:#569cd6}code[_ngcontent-%COMP%]     .storage-type{color:#569cd6}code[_ngcontent-%COMP%]     .storage-modifier, code[_ngcontent-%COMP%]     .keyword-operator-noexcept{color:#569cd6}code[_ngcontent-%COMP%]     .string, code[_ngcontent-%COMP%]     .entity-name-operator-custom-literal-string{color:#ce9178}code[_ngcontent-%COMP%]     .string-tag{color:#ce9178}code[_ngcontent-%COMP%]     .string-value{color:#ce9178}code[_ngcontent-%COMP%]     .string-regexp{color:#d16969}code[_ngcontent-%COMP%]     .punctuation-definition-template-expression-begin, code[_ngcontent-%COMP%]     .punctuation-definition-template-expression-end, code[_ngcontent-%COMP%]     .punctuation-section-embedded{color:#569cd6}code[_ngcontent-%COMP%]     .meta-template-expression{color:#d4d4d4}code[_ngcontent-%COMP%]     .support-type-vendored-property-name, code[_ngcontent-%COMP%]     .support-type-property-name, code[_ngcontent-%COMP%]     .variable-css, code[_ngcontent-%COMP%]     .variable-scss, code[_ngcontent-%COMP%]     .variable-other-less, code[_ngcontent-%COMP%]     .source-coffee-embedded{color:#9cdcfe}code[_ngcontent-%COMP%]     .keyword{color:#569cd6}code[_ngcontent-%COMP%]     .keyword-control{color:#569cd6}code[_ngcontent-%COMP%]     .keyword-operator{color:#d4d4d4}code[_ngcontent-%COMP%]     .keyword-operator-new, code[_ngcontent-%COMP%]     .keyword-operator-expression, code[_ngcontent-%COMP%]     .keyword-operator-cast, code[_ngcontent-%COMP%]     .keyword-operator-sizeof, code[_ngcontent-%COMP%]     .keyword-operator-typeid, code[_ngcontent-%COMP%]     .keyword-operator-alignas, code[_ngcontent-%COMP%]     .keyword-operator-instanceof, code[_ngcontent-%COMP%]     .keyword-operator-logical-python, code[_ngcontent-%COMP%]     .keyword-operator-wordlike{color:#569cd6}code[_ngcontent-%COMP%]     .keyword-other-unit{color:#b5cea8}code[_ngcontent-%COMP%]     .punctuation-section-embedded-begin-php, code[_ngcontent-%COMP%]     .punctuation-section-embedded-end-php{color:#569cd6}code[_ngcontent-%COMP%]     .support-function-git-rebase{color:#9cdcfe}code[_ngcontent-%COMP%]     .constant-sha-git-rebase{color:#b5cea8}code[_ngcontent-%COMP%]     .storage-modifier-import-java, code[_ngcontent-%COMP%]     .variable-language-wildcard-java, code[_ngcontent-%COMP%]     .storage-modifier-package-java{color:#d4d4d4}code[_ngcontent-%COMP%]     .variable-language{color:#569cd6}code[_ngcontent-%COMP%]     .entity-name-function, code[_ngcontent-%COMP%]     .support-function, code[_ngcontent-%COMP%]     .support-constant-handlebars, code[_ngcontent-%COMP%]     .source-powershell .variable-other-member{color:#dcdcaa}code[_ngcontent-%COMP%]     .meta-return-type, code[_ngcontent-%COMP%]     .support-class, code[_ngcontent-%COMP%]     .support-type, code[_ngcontent-%COMP%]     .entity-name-type, code[_ngcontent-%COMP%]     .entity-name-namespace, code[_ngcontent-%COMP%]     .entity-other-attribute, code[_ngcontent-%COMP%]     .entity-name-scope-resolution, code[_ngcontent-%COMP%]     .entity-name-class, code[_ngcontent-%COMP%]     .storage-type-numeric-go, code[_ngcontent-%COMP%]     .storage-type-byte-go, code[_ngcontent-%COMP%]     .storage-type-boolean-go, code[_ngcontent-%COMP%]     .storage-type-string-go, code[_ngcontent-%COMP%]     .storage-type-uintptr-go, code[_ngcontent-%COMP%]     .storage-type-error-go, code[_ngcontent-%COMP%]     .storage-type-rune-go, code[_ngcontent-%COMP%]     .storage-type-cs, code[_ngcontent-%COMP%]     .storage-type-generic-cs, code[_ngcontent-%COMP%]     .storage-type-modifier-cs, code[_ngcontent-%COMP%]     .storage-type-variable-cs, code[_ngcontent-%COMP%]     .storage-type-annotation-java, code[_ngcontent-%COMP%]     .storage-type-generic-java, code[_ngcontent-%COMP%]     .storage-type-java, code[_ngcontent-%COMP%]     .storage-type-object-array-java, code[_ngcontent-%COMP%]     .storage-type-primitive-array-java, code[_ngcontent-%COMP%]     .storage-type-primitive-java, code[_ngcontent-%COMP%]     .storage-type-token-java, code[_ngcontent-%COMP%]     .storage-type-groovy, code[_ngcontent-%COMP%]     .storage-type-annotation-groovy, code[_ngcontent-%COMP%]     .storage-type-parameters-groovy, code[_ngcontent-%COMP%]     .storage-type-generic-groovy, code[_ngcontent-%COMP%]     .storage-type-object-array-groovy, code[_ngcontent-%COMP%]     .storage-type-primitive-array-groovy, code[_ngcontent-%COMP%]     .storage-type-primitive-groovy{color:#4ec9b0}code[_ngcontent-%COMP%]     .meta-type-cast-expr, code[_ngcontent-%COMP%]     .meta-type-new-expr, code[_ngcontent-%COMP%]     .support-constant-math, code[_ngcontent-%COMP%]     .support-constant-dom, code[_ngcontent-%COMP%]     .support-constant-json, code[_ngcontent-%COMP%]     .entity-other-inherited-class{color:#4ec9b0}code[_ngcontent-%COMP%]     .keyword-control, code[_ngcontent-%COMP%]     .source-cpp .keyword-operator-new, code[_ngcontent-%COMP%]     .keyword-operator-delete, code[_ngcontent-%COMP%]     .keyword-other-using, code[_ngcontent-%COMP%]     .keyword-other-operator, code[_ngcontent-%COMP%]     .entity-name-operator{color:#c586c0}code[_ngcontent-%COMP%]     .variable, code[_ngcontent-%COMP%]     .meta-definition-variable-name, code[_ngcontent-%COMP%]     .support-variable, code[_ngcontent-%COMP%]     .entity-name-variable{color:#9cdcfe}code[_ngcontent-%COMP%]     .meta-object-literal-key{color:#9cdcfe}code[_ngcontent-%COMP%]     .support-constant-property-value, code[_ngcontent-%COMP%]     .support-constant-font-name, code[_ngcontent-%COMP%]     .support-constant-media-type, code[_ngcontent-%COMP%]     .support-constant-media, code[_ngcontent-%COMP%]     .constant-other-color-rgb-value, code[_ngcontent-%COMP%]     .constant-other-rgb-value, code[_ngcontent-%COMP%]     .support-constant-color{color:#ce9178}code[_ngcontent-%COMP%]     .punctuation-definition-group-regexp, code[_ngcontent-%COMP%]     .punctuation-definition-group-assertion-regexp, code[_ngcontent-%COMP%]     .punctuation-definition-character-class-regexp, code[_ngcontent-%COMP%]     .punctuation-character-set-begin-regexp, code[_ngcontent-%COMP%]     .punctuation-character-set-end-regexp, code[_ngcontent-%COMP%]     .keyword-operator-negation-regexp, code[_ngcontent-%COMP%]     .support-other-parenthesis-regexp{color:#ce9178}code[_ngcontent-%COMP%]     .constant-character-character-class-regexp, code[_ngcontent-%COMP%]     .constant-other-character-class-set-regexp, code[_ngcontent-%COMP%]     .constant-other-character-class-regexp, code[_ngcontent-%COMP%]     .constant-character-set-regexp{color:#d16969}code[_ngcontent-%COMP%]     .keyword-operator-or-regexp, code[_ngcontent-%COMP%]     .keyword-control-anchor-regexp{color:#dcdcaa}code[_ngcontent-%COMP%]     .keyword-operator-quantifier-regexp{color:#d7ba7d}code[_ngcontent-%COMP%]     .constant-character{color:#569cd6}code[_ngcontent-%COMP%]     .constant-character-escape{color:#d7ba7d}code[_ngcontent-%COMP%]     .entity-name-label{color:#c8c8c8}code[_ngcontent-%COMP%]     .punctuation-definition-string{color:#ce9178}code[_ngcontent-%COMP%]     .variable-language-this{color:#569cd6}code[_ngcontent-%COMP%]     .punctuation-definition-comment{color:#6a9955}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-separator[_ngcontent-%COMP%]{background:#252525}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%], code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]{position:absolute;text-align:right;user-select:none;color:#858585}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%]{right:calc(100% + 26px)}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{position:absolute;display:block;background-color:#53789b!important;height:19px;opacity:.5}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]{right:100%}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]{cursor:pointer;height:19px;line-height:19px;padding:0;text-align:center;min-width:0}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]:before{background:#252525;content:"";position:absolute;left:0;top:0;height:100%;width:100%;z-index:-1}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{line-height:19px}.viewport[_ngcontent-%COMP%]{height:100%;width:100%}'],changeDetection:0})}}const le=["scrollContainer"],de=["code"];function ge(L,s){if(1&L&&e._UZ(0,"span",10),2&L){const c=s.ngIf;e.Udp("left",c.left)("width",c.width)}}function F(L,s){if(1&L&&(e.TgZ(0,"span",12),e._uU(1),e.qZA()),2&L){const c=s.$implicit;e.Q6J("ngClass",c.class),e.xp6(1),e.Oqu(c.text)}}function $(L,s){if(1&L&&(e.ynx(0),e.YNc(1,F,2,2,"span",11),e.ALo(2,"tokens"),e.ALo(3,"searchToken"),e.ALo(4,"async"),e.BQk()),2&L){const c=s.ngIf,r=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,e.Dn7(3,4,c.tokens,c.text,e.lcZ(4,8,r.search)),c.text))}}function u(L,s){if(1&L&&(e.TgZ(0,"li",5),e.YNc(1,ge,1,4,"span",6),e.ALo(2,"async"),e.TgZ(3,"span",7),e._uU(4),e.qZA(),e.TgZ(5,"span",8),e._uU(6),e.qZA(),e.YNc(7,$,5,10,"ng-container",9),e.qZA()),2&L){const c=s.$implicit,r=s.index,d=e.oxw();e.Q6J("ngClass","line-"+c.status),e.xp6(1),e.Q6J("ngIf",e.lcZ(2,11,d.getSelection(r))),e.xp6(2),e.Udp("right","calc(100% + 26px + "+(d.lineNumberMargin/2).toString()+"px)")("width",d.lineNumberMargin/2-5,"px"),e.xp6(1),e.Oqu(null==c.oldLine?null:c.oldLine.lineNumber),e.xp6(1),e.Udp("width",d.lineNumberMargin/2-5,"px"),e.xp6(1),e.Oqu(null==c.newLine?null:c.newLine.lineNumber),e.xp6(1),e.Q6J("ngIf",d.getLineView(c))}}class P extends((0,M.j)(h.A)){constructor(s,c){super(),this.diffService=s,this.diffSelectionService=c,this.lineNumberMargin=0,this.lines$=new y.X([]),this.currentPatch=null,this.getSelection=r=>this.diffSelectionService.selectedRange.pipe((0,b.U)(d=>{if(!d)return null;const[S,U]=d[0].line>d[1].line||d[0].line===d[1].line&&d[0].char>d[1].char?[d[1],d[0]]:d;return r<S.line||r>U.line?null:r===S.line?{left:S.char*this.diffSelectionService.charWidth+"px",width:S.line===U.line?(U.char-S.char)*this.diffSelectionService.charWidth+"px":"100%"}:r===U.line?{left:"0px",width:U.char*this.diffSelectionService.charWidth+"px"}:{left:"0px",width:"100%"}}))}ngOnInit(){this.diffLines.pipe((0,t.g)(0),(0,i.R)(this.destroyed$)).subscribe(c=>{const r=this.currentPatch?{...this.currentPatch}:null;if(c){this.currentPatch={newFilePath:c.newFilePath,oldFilePath:c.oldFilePath};const d=Math.max(c.oldLines.length,c.newLines.length)??0;this.lineNumberMargin=this.diffService.calculateMargin(d.toString().length),this.diffService.calculateInlineLines(c.oldLines,c.newLines,c.hunks).pipe((0,i.R)(this.destroyed$)).subscribe(S=>{this.lines$.next(S),(!r||r.oldFilePath!==this.currentPatch?.oldFilePath||r.newFilePath!==this.currentPatch?.newFilePath)&&this.scrollContainer.nativeElement?.scrollTo(0,0)})}else this.currentPatch=null,this.lineNumberMargin=0,this.lines$.next([]),r&&this.scrollContainer.nativeElement?.scrollTo(0,0)});const s=this.scrollContainer.nativeElement;this.diffSelectionService.captureSelections(this.codeElement.nativeElement,(c,r)=>({line:Math.floor((s.scrollTop+r-s.getBoundingClientRect().top)/19),char:Math.max(0,Math.round((s.scrollLeft+c-s.getBoundingClientRect().left-(this.lineNumberMargin+26))/this.diffSelectionService.charWidth))}),(c,r)=>this.lines$.value.filter((d,S)=>S>=c&&S<=r).map(d=>this.getLineView(d)?.text),()=>({line:this.lines$.value.length-1,char:this.getLineView(this.lines$.value[this.lines$.value.length-1])?.text.length??0}),([c,r])=>(0,D.Z)(c.line,r.line+1).map(d=>({oldLineNo:this.lines$.value[d]?.oldLine?.lineNumber??-1,newLineNo:this.lines$.value[d]?.newLine?.lineNumber??-1}))).pipe((0,i.R)(this.destroyed$)).subscribe()}getLineView(s){return"added"===s.status?s.newLine:"removed"===s.status?s.oldLine:"unchanged"===s.status?s.newLine??s.oldLine:null}trackByDiffLine(s,c){return s}static{this.\u0275fac=function(c){return new(c||P)(e.Y36(k.S),e.Y36(B.Q))}}static{this.\u0275cmp=e.Xpm({type:P,selectors:[["app-inline-view"]],viewQuery:function(c,r){if(1&c&&(e.Gf(le,7,e.SBq),e.Gf(de,7,e.SBq)),2&c){let d;e.iGM(d=e.CRH())&&(r.scrollContainer=d.first),e.iGM(d=e.CRH())&&(r.codeElement=d.first)}},inputs:{diffLines:"diffLines",search:"search"},features:[e.qOj],decls:7,vars:9,consts:[[1,"viewport",3,"itemSize","maxBufferPx","minBufferPx"],["scrollContainer",""],["tabindex","0"],["code",""],["class","line",3,"ngClass",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"line",3,"ngClass"],["class","selection",3,"left","width",4,"ngIf"],[1,"old-line-number"],[1,"new-line-number"],[4,"ngIf"],[1,"selection"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(c,r){1&c&&(e.TgZ(0,"cdk-virtual-scroll-viewport",0,1)(2,"code",2,3)(4,"ul"),e.YNc(5,u,8,13,"li",4),e.ALo(6,"async"),e.qZA()()()),2&c&&(e.Q6J("itemSize",19)("maxBufferPx",1e3)("minBufferPx",200),e.xp6(4),e.Udp("margin-left",r.lineNumberMargin+26,"px"),e.xp6(1),e.Q6J("cdkVirtualForOf",e.lcZ(6,7,r.lines$))("cdkVirtualForTrackBy",r.trackByDiffLine))},dependencies:[T.xd,T.x0,T.N7,g.mk,g.sg,g.O5,g.Ov,W.y,H.U],styles:["code[_ngcontent-%COMP%]{display:block;white-space:pre;user-select:none;cursor:text;outline:none;color:#d4d4d4;font-family:Monaco,Menlo,Consolas,Droid Sans Mono,Inconsolata,Courier New,monospace;font-size:14px;font-weight:400;letter-spacing:0px;line-height:19px}code[_ngcontent-%COMP%]     .line{height:19px}code[_ngcontent-%COMP%]     .line.line-added{background:#1f2c19}code[_ngcontent-%COMP%]     .line.line-removed{background:#501515}code[_ngcontent-%COMP%]     .line.line-void{background:#111}code[_ngcontent-%COMP%]     .diff-added{background-color:#1d572c}code[_ngcontent-%COMP%]     .diff-removed{background-color:#803030}code[_ngcontent-%COMP%]     .search-result{background-color:#a14e1b}code[_ngcontent-%COMP%]     .meta-embedded, code[_ngcontent-%COMP%]     .source-groovy-embedded{color:#d4d4d4}code[_ngcontent-%COMP%]     .emphasis{font-style:italic}code[_ngcontent-%COMP%]     .strong{font-weight:700}code[_ngcontent-%COMP%]     .header{color:navy}code[_ngcontent-%COMP%]     .comment{color:#6a9955}code[_ngcontent-%COMP%]     .constant-language{color:#569cd6}code[_ngcontent-%COMP%]     .constant-numeric, code[_ngcontent-%COMP%]     .entity-name-operator-custom-literal-number, code[_ngcontent-%COMP%]     .variable-other-enummember, code[_ngcontent-%COMP%]     .keyword-operator-plus-exponent, code[_ngcontent-%COMP%]     .keyword-operator-minus-exponent{color:#b5cea8}code[_ngcontent-%COMP%]     .constant-regexp{color:#646695}code[_ngcontent-%COMP%]     .entity-name-tag{color:#569cd6}code[_ngcontent-%COMP%]     .entity-name-tag-css{color:#d7ba7d}code[_ngcontent-%COMP%]     .entity-other-attribute-name{color:#9cdcfe}code[_ngcontent-%COMP%]     .entity-other-attribute-name-class-css, code[_ngcontent-%COMP%]     .entity-other-attribute-name-class-mixin-css, code[_ngcontent-%COMP%]     .entity-other-attribute-name-id-css, code[_ngcontent-%COMP%]     .entity-other-attribute-name-parent-selector-css, code[_ngcontent-%COMP%]     .entity-other-attribute-name-pseudo-class-css, code[_ngcontent-%COMP%]     .entity-other-attribute-name-pseudo-element-css, code[_ngcontent-%COMP%]     .source-css-less .entity-other-attribute-name-id, code[_ngcontent-%COMP%]     .entity-other-attribute-name-attribute-scss, code[_ngcontent-%COMP%]     .entity-other-attribute-name-scss{color:#d7ba7d}code[_ngcontent-%COMP%]     .invalid{color:#f44747}code[_ngcontent-%COMP%]     .markup-underline{text-decoration:underline}code[_ngcontent-%COMP%]     .markup-bold{font-weight:700;color:#569cd6}code[_ngcontent-%COMP%]     .markup-heading{font-weight:700;color:#569cd6}code[_ngcontent-%COMP%]     .markup-italic{font-style:italic}code[_ngcontent-%COMP%]     .markup-inserted{color:#b5cea8}code[_ngcontent-%COMP%]     .markup-deleted{color:#ce9178}code[_ngcontent-%COMP%]     .markup-changed{color:#569cd6}code[_ngcontent-%COMP%]     .punctuation-definition-quote-begin-markdown{color:#6a9955}code[_ngcontent-%COMP%]     .punctuation-definition-list-begin-markdown{color:#6796e6}code[_ngcontent-%COMP%]     .markup-inline-raw{color:#ce9178}code[_ngcontent-%COMP%]     .punctuation-definition-tag{color:gray}code[_ngcontent-%COMP%]     .meta-preprocessor{color:#569cd6}code[_ngcontent-%COMP%]     .meta-preprocessor-string{color:#ce9178}code[_ngcontent-%COMP%]     .meta-preprocessor-numeric{color:#b5cea8}code[_ngcontent-%COMP%]     .meta-structure-dictionary-key-python{color:#9cdcfe}code[_ngcontent-%COMP%]     .meta-diff-header{color:#569cd6}code[_ngcontent-%COMP%]     .storage{color:#569cd6}code[_ngcontent-%COMP%]     .storage-type{color:#569cd6}code[_ngcontent-%COMP%]     .storage-modifier, code[_ngcontent-%COMP%]     .keyword-operator-noexcept{color:#569cd6}code[_ngcontent-%COMP%]     .string, code[_ngcontent-%COMP%]     .entity-name-operator-custom-literal-string{color:#ce9178}code[_ngcontent-%COMP%]     .string-tag{color:#ce9178}code[_ngcontent-%COMP%]     .string-value{color:#ce9178}code[_ngcontent-%COMP%]     .string-regexp{color:#d16969}code[_ngcontent-%COMP%]     .punctuation-definition-template-expression-begin, code[_ngcontent-%COMP%]     .punctuation-definition-template-expression-end, code[_ngcontent-%COMP%]     .punctuation-section-embedded{color:#569cd6}code[_ngcontent-%COMP%]     .meta-template-expression{color:#d4d4d4}code[_ngcontent-%COMP%]     .support-type-vendored-property-name, code[_ngcontent-%COMP%]     .support-type-property-name, code[_ngcontent-%COMP%]     .variable-css, code[_ngcontent-%COMP%]     .variable-scss, code[_ngcontent-%COMP%]     .variable-other-less, code[_ngcontent-%COMP%]     .source-coffee-embedded{color:#9cdcfe}code[_ngcontent-%COMP%]     .keyword{color:#569cd6}code[_ngcontent-%COMP%]     .keyword-control{color:#569cd6}code[_ngcontent-%COMP%]     .keyword-operator{color:#d4d4d4}code[_ngcontent-%COMP%]     .keyword-operator-new, code[_ngcontent-%COMP%]     .keyword-operator-expression, code[_ngcontent-%COMP%]     .keyword-operator-cast, code[_ngcontent-%COMP%]     .keyword-operator-sizeof, code[_ngcontent-%COMP%]     .keyword-operator-typeid, code[_ngcontent-%COMP%]     .keyword-operator-alignas, code[_ngcontent-%COMP%]     .keyword-operator-instanceof, code[_ngcontent-%COMP%]     .keyword-operator-logical-python, code[_ngcontent-%COMP%]     .keyword-operator-wordlike{color:#569cd6}code[_ngcontent-%COMP%]     .keyword-other-unit{color:#b5cea8}code[_ngcontent-%COMP%]     .punctuation-section-embedded-begin-php, code[_ngcontent-%COMP%]     .punctuation-section-embedded-end-php{color:#569cd6}code[_ngcontent-%COMP%]     .support-function-git-rebase{color:#9cdcfe}code[_ngcontent-%COMP%]     .constant-sha-git-rebase{color:#b5cea8}code[_ngcontent-%COMP%]     .storage-modifier-import-java, code[_ngcontent-%COMP%]     .variable-language-wildcard-java, code[_ngcontent-%COMP%]     .storage-modifier-package-java{color:#d4d4d4}code[_ngcontent-%COMP%]     .variable-language{color:#569cd6}code[_ngcontent-%COMP%]     .entity-name-function, code[_ngcontent-%COMP%]     .support-function, code[_ngcontent-%COMP%]     .support-constant-handlebars, code[_ngcontent-%COMP%]     .source-powershell .variable-other-member{color:#dcdcaa}code[_ngcontent-%COMP%]     .meta-return-type, code[_ngcontent-%COMP%]     .support-class, code[_ngcontent-%COMP%]     .support-type, code[_ngcontent-%COMP%]     .entity-name-type, code[_ngcontent-%COMP%]     .entity-name-namespace, code[_ngcontent-%COMP%]     .entity-other-attribute, code[_ngcontent-%COMP%]     .entity-name-scope-resolution, code[_ngcontent-%COMP%]     .entity-name-class, code[_ngcontent-%COMP%]     .storage-type-numeric-go, code[_ngcontent-%COMP%]     .storage-type-byte-go, code[_ngcontent-%COMP%]     .storage-type-boolean-go, code[_ngcontent-%COMP%]     .storage-type-string-go, code[_ngcontent-%COMP%]     .storage-type-uintptr-go, code[_ngcontent-%COMP%]     .storage-type-error-go, code[_ngcontent-%COMP%]     .storage-type-rune-go, code[_ngcontent-%COMP%]     .storage-type-cs, code[_ngcontent-%COMP%]     .storage-type-generic-cs, code[_ngcontent-%COMP%]     .storage-type-modifier-cs, code[_ngcontent-%COMP%]     .storage-type-variable-cs, code[_ngcontent-%COMP%]     .storage-type-annotation-java, code[_ngcontent-%COMP%]     .storage-type-generic-java, code[_ngcontent-%COMP%]     .storage-type-java, code[_ngcontent-%COMP%]     .storage-type-object-array-java, code[_ngcontent-%COMP%]     .storage-type-primitive-array-java, code[_ngcontent-%COMP%]     .storage-type-primitive-java, code[_ngcontent-%COMP%]     .storage-type-token-java, code[_ngcontent-%COMP%]     .storage-type-groovy, code[_ngcontent-%COMP%]     .storage-type-annotation-groovy, code[_ngcontent-%COMP%]     .storage-type-parameters-groovy, code[_ngcontent-%COMP%]     .storage-type-generic-groovy, code[_ngcontent-%COMP%]     .storage-type-object-array-groovy, code[_ngcontent-%COMP%]     .storage-type-primitive-array-groovy, code[_ngcontent-%COMP%]     .storage-type-primitive-groovy{color:#4ec9b0}code[_ngcontent-%COMP%]     .meta-type-cast-expr, code[_ngcontent-%COMP%]     .meta-type-new-expr, code[_ngcontent-%COMP%]     .support-constant-math, code[_ngcontent-%COMP%]     .support-constant-dom, code[_ngcontent-%COMP%]     .support-constant-json, code[_ngcontent-%COMP%]     .entity-other-inherited-class{color:#4ec9b0}code[_ngcontent-%COMP%]     .keyword-control, code[_ngcontent-%COMP%]     .source-cpp .keyword-operator-new, code[_ngcontent-%COMP%]     .keyword-operator-delete, code[_ngcontent-%COMP%]     .keyword-other-using, code[_ngcontent-%COMP%]     .keyword-other-operator, code[_ngcontent-%COMP%]     .entity-name-operator{color:#c586c0}code[_ngcontent-%COMP%]     .variable, code[_ngcontent-%COMP%]     .meta-definition-variable-name, code[_ngcontent-%COMP%]     .support-variable, code[_ngcontent-%COMP%]     .entity-name-variable{color:#9cdcfe}code[_ngcontent-%COMP%]     .meta-object-literal-key{color:#9cdcfe}code[_ngcontent-%COMP%]     .support-constant-property-value, code[_ngcontent-%COMP%]     .support-constant-font-name, code[_ngcontent-%COMP%]     .support-constant-media-type, code[_ngcontent-%COMP%]     .support-constant-media, code[_ngcontent-%COMP%]     .constant-other-color-rgb-value, code[_ngcontent-%COMP%]     .constant-other-rgb-value, code[_ngcontent-%COMP%]     .support-constant-color{color:#ce9178}code[_ngcontent-%COMP%]     .punctuation-definition-group-regexp, code[_ngcontent-%COMP%]     .punctuation-definition-group-assertion-regexp, code[_ngcontent-%COMP%]     .punctuation-definition-character-class-regexp, code[_ngcontent-%COMP%]     .punctuation-character-set-begin-regexp, code[_ngcontent-%COMP%]     .punctuation-character-set-end-regexp, code[_ngcontent-%COMP%]     .keyword-operator-negation-regexp, code[_ngcontent-%COMP%]     .support-other-parenthesis-regexp{color:#ce9178}code[_ngcontent-%COMP%]     .constant-character-character-class-regexp, code[_ngcontent-%COMP%]     .constant-other-character-class-set-regexp, code[_ngcontent-%COMP%]     .constant-other-character-class-regexp, code[_ngcontent-%COMP%]     .constant-character-set-regexp{color:#d16969}code[_ngcontent-%COMP%]     .keyword-operator-or-regexp, code[_ngcontent-%COMP%]     .keyword-control-anchor-regexp{color:#dcdcaa}code[_ngcontent-%COMP%]     .keyword-operator-quantifier-regexp{color:#d7ba7d}code[_ngcontent-%COMP%]     .constant-character{color:#569cd6}code[_ngcontent-%COMP%]     .constant-character-escape{color:#d7ba7d}code[_ngcontent-%COMP%]     .entity-name-label{color:#c8c8c8}code[_ngcontent-%COMP%]     .punctuation-definition-string{color:#ce9178}code[_ngcontent-%COMP%]     .variable-language-this{color:#569cd6}code[_ngcontent-%COMP%]     .punctuation-definition-comment{color:#6a9955}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%]{position:absolute;text-align:right;user-select:none;color:#858585}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%]{right:calc(100% + 26px)}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{position:absolute;display:block;background-color:#53789b!important;height:19px;opacity:.5}.viewport[_ngcontent-%COMP%]{height:100%;width:100%}"],changeDetection:0})}}var Z=o(4968),K=o(1365),J=o(9300),Y=o(8505),ue=o(8372),pe=o(7396),_e=o(3943);const he=["leftScrollContainer"],fe=["rightScrollContainer"],me=["leftCode"],Ce=["rightCode"];function Me(L,s){if(1&L&&e._UZ(0,"span",13),2&L){const c=s.ngIf;e.Udp("left",c.left)("width",c.width)}}function Pe(L,s){if(1&L&&(e.TgZ(0,"span",16),e._uU(1),e.qZA()),2&L){const c=s.$implicit;e.Q6J("ngClass",c.class),e.xp6(1),e.Oqu(c.text)}}function Oe(L,s){if(1&L&&(e.ynx(0),e.TgZ(1,"span",14),e._uU(2),e.qZA(),e.YNc(3,Pe,2,2,"span",15),e.ALo(4,"tokens"),e.ALo(5,"searchToken"),e.ALo(6,"async"),e.BQk()),2&L){const c=e.oxw().$implicit,r=e.oxw();e.xp6(2),e.Oqu(null==c.oldLine?null:c.oldLine.lineNumber),e.xp6(1),e.Q6J("ngForOf",e.xi3(4,2,e.Dn7(5,5,null==c.oldLine?null:c.oldLine.tokens,null==c.oldLine?null:c.oldLine.text,e.lcZ(6,9,r.search)),null==c.oldLine?null:c.oldLine.text))}}function xe(L,s){if(1&L&&(e.TgZ(0,"li",10),e.YNc(1,Me,1,4,"span",11),e.ALo(2,"async"),e.YNc(3,Oe,7,11,"ng-container",12),e.qZA()),2&L){const c=s.$implicit,r=s.index,d=e.oxw();e.Q6J("ngClass","line-"+c.status),e.xp6(1),e.Q6J("ngIf",e.lcZ(2,3,d.getSelection(r,"left"))),e.xp6(2),e.Q6J("ngIf","added"!==c.status)}}function ye(L,s){if(1&L&&e._UZ(0,"span",13),2&L){const c=s.ngIf;e.Udp("left",c.left)("width",c.width)}}function be(L,s){if(1&L&&(e.TgZ(0,"span",16),e._uU(1),e.qZA()),2&L){const c=s.$implicit;e.Q6J("ngClass",c.class),e.xp6(1),e.Oqu(c.text)}}function ve(L,s){if(1&L&&(e.ynx(0),e.TgZ(1,"span",14),e._uU(2),e.qZA(),e.YNc(3,be,2,2,"span",15),e.ALo(4,"tokens"),e.ALo(5,"searchToken"),e.ALo(6,"async"),e.BQk()),2&L){const c=e.oxw().$implicit,r=e.oxw();e.xp6(2),e.Oqu(null==c.newLine?null:c.newLine.lineNumber),e.xp6(1),e.Q6J("ngForOf",e.xi3(4,2,e.Dn7(5,5,null==c.newLine?null:c.newLine.tokens,null==c.newLine?null:c.newLine.text,e.lcZ(6,9,r.search)),null==c.newLine?null:c.newLine.text))}}function we(L,s){if(1&L&&(e.TgZ(0,"li",10),e.YNc(1,ye,1,4,"span",11),e.ALo(2,"async"),e.YNc(3,ve,7,11,"ng-container",12),e.qZA()),2&L){const c=s.$implicit,r=s.index,d=e.oxw();e.Q6J("ngClass","line-"+c.status),e.xp6(1),e.Q6J("ngIf",e.lcZ(2,3,d.getSelection(r,"right"))),e.xp6(2),e.Q6J("ngIf","removed"!==c.status)}}class q extends((0,M.j)(h.A)){constructor(s,c,r){super(),this.zone=s,this.diffService=c,this.diffSelectionService=r,this.leftLineNumberMargin=0,this.rightLineNumberMargin=0,this.lines$=new y.X([]),this.currentPatch=null,this.selectionSide=new y.X("right"),this.getSelection=(d,S)=>this.diffSelectionService.selectedRange.pipe((0,K.M)(this.selectionSide),(0,b.U)(([U,Q])=>{if(!U||Q!==S)return null;const[z,G]=U[0].line>U[1].line||U[0].line===U[1].line&&U[0].char>U[1].char?[U[1],U[0]]:U;return d<z.line||d>G.line?null:d===z.line?{left:z.char*this.diffSelectionService.charWidth+"px",width:z.line===G.line?(G.char-z.char)*this.diffSelectionService.charWidth+"px":"100%"}:d===G.line?{left:"0px",width:G.char*this.diffSelectionService.charWidth+"px"}:{left:"0px",width:"100%"}}))}ngOnInit(){this.diffLines.pipe((0,t.g)(0),(0,i.R)(this.destroyed$)).subscribe(r=>{const d=this.currentPatch?{...this.currentPatch}:null;r?(this.currentPatch={newFilePath:r.newFilePath,oldFilePath:r.oldFilePath},this.leftLineNumberMargin=this.diffService.calculateMargin(r.oldLines.length.toString().length,!0),this.rightLineNumberMargin=this.diffService.calculateMargin(r.newLines.length.toString().length,!0),this.diffService.calculateSplitLines(r.oldLines,r.newLines,r.hunks).pipe((0,i.R)(this.destroyed$)).subscribe(S=>{this.lines$.next(S),(!d||d.oldFilePath!==this.currentPatch?.oldFilePath||d.newFilePath!==this.currentPatch?.newFilePath)&&(this.leftScrollContainer?.nativeElement?.scrollTo(0,0),this.rightScrollContainer?.nativeElement?.scrollTo(0,0))})):(this.currentPatch=null,this.leftLineNumberMargin=0,this.rightLineNumberMargin=0,this.lines$.next([]),d&&(this.leftScrollContainer?.nativeElement?.scrollTo(0,0),this.rightScrollContainer?.nativeElement?.scrollTo(0,0)))}),this.zone.runOutsideAngular(()=>{let r=!1,d=!1;(0,Z.R)(this.leftScrollContainer.nativeElement,"scroll",{passive:!0}).pipe((0,J.h)(()=>!d),(0,Y.b)(()=>{r=!0,this.rightScrollContainer.nativeElement.scrollTo(this.leftScrollContainer.nativeElement.scrollLeft,this.leftScrollContainer.nativeElement.scrollTop)}),(0,ue.b)(100),(0,i.R)(this.destroyed$)).subscribe(()=>{r=!1}),(0,Z.R)(this.rightScrollContainer.nativeElement,"scroll",{passive:!0}).pipe((0,J.h)(()=>!r),(0,Y.b)(()=>{d=!0,this.leftScrollContainer.nativeElement.scrollTo(this.rightScrollContainer.nativeElement.scrollLeft,this.rightScrollContainer.nativeElement.scrollTop)}),(0,ue.b)(100),(0,i.R)(this.destroyed$)).subscribe(()=>{d=!1})});const s=this.leftScrollContainer.nativeElement;this.diffSelectionService.captureSelections(this.leftCodeElement.nativeElement,(r,d)=>({line:Math.floor((s.scrollTop+d-s.getBoundingClientRect().top)/19),char:Math.max(0,Math.round((s.scrollLeft+r-s.getBoundingClientRect().left-(this.leftLineNumberMargin+26))/this.diffSelectionService.charWidth))}),(r,d)=>this.lines$.value.filter((S,U)=>U>=r&&U<=d).map(S=>S.oldLine?.text),()=>({line:this.lines$.value.length-1,char:this.lines$.value[this.lines$.value.length-1].oldLine?.text.length??0}),([r,d])=>(0,D.Z)(r.line,d.line+1).map(S=>({oldLineNo:this.lines$.value[S]?.oldLine?.lineNumber??-1,newLineNo:this.lines$.value[S]?.newLine?.lineNumber??-1}))).pipe((0,i.R)(this.destroyed$)).subscribe(()=>{this.selectionSide.next("left")});const c=this.rightScrollContainer.nativeElement;this.diffSelectionService.captureSelections(this.rightCodeElement.nativeElement,(r,d)=>({line:Math.floor((c.scrollTop+d-c.getBoundingClientRect().top)/19),char:Math.max(0,Math.round((c.scrollLeft+r-c.getBoundingClientRect().left-(this.rightLineNumberMargin+26))/this.diffSelectionService.charWidth))}),(r,d)=>this.lines$.value.filter((S,U)=>U>=r&&U<=d).map(S=>S.newLine?.text),()=>({line:this.lines$.value.length-1,char:this.lines$.value[this.lines$.value.length-1].newLine?.text.length??0}),([r,d])=>(0,D.Z)(r.line,d.line+1).map(S=>({oldLineNo:this.lines$.value[S]?.oldLine?.lineNumber??-1,newLineNo:this.lines$.value[S]?.newLine?.lineNumber??-1}))).pipe((0,i.R)(this.destroyed$)).subscribe(()=>{this.selectionSide.next("right")})}trackByDiffLine(s,c){return s}static{this.\u0275fac=function(c){return new(c||q)(e.Y36(e.R0b),e.Y36(k.S),e.Y36(B.Q))}}static{this.\u0275cmp=e.Xpm({type:q,selectors:[["app-split-view"]],viewQuery:function(c,r){if(1&c&&(e.Gf(he,7,e.SBq),e.Gf(fe,7,e.SBq),e.Gf(me,7,e.SBq),e.Gf(Ce,7,e.SBq)),2&c){let d;e.iGM(d=e.CRH())&&(r.leftScrollContainer=d.first),e.iGM(d=e.CRH())&&(r.rightScrollContainer=d.first),e.iGM(d=e.CRH())&&(r.leftCodeElement=d.first),e.iGM(d=e.CRH())&&(r.rightCodeElement=d.first)}},inputs:{diffLines:"diffLines",search:"search"},features:[e.qOj],decls:17,vars:18,consts:[["id","diff-view_split-left"],[1,"viewport",3,"itemSize","maxBufferPx","minBufferPx"],["leftScrollContainer",""],["tabindex","0",1,"left-code"],["leftCode",""],["class","line",3,"ngClass",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],["id","diff-view_split-right"],["rightScrollContainer",""],["tabindex","1",1,"right-code"],["rightCode",""],[1,"line",3,"ngClass"],["class","selection",3,"left","width",4,"ngIf"],[4,"ngIf"],[1,"selection"],[1,"line-number"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(c,r){1&c&&(e.TgZ(0,"app-grid")(1,"app-grid-cell",0)(2,"cdk-virtual-scroll-viewport",1,2)(4,"code",3,4)(6,"ul"),e.YNc(7,xe,4,5,"li",5),e.ALo(8,"async"),e.qZA()()()(),e.TgZ(9,"app-grid-cell",6)(10,"cdk-virtual-scroll-viewport",1,7)(12,"code",8,9)(14,"ul"),e.YNc(15,we,4,5,"li",5),e.ALo(16,"async"),e.qZA()()()()()),2&c&&(e.xp6(2),e.Q6J("itemSize",19)("maxBufferPx",1e3)("minBufferPx",200),e.xp6(4),e.Udp("margin-left",r.leftLineNumberMargin+26,"px"),e.xp6(1),e.Q6J("cdkVirtualForOf",e.lcZ(8,14,r.lines$))("cdkVirtualForTrackBy",r.trackByDiffLine),e.xp6(3),e.Q6J("itemSize",19)("maxBufferPx",1e3)("minBufferPx",200),e.xp6(4),e.Udp("margin-left",r.rightLineNumberMargin+26,"px"),e.xp6(1),e.Q6J("cdkVirtualForOf",e.lcZ(16,16,r.lines$))("cdkVirtualForTrackBy",r.trackByDiffLine))},dependencies:[T.xd,T.x0,T.N7,g.mk,g.sg,g.O5,pe.Y,_e.M,g.Ov,W.y,H.U],styles:["code[_ngcontent-%COMP%]{display:block;white-space:pre;user-select:none;cursor:text;outline:none;color:#d4d4d4;font-family:Monaco,Menlo,Consolas,Droid Sans Mono,Inconsolata,Courier New,monospace;font-size:14px;font-weight:400;letter-spacing:0px;line-height:19px}code[_ngcontent-%COMP%]     .line{height:19px}code[_ngcontent-%COMP%]     .line.line-added{background:#1f2c19}code[_ngcontent-%COMP%]     .line.line-removed{background:#501515}code[_ngcontent-%COMP%]     .line.line-void{background:#111}code[_ngcontent-%COMP%]     .diff-added{background-color:#1d572c}code[_ngcontent-%COMP%]     .diff-removed{background-color:#803030}code[_ngcontent-%COMP%]     .search-result{background-color:#a14e1b}code[_ngcontent-%COMP%]     .meta-embedded, code[_ngcontent-%COMP%]     .source-groovy-embedded{color:#d4d4d4}code[_ngcontent-%COMP%]     .emphasis{font-style:italic}code[_ngcontent-%COMP%]     .strong{font-weight:700}code[_ngcontent-%COMP%]     .header{color:navy}code[_ngcontent-%COMP%]     .comment{color:#6a9955}code[_ngcontent-%COMP%]     .constant-language{color:#569cd6}code[_ngcontent-%COMP%]     .constant-numeric, code[_ngcontent-%COMP%]     .entity-name-operator-custom-literal-number, code[_ngcontent-%COMP%]     .variable-other-enummember, code[_ngcontent-%COMP%]     .keyword-operator-plus-exponent, code[_ngcontent-%COMP%]     .keyword-operator-minus-exponent{color:#b5cea8}code[_ngcontent-%COMP%]     .constant-regexp{color:#646695}code[_ngcontent-%COMP%]     .entity-name-tag{color:#569cd6}code[_ngcontent-%COMP%]     .entity-name-tag-css{color:#d7ba7d}code[_ngcontent-%COMP%]     .entity-other-attribute-name{color:#9cdcfe}code[_ngcontent-%COMP%]     .entity-other-attribute-name-class-css, code[_ngcontent-%COMP%]     .entity-other-attribute-name-class-mixin-css, code[_ngcontent-%COMP%]     .entity-other-attribute-name-id-css, code[_ngcontent-%COMP%]     .entity-other-attribute-name-parent-selector-css, code[_ngcontent-%COMP%]     .entity-other-attribute-name-pseudo-class-css, code[_ngcontent-%COMP%]     .entity-other-attribute-name-pseudo-element-css, code[_ngcontent-%COMP%]     .source-css-less .entity-other-attribute-name-id, code[_ngcontent-%COMP%]     .entity-other-attribute-name-attribute-scss, code[_ngcontent-%COMP%]     .entity-other-attribute-name-scss{color:#d7ba7d}code[_ngcontent-%COMP%]     .invalid{color:#f44747}code[_ngcontent-%COMP%]     .markup-underline{text-decoration:underline}code[_ngcontent-%COMP%]     .markup-bold{font-weight:700;color:#569cd6}code[_ngcontent-%COMP%]     .markup-heading{font-weight:700;color:#569cd6}code[_ngcontent-%COMP%]     .markup-italic{font-style:italic}code[_ngcontent-%COMP%]     .markup-inserted{color:#b5cea8}code[_ngcontent-%COMP%]     .markup-deleted{color:#ce9178}code[_ngcontent-%COMP%]     .markup-changed{color:#569cd6}code[_ngcontent-%COMP%]     .punctuation-definition-quote-begin-markdown{color:#6a9955}code[_ngcontent-%COMP%]     .punctuation-definition-list-begin-markdown{color:#6796e6}code[_ngcontent-%COMP%]     .markup-inline-raw{color:#ce9178}code[_ngcontent-%COMP%]     .punctuation-definition-tag{color:gray}code[_ngcontent-%COMP%]     .meta-preprocessor{color:#569cd6}code[_ngcontent-%COMP%]     .meta-preprocessor-string{color:#ce9178}code[_ngcontent-%COMP%]     .meta-preprocessor-numeric{color:#b5cea8}code[_ngcontent-%COMP%]     .meta-structure-dictionary-key-python{color:#9cdcfe}code[_ngcontent-%COMP%]     .meta-diff-header{color:#569cd6}code[_ngcontent-%COMP%]     .storage{color:#569cd6}code[_ngcontent-%COMP%]     .storage-type{color:#569cd6}code[_ngcontent-%COMP%]     .storage-modifier, code[_ngcontent-%COMP%]     .keyword-operator-noexcept{color:#569cd6}code[_ngcontent-%COMP%]     .string, code[_ngcontent-%COMP%]     .entity-name-operator-custom-literal-string{color:#ce9178}code[_ngcontent-%COMP%]     .string-tag{color:#ce9178}code[_ngcontent-%COMP%]     .string-value{color:#ce9178}code[_ngcontent-%COMP%]     .string-regexp{color:#d16969}code[_ngcontent-%COMP%]     .punctuation-definition-template-expression-begin, code[_ngcontent-%COMP%]     .punctuation-definition-template-expression-end, code[_ngcontent-%COMP%]     .punctuation-section-embedded{color:#569cd6}code[_ngcontent-%COMP%]     .meta-template-expression{color:#d4d4d4}code[_ngcontent-%COMP%]     .support-type-vendored-property-name, code[_ngcontent-%COMP%]     .support-type-property-name, code[_ngcontent-%COMP%]     .variable-css, code[_ngcontent-%COMP%]     .variable-scss, code[_ngcontent-%COMP%]     .variable-other-less, code[_ngcontent-%COMP%]     .source-coffee-embedded{color:#9cdcfe}code[_ngcontent-%COMP%]     .keyword{color:#569cd6}code[_ngcontent-%COMP%]     .keyword-control{color:#569cd6}code[_ngcontent-%COMP%]     .keyword-operator{color:#d4d4d4}code[_ngcontent-%COMP%]     .keyword-operator-new, code[_ngcontent-%COMP%]     .keyword-operator-expression, code[_ngcontent-%COMP%]     .keyword-operator-cast, code[_ngcontent-%COMP%]     .keyword-operator-sizeof, code[_ngcontent-%COMP%]     .keyword-operator-typeid, code[_ngcontent-%COMP%]     .keyword-operator-alignas, code[_ngcontent-%COMP%]     .keyword-operator-instanceof, code[_ngcontent-%COMP%]     .keyword-operator-logical-python, code[_ngcontent-%COMP%]     .keyword-operator-wordlike{color:#569cd6}code[_ngcontent-%COMP%]     .keyword-other-unit{color:#b5cea8}code[_ngcontent-%COMP%]     .punctuation-section-embedded-begin-php, code[_ngcontent-%COMP%]     .punctuation-section-embedded-end-php{color:#569cd6}code[_ngcontent-%COMP%]     .support-function-git-rebase{color:#9cdcfe}code[_ngcontent-%COMP%]     .constant-sha-git-rebase{color:#b5cea8}code[_ngcontent-%COMP%]     .storage-modifier-import-java, code[_ngcontent-%COMP%]     .variable-language-wildcard-java, code[_ngcontent-%COMP%]     .storage-modifier-package-java{color:#d4d4d4}code[_ngcontent-%COMP%]     .variable-language{color:#569cd6}code[_ngcontent-%COMP%]     .entity-name-function, code[_ngcontent-%COMP%]     .support-function, code[_ngcontent-%COMP%]     .support-constant-handlebars, code[_ngcontent-%COMP%]     .source-powershell .variable-other-member{color:#dcdcaa}code[_ngcontent-%COMP%]     .meta-return-type, code[_ngcontent-%COMP%]     .support-class, code[_ngcontent-%COMP%]     .support-type, code[_ngcontent-%COMP%]     .entity-name-type, code[_ngcontent-%COMP%]     .entity-name-namespace, code[_ngcontent-%COMP%]     .entity-other-attribute, code[_ngcontent-%COMP%]     .entity-name-scope-resolution, code[_ngcontent-%COMP%]     .entity-name-class, code[_ngcontent-%COMP%]     .storage-type-numeric-go, code[_ngcontent-%COMP%]     .storage-type-byte-go, code[_ngcontent-%COMP%]     .storage-type-boolean-go, code[_ngcontent-%COMP%]     .storage-type-string-go, code[_ngcontent-%COMP%]     .storage-type-uintptr-go, code[_ngcontent-%COMP%]     .storage-type-error-go, code[_ngcontent-%COMP%]     .storage-type-rune-go, code[_ngcontent-%COMP%]     .storage-type-cs, code[_ngcontent-%COMP%]     .storage-type-generic-cs, code[_ngcontent-%COMP%]     .storage-type-modifier-cs, code[_ngcontent-%COMP%]     .storage-type-variable-cs, code[_ngcontent-%COMP%]     .storage-type-annotation-java, code[_ngcontent-%COMP%]     .storage-type-generic-java, code[_ngcontent-%COMP%]     .storage-type-java, code[_ngcontent-%COMP%]     .storage-type-object-array-java, code[_ngcontent-%COMP%]     .storage-type-primitive-array-java, code[_ngcontent-%COMP%]     .storage-type-primitive-java, code[_ngcontent-%COMP%]     .storage-type-token-java, code[_ngcontent-%COMP%]     .storage-type-groovy, code[_ngcontent-%COMP%]     .storage-type-annotation-groovy, code[_ngcontent-%COMP%]     .storage-type-parameters-groovy, code[_ngcontent-%COMP%]     .storage-type-generic-groovy, code[_ngcontent-%COMP%]     .storage-type-object-array-groovy, code[_ngcontent-%COMP%]     .storage-type-primitive-array-groovy, code[_ngcontent-%COMP%]     .storage-type-primitive-groovy{color:#4ec9b0}code[_ngcontent-%COMP%]     .meta-type-cast-expr, code[_ngcontent-%COMP%]     .meta-type-new-expr, code[_ngcontent-%COMP%]     .support-constant-math, code[_ngcontent-%COMP%]     .support-constant-dom, code[_ngcontent-%COMP%]     .support-constant-json, code[_ngcontent-%COMP%]     .entity-other-inherited-class{color:#4ec9b0}code[_ngcontent-%COMP%]     .keyword-control, code[_ngcontent-%COMP%]     .source-cpp .keyword-operator-new, code[_ngcontent-%COMP%]     .keyword-operator-delete, code[_ngcontent-%COMP%]     .keyword-other-using, code[_ngcontent-%COMP%]     .keyword-other-operator, code[_ngcontent-%COMP%]     .entity-name-operator{color:#c586c0}code[_ngcontent-%COMP%]     .variable, code[_ngcontent-%COMP%]     .meta-definition-variable-name, code[_ngcontent-%COMP%]     .support-variable, code[_ngcontent-%COMP%]     .entity-name-variable{color:#9cdcfe}code[_ngcontent-%COMP%]     .meta-object-literal-key{color:#9cdcfe}code[_ngcontent-%COMP%]     .support-constant-property-value, code[_ngcontent-%COMP%]     .support-constant-font-name, code[_ngcontent-%COMP%]     .support-constant-media-type, code[_ngcontent-%COMP%]     .support-constant-media, code[_ngcontent-%COMP%]     .constant-other-color-rgb-value, code[_ngcontent-%COMP%]     .constant-other-rgb-value, code[_ngcontent-%COMP%]     .support-constant-color{color:#ce9178}code[_ngcontent-%COMP%]     .punctuation-definition-group-regexp, code[_ngcontent-%COMP%]     .punctuation-definition-group-assertion-regexp, code[_ngcontent-%COMP%]     .punctuation-definition-character-class-regexp, code[_ngcontent-%COMP%]     .punctuation-character-set-begin-regexp, code[_ngcontent-%COMP%]     .punctuation-character-set-end-regexp, code[_ngcontent-%COMP%]     .keyword-operator-negation-regexp, code[_ngcontent-%COMP%]     .support-other-parenthesis-regexp{color:#ce9178}code[_ngcontent-%COMP%]     .constant-character-character-class-regexp, code[_ngcontent-%COMP%]     .constant-other-character-class-set-regexp, code[_ngcontent-%COMP%]     .constant-other-character-class-regexp, code[_ngcontent-%COMP%]     .constant-character-set-regexp{color:#d16969}code[_ngcontent-%COMP%]     .keyword-operator-or-regexp, code[_ngcontent-%COMP%]     .keyword-control-anchor-regexp{color:#dcdcaa}code[_ngcontent-%COMP%]     .keyword-operator-quantifier-regexp{color:#d7ba7d}code[_ngcontent-%COMP%]     .constant-character{color:#569cd6}code[_ngcontent-%COMP%]     .constant-character-escape{color:#d7ba7d}code[_ngcontent-%COMP%]     .entity-name-label{color:#c8c8c8}code[_ngcontent-%COMP%]     .punctuation-definition-string{color:#ce9178}code[_ngcontent-%COMP%]     .variable-language-this{color:#569cd6}code[_ngcontent-%COMP%]     .punctuation-definition-comment{color:#6a9955}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .line-number[_ngcontent-%COMP%]{position:absolute;text-align:right;user-select:none;color:#858585;right:calc(100% + 26px)}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{position:absolute;display:block;background-color:#53789b!important;height:19px;opacity:.5}code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-added[_ngcontent-%COMP%]{background:#111}code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%]{background:#501515}code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-removed[_ngcontent-%COMP%]{background:#111}code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%]{background:#1f2c19}.viewport[_ngcontent-%COMP%]{height:100%;width:100%;overflow-x:scroll}"],changeDetection:0})}}var Ee=o(266),Le=o(9131),Te=o(3061);class ee{static{this.\u0275fac=function(c){return new(c||ee)}}static{this.\u0275mod=e.oAB({type:ee})}static{this.\u0275inj=e.cJS({imports:[p.vV,n.c,A.I]})}}e.B6R(_.s,[p.A9,p.Yi,g.O5,E.lW,E.RK,j.Hw,Ee.gM,Le.j,Te.T,X,P,q],[g.Ov])},315:(V,N,o)=>{o.d(N,{S:()=>f});var p=o(3969),A=o(7717),_=o(9646),e=o(4128),R=o(4004),D=o(4650);class f{constructor(){this.calculateInlineLines=(m,O,I)=>{const v=[];let x=0,C=0,y=[];const b=(l,a)=>{(l>x||a>C)&&(v.push(...(0,A.Z)(m.slice(x,l),O.slice(C,a)).map(([t,i])=>({oldLine:t??null,newLine:i??null,status:"unchanged"}))),x=l,C=a)};for(const l of I){b(l.oldStart-1,l.newStart-1),[y,x,C]=this.calculateGroups(m,O,x,C,l);for(const a of y)"modified"===a.type?v.push(...a.lines.flatMap(t=>"replaced"===t.status?[{...t,status:"removed",newLine:null},{...t,status:"added",oldLine:null}]:[t]).sort((t,i)=>"removed"===t.status&&"removed"===i.status?0:"removed"===t.status?-1:"removed"===i.status?1:0)):v.push(...a.lines)}return b(m.length,O.length),(0,_.of)(v)},this.calculateHunkLines=(m,O,I)=>{const v=[];let x=0,C=0,y=[];const b=(l,a,t)=>{(l>x||a>C)&&(v.push({isSeparator:!0,separatorHeader:t,hiddenDiffLines:(0,A.Z)(m.slice(x,l),O.slice(C,a)).map(([i,M])=>({oldLine:i??null,newLine:M??null,status:"unchanged"}))}),x=l,C=a)};for(const l of I){b(l.oldStart-1,l.newStart-1,l.header),[y,x,C]=this.calculateGroups(m,O,x,C,l);for(const a of y)"modified"===a.type?v.push(...a.lines.flatMap(t=>"replaced"===t.status?[{isSeparator:!1,diffLine:{...t,status:"removed",newLine:null}},{isSeparator:!1,diffLine:{...t,status:"added",oldLine:null}}]:[{isSeparator:!1,diffLine:t}]).sort((t,i)=>"removed"===t.diffLine.status&&"removed"===i.diffLine.status?0:"removed"===t.diffLine.status?-1:"removed"===i.diffLine.status?1:0)):v.push(...a.lines.map(t=>({isSeparator:!1,diffLine:t})))}return b(m.length,O.length,null),(0,_.of)(v)},this.calculateSplitLines=(m,O,I)=>{const v=[];let x=0,C=0,y=[];const b=(l,a)=>{(l>x||a>C)&&(v.push(...(0,A.Z)(m.slice(x,l),O.slice(C,a)).map(([t,i])=>({oldLine:t??null,newLine:i??null,status:"unchanged"}))),x=l,C=a)};for(const l of I){b(l.oldStart-1,l.newStart-1),[y,x,C]=this.calculateGroups(m,O,x,C,l);for(const a of y)v.push(...a.lines)}return b(m.length,O.length),(0,_.of)(v)},this.calculateMergeLines=(m,O,I,v,x)=>{const C=[],y=this.calculateSplitLines(m,O,v),b=this.calculateSplitLines(m,I,x);return(0,e.D)([y,b]).pipe((0,R.U)(([l,a])=>{let t=1,i=0,M=0;for(;i<l.length&&M<a.length;){const h=l[i],k=a[M];if(h.oldLine||k.oldLine){if(!h.oldLine&&k.oldLine)C.push({baseLine:null,yoursLine:h.newLine,yoursStatus:h.status,theirsLine:null,theirsStatus:null}),i++;else if(h.oldLine&&!k.oldLine)C.push({baseLine:null,yoursLine:null,yoursStatus:null,theirsLine:k.newLine,theirsStatus:k.status}),M++;else if(h.oldLine&&k.oldLine){if(t!==h.oldLine.lineNumber||t!==k.oldLine.lineNumber)throw new Error(`Base line numbers do not match - yours: ${h.oldLine.lineNumber}, theirs: ${k.oldLine.lineNumber}`);C.push({baseLine:k.oldLine,yoursLine:h.newLine,yoursStatus:h.status,theirsLine:k.newLine,theirsStatus:k.status}),t++,i++,M++}}else C.push({baseLine:null,yoursLine:h.newLine,yoursStatus:h.status,theirsLine:k.newLine,theirsStatus:k.status}),i++,M++}for(;i<l.length;){const h=l[i];C.push({baseLine:h.oldLine,yoursLine:h.newLine,yoursStatus:h.status,theirsLine:null,theirsStatus:null}),i++}for(;M<a.length;){const h=a[M];C.push({baseLine:h.oldLine,yoursLine:null,yoursStatus:null,theirsLine:h.newLine,theirsStatus:h.status}),M++}return C}))},this.calculateGroups=(m,O,I,v,x)=>{const C=x.lines.filter(t=>">"!==t.origin&&"<"!==t.origin),y=[];let b=I,l=v,a=0;for(;a<C.length;)if(-1===C[a].newLineNo){const t=[];for(;a<C.length&&-1===C[a].newLineNo;)t.push(m[b]),b++,a++;if(a<C.length&&-1===C[a].oldLineNo){const i=[];for(;a<C.length&&-1===C[a].oldLineNo;)i.push(O[l]),l++,a++;y.push(this.createModifiedGroup(t,i))}else y.push({type:"removed",lines:t.map(i=>({oldLine:i,newLine:null,status:"removed"}))})}else if(-1===C[a].oldLineNo){const t=[];for(;a<C.length&&-1===C[a].oldLineNo;)t.push(O[l]),l++,a++;if(a<C.length&&-1===C[a].newLineNo){const i=[];for(;a<C.length&&-1===C[a].newLineNo;)i.push(m[b]),b++,a++;y.push(this.createModifiedGroup(i,t))}else y.push({type:"added",lines:t.map(i=>({oldLine:null,newLine:i,status:"added"}))})}else{const t=[],i=[];for(;a<C.length&&-1!==C[a].oldLineNo&&-1!==C[a].newLineNo;)t.push(m[b]),i.push(O[l]),b++,l++,a++;y.push({type:"unchanged",lines:(0,A.Z)(t,i).map(([M,h])=>({oldLine:M??null,newLine:h??null,status:"unchanged"}))})}return[y,b,l]},this.createModifiedGroup=(m,O)=>{const I=m.map(B=>B.text.replace("\n","")).join("\n"),v=O.map(B=>B.text.replace("\n","")).join("\n"),x=new p.diff_match_patch,C=x.diff_main(I,v);x.diff_cleanupSemantic(C);const y=[];let b=0,l=0,a=null,t=null,i=[],M=[],h=[];const k=B=>{B===p.DIFF_EQUAL?(y.push({status:null!==a&&null!==t?"replaced":null!==a?"removed":"added",oldLine:null!==a?{...m[b],tokens:[...m[b].tokens,...i]}:null,newLine:null!==t?{...O[l],tokens:[...O[l].tokens,...M]}:null}),b++,l++,a=null,t=null,i=[],M=[]):B===p.DIFF_INSERT?(null===a&&(y.push(...h),h=[]),(null===a?y:h).push({status:"added",oldLine:null,newLine:{...O[l],tokens:[...O[l].tokens,...M]}}),l++,t=null,M=[]):B===p.DIFF_DELETE&&(null===t&&(y.push(...h),h=[]),(null===t?y:h).push({status:"removed",oldLine:{...m[b],tokens:[...m[b].tokens,...i]},newLine:null}),b++,a=null,i=[])};for(const[B,T]of C){const g=T.split("\n");if(B===p.DIFF_EQUAL){if(g.length>1){y.push(...h),h=[],null!==a||null!==t?(a=(a??0)+g[0].length,t=(t??0)+g[0].length,k(B)):(y.push({status:"unchanged",oldLine:m[b],newLine:O[l]}),b++,l++);for(let E=1;E<g.length-1;E++)y.push({status:"unchanged",oldLine:m[b],newLine:O[l]}),b++,l++}a=(a??0)+g[g.length-1].length,t=(t??0)+g[g.length-1].length}else if(B===p.DIFF_INSERT){if(g.length>1)if(null!==t){g[0].length>0&&M.push({startIndex:t??0,endIndex:(t??0)+g[0].length,scopes:["diff-added"]}),t+=g[0].length,k(B);for(let E=1;E<g.length-1;E++)(null===a?y:h).push({status:"added",oldLine:null,newLine:{...O[l],tokens:[...O[l].tokens,{startIndex:0,endIndex:g[E].length,scopes:["diff-added"]}]}}),l++}else for(let E=0;E<g.length-1;E++)(null===a?y:h).push({status:"added",oldLine:null,newLine:{...O[l],tokens:[...O[l].tokens,{startIndex:0,endIndex:g[E].length,scopes:["diff-added"]}]}}),l++;g[g.length-1].length>0&&M.push({startIndex:t??0,endIndex:(t??0)+g[g.length-1].length,scopes:["diff-added"]}),t=(t??0)+g[g.length-1].length}else if(B===p.DIFF_DELETE){if(g.length>1)if(null!==a){g[0].length>0&&i.push({startIndex:a??0,endIndex:(a??0)+g[0].length,scopes:["diff-removed"]}),a+=g[0].length,k(B);for(let E=1;E<g.length-1;E++)(null===t?y:h).push({status:"removed",oldLine:{...m[b],tokens:[...m[b].tokens,{startIndex:0,endIndex:g[E].length,scopes:["diff-removed"]}]},newLine:null}),b++}else for(let E=0;E<g.length-1;E++)(null===t?y:h).push({status:"removed",oldLine:{...m[b],tokens:[...m[b].tokens,{startIndex:0,endIndex:g[E].length,scopes:["diff-removed"]}]},newLine:null}),b++;g[g.length-1].length>0&&i.push({startIndex:a??0,endIndex:(a??0)+g[g.length-1].length,scopes:["diff-removed"]}),a=(a??0)+g[g.length-1].length}}return y.push(...h),(null!==a||null!==t)&&(0===I.length&&(a=a??0),0===v.length&&(t=t??0),k(p.DIFF_EQUAL)),{type:"modified",lines:y}}}static{this.lineNumberCharacterWidth=8.3}static{this.lineNumberSpacing=10}calculateMargin(m,O=!1){return f.lineNumberSpacing+m*f.lineNumberCharacterWidth*(O?1:2)}getFileExtension(m){if(!m)return null;const O=m.lastIndexOf(".");return O>0?m.substring(O+1):null}static{this.\u0275fac=function(O){return new(O||f)}}static{this.\u0275prov=D.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}}},1899:(V,N,o)=>{o.d(N,{y:()=>n});var p=o(4650);class n{transform(_,e,R){if(!R||!e)return _;const D=Array.from(e.matchAll(R),f=>({startIndex:f.index??0,endIndex:(f.index??0)+f[0].length,scopes:["search-result"]}));return[..._,...D]}static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275pipe=p.Yjl({name:"searchToken",type:n,pure:!0})}}},1453:(V,N,o)=>{o.d(N,{U:()=>e});var p=o(9466),n=o(1256),A=o(4650);class e{constructor(){this.renderScopes=D=>D.map(f=>this.renderScope(f)).join(" "),this.areEqual=(D,f)=>{if(D.length!==f.length)return!1;const w=new Set(D);for(const m of f)if(!w.has(m))return!1;return!0}}transform(D,f=""){if(!f)return[];if(f.length>1e4)return[{class:"normal",text:f.slice(0,1e4)+"... Max line length reached!"}];const w=(0,p.Z)(D,v=>v.startIndex),m=[];let O=0,I=w.filter(v=>v.startIndex<=O&&v.endIndex>O);for(;O<f.length;){let v=w.filter(C=>C.startIndex<=O&&C.endIndex>O);const x=O;for(;this.areEqual(I,v)&&O<f.length;)O++,v=w.filter(C=>C.startIndex<=O&&C.endIndex>O);m.push({class:this.renderScopes(I.map(C=>C.scopes)),text:f.substring(x,O)||"\n"}),I=v}return m}renderScope(D){const w=D[D.length-1].split(".");return(0,n.Z)(1,w.length+1).map(m=>w.slice(0,m).join("-")).join(" ")}static{this.\u0275fac=function(f){return new(f||e)}}static{this.\u0275pipe=A.Yjl({name:"tokens",type:e,pure:!0})}}},9468:(V,N,o)=>{o.d(N,{p:()=>f});var p=o(4986),n=o(4482),A=o(5403),_=o(8421);const e={leading:!0,trailing:!1};var D=o(5963);function f(w,m=p.z,O=e){const I=(0,D.H)(w,m);return function R(w,m=e){return(0,n.e)((O,I)=>{const{leading:v,trailing:x}=m;let C=!1,y=null,b=null,l=!1;const a=()=>{b?.unsubscribe(),b=null,x&&(M(),l&&I.complete())},t=()=>{b=null,l&&I.complete()},i=h=>b=(0,_.Xf)(w(h)).subscribe((0,A.x)(I,a,t)),M=()=>{if(C){C=!1;const h=y;y=null,I.next(h),!l&&i(h)}};O.subscribe((0,A.x)(I,h=>{C=!0,y=h,(!b||b.closed)&&(v?M():i(h))},()=>{l=!0,(!(x&&C&&b)||b.closed)&&I.complete()}))})}(()=>I,O)}},811:(V,N,o)=>{o.d(N,{A9:()=>x,Yi:()=>y,vV:()=>b});var p=o(2693),n=o(1281),A=o(5017),_=o(4650),e=o(4006),R=o(3238);const D=["button"],f=["*"],w=new _.OlP("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),m=new _.OlP("MatButtonToggleGroup"),O={provide:e.JU,useExisting:(0,_.Gpc)(()=>x),multi:!0};let I=0;class v{constructor(a,t){this.source=a,this.value=t}}let x=(()=>{class l{constructor(t,i){this._changeDetector=t,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+I++,this.valueChange=new _.vpe,this.change=new _.vpe,this.appearance=i&&i.appearance?i.appearance:"standard"}get name(){return this._name}set name(t){this._name=t,this._markButtonsForCheck()}get vertical(){return this._vertical}set vertical(t){this._vertical=(0,n.Ig)(t)}get value(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t.map(i=>i.value):t[0]?t[0].value:void 0}set value(t){this._setSelectionByValue(t),this.valueChange.emit(this.value)}get selected(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t:t[0]||null}get multiple(){return this._multiple}set multiple(t){this._multiple=(0,n.Ig)(t),this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(t){this._disabled=(0,n.Ig)(t),this._markButtonsForCheck()}ngOnInit(){this._selectionModel=new A.Ov(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(t=>t.checked))}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_emitChangeEvent(t){const i=new v(t,this.value);this._controlValueAccessorChangeFn(i.value),this.change.emit(i)}_syncButtonToggle(t,i,M=!1,h=!1){!this.multiple&&this.selected&&!t.checked&&(this.selected.checked=!1),this._selectionModel?i?this._selectionModel.select(t):this._selectionModel.deselect(t):h=!0,h?Promise.resolve().then(()=>this._updateModelValue(t,M)):this._updateModelValue(t,M)}_isSelected(t){return this._selectionModel&&this._selectionModel.isSelected(t)}_isPrechecked(t){return!(typeof this._rawValue>"u")&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(i=>null!=t.value&&i===t.value):t.value===this._rawValue)}_setSelectionByValue(t){this._rawValue=t,this._buttonToggles&&(this.multiple&&t?(Array.isArray(t),this._clearSelection(),t.forEach(i=>this._selectValue(i))):(this._clearSelection(),this._selectValue(t)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(t=>t.checked=!1)}_selectValue(t){const i=this._buttonToggles.find(M=>null!=M.value&&M.value===t);i&&(i.checked=!0,this._selectionModel.select(i))}_updateModelValue(t,i){i&&this._emitChangeEvent(t),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(t=>t._markForCheck())}}return l.\u0275fac=function(t){return new(t||l)(_.Y36(_.sBO),_.Y36(w,8))},l.\u0275dir=_.lG2({type:l,selectors:[["mat-button-toggle-group"]],contentQueries:function(t,i,M){if(1&t&&_.Suo(M,y,5),2&t){let h;_.iGM(h=_.CRH())&&(i._buttonToggles=h)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(t,i){2&t&&(_.uIk("aria-disabled",i.disabled),_.ekj("mat-button-toggle-vertical",i.vertical)("mat-button-toggle-group-appearance-standard","standard"===i.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[_._Bn([O,{provide:m,useExisting:l}])]}),l})();const C=(0,R.Kr)(class{});let y=(()=>{class l extends C{constructor(t,i,M,h,k,B){super(),this._changeDetectorRef=i,this._elementRef=M,this._focusMonitor=h,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new _.vpe;const T=Number(k);this.tabIndex=T||0===T?T:null,this.buttonToggleGroup=t,this.appearance=B&&B.appearance?B.appearance:"standard"}get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(t){this._appearance=t}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(t){const i=(0,n.Ig)(t);i!==this._checked&&(this._checked=i,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(t){this._disabled=(0,n.Ig)(t)}ngOnInit(){const t=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+I++,t&&(t._isPrechecked(this)?this.checked=!0:t._isSelected(this)!==this._checked&&t._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const t=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),t&&t._isSelected(this)&&t._syncButtonToggle(this,!1,!1,!0)}focus(t){this._buttonElement.nativeElement.focus(t)}_onButtonClick(){const t=!!this._isSingleSelector()||!this._checked;t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new v(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this._isSingleSelector()?this.buttonToggleGroup.name:this.name||null}_isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}}return l.\u0275fac=function(t){return new(t||l)(_.Y36(m,8),_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(p.tE),_.$8M("tabindex"),_.Y36(w,8))},l.\u0275cmp=_.Xpm({type:l,selectors:[["mat-button-toggle"]],viewQuery:function(t,i){if(1&t&&_.Gf(D,5),2&t){let M;_.iGM(M=_.CRH())&&(i._buttonElement=M.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(t,i){1&t&&_.NdJ("focus",function(){return i.focus()}),2&t&&(_.uIk("aria-label",null)("aria-labelledby",null)("id",i.id)("name",null),_.ekj("mat-button-toggle-standalone",!i.buttonToggleGroup)("mat-button-toggle-checked",i.checked)("mat-button-toggle-disabled",i.disabled)("mat-button-toggle-appearance-standard","standard"===i.appearance))},inputs:{disableRipple:"disableRipple",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[_.qOj],ngContentSelectors:f,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(t,i){if(1&t&&(_.F$t(),_.TgZ(0,"button",0,1),_.NdJ("click",function(){return i._onButtonClick()}),_.TgZ(2,"span",2),_.Hsn(3),_.qZA()(),_._UZ(4,"span",3)(5,"span",4)),2&t){const M=_.MAs(1);_.Q6J("id",i.buttonId)("disabled",i.disabled||null),_.uIk("tabindex",i.disabled?-1:i.tabIndex)("aria-pressed",i.checked)("name",i._getButtonName())("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby),_.xp6(5),_.Q6J("matRippleTrigger",M)("matRippleDisabled",i.disableRipple||i.disabled)}},dependencies:[R.wG],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}"],encapsulation:2,changeDetection:0}),l})(),b=(()=>{class l{}return l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=_.oAB({type:l}),l.\u0275inj=_.cJS({imports:[R.BQ,R.si,R.BQ]}),l})()},3693:(V,N,o)=>{o.d(N,{Z:()=>I});const _=function p(v){return function(x,C,y){for(var b=-1,l=Object(x),a=y(x),t=a.length;t--;){var i=a[v?t:++b];if(!1===C(l[i],i,l))break}return x}}();var e=o(4157);var f=o(8706);const I=function w(v,x){return function(C,y){if(null==C)return C;if(!(0,f.Z)(C))return v(C,y);for(var b=C.length,l=x?b:-1,a=Object(C);(x?l--:++l<b)&&!1!==y(a[l],l,a););return C}}(function R(v,x){return v&&_(v,x,e.Z)})},1134:(V,N,o)=>{o.d(N,{Z:()=>A});var p=o(6460);const A=function n(_,e,R){for(var D=-1,f=_.length;++D<f;){var w=_[D],m=e(w);if(null!=m&&(void 0===O?m==m&&!(0,p.Z)(m):R(m,O)))var O=m,I=w}return I}},2382:(V,N,o)=>{o.d(N,{Z:()=>n});const n=function p(A,_){return A>_}},5944:(V,N,o)=>{o.d(N,{Z:()=>a});var p=o(7988),n=o(7298),A=o(539),_=o(3693),e=o(8706);var m=o(6932),O=o(6460);const v=function I(t,i){if(t!==i){var M=void 0!==t,h=null===t,k=t==t,B=(0,O.Z)(t),T=void 0!==i,g=null===i,E=i==i,j=(0,O.Z)(i);if(!g&&!j&&!B&&t>i||B&&T&&E&&!g&&!j||h&&T&&E||!M&&E||!k)return 1;if(!h&&!B&&!j&&t<i||j&&M&&k&&!h&&!B||g&&M&&k||!T&&k||!E)return-1}return 0};var y=o(9940),b=o(4177);const a=function l(t,i,M){i=i.length?(0,p.Z)(i,function(B){return(0,b.Z)(B)?function(T){return(0,n.Z)(T,1===B.length?B[0]:B)}:B}):[y.Z];var h=-1;i=(0,p.Z)(i,(0,m.Z)(A.Z));var k=function R(t,i){var M=-1,h=(0,e.Z)(t)?Array(t.length):[];return(0,_.Z)(t,function(k,B,T){h[++M]=i(k,B,T)}),h}(t,function(B,T,g){return{criteria:(0,p.Z)(i,function(j){return j(B)}),index:++h,value:B}});return function f(t,i){var M=t.length;for(t.sort(i);M--;)t[M]=t[M].value;return t}(k,function(B,T){return function x(t,i,M){for(var h=-1,k=t.criteria,B=i.criteria,T=k.length,g=M.length;++h<T;){var E=v(k[h],B[h]);if(E)return h>=g?E:E*("desc"==M[h]?-1:1)}return t.index-i.index}(B,T,M)})}},4810:(V,N,o)=>{o.d(N,{Z:()=>R});var p=o(3093),n=o(8706),A=o(6667),_=o(1999);const R=function e(D,f,w){if(!(0,_.Z)(w))return!1;var m=typeof f;return!!("number"==m?(0,n.Z)(w)&&(0,A.Z)(f,w.length):"string"==m&&f in w)&&(0,p.Z)(w[f],D)}},1580:(V,N,o)=>{o.d(N,{Z:()=>e});var p=o(1134),n=o(2382),A=o(9940);const e=function _(R){return R&&R.length?(0,p.Z)(R,A.Z,n.Z):void 0}},1256:(V,N,o)=>{o.d(N,{Z:()=>m});var p=Math.ceil,n=Math.max;var e=o(4810),R=o(5601);const m=function D(O){return function(I,v,x){return x&&"number"!=typeof x&&(0,e.Z)(I,v,x)&&(v=x=void 0),I=(0,R.Z)(I),void 0===v?(v=I,I=0):v=(0,R.Z)(v),function A(O,I,v,x){for(var C=-1,y=n(p((I-O)/(v||1)),0),b=Array(y);y--;)b[x?y:++C]=O,O+=v;return b}(I,v,x=void 0===x?I<v?1:-1:(0,R.Z)(x),O)}}()},9466:(V,N,o)=>{o.d(N,{Z:()=>R});var p=o(113),n=o(5944),A=o(7965),_=o(4810);const R=(0,A.Z)(function(D,f){if(null==D)return[];var w=f.length;return w>1&&(0,_.Z)(D,f[0],f[1])?f=[]:w>2&&(0,_.Z)(f[0],f[1],f[2])&&(f=[f[0]]),(0,n.Z)(D,(0,p.Z)(f,1),[])})},5601:(V,N,o)=>{o.d(N,{Z:()=>a});var p=/\s/;var _=/^\s+/;const R=function e(t){return t&&t.slice(0,function n(t){for(var i=t.length;i--&&p.test(t.charAt(i)););return i}(t)+1).replace(_,"")};var D=o(1999),f=o(6460),m=/^[-+]0x[0-9a-f]+$/i,O=/^0b[01]+$/i,I=/^0o[0-7]+$/i,v=parseInt;var y=1/0;const a=function l(t){return t?(t=function x(t){if("number"==typeof t)return t;if((0,f.Z)(t))return NaN;if((0,D.Z)(t)){var i="function"==typeof t.valueOf?t.valueOf():t;t=(0,D.Z)(i)?i+"":i}if("string"!=typeof t)return 0===t?t:+t;t=R(t);var M=O.test(t);return M||I.test(t)?v(t.slice(2),M?2:8):m.test(t)?NaN:+t}(t))===y||t===-y?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}}}]);
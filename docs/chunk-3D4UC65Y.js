import{a as Hi,b as qi,c as $i,d as ji,e as Ui}from"./chunk-2X4OQ67B.js";import{d as Wi,e as Xi,f as Qi,g as Yi}from"./chunk-I7RB6PJN.js";import{a as Si,b as Pi,c as Ii,d as Fi}from"./chunk-K5LDCTVP.js";import{a as zi,b as Ai,c as Gi,d as Ni,e as Di}from"./chunk-G3SOHOCW.js";import"./chunk-IZMLOSU6.js";import{e as bt,i as vt,j as Ti,k as Ae}from"./chunk-LASU6GW6.js";import{a as wt,b as yt}from"./chunk-5T66DEWK.js";import{G as Li,d as K,f as j,j as Bi,l as U}from"./chunk-ZK5OAROB.js";import{$ as At,$a as ne,$i as le,Ad as et,Af as wi,Ai as Ee,B as W,Ba as X,Bd as he,Bf as yi,Ca as H,Cb as c,Cd as ri,Cf as Pt,Db as p,Dd as li,Di as Te,E as qe,Eh as Mi,Fa as ie,Ff as Ci,Ga as _,Ge as tt,Hd as si,Ia as Mt,Ib as Zt,If as lt,J as de,Jb as Kt,Jc as ni,Jf as xi,Kb as ge,Kc as xe,Lb as Jt,Lc as ai,Mc as oi,Mi as Be,N as $e,Na as Ue,Nb as Ke,Ne as mi,Oa as Ht,Ob as ye,Oc as St,Oi as Fe,P as we,Pb as ei,Pe as gi,Q as v,Qa as qt,Qb as ti,Qi as Le,R as T,Ri as ze,S as Ne,Sb as Ce,T as Lt,Ti as ut,Ua as l,Ub as ii,Va as a,Wa as o,We as ui,Wh as pt,Xa as h,Xh as dt,Y as zt,Yf as st,Yh as mt,_ as D,_h as gt,a as ce,ab as ae,b as pe,ba as te,bf as hi,cb as F,ce as ci,cf as _i,ch as I,cj as ht,da as C,db as $t,de as pi,df as ke,dj as _t,ea as x,eb as k,ef as fi,f as Et,fa as Gt,fb as u,ff as B,fi as L,g as He,gb as jt,gh as Ie,hb as Ut,hf as Me,i as xt,if as it,j as q,jb as We,jf as _e,ji as Oe,k as Tt,kb as Xe,l as Bt,lb as Qe,le as di,lf as P,lh as ct,li as Oi,m as ve,mb as Ye,mf as nt,mi as Vi,mj as ft,na as Nt,nb as Wt,ni as Ri,o as ee,oa as Dt,ob as $,of as bi,p as A,pa as je,pb as Xt,pf as at,pj as se,q as N,qb as d,r as kt,rb as g,rf as ot,sb as G,sf as rt,ta as me,th as oe,ug as Se,uh as re,va as n,vb as Qt,wh as ki,wi as Ve,xb as Yt,xf as vi,xh as R,yd as Je,yg as Pe,yi as Ei,z as Ft,za as V,zb as Ze,zd as ue,zi as Re}from"./chunk-R5KNYV3F.js";function wn(t,m){t&1&&(a(0,"div",3),h(1,"mat-spinner"),d(2),c(3,"translate"),o()),t&2&&(n(2),G(" ",p(3,1,"Cloning..."),`
`))}function yn(t,m){if(t&1&&(a(0,"mat-option",13),d(1),o()),t&2){let e=m.$implicit;l("value",+e.key),n(),g(e.value.credentialName)}}function Cn(t,m){if(t&1){let e=F();a(0,"form",4),c(1,"async"),k("ngSubmit",function(){C(e);let i=u();return x(i.clone())}),a(2,"mat-form-field",5)(3,"mat-label"),d(4),c(5,"translate"),o(),a(6,"mat-icon",6),d(7,"public"),o(),h(8,"input",7),o(),a(9,"mat-form-field",8),k("click",function(i){return C(e),u().browsePathIfEmpty(),x(i.preventDefault())}),a(10,"mat-label"),d(11),c(12,"translate"),o(),a(13,"mat-icon",6),d(14,"folder"),o(),h(15,"input",9),a(16,"button",10),k("click",function(i){return C(e),u().browsePath(),x(i.stopPropagation())}),d(17),c(18,"translate"),o()(),a(19,"mat-form-field",11)(20,"mat-label"),d(21),c(22,"translate"),o(),a(23,"mat-icon",6),d(24,"key"),o(),a(25,"mat-select",12),c(26,"translate"),a(27,"mat-option",13),d(28),c(29,"translate"),o(),_(30,yn,2,2,"mat-option",14),c(31,"async"),c(32,"keyvalue"),o()(),a(33,"button",15),d(34),c(35,"translate"),o()()}if(t&2){let e=u();$("vertical",p(1,14,e.displayVertical)),l("formGroup",e.form),n(4),g(p(5,16,"URL")),n(7),g(p(12,18,"Path to clone to")),n(6),G(" ",p(18,20,"Browse")," "),n(4),g(p(22,22,"Credential")),n(4),l("placeholder",Qt(p(26,24,"Select credential"))),n(2),l("value",null),n(),g(p(29,26,"None")),n(2),l("ngForOf",p(32,30,p(31,28,e.validCredentials))),n(3),l("disabled",e.form.invalid),n(),g(p(35,32,"Clone"))}}function xn(t,m){if(t&1&&h(0,"app-avatar",28),t&2){let e=u().$implicit;l("email",e.email)("type",e.type)}}function kn(t,m){if(t&1&&(a(0,"span",29),d(1),o()),t&2){let e=u().$implicit;l("matTooltip",e.email),n(),g(e.email)}}function Mn(t,m){if(t&1){let e=F();a(0,"li",30),k("click",function(){let i=C(e).$implicit,s=u().$implicit,M=u(2);return x(M.setFromIntegration(s,i))}),a(1,"mat-icon",31),c(2,"translate"),d(3,"lock"),o(),a(4,"span",32),d(5),o()()}if(t&2){let e=m.$implicit;n(),Wt("visibility",e.private?"visible":"hidden"),l("matTooltip",p(2,5,"Private !repository!")),n(3),l("matTooltip",e.name),n(),g(e.name)}}function Sn(t,m){t&1&&h(0,"mat-spinner",33),t&2&&l("diameter",24)}function Pn(t,m){if(t&1){let e=F();a(0,"mat-expansion-panel",19),k("afterCollapse",function(){C(e);let i=u(2);return x(i.updateViewportSizes())})("afterExpand",function(){C(e);let i=u(2);return x(i.updateViewportSizes())}),a(1,"mat-expansion-panel-header")(2,"mat-panel-title",20)(3,"span",21),h(4,"mat-icon",22),_(5,xn,1,2,"app-avatar",23),o(),_(6,kn,2,2,"span",24),o()(),a(7,"cdk-virtual-scroll-viewport",25)(8,"ul"),_(9,Mn,6,7,"li",26),o()(),_(10,Sn,1,1,"mat-spinner",27),c(11,"async"),o()}if(t&2){let e=m.$implicit,r=u(2);n(4),l("svgIcon",e.type),n(),l("ngIf",e.email),n(),l("ngIf",e.email),n(),l("itemSize",29),n(2),l("cdkVirtualForOf",e.dataSource)("cdkVirtualForTrackBy",r.trackByRepository),n(),l("ngIf",p(11,7,e.dataSource.loading))}}function In(t,m){if(t&1&&(a(0,"div",16),c(1,"async"),a(2,"mat-accordion",17),_(3,Pn,12,9,"mat-expansion-panel",18),o()()),t&2){let e=u();$("vertical",p(1,4,e.displayVertical)),n(3),l("ngForOf",e.integrationsWithRepos)("ngForTrackBy",e.trackByIntegrations)}}var rn=(()=>{class t extends oe(re,ki){get classVertical(){return this.displayVertical.value}constructor(e,r,i,s,M,w,E,S){super(),this.elementRef=e,this.router=r,this.store=i,this.bitbucketApiService=s,this.gitHubApiService=M,this.gitLabApiService=w,this.filesApi=E,this.repositoriesApi=S,this.cloning=new q(!1),this.form=new _e({url:new P(null,B.required),path:new P(null,B.required),credential:new P(null)}),this.validCredentials=kt([this.allCredentials,this.form.controls.url.valueChanges.pipe(we(null))]).pipe(N(([O,y])=>{let f=[...O.entries()];return Object.fromEntries(y?/^https?:\/\//.test(y)?f.filter(([z,b])=>b.type==="password"||b.type==="oauth-bitbucket"||b.type==="oauth-github"||b.type==="oauth-gitlab"):/^(git|file)?:\/\//.test(y)||/^\//.test(y)||!/:/.test(y)?[]:f.filter(([z,b])=>b.type==="ssh"):f)})),this.integrationsWithRepos=[],this.displayVertical=new q(!1),this.browsePath=()=>{this.filesApi.openFolderDialog().pipe(T(this.destroyed$)).subscribe(O=>{if(!O)return;let y=this.form.controls.url.value;if(y!==null){let z=/\/([^/]*?)(?:\.git)?\/?$/.exec(y);if(z){this.filesApi.getResolvedPath(O,z[1]??"").subscribe(b=>{this.form.controls.path.setValue(b)});return}}this.form.controls.path.setValue(O)})},this.browsePathIfEmpty=()=>{this.form.controls.path.value||this.browsePath()},this.clone=()=>{if(this.cloning.value)return;let{url:O,path:y,credential:f}=this.form.value;if(!O)throw new I(new ri);if(!y)throw new I(new he);let z=this.store.selectSnapshot(L.credentials);this.cloning.next(!0),this.repositoriesApi.cloneRepository(O,y,f?z.get(f):void 0).pipe(W(b=>tt.matches(b)?A(()=>new I(b)):ci.matches(b)?A(()=>new I(b)):pi.matches(b)?A(()=>new I(b)):di.matches(b)?A(()=>new I(b)):si.matches(b)?A(()=>new I(b)):A(()=>b)),v(()=>this.store.dispatch(new K(y))),v(()=>{let b=this.store.selectSnapshot(L.selectedProfile),Q=f&&b?.credentialIds!=="all"&&!b?.credentialIds.includes(f)?0:this.store.selectSnapshot(L.selectedProfileId);b&&Q>0&&b.allowedRepositories!=="all"&&this.store.dispatch(new Mi(Q,pe(ce({},b),{allowedRepositories:[...b.allowedRepositories,y]})));let Ge=f?{remotes:{origin:{credentialId:f}}}:null;return this.store.dispatch(new Bi(y,Q,Ge))}),v(()=>this.store.dispatch(new j(y))),v(()=>this.store.dispatch(new U(y))),de(()=>{this.cloning.next(!1)}),T(this.destroyed$)).subscribe(()=>{this.router.navigate(["/standard/default"])})},this.updateViewportSizes=()=>{this.viewports.forEach(O=>O.checkViewportSize())}}ngOnInit(){this.integrationsWithRepos=this.store.selectSnapshot(L.integrations).flatMap(i=>{switch(i.type){case"github":{let s=()=>He(N(w=>({next:w.next,values:w.values.map(E=>({type:"github",id:E.id,name:E.full_name,private:E.private,cloneUrl:E.clone_url}))})),W(w=>this.store.dispatch(new gt("error",R("Failed to download repositories list from GitHub.",{error:w}))).pipe(v(()=>ee({next:void 0,values:[]})))),Ne(()=>this.updateViewportSizes())),M=new De(w=>this.gitHubApiService.getPage(w,i.id).pipe(s()),this.gitHubApiService.getRepositories(i.token).pipe(s()));return{type:"github",id:i.id,email:i.email,dataSource:M}}case"gitlab":{let s=()=>He(N(w=>({next:w.next,values:w.values.map(E=>({type:"gitlab",id:E.id,name:E.path_with_namespace,private:E.visibility==="private",cloneUrl:E.http_url_to_repo}))})),W(w=>this.store.dispatch(new gt("error",R("Failed to download repositories list from GitLab.",{error:w}))).pipe(v(()=>ee({next:void 0,values:[]})))),Ne(()=>this.updateViewportSizes())),M=new De(w=>this.gitLabApiService.getPage(w,i.id).pipe(s()),this.gitLabApiService.getProjects(i).pipe(s()));return{type:"gitlab",id:i.id,email:i.email,dataSource:M}}case"bitbucket":{let s=()=>He(N(w=>({next:w.next,values:w.values.map(E=>({type:"bitbucket",id:E.repository.uuid,name:E.repository.full_name,private:E.repository.is_private,cloneUrl:E.repository.links.clone[0]?.href??""}))})),W(w=>this.store.dispatch(new gt("error",R("Failed to download repositories list from Bitbucket.",{error:w}))).pipe(v(()=>ee({next:void 0,values:[]})))),Ne(()=>this.updateViewportSizes())),M=new De(w=>this.bitbucketApiService.getPage(w,i.id).pipe(s()),this.bitbucketApiService.getRepositories(i).pipe(s()));return{type:"bitbucket",id:i.id,email:i.email,dataSource:M}}default:return[]}});let e=new xt,r=new ResizeObserver(i=>{Array.isArray(i)&&i.length>0&&e.next()});e.pipe(Lt(20,Tt,{leading:!0,trailing:!0}),T(this.destroyed$)).subscribe(()=>{this.displayVertical.next(this.elementRef.nativeElement.clientWidth<1040)}),r.observe(this.elementRef.nativeElement),this.destroyed$.subscribe(()=>r.disconnect())}setFromIntegration(e,r){this.form.controls.url.setValue(r.cloneUrl);let i=e.type==="github"?s=>s.type==="oauth-github"&&s.gitHubId===e.id:e.type==="gitlab"?s=>s.type==="oauth-gitlab"&&s.gitLabId===e.id:e.type==="bitbucket"?s=>s.type==="oauth-bitbucket"&&s.bitbucketId===e.id:null;if(i){let s=[...this.store.selectSnapshot(L.credentials)].find(([M,w])=>i(w));s&&this.form.controls.credential.setValue(s[0])}}trackByIntegrations(e,r){return`${r.type}:${r.id}`}trackByRepository(e,r){return r.id}static{this.\u0275fac=function(r){return new(r||t)(V(je),V(xe),V(Se),V(pt),V(dt),V(mt),V(Ie),V(ct))}}static{this.\u0275cmp=X({type:t,selectors:[["app-clone-repository-view"]],viewQuery:function(r,i){if(r&1&&We(lt,5),r&2){let s;Xe(s=Qe())&&(i.viewports=s)}},hostVars:2,hostBindings:function(r,i){r&2&&$("vertical",i.classVertical)},standalone:!1,features:[ie],decls:6,vars:9,consts:[["class","cloning",4,"ngIf"],[3,"formGroup","vertical","ngSubmit",4,"ngIf"],["class","integrations",3,"vertical",4,"ngIf"],[1,"cloning"],[3,"ngSubmit","formGroup"],[1,"url"],["matPrefix",""],["type","text","matInput","","required","","formControlName","url"],[1,"path",3,"click"],["type","text","matInput","","required","","formControlName","path"],["type","button","matSuffix","","mat-button","",1,"path-browse-button",3,"click"],[1,"credential"],["formControlName","credential",3,"placeholder"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["type","submit","mat-raised-button","","color","primary",3,"disabled"],[1,"integrations"],["multi",""],[3,"afterCollapse","afterExpand",4,"ngFor","ngForOf","ngForTrackBy"],[3,"afterCollapse","afterExpand"],[1,"info"],[1,"icons"],[3,"svgIcon"],[3,"email","type",4,"ngIf"],["class","email",3,"matTooltip",4,"ngIf"],[3,"itemSize"],[3,"click",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[3,"diameter",4,"ngIf"],[3,"email","type"],[1,"email",3,"matTooltip"],[3,"click"],["inline","","color","accent",3,"matTooltip"],[3,"matTooltip"],[3,"diameter"]],template:function(r,i){r&1&&(_(0,wn,4,3,"div",0),c(1,"async"),_(2,Cn,36,34,"form",1),c(3,"async"),_(4,In,4,6,"div",2),c(5,"async")),r&2&&(l("ngIf",p(1,3,i.cloning)),n(2),l("ngIf",p(3,5,i.cloning)===!1),n(2),l("ngIf",p(5,7,i.cloning)===!1))},dependencies:[Ni,zi,Ai,Gi,Te,Ve,Re,Ee,Le,wt,vt,bt,Ci,xi,lt,Ke,ye,nt,ke,Me,it,rt,at,ot,Oe,Fe,st,ut,Ce,ii,le],styles:["[_nghost-%COMP%]{display:flex;height:100%;padding:10px}.vertical[_nghost-%COMP%]{display:block}.cloning[_ngcontent-%COMP%]{margin:10px;font-size:2.125rem}.cloning[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin-bottom:20px}form[_ngcontent-%COMP%]{max-width:500px;margin-bottom:20px;margin-right:20px}form.vertical[_ngcontent-%COMP%]{margin-right:0}form[_ngcontent-%COMP%]   .url[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .credential[_ngcontent-%COMP%]{width:100%}form[_ngcontent-%COMP%]   .path-browse-button[_ngcontent-%COMP%]{margin-right:10px}.integrations[_ngcontent-%COMP%]{display:flex}.integrations.vertical[_ngcontent-%COMP%]{max-height:calc(100% - 290px)}mat-accordion[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:500px;min-height:300px}mat-expansion-panel[_ngcontent-%COMP%]{flex-shrink:1;display:flex;flex-direction:column;min-height:48px}mat-expansion-panel.mat-expansion-panel-spacing[_ngcontent-%COMP%]{min-height:167px}mat-expansion-panel.mat-expansion-panel-spacing[_ngcontent-%COMP%] + mat-expansion-panel.mat-expansion-panel-spacing[_ngcontent-%COMP%]{margin:0 0 16px}mat-expansion-panel.mat-expansion-panel-spacing[_ngcontent-%COMP%]:last-child{margin-bottom:0!important}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]{flex:0 0 auto;height:48px}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{height:64px}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{flex:0 0 auto;cursor:pointer}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%]{width:24px;height:24px;vertical-align:middle;margin:0 5px}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-content{overflow:hidden}mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-content.ng-animating cdk-virtual-scroll-viewport{overflow-y:hidden}mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-content .mat-expansion-panel-body{display:flex;flex-direction:column;overflow:hidden}mat-expansion-panel[_ngcontent-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%]{contain:content;scrollbar-gutter:stable}mat-expansion-panel[_ngcontent-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%]     .cdk-virtual-scroll-content-wrapper{width:100%}mat-expansion-panel[_ngcontent-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%]     .cdk-virtual-scroll-spacer{position:relative}mat-expansion-panel[_ngcontent-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{height:29px;line-height:29px;cursor:pointer;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}mat-expansion-panel[_ngcontent-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:5px;margin-top:-2px}mat-expansion-panel[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{flex:0 0 auto;margin-top:10px}"],changeDetection:0})}}return ve([Pe(L.credentials)],t.prototype,"allCredentials",void 0),t})(),De=class extends hi{constructor(m,e,r=10){super(),this.getPage=m,this.buffer=r,this.loading=new q(!1),this.dataStream=new q([]),this.subscription=new Et,this.maxRequested=new q(0),this.completed=new xt;let i=()=>{let s=kt([this.maxRequested,this.loading]).pipe(T(this.completed),Ft(([M,w])=>!w&&M>this.dataStream.value.length-this.buffer),Ne(()=>this.loading.next(!0)),v(()=>this.nextUrl?this.getPage(this.nextUrl):(this.completed.next(),this.completed.complete(),this.loading.next(!1),Bt))).subscribe(({next:M,values:w})=>{this.dataStream.next([...this.dataStream.value,...w]),this.nextUrl=M,this.loading.next(!1)});this.subscription.add(s)};typeof e=="string"||typeof e=="number"?(this.nextUrl=e,i()):e.subscribe(({next:s,values:M})=>{this.dataStream.next(M),this.nextUrl=s,i()})}connect(m){return this.subscription.add(m.viewChange.subscribe(e=>{e.end>this.maxRequested.value&&this.maxRequested.next(e.end)})),this.dataStream}disconnect(){this.subscription.unsubscribe()}};var ln=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=H({type:t})}static{this.\u0275inj=D({imports:[Di,Be,ze,yt,Ae,se]})}}return t})();var On=["switch"],Vn=["*"];function Rn(t,m){t&1&&(a(0,"span",11),Gt(),a(1,"svg",13),h(2,"path",14),o(),a(3,"svg",15),h(4,"path",16),o()())}var En=new At("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1,disabledInteractive:!1})}),Ct=class{source;checked;constructor(m,e){this.source=m,this.checked=e}},Vt=(()=>{class t{_elementRef=te(je);_focusMonitor=te(mi);_changeDetectorRef=te(Kt);defaults=te(En);_onChange=e=>{};_onTouched=()=>{};_validatorOnChange=()=>{};_uniqueId;_checked=!1;_createChangeEvent(e){return new Ct(this,e)}_labelId;get buttonId(){return`${this.id||this._uniqueId}-button`}_switchElement;focus(){this._switchElement.nativeElement.focus()}_noopAnimations=vi();_focused;name=null;id;labelPosition="after";ariaLabel=null;ariaLabelledby=null;ariaDescribedby;required;color;disabled=!1;disableRipple=!1;tabIndex=0;get checked(){return this._checked}set checked(e){this._checked=e,this._changeDetectorRef.markForCheck()}hideIcon;disabledInteractive;change=new Mt;toggleChange=new Mt;get inputId(){return`${this.id||this._uniqueId}-input`}constructor(){te(gi).load(yi);let e=te(new Zt("tabindex"),{optional:!0}),r=this.defaults;this.tabIndex=e==null?0:parseInt(e)||0,this.color=r.color||"accent",this.id=this._uniqueId=te(ui).getId("mat-mdc-slide-toggle-"),this.hideIcon=r.hideIcon??!1,this.disabledInteractive=r.disabledInteractive??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e==="keyboard"||e==="program"?(this._focused=!0,this._changeDetectorRef.markForCheck()):e||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(e){e.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}validate(e){return this.required&&e.value!==!0?{required:!0}:null}registerOnValidatorChange(e){this._validatorOnChange=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.disabled||(this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new Ct(this,this.checked))))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=X({type:t,selectors:[["mat-slide-toggle"]],viewQuery:function(r,i){if(r&1&&We(On,5),r&2){let s;Xe(s=Qe())&&(i._switchElement=s.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(r,i){r&2&&($t("id",i.id),Ue("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),Xt(i.color?"mat-"+i.color:""),$("mat-mdc-slide-toggle-focused",i._focused)("mat-mdc-slide-toggle-checked",i.checked)("_mat-animation-noopable",i._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],required:[2,"required","required",ge],color:"color",disabled:[2,"disabled","disabled",ge],disableRipple:[2,"disableRipple","disableRipple",ge],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Jt(e)],checked:[2,"checked","checked",ge],hideIcon:[2,"hideIcon","hideIcon",ge],disabledInteractive:[2,"disabledInteractive","disabledInteractive",ge]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[Yt([{provide:_i,useExisting:zt(()=>t),multi:!0},{provide:fi,useExisting:t,multi:!0}]),Nt],ngContentSelectors:Vn,decls:14,vars:27,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mat-mdc-slide-toggle-touch-target"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(r,i){if(r&1){let s=F();jt(),a(0,"div",1)(1,"button",2,0),k("click",function(){return C(s),x(i._handleClick())}),h(3,"div",3)(4,"span",4),a(5,"span",5)(6,"span",6)(7,"span",7),h(8,"span",8),o(),a(9,"span",9),h(10,"span",10),o(),Ht(11,Rn,5,0,"span",11),o()()(),a(12,"label",12),k("click",function(w){return C(s),x(w.stopPropagation())}),Ut(13),o()()}if(r&2){let s=Ye(2);l("labelPosition",i.labelPosition),n(),$("mdc-switch--selected",i.checked)("mdc-switch--unselected",!i.checked)("mdc-switch--checked",i.checked)("mdc-switch--disabled",i.disabled)("mat-mdc-slide-toggle-disabled-interactive",i.disabledInteractive),l("tabIndex",i.disabled&&!i.disabledInteractive?-1:i.tabIndex)("disabled",i.disabled&&!i.disabledInteractive),Ue("id",i.buttonId)("name",i.name)("aria-label",i.ariaLabel)("aria-labelledby",i._getAriaLabelledBy())("aria-describedby",i.ariaDescribedby)("aria-required",i.required||null)("aria-checked",i.checked)("aria-disabled",i.disabled&&i.disabledInteractive?"true":null),n(9),l("matRippleTrigger",s)("matRippleDisabled",i.disableRipple||i.disabled)("matRippleCentered",!0),n(),qt(i.hideIcon?-1:11),n(),l("for",i.buttonId),Ue("id",i._labelId)}},dependencies:[wi,Fi],styles:[`.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative;width:var(--mat-slide-toggle-track-width, 52px)}.mdc-switch.mdc-switch--disabled{cursor:default;pointer-events:none}.mdc-switch.mat-mdc-slide-toggle-disabled-interactive{pointer-events:auto}.mdc-switch__track{overflow:hidden;position:relative;width:100%;height:var(--mat-slide-toggle-track-height, 32px);border-radius:var(--mat-slide-toggle-track-shape, var(--mat-sys-corner-full))}.mdc-switch--disabled.mdc-switch .mdc-switch__track{opacity:var(--mat-slide-toggle-disabled-track-opacity, 0.12)}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%;border-width:var(--mat-slide-toggle-track-outline-width, 2px);border-color:var(--mat-slide-toggle-track-outline-color, var(--mat-sys-outline))}.mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track::after{border-width:var(--mat-slide-toggle-selected-track-outline-width, 2px);border-color:var(--mat-slide-toggle-selected-track-outline-color, transparent)}.mdc-switch--disabled .mdc-switch__track::before,.mdc-switch--disabled .mdc-switch__track::after{border-width:var(--mat-slide-toggle-disabled-unselected-track-outline-width, 2px);border-color:var(--mat-slide-toggle-disabled-unselected-track-outline-color, var(--mat-sys-on-surface))}@media(forced-colors: active){.mdc-switch__track{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0);background:var(--mat-slide-toggle-unselected-track-color, var(--mat-sys-surface-variant))}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch--selected .mdc-switch__track::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-slide-toggle-hidden-track-opacity, 0);transition:var(--mat-slide-toggle-hidden-track-transition, opacity 75ms)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-slide-toggle-visible-track-opacity, 1);transition:var(--mat-slide-toggle-visible-track-transition, opacity 75ms)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mat-slide-toggle-unselected-hover-track-color, var(--mat-sys-surface-variant))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mat-slide-toggle-unselected-focus-track-color, var(--mat-sys-surface-variant))}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mat-slide-toggle-unselected-pressed-track-color, var(--mat-sys-surface-variant))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::before,.mdc-switch.mdc-switch--disabled .mdc-switch__track::before{background:var(--mat-slide-toggle-disabled-unselected-track-color, var(--mat-sys-surface-variant))}.mdc-switch__track::after{transform:translateX(-100%);background:var(--mat-slide-toggle-selected-track-color, var(--mat-sys-primary))}[dir=rtl] .mdc-switch__track::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::after{transform:translateX(0)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-slide-toggle-visible-track-opacity, 1);transition:var(--mat-slide-toggle-visible-track-transition, opacity 75ms)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-slide-toggle-hidden-track-opacity, 0);transition:var(--mat-slide-toggle-hidden-track-transition, opacity 75ms)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mat-slide-toggle-selected-hover-track-color, var(--mat-sys-primary))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mat-slide-toggle-selected-focus-track-color, var(--mat-sys-primary))}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mat-slide-toggle-selected-pressed-track-color, var(--mat-sys-primary))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::after,.mdc-switch.mdc-switch--disabled .mdc-switch__track::after{background:var(--mat-slide-toggle-disabled-selected-track-color, var(--mat-sys-on-surface))}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0);width:calc(100% - var(--mat-slide-toggle-handle-width))}[dir=rtl] .mdc-switch__handle-track{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto;transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1);width:var(--mat-slide-toggle-handle-width);height:var(--mat-slide-toggle-handle-height);border-radius:var(--mat-slide-toggle-handle-shape, var(--mat-sys-corner-full))}[dir=rtl] .mdc-switch__handle{left:auto;right:0}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-slide-toggle-unselected-handle-size, 16px);height:var(--mat-slide-toggle-unselected-handle-size, 16px);margin:var(--mat-slide-toggle-unselected-handle-horizontal-margin, 0 8px)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-slide-toggle-unselected-with-icon-handle-horizontal-margin, 0 4px)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-slide-toggle-selected-handle-size, 24px);height:var(--mat-slide-toggle-selected-handle-size, 24px);margin:var(--mat-slide-toggle-selected-handle-horizontal-margin, 0 24px)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-slide-toggle-selected-with-icon-handle-horizontal-margin, 0 24px)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-slide-toggle-with-icon-handle-size, 24px);height:var(--mat-slide-toggle-with-icon-handle-size, 24px)}.mat-mdc-slide-toggle .mdc-switch:active:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-slide-toggle-pressed-handle-size, 28px);height:var(--mat-slide-toggle-pressed-handle-size, 28px)}.mat-mdc-slide-toggle .mdc-switch--selected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-slide-toggle-selected-pressed-handle-horizontal-margin, 0 22px)}.mat-mdc-slide-toggle .mdc-switch--unselected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-slide-toggle-unselected-pressed-handle-horizontal-margin, 0 2px)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-slide-toggle-disabled-selected-handle-opacity, 1)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-slide-toggle-disabled-unselected-handle-opacity, 0.38)}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media(forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mat-slide-toggle-selected-handle-color, var(--mat-sys-on-primary))}.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mat-slide-toggle-selected-hover-handle-color, var(--mat-sys-primary-container))}.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mat-slide-toggle-selected-focus-handle-color, var(--mat-sys-primary-container))}.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mat-slide-toggle-selected-pressed-handle-color, var(--mat-sys-primary-container))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:hover:not(:focus):not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:focus:not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:active .mdc-switch__handle::after,.mdc-switch--selected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mat-slide-toggle-disabled-selected-handle-color, var(--mat-sys-surface))}.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mat-slide-toggle-unselected-handle-color, var(--mat-sys-outline))}.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mat-slide-toggle-unselected-hover-handle-color, var(--mat-sys-on-surface-variant))}.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mat-slide-toggle-unselected-focus-handle-color, var(--mat-sys-on-surface-variant))}.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mat-slide-toggle-unselected-pressed-handle-color, var(--mat-sys-on-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mat-slide-toggle-disabled-unselected-handle-color, var(--mat-sys-on-surface))}.mdc-switch__handle::before{background:var(--mat-slide-toggle-handle-surface-color)}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mat-slide-toggle-handle-elevation-shadow)}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__shadow,.mdc-switch.mdc-switch--disabled .mdc-switch__shadow{box-shadow:var(--mat-slide-toggle-disabled-handle-elevation-shadow)}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1;width:var(--mat-slide-toggle-state-layer-size, 40px);height:var(--mat-slide-toggle-state-layer-size, 40px)}.mdc-switch__ripple::after{content:"";opacity:0}.mdc-switch--disabled .mdc-switch__ripple::after{display:none}.mat-mdc-slide-toggle-disabled-interactive .mdc-switch__ripple::after{display:block}.mdc-switch:hover .mdc-switch__ripple::after{transition:75ms opacity cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:focus .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:active .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:hover:not(:focus) .mdc-switch__ripple::after,.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mat-slide-toggle-unselected-hover-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-slide-toggle-unselected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background:var(--mat-slide-toggle-unselected-focus-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-slide-toggle-unselected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background:var(--mat-slide-toggle-unselected-pressed-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-slide-toggle-unselected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mat-slide-toggle-selected-hover-state-layer-color, var(--mat-sys-primary));opacity:var(--mat-slide-toggle-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background:var(--mat-slide-toggle-selected-focus-state-layer-color, var(--mat-sys-primary));opacity:var(--mat-slide-toggle-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background:var(--mat-slide-toggle-selected-pressed-state-layer-color, var(--mat-sys-primary));opacity:var(--mat-slide-toggle-selected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch__icons{position:relative;height:100%;width:100%;z-index:1;transform:translateZ(0)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__icons{opacity:var(--mat-slide-toggle-disabled-unselected-icon-opacity, 0.38)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__icons{opacity:var(--mat-slide-toggle-disabled-selected-icon-opacity, 0.38)}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--unselected .mdc-switch__icon{width:var(--mat-slide-toggle-unselected-icon-size, 16px);height:var(--mat-slide-toggle-unselected-icon-size, 16px);fill:var(--mat-slide-toggle-unselected-icon-color, var(--mat-sys-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mat-slide-toggle-disabled-unselected-icon-color, var(--mat-sys-surface-variant))}.mdc-switch--selected .mdc-switch__icon{width:var(--mat-slide-toggle-selected-icon-size, 16px);height:var(--mat-slide-toggle-selected-icon-size, 16px);fill:var(--mat-slide-toggle-selected-icon-color, var(--mat-sys-on-primary-container))}.mdc-switch--selected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mat-slide-toggle-disabled-selected-icon-color, var(--mat-sys-on-surface))}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{-webkit-user-select:none;user-select:none;display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-internal-form-field{color:var(--mat-slide-toggle-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-slide-toggle-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-slide-toggle-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-slide-toggle-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-slide-toggle-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-slide-toggle-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mat-slide-toggle-disabled-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-slide-toggle-touch-target{position:absolute;top:50%;left:50%;height:var(--mat-slide-toggle-touch-target-size, 48px);width:100%;transform:translate(-50%, -50%);display:var(--mat-slide-toggle-touch-target-display, block)}[dir=rtl] .mat-mdc-slide-toggle-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}
`],encapsulation:2,changeDetection:0})}return t})(),sn=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=H({type:t});static \u0275inj=D({imports:[Vt,Pt,Pt]})}return t})();function Fn(t,m){if(t&1){let e=F();a(0,"form",15),k("ngSubmit",function(){C(e);let i=u();return x(i.create())}),a(1,"div",16)(2,"mat-form-field",17),k("click",function(i){C(e);let s=u();return x(s.browsePathIfEmpty(i,s.localForm.controls.path))}),a(3,"mat-label"),d(4,"Path to create in"),o(),a(5,"mat-icon",18),d(6,"folder"),o(),h(7,"input",19),a(8,"button",20),k("click",function(i){C(e);let s=u();return x(s.browsePath(i,s.localForm.controls.path))}),d(9),c(10,"translate"),o()(),a(11,"mat-form-field",21)(12,"mat-label"),d(13),c(14,"translate"),o(),h(15,"mat-icon",22)(16,"input",23),o()(),a(17,"button",24),d(18),c(19,"translate"),o()()}if(t&2){let e=u();l("formGroup",e.localForm),n(9),g(p(10,5,"Browse")),n(4),g(p(14,7,"Default branch")),n(4),l("disabled",e.localForm.invalid),n(),g(p(19,9,"Create"))}}function Ln(t,m){if(t&1&&h(0,"app-avatar",38),t&2){let e=u().ngIf;l("email",e.email)}}function zn(t,m){if(t&1&&(a(0,"span",4),d(1),o()),t&2){let e=u().ngIf;l("matTooltip",e.email),n(),g(e.email)}}function An(t,m){if(t&1&&(ne(0),_(1,Ln,1,1,"app-avatar",36)(2,zn,2,2,"span",37),ae()),t&2){let e=m.ngIf;n(),l("ngIf",e.email),n(),l("ngIf",e.email)}}function Gn(t,m){if(t&1&&h(0,"app-avatar",41),t&2){let e=u().$implicit;l("email",e.email)}}function Nn(t,m){if(t&1&&(a(0,"span",4),d(1),o()),t&2){let e=u().$implicit;l("matTooltip",e.email),n(),g(e.email)}}function Dn(t,m){if(t&1&&(a(0,"mat-option",39),_(1,Gn,1,1,"app-avatar",40)(2,Nn,2,2,"span",37),o()),t&2){let e=m.$implicit;l("value",e),n(),l("ngIf",e.email),n(),l("ngIf",e.email)}}function Hn(t,m){if(t&1&&(ne(0),h(1,"img",42),a(2,"span",4),d(3),o(),ae()),t&2){let e=m.ngIf;n(),l("src",e.avatarUrl,me),n(),l("matTooltip",e.name),n(),g(e.name)}}function qn(t,m){if(t&1&&(a(0,"mat-option",39),h(1,"img",42),a(2,"span",4),d(3),o()()),t&2){let e=m.$implicit;l("value",e),n(),l("src",e.avatarUrl,me),n(),l("matTooltip",e.name),n(),g(e.name)}}function $n(t,m){if(t&1){let e=F();a(0,"form",25),k("ngSubmit",function(){C(e);let i=u();return x(i.createGitHub())}),a(1,"div",16)(2,"mat-form-field",26)(3,"mat-label"),d(4),c(5,"translate"),o(),a(6,"mat-select",27)(7,"mat-select-trigger"),_(8,An,3,2,"ng-container",28),o(),_(9,Dn,3,3,"mat-option",29),c(10,"async"),o()(),a(11,"mat-form-field",30),c(12,"async"),a(13,"mat-label"),d(14),c(15,"translate"),o(),a(16,"mat-select",31)(17,"mat-select-trigger"),_(18,Hn,4,3,"ng-container",28),o(),a(19,"mat-option",32),d(20,"None"),o(),_(21,qn,4,4,"mat-option",29),c(22,"async"),o(),a(23,"mat-hint"),d(24),c(25,"translate"),o()(),a(26,"mat-form-field",33)(27,"mat-label"),d(28),c(29,"translate"),o(),a(30,"mat-icon",18),d(31,"short_text"),o(),h(32,"input",34),o(),a(33,"mat-form-field",17),k("click",function(i){C(e);let s=u();return x(s.browsePathIfEmpty(i,s.gitHubForm.controls.path))}),a(34,"mat-label"),d(35),c(36,"translate"),o(),a(37,"mat-icon",18),d(38,"folder"),o(),h(39,"input",19),a(40,"button",20),k("click",function(i){C(e);let s=u();return x(s.browsePath(i,s.gitHubForm.controls.path))}),d(41),c(42,"translate"),o()(),a(43,"mat-form-field",21)(44,"mat-label"),d(45),c(46,"translate"),o(),h(47,"mat-icon",22)(48,"input",23),o()(),a(49,"button",24),d(50),c(51,"translate"),o(),a(52,"mat-slide-toggle",35),d(53),c(54,"translate"),o()()}if(t&2){let e,r=u();l("formGroup",r.gitHubForm),n(4),g(p(5,18,"Credential")),n(4),l("ngIf",r.gitHubForm.controls.credential.value),n(),l("ngForOf",p(10,20,r.validGitHubCredentials)),n(2),$("show",(e=p(12,22,r.validGitHubOrganizations))==null?null:e.length),n(3),g(p(15,24,"!GitHub! Organization")),n(4),l("ngIf",r.gitHubForm.controls.organization.value),n(),l("value",null),n(2),l("ngForOf",p(22,26,r.validGitHubOrganizations)),n(3),g(p(25,28,"Leave blank to create the repository under your own user")),n(4),g(p(29,30,"Name")),n(7),g(p(36,32,"Path to create in")),n(6),g(p(42,34,"Browse")),n(4),g(p(46,36,"Default branch")),n(4),l("disabled",r.gitHubForm.invalid),n(),g(p(51,38,"Create")),n(3),g(p(54,40,"Private !repository!"))}}function jn(t,m){if(t&1&&h(0,"app-avatar",47),t&2){let e=u().ngIf;l("email",e.email)}}function Un(t,m){if(t&1&&(a(0,"span",4),d(1),o()),t&2){let e=u().ngIf;l("matTooltip",e.email),n(),g(e.email)}}function Wn(t,m){if(t&1&&(ne(0),_(1,jn,1,1,"app-avatar",46)(2,Un,2,2,"span",37),ae()),t&2){let e=m.ngIf;n(),l("ngIf",e.email),n(),l("ngIf",e.email)}}function Xn(t,m){if(t&1&&h(0,"app-avatar",49),t&2){let e=u().$implicit;l("email",e.email)}}function Qn(t,m){if(t&1&&(a(0,"span",4),d(1),o()),t&2){let e=u().$implicit;l("matTooltip",e.email),n(),g(e.email)}}function Yn(t,m){if(t&1&&(a(0,"mat-option",39),_(1,Xn,1,1,"app-avatar",48)(2,Qn,2,2,"span",37),o()),t&2){let e=m.$implicit;l("value",e),n(),l("ngIf",e.email),n(),l("ngIf",e.email)}}function Zn(t,m){if(t&1&&h(0,"img",42),t&2){let e=u().ngIf;l("src",e.avatarUrl,me)}}function Kn(t,m){if(t&1&&(ne(0),_(1,Zn,1,1,"img",50),a(2,"span",4),d(3),o(),ae()),t&2){let e=m.ngIf;n(),l("ngIf",e.avatarUrl),n(),l("matTooltip",e.name),n(),g(e.name)}}function Jn(t,m){if(t&1&&h(0,"img",42),t&2){let e=u().$implicit;l("src",e.avatarUrl,me)}}function ea(t,m){if(t&1&&(a(0,"mat-option",39),_(1,Jn,1,1,"img",50),a(2,"span",4),d(3),o()()),t&2){let e=m.$implicit;l("value",e),n(),l("ngIf",e.avatarUrl),n(),l("matTooltip",e.name),n(),g(e.name)}}function ta(t,m){if(t&1){let e=F();a(0,"form",43),k("ngSubmit",function(){C(e);let i=u();return x(i.createGitLab())}),a(1,"div",16)(2,"mat-form-field",26)(3,"mat-label"),d(4),c(5,"translate"),o(),a(6,"mat-select",27)(7,"mat-select-trigger"),_(8,Wn,3,2,"ng-container",28),o(),_(9,Yn,3,3,"mat-option",29),c(10,"async"),o()(),a(11,"mat-form-field",44),c(12,"async"),a(13,"mat-label"),d(14),c(15,"translate"),o(),a(16,"mat-select",45)(17,"mat-select-trigger"),_(18,Kn,4,3,"ng-container",28),o(),a(19,"mat-option",32),d(20,"None"),o(),_(21,ea,4,4,"mat-option",29),c(22,"async"),o(),a(23,"mat-hint"),d(24),c(25,"translate"),o()(),a(26,"mat-form-field",33)(27,"mat-label"),d(28),c(29,"translate"),o(),a(30,"mat-icon",18),d(31,"short_text"),o(),h(32,"input",34),o(),a(33,"mat-form-field",17),k("click",function(i){C(e);let s=u();return x(s.browsePathIfEmpty(i,s.gitLabForm.controls.path))}),a(34,"mat-label"),d(35),c(36,"translate"),o(),a(37,"mat-icon",18),d(38,"folder"),o(),h(39,"input",19),a(40,"button",20),k("click",function(i){C(e);let s=u();return x(s.browsePath(i,s.gitLabForm.controls.path))}),d(41),c(42,"translate"),o()(),a(43,"mat-form-field",21)(44,"mat-label"),d(45),c(46,"translate"),o(),h(47,"mat-icon",22)(48,"input",23),o()(),a(49,"button",24),d(50),c(51,"translate"),o(),a(52,"mat-slide-toggle",35),d(53),c(54,"translate"),o()()}if(t&2){let e,r=u();l("formGroup",r.gitLabForm),n(4),g(p(5,18,"Credential")),n(4),l("ngIf",r.gitLabForm.controls.credential.value),n(),l("ngForOf",p(10,20,r.validGitLabCredentials)),n(2),$("show",(e=p(12,22,r.validGitLabNamespaces))==null?null:e.length),n(3),g(p(15,24,"!GitLab! Namespace")),n(4),l("ngIf",r.gitLabForm.controls.namespace.value),n(),l("value",null),n(2),l("ngForOf",p(22,26,r.validGitLabNamespaces)),n(3),g(p(25,28,"Leave blank to create the repository under your own user")),n(4),g(p(29,30,"Name")),n(7),g(p(36,32,"Path to create in")),n(6),g(p(42,34,"Browse")),n(4),g(p(46,36,"Default branch")),n(4),l("disabled",r.gitLabForm.invalid),n(),g(p(51,38,"Create")),n(3),g(p(54,40,"Private !repository!"))}}function ia(t,m){if(t&1&&h(0,"app-avatar",55),t&2){let e=u().ngIf;l("email",e.email)}}function na(t,m){if(t&1&&(a(0,"span",4),d(1),o()),t&2){let e=u().ngIf;l("matTooltip",e.email),n(),g(e.email)}}function aa(t,m){if(t&1&&(ne(0),_(1,ia,1,1,"app-avatar",54)(2,na,2,2,"span",37),ae()),t&2){let e=m.ngIf;n(),l("ngIf",e.email),n(),l("ngIf",e.email)}}function oa(t,m){if(t&1&&h(0,"app-avatar",57),t&2){let e=u().$implicit;l("email",e.email)}}function ra(t,m){if(t&1&&(a(0,"span",4),d(1),o()),t&2){let e=u().$implicit;l("matTooltip",e.email),n(),g(e.email)}}function la(t,m){if(t&1&&(a(0,"mat-option",39),_(1,oa,1,1,"app-avatar",56)(2,ra,2,2,"span",37),o()),t&2){let e=m.$implicit;l("value",e),n(),l("ngIf",e.email),n(),l("ngIf",e.email)}}function sa(t,m){if(t&1&&h(0,"img",42),t&2){let e=u().ngIf;l("src",e.avatarUrl,me)}}function ca(t,m){if(t&1&&(ne(0),_(1,sa,1,1,"img",50),a(2,"span",4),d(3),o(),ae()),t&2){let e=m.ngIf;n(),l("ngIf",e.avatarUrl),n(),l("matTooltip",e.name),n(),g(e.name)}}function pa(t,m){if(t&1&&h(0,"img",42),t&2){let e=u().$implicit;l("src",e.avatarUrl,me)}}function da(t,m){if(t&1&&(a(0,"mat-option",39),_(1,pa,1,1,"img",50),a(2,"span",4),d(3),o()()),t&2){let e=m.$implicit;l("value",e),n(),l("ngIf",e.avatarUrl),n(),l("matTooltip",e.name),n(),g(e.name)}}function ma(t,m){if(t&1){let e=F();a(0,"form",51),k("ngSubmit",function(){C(e);let i=u();return x(i.createBitbucket())}),a(1,"div",16)(2,"mat-form-field",26)(3,"mat-label"),d(4,"Credential"),o(),a(5,"mat-select",27)(6,"mat-select-trigger"),_(7,aa,3,2,"ng-container",28),o(),_(8,la,3,3,"mat-option",29),c(9,"async"),o()(),a(10,"mat-form-field",52),c(11,"async"),a(12,"mat-label"),d(13),c(14,"translate"),o(),a(15,"mat-select",53)(16,"mat-select-trigger"),_(17,ca,4,3,"ng-container",28),o(),_(18,da,4,4,"mat-option",29),c(19,"async"),o()(),a(20,"mat-form-field",33)(21,"mat-label"),d(22),c(23,"translate"),o(),a(24,"mat-icon",18),d(25,"short_text"),o(),h(26,"input",34),o(),a(27,"mat-form-field",17),k("click",function(i){C(e);let s=u();return x(s.browsePathIfEmpty(i,s.bitbucketForm.controls.path))}),a(28,"mat-label"),d(29),c(30,"translate"),o(),a(31,"mat-icon",18),d(32,"folder"),o(),h(33,"input",19),a(34,"button",20),k("click",function(i){C(e);let s=u();return x(s.browsePath(i,s.bitbucketForm.controls.path))}),d(35),c(36,"translate"),o()(),a(37,"mat-form-field",21)(38,"mat-label"),d(39),c(40,"translate"),o(),h(41,"mat-icon",22)(42,"input",23),o()(),a(43,"button",24),d(44),c(45,"translate"),o(),a(46,"mat-slide-toggle",35),d(47),c(48,"translate"),o()()}if(t&2){let e,r=u();l("formGroup",r.bitbucketForm),n(7),l("ngIf",r.bitbucketForm.controls.credential.value),n(),l("ngForOf",p(9,15,r.validBitbucketCredentials)),n(2),$("show",(e=p(11,17,r.validBitbucketWorkspaces))==null?null:e.length),n(3),g(p(14,19,"!Bitbucket! Workspace")),n(4),l("ngIf",r.bitbucketForm.controls.workspace.value),n(),l("ngForOf",p(19,21,r.validBitbucketWorkspaces)),n(4),g(p(23,23,"Name")),n(7),g(p(30,25,"Path to create in")),n(6),g(p(36,27,"Browse")),n(4),g(p(40,29,"Default branch")),n(4),l("disabled",r.bitbucketForm.invalid),n(),g(p(45,31,"Create")),n(3),g(p(48,33,"Private !repository!"))}}function ga(t,m){t&1&&(a(0,"div",58),h(1,"mat-spinner"),d(2),c(3,"translate"),o()),t&2&&(n(2),G(" ",p(3,1,"Creating...")," "))}var cn=(()=>{class t extends oe(re){constructor(e,r,i,s,M,w,E){super(),this.router=e,this.store=r,this.filesApi=i,this.bitbucketApi=s,this.gitHubApi=M,this.gitLabApi=w,this.repositoriesApi=E,this.view=new q("local"),this.localForm=new _e({path:new P(null,B.required),defaultBranch:new P("main",{nonNullable:!0})}),this.bitbucketForm=new _e({credential:new P(null,B.required),workspace:new P(null,B.required),name:new P(null,B.required),private:new P(!1,{nonNullable:!0,validators:B.required}),path:new P(null,B.required),defaultBranch:new P("main",{nonNullable:!0})}),this.validBitbucketWorkspaces=new q([]),this.gitHubForm=new _e({credential:new P(null,B.required),organization:new P(null),name:new P(null,B.required),private:new P(!1,{nonNullable:!0,validators:B.required}),path:new P(null,B.required),defaultBranch:new P("main",{nonNullable:!0})}),this.validGitHubOrganizations=new q([]),this.gitLabForm=new _e({credential:new P(null,B.required),namespace:new P(null),name:new P(null,B.required),private:new P(!1,{nonNullable:!0,validators:B.required}),path:new P(null,B.required),defaultBranch:new P("main",{nonNullable:!0})}),this.validGitLabNamespaces=new q([]),this.browsePath=(S,O)=>{S.preventDefault(),S.stopPropagation(),this.filesApi.openFolderDialog().pipe(T(this.destroyed$)).subscribe(y=>{y&&O.setValue(y)})},this.browsePathIfEmpty=(S,O)=>{O.value||this.browsePath(S,O)},this.create=()=>{if(this.view.value==="creating")return;let{path:S,defaultBranch:O}=this.localForm.value;if(!S)throw new I(new he);let y=this.view.value;this.view.next("creating"),this.repositoriesApi.createRepository(S,O??"main").pipe(W(f=>tt.matches(f)?A(()=>new I(f)):A(()=>f)),v(()=>this.store.dispatch(new K(S))),v(()=>this.store.dispatch(new j(S))),v(()=>this.store.dispatch(new U(S))),de(()=>{this.view.next(y)})).subscribe(()=>{this.router.navigate(["/standard/default"])})},this.createBitbucket=()=>{if(this.view.value==="creating")return;let{credential:S,workspace:O,name:y,path:f,private:z,defaultBranch:b}=this.bitbucketForm.getRawValue();if(!S)throw new I(new ue(R("Bitbucket")));if(!y)throw new I(new et(R("Bitbucket")));if(!f)throw new I(new he(R("Bitbucket")));if(!O)throw new I(new li);let Q=this.view.value;this.view.next("creating");let fe=[...this.store.selectSnapshot(L.credentials)].find(([Y,Z])=>Z.type==="oauth-bitbucket"&&Z.bitbucketId===S.bitbucketId);if(!fe)throw new I(new ue(R("Bitbucket")));let be=new Map([[this.store.selectSnapshot(L.selectedProfileId),{remotes:{origin:{credentialId:fe[0]}}}]]);this.bitbucketApi.createRepository(pe(ce({},S),{id:S.bitbucketId}),y,z,O.id).pipe(W(Y=>A(()=>new I(new Je(R("Bitbucket"))))),v(Y=>this.repositoriesApi.createRepository(f,b??"main",Y?.links.clone[0]?.href)),v(()=>this.store.dispatch(new K(f,{profiles:be}))),v(()=>this.store.dispatch(new j(f))),v(()=>this.store.dispatch(new U(f))),de(()=>{this.view.next(Q)})).subscribe(()=>{this.router.navigate(["/standard/default"])})},this.createGitHub=()=>{if(this.view.value==="creating")return;let{credential:S,organization:O,name:y,path:f,private:z,defaultBranch:b}=this.gitHubForm.getRawValue();if(!S)throw new I(new ue(R("GitHub")));if(!y)throw new I(new et(R("GitHub")));if(!f)throw new I(new he(R("GitHub")));let Q=this.view.value;this.view.next("creating");let Ge=O?this.gitHubApi.createOrganizationRepository(S.token,O.name,y,z):this.gitHubApi.createRepository(S.token,y,z),be=[...this.store.selectSnapshot(L.credentials)].find(([Z,Rt])=>Rt.type==="oauth-github"&&Rt.gitHubId===S.gitHubId);if(!be)throw new I(new ue(R("GitHub")));let Y=new Map([[this.store.selectSnapshot(L.selectedProfileId),{remotes:{origin:{credentialId:be[0]}}}]]);Ge.pipe(W(Z=>A(()=>new I(new Je(R("GitHub"))))),v(Z=>this.repositoriesApi.createRepository(f,b??"main",Z?.clone_url)),v(()=>this.store.dispatch(new K(f,{profiles:Y}))),v(()=>this.store.dispatch(new j(f))),v(()=>this.store.dispatch(new U(f))),de(()=>{this.view.next(Q)})).subscribe(()=>{this.router.navigate(["/standard/default"])})},this.createGitLab=()=>{if(this.view.value==="creating")return;let{credential:S,namespace:O,name:y,path:f,private:z,defaultBranch:b}=this.gitLabForm.getRawValue();if(!S)throw new I(new ue(R("GitLab")));if(!y)throw new I(new et(R("GitLab")));if(!f)throw new I(new he(R("GitLab")));let Q=this.view.value;this.view.next("creating");let fe=[...this.store.selectSnapshot(L.credentials)].find(([Y,Z])=>Z.type==="oauth-gitlab"&&Z.gitLabId===S.gitLabId);if(!fe)throw new I(new ue(R("GitLab")));let be=new Map([[this.store.selectSnapshot(L.selectedProfileId),{remotes:{origin:{credentialId:fe[0]}}}]]);this.gitLabApi.createProject(pe(ce({},S),{id:S.gitLabId}),y,z,O?.id).pipe(W(Y=>A(()=>new I(new Je(R("GitLab"))))),v(Y=>this.repositoriesApi.createRepository(f,b??"main",Y?.http_url_to_repo)),v(()=>this.store.dispatch(new K(f,{profiles:be}))),v(()=>this.store.dispatch(new j(f))),v(()=>this.store.dispatch(new U(f))),de(()=>{this.view.next(Q)})).subscribe(()=>{this.router.navigate(["/standard/default"])})}}ngOnInit(){this.validBitbucketCredentials=this.allCredentials.pipe(N(e=>[...e.values()].filter(r=>r.type==="oauth-bitbucket")),T(this.destroyed$),$e(1)),this.bitbucketForm.controls.credential.valueChanges.pipe(we(this.bitbucketForm.controls.credential.value),v(e=>e?this.bitbucketApi.getWorkspaces(pe(ce({},e),{id:e.bitbucketId})).pipe(N(r=>(r??[]).sort((i,s)=>i.permission==="owner"?-1:0).map(({workspace:i})=>({id:i.uuid,name:i.name,avatarUrl:i.links.avatar.href})))):ee([])),T(this.destroyed$)).subscribe(e=>{this.validBitbucketWorkspaces.next(e),!this.bitbucketForm.controls.workspace.value&&e[0]&&this.bitbucketForm.controls.workspace.setValue(e[0])}),this.validBitbucketCredentials.pipe(qe(1)).subscribe(e=>{this.bitbucketForm.controls.credential.setValue(e[0]??null)}),this.validGitHubCredentials=this.allCredentials.pipe(N(e=>[...e.values()].filter(r=>r.type==="oauth-github")),T(this.destroyed$),$e(1)),this.gitHubForm.controls.credential.valueChanges.pipe(we(this.gitHubForm.controls.credential.value),v(e=>e?this.gitHubApi.getOrganizations(e.token).pipe(N(r=>r.map(i=>({name:i.login,avatarUrl:i.avatar_url})))):ee([])),T(this.destroyed$)).subscribe(e=>{this.validGitHubOrganizations.next(e)}),this.validGitHubCredentials.pipe(qe(1)).subscribe(e=>{this.gitHubForm.controls.credential.setValue(e[0]??null)}),this.validGitLabCredentials=this.allCredentials.pipe(N(e=>[...e.values()].filter(r=>r.type==="oauth-gitlab")),T(this.destroyed$),$e(1)),this.gitLabForm.controls.credential.valueChanges.pipe(we(this.gitLabForm.controls.credential.value),v(e=>e?this.gitLabApi.getNamespaces(pe(ce({},e),{id:e.gitLabId})).pipe(N(r=>r.filter(i=>i.kind==="group").map(i=>({id:i.id,name:i.name,avatarUrl:i.avatar_url})))):ee([])),T(this.destroyed$)).subscribe(e=>{this.validGitLabNamespaces.next(e)}),this.validGitLabCredentials.pipe(qe(1)).subscribe(e=>{this.gitLabForm.controls.credential.setValue(e[0]??null)})}static{this.\u0275fac=function(r){return new(r||t)(V(xe),V(Se),V(Ie),V(pt),V(dt),V(mt),V(ct))}}static{this.\u0275cmp=X({type:t,selectors:[["app-create-repository-view"]],standalone:!1,features:[ie],decls:49,vars:71,consts:[["tabPanel",""],["mat-tab-nav-bar","",3,"tabPanel","mat-stretch-tabs","disablePagination"],["mat-tab-link","",3,"click","active"],[1,"prefix"],[3,"matTooltip"],["mat-tab-link","",3,"click","active","disabled"],["svgIcon","github",1,"prefix"],["svgIcon","gitlab",1,"prefix"],["svgIcon","bitbucket",1,"prefix"],[3,"ngSwitch"],["class","local",3,"formGroup","ngSubmit",4,"ngSwitchCase"],["class","github",3,"formGroup","ngSubmit",4,"ngSwitchCase"],["class","gitlab",3,"formGroup","ngSubmit",4,"ngSwitchCase"],["class","bitbucket",3,"formGroup","ngSubmit",4,"ngSwitchCase"],["class","cloning",4,"ngSwitchCase"],[1,"local",3,"ngSubmit","formGroup"],[1,"form-fields"],[1,"path",3,"click"],["matPrefix",""],["type","text","matInput","","required","","formControlName","path"],["type","button","matSuffix","","mat-button","",1,"path-browse-button",3,"click"],[1,"default-branch"],["matPrefix","","svgIcon","source-branch"],["type","text","placeholder","main","matInput","","formControlName","defaultBranch"],["type","submit","mat-raised-button","","color","primary",3,"disabled"],[1,"github",3,"ngSubmit","formGroup"],[1,"credential-selector"],["formControlName","credential"],[4,"ngIf"],["class","create-repository-select-option",3,"value",4,"ngFor","ngForOf"],[1,"organization-selector"],["formControlName","organization"],[3,"value"],[1,"name"],["type","text","matInput","","formControlName","name"],["formControlName","private"],["type","github",3,"email",4,"ngIf"],[3,"matTooltip",4,"ngIf"],["type","github",3,"email"],[1,"create-repository-select-option",3,"value"],["class","create-repository-select-avatar","type","github",3,"email",4,"ngIf"],["type","github",1,"create-repository-select-avatar",3,"email"],[3,"src"],[1,"gitlab",3,"ngSubmit","formGroup"],[1,"namespace-selector"],["formControlName","namespace"],["type","gitlab",3,"email",4,"ngIf"],["type","gitlab",3,"email"],["class","create-repository-select-avatar","type","gitlab",3,"email",4,"ngIf"],["type","gitlab",1,"create-repository-select-avatar",3,"email"],[3,"src",4,"ngIf"],[1,"bitbucket",3,"ngSubmit","formGroup"],[1,"workspace-selector"],["formControlName","workspace"],["type","bitbucket",3,"email",4,"ngIf"],["type","bitbucket",3,"email"],["class","create-repository-select-avatar","type","bitbucket",3,"email",4,"ngIf"],["type","bitbucket",1,"create-repository-select-avatar",3,"email"],[1,"cloning"]],template:function(r,i){if(r&1){let s=F();a(0,"nav",1)(1,"a",2),c(2,"async"),k("click",function(){return C(s),x(i.view.next("local"))}),a(3,"mat-icon",3),d(4,"desktop_windows"),o(),d(5),c(6,"translate"),o(),a(7,"span",4),c(8,"async"),c(9,"nullEmpty"),c(10,"translate"),a(11,"a",5),c(12,"async"),c(13,"async"),c(14,"nullEmpty"),k("click",function(){return C(s),x(i.view.next("github"))}),h(15,"mat-icon",6),d(16),c(17,"translate"),o()(),a(18,"span",4),c(19,"async"),c(20,"nullEmpty"),c(21,"translate"),a(22,"a",5),c(23,"async"),c(24,"async"),c(25,"nullEmpty"),k("click",function(){return C(s),x(i.view.next("gitlab"))}),h(26,"mat-icon",7),d(27),c(28,"translate"),o()(),a(29,"span",4),c(30,"async"),c(31,"nullEmpty"),c(32,"translate"),a(33,"a",5),c(34,"async"),c(35,"async"),c(36,"nullEmpty"),k("click",function(){return C(s),x(i.view.next("bitbucket"))}),h(37,"mat-icon",8),d(38),c(39,"translate"),o()()(),a(40,"mat-tab-nav-panel",null,0),ne(42,9),c(43,"async"),_(44,Fn,20,11,"form",10)(45,$n,55,42,"form",11)(46,ta,55,42,"form",12)(47,ma,49,35,"form",13)(48,ga,4,3,"div",14),ae(),o()}if(r&2){let s=Ye(41);l("tabPanel",s)("mat-stretch-tabs",!1)("disablePagination",!0),n(),l("active",p(2,23,i.view)==="local"),n(4),G(" ",p(6,25,"Local")," "),n(2),l("matTooltip",p(9,29,p(8,27,i.validGitHubCredentials))?"":p(10,31,"To create repositories on GitHub, go to settings and add an integration")),n(4),l("active",p(12,33,i.view)==="github")("disabled",!p(14,37,p(13,35,i.validGitHubCredentials))),n(5),G(" ",p(17,39,"GitHub")," "),n(2),l("matTooltip",p(20,43,p(19,41,i.validGitLabCredentials))?"":p(21,45,"To create repositories on GitLab, go to settings and add an integration")),n(4),l("active",p(23,47,i.view)==="gitlab")("disabled",!p(25,51,p(24,49,i.validGitLabCredentials))),n(5),G(" ",p(28,53,"GitLab")," "),n(2),l("matTooltip",p(31,57,p(30,55,i.validBitbucketCredentials))?"":p(32,59,"To create repositories on Bitbucket, go to settings and add an integration")),n(4),l("active",p(34,61,i.view)==="bitbucket")("disabled",!p(36,65,p(35,63,i.validBitbucketCredentials))),n(5),G(" ",p(39,67,"Bitbucket")," "),n(4),l("ngSwitch",p(43,69,i.view)),n(2),l("ngSwitchCase","local"),n(),l("ngSwitchCase","github"),n(),l("ngSwitchCase","gitlab"),n(),l("ngSwitchCase","bitbucket"),n(),l("ngSwitchCase","creating")}},dependencies:[Te,Ve,Ei,Re,Ee,Le,wt,vt,Ti,bt,Vt,Wi,Qi,Xi,Ke,ye,ei,ti,nt,ke,Me,it,rt,at,ot,Oe,Fe,st,ut,Ce,ft,le],styles:["[_nghost-%COMP%]{display:block;padding:10px}nav[_ngcontent-%COMP%]{margin-bottom:10px}nav[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]{margin-right:10px}.local[_ngcontent-%COMP%], .github[_ngcontent-%COMP%], .gitlab[_ngcontent-%COMP%], .bitbucket[_ngcontent-%COMP%]{max-width:1010px}.local[_ngcontent-%COMP%]   .form-fields[_ngcontent-%COMP%], .github[_ngcontent-%COMP%]   .form-fields[_ngcontent-%COMP%], .gitlab[_ngcontent-%COMP%]   .form-fields[_ngcontent-%COMP%], .bitbucket[_ngcontent-%COMP%]   .form-fields[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.local[_ngcontent-%COMP%]   .path-browse-button[_ngcontent-%COMP%], .github[_ngcontent-%COMP%]   .path-browse-button[_ngcontent-%COMP%], .gitlab[_ngcontent-%COMP%]   .path-browse-button[_ngcontent-%COMP%], .bitbucket[_ngcontent-%COMP%]   .path-browse-button[_ngcontent-%COMP%]{margin-right:10px}.local[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%], .local[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%], .github[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%], .github[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%], .gitlab[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%], .gitlab[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%], .bitbucket[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%], .bitbucket[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{width:500px}.local[_ngcontent-%COMP%]   mat-select-trigger[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%], .github[_ngcontent-%COMP%]   mat-select-trigger[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%], .gitlab[_ngcontent-%COMP%]   mat-select-trigger[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%], .bitbucket[_ngcontent-%COMP%]   mat-select-trigger[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%]{height:20px;width:20px;line-height:0;vertical-align:middle;margin-right:5px}.local[_ngcontent-%COMP%]   mat-select-trigger[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .github[_ngcontent-%COMP%]   mat-select-trigger[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .gitlab[_ngcontent-%COMP%]   mat-select-trigger[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .bitbucket[_ngcontent-%COMP%]   mat-select-trigger[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:20px;width:20px;display:inline-block;border-radius:10%;vertical-align:middle;margin-right:5px}.local[_ngcontent-%COMP%]   .organization-selector[_ngcontent-%COMP%], .github[_ngcontent-%COMP%]   .organization-selector[_ngcontent-%COMP%], .gitlab[_ngcontent-%COMP%]   .organization-selector[_ngcontent-%COMP%], .bitbucket[_ngcontent-%COMP%]   .organization-selector[_ngcontent-%COMP%]{display:none}.local[_ngcontent-%COMP%]   .organization-selector.show[_ngcontent-%COMP%], .github[_ngcontent-%COMP%]   .organization-selector.show[_ngcontent-%COMP%], .gitlab[_ngcontent-%COMP%]   .organization-selector.show[_ngcontent-%COMP%], .bitbucket[_ngcontent-%COMP%]   .organization-selector.show[_ngcontent-%COMP%]{display:block}.local[_ngcontent-%COMP%]   mat-slide-toggle[_ngcontent-%COMP%], .github[_ngcontent-%COMP%]   mat-slide-toggle[_ngcontent-%COMP%], .gitlab[_ngcontent-%COMP%]   mat-slide-toggle[_ngcontent-%COMP%], .bitbucket[_ngcontent-%COMP%]   mat-slide-toggle[_ngcontent-%COMP%]{margin-left:20px}"],changeDetection:0})}}return ve([Pe(L.credentials)],t.prototype,"allCredentials",void 0),t})();var pn=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=H({type:t})}static{this.\u0275inj=D({imports:[Be,ze,yt,Ae,sn,Yi,se]})}}return t})();function _a(t,m){if(t&1){let e=F();a(0,"button",12),k("click",function(){C(e);let i=u(2);return x(i.searchControl.setValue(null))}),a(1,"mat-icon"),d(2,"close"),o()()}}function fa(t,m){if(t&1&&(a(0,"mat-form-field",8)(1,"mat-label"),d(2),c(3,"translate"),o(),a(4,"span",9)(5,"mat-icon"),d(6,"search"),o(),d(7,"\xA0"),o(),h(8,"input",10),_(9,_a,3,0,"button",11),o()),t&2){let e=u();n(2),g(p(3,3,"Search")),n(6),l("formControl",e.searchControl),n(),l("ngIf",e.searchControl.value)}}function ba(t,m){if(t&1){let e=F();a(0,"mat-card",4)(1,"mat-card-title")(2,"mat-icon"),d(3,"history"),o(),d(4),c(5,"translate"),o(),a(6,"mat-card-content")(7,"app-repository-history-view",13),k("clicked",function(i){C(e);let s=u();return x(s.openRecent(i))})("dragStarted",function(i){C(e);let s=u();return x(s.dragstartListener(i[0],i[1]))}),o()()()}t&2&&(n(4),G(" ",p(5,1,"Recently opened")))}var dn=(()=>{class t extends oe(re){constructor(e,r,i){super(),this.router=e,this.store=r,this.filesApi=i,this.searchControl=new P(null),this.openBookmark=s=>{Hi(s)||this.store.dispatch(new j(s.id)).pipe(v(()=>this.store.dispatch(new U(s.id))),T(this.destroyed$)).subscribe(()=>{this.router.navigate(["/standard/default"])})},this.openRecent=s=>{this.store.dispatch(new j(s)).pipe(v(()=>this.store.dispatch(new U(s))),T(this.destroyed$)).subscribe(()=>{this.router.navigate(["/standard/default"])})},this.openFromDisk=()=>{this.filesApi.openFolderDialog().pipe(T(this.destroyed$)).subscribe(s=>{s&&this.store.dispatch(new K(s)).pipe(v(()=>this.store.dispatch(new j(s))),v(()=>this.store.dispatch(new U(s))),T(this.destroyed$)).subscribe(()=>{this.router.navigate(["/standard/default"])})})},this.dragstartListener=(s,M)=>{s.dataTransfer&&(s.dataTransfer.setData("app/repository",M),s.dataTransfer.effectAllowed="move")}}static{this.\u0275fac=function(r){return new(r||t)(V(xe),V(Se),V(Ie))}}static{this.\u0275cmp=X({type:t,selectors:[["app-open-repository-view"]],standalone:!1,features:[ie],decls:22,vars:12,consts:[["type","button","mat-flat-button","",1,"open-from-disk-button",3,"click"],["class","search-box",4,"ngIf"],["id","open-repository-view"],["min","210px"],["appearance","outlined"],[3,"nodeClick"],["min","300px"],["appearance","outlined",4,"ngIf"],[1,"search-box"],["matPrefix",""],["matInput","","type","text",3,"formControl"],["type","button","matSuffix","","class","app-icon-button-md",3,"click",4,"ngIf"],["type","button","matSuffix","",1,"app-icon-button-md",3,"click"],[3,"clicked","dragStarted"]],template:function(r,i){r&1&&(a(0,"header")(1,"button",0),k("click",function(){return i.openFromDisk()}),a(2,"mat-icon"),d(3,"folder_open"),o(),d(4),c(5,"translate"),o(),_(6,fa,10,5,"mat-form-field",1),o(),a(7,"main")(8,"app-grid",2)(9,"app-grid-cell",3)(10,"mat-card",4)(11,"mat-card-title")(12,"mat-icon"),d(13,"bookmarks"),o(),d(14),c(15,"translate"),o(),a(16,"mat-card-content")(17,"app-repository-bookmarks-view",5),k("nodeClick",function(M){return i.openBookmark(M)}),o()()()(),a(18,"app-grid-cell",6),_(19,ba,8,3,"mat-card",7),c(20,"async"),c(21,"nullEmpty"),o()()()),r&2&&(n(4),G(" ",p(5,4,"Open from disk")," "),n(2),l("ngIf",!1),n(8),G(" ",p(15,6,"Bookmarks")),n(5),l("ngIf",p(21,10,p(20,8,i.recentRepositories))))},dependencies:[Te,Ve,Re,Ee,Le,ye,ke,Me,bi,Oe,Oi,Ri,Vi,Fe,ht,_t,qi,ji,Ce,ft,le],styles:["header[_ngcontent-%COMP%]{margin:10px 10px 0;display:flex;align-items:baseline}header[_ngcontent-%COMP%]   .open-from-disk-button[_ngcontent-%COMP%]{margin-bottom:26px;gap:5px}header[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{flex:auto;margin-left:10px}main[_ngcontent-%COMP%]{padding:0 5px 10px}main[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{margin:0 5px;padding:16px}main[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:0}app-repository-bookmarks-view[_ngcontent-%COMP%], app-repository-history-view[_ngcontent-%COMP%]{display:block;margin-top:10px}"],changeDetection:0})}}return ve([Pe(Li.recentRepositories)],t.prototype,"recentRepositories",void 0),t})();var mn=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=H({type:t})}static{this.\u0275inj=D({imports:[Be,ze,se,$i,Ui]})}}return t})();var va=()=>["./open"],wa=()=>["./clone"],ya=()=>["./create"],gn=(()=>{class t extends oe(re){static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Dt(t)))(i||t)}})()}static{this.\u0275cmp=X({type:t,selectors:[["ng-component"]],standalone:!1,features:[ie],decls:14,vars:15,consts:[["id","open-repository-layout"],["min","150px"],[1,"links"],["routerLinkActive","active",3,"routerLink"],["min","510px"]],template:function(r,i){r&1&&(a(0,"app-grid",0)(1,"app-grid-cell",1)(2,"mat-list",2)(3,"mat-list-item",3),d(4),c(5,"translate"),o(),a(6,"mat-list-item",3),d(7),c(8,"translate"),o(),a(9,"mat-list-item",3),d(10),c(11,"translate"),o()()(),a(12,"app-grid-cell",4),h(13,"router-outlet"),o()()),r&2&&(n(3),l("routerLink",Ze(12,va)),n(),g(p(5,6,"Open")),n(2),l("routerLink",Ze(13,wa)),n(),g(p(8,8,"Clone")),n(2),l("routerLink",Ze(14,ya)),n(),g(p(11,10,"Create")))},dependencies:[Si,Pi,ht,_t,ni,ai,oi,le],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:calc(100% - 50px)}.links[_ngcontent-%COMP%]{padding-top:0}.links[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]{outline:none;cursor:pointer}.dark-theme[_nghost-%COMP%]   .links[_ngcontent-%COMP%]   mat-list-item.active[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .links[_ngcontent-%COMP%]   mat-list-item.active[_ngcontent-%COMP%]{background:#78909c}.light-theme[_nghost-%COMP%]   .links[_ngcontent-%COMP%]   mat-list-item.active[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .links[_ngcontent-%COMP%]   mat-list-item.active[_ngcontent-%COMP%]{background:#cfd8dc}"],changeDetection:0})}}return t})();var Ca=[{path:"",component:gn,children:[{path:"open",component:dn},{path:"clone",component:rn},{path:"create",component:cn},{path:"",redirectTo:"open",pathMatch:"full"}]}],un=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=H({type:t})}static{this.\u0275inj=D({imports:[St.forChild(Ca),St]})}}return t})();var mr=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=H({type:t})}static{this.\u0275inj=D({imports:[Ii,Ae,se,ln,pn,mn,un]})}}return t})();export{mr as OpenRepositoryLayoutModule};
